/*!-----------------------------------------------------------
 * Copyright (c) Microsoft Corporation. All rights reserved.
 * Version: 0.42.0-rc1(e7d7a5b072e74702a912a4c855a3bda21a7757e7)
 * Released under the MIT license
 * https://github.com/microsoft/vscode/blob/main/LICENSE.txt
 *-----------------------------------------------------------*/(function(){var ne=["exports","require","vs/base/common/lifecycle","vs/nls","vs/nls!vs/editor/editor.main","vs/editor/common/core/range","vs/base/common/event","vs/base/browser/dom","vs/platform/instantiation/common/instantiation","vs/base/common/errors","vs/css!vs/editor/editor.main","vs/base/common/strings","vs/editor/common/core/position","vs/base/common/async","vs/base/common/arrays","vs/platform/contextkey/common/contextkey","vs/editor/browser/editorExtensions","vs/base/common/platform","vs/editor/common/services/languageFeatures","vs/base/common/cancellation","vs/base/common/types","vs/editor/common/editorContextKeys","vs/base/common/uri","vs/platform/theme/common/themeService","vs/editor/common/core/selection","vs/base/common/codicons","vs/base/common/themables","vs/platform/commands/common/commands","vs/platform/configuration/common/configuration","vs/editor/common/languages","vs/platform/actions/common/actions","vs/platform/theme/common/colorRegistry","vs/editor/common/languages/languageConfigurationRegistry","vs/editor/browser/services/codeEditorService","vs/platform/keybinding/common/keybinding","vs/base/browser/fastDomNode","vs/editor/common/config/editorOptions","vs/platform/registry/common/platform","vs/base/common/color","vs/base/common/actions","vs/editor/common/model/textModel","vs/editor/common/languages/language","vs/base/common/observable","vs/platform/notification/common/notification","vs/base/browser/keyboardEvent","vs/base/common/resources","vs/base/common/iterator","vs/base/common/objects","vs/editor/common/model","vs/base/browser/ui/aria/aria","vs/platform/instantiation/common/extensions","vs/editor/common/services/model","vs/base/browser/browser","vs/editor/browser/view/viewPart","vs/base/common/network","vs/base/common/htmlContent","vs/platform/opener/common/opener","vs/platform/contextview/browser/contextView","vs/base/common/stopwatch","vs/editor/browser/config/domFontInfo","vs/base/browser/mouseEvent","vs/base/browser/touch","vs/platform/theme/common/iconRegistry","vs/base/common/keyCodes","vs/base/common/linkedList","vs/base/common/map","vs/editor/common/core/lineRange","vs/editor/common/viewModel","vs/base/browser/ui/actionbar/actionbar","vs/editor/common/services/resolverService","vs/platform/log/common/log","vs/platform/quickinput/common/quickInput","vs/base/common/filters","vs/editor/common/core/editOperation","vs/editor/common/cursorCommon","vs/base/browser/ui/scrollbar/scrollableElement","vs/editor/common/services/languageFeatureDebounce","vs/platform/progress/common/progress","vs/editor/common/languages/modesRegistry","vs/platform/telemetry/common/telemetry","vs/editor/common/core/editorColorRegistry","vs/base/browser/event","vs/editor/common/core/cursorColumns","vs/base/browser/ui/widget","vs/platform/accessibility/common/accessibility","vs/base/common/assert","vs/editor/common/tokens/lineTokens","vs/platform/storage/common/storage","vs/platform/theme/common/theme","vs/base/browser/trustedTypes","vs/editor/common/core/offsetRange","vs/editor/common/model/bracketPairsTextModelPart/bracketPairsTree/length","vs/base/common/path","vs/editor/common/core/stringBuilder","vs/editor/common/standaloneStrings","vs/editor/common/viewLayout/viewLineRenderer","vs/platform/clipboard/common/clipboardService","vs/platform/markers/common/markers","vs/platform/configuration/common/configurationRegistry","vs/base/common/functional","vs/base/common/lazy","vs/base/common/severity","vs/editor/browser/widget/diffEditorWidget2/utils","vs/editor/contrib/hover/browser/hoverTypes","vs/editor/contrib/editorState/browser/editorState","vs/platform/theme/browser/defaultStyles","vs/base/common/decorators","vs/base/common/mime","vs/editor/browser/stableEditorScroll","vs/editor/common/diff/linesDiffComputer","vs/editor/common/languages/languageConfiguration","vs/editor/common/textModelEvents","vs/editor/browser/view/dynamicViewOverlay","vs/editor/contrib/codeAction/common/types","vs/base/browser/ui/list/listWidget","vs/editor/common/services/editorWorker","vs/platform/audioCues/browser/audioCueService","vs/editor/contrib/markdownRenderer/browser/markdownRenderer","vs/platform/keybinding/common/keybindingsRegistry","vs/base/common/keybindings","vs/base/common/iconLabels","vs/editor/common/core/characterClassifier","vs/editor/common/core/eolCounter","vs/editor/common/commands/replaceCommand","vs/editor/common/encodedTokenAttributes","vs/editor/common/languages/supports","vs/editor/common/model/bracketPairsTextModelPart/bracketPairsTree/smallImmutableSet","vs/editor/common/viewLayout/lineDecorations","vs/editor/contrib/snippet/browser/snippetParser","vs/base/browser/ui/iconLabel/iconLabels","vs/base/browser/ui/sash/sash","vs/base/browser/ui/actionbar/actionViewItems","vs/editor/browser/services/bulkEditService","vs/editor/standalone/common/standaloneTheme","vs/platform/layout/browser/layoutService","vs/editor/contrib/suggest/browser/suggest","vs/platform/quickinput/common/quickAccess","vs/editor/contrib/codeAction/browser/codeAction","vs/editor/contrib/peekView/browser/peekView","vs/base/browser/ui/tree/tree","vs/base/common/buffer","vs/base/common/numbers","vs/base/common/observableInternal/logging","vs/base/common/hash","vs/editor/browser/view/renderingContext","vs/editor/common/config/editorZoom","vs/editor/common/core/wordCharacterClassifier","vs/editor/common/core/wordHelper","vs/editor/common/editorCommon","vs/editor/common/editorFeatures","vs/editor/common/viewEventHandler","vs/editor/contrib/inlineCompletions/browser/utils","vs/base/browser/globalPointerMoveMonitor","vs/base/browser/ui/toggle/toggle","vs/editor/common/languages/nullTokenize","vs/editor/contrib/gotoSymbol/browser/referencesModel","vs/platform/dialogs/common/dialogs","vs/platform/instantiation/common/serviceCollection","vs/platform/label/common/label","vs/editor/browser/editorDom","vs/platform/actions/browser/menuEntryActionViewItem","vs/editor/browser/widget/codeEditorWidget","vs/editor/browser/widget/embeddedCodeEditorWidget","vs/platform/workspace/common/workspace","vs/base/common/idGenerator","vs/base/common/observableInternal/base","vs/base/common/range","vs/base/common/scrollable","vs/base/common/diff/diff","vs/base/common/uint","vs/base/common/uuid","vs/base/common/dataTransfer","vs/base/browser/ui/codicons/codiconStyles","vs/base/browser/ui/mouseCursor/mouseCursor","vs/css!vs/platform/quickinput/browser/media/quickInput","vs/editor/common/core/textModelDefaults","vs/editor/common/diff/algorithms/diffAlgorithm","vs/editor/browser/editorBrowser","vs/editor/common/cursor/cursorWordOperations","vs/editor/common/model/bracketPairsTextModelPart/bracketPairsTree/beforeEditPositionMapper","vs/editor/common/model/bracketPairsTextModelPart/bracketPairsTree/ast","vs/editor/common/model/textModelSearch","vs/editor/contrib/folding/browser/foldingRanges","vs/base/browser/markdownRenderer","vs/base/browser/ui/tree/abstractTree","vs/editor/browser/controller/textAreaInput","vs/editor/contrib/gotoSymbol/browser/link/clickLinkGesture","vs/editor/common/services/textResourceConfiguration","vs/editor/contrib/documentSymbols/browser/outlineModel","vs/editor/browser/coreCommands","vs/editor/contrib/message/browser/messageController","vs/platform/list/browser/listService","vs/platform/undoRedo/common/undoRedo","vs/editor/contrib/find/browser/findModel","vs/editor/contrib/snippet/browser/snippetController2","vs/base/browser/ui/scrollbar/scrollbarState","vs/base/common/collections","vs/base/browser/dnd","vs/base/common/ternarySearchTree","vs/css!vs/editor/contrib/colorPicker/browser/colorPicker","vs/editor/browser/config/elementSizeObserver","vs/editor/browser/config/tabFocus","vs/editor/common/core/indentation","vs/editor/common/cursor/cursorMoveOperations","vs/editor/common/cursor/cursorDeleteOperations","vs/editor/common/cursor/cursorMoveCommands","vs/editor/common/model/bracketPairsTextModelPart/bracketPairsTree/tokenizer","vs/editor/common/model/utils","vs/editor/common/standalone/standaloneEnums","vs/editor/common/textModelGuides","vs/editor/browser/viewParts/glyphMargin/glyphMargin","vs/editor/common/viewEvents","vs/editor/common/viewModel/overviewZoneManager","vs/editor/common/viewModelEventDispatcher","vs/editor/contrib/inlineCompletions/browser/commandIds","vs/editor/contrib/inlineCompletions/browser/ghostText","vs/base/common/keybindingLabels","vs/base/browser/canIUse","vs/base/browser/ui/tree/indexTreeModel","vs/base/browser/ui/tree/objectTreeModel","vs/base/common/extpath","vs/base/common/marshalling","vs/base/browser/ui/keybindingLabel/keybindingLabel","vs/base/browser/ui/resizable/resizable","vs/base/browser/ui/scrollbar/scrollbarArrow","vs/base/browser/ui/list/listView","vs/base/browser/ui/iconLabel/iconLabel","vs/base/browser/ui/inputbox/inputBox","vs/base/browser/ui/findinput/findInput","vs/editor/browser/view/viewLayer","vs/editor/common/languages/supports/richEditBrackets","vs/editor/common/config/fontInfo","vs/platform/instantiation/common/descriptors","vs/editor/common/services/markerDecorations","vs/editor/common/services/semanticTokensStyling","vs/editor/contrib/inlineCompletions/browser/inlineCompletionContextKeys","vs/editor/contrib/parameterHints/browser/provideSignatureHelp","vs/editor/browser/widget/diffNavigator","vs/platform/contextkey/common/contextkeys","vs/platform/environment/common/environment","vs/platform/jsonschemas/common/jsonContributionRegistry","vs/editor/common/config/editorConfigurationSchema","vs/editor/browser/services/editorWorkerService","vs/editor/common/languages/autoIndent","vs/editor/common/languages/enterAction","vs/editor/common/commands/shiftCommand","vs/editor/common/cursor/cursorTypeOperations","vs/editor/contrib/gotoSymbol/browser/goToSymbol","vs/editor/contrib/hover/browser/markdownHoverParticipant","vs/editor/contrib/symbolIcons/browser/symbolIcons","vs/editor/contrib/codeAction/browser/codeActionController","vs/editor/browser/viewParts/lines/viewLine","vs/editor/common/services/semanticTokensProviderStyling","vs/editor/contrib/inlineCompletions/browser/inlineCompletionsHintsWidget","vs/editor/browser/widget/diffEditorWidget","vs/editor/contrib/folding/browser/folding","vs/editor/contrib/inlineProgress/browser/inlineProgress","vs/editor/contrib/gotoSymbol/browser/goToCommands","vs/editor/contrib/inlineCompletions/browser/inlineCompletionsController","vs/editor/standalone/browser/standaloneServices","vs/base/browser/performance","vs/base/common/cache","vs/base/common/observableInternal/autorun","vs/base/common/ime","vs/base/common/symbols","vs/css!vs/base/browser/ui/actionbar/actionbar","vs/css!vs/base/browser/ui/dropdown/dropdown","vs/css!vs/base/browser/ui/findinput/findInput","vs/css!vs/base/browser/ui/list/list","vs/css!vs/platform/actionWidget/browser/actionWidget","vs/editor/browser/viewParts/minimap/minimapCharSheet","vs/editor/common/config/diffEditor","vs/editor/browser/view/viewUserInputEvents","vs/editor/browser/controller/textAreaState","vs/editor/common/core/rgba","vs/editor/common/cursor/cursorAtomicMoveOperations","vs/editor/common/diff/advancedLinesDiffComputer","vs/editor/common/editorAction","vs/editor/common/model/bracketPairsTextModelPart/bracketPairsTree/combineTextEditInfos","vs/editor/common/model/bracketPairsTextModelPart/bracketPairsTree/parser","vs/editor/common/model/bracketPairsTextModelPart/bracketPairsTree/brackets","vs/editor/common/model/prefixSumComputer","vs/editor/common/model/textModelPart","vs/editor/common/model/pieceTreeTextBuffer/pieceTreeBase","vs/editor/common/modelLineProjectionData","vs/editor/common/services/treeViewsDnd","vs/editor/common/services/unicodeTextModelHighlighter","vs/editor/common/model/guidesTextModelPart","vs/editor/common/tokens/contiguousMultilineTokensBuilder","vs/editor/browser/viewParts/margin/margin","vs/editor/contrib/comment/browser/blockCommentCommand","vs/editor/contrib/folding/browser/foldingModel","vs/editor/contrib/folding/browser/indentRangeProvider","vs/editor/contrib/folding/browser/syntaxRangeProvider","vs/editor/contrib/format/browser/formattingEdit","vs/editor/contrib/indentation/browser/indentUtils","vs/editor/contrib/inlineCompletions/browser/singleTextEdit","vs/editor/contrib/semanticTokens/common/semanticTokensConfig","vs/editor/contrib/smartSelect/browser/bracketSelections","vs/editor/contrib/stickyScroll/browser/stickyScrollElement","vs/editor/contrib/suggest/browser/completionModel","vs/editor/contrib/suggest/browser/wordDistance","vs/editor/standalone/common/monarch/monarchCommon","vs/base/common/glob","vs/base/browser/dompurify/dompurify","vs/base/browser/formattedTextRenderer","vs/base/browser/ui/contextview/contextview","vs/base/browser/ui/countBadge/countBadge","vs/base/browser/ui/highlightedlabel/highlightedLabel","vs/base/browser/ui/scrollbar/abstractScrollbar","vs/base/browser/ui/hover/hoverWidget","vs/base/browser/ui/splitview/splitview","vs/base/browser/ui/findinput/findInputToggles","vs/base/browser/ui/button/button","vs/base/browser/ui/iconLabel/iconLabelHover","vs/base/browser/ui/dropdown/dropdownActionViewItem","vs/base/browser/ui/tree/objectTree","vs/base/common/worker/simpleWorker","vs/editor/browser/widget/diffEditorWidget2/diffEditorViewModel","vs/editor/common/core/textChange","vs/editor/common/model/pieceTreeTextBuffer/pieceTreeTextBuffer","vs/editor/contrib/hover/browser/hoverOperation","vs/editor/contrib/inlayHints/browser/inlayHints","vs/editor/browser/widget/diffEditorWidget2/movedBlocksLines","vs/editor/browser/config/fontMeasurements","vs/editor/common/viewModel/viewModelDecorations","vs/editor/common/languages/textToHtmlTokenizer","vs/editor/common/services/editorBaseApi","vs/editor/common/viewModel/minimapTokensColorTracker","vs/editor/common/model/editStack","vs/platform/files/common/files","vs/editor/contrib/dropOrPasteInto/browser/edit","vs/editor/contrib/codelens/browser/codelens","vs/editor/contrib/semanticTokens/common/getSemanticTokens","vs/editor/standalone/common/monarch/monarchLexer","vs/editor/contrib/dropOrPasteInto/browser/postEditWidget","vs/platform/keybinding/common/keybindingResolver","vs/platform/keybinding/common/resolvedKeybindingItem","vs/editor/standalone/browser/standaloneLayoutService","vs/platform/quickinput/browser/quickInputUtils","vs/platform/dnd/browser/dnd","vs/editor/browser/dnd","vs/editor/contrib/colorPicker/browser/defaultDocumentColorProvider","vs/editor/contrib/colorPicker/browser/color","vs/editor/contrib/suggest/browser/suggestWidgetDetails","vs/platform/configuration/common/configurationModels","vs/platform/history/browser/contextScopedHistoryWidget","vs/editor/contrib/suggest/browser/suggestMemory","vs/editor/browser/widget/workerBasedDocumentDiffProvider","vs/editor/contrib/codeAction/browser/codeActionModel","vs/editor/contrib/codeAction/browser/lightBulbWidget","vs/editor/contrib/format/browser/format","vs/editor/contrib/hover/browser/getHover","vs/editor/contrib/wordOperations/browser/wordOperations","vs/editor/browser/widget/diffReview","vs/editor/browser/controller/mouseTarget","vs/platform/quickinput/browser/quickInputList","vs/editor/browser/widget/diffEditorWidget2/overviewRulerPart","vs/editor/browser/viewParts/lineNumbers/lineNumbers","vs/editor/contrib/quickAccess/browser/editorNavigationQuickAccess","vs/editor/standalone/browser/standaloneCodeEditorService","vs/editor/standalone/browser/standaloneThemeService","vs/editor/browser/widget/diffEditorWidget2/decorations","vs/editor/contrib/colorPicker/browser/colorDetector","vs/editor/contrib/colorPicker/browser/colorHoverParticipant","vs/editor/contrib/find/browser/findController","vs/editor/contrib/folding/browser/foldingDecorations","vs/editor/contrib/hover/browser/contentHover","vs/editor/contrib/wordHighlighter/browser/highlightDecorations","vs/editor/contrib/gotoError/browser/gotoError","vs/editor/contrib/gotoSymbol/browser/peek/referencesController","vs/editor/contrib/gotoSymbol/browser/link/goToDefinitionAtPosition","vs/editor/contrib/hover/browser/hover","vs/editor/contrib/inlayHints/browser/inlayHintsLocations","vs/editor/contrib/inlayHints/browser/inlayHintsController","vs/editor/contrib/stickyScroll/browser/stickyScrollController","vs/editor/contrib/dropOrPasteInto/browser/defaultProviders","vs/editor/contrib/snippet/browser/snippetSession","vs/editor/contrib/suggest/browser/suggestController","vs/platform/workspace/common/workspaceTrust","vs/base/browser/iframe","vs/base/browser/ui/list/list","vs/base/browser/ui/list/splice","vs/base/common/diff/diffChange","vs/base/common/comparers","vs/base/common/linkedText","vs/base/common/marked/marked","vs/base/common/navigator","vs/base/common/history","vs/base/common/observableInternal/derived","vs/base/common/observableInternal/utils","vs/base/browser/ui/list/rangeMap","vs/base/common/search","vs/css!vs/base/browser/ui/aria/aria","vs/css!vs/base/browser/ui/button/button","vs/css!vs/base/browser/ui/codicons/codicon/codicon","vs/css!vs/base/browser/ui/codicons/codicon/codicon-modifiers","vs/css!vs/base/browser/ui/contextview/contextview","vs/css!vs/base/browser/ui/countBadge/countBadge","vs/css!vs/base/browser/ui/hover/hover","vs/css!vs/base/browser/ui/iconLabel/iconlabel","vs/css!vs/base/browser/ui/inputbox/inputBox","vs/css!vs/base/browser/ui/keybindingLabel/keybindingLabel","vs/css!vs/base/browser/ui/mouseCursor/mouseCursor","vs/css!vs/base/browser/ui/progressbar/progressbar","vs/css!vs/base/browser/ui/sash/sash","vs/css!vs/base/browser/ui/scrollbar/media/scrollbars","vs/css!vs/base/browser/ui/selectBox/selectBox","vs/css!vs/base/browser/ui/selectBox/selectBoxCustom","vs/css!vs/base/browser/ui/splitview/splitview","vs/css!vs/base/browser/ui/table/table","vs/css!vs/base/browser/ui/toggle/toggle","vs/css!vs/base/browser/ui/toolbar/toolbar","vs/css!vs/base/browser/ui/tree/media/tree","vs/css!vs/editor/browser/controller/textAreaHandler","vs/css!vs/editor/browser/viewParts/blockDecorations/blockDecorations","vs/css!vs/editor/browser/viewParts/currentLineHighlight/currentLineHighlight","vs/css!vs/editor/browser/viewParts/decorations/decorations","vs/css!vs/editor/browser/viewParts/glyphMargin/glyphMargin","vs/css!vs/editor/browser/viewParts/indentGuides/indentGuides","vs/css!vs/editor/browser/viewParts/lineNumbers/lineNumbers","vs/css!vs/editor/browser/viewParts/lines/viewLines","vs/css!vs/editor/browser/viewParts/linesDecorations/linesDecorations","vs/css!vs/editor/browser/viewParts/margin/margin","vs/css!vs/editor/browser/viewParts/marginDecorations/marginDecorations","vs/css!vs/editor/browser/viewParts/minimap/minimap","vs/css!vs/editor/browser/viewParts/overlayWidgets/overlayWidgets","vs/css!vs/editor/browser/viewParts/rulers/rulers","vs/css!vs/editor/browser/viewParts/scrollDecoration/scrollDecoration","vs/css!vs/editor/browser/viewParts/selections/selections","vs/css!vs/editor/browser/viewParts/viewCursors/viewCursors","vs/css!vs/editor/browser/viewParts/whitespace/whitespace","vs/css!vs/editor/browser/widget/diffEditorWidget2/style","vs/css!vs/editor/browser/widget/media/diffEditor","vs/css!vs/editor/browser/widget/media/diffReview","vs/css!vs/editor/browser/widget/media/editor","vs/css!vs/editor/contrib/anchorSelect/browser/anchorSelect","vs/css!vs/editor/contrib/bracketMatching/browser/bracketMatching","vs/css!vs/editor/contrib/codeAction/browser/lightBulbWidget","vs/css!vs/editor/contrib/codelens/browser/codelensWidget","vs/css!vs/editor/contrib/dnd/browser/dnd","vs/css!vs/editor/contrib/dropOrPasteInto/browser/postEditWidget","vs/css!vs/editor/contrib/find/browser/findOptionsWidget","vs/css!vs/editor/contrib/find/browser/findWidget","vs/css!vs/editor/contrib/folding/browser/folding","vs/css!vs/editor/contrib/gotoError/browser/media/gotoErrorWidget","vs/css!vs/editor/contrib/gotoSymbol/browser/link/goToDefinitionAtPosition","vs/css!vs/editor/contrib/gotoSymbol/browser/peek/referencesWidget","vs/css!vs/editor/contrib/hover/browser/hover","vs/css!vs/editor/contrib/inPlaceReplace/browser/inPlaceReplace","vs/css!vs/editor/contrib/inlineCompletions/browser/ghostText","vs/css!vs/editor/contrib/inlineCompletions/browser/inlineCompletionsHintsWidget","vs/css!vs/editor/contrib/inlineProgress/browser/inlineProgressWidget","vs/css!vs/editor/contrib/linkedEditing/browser/linkedEditing","vs/css!vs/editor/contrib/links/browser/links","vs/css!vs/editor/contrib/markdownRenderer/browser/renderedMarkdown","vs/css!vs/editor/contrib/message/browser/messageController","vs/css!vs/editor/contrib/parameterHints/browser/parameterHints","vs/css!vs/editor/contrib/peekView/browser/media/peekViewWidget","vs/css!vs/editor/contrib/rename/browser/renameInputField","vs/css!vs/editor/contrib/snippet/browser/snippetSession","vs/css!vs/editor/contrib/stickyScroll/browser/stickyScroll","vs/css!vs/editor/contrib/suggest/browser/media/suggest","vs/css!vs/editor/contrib/symbolIcons/browser/symbolIcons","vs/css!vs/editor/contrib/unicodeHighlighter/browser/bannerController","vs/css!vs/editor/contrib/unicodeHighlighter/browser/unicodeHighlighter","vs/css!vs/editor/contrib/wordHighlighter/browser/highlightDecorations","vs/css!vs/editor/contrib/zoneWidget/browser/zoneWidget","vs/css!vs/editor/standalone/browser/iPadShowKeyboard/iPadShowKeyboard","vs/css!vs/editor/standalone/browser/inspectTokens/inspectTokens","vs/css!vs/editor/standalone/browser/quickInput/standaloneQuickInput","vs/css!vs/editor/standalone/browser/standalone-tokens","vs/css!vs/platform/actions/browser/menuEntryActionViewItem","vs/css!vs/platform/opener/browser/link","vs/css!vs/platform/severityIcon/browser/media/severityIcon","vs/editor/browser/config/charWidthReader","vs/editor/browser/config/migrateOptions","vs/editor/browser/viewParts/lines/domReadingContext","vs/editor/browser/viewParts/lines/rangeUtil","vs/editor/browser/viewParts/minimap/minimapCharRenderer","vs/editor/browser/viewParts/minimap/minimapPreBaked","vs/editor/browser/viewParts/minimap/minimapCharRendererFactory","vs/editor/browser/widget/diffEditorWidget2/delegatingEditorImpl","vs/editor/browser/widget/diffEditorWidget2/outlineModel","vs/editor/common/commands/trimTrailingWhitespaceCommand","vs/editor/common/commands/surroundSelectionCommand","vs/editor/common/cursor/cursorContext","vs/editor/common/diff/algorithms/joinSequenceDiffs","vs/editor/common/diff/algorithms/myersDiffAlgorithm","vs/editor/common/diff/algorithms/utils","vs/editor/common/diff/algorithms/dynamicProgrammingDiffing","vs/editor/common/diff/legacyLinesDiffComputer","vs/editor/common/diff/linesDiffComputers","vs/editor/common/editorTheme","vs/editor/common/languages/defaultDocumentColorsComputer","vs/editor/common/languages/linkComputer","vs/editor/common/cursor/cursorColumnSelection","vs/editor/common/cursor/oneCursor","vs/editor/common/cursor/cursorCollection","vs/editor/common/languages/supports/characterPair","vs/editor/common/languages/supports/indentRules","vs/editor/common/languages/supports/inplaceReplaceSupport","vs/editor/common/languages/supports/languageBracketsConfiguration","vs/editor/common/languages/supports/onEnter","vs/editor/common/languages/supports/tokenization","vs/editor/common/model/bracketPairsTextModelPart/bracketPairsTree/nodeReader","vs/editor/common/model/bracketPairsTextModelPart/bracketPairsTree/concat23Trees","vs/editor/common/model/bracketPairsTextModelPart/fixBrackets","vs/editor/common/model/fixedArray","vs/editor/common/model/indentationGuesser","vs/editor/common/model/intervalTree","vs/editor/common/model/pieceTreeTextBuffer/rbTreeBase","vs/editor/common/model/mirrorTextModel","vs/editor/common/textModelBracketPairs","vs/editor/common/model/bracketPairsTextModelPart/bracketPairsTree/bracketPairsTree","vs/editor/common/tokenizationRegistry","vs/editor/common/tokens/contiguousMultilineTokens","vs/editor/common/tokens/contiguousTokensEditing","vs/editor/common/tokens/contiguousTokensStore","vs/editor/common/tokens/sparseMultilineTokens","vs/editor/common/tokens/sparseTokensStore","vs/editor/browser/viewParts/blockDecorations/blockDecorations","vs/editor/browser/viewParts/decorations/decorations","vs/editor/browser/viewParts/linesDecorations/linesDecorations","vs/editor/browser/viewParts/marginDecorations/marginDecorations","vs/editor/browser/viewParts/overlayWidgets/overlayWidgets","vs/editor/browser/viewParts/rulers/rulers","vs/editor/browser/viewParts/scrollDecoration/scrollDecoration","vs/editor/browser/viewParts/viewZones/viewZones","vs/editor/common/viewLayout/linePart","vs/editor/common/viewLayout/linesLayout","vs/editor/common/viewLayout/viewLinesViewportData","vs/editor/common/viewModel/modelLineProjection","vs/editor/common/viewModel/monospaceLineBreaksComputer","vs/editor/browser/viewParts/overviewRuler/overviewRuler","vs/editor/common/viewModel/viewContext","vs/editor/common/viewLayout/viewLayout","vs/editor/contrib/caretOperations/browser/moveCaretCommand","vs/editor/contrib/colorPicker/browser/colorPickerModel","vs/editor/contrib/comment/browser/lineCommentCommand","vs/editor/contrib/dnd/browser/dragAndDropCommand","vs/editor/contrib/find/browser/replaceAllCommand","vs/editor/contrib/find/browser/replacePattern","vs/editor/contrib/folding/browser/hiddenRangeModel","vs/editor/contrib/inPlaceReplace/browser/inPlaceReplaceCommand","vs/editor/contrib/linesOperations/browser/copyLinesCommand","vs/editor/contrib/linesOperations/browser/sortLinesCommand","vs/editor/contrib/smartSelect/browser/wordSelections","vs/editor/contrib/suggest/browser/suggestCommitCharacters","vs/editor/contrib/suggest/browser/suggestOvertypingCapturer","vs/editor/standalone/common/monarch/monarchCompile","vs/nls!vs/base/browser/ui/actionbar/actionViewItems","vs/nls!vs/base/browser/ui/findinput/findInput","vs/nls!vs/base/browser/ui/findinput/findInputToggles","vs/nls!vs/base/browser/ui/findinput/replaceInput","vs/nls!vs/base/browser/ui/hover/hoverWidget","vs/nls!vs/base/browser/ui/iconLabel/iconLabelHover","vs/nls!vs/base/browser/ui/inputbox/inputBox","vs/nls!vs/base/browser/ui/keybindingLabel/keybindingLabel","vs/nls!vs/base/browser/ui/selectBox/selectBoxCustom","vs/nls!vs/base/browser/ui/toolbar/toolbar","vs/nls!vs/base/browser/ui/tree/abstractTree","vs/nls!vs/base/common/actions","vs/nls!vs/base/common/errorMessage","vs/base/common/errorMessage","vs/nls!vs/base/common/keybindingLabels","vs/nls!vs/base/common/platform","vs/base/browser/ui/scrollbar/scrollbarVisibilityController","vs/base/browser/ui/tree/compressedObjectTreeModel","vs/base/common/process","vs/base/common/fuzzyScorer","vs/base/common/labels","vs/base/browser/ui/dropdown/dropdown","vs/base/browser/ui/list/rowCache","vs/base/browser/ui/progressbar/progressbar","vs/base/browser/ui/selectBox/selectBoxNative","vs/base/browser/ui/scrollbar/horizontalScrollbar","vs/base/browser/ui/scrollbar/verticalScrollbar","vs/base/browser/ui/list/listPaging","vs/base/browser/ui/table/tableWidget","vs/base/browser/ui/selectBox/selectBoxCustom","vs/base/browser/ui/selectBox/selectBox","vs/base/browser/ui/findinput/replaceInput","vs/base/browser/ui/menu/menu","vs/base/browser/ui/toolbar/toolbar","vs/base/browser/ui/tree/dataTree","vs/base/browser/ui/tree/asyncDataTree","vs/base/browser/defaultWorkerFactory","vs/base/parts/storage/common/storage","vs/editor/browser/viewParts/contentWidgets/contentWidgets","vs/editor/browser/widget/diffEditorWidget2/diffEditorSash","vs/editor/browser/view/domLineBreaksComputer","vs/editor/browser/view/viewOverlays","vs/editor/common/languageSelector","vs/editor/common/languageFeatureRegistry","vs/editor/common/languages/supports/electricCharacter","vs/editor/common/model/bracketPairsTextModelPart/bracketPairsImpl","vs/editor/common/model/pieceTreeTextBuffer/pieceTreeTextBufferBuilder","vs/editor/common/services/semanticTokensDto","vs/editor/contrib/hover/browser/resizableContentWidget","vs/editor/contrib/inlineCompletions/browser/provideInlineCompletions","vs/nls!vs/editor/browser/controller/textAreaHandler","vs/nls!vs/editor/browser/coreCommands","vs/nls!vs/editor/browser/editorExtensions","vs/nls!vs/editor/browser/widget/codeEditorWidget","vs/nls!vs/editor/browser/widget/diffEditor.contribution","vs/nls!vs/editor/browser/widget/diffEditorWidget","vs/nls!vs/editor/browser/widget/diffEditorWidget2/accessibleDiffViewer","vs/nls!vs/editor/browser/widget/diffEditorWidget2/colors","vs/nls!vs/editor/browser/widget/diffEditorWidget2/decorations","vs/nls!vs/editor/browser/widget/diffEditorWidget2/diffEditorEditors","vs/nls!vs/editor/browser/widget/diffEditorWidget2/inlineDiffDeletedCodeMargin","vs/editor/browser/widget/diffEditorWidget2/inlineDiffDeletedCodeMargin","vs/nls!vs/editor/browser/widget/diffEditorWidget2/movedBlocksLines","vs/nls!vs/editor/browser/widget/diffEditorWidget2/unchangedRanges","vs/nls!vs/editor/browser/widget/diffReview","vs/nls!vs/editor/browser/widget/inlineDiffMargin","vs/editor/browser/widget/inlineDiffMargin","vs/nls!vs/editor/common/config/editorConfigurationSchema","vs/nls!vs/editor/common/config/editorOptions","vs/editor/browser/viewParts/viewCursors/viewCursor","vs/editor/browser/widget/diffEditorWidget2/diffEditorOptions","vs/nls!vs/editor/common/core/editorColorRegistry","vs/nls!vs/editor/common/editorContextKeys","vs/nls!vs/editor/common/languages","vs/editor/common/model/textModelTokens","vs/editor/common/model/tokenizationTextModelPart","vs/editor/common/services/editorSimpleWorker","vs/nls!vs/editor/common/languages/modesRegistry","vs/nls!vs/editor/common/model/editStack","vs/nls!vs/editor/common/standaloneStrings","vs/nls!vs/editor/common/viewLayout/viewLineRenderer","vs/nls!vs/editor/contrib/anchorSelect/browser/anchorSelect","vs/nls!vs/editor/contrib/bracketMatching/browser/bracketMatching","vs/nls!vs/editor/contrib/caretOperations/browser/caretOperations","vs/nls!vs/editor/contrib/caretOperations/browser/transpose","vs/nls!vs/editor/contrib/clipboard/browser/clipboard","vs/nls!vs/editor/contrib/codeAction/browser/codeAction","vs/nls!vs/editor/contrib/codeAction/browser/codeActionCommands","vs/nls!vs/editor/contrib/codeAction/browser/codeActionContributions","vs/nls!vs/editor/contrib/codeAction/browser/codeActionController","vs/nls!vs/editor/contrib/codeAction/browser/codeActionMenu","vs/nls!vs/editor/contrib/codeAction/browser/lightBulbWidget","vs/nls!vs/editor/contrib/codelens/browser/codelensController","vs/nls!vs/editor/contrib/colorPicker/browser/colorPickerWidget","vs/nls!vs/editor/contrib/colorPicker/browser/standaloneColorPickerActions","vs/nls!vs/editor/contrib/comment/browser/comment","vs/nls!vs/editor/contrib/contextmenu/browser/contextmenu","vs/nls!vs/editor/contrib/cursorUndo/browser/cursorUndo","vs/nls!vs/editor/contrib/dropOrPasteInto/browser/copyPasteContribution","vs/nls!vs/editor/contrib/dropOrPasteInto/browser/copyPasteController","vs/nls!vs/editor/contrib/dropOrPasteInto/browser/defaultProviders","vs/nls!vs/editor/contrib/dropOrPasteInto/browser/dropIntoEditorContribution","vs/nls!vs/editor/contrib/dropOrPasteInto/browser/dropIntoEditorController","vs/nls!vs/editor/contrib/editorState/browser/keybindingCancellation","vs/nls!vs/editor/contrib/find/browser/findController","vs/nls!vs/editor/contrib/find/browser/findWidget","vs/nls!vs/editor/contrib/folding/browser/folding","vs/nls!vs/editor/contrib/folding/browser/foldingDecorations","vs/nls!vs/editor/contrib/fontZoom/browser/fontZoom","vs/nls!vs/editor/contrib/format/browser/format","vs/nls!vs/editor/contrib/format/browser/formatActions","vs/nls!vs/editor/contrib/gotoError/browser/gotoError","vs/nls!vs/editor/contrib/gotoError/browser/gotoErrorWidget","vs/nls!vs/editor/contrib/gotoSymbol/browser/goToCommands","vs/nls!vs/editor/contrib/gotoSymbol/browser/link/goToDefinitionAtPosition","vs/nls!vs/editor/contrib/gotoSymbol/browser/peek/referencesController","vs/nls!vs/editor/contrib/gotoSymbol/browser/peek/referencesTree","vs/nls!vs/editor/contrib/gotoSymbol/browser/peek/referencesWidget","vs/nls!vs/editor/contrib/gotoSymbol/browser/referencesModel","vs/nls!vs/editor/contrib/gotoSymbol/browser/symbolNavigation","vs/nls!vs/editor/contrib/hover/browser/hover","vs/nls!vs/editor/contrib/hover/browser/markdownHoverParticipant","vs/nls!vs/editor/contrib/hover/browser/markerHoverParticipant","vs/nls!vs/editor/contrib/inPlaceReplace/browser/inPlaceReplace","vs/nls!vs/editor/contrib/indentation/browser/indentation","vs/nls!vs/editor/contrib/inlayHints/browser/inlayHintsHover","vs/nls!vs/editor/contrib/inlineCompletions/browser/commands","vs/nls!vs/editor/contrib/inlineCompletions/browser/hoverParticipant","vs/nls!vs/editor/contrib/inlineCompletions/browser/inlineCompletionContextKeys","vs/nls!vs/editor/contrib/inlineCompletions/browser/inlineCompletionsController","vs/nls!vs/editor/contrib/inlineCompletions/browser/inlineCompletionsHintsWidget","vs/nls!vs/editor/contrib/lineSelection/browser/lineSelection","vs/nls!vs/editor/contrib/linesOperations/browser/linesOperations","vs/nls!vs/editor/contrib/linkedEditing/browser/linkedEditing","vs/nls!vs/editor/contrib/links/browser/links","vs/nls!vs/editor/contrib/message/browser/messageController","vs/nls!vs/editor/contrib/multicursor/browser/multicursor","vs/nls!vs/editor/contrib/parameterHints/browser/parameterHints","vs/nls!vs/editor/contrib/parameterHints/browser/parameterHintsWidget","vs/nls!vs/editor/contrib/peekView/browser/peekView","vs/nls!vs/editor/contrib/quickAccess/browser/gotoLineQuickAccess","vs/nls!vs/editor/contrib/quickAccess/browser/gotoSymbolQuickAccess","vs/nls!vs/editor/contrib/readOnlyMessage/browser/contribution","vs/nls!vs/editor/contrib/rename/browser/rename","vs/nls!vs/editor/contrib/rename/browser/renameInputField","vs/nls!vs/editor/contrib/smartSelect/browser/smartSelect","vs/nls!vs/editor/contrib/snippet/browser/snippetController2","vs/nls!vs/editor/contrib/snippet/browser/snippetVariables","vs/nls!vs/editor/contrib/stickyScroll/browser/stickyScrollActions","vs/nls!vs/editor/contrib/suggest/browser/suggest","vs/nls!vs/editor/contrib/suggest/browser/suggestController","vs/nls!vs/editor/contrib/suggest/browser/suggestWidget","vs/nls!vs/editor/contrib/suggest/browser/suggestWidgetDetails","vs/nls!vs/editor/contrib/suggest/browser/suggestWidgetRenderer","vs/nls!vs/editor/contrib/suggest/browser/suggestWidgetStatus","vs/nls!vs/editor/contrib/symbolIcons/browser/symbolIcons","vs/nls!vs/editor/contrib/toggleTabFocusMode/browser/toggleTabFocusMode","vs/nls!vs/editor/contrib/tokenization/browser/tokenization","vs/nls!vs/editor/contrib/unicodeHighlighter/browser/unicodeHighlighter","vs/nls!vs/editor/contrib/unusualLineTerminators/browser/unusualLineTerminators","vs/nls!vs/editor/contrib/wordHighlighter/browser/highlightDecorations","vs/nls!vs/editor/contrib/wordHighlighter/browser/wordHighlighter","vs/nls!vs/editor/contrib/wordOperations/browser/wordOperations","vs/nls!vs/platform/action/common/actionCommonCategories","vs/nls!vs/platform/actionWidget/browser/actionList","vs/nls!vs/platform/actionWidget/browser/actionWidget","vs/nls!vs/platform/actions/browser/menuEntryActionViewItem","vs/nls!vs/platform/actions/browser/toolbar","vs/nls!vs/platform/actions/common/menuService","vs/nls!vs/platform/audioCues/browser/audioCueService","vs/nls!vs/platform/configuration/common/configurationRegistry","vs/nls!vs/platform/contextkey/browser/contextKeyService","vs/nls!vs/platform/contextkey/common/contextkey","vs/nls!vs/platform/contextkey/common/contextkeys","vs/nls!vs/platform/contextkey/common/scanner","vs/nls!vs/platform/history/browser/contextScopedHistoryWidget","vs/nls!vs/platform/keybinding/common/abstractKeybindingService","vs/nls!vs/platform/list/browser/listService","vs/nls!vs/platform/markers/common/markers","vs/nls!vs/platform/quickinput/browser/commandsQuickAccess","vs/nls!vs/platform/quickinput/browser/helpQuickAccess","vs/nls!vs/platform/quickinput/browser/quickInput","vs/nls!vs/platform/quickinput/browser/quickInputController","vs/nls!vs/platform/quickinput/browser/quickInputList","vs/nls!vs/platform/quickinput/browser/quickInputUtils","vs/nls!vs/platform/theme/common/colorRegistry","vs/nls!vs/platform/theme/common/iconRegistry","vs/nls!vs/platform/undoRedo/common/undoRedoService","vs/nls!vs/platform/workspace/common/workspace","vs/platform/action/common/action","vs/platform/action/common/actionCommonCategories","vs/platform/contextkey/common/scanner","vs/platform/editor/common/editor","vs/platform/extensions/common/extensions","vs/platform/history/browser/historyWidgetKeybindingHint","vs/platform/instantiation/common/graph","vs/editor/browser/widget/diffEditorWidget2/unchangedRanges","vs/editor/common/services/languageFeaturesService","vs/editor/common/services/treeViewsDndService","vs/editor/contrib/inlineCompletions/browser/ghostTextWidget","vs/editor/contrib/links/browser/getLinks","vs/editor/standalone/browser/colorizer","vs/editor/contrib/parameterHints/browser/parameterHintsModel","vs/editor/contrib/suggest/browser/suggestAlternatives","vs/editor/contrib/suggest/browser/wordContextKey","vs/editor/browser/config/editorConfiguration","vs/platform/contextkey/browser/contextKeyService","vs/platform/instantiation/common/instantiationService","vs/platform/keybinding/common/baseResolvedKeybinding","vs/platform/keybinding/common/abstractKeybindingService","vs/platform/keybinding/common/usLayoutResolvedKeybinding","vs/platform/accessibility/browser/accessibilityService","vs/platform/contextview/browser/contextViewService","vs/platform/clipboard/browser/clipboardService","vs/platform/log/common/logService","vs/editor/contrib/gotoError/browser/markerNavigationService","vs/platform/markers/common/markerService","vs/editor/browser/services/openerService","vs/editor/contrib/documentSymbols/browser/documentSymbols","vs/platform/opener/browser/link","vs/platform/quickinput/browser/pickerQuickAccess","vs/platform/quickinput/browser/quickInputBox","vs/editor/browser/services/webWorker","vs/editor/common/cursor/cursor","vs/editor/common/services/getIconClasses","vs/editor/common/services/languagesAssociations","vs/editor/common/services/languagesRegistry","vs/editor/common/services/languageService","vs/editor/contrib/inlineCompletions/browser/inlineCompletionsSource","vs/editor/contrib/linesOperations/browser/moveLinesCommand","vs/editor/contrib/hover/browser/marginHover","vs/platform/configuration/common/configurations","vs/editor/browser/widget/diffEditor.contribution","vs/editor/browser/widget/codeEditorContributions","vs/editor/contrib/toggleTabFocusMode/browser/toggleTabFocusMode","vs/platform/quickinput/browser/helpQuickAccess","vs/editor/standalone/browser/quickAccess/standaloneHelpQuickAccess","vs/platform/quickinput/browser/quickAccess","vs/platform/severityIcon/browser/severityIcon","vs/editor/contrib/codelens/browser/codeLensCache","vs/platform/actions/common/menuService","vs/editor/browser/services/markerDecorations","vs/editor/browser/view/viewController","vs/editor/contrib/anchorSelect/browser/anchorSelect","vs/editor/contrib/caretOperations/browser/caretOperations","vs/editor/contrib/caretOperations/browser/transpose","vs/editor/contrib/clipboard/browser/clipboard","vs/editor/contrib/comment/browser/comment","vs/editor/contrib/cursorUndo/browser/cursorUndo","vs/editor/contrib/editorState/browser/keybindingCancellation","vs/editor/contrib/codeAction/browser/codeActionKeybindingResolver","vs/editor/contrib/fontZoom/browser/fontZoom","vs/editor/contrib/format/browser/formatActions","vs/editor/contrib/gotoSymbol/browser/symbolNavigation","vs/editor/contrib/indentation/browser/indentation","vs/editor/contrib/lineSelection/browser/lineSelection","vs/editor/contrib/linesOperations/browser/linesOperations","vs/editor/contrib/longLinesHelper/browser/longLinesHelper","vs/editor/contrib/readOnlyMessage/browser/contribution","vs/editor/contrib/smartSelect/browser/smartSelect","vs/editor/contrib/suggest/browser/suggestInlineCompletions","vs/editor/contrib/tokenization/browser/tokenization","vs/editor/contrib/unusualLineTerminators/browser/unusualLineTerminators","vs/editor/contrib/wordPartOperations/browser/wordPartOperations","vs/editor/standalone/browser/iPadShowKeyboard/iPadShowKeyboard","vs/editor/standalone/browser/inspectTokens/inspectTokens","vs/platform/actions/browser/toolbar","vs/platform/quickinput/browser/commandsQuickAccess","vs/editor/contrib/quickAccess/browser/commandsQuickAccess","vs/editor/standalone/browser/quickAccess/standaloneCommandsQuickAccess","vs/editor/browser/viewParts/minimap/minimap","vs/editor/browser/widget/diffEditorWidget2/colors","vs/editor/contrib/codeAction/browser/codeActionMenu","vs/editor/contrib/gotoSymbol/browser/peek/referencesTree","vs/platform/actionWidget/browser/actionList","vs/platform/actionWidget/browser/actionWidget","vs/editor/contrib/codeAction/browser/codeActionCommands","vs/editor/contrib/codeAction/browser/codeActionContributions","vs/platform/contextview/browser/contextMenuHandler","vs/editor/browser/widget/diffEditorWidget2/accessibleDiffViewer","vs/editor/contrib/colorPicker/browser/colorPickerWidget","vs/editor/contrib/parameterHints/browser/parameterHintsWidget","vs/editor/contrib/parameterHints/browser/parameterHints","vs/editor/contrib/unicodeHighlighter/browser/bannerController","vs/platform/theme/browser/iconsStyleSheet","vs/editor/browser/controller/mouseHandler","vs/editor/browser/controller/pointerHandler","vs/editor/browser/viewParts/lines/viewLines","vs/platform/quickinput/browser/quickInput","vs/platform/quickinput/browser/quickInputController","vs/editor/browser/services/abstractCodeEditorService","vs/editor/browser/viewParts/editorScrollbar/editorScrollbar","vs/editor/browser/viewParts/selections/selections","vs/editor/browser/widget/diffEditorWidget2/diffEditorEditors","vs/editor/browser/viewParts/currentLineHighlight/currentLineHighlight","vs/editor/browser/viewParts/indentGuides/indentGuides","vs/editor/browser/controller/textAreaHandler","vs/editor/browser/viewParts/overviewRuler/decorationsOverviewRuler","vs/editor/browser/viewParts/viewCursors/viewCursors","vs/editor/browser/viewParts/whitespace/whitespace","vs/editor/browser/view","vs/editor/common/model/bracketPairsTextModelPart/colorizedBracketPairsDecorationProvider","vs/editor/common/services/markerDecorationsService","vs/editor/common/services/semanticTokensStylingService","vs/editor/contrib/quickAccess/browser/gotoLineQuickAccess","vs/editor/contrib/quickAccess/browser/gotoSymbolQuickAccess","vs/editor/contrib/rename/browser/renameInputField","vs/editor/contrib/rename/browser/rename","vs/editor/contrib/semanticTokens/browser/documentSemanticTokens","vs/editor/contrib/semanticTokens/browser/viewportSemanticTokens","vs/editor/contrib/suggest/browser/suggestWidgetRenderer","vs/editor/standalone/browser/quickAccess/standaloneGotoLineQuickAccess","vs/editor/standalone/browser/quickAccess/standaloneGotoSymbolQuickAccess","vs/editor/standalone/common/themes","vs/editor/standalone/browser/toggleHighContrast/toggleHighContrast","vs/editor/contrib/suggest/browser/suggestWidgetStatus","vs/platform/contextview/browser/contextMenuService","vs/platform/quickinput/browser/quickInputService","vs/editor/standalone/browser/quickInput/standaloneQuickInputService","vs/editor/browser/widget/diffEditorWidget2/diffEditorDecorations","vs/editor/common/services/modelService","vs/editor/common/viewModel/viewModelLines","vs/editor/common/viewModel/viewModelImpl","vs/editor/browser/widget/diffEditorWidget2/renderLines","vs/editor/browser/widget/diffEditorWidget2/lineAlignment","vs/editor/browser/widget/diffEditorWidget2/diffEditorWidget2","vs/editor/contrib/bracketMatching/browser/bracketMatching","vs/editor/contrib/codelens/browser/codelensWidget","vs/editor/contrib/codelens/browser/codelensController","vs/editor/contrib/dnd/browser/dnd","vs/editor/contrib/find/browser/findDecorations","vs/editor/contrib/find/browser/findOptionsWidget","vs/editor/contrib/find/browser/findState","vs/editor/contrib/find/browser/findWidget","vs/editor/contrib/colorPicker/browser/standaloneColorPickerWidget","vs/editor/contrib/colorPicker/browser/standaloneColorPickerActions","vs/editor/contrib/inPlaceReplace/browser/inPlaceReplace","vs/editor/contrib/dropOrPasteInto/browser/copyPasteController","vs/editor/contrib/dropOrPasteInto/browser/dropIntoEditorController","vs/editor/contrib/linkedEditing/browser/linkedEditing","vs/editor/contrib/links/browser/links","vs/editor/contrib/stickyScroll/browser/stickyScrollModelProvider","vs/editor/contrib/stickyScroll/browser/stickyScrollProvider","vs/editor/contrib/stickyScroll/browser/stickyScrollWidget","vs/editor/contrib/suggest/browser/suggestWidget","vs/editor/contrib/multicursor/browser/multicursor","vs/editor/contrib/wordHighlighter/browser/wordHighlighter","vs/editor/contrib/zoneWidget/browser/zoneWidget","vs/editor/contrib/gotoError/browser/gotoErrorWidget","vs/editor/contrib/gotoSymbol/browser/peek/referencesWidget","vs/editor/contrib/hover/browser/markerHoverParticipant","vs/editor/contrib/colorPicker/browser/colorContributions","vs/editor/contrib/inlayHints/browser/inlayHintsHover","vs/editor/contrib/inlayHints/browser/inlayHintsContribution","vs/editor/contrib/stickyScroll/browser/stickyScrollActions","vs/editor/contrib/stickyScroll/browser/stickyScrollContribution","vs/editor/standalone/browser/referenceSearch/standaloneReferenceSearch","vs/platform/undoRedo/common/undoRedoService","vs/editor/contrib/contextmenu/browser/contextmenu","vs/editor/contrib/dropOrPasteInto/browser/copyPasteContribution","vs/editor/contrib/dropOrPasteInto/browser/dropIntoEditorContribution","vs/editor/contrib/snippet/browser/snippetVariables","vs/editor/contrib/inlineCompletions/browser/inlineCompletionsModel","vs/editor/contrib/suggest/browser/suggestModel","vs/editor/contrib/inlineCompletions/browser/suggestWidgetInlineCompletionProvider","vs/editor/contrib/inlineCompletions/browser/commands","vs/editor/contrib/inlineCompletions/browser/hoverParticipant","vs/editor/contrib/inlineCompletions/browser/inlineCompletions.contribution","vs/editor/contrib/unicodeHighlighter/browser/unicodeHighlighter","vs/editor/editor.all","vs/editor/standalone/browser/standaloneCodeEditor","vs/editor/standalone/browser/standaloneEditor","vs/editor/standalone/browser/standaloneLanguages","vs/editor/editor.api","vs/css","vs/editor/edcore.main"],se=function(Q){for(var e=[],L=0,k=Q.length;L<k;L++)e[L]=ne[Q[L]];return e};define(ne[925],se([1,0]),function(Q,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.load=void 0;function L(f,_,g,C){if(C=C||{},(C["vs/css"]||{}).disabled){g({});return}const i=_.toUrl(f+".css");k(f,i,()=>{g({})},n=>{typeof g.error=="function"&&g.error("Could not find "+i+".")})}e.load=L;function k(f,_,g,C){if(y(f,_)){g();return}D(f,_,g,C)}function y(f,_){const g=document.getElementsByTagName("link");for(let C=0,s=g.length;C<s;C++){const i=g[C].getAttribute("data-name"),n=g[C].getAttribute("href");if(i===f||n===_)return!0}return!1}function D(f,_,g,C){const s=document.createElement("link");s.setAttribute("rel","stylesheet"),s.setAttribute("type","text/css"),s.setAttribute("data-name",f),S(f,s,g,C),s.setAttribute("href",_),(document.head||document.getElementsByTagName("head")[0]).appendChild(s)}function S(f,_,g,C){const s=()=>{_.removeEventListener("load",i),_.removeEventListener("error",n)},i=t=>{s(),g()},n=t=>{s(),C(t)};_.addEventListener("load",i),_.addEventListener("error",n)}});var we=this&&this.__awaiter||function(Q,e,L,k){function y(D){return D instanceof L?D:new L(function(S){S(D)})}return new(L||(L=Promise))(function(D,S){function f(C){try{g(k.next(C))}catch(s){S(s)}}function _(C){try{g(k.throw(C))}catch(s){S(s)}}function g(C){C.done?D(C.value):y(C.value).then(f,_)}g((k=k.apply(Q,e||[])).next())})};define(ne[3],se([1,0]),function(Q,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.load=e.create=e.setPseudoTranslation=e.getConfiguredDefaultLocale=e.localize=void 0;let L=typeof document<"u"&&document.location&&document.location.hash.indexOf("pseudo=true")>=0;const k="i-default";function y(t,a){let u;return a.length===0?u=t:u=t.replace(/\{(\d+)\}/g,(h,r)=>{const c=r[0],o=a[c];let d=h;return typeof o=="string"?d=o:(typeof o=="number"||typeof o=="boolean"||o===void 0||o===null)&&(d=String(o)),d}),L&&(u="\uFF3B"+u.replace(/[aouei]/g,"$&$&")+"\uFF3D"),u}function D(t,a){let u=t[a];return u||(u=t["*"],u)?u:null}function S(t){return t.charAt(t.length-1)==="/"?t:t+"/"}function f(t,a,u){return we(this,void 0,void 0,function*(){const h=S(t)+S(a)+"vscode/"+S(u),r=yield fetch(h);if(r.ok)return yield r.json();throw new Error(`${r.status} - ${r.statusText}`)})}function _(t){return function(a,u){const h=Array.prototype.slice.call(arguments,2);return y(t[a],h)}}function g(t,a,...u){return y(a,u)}e.localize=g;function C(t){}e.getConfiguredDefaultLocale=C;function s(t){L=t}e.setPseudoTranslation=s;function i(t,a){var u;return{localize:_(a[t]),getConfiguredDefaultLocale:(u=a.getConfiguredDefaultLocale)!==null&&u!==void 0?u:h=>{}}}e.create=i;function n(t,a,u,h){var r;const c=(r=h["vs/nls"])!==null&&r!==void 0?r:{};if(!t||t.length===0)return u({localize:g,getConfiguredDefaultLocale:()=>{var m;return(m=c.availableLanguages)===null||m===void 0?void 0:m["*"]}});const o=c.availableLanguages?D(c.availableLanguages,t):null,d=o===null||o===k;let l=".nls";d||(l=l+"."+o);const p=m=>{Array.isArray(m)?m.localize=_(m):m.localize=_(m[t]),m.getConfiguredDefaultLocale=()=>{var v;return(v=c.availableLanguages)===null||v===void 0?void 0:v["*"]},u(m)};typeof c.loadBundle=="function"?c.loadBundle(t,o,(m,v)=>{m?a([t+".nls"],p):p(v)}):c.translationServiceUrl&&!d?we(this,void 0,void 0,function*(){var m;try{const v=yield f(c.translationServiceUrl,o,t);return p(v)}catch(v){if(!o.includes("-"))return console.error(v),a([t+".nls"],p);try{const b=o.split("-")[0],w=yield f(c.translationServiceUrl,b,t);return(m=c.availableLanguages)!==null&&m!==void 0||(c.availableLanguages={}),c.availableLanguages["*"]=b,p(w)}catch(b){return console.error(b),a([t+".nls"],p)}}}):a([t+l],p,m=>{if(l===".nls"){console.error("Failed trying to load default language strings",m);return}console.error(`Failed to load message bundle for language ${o}. Falling back to the default language:`,m),a([t+".nls"],p)})}e.load=n});/*! @license DOMPurify 3.0.5 | (c) Cure53 and other contributors | Released under the Apache license 2.0 and Mozilla Public License 2.0 | github.com/cure53/DOMPurify/blob/3.0.5/LICENSE */const{entries:Wt,setPrototypeOf:Vt,isFrozen:Yt,getPrototypeOf:Qt,getOwnPropertyDescriptor:Xt}=Object;let{freeze:pt,seal:bt,create:Jt}=Object,{apply:At,construct:Rt}=typeof Reflect<"u"&&Reflect;At||(At=function(e,L,k){return e.apply(L,k)}),pt||(pt=function(e){return e}),bt||(bt=function(e){return e}),Rt||(Rt=function(e,L){return new e(...L)});const ei=Ct(Array.prototype.forEach),zt=Ct(Array.prototype.pop),It=Ct(Array.prototype.push),Tt=Ct(String.prototype.toLowerCase),Pt=Ct(String.prototype.toString),ti=Ct(String.prototype.match),_t=Ct(String.prototype.replace),ii=Ct(String.prototype.indexOf),ni=Ct(String.prototype.trim),vt=Ct(RegExp.prototype.test),kt=si(TypeError);function Ct(Q){return function(e){for(var L=arguments.length,k=new Array(L>1?L-1:0),y=1;y<L;y++)k[y-1]=arguments[y];return At(Q,e,k)}}function si(Q){return function(){for(var e=arguments.length,L=new Array(e),k=0;k<e;k++)L[k]=arguments[k];return Rt(Q,L)}}function Je(Q,e,L){var k;L=(k=L)!==null&&k!==void 0?k:Tt,Vt&&Vt(Q,null);let y=e.length;for(;y--;){let D=e[y];if(typeof D=="string"){const S=L(D);S!==D&&(Yt(e)||(e[y]=S),D=S)}Q[D]=!0}return Q}function Et(Q){const e=Jt(null);for(const[L,k]of Wt(Q))e[L]=k;return e}function Nt(Q,e){for(;Q!==null;){const k=Xt(Q,e);if(k){if(k.get)return Ct(k.get);if(typeof k.value=="function")return Ct(k.value)}Q=Qt(Q)}function L(k){return console.warn("fallback value for",k),null}return L}const Ht=pt(["a","abbr","acronym","address","area","article","aside","audio","b","bdi","bdo","big","blink","blockquote","body","br","button","canvas","caption","center","cite","code","col","colgroup","content","data","datalist","dd","decorator","del","details","dfn","dialog","dir","div","dl","dt","element","em","fieldset","figcaption","figure","font","footer","form","h1","h2","h3","h4","h5","h6","head","header","hgroup","hr","html","i","img","input","ins","kbd","label","legend","li","main","map","mark","marquee","menu","menuitem","meter","nav","nobr","ol","optgroup","option","output","p","picture","pre","progress","q","rp","rt","ruby","s","samp","section","select","shadow","small","source","spacer","span","strike","strong","style","sub","summary","sup","table","tbody","td","template","textarea","tfoot","th","thead","time","tr","track","tt","u","ul","var","video","wbr"]),Ot=pt(["svg","a","altglyph","altglyphdef","altglyphitem","animatecolor","animatemotion","animatetransform","circle","clippath","defs","desc","ellipse","filter","font","g","glyph","glyphref","hkern","image","line","lineargradient","marker","mask","metadata","mpath","path","pattern","polygon","polyline","radialgradient","rect","stop","style","switch","symbol","text","textpath","title","tref","tspan","view","vkern"]),Ft=pt(["feBlend","feColorMatrix","feComponentTransfer","feComposite","feConvolveMatrix","feDiffuseLighting","feDisplacementMap","feDistantLight","feDropShadow","feFlood","feFuncA","feFuncB","feFuncG","feFuncR","feGaussianBlur","feImage","feMerge","feMergeNode","feMorphology","feOffset","fePointLight","feSpecularLighting","feSpotLight","feTile","feTurbulence"]),oi=pt(["animate","color-profile","cursor","discard","font-face","font-face-format","font-face-name","font-face-src","font-face-uri","foreignobject","hatch","hatchpath","mesh","meshgradient","meshpatch","meshrow","missing-glyph","script","set","solidcolor","unknown","use"]),xt=pt(["math","menclose","merror","mfenced","mfrac","mglyph","mi","mlabeledtr","mmultiscripts","mn","mo","mover","mpadded","mphantom","mroot","mrow","ms","mspace","msqrt","mstyle","msub","msup","msubsup","mtable","mtd","mtext","mtr","munder","munderover","mprescripts"]),ri=pt(["maction","maligngroup","malignmark","mlongdiv","mscarries","mscarry","msgroup","mstack","msline","msrow","semantics","annotation","annotation-xml","mprescripts","none"]),Ut=pt(["#text"]),Kt=pt(["accept","action","align","alt","autocapitalize","autocomplete","autopictureinpicture","autoplay","background","bgcolor","border","capture","cellpadding","cellspacing","checked","cite","class","clear","color","cols","colspan","controls","controlslist","coords","crossorigin","datetime","decoding","default","dir","disabled","disablepictureinpicture","disableremoteplayback","download","draggable","enctype","enterkeyhint","face","for","headers","height","hidden","high","href","hreflang","id","inputmode","integrity","ismap","kind","label","lang","list","loading","loop","low","max","maxlength","media","method","min","minlength","multiple","muted","name","nonce","noshade","novalidate","nowrap","open","optimum","pattern","placeholder","playsinline","poster","preload","pubdate","radiogroup","readonly","rel","required","rev","reversed","role","rows","rowspan","spellcheck","scope","selected","shape","size","sizes","span","srclang","start","src","srcset","step","style","summary","tabindex","title","translate","type","usemap","valign","value","width","xmlns","slot"]),Bt=pt(["accent-height","accumulate","additive","alignment-baseline","ascent","attributename","attributetype","azimuth","basefrequency","baseline-shift","begin","bias","by","class","clip","clippathunits","clip-path","clip-rule","color","color-interpolation","color-interpolation-filters","color-profile","color-rendering","cx","cy","d","dx","dy","diffuseconstant","direction","display","divisor","dur","edgemode","elevation","end","fill","fill-opacity","fill-rule","filter","filterunits","flood-color","flood-opacity","font-family","font-size","font-size-adjust","font-stretch","font-style","font-variant","font-weight","fx","fy","g1","g2","glyph-name","glyphref","gradientunits","gradienttransform","height","href","id","image-rendering","in","in2","k","k1","k2","k3","k4","kerning","keypoints","keysplines","keytimes","lang","lengthadjust","letter-spacing","kernelmatrix","kernelunitlength","lighting-color","local","marker-end","marker-mid","marker-start","markerheight","markerunits","markerwidth","maskcontentunits","maskunits","max","mask","media","method","mode","min","name","numoctaves","offset","operator","opacity","order","orient","orientation","origin","overflow","paint-order","path","pathlength","patterncontentunits","patterntransform","patternunits","points","preservealpha","preserveaspectratio","primitiveunits","r","rx","ry","radius","refx","refy","repeatcount","repeatdur","restart","result","rotate","scale","seed","shape-rendering","specularconstant","specularexponent","spreadmethod","startoffset","stddeviation","stitchtiles","stop-color","stop-opacity","stroke-dasharray","stroke-dashoffset","stroke-linecap","stroke-linejoin","stroke-miterlimit","stroke-opacity","stroke","stroke-width","style","surfacescale","systemlanguage","tabindex","targetx","targety","transform","transform-origin","text-anchor","text-decoration","text-rendering","textlength","type","u1","u2","unicode","values","viewbox","visibility","version","vert-adv-y","vert-origin-x","vert-origin-y","width","word-spacing","wrap","writing-mode","xchannelselector","ychannelselector","x","x1","x2","xmlns","y","y1","y2","z","zoomandpan"]),qt=pt(["accent","accentunder","align","bevelled","close","columnsalign","columnlines","columnspan","denomalign","depth","dir","display","displaystyle","encoding","fence","frame","height","href","id","largeop","length","linethickness","lspace","lquote","mathbackground","mathcolor","mathsize","mathvariant","maxsize","minsize","movablelimits","notation","numalign","open","rowalign","rowlines","rowspacing","rowspan","rspace","rquote","scriptlevel","scriptminsize","scriptsizemultiplier","selection","separator","separators","stretchy","subscriptshift","supscriptshift","symmetric","voffset","width","xmlns"]),Mt=pt(["xlink:href","xml:id","xlink:title","xml:space","xmlns:xlink"]),ai=bt(/\{\{[\w\W]*|[\w\W]*\}\}/gm),li=bt(/<%[\w\W]*|[\w\W]*%>/gm),di=bt(/\${[\w\W]*}/gm),ci=bt(/^data-[\-\w.\u00B7-\uFFFF]/),ui=bt(/^aria-[\-\w]+$/),jt=bt(/^(?:(?:(?:f|ht)tps?|mailto|tel|callto|sms|cid|xmpp):|[^a-z]|[a-z+.\-]+(?:[^a-z+.\-:]|$))/i),hi=bt(/^(?:\w+script|data):/i),gi=bt(/[\u0000-\u0020\u00A0\u1680\u180E\u2000-\u2029\u205F\u3000]/g),$t=bt(/^html$/i);var Gt=Object.freeze({__proto__:null,MUSTACHE_EXPR:ai,ERB_EXPR:li,TMPLIT_EXPR:di,DATA_ATTR:ci,ARIA_ATTR:ui,IS_ALLOWED_URI:jt,IS_SCRIPT_OR_DATA:hi,ATTR_WHITESPACE:gi,DOCTYPE_NAME:$t});const fi=()=>typeof window>"u"?null:window,mi=function(e,L){if(typeof e!="object"||typeof e.createPolicy!="function")return null;let k=null;const y="data-tt-policy-suffix";L&&L.hasAttribute(y)&&(k=L.getAttribute(y));const D="dompurify"+(k?"#"+k:"");try{return e.createPolicy(D,{createHTML(S){return S},createScriptURL(S){return S}})}catch{return console.warn("TrustedTypes policy "+D+" could not be created."),null}};function Zt(){let Q=arguments.length>0&&arguments[0]!==void 0?arguments[0]:fi();const e=Be=>Zt(Be);if(e.version="3.0.5",e.removed=[],!Q||!Q.document||Q.document.nodeType!==9)return e.isSupported=!1,e;const L=Q.document,k=L.currentScript;let{document:y}=Q;const{DocumentFragment:D,HTMLTemplateElement:S,Node:f,Element:_,NodeFilter:g,NamedNodeMap:C=Q.NamedNodeMap||Q.MozNamedAttrMap,HTMLFormElement:s,DOMParser:i,trustedTypes:n}=Q,t=_.prototype,a=Nt(t,"cloneNode"),u=Nt(t,"nextSibling"),h=Nt(t,"childNodes"),r=Nt(t,"parentNode");if(typeof S=="function"){const Be=y.createElement("template");Be.content&&Be.content.ownerDocument&&(y=Be.content.ownerDocument)}let c,o="";const{implementation:d,createNodeIterator:l,createDocumentFragment:p,getElementsByTagName:m}=y,{importNode:v}=L;let b={};e.isSupported=typeof Wt=="function"&&typeof r=="function"&&d&&d.createHTMLDocument!==void 0;const{MUSTACHE_EXPR:w,ERB_EXPR:E,TMPLIT_EXPR:I,DATA_ATTR:M,ARIA_ATTR:P,IS_SCRIPT_OR_DATA:x,ATTR_WHITESPACE:T}=Gt;let{IS_ALLOWED_URI:A}=Gt,N=null;const F=Je({},[...Ht,...Ot,...Ft,...xt,...Ut]);let O=null;const W=Je({},[...Kt,...Bt,...qt,...Mt]);let U=Object.seal(Object.create(null,{tagNameCheck:{writable:!0,configurable:!1,enumerable:!0,value:null},attributeNameCheck:{writable:!0,configurable:!1,enumerable:!0,value:null},allowCustomizedBuiltInElements:{writable:!0,configurable:!1,enumerable:!0,value:!1}})),j=null,R=null,K=!0,G=!0,Z=!1,J=!0,X=!1,H=!1,B=!1,V=!1,Y=!1,ie=!1,ae=!1,ce=!0,de=!1;const he="user-content-";let ue=!0,te=!1,q={},z=null;const ee=Je({},["annotation-xml","audio","colgroup","desc","foreignobject","head","iframe","math","mi","mn","mo","ms","mtext","noembed","noframes","noscript","plaintext","script","style","svg","template","thead","title","video","xmp"]);let $=null;const re=Je({},["audio","video","img","source","image","track"]);let oe=null;const ge=Je({},["alt","class","for","id","label","name","pattern","placeholder","role","summary","title","value","style","xmlns"]),ve="http://www.w3.org/1998/Math/MathML",Se="http://www.w3.org/2000/svg",Le="http://www.w3.org/1999/xhtml";let De=Le,ye=!1,Ee=null;const Me=Je({},[ve,Se,Le],Pt);let Pe;const Fe=["application/xhtml+xml","text/html"],_e="text/html";let me,le=null;const pe=y.createElement("form"),Ce=function(Te){return Te instanceof RegExp||Te instanceof Function},be=function(Te){if(!(le&&le===Te)){if((!Te||typeof Te!="object")&&(Te={}),Te=Et(Te),Pe=Fe.indexOf(Te.PARSER_MEDIA_TYPE)===-1?Pe=_e:Pe=Te.PARSER_MEDIA_TYPE,me=Pe==="application/xhtml+xml"?Pt:Tt,N="ALLOWED_TAGS"in Te?Je({},Te.ALLOWED_TAGS,me):F,O="ALLOWED_ATTR"in Te?Je({},Te.ALLOWED_ATTR,me):W,Ee="ALLOWED_NAMESPACES"in Te?Je({},Te.ALLOWED_NAMESPACES,Pt):Me,oe="ADD_URI_SAFE_ATTR"in Te?Je(Et(ge),Te.ADD_URI_SAFE_ATTR,me):ge,$="ADD_DATA_URI_TAGS"in Te?Je(Et(re),Te.ADD_DATA_URI_TAGS,me):re,z="FORBID_CONTENTS"in Te?Je({},Te.FORBID_CONTENTS,me):ee,j="FORBID_TAGS"in Te?Je({},Te.FORBID_TAGS,me):{},R="FORBID_ATTR"in Te?Je({},Te.FORBID_ATTR,me):{},q="USE_PROFILES"in Te?Te.USE_PROFILES:!1,K=Te.ALLOW_ARIA_ATTR!==!1,G=Te.ALLOW_DATA_ATTR!==!1,Z=Te.ALLOW_UNKNOWN_PROTOCOLS||!1,J=Te.ALLOW_SELF_CLOSE_IN_ATTR!==!1,X=Te.SAFE_FOR_TEMPLATES||!1,H=Te.WHOLE_DOCUMENT||!1,Y=Te.RETURN_DOM||!1,ie=Te.RETURN_DOM_FRAGMENT||!1,ae=Te.RETURN_TRUSTED_TYPE||!1,V=Te.FORCE_BODY||!1,ce=Te.SANITIZE_DOM!==!1,de=Te.SANITIZE_NAMED_PROPS||!1,ue=Te.KEEP_CONTENT!==!1,te=Te.IN_PLACE||!1,A=Te.ALLOWED_URI_REGEXP||jt,De=Te.NAMESPACE||Le,U=Te.CUSTOM_ELEMENT_HANDLING||{},Te.CUSTOM_ELEMENT_HANDLING&&Ce(Te.CUSTOM_ELEMENT_HANDLING.tagNameCheck)&&(U.tagNameCheck=Te.CUSTOM_ELEMENT_HANDLING.tagNameCheck),Te.CUSTOM_ELEMENT_HANDLING&&Ce(Te.CUSTOM_ELEMENT_HANDLING.attributeNameCheck)&&(U.attributeNameCheck=Te.CUSTOM_ELEMENT_HANDLING.attributeNameCheck),Te.CUSTOM_ELEMENT_HANDLING&&typeof Te.CUSTOM_ELEMENT_HANDLING.allowCustomizedBuiltInElements=="boolean"&&(U.allowCustomizedBuiltInElements=Te.CUSTOM_ELEMENT_HANDLING.allowCustomizedBuiltInElements),X&&(G=!1),ie&&(Y=!0),q&&(N=Je({},[...Ut]),O=[],q.html===!0&&(Je(N,Ht),Je(O,Kt)),q.svg===!0&&(Je(N,Ot),Je(O,Bt),Je(O,Mt)),q.svgFilters===!0&&(Je(N,Ft),Je(O,Bt),Je(O,Mt)),q.mathMl===!0&&(Je(N,xt),Je(O,qt),Je(O,Mt))),Te.ADD_TAGS&&(N===F&&(N=Et(N)),Je(N,Te.ADD_TAGS,me)),Te.ADD_ATTR&&(O===W&&(O=Et(O)),Je(O,Te.ADD_ATTR,me)),Te.ADD_URI_SAFE_ATTR&&Je(oe,Te.ADD_URI_SAFE_ATTR,me),Te.FORBID_CONTENTS&&(z===ee&&(z=Et(z)),Je(z,Te.FORBID_CONTENTS,me)),ue&&(N["#text"]=!0),H&&Je(N,["html","head","body"]),N.table&&(Je(N,["tbody"]),delete j.tbody),Te.TRUSTED_TYPES_POLICY){if(typeof Te.TRUSTED_TYPES_POLICY.createHTML!="function")throw kt('TRUSTED_TYPES_POLICY configuration option must provide a "createHTML" hook.');if(typeof Te.TRUSTED_TYPES_POLICY.createScriptURL!="function")throw kt('TRUSTED_TYPES_POLICY configuration option must provide a "createScriptURL" hook.');c=Te.TRUSTED_TYPES_POLICY,o=c.createHTML("")}else c===void 0&&(c=mi(n,k)),c!==null&&typeof o=="string"&&(o=c.createHTML(""));pt&&pt(Te),le=Te}},Ie=Je({},["mi","mo","mn","ms","mtext"]),Ne=Je({},["foreignobject","desc","title","annotation-xml"]),Re=Je({},["title","style","font","a","script"]),Ve=Je({},Ot);Je(Ve,Ft),Je(Ve,oi);const ze=Je({},xt);Je(ze,ri);const We=function(Te){let xe=r(Te);(!xe||!xe.tagName)&&(xe={namespaceURI:De,tagName:"template"});const He=Tt(Te.tagName),Ye=Tt(xe.tagName);return Ee[Te.namespaceURI]?Te.namespaceURI===Se?xe.namespaceURI===Le?He==="svg":xe.namespaceURI===ve?He==="svg"&&(Ye==="annotation-xml"||Ie[Ye]):!!Ve[He]:Te.namespaceURI===ve?xe.namespaceURI===Le?He==="math":xe.namespaceURI===Se?He==="math"&&Ne[Ye]:!!ze[He]:Te.namespaceURI===Le?xe.namespaceURI===Se&&!Ne[Ye]||xe.namespaceURI===ve&&!Ie[Ye]?!1:!ze[He]&&(Re[He]||!Ve[He]):!!(Pe==="application/xhtml+xml"&&Ee[Te.namespaceURI]):!1},qe=function(Te){It(e.removed,{element:Te});try{Te.parentNode.removeChild(Te)}catch{Te.remove()}},Oe=function(Te,xe){try{It(e.removed,{attribute:xe.getAttributeNode(Te),from:xe})}catch{It(e.removed,{attribute:null,from:xe})}if(xe.removeAttribute(Te),Te==="is"&&!O[Te])if(Y||ie)try{qe(xe)}catch{}else try{xe.setAttribute(Te,"")}catch{}},Ge=function(Te){let xe,He;if(V)Te="<remove></remove>"+Te;else{const Xe=ti(Te,/^[\r\n\t ]+/);He=Xe&&Xe[0]}Pe==="application/xhtml+xml"&&De===Le&&(Te='<html xmlns="http://www.w3.org/1999/xhtml"><head></head><body>'+Te+"</body></html>");const Ye=c?c.createHTML(Te):Te;if(De===Le)try{xe=new i().parseFromString(Ye,Pe)}catch{}if(!xe||!xe.documentElement){xe=d.createDocument(De,"template",null);try{xe.documentElement.innerHTML=ye?o:Ye}catch{}}const Ze=xe.body||xe.documentElement;return Te&&He&&Ze.insertBefore(y.createTextNode(He),Ze.childNodes[0]||null),De===Le?m.call(xe,H?"html":"body")[0]:H?xe.documentElement:Ze},Qe=function(Te){return l.call(Te.ownerDocument||Te,Te,g.SHOW_ELEMENT|g.SHOW_COMMENT|g.SHOW_TEXT,null,!1)},st=function(Te){return Te instanceof s&&(typeof Te.nodeName!="string"||typeof Te.textContent!="string"||typeof Te.removeChild!="function"||!(Te.attributes instanceof C)||typeof Te.removeAttribute!="function"||typeof Te.setAttribute!="function"||typeof Te.namespaceURI!="string"||typeof Te.insertBefore!="function"||typeof Te.hasChildNodes!="function")},nt=function(Te){return typeof f=="object"?Te instanceof f:Te&&typeof Te=="object"&&typeof Te.nodeType=="number"&&typeof Te.nodeName=="string"},ot=function(Te,xe,He){b[Te]&&ei(b[Te],Ye=>{Ye.call(e,xe,He,le)})},ct=function(Te){let xe;if(ot("beforeSanitizeElements",Te,null),st(Te))return qe(Te),!0;const He=me(Te.nodeName);if(ot("uponSanitizeElement",Te,{tagName:He,allowedTags:N}),Te.hasChildNodes()&&!nt(Te.firstElementChild)&&(!nt(Te.content)||!nt(Te.content.firstElementChild))&&vt(/<[/\w]/g,Te.innerHTML)&&vt(/<[/\w]/g,Te.textContent))return qe(Te),!0;if(!N[He]||j[He]){if(!j[He]&&gt(He)&&(U.tagNameCheck instanceof RegExp&&vt(U.tagNameCheck,He)||U.tagNameCheck instanceof Function&&U.tagNameCheck(He)))return!1;if(ue&&!z[He]){const Ye=r(Te)||Te.parentNode,Ze=h(Te)||Te.childNodes;if(Ze&&Ye){const Xe=Ze.length;for(let je=Xe-1;je>=0;--je)Ye.insertBefore(a(Ze[je],!0),u(Te))}}return qe(Te),!0}return Te instanceof _&&!We(Te)||(He==="noscript"||He==="noembed"||He==="noframes")&&vt(/<\/no(script|embed|frames)/i,Te.innerHTML)?(qe(Te),!0):(X&&Te.nodeType===3&&(xe=Te.textContent,xe=_t(xe,w," "),xe=_t(xe,E," "),xe=_t(xe,I," "),Te.textContent!==xe&&(It(e.removed,{element:Te.cloneNode()}),Te.textContent=xe)),ot("afterSanitizeElements",Te,null),!1)},lt=function(Te,xe,He){if(ce&&(xe==="id"||xe==="name")&&(He in y||He in pe))return!1;if(!(G&&!R[xe]&&vt(M,xe))){if(!(K&&vt(P,xe))){if(!O[xe]||R[xe]){if(!(gt(Te)&&(U.tagNameCheck instanceof RegExp&&vt(U.tagNameCheck,Te)||U.tagNameCheck instanceof Function&&U.tagNameCheck(Te))&&(U.attributeNameCheck instanceof RegExp&&vt(U.attributeNameCheck,xe)||U.attributeNameCheck instanceof Function&&U.attributeNameCheck(xe))||xe==="is"&&U.allowCustomizedBuiltInElements&&(U.tagNameCheck instanceof RegExp&&vt(U.tagNameCheck,He)||U.tagNameCheck instanceof Function&&U.tagNameCheck(He))))return!1}else if(!oe[xe]){if(!vt(A,_t(He,T,""))){if(!((xe==="src"||xe==="xlink:href"||xe==="href")&&Te!=="script"&&ii(He,"data:")===0&&$[Te])){if(!(Z&&!vt(x,_t(He,T,"")))){if(He)return!1}}}}}}return!0},gt=function(Te){return Te.indexOf("-")>0},at=function(Te){let xe,He,Ye,Ze;ot("beforeSanitizeAttributes",Te,null);const{attributes:Xe}=Te;if(!Xe)return;const je={attrName:"",attrValue:"",keepAttr:!0,allowedAttributes:O};for(Ze=Xe.length;Ze--;){xe=Xe[Ze];const{name:Ae,namespaceURI:Ue}=xe;if(He=Ae==="value"?xe.value:ni(xe.value),Ye=me(Ae),je.attrName=Ye,je.attrValue=He,je.keepAttr=!0,je.forceKeepAttr=void 0,ot("uponSanitizeAttribute",Te,je),He=je.attrValue,je.forceKeepAttr||(Oe(Ae,Te),!je.keepAttr))continue;if(!J&&vt(/\/>/i,He)){Oe(Ae,Te);continue}X&&(He=_t(He,w," "),He=_t(He,E," "),He=_t(He,I," "));const Ke=me(Te.nodeName);if(lt(Ke,Ye,He)){if(de&&(Ye==="id"||Ye==="name")&&(Oe(Ae,Te),He=he+He),c&&typeof n=="object"&&typeof n.getAttributeType=="function"&&!Ue)switch(n.getAttributeType(Ke,Ye)){case"TrustedHTML":{He=c.createHTML(He);break}case"TrustedScriptURL":{He=c.createScriptURL(He);break}}try{Ue?Te.setAttributeNS(Ue,Ae,He):Te.setAttribute(Ae,He),zt(e.removed)}catch{}}}ot("afterSanitizeAttributes",Te,null)},ht=function Be(Te){let xe;const He=Qe(Te);for(ot("beforeSanitizeShadowDOM",Te,null);xe=He.nextNode();)ot("uponSanitizeShadowNode",xe,null),!ct(xe)&&(xe.content instanceof D&&Be(xe.content),at(xe));ot("afterSanitizeShadowDOM",Te,null)};return e.sanitize=function(Be){let Te=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},xe,He,Ye,Ze;if(ye=!Be,ye&&(Be="<!-->"),typeof Be!="string"&&!nt(Be))if(typeof Be.toString=="function"){if(Be=Be.toString(),typeof Be!="string")throw kt("dirty is not a string, aborting")}else throw kt("toString is not a function");if(!e.isSupported)return Be;if(B||be(Te),e.removed=[],typeof Be=="string"&&(te=!1),te){if(Be.nodeName){const Ae=me(Be.nodeName);if(!N[Ae]||j[Ae])throw kt("root node is forbidden and cannot be sanitized in-place")}}else if(Be instanceof f)xe=Ge("<!---->"),He=xe.ownerDocument.importNode(Be,!0),He.nodeType===1&&He.nodeName==="BODY"||He.nodeName==="HTML"?xe=He:xe.appendChild(He);else{if(!Y&&!X&&!H&&Be.indexOf("<")===-1)return c&&ae?c.createHTML(Be):Be;if(xe=Ge(Be),!xe)return Y?null:ae?o:""}xe&&V&&qe(xe.firstChild);const Xe=Qe(te?Be:xe);for(;Ye=Xe.nextNode();)ct(Ye)||(Ye.content instanceof D&&ht(Ye.content),at(Ye));if(te)return Be;if(Y){if(ie)for(Ze=p.call(xe.ownerDocument);xe.firstChild;)Ze.appendChild(xe.firstChild);else Ze=xe;return(O.shadowroot||O.shadowrootmode)&&(Ze=v.call(L,Ze,!0)),Ze}let je=H?xe.outerHTML:xe.innerHTML;return H&&N["!doctype"]&&xe.ownerDocument&&xe.ownerDocument.doctype&&xe.ownerDocument.doctype.name&&vt($t,xe.ownerDocument.doctype.name)&&(je="<!DOCTYPE "+xe.ownerDocument.doctype.name+`>
`+je),X&&(je=_t(je,w," "),je=_t(je,E," "),je=_t(je,I," ")),c&&ae?c.createHTML(je):je},e.setConfig=function(Be){be(Be),B=!0},e.clearConfig=function(){le=null,B=!1},e.isValidAttribute=function(Be,Te,xe){le||be({});const He=me(Be),Ye=me(Te);return lt(He,Ye,xe)},e.addHook=function(Be,Te){typeof Te=="function"&&(b[Be]=b[Be]||[],It(b[Be],Te))},e.removeHook=function(Be){if(b[Be])return zt(b[Be])},e.removeHooks=function(Be){b[Be]&&(b[Be]=[])},e.removeAllHooks=function(){b={}},e}var pi=Zt();define("vs/base/browser/dompurify/dompurify",function(){return pi}),define(ne[35],se([1,0]),function(Q,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.createFastDomNode=e.FastDomNode=void 0;class L{constructor(S){this.domNode=S,this._maxWidth="",this._width="",this._height="",this._top="",this._left="",this._bottom="",this._right="",this._paddingLeft="",this._fontFamily="",this._fontWeight="",this._fontSize="",this._fontStyle="",this._fontFeatureSettings="",this._fontVariationSettings="",this._textDecoration="",this._lineHeight="",this._letterSpacing="",this._className="",this._display="",this._position="",this._visibility="",this._color="",this._backgroundColor="",this._layerHint=!1,this._contain="none",this._boxShadow=""}setMaxWidth(S){const f=k(S);this._maxWidth!==f&&(this._maxWidth=f,this.domNode.style.maxWidth=this._maxWidth)}setWidth(S){const f=k(S);this._width!==f&&(this._width=f,this.domNode.style.width=this._width)}setHeight(S){const f=k(S);this._height!==f&&(this._height=f,this.domNode.style.height=this._height)}setTop(S){const f=k(S);this._top!==f&&(this._top=f,this.domNode.style.top=this._top)}setLeft(S){const f=k(S);this._left!==f&&(this._left=f,this.domNode.style.left=this._left)}setBottom(S){const f=k(S);this._bottom!==f&&(this._bottom=f,this.domNode.style.bottom=this._bottom)}setRight(S){const f=k(S);this._right!==f&&(this._right=f,this.domNode.style.right=this._right)}setPaddingLeft(S){const f=k(S);this._paddingLeft!==f&&(this._paddingLeft=f,this.domNode.style.paddingLeft=this._paddingLeft)}setFontFamily(S){this._fontFamily!==S&&(this._fontFamily=S,this.domNode.style.fontFamily=this._fontFamily)}setFontWeight(S){this._fontWeight!==S&&(this._fontWeight=S,this.domNode.style.fontWeight=this._fontWeight)}setFontSize(S){const f=k(S);this._fontSize!==f&&(this._fontSize=f,this.domNode.style.fontSize=this._fontSize)}setFontStyle(S){this._fontStyle!==S&&(this._fontStyle=S,this.domNode.style.fontStyle=this._fontStyle)}setFontFeatureSettings(S){this._fontFeatureSettings!==S&&(this._fontFeatureSettings=S,this.domNode.style.fontFeatureSettings=this._fontFeatureSettings)}setFontVariationSettings(S){this._fontVariationSettings!==S&&(this._fontVariationSettings=S,this.domNode.style.fontVariationSettings=this._fontVariationSettings)}setTextDecoration(S){this._textDecoration!==S&&(this._textDecoration=S,this.domNode.style.textDecoration=this._textDecoration)}setLineHeight(S){const f=k(S);this._lineHeight!==f&&(this._lineHeight=f,this.domNode.style.lineHeight=this._lineHeight)}setLetterSpacing(S){const f=k(S);this._letterSpacing!==f&&(this._letterSpacing=f,this.domNode.style.letterSpacing=this._letterSpacing)}setClassName(S){this._className!==S&&(this._className=S,this.domNode.className=this._className)}toggleClassName(S,f){this.domNode.classList.toggle(S,f),this._className=this.domNode.className}setDisplay(S){this._display!==S&&(this._display=S,this.domNode.style.display=this._display)}setPosition(S){this._position!==S&&(this._position=S,this.domNode.style.position=this._position)}setVisibility(S){this._visibility!==S&&(this._visibility=S,this.domNode.style.visibility=this._visibility)}setColor(S){this._color!==S&&(this._color=S,this.domNode.style.color=this._color)}setBackgroundColor(S){this._backgroundColor!==S&&(this._backgroundColor=S,this.domNode.style.backgroundColor=this._backgroundColor)}setLayerHinting(S){this._layerHint!==S&&(this._layerHint=S,this.domNode.style.transform=this._layerHint?"translate3d(0px, 0px, 0px)":"")}setBoxShadow(S){this._boxShadow!==S&&(this._boxShadow=S,this.domNode.style.boxShadow=S)}setContain(S){this._contain!==S&&(this._contain=S,this.domNode.style.contain=this._contain)}setAttribute(S,f){this.domNode.setAttribute(S,f)}removeAttribute(S){this.domNode.removeAttribute(S)}appendChild(S){this.domNode.appendChild(S.domNode)}removeChild(S){this.domNode.removeChild(S.domNode)}}e.FastDomNode=L;function k(D){return typeof D=="number"?`${D}px`:D}function y(D){return new L(D)}e.createFastDomNode=y}),define(ne[380],se([1,0]),function(Q,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.IframeUtils=void 0;let L=!1,k=null;function y(S){if(!S.parent||S.parent===S)return null;try{const f=S.location,_=S.parent.location;if(f.origin!=="null"&&_.origin!=="null"&&f.origin!==_.origin)return L=!0,null}catch{return L=!0,null}return S.parent}class D{static getSameOriginWindowChain(){if(!k){k=[];let f=window,_;do _=y(f),_?k.push({window:f,iframeElement:f.frameElement||null}):k.push({window:f,iframeElement:null}),f=_;while(f)}return k.slice(0)}static getPositionOfChildWindowRelativeToAncestorWindow(f,_){if(!_||f===_)return{top:0,left:0};let g=0,C=0;const s=this.getSameOriginWindowChain();for(const i of s){if(g+=i.window.scrollY,C+=i.window.scrollX,i.window===_||!i.iframeElement)break;const n=i.iframeElement.getBoundingClientRect();g+=n.top,C+=n.left}return{top:g,left:C}}}e.IframeUtils=D}),define(ne[260],se([1,0]),function(Q,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.inputLatency=void 0;var L;(function(k){const y={total:0,min:Number.MAX_VALUE,max:0},D=Object.assign({},y),S=Object.assign({},y),f=Object.assign({},y);let _=0;const g={keydown:0,input:0,render:0};function C(){o(),performance.mark("inputlatency/start"),performance.mark("keydown/start"),g.keydown=1,queueMicrotask(s)}k.onKeyDown=C;function s(){g.keydown===1&&(performance.mark("keydown/end"),g.keydown=2)}function i(){performance.mark("input/start"),g.input=1,c()}k.onBeforeInput=i;function n(){g.input===0&&i(),queueMicrotask(t)}k.onInput=n;function t(){g.input===1&&(performance.mark("input/end"),g.input=2)}function a(){o()}k.onKeyUp=a;function u(){o()}k.onSelectionChange=u;function h(){g.keydown===2&&g.input===2&&g.render===0&&(performance.mark("render/start"),g.render=1,queueMicrotask(r),c())}k.onRenderStart=h;function r(){g.render===1&&(performance.mark("render/end"),g.render=2)}function c(){setTimeout(o)}function o(){g.keydown===2&&g.input===2&&g.render===2&&(performance.mark("inputlatency/end"),performance.measure("keydown","keydown/start","keydown/end"),performance.measure("input","input/start","input/end"),performance.measure("render","render/start","render/end"),performance.measure("inputlatency","inputlatency/start","inputlatency/end"),d("keydown",y),d("input",D),d("render",S),d("inputlatency",f),_++,l())}function d(b,w){const E=performance.getEntriesByName(b)[0].duration;w.total+=E,w.min=Math.min(w.min,E),w.max=Math.max(w.max,E)}function l(){performance.clearMarks("keydown/start"),performance.clearMarks("keydown/end"),performance.clearMarks("input/start"),performance.clearMarks("input/end"),performance.clearMarks("render/start"),performance.clearMarks("render/end"),performance.clearMarks("inputlatency/start"),performance.clearMarks("inputlatency/end"),performance.clearMeasures("keydown"),performance.clearMeasures("input"),performance.clearMeasures("render"),performance.clearMeasures("inputlatency"),g.keydown=0,g.input=0,g.render=0}function p(){if(_===0)return;const b={keydown:m(y),input:m(D),render:m(S),total:m(f),sampleCount:_};return v(y),v(D),v(S),v(f),_=0,b}k.getAndClearMeasurements=p;function m(b){return{average:b.total/_,max:b.max,min:b.min}}function v(b){b.total=0,b.min=Number.MAX_VALUE,b.max=0}})(L||(e.inputLatency=L={}))}),define(ne[381],se([1,0]),function(Q,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ListError=void 0;class L extends Error{constructor(y,D){super(`ListError [${y}] ${D}`)}}e.ListError=L}),define(ne[382],se([1,0]),function(Q,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.CombinedSpliceable=void 0;class L{constructor(y){this.spliceables=y}splice(y,D,S){this.spliceables.forEach(f=>f.splice(y,D,S))}}e.CombinedSpliceable=L}),define(ne[195],se([1,0]),function(Q,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ScrollbarState=void 0;const L=20;class k{constructor(D,S,f,_,g,C){this._scrollbarSize=Math.round(S),this._oppositeScrollbarSize=Math.round(f),this._arrowSize=Math.round(D),this._visibleSize=_,this._scrollSize=g,this._scrollPosition=C,this._computedAvailableSize=0,this._computedIsNeeded=!1,this._computedSliderSize=0,this._computedSliderRatio=0,this._computedSliderPosition=0,this._refreshComputedValues()}clone(){return new k(this._arrowSize,this._scrollbarSize,this._oppositeScrollbarSize,this._visibleSize,this._scrollSize,this._scrollPosition)}setVisibleSize(D){const S=Math.round(D);return this._visibleSize!==S?(this._visibleSize=S,this._refreshComputedValues(),!0):!1}setScrollSize(D){const S=Math.round(D);return this._scrollSize!==S?(this._scrollSize=S,this._refreshComputedValues(),!0):!1}setScrollPosition(D){const S=Math.round(D);return this._scrollPosition!==S?(this._scrollPosition=S,this._refreshComputedValues(),!0):!1}setScrollbarSize(D){this._scrollbarSize=Math.round(D)}setOppositeScrollbarSize(D){this._oppositeScrollbarSize=Math.round(D)}static _computeValues(D,S,f,_,g){const C=Math.max(0,f-D),s=Math.max(0,C-2*S),i=_>0&&_>f;if(!i)return{computedAvailableSize:Math.round(C),computedIsNeeded:i,computedSliderSize:Math.round(s),computedSliderRatio:0,computedSliderPosition:0};const n=Math.round(Math.max(L,Math.floor(f*s/_))),t=(s-n)/(_-f),a=g*t;return{computedAvailableSize:Math.round(C),computedIsNeeded:i,computedSliderSize:Math.round(n),computedSliderRatio:t,computedSliderPosition:Math.round(a)}}_refreshComputedValues(){const D=k._computeValues(this._oppositeScrollbarSize,this._arrowSize,this._visibleSize,this._scrollSize,this._scrollPosition);this._computedAvailableSize=D.computedAvailableSize,this._computedIsNeeded=D.computedIsNeeded,this._computedSliderSize=D.computedSliderSize,this._computedSliderRatio=D.computedSliderRatio,this._computedSliderPosition=D.computedSliderPosition}getArrowSize(){return this._arrowSize}getScrollPosition(){return this._scrollPosition}getRectangleLargeSize(){return this._computedAvailableSize}getRectangleSmallSize(){return this._scrollbarSize}isNeeded(){return this._computedIsNeeded}getSliderSize(){return this._computedSliderSize}getSliderPosition(){return this._computedSliderPosition}getDesiredScrollPositionFromOffset(D){if(!this._computedIsNeeded)return 0;const S=D-this._arrowSize-this._computedSliderSize/2;return Math.round(S/this._computedSliderRatio)}getDesiredScrollPositionFromOffsetPaged(D){if(!this._computedIsNeeded)return 0;const S=D-this._arrowSize;let f=this._scrollPosition;return S<this._computedSliderPosition?f-=this._visibleSize:f+=this._visibleSize,f}getDesiredScrollPositionFromDelta(D){if(!this._computedIsNeeded)return 0;const S=this._computedSliderPosition+D;return Math.round(S/this._computedSliderRatio)}}e.ScrollbarState=k}),define(ne[139],se([1,0]),function(Q,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.WeakMapper=e.TreeError=e.TreeMouseEventTarget=e.ObjectTreeElementCollapseState=void 0;var L;(function(S){S[S.Expanded=0]="Expanded",S[S.Collapsed=1]="Collapsed",S[S.PreserveOrExpanded=2]="PreserveOrExpanded",S[S.PreserveOrCollapsed=3]="PreserveOrCollapsed"})(L||(e.ObjectTreeElementCollapseState=L={}));var k;(function(S){S[S.Unknown=0]="Unknown",S[S.Twistie=1]="Twistie",S[S.Element=2]="Element",S[S.Filter=3]="Filter"})(k||(e.TreeMouseEventTarget=k={}));class y extends Error{constructor(f,_){super(`TreeError [${f}] ${_}`)}}e.TreeError=y;class D{constructor(f){this.fn=f,this._map=new WeakMap}map(f){let _=this._map.get(f);return _||(_=this.fn(f),this._map.set(f,_)),_}}e.WeakMapper=D}),define(ne[14],se([1,0]),function(Q,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.CallbackIterable=e.ArrayQueue=e.findMaxIdxBy=e.findMinBy=e.findLastMaxBy=e.findMaxBy=e.reverseOrder=e.booleanComparator=e.numberComparator=e.tieBreakComparators=e.compareBy=e.CompareResult=e.splice=e.insertInto=e.mapFind=e.asArray=e.pushMany=e.pushToEnd=e.pushToStart=e.arrayInsert=e.range=e.firstOrDefault=e.findLastIndex=e.findLast=e.distinct=e.isNonEmptyArray=e.isFalsyOrEmpty=e.coalesceInPlace=e.coalesce=e.groupBy=e.quickSelect=e.findFirstInSorted=e.binarySearch2=e.binarySearch=e.removeFastWithoutKeepingOrder=e.equals=e.tail2=e.tail=void 0;function L(R,K=0){return R[R.length-(1+K)]}e.tail=L;function k(R){if(R.length===0)throw new Error("Invalid tail call");return[R.slice(0,R.length-1),R[R.length-1]]}e.tail2=k;function y(R,K,G=(Z,J)=>Z===J){if(R===K)return!0;if(!R||!K||R.length!==K.length)return!1;for(let Z=0,J=R.length;Z<J;Z++)if(!G(R[Z],K[Z]))return!1;return!0}e.equals=y;function D(R,K){const G=R.length-1;K<G&&(R[K]=R[G]),R.pop()}e.removeFastWithoutKeepingOrder=D;function S(R,K,G){return f(R.length,Z=>G(R[Z],K))}e.binarySearch=S;function f(R,K){let G=0,Z=R-1;for(;G<=Z;){const J=(G+Z)/2|0,X=K(J);if(X<0)G=J+1;else if(X>0)Z=J-1;else return J}return-(G+1)}e.binarySearch2=f;function _(R,K){let G=0,Z=R.length;if(Z===0)return 0;for(;G<Z;){const J=Math.floor((G+Z)/2);K(R[J])?Z=J:G=J+1}return G}e.findFirstInSorted=_;function g(R,K,G){if(R=R|0,R>=K.length)throw new TypeError("invalid index");const Z=K[Math.floor(K.length*Math.random())],J=[],X=[],H=[];for(const B of K){const V=G(B,Z);V<0?J.push(B):V>0?X.push(B):H.push(B)}return R<J.length?g(R,J,G):R<J.length+H.length?H[0]:g(R-(J.length+H.length),X,G)}e.quickSelect=g;function C(R,K){const G=[];let Z;for(const J of R.slice(0).sort(K))!Z||K(Z[0],J)!==0?(Z=[J],G.push(Z)):Z.push(J);return G}e.groupBy=C;function s(R){return R.filter(K=>!!K)}e.coalesce=s;function i(R){let K=0;for(let G=0;G<R.length;G++)R[G]&&(R[K]=R[G],K+=1);R.length=K}e.coalesceInPlace=i;function n(R){return!Array.isArray(R)||R.length===0}e.isFalsyOrEmpty=n;function t(R){return Array.isArray(R)&&R.length>0}e.isNonEmptyArray=t;function a(R,K=G=>G){const G=new Set;return R.filter(Z=>{const J=K(Z);return G.has(J)?!1:(G.add(J),!0)})}e.distinct=a;function u(R,K){const G=h(R,K);if(G!==-1)return R[G]}e.findLast=u;function h(R,K){for(let G=R.length-1;G>=0;G--){const Z=R[G];if(K(Z))return G}return-1}e.findLastIndex=h;function r(R,K){return R.length>0?R[0]:K}e.firstOrDefault=r;function c(R,K){let G=typeof K=="number"?R:0;typeof K=="number"?G=R:(G=0,K=R);const Z=[];if(G<=K)for(let J=G;J<K;J++)Z.push(J);else for(let J=G;J>K;J--)Z.push(J);return Z}e.range=c;function o(R,K,G){const Z=R.slice(0,K),J=R.slice(K);return Z.concat(G,J)}e.arrayInsert=o;function d(R,K){const G=R.indexOf(K);G>-1&&(R.splice(G,1),R.unshift(K))}e.pushToStart=d;function l(R,K){const G=R.indexOf(K);G>-1&&(R.splice(G,1),R.push(K))}e.pushToEnd=l;function p(R,K){for(const G of K)R.push(G)}e.pushMany=p;function m(R){return Array.isArray(R)?R:[R]}e.asArray=m;function v(R,K){for(const G of R){const Z=K(G);if(Z!==void 0)return Z}}e.mapFind=v;function b(R,K,G){const Z=E(R,K),J=R.length,X=G.length;R.length=J+X;for(let H=J-1;H>=Z;H--)R[H+X]=R[H];for(let H=0;H<X;H++)R[H+Z]=G[H]}e.insertInto=b;function w(R,K,G,Z){const J=E(R,K),X=R.splice(J,G);return b(R,J,Z),X}e.splice=w;function E(R,K){return K<0?Math.max(K+R.length,0):Math.min(K,R.length)}var I;(function(R){function K(X){return X<0}R.isLessThan=K;function G(X){return X<=0}R.isLessThanOrEqual=G;function Z(X){return X>0}R.isGreaterThan=Z;function J(X){return X===0}R.isNeitherLessOrGreaterThan=J,R.greaterThan=1,R.lessThan=-1,R.neitherLessOrGreaterThan=0})(I||(e.CompareResult=I={}));function M(R,K){return(G,Z)=>K(R(G),R(Z))}e.compareBy=M;function P(...R){return(K,G)=>{for(const Z of R){const J=Z(K,G);if(!I.isNeitherLessOrGreaterThan(J))return J}return I.neitherLessOrGreaterThan}}e.tieBreakComparators=P;const x=(R,K)=>R-K;e.numberComparator=x;const T=(R,K)=>(0,e.numberComparator)(R?1:0,K?1:0);e.booleanComparator=T;function A(R){return(K,G)=>-R(K,G)}e.reverseOrder=A;function N(R,K){if(R.length===0)return;let G=R[0];for(let Z=1;Z<R.length;Z++){const J=R[Z];K(J,G)>0&&(G=J)}return G}e.findMaxBy=N;function F(R,K){if(R.length===0)return;let G=R[0];for(let Z=1;Z<R.length;Z++){const J=R[Z];K(J,G)>=0&&(G=J)}return G}e.findLastMaxBy=F;function O(R,K){return N(R,(G,Z)=>-K(G,Z))}e.findMinBy=O;function W(R,K){if(R.length===0)return-1;let G=0;for(let Z=1;Z<R.length;Z++){const J=R[Z];K(J,R[G])>0&&(G=Z)}return G}e.findMaxIdxBy=W;class U{constructor(K){this.items=K,this.firstIdx=0,this.lastIdx=this.items.length-1}get length(){return this.lastIdx-this.firstIdx+1}takeWhile(K){let G=this.firstIdx;for(;G<this.items.length&&K(this.items[G]);)G++;const Z=G===this.firstIdx?null:this.items.slice(this.firstIdx,G);return this.firstIdx=G,Z}takeFromEndWhile(K){let G=this.lastIdx;for(;G>=0&&K(this.items[G]);)G--;const Z=G===this.lastIdx?null:this.items.slice(G+1,this.lastIdx+1);return this.lastIdx=G,Z}peek(){if(this.length!==0)return this.items[this.firstIdx]}dequeue(){const K=this.items[this.firstIdx];return this.firstIdx++,K}takeCount(K){const G=this.items.slice(this.firstIdx,this.firstIdx+K);return this.firstIdx+=K,G}}e.ArrayQueue=U;class j{constructor(K){this.iterate=K}toArray(){const K=[];return this.iterate(G=>(K.push(G),!0)),K}filter(K){return new j(G=>this.iterate(Z=>K(Z)?G(Z):!0))}map(K){return new j(G=>this.iterate(Z=>G(K(Z))))}findLast(K){let G;return this.iterate(Z=>(K(Z)&&(G=Z),!0)),G}findLastMaxBy(K){let G,Z=!0;return this.iterate(J=>((Z||I.isGreaterThan(K(J,G)))&&(Z=!1,G=J),!0)),G}}e.CallbackIterable=j,j.empty=new j(R=>{})}),define(ne[261],se([1,0]),function(Q,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.CachedFunction=e.LRUCachedFunction=void 0;class L{constructor(D){this.fn=D,this.lastCache=void 0,this.lastArgKey=void 0}get(D){const S=JSON.stringify(D);return this.lastArgKey!==S&&(this.lastArgKey=S,this.lastCache=this.fn(D)),this.lastCache}}e.LRUCachedFunction=L;class k{get cachedValues(){return this._map}constructor(D){this.fn=D,this._map=new Map}get(D){if(this._map.has(D))return this._map.get(D);const S=this.fn(D);return this._map.set(D,S),S}}e.CachedFunction=k}),define(ne[196],se([1,0]),function(Q,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.SetMap=void 0;class L{constructor(){this.map=new Map}add(y,D){let S=this.map.get(y);S||(S=new Set,this.map.set(y,S)),S.add(D)}delete(y,D){const S=this.map.get(y);S&&(S.delete(D),S.size===0&&this.map.delete(y))}forEach(y,D){const S=this.map.get(y);S&&S.forEach(D)}get(y){const D=this.map.get(y);return D||new Set}}e.SetMap=L}),define(ne[38],se([1,0]),function(Q,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.Color=e.HSVA=e.HSLA=e.RGBA=void 0;function L(f,_){const g=Math.pow(10,_);return Math.round(f*g)/g}class k{constructor(_,g,C,s=1){this._rgbaBrand=void 0,this.r=Math.min(255,Math.max(0,_))|0,this.g=Math.min(255,Math.max(0,g))|0,this.b=Math.min(255,Math.max(0,C))|0,this.a=L(Math.max(Math.min(1,s),0),3)}static equals(_,g){return _.r===g.r&&_.g===g.g&&_.b===g.b&&_.a===g.a}}e.RGBA=k;class y{constructor(_,g,C,s){this._hslaBrand=void 0,this.h=Math.max(Math.min(360,_),0)|0,this.s=L(Math.max(Math.min(1,g),0),3),this.l=L(Math.max(Math.min(1,C),0),3),this.a=L(Math.max(Math.min(1,s),0),3)}static equals(_,g){return _.h===g.h&&_.s===g.s&&_.l===g.l&&_.a===g.a}static fromRGBA(_){const g=_.r/255,C=_.g/255,s=_.b/255,i=_.a,n=Math.max(g,C,s),t=Math.min(g,C,s);let a=0,u=0;const h=(t+n)/2,r=n-t;if(r>0){switch(u=Math.min(h<=.5?r/(2*h):r/(2-2*h),1),n){case g:a=(C-s)/r+(C<s?6:0);break;case C:a=(s-g)/r+2;break;case s:a=(g-C)/r+4;break}a*=60,a=Math.round(a)}return new y(a,u,h,i)}static _hue2rgb(_,g,C){return C<0&&(C+=1),C>1&&(C-=1),C<1/6?_+(g-_)*6*C:C<1/2?g:C<2/3?_+(g-_)*(2/3-C)*6:_}static toRGBA(_){const g=_.h/360,{s:C,l:s,a:i}=_;let n,t,a;if(C===0)n=t=a=s;else{const u=s<.5?s*(1+C):s+C-s*C,h=2*s-u;n=y._hue2rgb(h,u,g+1/3),t=y._hue2rgb(h,u,g),a=y._hue2rgb(h,u,g-1/3)}return new k(Math.round(n*255),Math.round(t*255),Math.round(a*255),i)}}e.HSLA=y;class D{constructor(_,g,C,s){this._hsvaBrand=void 0,this.h=Math.max(Math.min(360,_),0)|0,this.s=L(Math.max(Math.min(1,g),0),3),this.v=L(Math.max(Math.min(1,C),0),3),this.a=L(Math.max(Math.min(1,s),0),3)}static equals(_,g){return _.h===g.h&&_.s===g.s&&_.v===g.v&&_.a===g.a}static fromRGBA(_){const g=_.r/255,C=_.g/255,s=_.b/255,i=Math.max(g,C,s),n=Math.min(g,C,s),t=i-n,a=i===0?0:t/i;let u;return t===0?u=0:i===g?u=((C-s)/t%6+6)%6:i===C?u=(s-g)/t+2:u=(g-C)/t+4,new D(Math.round(u*60),a,i,_.a)}static toRGBA(_){const{h:g,s:C,v:s,a:i}=_,n=s*C,t=n*(1-Math.abs(g/60%2-1)),a=s-n;let[u,h,r]=[0,0,0];return g<60?(u=n,h=t):g<120?(u=t,h=n):g<180?(h=n,r=t):g<240?(h=t,r=n):g<300?(u=t,r=n):g<=360&&(u=n,r=t),u=Math.round((u+a)*255),h=Math.round((h+a)*255),r=Math.round((r+a)*255),new k(u,h,r,i)}}e.HSVA=D;class S{static fromHex(_){return S.Format.CSS.parseHex(_)||S.red}static equals(_,g){return!_&&!g?!0:!_||!g?!1:_.equals(g)}get hsla(){return this._hsla?this._hsla:y.fromRGBA(this.rgba)}get hsva(){return this._hsva?this._hsva:D.fromRGBA(this.rgba)}constructor(_){if(_)if(_ instanceof k)this.rgba=_;else if(_ instanceof y)this._hsla=_,this.rgba=y.toRGBA(_);else if(_ instanceof D)this._hsva=_,this.rgba=D.toRGBA(_);else throw new Error("Invalid color ctor argument");else throw new Error("Color needs a value")}equals(_){return!!_&&k.equals(this.rgba,_.rgba)&&y.equals(this.hsla,_.hsla)&&D.equals(this.hsva,_.hsva)}getRelativeLuminance(){const _=S._relativeLuminanceForComponent(this.rgba.r),g=S._relativeLuminanceForComponent(this.rgba.g),C=S._relativeLuminanceForComponent(this.rgba.b),s=.2126*_+.7152*g+.0722*C;return L(s,4)}static _relativeLuminanceForComponent(_){const g=_/255;return g<=.03928?g/12.92:Math.pow((g+.055)/1.055,2.4)}isLighter(){return(this.rgba.r*299+this.rgba.g*587+this.rgba.b*114)/1e3>=128}isLighterThan(_){const g=this.getRelativeLuminance(),C=_.getRelativeLuminance();return g>C}isDarkerThan(_){const g=this.getRelativeLuminance(),C=_.getRelativeLuminance();return g<C}lighten(_){return new S(new y(this.hsla.h,this.hsla.s,this.hsla.l+this.hsla.l*_,this.hsla.a))}darken(_){return new S(new y(this.hsla.h,this.hsla.s,this.hsla.l-this.hsla.l*_,this.hsla.a))}transparent(_){const{r:g,g:C,b:s,a:i}=this.rgba;return new S(new k(g,C,s,i*_))}isTransparent(){return this.rgba.a===0}isOpaque(){return this.rgba.a===1}opposite(){return new S(new k(255-this.rgba.r,255-this.rgba.g,255-this.rgba.b,this.rgba.a))}makeOpaque(_){if(this.isOpaque()||_.rgba.a!==1)return this;const{r:g,g:C,b:s,a:i}=this.rgba;return new S(new k(_.rgba.r-i*(_.rgba.r-g),_.rgba.g-i*(_.rgba.g-C),_.rgba.b-i*(_.rgba.b-s),1))}toString(){return this._toString||(this._toString=S.Format.CSS.format(this)),this._toString}static getLighterColor(_,g,C){if(_.isLighterThan(g))return _;C=C||.5;const s=_.getRelativeLuminance(),i=g.getRelativeLuminance();return C=C*(i-s)/i,_.lighten(C)}static getDarkerColor(_,g,C){if(_.isDarkerThan(g))return _;C=C||.5;const s=_.getRelativeLuminance(),i=g.getRelativeLuminance();return C=C*(s-i)/s,_.darken(C)}}e.Color=S,S.white=new S(new k(255,255,255,1)),S.black=new S(new k(0,0,0,1)),S.red=new S(new k(255,0,0,1)),S.blue=new S(new k(0,0,255,1)),S.green=new S(new k(0,255,0,1)),S.cyan=new S(new k(0,255,255,1)),S.lightgrey=new S(new k(211,211,211,1)),S.transparent=new S(new k(0,0,0,0)),function(f){let _;(function(g){let C;(function(s){function i(l){return l.rgba.a===1?`rgb(${l.rgba.r}, ${l.rgba.g}, ${l.rgba.b})`:f.Format.CSS.formatRGBA(l)}s.formatRGB=i;function n(l){return`rgba(${l.rgba.r}, ${l.rgba.g}, ${l.rgba.b}, ${+l.rgba.a.toFixed(2)})`}s.formatRGBA=n;function t(l){return l.hsla.a===1?`hsl(${l.hsla.h}, ${(l.hsla.s*100).toFixed(2)}%, ${(l.hsla.l*100).toFixed(2)}%)`:f.Format.CSS.formatHSLA(l)}s.formatHSL=t;function a(l){return`hsla(${l.hsla.h}, ${(l.hsla.s*100).toFixed(2)}%, ${(l.hsla.l*100).toFixed(2)}%, ${l.hsla.a.toFixed(2)})`}s.formatHSLA=a;function u(l){const p=l.toString(16);return p.length!==2?"0"+p:p}function h(l){return`#${u(l.rgba.r)}${u(l.rgba.g)}${u(l.rgba.b)}`}s.formatHex=h;function r(l,p=!1){return p&&l.rgba.a===1?f.Format.CSS.formatHex(l):`#${u(l.rgba.r)}${u(l.rgba.g)}${u(l.rgba.b)}${u(Math.round(l.rgba.a*255))}`}s.formatHexA=r;function c(l){return l.isOpaque()?f.Format.CSS.formatHex(l):f.Format.CSS.formatRGBA(l)}s.format=c;function o(l){const p=l.length;if(p===0||l.charCodeAt(0)!==35)return null;if(p===7){const m=16*d(l.charCodeAt(1))+d(l.charCodeAt(2)),v=16*d(l.charCodeAt(3))+d(l.charCodeAt(4)),b=16*d(l.charCodeAt(5))+d(l.charCodeAt(6));return new f(new k(m,v,b,1))}if(p===9){const m=16*d(l.charCodeAt(1))+d(l.charCodeAt(2)),v=16*d(l.charCodeAt(3))+d(l.charCodeAt(4)),b=16*d(l.charCodeAt(5))+d(l.charCodeAt(6)),w=16*d(l.charCodeAt(7))+d(l.charCodeAt(8));return new f(new k(m,v,b,w/255))}if(p===4){const m=d(l.charCodeAt(1)),v=d(l.charCodeAt(2)),b=d(l.charCodeAt(3));return new f(new k(16*m+m,16*v+v,16*b+b))}if(p===5){const m=d(l.charCodeAt(1)),v=d(l.charCodeAt(2)),b=d(l.charCodeAt(3)),w=d(l.charCodeAt(4));return new f(new k(16*m+m,16*v+v,16*b+b,(16*w+w)/255))}return null}s.parseHex=o;function d(l){switch(l){case 48:return 0;case 49:return 1;case 50:return 2;case 51:return 3;case 52:return 4;case 53:return 5;case 54:return 6;case 55:return 7;case 56:return 8;case 57:return 9;case 97:return 10;case 65:return 10;case 98:return 11;case 66:return 11;case 99:return 12;case 67:return 12;case 100:return 13;case 68:return 13;case 101:return 14;case 69:return 14;case 102:return 15;case 70:return 15}return 0}})(C=g.CSS||(g.CSS={}))})(_=f.Format||(f.Format={}))}(S||(e.Color=S={}))}),define(ne[106],se([1,0]),function(Q,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.memoize=void 0;function L(k,y,D){let S=null,f=null;if(typeof D.value=="function"?(S="value",f=D.value,f.length!==0&&console.warn("Memoize should only be used in functions with zero parameters")):typeof D.get=="function"&&(S="get",f=D.get),!f)throw new Error("not supported");const _=`$memoize$${y}`;D[S]=function(...g){return this.hasOwnProperty(_)||Object.defineProperty(this,_,{configurable:!1,enumerable:!1,writable:!1,value:f.apply(this,g)}),this[_]}}e.memoize=L}),define(ne[383],se([1,0]),function(Q,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.DiffChange=void 0;class L{constructor(y,D,S,f){this.originalStart=y,this.originalLength=D,this.modifiedStart=S,this.modifiedLength=f}getOriginalEnd(){return this.originalStart+this.originalLength}getModifiedEnd(){return this.modifiedStart+this.modifiedLength}}e.DiffChange=L}),define(ne[9],se([1,0]),function(Q,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.BugIndicatingError=e.ErrorNoTelemetry=e.NotSupportedError=e.illegalState=e.illegalArgument=e.canceled=e.CancellationError=e.isCancellationError=e.transformErrorForSerialization=e.onUnexpectedExternalError=e.onUnexpectedError=e.errorHandler=e.ErrorHandler=void 0;class L{constructor(){this.listeners=[],this.unexpectedErrorHandler=function(u){setTimeout(()=>{throw u.stack?n.isErrorNoTelemetry(u)?new n(u.message+`

`+u.stack):new Error(u.message+`

`+u.stack):u},0)}}emit(u){this.listeners.forEach(h=>{h(u)})}onUnexpectedError(u){this.unexpectedErrorHandler(u),this.emit(u)}onUnexpectedExternalError(u){this.unexpectedErrorHandler(u)}}e.ErrorHandler=L,e.errorHandler=new L;function k(a){f(a)||e.errorHandler.onUnexpectedError(a)}e.onUnexpectedError=k;function y(a){f(a)||e.errorHandler.onUnexpectedExternalError(a)}e.onUnexpectedExternalError=y;function D(a){if(a instanceof Error){const{name:u,message:h}=a,r=a.stacktrace||a.stack;return{$isError:!0,name:u,message:h,stack:r,noTelemetry:n.isErrorNoTelemetry(a)}}return a}e.transformErrorForSerialization=D;const S="Canceled";function f(a){return a instanceof _?!0:a instanceof Error&&a.name===S&&a.message===S}e.isCancellationError=f;class _ extends Error{constructor(){super(S),this.name=this.message}}e.CancellationError=_;function g(){const a=new Error(S);return a.name=a.message,a}e.canceled=g;function C(a){return a?new Error(`Illegal argument: ${a}`):new Error("Illegal argument")}e.illegalArgument=C;function s(a){return a?new Error(`Illegal state: ${a}`):new Error("Illegal state")}e.illegalState=s;class i extends Error{constructor(u){super("NotSupported"),u&&(this.message=u)}}e.NotSupportedError=i;class n extends Error{constructor(u){super(u),this.name="CodeExpectedError"}static fromError(u){if(u instanceof n)return u;const h=new n;return h.message=u.message,h.stack=u.stack,h}static isErrorNoTelemetry(u){return u.name==="CodeExpectedError"}}e.ErrorNoTelemetry=n;class t extends Error{constructor(u){super(u||"An unexpected bug occurred."),Object.setPrototypeOf(this,t.prototype)}}e.BugIndicatingError=t}),define(ne[89],se([1,0,9]),function(Q,e,L){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.createTrustedTypesPolicy=void 0;function k(y,D){var S;const f=globalThis.MonacoEnvironment;if(f?.createTrustedTypesPolicy)try{return f.createTrustedTypesPolicy(y,D)}catch(_){(0,L.onUnexpectedError)(_);return}try{return(S=window.trustedTypes)===null||S===void 0?void 0:S.createPolicy(y,D)}catch(_){(0,L.onUnexpectedError)(_);return}}e.createTrustedTypesPolicy=k}),define(ne[85],se([1,0,9]),function(Q,e,L){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.checkAdjacentItems=e.assertFn=e.assertNever=e.ok=void 0;function k(f,_){if(!f)throw new Error(_?`Assertion failed (${_})`:"Assertion Failed")}e.ok=k;function y(f,_="Unreachable"){throw new Error(_)}e.assertNever=y;function D(f){if(!f()){debugger;f(),(0,L.onUnexpectedError)(new L.BugIndicatingError("Assertion Failed"))}}e.assertFn=D;function S(f,_){let g=0;for(;g<f.length-1;){const C=f[g],s=f[g+1];if(!_(C,s))return!1;g++}return!0}e.checkAdjacentItems=S}),define(ne[99],se([1,0]),function(Q,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.once=void 0;function L(k){const y=this;let D=!1,S;return function(){return D||(D=!0,S=k.apply(y,arguments)),S}}e.once=L}),define(ne[164],se([1,0]),function(Q,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.defaultGenerator=e.IdGenerator=void 0;class L{constructor(y){this._prefix=y,this._lastId=0}nextId(){return this._prefix+ ++this._lastId}}e.IdGenerator=L,e.defaultGenerator=new L("id#")}),define(ne[46],se([1,0]),function(Q,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.Iterable=void 0;var L;(function(k){function y(o){return o&&typeof o=="object"&&typeof o[Symbol.iterator]=="function"}k.is=y;const D=Object.freeze([]);function S(){return D}k.empty=S;function*f(o){yield o}k.single=f;function _(o){return y(o)?o:f(o)}k.wrap=_;function g(o){return o||D}k.from=g;function C(o){return!o||o[Symbol.iterator]().next().done===!0}k.isEmpty=C;function s(o){return o[Symbol.iterator]().next().value}k.first=s;function i(o,d){for(const l of o)if(d(l))return!0;return!1}k.some=i;function n(o,d){for(const l of o)if(d(l))return l}k.find=n;function*t(o,d){for(const l of o)d(l)&&(yield l)}k.filter=t;function*a(o,d){let l=0;for(const p of o)yield d(p,l++)}k.map=a;function*u(...o){for(const d of o)for(const l of d)yield l}k.concat=u;function h(o,d,l){let p=l;for(const m of o)p=d(p,m);return p}k.reduce=h;function*r(o,d,l=o.length){for(d<0&&(d+=o.length),l<0?l+=o.length:l>o.length&&(l=o.length);d<l;d++)yield o[d]}k.slice=r;function c(o,d=Number.POSITIVE_INFINITY){const l=[];if(d===0)return[l,o];const p=o[Symbol.iterator]();for(let m=0;m<d;m++){const v=p.next();if(v.done)return[l,k.empty()];l.push(v.value)}return[l,{[Symbol.iterator](){return p}}]}k.consume=c})(L||(e.Iterable=L={}))}),define(ne[63],se([1,0]),function(Q,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.KeyChord=e.KeyCodeUtils=e.IMMUTABLE_KEY_CODE_TO_CODE=e.IMMUTABLE_CODE_TO_KEY_CODE=e.NATIVE_WINDOWS_KEY_CODE_TO_KEY_CODE=e.EVENT_KEY_CODE_MAP=void 0;class L{constructor(){this._keyCodeToStr=[],this._strToKeyCode=Object.create(null)}define(i,n){this._keyCodeToStr[i]=n,this._strToKeyCode[n.toLowerCase()]=i}keyCodeToStr(i){return this._keyCodeToStr[i]}strToKeyCode(i){return this._strToKeyCode[i.toLowerCase()]||0}}const k=new L,y=new L,D=new L;e.EVENT_KEY_CODE_MAP=new Array(230),e.NATIVE_WINDOWS_KEY_CODE_TO_KEY_CODE={};const S=[],f=Object.create(null),_=Object.create(null);e.IMMUTABLE_CODE_TO_KEY_CODE=[],e.IMMUTABLE_KEY_CODE_TO_CODE=[];for(let s=0;s<=193;s++)e.IMMUTABLE_CODE_TO_KEY_CODE[s]=-1;for(let s=0;s<=132;s++)e.IMMUTABLE_KEY_CODE_TO_CODE[s]=-1;(function(){const s="",i=[[1,0,"None",0,"unknown",0,"VK_UNKNOWN",s,s],[1,1,"Hyper",0,s,0,s,s,s],[1,2,"Super",0,s,0,s,s,s],[1,3,"Fn",0,s,0,s,s,s],[1,4,"FnLock",0,s,0,s,s,s],[1,5,"Suspend",0,s,0,s,s,s],[1,6,"Resume",0,s,0,s,s,s],[1,7,"Turbo",0,s,0,s,s,s],[1,8,"Sleep",0,s,0,"VK_SLEEP",s,s],[1,9,"WakeUp",0,s,0,s,s,s],[0,10,"KeyA",31,"A",65,"VK_A",s,s],[0,11,"KeyB",32,"B",66,"VK_B",s,s],[0,12,"KeyC",33,"C",67,"VK_C",s,s],[0,13,"KeyD",34,"D",68,"VK_D",s,s],[0,14,"KeyE",35,"E",69,"VK_E",s,s],[0,15,"KeyF",36,"F",70,"VK_F",s,s],[0,16,"KeyG",37,"G",71,"VK_G",s,s],[0,17,"KeyH",38,"H",72,"VK_H",s,s],[0,18,"KeyI",39,"I",73,"VK_I",s,s],[0,19,"KeyJ",40,"J",74,"VK_J",s,s],[0,20,"KeyK",41,"K",75,"VK_K",s,s],[0,21,"KeyL",42,"L",76,"VK_L",s,s],[0,22,"KeyM",43,"M",77,"VK_M",s,s],[0,23,"KeyN",44,"N",78,"VK_N",s,s],[0,24,"KeyO",45,"O",79,"VK_O",s,s],[0,25,"KeyP",46,"P",80,"VK_P",s,s],[0,26,"KeyQ",47,"Q",81,"VK_Q",s,s],[0,27,"KeyR",48,"R",82,"VK_R",s,s],[0,28,"KeyS",49,"S",83,"VK_S",s,s],[0,29,"KeyT",50,"T",84,"VK_T",s,s],[0,30,"KeyU",51,"U",85,"VK_U",s,s],[0,31,"KeyV",52,"V",86,"VK_V",s,s],[0,32,"KeyW",53,"W",87,"VK_W",s,s],[0,33,"KeyX",54,"X",88,"VK_X",s,s],[0,34,"KeyY",55,"Y",89,"VK_Y",s,s],[0,35,"KeyZ",56,"Z",90,"VK_Z",s,s],[0,36,"Digit1",22,"1",49,"VK_1",s,s],[0,37,"Digit2",23,"2",50,"VK_2",s,s],[0,38,"Digit3",24,"3",51,"VK_3",s,s],[0,39,"Digit4",25,"4",52,"VK_4",s,s],[0,40,"Digit5",26,"5",53,"VK_5",s,s],[0,41,"Digit6",27,"6",54,"VK_6",s,s],[0,42,"Digit7",28,"7",55,"VK_7",s,s],[0,43,"Digit8",29,"8",56,"VK_8",s,s],[0,44,"Digit9",30,"9",57,"VK_9",s,s],[0,45,"Digit0",21,"0",48,"VK_0",s,s],[1,46,"Enter",3,"Enter",13,"VK_RETURN",s,s],[1,47,"Escape",9,"Escape",27,"VK_ESCAPE",s,s],[1,48,"Backspace",1,"Backspace",8,"VK_BACK",s,s],[1,49,"Tab",2,"Tab",9,"VK_TAB",s,s],[1,50,"Space",10,"Space",32,"VK_SPACE",s,s],[0,51,"Minus",88,"-",189,"VK_OEM_MINUS","-","OEM_MINUS"],[0,52,"Equal",86,"=",187,"VK_OEM_PLUS","=","OEM_PLUS"],[0,53,"BracketLeft",92,"[",219,"VK_OEM_4","[","OEM_4"],[0,54,"BracketRight",94,"]",221,"VK_OEM_6","]","OEM_6"],[0,55,"Backslash",93,"\\",220,"VK_OEM_5","\\","OEM_5"],[0,56,"IntlHash",0,s,0,s,s,s],[0,57,"Semicolon",85,";",186,"VK_OEM_1",";","OEM_1"],[0,58,"Quote",95,"'",222,"VK_OEM_7","'","OEM_7"],[0,59,"Backquote",91,"`",192,"VK_OEM_3","`","OEM_3"],[0,60,"Comma",87,",",188,"VK_OEM_COMMA",",","OEM_COMMA"],[0,61,"Period",89,".",190,"VK_OEM_PERIOD",".","OEM_PERIOD"],[0,62,"Slash",90,"/",191,"VK_OEM_2","/","OEM_2"],[1,63,"CapsLock",8,"CapsLock",20,"VK_CAPITAL",s,s],[1,64,"F1",59,"F1",112,"VK_F1",s,s],[1,65,"F2",60,"F2",113,"VK_F2",s,s],[1,66,"F3",61,"F3",114,"VK_F3",s,s],[1,67,"F4",62,"F4",115,"VK_F4",s,s],[1,68,"F5",63,"F5",116,"VK_F5",s,s],[1,69,"F6",64,"F6",117,"VK_F6",s,s],[1,70,"F7",65,"F7",118,"VK_F7",s,s],[1,71,"F8",66,"F8",119,"VK_F8",s,s],[1,72,"F9",67,"F9",120,"VK_F9",s,s],[1,73,"F10",68,"F10",121,"VK_F10",s,s],[1,74,"F11",69,"F11",122,"VK_F11",s,s],[1,75,"F12",70,"F12",123,"VK_F12",s,s],[1,76,"PrintScreen",0,s,0,s,s,s],[1,77,"ScrollLock",84,"ScrollLock",145,"VK_SCROLL",s,s],[1,78,"Pause",7,"PauseBreak",19,"VK_PAUSE",s,s],[1,79,"Insert",19,"Insert",45,"VK_INSERT",s,s],[1,80,"Home",14,"Home",36,"VK_HOME",s,s],[1,81,"PageUp",11,"PageUp",33,"VK_PRIOR",s,s],[1,82,"Delete",20,"Delete",46,"VK_DELETE",s,s],[1,83,"End",13,"End",35,"VK_END",s,s],[1,84,"PageDown",12,"PageDown",34,"VK_NEXT",s,s],[1,85,"ArrowRight",17,"RightArrow",39,"VK_RIGHT","Right",s],[1,86,"ArrowLeft",15,"LeftArrow",37,"VK_LEFT","Left",s],[1,87,"ArrowDown",18,"DownArrow",40,"VK_DOWN","Down",s],[1,88,"ArrowUp",16,"UpArrow",38,"VK_UP","Up",s],[1,89,"NumLock",83,"NumLock",144,"VK_NUMLOCK",s,s],[1,90,"NumpadDivide",113,"NumPad_Divide",111,"VK_DIVIDE",s,s],[1,91,"NumpadMultiply",108,"NumPad_Multiply",106,"VK_MULTIPLY",s,s],[1,92,"NumpadSubtract",111,"NumPad_Subtract",109,"VK_SUBTRACT",s,s],[1,93,"NumpadAdd",109,"NumPad_Add",107,"VK_ADD",s,s],[1,94,"NumpadEnter",3,s,0,s,s,s],[1,95,"Numpad1",99,"NumPad1",97,"VK_NUMPAD1",s,s],[1,96,"Numpad2",100,"NumPad2",98,"VK_NUMPAD2",s,s],[1,97,"Numpad3",101,"NumPad3",99,"VK_NUMPAD3",s,s],[1,98,"Numpad4",102,"NumPad4",100,"VK_NUMPAD4",s,s],[1,99,"Numpad5",103,"NumPad5",101,"VK_NUMPAD5",s,s],[1,100,"Numpad6",104,"NumPad6",102,"VK_NUMPAD6",s,s],[1,101,"Numpad7",105,"NumPad7",103,"VK_NUMPAD7",s,s],[1,102,"Numpad8",106,"NumPad8",104,"VK_NUMPAD8",s,s],[1,103,"Numpad9",107,"NumPad9",105,"VK_NUMPAD9",s,s],[1,104,"Numpad0",98,"NumPad0",96,"VK_NUMPAD0",s,s],[1,105,"NumpadDecimal",112,"NumPad_Decimal",110,"VK_DECIMAL",s,s],[0,106,"IntlBackslash",97,"OEM_102",226,"VK_OEM_102",s,s],[1,107,"ContextMenu",58,"ContextMenu",93,s,s,s],[1,108,"Power",0,s,0,s,s,s],[1,109,"NumpadEqual",0,s,0,s,s,s],[1,110,"F13",71,"F13",124,"VK_F13",s,s],[1,111,"F14",72,"F14",125,"VK_F14",s,s],[1,112,"F15",73,"F15",126,"VK_F15",s,s],[1,113,"F16",74,"F16",127,"VK_F16",s,s],[1,114,"F17",75,"F17",128,"VK_F17",s,s],[1,115,"F18",76,"F18",129,"VK_F18",s,s],[1,116,"F19",77,"F19",130,"VK_F19",s,s],[1,117,"F20",78,"F20",131,"VK_F20",s,s],[1,118,"F21",79,"F21",132,"VK_F21",s,s],[1,119,"F22",80,"F22",133,"VK_F22",s,s],[1,120,"F23",81,"F23",134,"VK_F23",s,s],[1,121,"F24",82,"F24",135,"VK_F24",s,s],[1,122,"Open",0,s,0,s,s,s],[1,123,"Help",0,s,0,s,s,s],[1,124,"Select",0,s,0,s,s,s],[1,125,"Again",0,s,0,s,s,s],[1,126,"Undo",0,s,0,s,s,s],[1,127,"Cut",0,s,0,s,s,s],[1,128,"Copy",0,s,0,s,s,s],[1,129,"Paste",0,s,0,s,s,s],[1,130,"Find",0,s,0,s,s,s],[1,131,"AudioVolumeMute",117,"AudioVolumeMute",173,"VK_VOLUME_MUTE",s,s],[1,132,"AudioVolumeUp",118,"AudioVolumeUp",175,"VK_VOLUME_UP",s,s],[1,133,"AudioVolumeDown",119,"AudioVolumeDown",174,"VK_VOLUME_DOWN",s,s],[1,134,"NumpadComma",110,"NumPad_Separator",108,"VK_SEPARATOR",s,s],[0,135,"IntlRo",115,"ABNT_C1",193,"VK_ABNT_C1",s,s],[1,136,"KanaMode",0,s,0,s,s,s],[0,137,"IntlYen",0,s,0,s,s,s],[1,138,"Convert",0,s,0,s,s,s],[1,139,"NonConvert",0,s,0,s,s,s],[1,140,"Lang1",0,s,0,s,s,s],[1,141,"Lang2",0,s,0,s,s,s],[1,142,"Lang3",0,s,0,s,s,s],[1,143,"Lang4",0,s,0,s,s,s],[1,144,"Lang5",0,s,0,s,s,s],[1,145,"Abort",0,s,0,s,s,s],[1,146,"Props",0,s,0,s,s,s],[1,147,"NumpadParenLeft",0,s,0,s,s,s],[1,148,"NumpadParenRight",0,s,0,s,s,s],[1,149,"NumpadBackspace",0,s,0,s,s,s],[1,150,"NumpadMemoryStore",0,s,0,s,s,s],[1,151,"NumpadMemoryRecall",0,s,0,s,s,s],[1,152,"NumpadMemoryClear",0,s,0,s,s,s],[1,153,"NumpadMemoryAdd",0,s,0,s,s,s],[1,154,"NumpadMemorySubtract",0,s,0,s,s,s],[1,155,"NumpadClear",131,"Clear",12,"VK_CLEAR",s,s],[1,156,"NumpadClearEntry",0,s,0,s,s,s],[1,0,s,5,"Ctrl",17,"VK_CONTROL",s,s],[1,0,s,4,"Shift",16,"VK_SHIFT",s,s],[1,0,s,6,"Alt",18,"VK_MENU",s,s],[1,0,s,57,"Meta",91,"VK_COMMAND",s,s],[1,157,"ControlLeft",5,s,0,"VK_LCONTROL",s,s],[1,158,"ShiftLeft",4,s,0,"VK_LSHIFT",s,s],[1,159,"AltLeft",6,s,0,"VK_LMENU",s,s],[1,160,"MetaLeft",57,s,0,"VK_LWIN",s,s],[1,161,"ControlRight",5,s,0,"VK_RCONTROL",s,s],[1,162,"ShiftRight",4,s,0,"VK_RSHIFT",s,s],[1,163,"AltRight",6,s,0,"VK_RMENU",s,s],[1,164,"MetaRight",57,s,0,"VK_RWIN",s,s],[1,165,"BrightnessUp",0,s,0,s,s,s],[1,166,"BrightnessDown",0,s,0,s,s,s],[1,167,"MediaPlay",0,s,0,s,s,s],[1,168,"MediaRecord",0,s,0,s,s,s],[1,169,"MediaFastForward",0,s,0,s,s,s],[1,170,"MediaRewind",0,s,0,s,s,s],[1,171,"MediaTrackNext",124,"MediaTrackNext",176,"VK_MEDIA_NEXT_TRACK",s,s],[1,172,"MediaTrackPrevious",125,"MediaTrackPrevious",177,"VK_MEDIA_PREV_TRACK",s,s],[1,173,"MediaStop",126,"MediaStop",178,"VK_MEDIA_STOP",s,s],[1,174,"Eject",0,s,0,s,s,s],[1,175,"MediaPlayPause",127,"MediaPlayPause",179,"VK_MEDIA_PLAY_PAUSE",s,s],[1,176,"MediaSelect",128,"LaunchMediaPlayer",181,"VK_MEDIA_LAUNCH_MEDIA_SELECT",s,s],[1,177,"LaunchMail",129,"LaunchMail",180,"VK_MEDIA_LAUNCH_MAIL",s,s],[1,178,"LaunchApp2",130,"LaunchApp2",183,"VK_MEDIA_LAUNCH_APP2",s,s],[1,179,"LaunchApp1",0,s,0,"VK_MEDIA_LAUNCH_APP1",s,s],[1,180,"SelectTask",0,s,0,s,s,s],[1,181,"LaunchScreenSaver",0,s,0,s,s,s],[1,182,"BrowserSearch",120,"BrowserSearch",170,"VK_BROWSER_SEARCH",s,s],[1,183,"BrowserHome",121,"BrowserHome",172,"VK_BROWSER_HOME",s,s],[1,184,"BrowserBack",122,"BrowserBack",166,"VK_BROWSER_BACK",s,s],[1,185,"BrowserForward",123,"BrowserForward",167,"VK_BROWSER_FORWARD",s,s],[1,186,"BrowserStop",0,s,0,"VK_BROWSER_STOP",s,s],[1,187,"BrowserRefresh",0,s,0,"VK_BROWSER_REFRESH",s,s],[1,188,"BrowserFavorites",0,s,0,"VK_BROWSER_FAVORITES",s,s],[1,189,"ZoomToggle",0,s,0,s,s,s],[1,190,"MailReply",0,s,0,s,s,s],[1,191,"MailForward",0,s,0,s,s,s],[1,192,"MailSend",0,s,0,s,s,s],[1,0,s,114,"KeyInComposition",229,s,s,s],[1,0,s,116,"ABNT_C2",194,"VK_ABNT_C2",s,s],[1,0,s,96,"OEM_8",223,"VK_OEM_8",s,s],[1,0,s,0,s,0,"VK_KANA",s,s],[1,0,s,0,s,0,"VK_HANGUL",s,s],[1,0,s,0,s,0,"VK_JUNJA",s,s],[1,0,s,0,s,0,"VK_FINAL",s,s],[1,0,s,0,s,0,"VK_HANJA",s,s],[1,0,s,0,s,0,"VK_KANJI",s,s],[1,0,s,0,s,0,"VK_CONVERT",s,s],[1,0,s,0,s,0,"VK_NONCONVERT",s,s],[1,0,s,0,s,0,"VK_ACCEPT",s,s],[1,0,s,0,s,0,"VK_MODECHANGE",s,s],[1,0,s,0,s,0,"VK_SELECT",s,s],[1,0,s,0,s,0,"VK_PRINT",s,s],[1,0,s,0,s,0,"VK_EXECUTE",s,s],[1,0,s,0,s,0,"VK_SNAPSHOT",s,s],[1,0,s,0,s,0,"VK_HELP",s,s],[1,0,s,0,s,0,"VK_APPS",s,s],[1,0,s,0,s,0,"VK_PROCESSKEY",s,s],[1,0,s,0,s,0,"VK_PACKET",s,s],[1,0,s,0,s,0,"VK_DBE_SBCSCHAR",s,s],[1,0,s,0,s,0,"VK_DBE_DBCSCHAR",s,s],[1,0,s,0,s,0,"VK_ATTN",s,s],[1,0,s,0,s,0,"VK_CRSEL",s,s],[1,0,s,0,s,0,"VK_EXSEL",s,s],[1,0,s,0,s,0,"VK_EREOF",s,s],[1,0,s,0,s,0,"VK_PLAY",s,s],[1,0,s,0,s,0,"VK_ZOOM",s,s],[1,0,s,0,s,0,"VK_NONAME",s,s],[1,0,s,0,s,0,"VK_PA1",s,s],[1,0,s,0,s,0,"VK_OEM_CLEAR",s,s]],n=[],t=[];for(const a of i){const[u,h,r,c,o,d,l,p,m]=a;if(t[h]||(t[h]=!0,S[h]=r,f[r]=h,_[r.toLowerCase()]=h,u&&(e.IMMUTABLE_CODE_TO_KEY_CODE[h]=c,c!==0&&c!==3&&c!==5&&c!==4&&c!==6&&c!==57&&(e.IMMUTABLE_KEY_CODE_TO_CODE[c]=h))),!n[c]){if(n[c]=!0,!o)throw new Error(`String representation missing for key code ${c} around scan code ${r}`);k.define(c,o),y.define(c,p||o),D.define(c,m||p||o)}d&&(e.EVENT_KEY_CODE_MAP[d]=c),l&&(e.NATIVE_WINDOWS_KEY_CODE_TO_KEY_CODE[l]=c)}e.IMMUTABLE_KEY_CODE_TO_CODE[3]=46})();var g;(function(s){function i(r){return k.keyCodeToStr(r)}s.toString=i;function n(r){return k.strToKeyCode(r)}s.fromString=n;function t(r){return y.keyCodeToStr(r)}s.toUserSettingsUS=t;function a(r){return D.keyCodeToStr(r)}s.toUserSettingsGeneral=a;function u(r){return y.strToKeyCode(r)||D.strToKeyCode(r)}s.fromUserSettings=u;function h(r){if(r>=98&&r<=113)return null;switch(r){case 16:return"Up";case 18:return"Down";case 15:return"Left";case 17:return"Right"}return k.keyCodeToStr(r)}s.toElectronAccelerator=h})(g||(e.KeyCodeUtils=g={}));function C(s,i){const n=(i&65535)<<16>>>0;return(s|n)>>>0}e.KeyChord=C}),define(ne[119],se([1,0,9]),function(Q,e,L){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ResolvedKeybinding=e.ResolvedChord=e.Keybinding=e.ScanCodeChord=e.KeyCodeChord=e.createSimpleKeybinding=e.decodeKeybinding=void 0;function k(C,s){if(typeof C=="number"){if(C===0)return null;const i=(C&65535)>>>0,n=(C&4294901760)>>>16;return n!==0?new f([y(i,s),y(n,s)]):new f([y(i,s)])}else{const i=[];for(let n=0;n<C.length;n++)i.push(y(C[n],s));return new f(i)}}e.decodeKeybinding=k;function y(C,s){const i=!!(C&2048),n=!!(C&256),t=s===2?n:i,a=!!(C&1024),u=!!(C&512),h=s===2?i:n,r=C&255;return new D(t,a,u,h,r)}e.createSimpleKeybinding=y;class D{constructor(s,i,n,t,a){this.ctrlKey=s,this.shiftKey=i,this.altKey=n,this.metaKey=t,this.keyCode=a}equals(s){return s instanceof D&&this.ctrlKey===s.ctrlKey&&this.shiftKey===s.shiftKey&&this.altKey===s.altKey&&this.metaKey===s.metaKey&&this.keyCode===s.keyCode}isModifierKey(){return this.keyCode===0||this.keyCode===5||this.keyCode===57||this.keyCode===6||this.keyCode===4}isDuplicateModifierCase(){return this.ctrlKey&&this.keyCode===5||this.shiftKey&&this.keyCode===4||this.altKey&&this.keyCode===6||this.metaKey&&this.keyCode===57}}e.KeyCodeChord=D;class S{constructor(s,i,n,t,a){this.ctrlKey=s,this.shiftKey=i,this.altKey=n,this.metaKey=t,this.scanCode=a}isDuplicateModifierCase(){return this.ctrlKey&&(this.scanCode===157||this.scanCode===161)||this.shiftKey&&(this.scanCode===158||this.scanCode===162)||this.altKey&&(this.scanCode===159||this.scanCode===163)||this.metaKey&&(this.scanCode===160||this.scanCode===164)}}e.ScanCodeChord=S;class f{constructor(s){if(s.length===0)throw(0,L.illegalArgument)("chords");this.chords=s}}e.Keybinding=f;class _{constructor(s,i,n,t,a,u){this.ctrlKey=s,this.shiftKey=i,this.altKey=n,this.metaKey=t,this.keyLabel=a,this.keyAriaLabel=u}}e.ResolvedChord=_;class g{}e.ResolvedKeybinding=g}),define(ne[100],se([1,0]),function(Q,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.Lazy=void 0;class L{constructor(y){this.executor=y,this._didRun=!1}get value(){if(!this._didRun)try{this._value=this.executor()}catch(y){this._error=y}finally{this._didRun=!0}if(this._error)throw this._error;return this._value}get rawValue(){return this._value}}e.Lazy=L}),define(ne[140],se([1,0,100]),function(Q,e,L){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.writeUInt8=e.readUInt8=e.writeUInt32BE=e.readUInt32BE=e.writeUInt16LE=e.readUInt16LE=e.VSBuffer=void 0;const k=typeof Buffer<"u",y=new L.Lazy(()=>new Uint8Array(256));let D;class S{static wrap(t){return k&&!Buffer.isBuffer(t)&&(t=Buffer.from(t.buffer,t.byteOffset,t.byteLength)),new S(t)}constructor(t){this.buffer=t,this.byteLength=this.buffer.byteLength}toString(){return k?this.buffer.toString():(D||(D=new TextDecoder),D.decode(this.buffer))}}e.VSBuffer=S;function f(n,t){return n[t+0]<<0>>>0|n[t+1]<<8>>>0}e.readUInt16LE=f;function _(n,t,a){n[a+0]=t&255,t=t>>>8,n[a+1]=t&255}e.writeUInt16LE=_;function g(n,t){return n[t]*Math.pow(2,24)+n[t+1]*Math.pow(2,16)+n[t+2]*Math.pow(2,8)+n[t+3]}e.readUInt32BE=g;function C(n,t,a){n[a+3]=t,t=t>>>8,n[a+2]=t,t=t>>>8,n[a+1]=t,t=t>>>8,n[a]=t}e.writeUInt32BE=C;function s(n,t){return n[t]}e.readUInt8=s;function i(n,t,a){n[a]=t}e.writeUInt8=i}),define(ne[384],se([1,0,100]),function(Q,e,L){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.compareByPrefix=e.compareAnything=e.compareFileNames=void 0;const k=new L.Lazy(()=>{const g=new Intl.Collator(void 0,{numeric:!0,sensitivity:"base"});return{collator:g,collatorIsNumeric:g.resolvedOptions().numeric}}),y=new L.Lazy(()=>({collator:new Intl.Collator(void 0,{numeric:!0})})),D=new L.Lazy(()=>({collator:new Intl.Collator(void 0,{numeric:!0,sensitivity:"accent"})}));function S(g,C,s=!1){const i=g||"",n=C||"",t=k.value.collator.compare(i,n);return k.value.collatorIsNumeric&&t===0&&i!==n?i<n?-1:1:t}e.compareFileNames=S;function f(g,C,s){const i=g.toLowerCase(),n=C.toLowerCase(),t=_(g,C,s);if(t)return t;const a=i.endsWith(s),u=n.endsWith(s);if(a!==u)return a?-1:1;const h=S(i,n);return h!==0?h:i.localeCompare(n)}e.compareAnything=f;function _(g,C,s){const i=g.toLowerCase(),n=C.toLowerCase(),t=i.startsWith(s),a=n.startsWith(s);if(t!==a)return t?-1:1;if(t&&a){if(i.length<n.length)return-1;if(i.length>n.length)return 1}return 0}e.compareByPrefix=_}),define(ne[2],se([1,0,99,46]),function(Q,e,L,k){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.DisposableMap=e.ImmortalReference=e.RefCountedDisposable=e.MutableDisposable=e.Disposable=e.DisposableStore=e.toDisposable=e.combinedDisposable=e.dispose=e.isDisposable=e.markAsSingleton=e.setDisposableTracker=void 0;const y=!1;let D=null;function S(l){D=l}if(e.setDisposableTracker=S,y){const l="__is_disposable_tracked__";S(new class{trackDisposable(p){const m=new Error("Potentially leaked disposable").stack;setTimeout(()=>{p[l]||console.log(m)},3e3)}setParent(p,m){if(p&&p!==h.None)try{p[l]=!0}catch{}}markAsDisposed(p){if(p&&p!==h.None)try{p[l]=!0}catch{}}markAsSingleton(p){}})}function f(l){return D?.trackDisposable(l),l}function _(l){D?.markAsDisposed(l)}function g(l,p){D?.setParent(l,p)}function C(l,p){if(D)for(const m of l)D.setParent(m,p)}function s(l){return D?.markAsSingleton(l),l}e.markAsSingleton=s;function i(l){return typeof l.dispose=="function"&&l.dispose.length===0}e.isDisposable=i;function n(l){if(k.Iterable.is(l)){const p=[];for(const m of l)if(m)try{m.dispose()}catch(v){p.push(v)}if(p.length===1)throw p[0];if(p.length>1)throw new AggregateError(p,"Encountered errors while disposing of store");return Array.isArray(l)?[]:l}else if(l)return l.dispose(),l}e.dispose=n;function t(...l){const p=a(()=>n(l));return C(l,p),p}e.combinedDisposable=t;function a(l){const p=f({dispose:(0,L.once)(()=>{_(p),l()})});return p}e.toDisposable=a;class u{constructor(){this._toDispose=new Set,this._isDisposed=!1,f(this)}dispose(){this._isDisposed||(_(this),this._isDisposed=!0,this.clear())}get isDisposed(){return this._isDisposed}clear(){if(this._toDispose.size!==0)try{n(this._toDispose)}finally{this._toDispose.clear()}}add(p){if(!p)return p;if(p===this)throw new Error("Cannot register a disposable on itself!");return g(p,this),this._isDisposed?u.DISABLE_DISPOSED_WARNING||console.warn(new Error("Trying to add a disposable to a DisposableStore that has already been disposed of. The added object will be leaked!").stack):this._toDispose.add(p),p}}e.DisposableStore=u,u.DISABLE_DISPOSED_WARNING=!1;class h{constructor(){this._store=new u,f(this),g(this._store,this)}dispose(){_(this),this._store.dispose()}_register(p){if(p===this)throw new Error("Cannot register a disposable on itself!");return this._store.add(p)}}e.Disposable=h,h.None=Object.freeze({dispose(){}});class r{constructor(){this._isDisposed=!1,f(this)}get value(){return this._isDisposed?void 0:this._value}set value(p){var m;this._isDisposed||p===this._value||((m=this._value)===null||m===void 0||m.dispose(),p&&g(p,this),this._value=p)}clear(){this.value=void 0}dispose(){var p;this._isDisposed=!0,_(this),(p=this._value)===null||p===void 0||p.dispose(),this._value=void 0}}e.MutableDisposable=r;class c{constructor(p){this._disposable=p,this._counter=1}acquire(){return this._counter++,this}release(){return--this._counter===0&&this._disposable.dispose(),this}}e.RefCountedDisposable=c;class o{constructor(p){this.object=p}dispose(){}}e.ImmortalReference=o;class d{constructor(){this._store=new Map,this._isDisposed=!1,f(this)}dispose(){_(this),this._isDisposed=!0,this.clearAndDisposeAll()}clearAndDisposeAll(){if(this._store.size)try{n(this._store.values())}finally{this._store.clear()}}get(p){return this._store.get(p)}set(p,m,v=!1){var b;this._isDisposed&&console.warn(new Error("Trying to add a disposable to a DisposableMap that has already been disposed of. The added object will be leaked!").stack),v||(b=this._store.get(p))===null||b===void 0||b.dispose(),this._store.set(p,m)}deleteAndDispose(p){var m;(m=this._store.get(p))===null||m===void 0||m.dispose(),this._store.delete(p)}[Symbol.iterator](){return this._store[Symbol.iterator]()}}e.DisposableMap=d}),define(ne[64],se([1,0]),function(Q,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.LinkedList=void 0;class L{constructor(D){this.element=D,this.next=L.Undefined,this.prev=L.Undefined}}L.Undefined=new L(void 0);class k{constructor(){this._first=L.Undefined,this._last=L.Undefined,this._size=0}get size(){return this._size}isEmpty(){return this._first===L.Undefined}clear(){let D=this._first;for(;D!==L.Undefined;){const S=D.next;D.prev=L.Undefined,D.next=L.Undefined,D=S}this._first=L.Undefined,this._last=L.Undefined,this._size=0}unshift(D){return this._insert(D,!1)}push(D){return this._insert(D,!0)}_insert(D,S){const f=new L(D);if(this._first===L.Undefined)this._first=f,this._last=f;else if(S){const g=this._last;this._last=f,f.prev=g,g.next=f}else{const g=this._first;this._first=f,f.next=g,g.prev=f}this._size+=1;let _=!1;return()=>{_||(_=!0,this._remove(f))}}shift(){if(this._first!==L.Undefined){const D=this._first.element;return this._remove(this._first),D}}pop(){if(this._last!==L.Undefined){const D=this._last.element;return this._remove(this._last),D}}_remove(D){if(D.prev!==L.Undefined&&D.next!==L.Undefined){const S=D.prev;S.next=D.next,D.next.prev=S}else D.prev===L.Undefined&&D.next===L.Undefined?(this._first=L.Undefined,this._last=L.Undefined):D.next===L.Undefined?(this._last=this._last.prev,this._last.next=L.Undefined):D.prev===L.Undefined&&(this._first=this._first.next,this._first.prev=L.Undefined);this._size-=1}*[Symbol.iterator](){let D=this._first;for(;D!==L.Undefined;)yield D.element,D=D.next}}e.LinkedList=k});var ke=this&&this.__decorate||function(Q,e,L,k){var y=arguments.length,D=y<3?e:k===null?k=Object.getOwnPropertyDescriptor(e,L):k,S;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")D=Reflect.decorate(Q,e,L,k);else for(var f=Q.length-1;f>=0;f--)(S=Q[f])&&(D=(y<3?S(D):y>3?S(e,L,D):S(e,L))||D);return y>3&&D&&Object.defineProperty(e,L,D),D};define(ne[385],se([1,0,106]),function(Q,e,L){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.parseLinkedText=e.LinkedText=void 0;class k{constructor(f){this.nodes=f}toString(){return this.nodes.map(f=>typeof f=="string"?f:f.label).join("")}}e.LinkedText=k,ke([L.memoize],k.prototype,"toString",null);const y=/\[([^\]]+)\]\(((?:https?:\/\/|command:|file:)[^\)\s]+)(?: (["'])(.+?)(\3))?\)/gi;function D(S){const f=[];let _=0,g;for(;g=y.exec(S);){g.index-_>0&&f.push(S.substring(_,g.index));const[,C,s,,i]=g;i?f.push({label:C,href:s,title:i}):f.push({label:C,href:s}),_=g.index+g[0].length}return _<S.length&&f.push(S.substring(_)),new k(f)}e.parseLinkedText=D}),define(ne[65],se([1,0]),function(Q,e){"use strict";var L,k;Object.defineProperty(e,"__esModule",{value:!0}),e.LRUCache=e.LinkedMap=e.ResourceMap=void 0;class y{constructor(g,C){this.uri=g,this.value=C}}class D{constructor(g,C){this[L]="ResourceMap",g instanceof D?(this.map=new Map(g.map),this.toKey=C??D.defaultToKey):(this.map=new Map,this.toKey=g??D.defaultToKey)}set(g,C){return this.map.set(this.toKey(g),new y(g,C)),this}get(g){var C;return(C=this.map.get(this.toKey(g)))===null||C===void 0?void 0:C.value}has(g){return this.map.has(this.toKey(g))}get size(){return this.map.size}clear(){this.map.clear()}delete(g){return this.map.delete(this.toKey(g))}forEach(g,C){typeof C<"u"&&(g=g.bind(C));for(const[s,i]of this.map)g(i.value,i.uri,this)}*values(){for(const g of this.map.values())yield g.value}*keys(){for(const g of this.map.values())yield g.uri}*entries(){for(const g of this.map.values())yield[g.uri,g.value]}*[(L=Symbol.toStringTag,Symbol.iterator)](){for(const[,g]of this.map)yield[g.uri,g.value]}}e.ResourceMap=D,D.defaultToKey=_=>_.toString();class S{constructor(){this[k]="LinkedMap",this._map=new Map,this._head=void 0,this._tail=void 0,this._size=0,this._state=0}clear(){this._map.clear(),this._head=void 0,this._tail=void 0,this._size=0,this._state++}isEmpty(){return!this._head&&!this._tail}get size(){return this._size}get first(){var g;return(g=this._head)===null||g===void 0?void 0:g.value}get last(){var g;return(g=this._tail)===null||g===void 0?void 0:g.value}has(g){return this._map.has(g)}get(g,C=0){const s=this._map.get(g);if(s)return C!==0&&this.touch(s,C),s.value}set(g,C,s=0){let i=this._map.get(g);if(i)i.value=C,s!==0&&this.touch(i,s);else{switch(i={key:g,value:C,next:void 0,previous:void 0},s){case 0:this.addItemLast(i);break;case 1:this.addItemFirst(i);break;case 2:this.addItemLast(i);break;default:this.addItemLast(i);break}this._map.set(g,i),this._size++}return this}delete(g){return!!this.remove(g)}remove(g){const C=this._map.get(g);if(C)return this._map.delete(g),this.removeItem(C),this._size--,C.value}shift(){if(!this._head&&!this._tail)return;if(!this._head||!this._tail)throw new Error("Invalid list");const g=this._head;return this._map.delete(g.key),this.removeItem(g),this._size--,g.value}forEach(g,C){const s=this._state;let i=this._head;for(;i;){if(C?g.bind(C)(i.value,i.key,this):g(i.value,i.key,this),this._state!==s)throw new Error("LinkedMap got modified during iteration.");i=i.next}}keys(){const g=this,C=this._state;let s=this._head;const i={[Symbol.iterator](){return i},next(){if(g._state!==C)throw new Error("LinkedMap got modified during iteration.");if(s){const n={value:s.key,done:!1};return s=s.next,n}else return{value:void 0,done:!0}}};return i}values(){const g=this,C=this._state;let s=this._head;const i={[Symbol.iterator](){return i},next(){if(g._state!==C)throw new Error("LinkedMap got modified during iteration.");if(s){const n={value:s.value,done:!1};return s=s.next,n}else return{value:void 0,done:!0}}};return i}entries(){const g=this,C=this._state;let s=this._head;const i={[Symbol.iterator](){return i},next(){if(g._state!==C)throw new Error("LinkedMap got modified during iteration.");if(s){const n={value:[s.key,s.value],done:!1};return s=s.next,n}else return{value:void 0,done:!0}}};return i}[(k=Symbol.toStringTag,Symbol.iterator)](){return this.entries()}trimOld(g){if(g>=this.size)return;if(g===0){this.clear();return}let C=this._head,s=this.size;for(;C&&s>g;)this._map.delete(C.key),C=C.next,s--;this._head=C,this._size=s,C&&(C.previous=void 0),this._state++}addItemFirst(g){if(!this._head&&!this._tail)this._tail=g;else if(this._head)g.next=this._head,this._head.previous=g;else throw new Error("Invalid list");this._head=g,this._state++}addItemLast(g){if(!this._head&&!this._tail)this._head=g;else if(this._tail)g.previous=this._tail,this._tail.next=g;else throw new Error("Invalid list");this._tail=g,this._state++}removeItem(g){if(g===this._head&&g===this._tail)this._head=void 0,this._tail=void 0;else if(g===this._head){if(!g.next)throw new Error("Invalid list");g.next.previous=void 0,this._head=g.next}else if(g===this._tail){if(!g.previous)throw new Error("Invalid list");g.previous.next=void 0,this._tail=g.previous}else{const C=g.next,s=g.previous;if(!C||!s)throw new Error("Invalid list");C.previous=s,s.next=C}g.next=void 0,g.previous=void 0,this._state++}touch(g,C){if(!this._head||!this._tail)throw new Error("Invalid list");if(!(C!==1&&C!==2)){if(C===1){if(g===this._head)return;const s=g.next,i=g.previous;g===this._tail?(i.next=void 0,this._tail=i):(s.previous=i,i.next=s),g.previous=void 0,g.next=this._head,this._head.previous=g,this._head=g,this._state++}else if(C===2){if(g===this._tail)return;const s=g.next,i=g.previous;g===this._head?(s.previous=void 0,this._head=s):(s.previous=i,i.next=s),g.next=void 0,g.previous=this._tail,this._tail.next=g,this._tail=g,this._state++}}}toJSON(){const g=[];return this.forEach((C,s)=>{g.push([s,C])}),g}fromJSON(g){this.clear();for(const[C,s]of g)this.set(C,s)}}e.LinkedMap=S;class f extends S{constructor(g,C=1){super(),this._limit=g,this._ratio=Math.min(Math.max(0,C),1)}get limit(){return this._limit}set limit(g){this._limit=g,this.checkTrim()}get(g,C=2){return super.get(g,C)}peek(g){return super.get(g,0)}set(g,C){return super.set(g,C,2),this.checkTrim(),this}checkTrim(){this.size>this._limit&&this.trimOld(Math.round(this._limit*this._ratio))}}e.LRUCache=f}),function(Q,e){typeof define=="function"&&define.amd?define(ne[386],se([0]),e):typeof exports=="object"&&typeof module<"u"?e(exports):(Q=typeof globalThis<"u"?globalThis:Q||self,e(Q.marked={}))}(this,function(Q){"use strict";function e(he,ue){for(var te=0;te<ue.length;te++){var q=ue[te];q.enumerable=q.enumerable||!1,q.configurable=!0,"value"in q&&(q.writable=!0),Object.defineProperty(he,q.key,q)}}function L(he,ue,te){return ue&&e(he.prototype,ue),te&&e(he,te),Object.defineProperty(he,"prototype",{writable:!1}),he}function k(he,ue){if(he){if(typeof he=="string")return y(he,ue);var te=Object.prototype.toString.call(he).slice(8,-1);if(te==="Object"&&he.constructor&&(te=he.constructor.name),te==="Map"||te==="Set")return Array.from(he);if(te==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(te))return y(he,ue)}}function y(he,ue){(ue==null||ue>he.length)&&(ue=he.length);for(var te=0,q=new Array(ue);te<ue;te++)q[te]=he[te];return q}function D(he,ue){var te=typeof Symbol<"u"&&he[Symbol.iterator]||he["@@iterator"];if(te)return(te=te.call(he)).next.bind(te);if(Array.isArray(he)||(te=k(he))||ue&&he&&typeof he.length=="number"){te&&(he=te);var q=0;return function(){return q>=he.length?{done:!0}:{done:!1,value:he[q++]}}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function S(){return{async:!1,baseUrl:null,breaks:!1,extensions:null,gfm:!0,headerIds:!0,headerPrefix:"",highlight:null,langPrefix:"language-",mangle:!0,pedantic:!1,renderer:null,sanitize:!1,sanitizer:null,silent:!1,smartLists:!1,smartypants:!1,tokenizer:null,walkTokens:null,xhtml:!1}}Q.defaults=S();function f(he){Q.defaults=he}var _=/[&<>"']/,g=/[&<>"']/g,C=/[<>"']|&(?!#?\w+;)/,s=/[<>"']|&(?!#?\w+;)/g,i={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"},n=function(ue){return i[ue]};function t(he,ue){if(ue){if(_.test(he))return he.replace(g,n)}else if(C.test(he))return he.replace(s,n);return he}var a=/&(#(?:\d+)|(?:#x[0-9A-Fa-f]+)|(?:\w+));?/ig;function u(he){return he.replace(a,function(ue,te){return te=te.toLowerCase(),te==="colon"?":":te.charAt(0)==="#"?te.charAt(1)==="x"?String.fromCharCode(parseInt(te.substring(2),16)):String.fromCharCode(+te.substring(1)):""})}var h=/(^|[^\[])\^/g;function r(he,ue){he=typeof he=="string"?he:he.source,ue=ue||"";var te={replace:function(z,ee){return ee=ee.source||ee,ee=ee.replace(h,"$1"),he=he.replace(z,ee),te},getRegex:function(){return new RegExp(he,ue)}};return te}var c=/[^\w:]/g,o=/^$|^[a-z][a-z0-9+.-]*:|^[?#]/i;function d(he,ue,te){if(he){var q;try{q=decodeURIComponent(u(te)).replace(c,"").toLowerCase()}catch{return null}if(q.indexOf("javascript:")===0||q.indexOf("vbscript:")===0||q.indexOf("data:")===0)return null}ue&&!o.test(te)&&(te=b(ue,te));try{te=encodeURI(te).replace(/%25/g,"%")}catch{return null}return te}var l={},p=/^[^:]+:\/*[^/]*$/,m=/^([^:]+:)[\s\S]*$/,v=/^([^:]+:\/*[^/]*)[\s\S]*$/;function b(he,ue){l[" "+he]||(p.test(he)?l[" "+he]=he+"/":l[" "+he]=M(he,"/",!0)),he=l[" "+he];var te=he.indexOf(":")===-1;return ue.substring(0,2)==="//"?te?ue:he.replace(m,"$1")+ue:ue.charAt(0)==="/"?te?ue:he.replace(v,"$1")+ue:he+ue}var w={exec:function(){}};function E(he){for(var ue=1,te,q;ue<arguments.length;ue++){te=arguments[ue];for(q in te)Object.prototype.hasOwnProperty.call(te,q)&&(he[q]=te[q])}return he}function I(he,ue){var te=he.replace(/\|/g,function(ee,$,re){for(var oe=!1,ge=$;--ge>=0&&re[ge]==="\\";)oe=!oe;return oe?"|":" |"}),q=te.split(/ \|/),z=0;if(q[0].trim()||q.shift(),q.length>0&&!q[q.length-1].trim()&&q.pop(),q.length>ue)q.splice(ue);else for(;q.length<ue;)q.push("");for(;z<q.length;z++)q[z]=q[z].trim().replace(/\\\|/g,"|");return q}function M(he,ue,te){var q=he.length;if(q===0)return"";for(var z=0;z<q;){var ee=he.charAt(q-z-1);if(ee===ue&&!te)z++;else if(ee!==ue&&te)z++;else break}return he.slice(0,q-z)}function P(he,ue){if(he.indexOf(ue[1])===-1)return-1;for(var te=he.length,q=0,z=0;z<te;z++)if(he[z]==="\\")z++;else if(he[z]===ue[0])q++;else if(he[z]===ue[1]&&(q--,q<0))return z;return-1}function x(he){he&&he.sanitize&&!he.silent&&console.warn("marked(): sanitize and sanitizer parameters are deprecated since version 0.7.0, should not be used and will be removed in the future. Read more here: https://marked.js.org/#/USING_ADVANCED.md#options")}function T(he,ue){if(ue<1)return"";for(var te="";ue>1;)ue&1&&(te+=he),ue>>=1,he+=he;return te+he}function A(he,ue,te,q){var z=ue.href,ee=ue.title?t(ue.title):null,$=he[1].replace(/\\([\[\]])/g,"$1");if(he[0].charAt(0)!=="!"){q.state.inLink=!0;var re={type:"link",raw:te,href:z,title:ee,text:$,tokens:q.inlineTokens($)};return q.state.inLink=!1,re}return{type:"image",raw:te,href:z,title:ee,text:t($)}}function N(he,ue){var te=he.match(/^(\s+)(?:```)/);if(te===null)return ue;var q=te[1];return ue.split(`
`).map(function(z){var ee=z.match(/^\s+/);if(ee===null)return z;var $=ee[0];return $.length>=q.length?z.slice(q.length):z}).join(`
`)}var F=function(){function he(te){this.options=te||Q.defaults}var ue=he.prototype;return ue.space=function(q){var z=this.rules.block.newline.exec(q);if(z&&z[0].length>0)return{type:"space",raw:z[0]}},ue.code=function(q){var z=this.rules.block.code.exec(q);if(z){var ee=z[0].replace(/^ {1,4}/gm,"");return{type:"code",raw:z[0],codeBlockStyle:"indented",text:this.options.pedantic?ee:M(ee,`
`)}}},ue.fences=function(q){var z=this.rules.block.fences.exec(q);if(z){var ee=z[0],$=N(ee,z[3]||"");return{type:"code",raw:ee,lang:z[2]?z[2].trim():z[2],text:$}}},ue.heading=function(q){var z=this.rules.block.heading.exec(q);if(z){var ee=z[2].trim();if(/#$/.test(ee)){var $=M(ee,"#");(this.options.pedantic||!$||/ $/.test($))&&(ee=$.trim())}return{type:"heading",raw:z[0],depth:z[1].length,text:ee,tokens:this.lexer.inline(ee)}}},ue.hr=function(q){var z=this.rules.block.hr.exec(q);if(z)return{type:"hr",raw:z[0]}},ue.blockquote=function(q){var z=this.rules.block.blockquote.exec(q);if(z){var ee=z[0].replace(/^ *>[ \t]?/gm,"");return{type:"blockquote",raw:z[0],tokens:this.lexer.blockTokens(ee,[]),text:ee}}},ue.list=function(q){var z=this.rules.block.list.exec(q);if(z){var ee,$,re,oe,ge,ve,Se,Le,De,ye,Ee,Me,Pe=z[1].trim(),Fe=Pe.length>1,_e={type:"list",raw:"",ordered:Fe,start:Fe?+Pe.slice(0,-1):"",loose:!1,items:[]};Pe=Fe?"\\d{1,9}\\"+Pe.slice(-1):"\\"+Pe,this.options.pedantic&&(Pe=Fe?Pe:"[*+-]");for(var me=new RegExp("^( {0,3}"+Pe+")((?:[	 ][^\\n]*)?(?:\\n|$))");q&&(Me=!1,!(!(z=me.exec(q))||this.rules.block.hr.test(q)));){if(ee=z[0],q=q.substring(ee.length),Le=z[2].split(`
`,1)[0],De=q.split(`
`,1)[0],this.options.pedantic?(oe=2,Ee=Le.trimLeft()):(oe=z[2].search(/[^ ]/),oe=oe>4?1:oe,Ee=Le.slice(oe),oe+=z[1].length),ve=!1,!Le&&/^ *$/.test(De)&&(ee+=De+`
`,q=q.substring(De.length+1),Me=!0),!Me)for(var le=new RegExp("^ {0,"+Math.min(3,oe-1)+"}(?:[*+-]|\\d{1,9}[.)])((?: [^\\n]*)?(?:\\n|$))"),pe=new RegExp("^ {0,"+Math.min(3,oe-1)+"}((?:- *){3,}|(?:_ *){3,}|(?:\\* *){3,})(?:\\n+|$)"),Ce=new RegExp("^ {0,"+Math.min(3,oe-1)+"}(?:```|~~~)"),be=new RegExp("^ {0,"+Math.min(3,oe-1)+"}#");q&&(ye=q.split(`
`,1)[0],Le=ye,this.options.pedantic&&(Le=Le.replace(/^ {1,4}(?=( {4})*[^ ])/g,"  ")),!(Ce.test(Le)||be.test(Le)||le.test(Le)||pe.test(q)));){if(Le.search(/[^ ]/)>=oe||!Le.trim())Ee+=`
`+Le.slice(oe);else if(!ve)Ee+=`
`+Le;else break;!ve&&!Le.trim()&&(ve=!0),ee+=ye+`
`,q=q.substring(ye.length+1)}_e.loose||(Se?_e.loose=!0:/\n *\n *$/.test(ee)&&(Se=!0)),this.options.gfm&&($=/^\[[ xX]\] /.exec(Ee),$&&(re=$[0]!=="[ ] ",Ee=Ee.replace(/^\[[ xX]\] +/,""))),_e.items.push({type:"list_item",raw:ee,task:!!$,checked:re,loose:!1,text:Ee}),_e.raw+=ee}_e.items[_e.items.length-1].raw=ee.trimRight(),_e.items[_e.items.length-1].text=Ee.trimRight(),_e.raw=_e.raw.trimRight();var Ie=_e.items.length;for(ge=0;ge<Ie;ge++){this.lexer.state.top=!1,_e.items[ge].tokens=this.lexer.blockTokens(_e.items[ge].text,[]);var Ne=_e.items[ge].tokens.filter(function(Ve){return Ve.type==="space"}),Re=Ne.every(function(Ve){for(var ze=Ve.raw.split(""),We=0,qe=D(ze),Oe;!(Oe=qe()).done;){var Ge=Oe.value;if(Ge===`
`&&(We+=1),We>1)return!0}return!1});!_e.loose&&Ne.length&&Re&&(_e.loose=!0,_e.items[ge].loose=!0)}return _e}},ue.html=function(q){var z=this.rules.block.html.exec(q);if(z){var ee={type:"html",raw:z[0],pre:!this.options.sanitizer&&(z[1]==="pre"||z[1]==="script"||z[1]==="style"),text:z[0]};if(this.options.sanitize){var $=this.options.sanitizer?this.options.sanitizer(z[0]):t(z[0]);ee.type="paragraph",ee.text=$,ee.tokens=this.lexer.inline($)}return ee}},ue.def=function(q){var z=this.rules.block.def.exec(q);if(z){z[3]&&(z[3]=z[3].substring(1,z[3].length-1));var ee=z[1].toLowerCase().replace(/\s+/g," ");return{type:"def",tag:ee,raw:z[0],href:z[2],title:z[3]}}},ue.table=function(q){var z=this.rules.block.table.exec(q);if(z){var ee={type:"table",header:I(z[1]).map(function(Se){return{text:Se}}),align:z[2].replace(/^ *|\| *$/g,"").split(/ *\| */),rows:z[3]&&z[3].trim()?z[3].replace(/\n[ \t]*$/,"").split(`
`):[]};if(ee.header.length===ee.align.length){ee.raw=z[0];var $=ee.align.length,re,oe,ge,ve;for(re=0;re<$;re++)/^ *-+: *$/.test(ee.align[re])?ee.align[re]="right":/^ *:-+: *$/.test(ee.align[re])?ee.align[re]="center":/^ *:-+ *$/.test(ee.align[re])?ee.align[re]="left":ee.align[re]=null;for($=ee.rows.length,re=0;re<$;re++)ee.rows[re]=I(ee.rows[re],ee.header.length).map(function(Se){return{text:Se}});for($=ee.header.length,oe=0;oe<$;oe++)ee.header[oe].tokens=this.lexer.inline(ee.header[oe].text);for($=ee.rows.length,oe=0;oe<$;oe++)for(ve=ee.rows[oe],ge=0;ge<ve.length;ge++)ve[ge].tokens=this.lexer.inline(ve[ge].text);return ee}}},ue.lheading=function(q){var z=this.rules.block.lheading.exec(q);if(z)return{type:"heading",raw:z[0],depth:z[2].charAt(0)==="="?1:2,text:z[1],tokens:this.lexer.inline(z[1])}},ue.paragraph=function(q){var z=this.rules.block.paragraph.exec(q);if(z){var ee=z[1].charAt(z[1].length-1)===`
`?z[1].slice(0,-1):z[1];return{type:"paragraph",raw:z[0],text:ee,tokens:this.lexer.inline(ee)}}},ue.text=function(q){var z=this.rules.block.text.exec(q);if(z)return{type:"text",raw:z[0],text:z[0],tokens:this.lexer.inline(z[0])}},ue.escape=function(q){var z=this.rules.inline.escape.exec(q);if(z)return{type:"escape",raw:z[0],text:t(z[1])}},ue.tag=function(q){var z=this.rules.inline.tag.exec(q);if(z)return!this.lexer.state.inLink&&/^<a /i.test(z[0])?this.lexer.state.inLink=!0:this.lexer.state.inLink&&/^<\/a>/i.test(z[0])&&(this.lexer.state.inLink=!1),!this.lexer.state.inRawBlock&&/^<(pre|code|kbd|script)(\s|>)/i.test(z[0])?this.lexer.state.inRawBlock=!0:this.lexer.state.inRawBlock&&/^<\/(pre|code|kbd|script)(\s|>)/i.test(z[0])&&(this.lexer.state.inRawBlock=!1),{type:this.options.sanitize?"text":"html",raw:z[0],inLink:this.lexer.state.inLink,inRawBlock:this.lexer.state.inRawBlock,text:this.options.sanitize?this.options.sanitizer?this.options.sanitizer(z[0]):t(z[0]):z[0]}},ue.link=function(q){var z=this.rules.inline.link.exec(q);if(z){var ee=z[2].trim();if(!this.options.pedantic&&/^</.test(ee)){if(!/>$/.test(ee))return;var $=M(ee.slice(0,-1),"\\");if((ee.length-$.length)%2===0)return}else{var re=P(z[2],"()");if(re>-1){var oe=z[0].indexOf("!")===0?5:4,ge=oe+z[1].length+re;z[2]=z[2].substring(0,re),z[0]=z[0].substring(0,ge).trim(),z[3]=""}}var ve=z[2],Se="";if(this.options.pedantic){var Le=/^([^'"]*[^\s])\s+(['"])(.*)\2/.exec(ve);Le&&(ve=Le[1],Se=Le[3])}else Se=z[3]?z[3].slice(1,-1):"";return ve=ve.trim(),/^</.test(ve)&&(this.options.pedantic&&!/>$/.test(ee)?ve=ve.slice(1):ve=ve.slice(1,-1)),A(z,{href:ve&&ve.replace(this.rules.inline._escapes,"$1"),title:Se&&Se.replace(this.rules.inline._escapes,"$1")},z[0],this.lexer)}},ue.reflink=function(q,z){var ee;if((ee=this.rules.inline.reflink.exec(q))||(ee=this.rules.inline.nolink.exec(q))){var $=(ee[2]||ee[1]).replace(/\s+/g," ");if($=z[$.toLowerCase()],!$||!$.href){var re=ee[0].charAt(0);return{type:"text",raw:re,text:re}}return A(ee,$,ee[0],this.lexer)}},ue.emStrong=function(q,z,ee){ee===void 0&&(ee="");var $=this.rules.inline.emStrong.lDelim.exec(q);if($&&!($[3]&&ee.match(/(?:[0-9A-Za-z\xAA\xB2\xB3\xB5\xB9\xBA\xBC-\xBE\xC0-\xD6\xD8-\xF6\xF8-\u02C1\u02C6-\u02D1\u02E0-\u02E4\u02EC\u02EE\u0370-\u0374\u0376\u0377\u037A-\u037D\u037F\u0386\u0388-\u038A\u038C\u038E-\u03A1\u03A3-\u03F5\u03F7-\u0481\u048A-\u052F\u0531-\u0556\u0559\u0560-\u0588\u05D0-\u05EA\u05EF-\u05F2\u0620-\u064A\u0660-\u0669\u066E\u066F\u0671-\u06D3\u06D5\u06E5\u06E6\u06EE-\u06FC\u06FF\u0710\u0712-\u072F\u074D-\u07A5\u07B1\u07C0-\u07EA\u07F4\u07F5\u07FA\u0800-\u0815\u081A\u0824\u0828\u0840-\u0858\u0860-\u086A\u0870-\u0887\u0889-\u088E\u08A0-\u08C9\u0904-\u0939\u093D\u0950\u0958-\u0961\u0966-\u096F\u0971-\u0980\u0985-\u098C\u098F\u0990\u0993-\u09A8\u09AA-\u09B0\u09B2\u09B6-\u09B9\u09BD\u09CE\u09DC\u09DD\u09DF-\u09E1\u09E6-\u09F1\u09F4-\u09F9\u09FC\u0A05-\u0A0A\u0A0F\u0A10\u0A13-\u0A28\u0A2A-\u0A30\u0A32\u0A33\u0A35\u0A36\u0A38\u0A39\u0A59-\u0A5C\u0A5E\u0A66-\u0A6F\u0A72-\u0A74\u0A85-\u0A8D\u0A8F-\u0A91\u0A93-\u0AA8\u0AAA-\u0AB0\u0AB2\u0AB3\u0AB5-\u0AB9\u0ABD\u0AD0\u0AE0\u0AE1\u0AE6-\u0AEF\u0AF9\u0B05-\u0B0C\u0B0F\u0B10\u0B13-\u0B28\u0B2A-\u0B30\u0B32\u0B33\u0B35-\u0B39\u0B3D\u0B5C\u0B5D\u0B5F-\u0B61\u0B66-\u0B6F\u0B71-\u0B77\u0B83\u0B85-\u0B8A\u0B8E-\u0B90\u0B92-\u0B95\u0B99\u0B9A\u0B9C\u0B9E\u0B9F\u0BA3\u0BA4\u0BA8-\u0BAA\u0BAE-\u0BB9\u0BD0\u0BE6-\u0BF2\u0C05-\u0C0C\u0C0E-\u0C10\u0C12-\u0C28\u0C2A-\u0C39\u0C3D\u0C58-\u0C5A\u0C5D\u0C60\u0C61\u0C66-\u0C6F\u0C78-\u0C7E\u0C80\u0C85-\u0C8C\u0C8E-\u0C90\u0C92-\u0CA8\u0CAA-\u0CB3\u0CB5-\u0CB9\u0CBD\u0CDD\u0CDE\u0CE0\u0CE1\u0CE6-\u0CEF\u0CF1\u0CF2\u0D04-\u0D0C\u0D0E-\u0D10\u0D12-\u0D3A\u0D3D\u0D4E\u0D54-\u0D56\u0D58-\u0D61\u0D66-\u0D78\u0D7A-\u0D7F\u0D85-\u0D96\u0D9A-\u0DB1\u0DB3-\u0DBB\u0DBD\u0DC0-\u0DC6\u0DE6-\u0DEF\u0E01-\u0E30\u0E32\u0E33\u0E40-\u0E46\u0E50-\u0E59\u0E81\u0E82\u0E84\u0E86-\u0E8A\u0E8C-\u0EA3\u0EA5\u0EA7-\u0EB0\u0EB2\u0EB3\u0EBD\u0EC0-\u0EC4\u0EC6\u0ED0-\u0ED9\u0EDC-\u0EDF\u0F00\u0F20-\u0F33\u0F40-\u0F47\u0F49-\u0F6C\u0F88-\u0F8C\u1000-\u102A\u103F-\u1049\u1050-\u1055\u105A-\u105D\u1061\u1065\u1066\u106E-\u1070\u1075-\u1081\u108E\u1090-\u1099\u10A0-\u10C5\u10C7\u10CD\u10D0-\u10FA\u10FC-\u1248\u124A-\u124D\u1250-\u1256\u1258\u125A-\u125D\u1260-\u1288\u128A-\u128D\u1290-\u12B0\u12B2-\u12B5\u12B8-\u12BE\u12C0\u12C2-\u12C5\u12C8-\u12D6\u12D8-\u1310\u1312-\u1315\u1318-\u135A\u1369-\u137C\u1380-\u138F\u13A0-\u13F5\u13F8-\u13FD\u1401-\u166C\u166F-\u167F\u1681-\u169A\u16A0-\u16EA\u16EE-\u16F8\u1700-\u1711\u171F-\u1731\u1740-\u1751\u1760-\u176C\u176E-\u1770\u1780-\u17B3\u17D7\u17DC\u17E0-\u17E9\u17F0-\u17F9\u1810-\u1819\u1820-\u1878\u1880-\u1884\u1887-\u18A8\u18AA\u18B0-\u18F5\u1900-\u191E\u1946-\u196D\u1970-\u1974\u1980-\u19AB\u19B0-\u19C9\u19D0-\u19DA\u1A00-\u1A16\u1A20-\u1A54\u1A80-\u1A89\u1A90-\u1A99\u1AA7\u1B05-\u1B33\u1B45-\u1B4C\u1B50-\u1B59\u1B83-\u1BA0\u1BAE-\u1BE5\u1C00-\u1C23\u1C40-\u1C49\u1C4D-\u1C7D\u1C80-\u1C88\u1C90-\u1CBA\u1CBD-\u1CBF\u1CE9-\u1CEC\u1CEE-\u1CF3\u1CF5\u1CF6\u1CFA\u1D00-\u1DBF\u1E00-\u1F15\u1F18-\u1F1D\u1F20-\u1F45\u1F48-\u1F4D\u1F50-\u1F57\u1F59\u1F5B\u1F5D\u1F5F-\u1F7D\u1F80-\u1FB4\u1FB6-\u1FBC\u1FBE\u1FC2-\u1FC4\u1FC6-\u1FCC\u1FD0-\u1FD3\u1FD6-\u1FDB\u1FE0-\u1FEC\u1FF2-\u1FF4\u1FF6-\u1FFC\u2070\u2071\u2074-\u2079\u207F-\u2089\u2090-\u209C\u2102\u2107\u210A-\u2113\u2115\u2119-\u211D\u2124\u2126\u2128\u212A-\u212D\u212F-\u2139\u213C-\u213F\u2145-\u2149\u214E\u2150-\u2189\u2460-\u249B\u24EA-\u24FF\u2776-\u2793\u2C00-\u2CE4\u2CEB-\u2CEE\u2CF2\u2CF3\u2CFD\u2D00-\u2D25\u2D27\u2D2D\u2D30-\u2D67\u2D6F\u2D80-\u2D96\u2DA0-\u2DA6\u2DA8-\u2DAE\u2DB0-\u2DB6\u2DB8-\u2DBE\u2DC0-\u2DC6\u2DC8-\u2DCE\u2DD0-\u2DD6\u2DD8-\u2DDE\u2E2F\u3005-\u3007\u3021-\u3029\u3031-\u3035\u3038-\u303C\u3041-\u3096\u309D-\u309F\u30A1-\u30FA\u30FC-\u30FF\u3105-\u312F\u3131-\u318E\u3192-\u3195\u31A0-\u31BF\u31F0-\u31FF\u3220-\u3229\u3248-\u324F\u3251-\u325F\u3280-\u3289\u32B1-\u32BF\u3400-\u4DBF\u4E00-\uA48C\uA4D0-\uA4FD\uA500-\uA60C\uA610-\uA62B\uA640-\uA66E\uA67F-\uA69D\uA6A0-\uA6EF\uA717-\uA71F\uA722-\uA788\uA78B-\uA7CA\uA7D0\uA7D1\uA7D3\uA7D5-\uA7D9\uA7F2-\uA801\uA803-\uA805\uA807-\uA80A\uA80C-\uA822\uA830-\uA835\uA840-\uA873\uA882-\uA8B3\uA8D0-\uA8D9\uA8F2-\uA8F7\uA8FB\uA8FD\uA8FE\uA900-\uA925\uA930-\uA946\uA960-\uA97C\uA984-\uA9B2\uA9CF-\uA9D9\uA9E0-\uA9E4\uA9E6-\uA9FE\uAA00-\uAA28\uAA40-\uAA42\uAA44-\uAA4B\uAA50-\uAA59\uAA60-\uAA76\uAA7A\uAA7E-\uAAAF\uAAB1\uAAB5\uAAB6\uAAB9-\uAABD\uAAC0\uAAC2\uAADB-\uAADD\uAAE0-\uAAEA\uAAF2-\uAAF4\uAB01-\uAB06\uAB09-\uAB0E\uAB11-\uAB16\uAB20-\uAB26\uAB28-\uAB2E\uAB30-\uAB5A\uAB5C-\uAB69\uAB70-\uABE2\uABF0-\uABF9\uAC00-\uD7A3\uD7B0-\uD7C6\uD7CB-\uD7FB\uF900-\uFA6D\uFA70-\uFAD9\uFB00-\uFB06\uFB13-\uFB17\uFB1D\uFB1F-\uFB28\uFB2A-\uFB36\uFB38-\uFB3C\uFB3E\uFB40\uFB41\uFB43\uFB44\uFB46-\uFBB1\uFBD3-\uFD3D\uFD50-\uFD8F\uFD92-\uFDC7\uFDF0-\uFDFB\uFE70-\uFE74\uFE76-\uFEFC\uFF10-\uFF19\uFF21-\uFF3A\uFF41-\uFF5A\uFF66-\uFFBE\uFFC2-\uFFC7\uFFCA-\uFFCF\uFFD2-\uFFD7\uFFDA-\uFFDC]|\uD800[\uDC00-\uDC0B\uDC0D-\uDC26\uDC28-\uDC3A\uDC3C\uDC3D\uDC3F-\uDC4D\uDC50-\uDC5D\uDC80-\uDCFA\uDD07-\uDD33\uDD40-\uDD78\uDD8A\uDD8B\uDE80-\uDE9C\uDEA0-\uDED0\uDEE1-\uDEFB\uDF00-\uDF23\uDF2D-\uDF4A\uDF50-\uDF75\uDF80-\uDF9D\uDFA0-\uDFC3\uDFC8-\uDFCF\uDFD1-\uDFD5]|\uD801[\uDC00-\uDC9D\uDCA0-\uDCA9\uDCB0-\uDCD3\uDCD8-\uDCFB\uDD00-\uDD27\uDD30-\uDD63\uDD70-\uDD7A\uDD7C-\uDD8A\uDD8C-\uDD92\uDD94\uDD95\uDD97-\uDDA1\uDDA3-\uDDB1\uDDB3-\uDDB9\uDDBB\uDDBC\uDE00-\uDF36\uDF40-\uDF55\uDF60-\uDF67\uDF80-\uDF85\uDF87-\uDFB0\uDFB2-\uDFBA]|\uD802[\uDC00-\uDC05\uDC08\uDC0A-\uDC35\uDC37\uDC38\uDC3C\uDC3F-\uDC55\uDC58-\uDC76\uDC79-\uDC9E\uDCA7-\uDCAF\uDCE0-\uDCF2\uDCF4\uDCF5\uDCFB-\uDD1B\uDD20-\uDD39\uDD80-\uDDB7\uDDBC-\uDDCF\uDDD2-\uDE00\uDE10-\uDE13\uDE15-\uDE17\uDE19-\uDE35\uDE40-\uDE48\uDE60-\uDE7E\uDE80-\uDE9F\uDEC0-\uDEC7\uDEC9-\uDEE4\uDEEB-\uDEEF\uDF00-\uDF35\uDF40-\uDF55\uDF58-\uDF72\uDF78-\uDF91\uDFA9-\uDFAF]|\uD803[\uDC00-\uDC48\uDC80-\uDCB2\uDCC0-\uDCF2\uDCFA-\uDD23\uDD30-\uDD39\uDE60-\uDE7E\uDE80-\uDEA9\uDEB0\uDEB1\uDF00-\uDF27\uDF30-\uDF45\uDF51-\uDF54\uDF70-\uDF81\uDFB0-\uDFCB\uDFE0-\uDFF6]|\uD804[\uDC03-\uDC37\uDC52-\uDC6F\uDC71\uDC72\uDC75\uDC83-\uDCAF\uDCD0-\uDCE8\uDCF0-\uDCF9\uDD03-\uDD26\uDD36-\uDD3F\uDD44\uDD47\uDD50-\uDD72\uDD76\uDD83-\uDDB2\uDDC1-\uDDC4\uDDD0-\uDDDA\uDDDC\uDDE1-\uDDF4\uDE00-\uDE11\uDE13-\uDE2B\uDE80-\uDE86\uDE88\uDE8A-\uDE8D\uDE8F-\uDE9D\uDE9F-\uDEA8\uDEB0-\uDEDE\uDEF0-\uDEF9\uDF05-\uDF0C\uDF0F\uDF10\uDF13-\uDF28\uDF2A-\uDF30\uDF32\uDF33\uDF35-\uDF39\uDF3D\uDF50\uDF5D-\uDF61]|\uD805[\uDC00-\uDC34\uDC47-\uDC4A\uDC50-\uDC59\uDC5F-\uDC61\uDC80-\uDCAF\uDCC4\uDCC5\uDCC7\uDCD0-\uDCD9\uDD80-\uDDAE\uDDD8-\uDDDB\uDE00-\uDE2F\uDE44\uDE50-\uDE59\uDE80-\uDEAA\uDEB8\uDEC0-\uDEC9\uDF00-\uDF1A\uDF30-\uDF3B\uDF40-\uDF46]|\uD806[\uDC00-\uDC2B\uDCA0-\uDCF2\uDCFF-\uDD06\uDD09\uDD0C-\uDD13\uDD15\uDD16\uDD18-\uDD2F\uDD3F\uDD41\uDD50-\uDD59\uDDA0-\uDDA7\uDDAA-\uDDD0\uDDE1\uDDE3\uDE00\uDE0B-\uDE32\uDE3A\uDE50\uDE5C-\uDE89\uDE9D\uDEB0-\uDEF8]|\uD807[\uDC00-\uDC08\uDC0A-\uDC2E\uDC40\uDC50-\uDC6C\uDC72-\uDC8F\uDD00-\uDD06\uDD08\uDD09\uDD0B-\uDD30\uDD46\uDD50-\uDD59\uDD60-\uDD65\uDD67\uDD68\uDD6A-\uDD89\uDD98\uDDA0-\uDDA9\uDEE0-\uDEF2\uDFB0\uDFC0-\uDFD4]|\uD808[\uDC00-\uDF99]|\uD809[\uDC00-\uDC6E\uDC80-\uDD43]|\uD80B[\uDF90-\uDFF0]|[\uD80C\uD81C-\uD820\uD822\uD840-\uD868\uD86A-\uD86C\uD86F-\uD872\uD874-\uD879\uD880-\uD883][\uDC00-\uDFFF]|\uD80D[\uDC00-\uDC2E]|\uD811[\uDC00-\uDE46]|\uD81A[\uDC00-\uDE38\uDE40-\uDE5E\uDE60-\uDE69\uDE70-\uDEBE\uDEC0-\uDEC9\uDED0-\uDEED\uDF00-\uDF2F\uDF40-\uDF43\uDF50-\uDF59\uDF5B-\uDF61\uDF63-\uDF77\uDF7D-\uDF8F]|\uD81B[\uDE40-\uDE96\uDF00-\uDF4A\uDF50\uDF93-\uDF9F\uDFE0\uDFE1\uDFE3]|\uD821[\uDC00-\uDFF7]|\uD823[\uDC00-\uDCD5\uDD00-\uDD08]|\uD82B[\uDFF0-\uDFF3\uDFF5-\uDFFB\uDFFD\uDFFE]|\uD82C[\uDC00-\uDD22\uDD50-\uDD52\uDD64-\uDD67\uDD70-\uDEFB]|\uD82F[\uDC00-\uDC6A\uDC70-\uDC7C\uDC80-\uDC88\uDC90-\uDC99]|\uD834[\uDEE0-\uDEF3\uDF60-\uDF78]|\uD835[\uDC00-\uDC54\uDC56-\uDC9C\uDC9E\uDC9F\uDCA2\uDCA5\uDCA6\uDCA9-\uDCAC\uDCAE-\uDCB9\uDCBB\uDCBD-\uDCC3\uDCC5-\uDD05\uDD07-\uDD0A\uDD0D-\uDD14\uDD16-\uDD1C\uDD1E-\uDD39\uDD3B-\uDD3E\uDD40-\uDD44\uDD46\uDD4A-\uDD50\uDD52-\uDEA5\uDEA8-\uDEC0\uDEC2-\uDEDA\uDEDC-\uDEFA\uDEFC-\uDF14\uDF16-\uDF34\uDF36-\uDF4E\uDF50-\uDF6E\uDF70-\uDF88\uDF8A-\uDFA8\uDFAA-\uDFC2\uDFC4-\uDFCB\uDFCE-\uDFFF]|\uD837[\uDF00-\uDF1E]|\uD838[\uDD00-\uDD2C\uDD37-\uDD3D\uDD40-\uDD49\uDD4E\uDE90-\uDEAD\uDEC0-\uDEEB\uDEF0-\uDEF9]|\uD839[\uDFE0-\uDFE6\uDFE8-\uDFEB\uDFED\uDFEE\uDFF0-\uDFFE]|\uD83A[\uDC00-\uDCC4\uDCC7-\uDCCF\uDD00-\uDD43\uDD4B\uDD50-\uDD59]|\uD83B[\uDC71-\uDCAB\uDCAD-\uDCAF\uDCB1-\uDCB4\uDD01-\uDD2D\uDD2F-\uDD3D\uDE00-\uDE03\uDE05-\uDE1F\uDE21\uDE22\uDE24\uDE27\uDE29-\uDE32\uDE34-\uDE37\uDE39\uDE3B\uDE42\uDE47\uDE49\uDE4B\uDE4D-\uDE4F\uDE51\uDE52\uDE54\uDE57\uDE59\uDE5B\uDE5D\uDE5F\uDE61\uDE62\uDE64\uDE67-\uDE6A\uDE6C-\uDE72\uDE74-\uDE77\uDE79-\uDE7C\uDE7E\uDE80-\uDE89\uDE8B-\uDE9B\uDEA1-\uDEA3\uDEA5-\uDEA9\uDEAB-\uDEBB]|\uD83C[\uDD00-\uDD0C]|\uD83E[\uDFF0-\uDFF9]|\uD869[\uDC00-\uDEDF\uDF00-\uDFFF]|\uD86D[\uDC00-\uDF38\uDF40-\uDFFF]|\uD86E[\uDC00-\uDC1D\uDC20-\uDFFF]|\uD873[\uDC00-\uDEA1\uDEB0-\uDFFF]|\uD87A[\uDC00-\uDFE0]|\uD87E[\uDC00-\uDE1D]|\uD884[\uDC00-\uDF4A])/))){var re=$[1]||$[2]||"";if(!re||re&&(ee===""||this.rules.inline.punctuation.exec(ee))){var oe=$[0].length-1,ge,ve,Se=oe,Le=0,De=$[0][0]==="*"?this.rules.inline.emStrong.rDelimAst:this.rules.inline.emStrong.rDelimUnd;for(De.lastIndex=0,z=z.slice(-1*q.length+oe);($=De.exec(z))!=null;)if(ge=$[1]||$[2]||$[3]||$[4]||$[5]||$[6],!!ge){if(ve=ge.length,$[3]||$[4]){Se+=ve;continue}else if(($[5]||$[6])&&oe%3&&!((oe+ve)%3)){Le+=ve;continue}if(Se-=ve,!(Se>0)){if(ve=Math.min(ve,ve+Se+Le),Math.min(oe,ve)%2){var ye=q.slice(1,oe+$.index+ve);return{type:"em",raw:q.slice(0,oe+$.index+ve+1),text:ye,tokens:this.lexer.inlineTokens(ye)}}var Ee=q.slice(2,oe+$.index+ve-1);return{type:"strong",raw:q.slice(0,oe+$.index+ve+1),text:Ee,tokens:this.lexer.inlineTokens(Ee)}}}}}},ue.codespan=function(q){var z=this.rules.inline.code.exec(q);if(z){var ee=z[2].replace(/\n/g," "),$=/[^ ]/.test(ee),re=/^ /.test(ee)&&/ $/.test(ee);return $&&re&&(ee=ee.substring(1,ee.length-1)),ee=t(ee,!0),{type:"codespan",raw:z[0],text:ee}}},ue.br=function(q){var z=this.rules.inline.br.exec(q);if(z)return{type:"br",raw:z[0]}},ue.del=function(q){var z=this.rules.inline.del.exec(q);if(z)return{type:"del",raw:z[0],text:z[2],tokens:this.lexer.inlineTokens(z[2])}},ue.autolink=function(q,z){var ee=this.rules.inline.autolink.exec(q);if(ee){var $,re;return ee[2]==="@"?($=t(this.options.mangle?z(ee[1]):ee[1]),re="mailto:"+$):($=t(ee[1]),re=$),{type:"link",raw:ee[0],text:$,href:re,tokens:[{type:"text",raw:$,text:$}]}}},ue.url=function(q,z){var ee;if(ee=this.rules.inline.url.exec(q)){var $,re;if(ee[2]==="@")$=t(this.options.mangle?z(ee[0]):ee[0]),re="mailto:"+$;else{var oe;do oe=ee[0],ee[0]=this.rules.inline._backpedal.exec(ee[0])[0];while(oe!==ee[0]);$=t(ee[0]),ee[1]==="www."?re="http://"+$:re=$}return{type:"link",raw:ee[0],text:$,href:re,tokens:[{type:"text",raw:$,text:$}]}}},ue.inlineText=function(q,z){var ee=this.rules.inline.text.exec(q);if(ee){var $;return this.lexer.state.inRawBlock?$=this.options.sanitize?this.options.sanitizer?this.options.sanitizer(ee[0]):t(ee[0]):ee[0]:$=t(this.options.smartypants?z(ee[0]):ee[0]),{type:"text",raw:ee[0],text:$}}},he}(),O={newline:/^(?: *(?:\n|$))+/,code:/^( {4}[^\n]+(?:\n(?: *(?:\n|$))*)?)+/,fences:/^ {0,3}(`{3,}(?=[^`\n]*\n)|~{3,})([^\n]*)\n(?:|([\s\S]*?)\n)(?: {0,3}\1[~`]* *(?=\n|$)|$)/,hr:/^ {0,3}((?:-[\t ]*){3,}|(?:_[ \t]*){3,}|(?:\*[ \t]*){3,})(?:\n+|$)/,heading:/^ {0,3}(#{1,6})(?=\s|$)(.*)(?:\n+|$)/,blockquote:/^( {0,3}> ?(paragraph|[^\n]*)(?:\n|$))+/,list:/^( {0,3}bull)([ \t][^\n]+?)?(?:\n|$)/,html:"^ {0,3}(?:<(script|pre|style|textarea)[\\s>][\\s\\S]*?(?:</\\1>[^\\n]*\\n+|$)|comment[^\\n]*(\\n+|$)|<\\?[\\s\\S]*?(?:\\?>\\n*|$)|<![A-Z][\\s\\S]*?(?:>\\n*|$)|<!\\[CDATA\\[[\\s\\S]*?(?:\\]\\]>\\n*|$)|</?(tag)(?: +|\\n|/?>)[\\s\\S]*?(?:(?:\\n *)+\\n|$)|<(?!script|pre|style|textarea)([a-z][\\w-]*)(?:attribute)*? */?>(?=[ \\t]*(?:\\n|$))[\\s\\S]*?(?:(?:\\n *)+\\n|$)|</(?!script|pre|style|textarea)[a-z][\\w-]*\\s*>(?=[ \\t]*(?:\\n|$))[\\s\\S]*?(?:(?:\\n *)+\\n|$))",def:/^ {0,3}\[(label)\]: *(?:\n *)?<?([^\s>]+)>?(?:(?: +(?:\n *)?| *\n *)(title))? *(?:\n+|$)/,table:w,lheading:/^([^\n]+)\n {0,3}(=+|-+) *(?:\n+|$)/,_paragraph:/^([^\n]+(?:\n(?!hr|heading|lheading|blockquote|fences|list|html|table| +\n)[^\n]+)*)/,text:/^[^\n]+/};O._label=/(?!\s*\])(?:\\.|[^\[\]\\])+/,O._title=/(?:"(?:\\"?|[^"\\])*"|'[^'\n]*(?:\n[^'\n]+)*\n?'|\([^()]*\))/,O.def=r(O.def).replace("label",O._label).replace("title",O._title).getRegex(),O.bullet=/(?:[*+-]|\d{1,9}[.)])/,O.listItemStart=r(/^( *)(bull) */).replace("bull",O.bullet).getRegex(),O.list=r(O.list).replace(/bull/g,O.bullet).replace("hr","\\n+(?=\\1?(?:(?:- *){3,}|(?:_ *){3,}|(?:\\* *){3,})(?:\\n+|$))").replace("def","\\n+(?="+O.def.source+")").getRegex(),O._tag="address|article|aside|base|basefont|blockquote|body|caption|center|col|colgroup|dd|details|dialog|dir|div|dl|dt|fieldset|figcaption|figure|footer|form|frame|frameset|h[1-6]|head|header|hr|html|iframe|legend|li|link|main|menu|menuitem|meta|nav|noframes|ol|optgroup|option|p|param|section|source|summary|table|tbody|td|tfoot|th|thead|title|tr|track|ul",O._comment=/<!--(?!-?>)[\s\S]*?(?:-->|$)/,O.html=r(O.html,"i").replace("comment",O._comment).replace("tag",O._tag).replace("attribute",/ +[a-zA-Z:_][\w.:-]*(?: *= *"[^"\n]*"| *= *'[^'\n]*'| *= *[^\s"'=<>`]+)?/).getRegex(),O.paragraph=r(O._paragraph).replace("hr",O.hr).replace("heading"," {0,3}#{1,6} ").replace("|lheading","").replace("|table","").replace("blockquote"," {0,3}>").replace("fences"," {0,3}(?:`{3,}(?=[^`\\n]*\\n)|~{3,})[^\\n]*\\n").replace("list"," {0,3}(?:[*+-]|1[.)]) ").replace("html","</?(?:tag)(?: +|\\n|/?>)|<(?:script|pre|style|textarea|!--)").replace("tag",O._tag).getRegex(),O.blockquote=r(O.blockquote).replace("paragraph",O.paragraph).getRegex(),O.normal=E({},O),O.gfm=E({},O.normal,{table:"^ *([^\\n ].*\\|.*)\\n {0,3}(?:\\| *)?(:?-+:? *(?:\\| *:?-+:? *)*)(?:\\| *)?(?:\\n((?:(?! *\\n|hr|heading|blockquote|code|fences|list|html).*(?:\\n|$))*)\\n*|$)"}),O.gfm.table=r(O.gfm.table).replace("hr",O.hr).replace("heading"," {0,3}#{1,6} ").replace("blockquote"," {0,3}>").replace("code"," {4}[^\\n]").replace("fences"," {0,3}(?:`{3,}(?=[^`\\n]*\\n)|~{3,})[^\\n]*\\n").replace("list"," {0,3}(?:[*+-]|1[.)]) ").replace("html","</?(?:tag)(?: +|\\n|/?>)|<(?:script|pre|style|textarea|!--)").replace("tag",O._tag).getRegex(),O.gfm.paragraph=r(O._paragraph).replace("hr",O.hr).replace("heading"," {0,3}#{1,6} ").replace("|lheading","").replace("table",O.gfm.table).replace("blockquote"," {0,3}>").replace("fences"," {0,3}(?:`{3,}(?=[^`\\n]*\\n)|~{3,})[^\\n]*\\n").replace("list"," {0,3}(?:[*+-]|1[.)]) ").replace("html","</?(?:tag)(?: +|\\n|/?>)|<(?:script|pre|style|textarea|!--)").replace("tag",O._tag).getRegex(),O.pedantic=E({},O.normal,{html:r(`^ *(?:comment *(?:\\n|\\s*$)|<(tag)[\\s\\S]+?</\\1> *(?:\\n{2,}|\\s*$)|<tag(?:"[^"]*"|'[^']*'|\\s[^'"/>\\s]*)*?/?> *(?:\\n{2,}|\\s*$))`).replace("comment",O._comment).replace(/tag/g,"(?!(?:a|em|strong|small|s|cite|q|dfn|abbr|data|time|code|var|samp|kbd|sub|sup|i|b|u|mark|ruby|rt|rp|bdi|bdo|span|br|wbr|ins|del|img)\\b)\\w+(?!:|[^\\w\\s@]*@)\\b").getRegex(),def:/^ *\[([^\]]+)\]: *<?([^\s>]+)>?(?: +(["(][^\n]+[")]))? *(?:\n+|$)/,heading:/^(#{1,6})(.*)(?:\n+|$)/,fences:w,paragraph:r(O.normal._paragraph).replace("hr",O.hr).replace("heading",` *#{1,6} *[^
]`).replace("lheading",O.lheading).replace("blockquote"," {0,3}>").replace("|fences","").replace("|list","").replace("|html","").getRegex()});var W={escape:/^\\([!"#$%&'()*+,\-./:;<=>?@\[\]\\^_`{|}~])/,autolink:/^<(scheme:[^\s\x00-\x1f<>]*|email)>/,url:w,tag:"^comment|^</[a-zA-Z][\\w:-]*\\s*>|^<[a-zA-Z][\\w-]*(?:attribute)*?\\s*/?>|^<\\?[\\s\\S]*?\\?>|^<![a-zA-Z]+\\s[\\s\\S]*?>|^<!\\[CDATA\\[[\\s\\S]*?\\]\\]>",link:/^!?\[(label)\]\(\s*(href)(?:\s+(title))?\s*\)/,reflink:/^!?\[(label)\]\[(ref)\]/,nolink:/^!?\[(ref)\](?:\[\])?/,reflinkSearch:"reflink|nolink(?!\\()",emStrong:{lDelim:/^(?:\*+(?:([punct_])|[^\s*]))|^_+(?:([punct*])|([^\s_]))/,rDelimAst:/^[^_*]*?\_\_[^_*]*?\*[^_*]*?(?=\_\_)|[^*]+(?=[^*])|[punct_](\*+)(?=[\s]|$)|[^punct*_\s](\*+)(?=[punct_\s]|$)|[punct_\s](\*+)(?=[^punct*_\s])|[\s](\*+)(?=[punct_])|[punct_](\*+)(?=[punct_])|[^punct*_\s](\*+)(?=[^punct*_\s])/,rDelimUnd:/^[^_*]*?\*\*[^_*]*?\_[^_*]*?(?=\*\*)|[^_]+(?=[^_])|[punct*](\_+)(?=[\s]|$)|[^punct*_\s](\_+)(?=[punct*\s]|$)|[punct*\s](\_+)(?=[^punct*_\s])|[\s](\_+)(?=[punct*])|[punct*](\_+)(?=[punct*])/},code:/^(`+)([^`]|[^`][\s\S]*?[^`])\1(?!`)/,br:/^( {2,}|\\)\n(?!\s*$)/,del:w,text:/^(`+|[^`])(?:(?= {2,}\n)|[\s\S]*?(?:(?=[\\<!\[`*_]|\b_|$)|[^ ](?= {2,}\n)))/,punctuation:/^([\spunctuation])/};W._punctuation="!\"#$%&'()+\\-.,/:;<=>?@\\[\\]`^{|}~",W.punctuation=r(W.punctuation).replace(/punctuation/g,W._punctuation).getRegex(),W.blockSkip=/\[[^\]]*?\]\([^\)]*?\)|`[^`]*?`|<[^>]*?>/g,W.escapedEmSt=/\\\*|\\_/g,W._comment=r(O._comment).replace("(?:-->|$)","-->").getRegex(),W.emStrong.lDelim=r(W.emStrong.lDelim).replace(/punct/g,W._punctuation).getRegex(),W.emStrong.rDelimAst=r(W.emStrong.rDelimAst,"g").replace(/punct/g,W._punctuation).getRegex(),W.emStrong.rDelimUnd=r(W.emStrong.rDelimUnd,"g").replace(/punct/g,W._punctuation).getRegex(),W._escapes=/\\([!"#$%&'()*+,\-./:;<=>?@\[\]\\^_`{|}~])/g,W._scheme=/[a-zA-Z][a-zA-Z0-9+.-]{1,31}/,W._email=/[a-zA-Z0-9.!#$%&'*+/=?^_`{|}~-]+(@)[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)+(?![-_])/,W.autolink=r(W.autolink).replace("scheme",W._scheme).replace("email",W._email).getRegex(),W._attribute=/\s+[a-zA-Z:_][\w.:-]*(?:\s*=\s*"[^"]*"|\s*=\s*'[^']*'|\s*=\s*[^\s"'=<>`]+)?/,W.tag=r(W.tag).replace("comment",W._comment).replace("attribute",W._attribute).getRegex(),W._label=/(?:\[(?:\\.|[^\[\]\\])*\]|\\.|`[^`]*`|[^\[\]\\`])*?/,W._href=/<(?:\\.|[^\n<>\\])+>|[^\s\x00-\x1f]*/,W._title=/"(?:\\"?|[^"\\])*"|'(?:\\'?|[^'\\])*'|\((?:\\\)?|[^)\\])*\)/,W.link=r(W.link).replace("label",W._label).replace("href",W._href).replace("title",W._title).getRegex(),W.reflink=r(W.reflink).replace("label",W._label).replace("ref",O._label).getRegex(),W.nolink=r(W.nolink).replace("ref",O._label).getRegex(),W.reflinkSearch=r(W.reflinkSearch,"g").replace("reflink",W.reflink).replace("nolink",W.nolink).getRegex(),W.normal=E({},W),W.pedantic=E({},W.normal,{strong:{start:/^__|\*\*/,middle:/^__(?=\S)([\s\S]*?\S)__(?!_)|^\*\*(?=\S)([\s\S]*?\S)\*\*(?!\*)/,endAst:/\*\*(?!\*)/g,endUnd:/__(?!_)/g},em:{start:/^_|\*/,middle:/^()\*(?=\S)([\s\S]*?\S)\*(?!\*)|^_(?=\S)([\s\S]*?\S)_(?!_)/,endAst:/\*(?!\*)/g,endUnd:/_(?!_)/g},link:r(/^!?\[(label)\]\((.*?)\)/).replace("label",W._label).getRegex(),reflink:r(/^!?\[(label)\]\s*\[([^\]]*)\]/).replace("label",W._label).getRegex()}),W.gfm=E({},W.normal,{escape:r(W.escape).replace("])","~|])").getRegex(),_extended_email:/[A-Za-z0-9._+-]+(@)[a-zA-Z0-9-_]+(?:\.[a-zA-Z0-9-_]*[a-zA-Z0-9])+(?![-_])/,url:/^((?:ftp|https?):\/\/|www\.)(?:[a-zA-Z0-9\-]+\.?)+[^\s<]*|^email/,_backpedal:/(?:[^?!.,:;*_~()&]+|\([^)]*\)|&(?![a-zA-Z0-9]+;$)|[?!.,:;*_~)]+(?!$))+/,del:/^(~~?)(?=[^\s~])([\s\S]*?[^\s~])\1(?=[^~]|$)/,text:/^([`~]+|[^`~])(?:(?= {2,}\n)|(?=[a-zA-Z0-9.!#$%&'*+\/=?_`{\|}~-]+@)|[\s\S]*?(?:(?=[\\<!\[`*~_]|\b_|https?:\/\/|ftp:\/\/|www\.|$)|[^ ](?= {2,}\n)|[^a-zA-Z0-9.!#$%&'*+\/=?_`{\|}~-](?=[a-zA-Z0-9.!#$%&'*+\/=?_`{\|}~-]+@)))/}),W.gfm.url=r(W.gfm.url,"i").replace("email",W.gfm._extended_email).getRegex(),W.breaks=E({},W.gfm,{br:r(W.br).replace("{2,}","*").getRegex(),text:r(W.gfm.text).replace("\\b_","\\b_| {2,}\\n").replace(/\{2,\}/g,"*").getRegex()});function U(he){return he.replace(/---/g,"\u2014").replace(/--/g,"\u2013").replace(/(^|[-\u2014/(\[{"\s])'/g,"$1\u2018").replace(/'/g,"\u2019").replace(/(^|[-\u2014/(\[{\u2018\s])"/g,"$1\u201C").replace(/"/g,"\u201D").replace(/\.{3}/g,"\u2026")}function j(he){var ue="",te,q,z=he.length;for(te=0;te<z;te++)q=he.charCodeAt(te),Math.random()>.5&&(q="x"+q.toString(16)),ue+="&#"+q+";";return ue}var R=function(){function he(te){this.tokens=[],this.tokens.links=Object.create(null),this.options=te||Q.defaults,this.options.tokenizer=this.options.tokenizer||new F,this.tokenizer=this.options.tokenizer,this.tokenizer.options=this.options,this.tokenizer.lexer=this,this.inlineQueue=[],this.state={inLink:!1,inRawBlock:!1,top:!0};var q={block:O.normal,inline:W.normal};this.options.pedantic?(q.block=O.pedantic,q.inline=W.pedantic):this.options.gfm&&(q.block=O.gfm,this.options.breaks?q.inline=W.breaks:q.inline=W.gfm),this.tokenizer.rules=q}he.lex=function(q,z){var ee=new he(z);return ee.lex(q)},he.lexInline=function(q,z){var ee=new he(z);return ee.inlineTokens(q)};var ue=he.prototype;return ue.lex=function(q){q=q.replace(/\r\n|\r/g,`
`),this.blockTokens(q,this.tokens);for(var z;z=this.inlineQueue.shift();)this.inlineTokens(z.src,z.tokens);return this.tokens},ue.blockTokens=function(q,z){var ee=this;z===void 0&&(z=[]),this.options.pedantic?q=q.replace(/\t/g,"    ").replace(/^ +$/gm,""):q=q.replace(/^( *)(\t+)/gm,function(Se,Le,De){return Le+"    ".repeat(De.length)});for(var $,re,oe,ge;q;)if(!(this.options.extensions&&this.options.extensions.block&&this.options.extensions.block.some(function(Se){return($=Se.call({lexer:ee},q,z))?(q=q.substring($.raw.length),z.push($),!0):!1}))){if($=this.tokenizer.space(q)){q=q.substring($.raw.length),$.raw.length===1&&z.length>0?z[z.length-1].raw+=`
`:z.push($);continue}if($=this.tokenizer.code(q)){q=q.substring($.raw.length),re=z[z.length-1],re&&(re.type==="paragraph"||re.type==="text")?(re.raw+=`
`+$.raw,re.text+=`
`+$.text,this.inlineQueue[this.inlineQueue.length-1].src=re.text):z.push($);continue}if($=this.tokenizer.fences(q)){q=q.substring($.raw.length),z.push($);continue}if($=this.tokenizer.heading(q)){q=q.substring($.raw.length),z.push($);continue}if($=this.tokenizer.hr(q)){q=q.substring($.raw.length),z.push($);continue}if($=this.tokenizer.blockquote(q)){q=q.substring($.raw.length),z.push($);continue}if($=this.tokenizer.list(q)){q=q.substring($.raw.length),z.push($);continue}if($=this.tokenizer.html(q)){q=q.substring($.raw.length),z.push($);continue}if($=this.tokenizer.def(q)){q=q.substring($.raw.length),re=z[z.length-1],re&&(re.type==="paragraph"||re.type==="text")?(re.raw+=`
`+$.raw,re.text+=`
`+$.raw,this.inlineQueue[this.inlineQueue.length-1].src=re.text):this.tokens.links[$.tag]||(this.tokens.links[$.tag]={href:$.href,title:$.title});continue}if($=this.tokenizer.table(q)){q=q.substring($.raw.length),z.push($);continue}if($=this.tokenizer.lheading(q)){q=q.substring($.raw.length),z.push($);continue}if(oe=q,this.options.extensions&&this.options.extensions.startBlock&&function(){var Se=1/0,Le=q.slice(1),De=void 0;ee.options.extensions.startBlock.forEach(function(ye){De=ye.call({lexer:this},Le),typeof De=="number"&&De>=0&&(Se=Math.min(Se,De))}),Se<1/0&&Se>=0&&(oe=q.substring(0,Se+1))}(),this.state.top&&($=this.tokenizer.paragraph(oe))){re=z[z.length-1],ge&&re.type==="paragraph"?(re.raw+=`
`+$.raw,re.text+=`
`+$.text,this.inlineQueue.pop(),this.inlineQueue[this.inlineQueue.length-1].src=re.text):z.push($),ge=oe.length!==q.length,q=q.substring($.raw.length);continue}if($=this.tokenizer.text(q)){q=q.substring($.raw.length),re=z[z.length-1],re&&re.type==="text"?(re.raw+=`
`+$.raw,re.text+=`
`+$.text,this.inlineQueue.pop(),this.inlineQueue[this.inlineQueue.length-1].src=re.text):z.push($);continue}if(q){var ve="Infinite loop on byte: "+q.charCodeAt(0);if(this.options.silent){console.error(ve);break}else throw new Error(ve)}}return this.state.top=!0,z},ue.inline=function(q,z){return z===void 0&&(z=[]),this.inlineQueue.push({src:q,tokens:z}),z},ue.inlineTokens=function(q,z){var ee=this;z===void 0&&(z=[]);var $,re,oe,ge=q,ve,Se,Le;if(this.tokens.links){var De=Object.keys(this.tokens.links);if(De.length>0)for(;(ve=this.tokenizer.rules.inline.reflinkSearch.exec(ge))!=null;)De.includes(ve[0].slice(ve[0].lastIndexOf("[")+1,-1))&&(ge=ge.slice(0,ve.index)+"["+T("a",ve[0].length-2)+"]"+ge.slice(this.tokenizer.rules.inline.reflinkSearch.lastIndex))}for(;(ve=this.tokenizer.rules.inline.blockSkip.exec(ge))!=null;)ge=ge.slice(0,ve.index)+"["+T("a",ve[0].length-2)+"]"+ge.slice(this.tokenizer.rules.inline.blockSkip.lastIndex);for(;(ve=this.tokenizer.rules.inline.escapedEmSt.exec(ge))!=null;)ge=ge.slice(0,ve.index)+"++"+ge.slice(this.tokenizer.rules.inline.escapedEmSt.lastIndex);for(;q;)if(Se||(Le=""),Se=!1,!(this.options.extensions&&this.options.extensions.inline&&this.options.extensions.inline.some(function(Ee){return($=Ee.call({lexer:ee},q,z))?(q=q.substring($.raw.length),z.push($),!0):!1}))){if($=this.tokenizer.escape(q)){q=q.substring($.raw.length),z.push($);continue}if($=this.tokenizer.tag(q)){q=q.substring($.raw.length),re=z[z.length-1],re&&$.type==="text"&&re.type==="text"?(re.raw+=$.raw,re.text+=$.text):z.push($);continue}if($=this.tokenizer.link(q)){q=q.substring($.raw.length),z.push($);continue}if($=this.tokenizer.reflink(q,this.tokens.links)){q=q.substring($.raw.length),re=z[z.length-1],re&&$.type==="text"&&re.type==="text"?(re.raw+=$.raw,re.text+=$.text):z.push($);continue}if($=this.tokenizer.emStrong(q,ge,Le)){q=q.substring($.raw.length),z.push($);continue}if($=this.tokenizer.codespan(q)){q=q.substring($.raw.length),z.push($);continue}if($=this.tokenizer.br(q)){q=q.substring($.raw.length),z.push($);continue}if($=this.tokenizer.del(q)){q=q.substring($.raw.length),z.push($);continue}if($=this.tokenizer.autolink(q,j)){q=q.substring($.raw.length),z.push($);continue}if(!this.state.inLink&&($=this.tokenizer.url(q,j))){q=q.substring($.raw.length),z.push($);continue}if(oe=q,this.options.extensions&&this.options.extensions.startInline&&function(){var Ee=1/0,Me=q.slice(1),Pe=void 0;ee.options.extensions.startInline.forEach(function(Fe){Pe=Fe.call({lexer:this},Me),typeof Pe=="number"&&Pe>=0&&(Ee=Math.min(Ee,Pe))}),Ee<1/0&&Ee>=0&&(oe=q.substring(0,Ee+1))}(),$=this.tokenizer.inlineText(oe,U)){q=q.substring($.raw.length),$.raw.slice(-1)!=="_"&&(Le=$.raw.slice(-1)),Se=!0,re=z[z.length-1],re&&re.type==="text"?(re.raw+=$.raw,re.text+=$.text):z.push($);continue}if(q){var ye="Infinite loop on byte: "+q.charCodeAt(0);if(this.options.silent){console.error(ye);break}else throw new Error(ye)}}return z},L(he,null,[{key:"rules",get:function(){return{block:O,inline:W}}}]),he}(),K=function(){function he(te){this.options=te||Q.defaults}var ue=he.prototype;return ue.code=function(q,z,ee){var $=(z||"").match(/\S*/)[0];if(this.options.highlight){var re=this.options.highlight(q,$);re!=null&&re!==q&&(ee=!0,q=re)}return q=q.replace(/\n$/,"")+`
`,$?'<pre><code class="'+this.options.langPrefix+t($,!0)+'">'+(ee?q:t(q,!0))+`</code></pre>
`:"<pre><code>"+(ee?q:t(q,!0))+`</code></pre>
`},ue.blockquote=function(q){return`<blockquote>
`+q+`</blockquote>
`},ue.html=function(q){return q},ue.heading=function(q,z,ee,$){if(this.options.headerIds){var re=this.options.headerPrefix+$.slug(ee);return"<h"+z+' id="'+re+'">'+q+"</h"+z+`>
`}return"<h"+z+">"+q+"</h"+z+`>
`},ue.hr=function(){return this.options.xhtml?`<hr/>
`:`<hr>
`},ue.list=function(q,z,ee){var $=z?"ol":"ul",re=z&&ee!==1?' start="'+ee+'"':"";return"<"+$+re+`>
`+q+"</"+$+`>
`},ue.listitem=function(q){return"<li>"+q+`</li>
`},ue.checkbox=function(q){return"<input "+(q?'checked="" ':"")+'disabled="" type="checkbox"'+(this.options.xhtml?" /":"")+"> "},ue.paragraph=function(q){return"<p>"+q+`</p>
`},ue.table=function(q,z){return z&&(z="<tbody>"+z+"</tbody>"),`<table>
<thead>
`+q+`</thead>
`+z+`</table>
`},ue.tablerow=function(q){return`<tr>
`+q+`</tr>
`},ue.tablecell=function(q,z){var ee=z.header?"th":"td",$=z.align?"<"+ee+' align="'+z.align+'">':"<"+ee+">";return $+q+("</"+ee+`>
`)},ue.strong=function(q){return"<strong>"+q+"</strong>"},ue.em=function(q){return"<em>"+q+"</em>"},ue.codespan=function(q){return"<code>"+q+"</code>"},ue.br=function(){return this.options.xhtml?"<br/>":"<br>"},ue.del=function(q){return"<del>"+q+"</del>"},ue.link=function(q,z,ee){if(q=d(this.options.sanitize,this.options.baseUrl,q),q===null)return ee;var $='<a href="'+t(q)+'"';return z&&($+=' title="'+z+'"'),$+=">"+ee+"</a>",$},ue.image=function(q,z,ee){if(q=d(this.options.sanitize,this.options.baseUrl,q),q===null)return ee;var $='<img src="'+q+'" alt="'+ee+'"';return z&&($+=' title="'+z+'"'),$+=this.options.xhtml?"/>":">",$},ue.text=function(q){return q},he}(),G=function(){function he(){}var ue=he.prototype;return ue.strong=function(q){return q},ue.em=function(q){return q},ue.codespan=function(q){return q},ue.del=function(q){return q},ue.html=function(q){return q},ue.text=function(q){return q},ue.link=function(q,z,ee){return""+ee},ue.image=function(q,z,ee){return""+ee},ue.br=function(){return""},he}(),Z=function(){function he(){this.seen={}}var ue=he.prototype;return ue.serialize=function(q){return q.toLowerCase().trim().replace(/<[!\/a-z].*?>/ig,"").replace(/[\u2000-\u206F\u2E00-\u2E7F\\'!"#$%&()*+,./:;<=>?@[\]^`{|}~]/g,"").replace(/\s/g,"-")},ue.getNextSafeSlug=function(q,z){var ee=q,$=0;if(this.seen.hasOwnProperty(ee)){$=this.seen[q];do $++,ee=q+"-"+$;while(this.seen.hasOwnProperty(ee))}return z||(this.seen[q]=$,this.seen[ee]=0),ee},ue.slug=function(q,z){z===void 0&&(z={});var ee=this.serialize(q);return this.getNextSafeSlug(ee,z.dryrun)},he}(),J=function(){function he(te){this.options=te||Q.defaults,this.options.renderer=this.options.renderer||new K,this.renderer=this.options.renderer,this.renderer.options=this.options,this.textRenderer=new G,this.slugger=new Z}he.parse=function(q,z){var ee=new he(z);return ee.parse(q)},he.parseInline=function(q,z){var ee=new he(z);return ee.parseInline(q)};var ue=he.prototype;return ue.parse=function(q,z){z===void 0&&(z=!0);var ee="",$,re,oe,ge,ve,Se,Le,De,ye,Ee,Me,Pe,Fe,_e,me,le,pe,Ce,be,Ie=q.length;for($=0;$<Ie;$++){if(Ee=q[$],this.options.extensions&&this.options.extensions.renderers&&this.options.extensions.renderers[Ee.type]&&(be=this.options.extensions.renderers[Ee.type].call({parser:this},Ee),be!==!1||!["space","hr","heading","code","table","blockquote","list","html","paragraph","text"].includes(Ee.type))){ee+=be||"";continue}switch(Ee.type){case"space":continue;case"hr":{ee+=this.renderer.hr();continue}case"heading":{ee+=this.renderer.heading(this.parseInline(Ee.tokens),Ee.depth,u(this.parseInline(Ee.tokens,this.textRenderer)),this.slugger);continue}case"code":{ee+=this.renderer.code(Ee.text,Ee.lang,Ee.escaped);continue}case"table":{for(De="",Le="",ge=Ee.header.length,re=0;re<ge;re++)Le+=this.renderer.tablecell(this.parseInline(Ee.header[re].tokens),{header:!0,align:Ee.align[re]});for(De+=this.renderer.tablerow(Le),ye="",ge=Ee.rows.length,re=0;re<ge;re++){for(Se=Ee.rows[re],Le="",ve=Se.length,oe=0;oe<ve;oe++)Le+=this.renderer.tablecell(this.parseInline(Se[oe].tokens),{header:!1,align:Ee.align[oe]});ye+=this.renderer.tablerow(Le)}ee+=this.renderer.table(De,ye);continue}case"blockquote":{ye=this.parse(Ee.tokens),ee+=this.renderer.blockquote(ye);continue}case"list":{for(Me=Ee.ordered,Pe=Ee.start,Fe=Ee.loose,ge=Ee.items.length,ye="",re=0;re<ge;re++)me=Ee.items[re],le=me.checked,pe=me.task,_e="",me.task&&(Ce=this.renderer.checkbox(le),Fe?me.tokens.length>0&&me.tokens[0].type==="paragraph"?(me.tokens[0].text=Ce+" "+me.tokens[0].text,me.tokens[0].tokens&&me.tokens[0].tokens.length>0&&me.tokens[0].tokens[0].type==="text"&&(me.tokens[0].tokens[0].text=Ce+" "+me.tokens[0].tokens[0].text)):me.tokens.unshift({type:"text",text:Ce}):_e+=Ce),_e+=this.parse(me.tokens,Fe),ye+=this.renderer.listitem(_e,pe,le);ee+=this.renderer.list(ye,Me,Pe);continue}case"html":{ee+=this.renderer.html(Ee.text);continue}case"paragraph":{ee+=this.renderer.paragraph(this.parseInline(Ee.tokens));continue}case"text":{for(ye=Ee.tokens?this.parseInline(Ee.tokens):Ee.text;$+1<Ie&&q[$+1].type==="text";)Ee=q[++$],ye+=`
`+(Ee.tokens?this.parseInline(Ee.tokens):Ee.text);ee+=z?this.renderer.paragraph(ye):ye;continue}default:{var Ne='Token with "'+Ee.type+'" type was not found.';if(this.options.silent){console.error(Ne);return}else throw new Error(Ne)}}}return ee},ue.parseInline=function(q,z){z=z||this.renderer;var ee="",$,re,oe,ge=q.length;for($=0;$<ge;$++){if(re=q[$],this.options.extensions&&this.options.extensions.renderers&&this.options.extensions.renderers[re.type]&&(oe=this.options.extensions.renderers[re.type].call({parser:this},re),oe!==!1||!["escape","html","link","image","strong","em","codespan","br","del","text"].includes(re.type))){ee+=oe||"";continue}switch(re.type){case"escape":{ee+=z.text(re.text);break}case"html":{ee+=z.html(re.text);break}case"link":{ee+=z.link(re.href,re.title,this.parseInline(re.tokens,z));break}case"image":{ee+=z.image(re.href,re.title,re.text);break}case"strong":{ee+=z.strong(this.parseInline(re.tokens,z));break}case"em":{ee+=z.em(this.parseInline(re.tokens,z));break}case"codespan":{ee+=z.codespan(re.text);break}case"br":{ee+=z.br();break}case"del":{ee+=z.del(this.parseInline(re.tokens,z));break}case"text":{ee+=z.text(re.text);break}default:{var ve='Token with "'+re.type+'" type was not found.';if(this.options.silent){console.error(ve);return}else throw new Error(ve)}}}return ee},he}();function X(he,ue,te){if(typeof he>"u"||he===null)throw new Error("marked(): input parameter is undefined or null");if(typeof he!="string")throw new Error("marked(): input parameter is of type "+Object.prototype.toString.call(he)+", string expected");if(typeof ue=="function"&&(te=ue,ue=null),ue=E({},X.defaults,ue||{}),x(ue),te){var q=ue.highlight,z;try{z=R.lex(he,ue)}catch(ge){return te(ge)}var ee=function(ve){var Se;if(!ve)try{ue.walkTokens&&X.walkTokens(z,ue.walkTokens),Se=J.parse(z,ue)}catch(Le){ve=Le}return ue.highlight=q,ve?te(ve):te(null,Se)};if(!q||q.length<3||(delete ue.highlight,!z.length))return ee();var $=0;X.walkTokens(z,function(ge){ge.type==="code"&&($++,setTimeout(function(){q(ge.text,ge.lang,function(ve,Se){if(ve)return ee(ve);Se!=null&&Se!==ge.text&&(ge.text=Se,ge.escaped=!0),$--,$===0&&ee()})},0))}),$===0&&ee();return}function re(ge){if(ge.message+=`
Please report this to https://github.com/markedjs/marked.`,ue.silent)return"<p>An error occurred:</p><pre>"+t(ge.message+"",!0)+"</pre>";throw ge}try{var oe=R.lex(he,ue);if(ue.walkTokens){if(ue.async)return Promise.all(X.walkTokens(oe,ue.walkTokens)).then(function(){return J.parse(oe,ue)}).catch(re);X.walkTokens(oe,ue.walkTokens)}return J.parse(oe,ue)}catch(ge){re(ge)}}X.options=X.setOptions=function(he){return E(X.defaults,he),f(X.defaults),X},X.getDefaults=S,X.defaults=Q.defaults,X.use=function(){for(var he=arguments.length,ue=new Array(he),te=0;te<he;te++)ue[te]=arguments[te];var q=E.apply(void 0,[{}].concat(ue)),z=X.defaults.extensions||{renderers:{},childTokens:{}},ee;ue.forEach(function($){if($.extensions&&(ee=!0,$.extensions.forEach(function(oe){if(!oe.name)throw new Error("extension name required");if(oe.renderer){var ge=z.renderers?z.renderers[oe.name]:null;ge?z.renderers[oe.name]=function(){for(var ve=arguments.length,Se=new Array(ve),Le=0;Le<ve;Le++)Se[Le]=arguments[Le];var De=oe.renderer.apply(this,Se);return De===!1&&(De=ge.apply(this,Se)),De}:z.renderers[oe.name]=oe.renderer}if(oe.tokenizer){if(!oe.level||oe.level!=="block"&&oe.level!=="inline")throw new Error("extension level must be 'block' or 'inline'");z[oe.level]?z[oe.level].unshift(oe.tokenizer):z[oe.level]=[oe.tokenizer],oe.start&&(oe.level==="block"?z.startBlock?z.startBlock.push(oe.start):z.startBlock=[oe.start]:oe.level==="inline"&&(z.startInline?z.startInline.push(oe.start):z.startInline=[oe.start]))}oe.childTokens&&(z.childTokens[oe.name]=oe.childTokens)})),$.renderer&&function(){var oe=X.defaults.renderer||new K,ge=function(Le){var De=oe[Le];oe[Le]=function(){for(var ye=arguments.length,Ee=new Array(ye),Me=0;Me<ye;Me++)Ee[Me]=arguments[Me];var Pe=$.renderer[Le].apply(oe,Ee);return Pe===!1&&(Pe=De.apply(oe,Ee)),Pe}};for(var ve in $.renderer)ge(ve);q.renderer=oe}(),$.tokenizer&&function(){var oe=X.defaults.tokenizer||new F,ge=function(Le){var De=oe[Le];oe[Le]=function(){for(var ye=arguments.length,Ee=new Array(ye),Me=0;Me<ye;Me++)Ee[Me]=arguments[Me];var Pe=$.tokenizer[Le].apply(oe,Ee);return Pe===!1&&(Pe=De.apply(oe,Ee)),Pe}};for(var ve in $.tokenizer)ge(ve);q.tokenizer=oe}(),$.walkTokens){var re=X.defaults.walkTokens;q.walkTokens=function(oe){var ge=[];return ge.push($.walkTokens.call(this,oe)),re&&(ge=ge.concat(re.call(this,oe))),ge}}ee&&(q.extensions=z),X.setOptions(q)})},X.walkTokens=function(he,ue){for(var te=[],q=function(){var re=ee.value;switch(te=te.concat(ue.call(X,re)),re.type){case"table":{for(var oe=D(re.header),ge;!(ge=oe()).done;){var ve=ge.value;te=te.concat(X.walkTokens(ve.tokens,ue))}for(var Se=D(re.rows),Le;!(Le=Se()).done;)for(var De=Le.value,ye=D(De),Ee;!(Ee=ye()).done;){var Me=Ee.value;te=te.concat(X.walkTokens(Me.tokens,ue))}break}case"list":{te=te.concat(X.walkTokens(re.items,ue));break}default:X.defaults.extensions&&X.defaults.extensions.childTokens&&X.defaults.extensions.childTokens[re.type]?X.defaults.extensions.childTokens[re.type].forEach(function(Pe){te=te.concat(X.walkTokens(re[Pe],ue))}):re.tokens&&(te=te.concat(X.walkTokens(re.tokens,ue)))}},z=D(he),ee;!(ee=z()).done;)q();return te},X.parseInline=function(he,ue){if(typeof he>"u"||he===null)throw new Error("marked.parseInline(): input parameter is undefined or null");if(typeof he!="string")throw new Error("marked.parseInline(): input parameter is of type "+Object.prototype.toString.call(he)+", string expected");ue=E({},X.defaults,ue||{}),x(ue);try{var te=R.lexInline(he,ue);return ue.walkTokens&&X.walkTokens(te,ue.walkTokens),J.parseInline(te,ue)}catch(q){if(q.message+=`
Please report this to https://github.com/markedjs/marked.`,ue.silent)return"<p>An error occurred:</p><pre>"+t(q.message+"",!0)+"</pre>";throw q}},X.Parser=J,X.parser=J.parse,X.Renderer=K,X.TextRenderer=G,X.Lexer=R,X.lexer=R.lex,X.Tokenizer=F,X.Slugger=Z,X.parse=X;var H=X.options,B=X.setOptions,V=X.use,Y=X.walkTokens,ie=X.parseInline,ae=X,ce=J.parse,de=R.lex;Q.Lexer=R,Q.Parser=J,Q.Renderer=K,Q.Slugger=Z,Q.TextRenderer=G,Q.Tokenizer=F,Q.getDefaults=S,Q.lexer=de,Q.marked=X,Q.options=H,Q.parse=ae,Q.parseInline=ie,Q.parser=ce,Q.setOptions=B,Q.use=V,Q.walkTokens=Y,Object.defineProperty(Q,"__esModule",{value:!0})}),define(ne[107],se([1,0]),function(Q,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.Mimes=void 0,e.Mimes=Object.freeze({text:"text/plain",binary:"application/octet-stream",unknown:"application/unknown",markdown:"text/markdown",latex:"text/latex",uriList:"text/uri-list"})}),define(ne[197],se([1,0,107]),function(Q,e,L){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.DataTransfers=void 0,e.DataTransfers={RESOURCES:"ResourceURLs",DOWNLOAD_URL:"DownloadURL",FILES:"Files",TEXT:L.Mimes.text,INTERNAL_URI_LIST:"application/vnd.code.uri-list"}}),define(ne[387],se([1,0]),function(Q,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ArrayNavigator=void 0;class L{constructor(y,D=0,S=y.length,f=D-1){this.items=y,this.start=D,this.end=S,this.index=f}current(){return this.index===this.start-1||this.index===this.end?null:this.items[this.index]}next(){return this.index=Math.min(this.index+1,this.end),this.current()}previous(){return this.index=Math.max(this.index-1,this.start-1),this.current()}first(){return this.index=this.start,this.current()}last(){return this.index=this.end-1,this.current()}}e.ArrayNavigator=L}),define(ne[388],se([1,0,387]),function(Q,e,L){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.HistoryNavigator=void 0;class k{constructor(D=[],S=10){this._initialize(D),this._limit=S,this._onChange()}getHistory(){return this._elements}add(D){this._history.delete(D),this._history.add(D),this._onChange()}next(){return this._navigator.next()}previous(){return this._currentPosition()!==0?this._navigator.previous():null}current(){return this._navigator.current()}first(){return this._navigator.first()}last(){return this._navigator.last()}isLast(){return this._currentPosition()>=this._elements.length-1}isNowhere(){return this._navigator.current()===null}has(D){return this._history.has(D)}_onChange(){this._reduceToLimit();const D=this._elements;this._navigator=new L.ArrayNavigator(D,0,D.length,D.length)}_reduceToLimit(){const D=this._elements;D.length>this._limit&&this._initialize(D.slice(D.length-this._limit))}_currentPosition(){const D=this._navigator.current();return D?this._elements.indexOf(D):-1}_initialize(D){this._history=new Set;for(const S of D)this._history.add(S)}get _elements(){const D=[];return this._history.forEach(S=>D.push(S)),D}}e.HistoryNavigator=k}),define(ne[141],se([1,0]),function(Q,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.SlidingWindowAverage=e.MovingAverage=e.clamp=void 0;function L(D,S,f){return Math.min(Math.max(D,S),f)}e.clamp=L;class k{constructor(){this._n=1,this._val=0}update(S){return this._val=this._val+(S-this._val)/this._n,this._n+=1,this._val}get value(){return this._val}}e.MovingAverage=k;class y{constructor(S){this._n=0,this._val=0,this._values=[],this._index=0,this._sum=0,this._values=new Array(S),this._values.fill(0,0,S)}update(S){const f=this._values[this._index];return this._values[this._index]=S,this._index=(this._index+1)%this._values.length,this._sum-=f,this._sum+=S,this._n<this._values.length&&(this._n+=1),this._val=this._sum/this._n,this._val}get value(){return this._val}}e.SlidingWindowAverage=y}),define(ne[142],se([1,0]),function(Q,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ConsoleObservableLogger=e.getLogger=e.setLogger=void 0;let L;function k(a){L=a}e.setLogger=k;function y(){return L}e.getLogger=y;class D{constructor(){this.indentation=0,this.changedObservablesSets=new WeakMap}textToConsoleArgs(u){return S([f(n("|  ",this.indentation)),u])}formatInfo(u){return u.hadValue?u.didChange?[f(" "),g(C(u.oldValue,70),{color:"red",strikeThrough:!0}),f(" "),g(C(u.newValue,60),{color:"green"})]:[f(" (unchanged)")]:[f(" "),g(C(u.newValue,60),{color:"green"}),f(" (initial)")]}handleObservableChanged(u,h){console.log(...this.textToConsoleArgs([_("observable value changed"),g(u.debugName,{color:"BlueViolet"}),...this.formatInfo(h)]))}formatChanges(u){if(u.size!==0)return g(" (changed deps: "+[...u].map(h=>h.debugName).join(", ")+")",{color:"gray"})}handleDerivedCreated(u){const h=u.handleChange;this.changedObservablesSets.set(u,new Set),u.handleChange=(r,c)=>(this.changedObservablesSets.get(u).add(r),h.apply(u,[r,c]))}handleDerivedRecomputed(u,h){const r=this.changedObservablesSets.get(u);console.log(...this.textToConsoleArgs([_("derived recomputed"),g(u.debugName,{color:"BlueViolet"}),...this.formatInfo(h),this.formatChanges(r),{data:[{fn:u._computeFn}]}])),r.clear()}handleFromEventObservableTriggered(u,h){console.log(...this.textToConsoleArgs([_("observable from event triggered"),g(u.debugName,{color:"BlueViolet"}),...this.formatInfo(h),{data:[{fn:u._getValue}]}]))}handleAutorunCreated(u){const h=u.handleChange;this.changedObservablesSets.set(u,new Set),u.handleChange=(r,c)=>(this.changedObservablesSets.get(u).add(r),h.apply(u,[r,c]))}handleAutorunTriggered(u){const h=this.changedObservablesSets.get(u);console.log(...this.textToConsoleArgs([_("autorun"),g(u.debugName,{color:"BlueViolet"}),this.formatChanges(h),{data:[{fn:u._runFn}]}])),h.clear(),this.indentation++}handleAutorunFinished(u){this.indentation--}handleBeginTransaction(u){let h=u.getDebugName();h===void 0&&(h=""),console.log(...this.textToConsoleArgs([_("transaction"),g(h,{color:"BlueViolet"}),{data:[{fn:u._fn}]}])),this.indentation++}handleEndTransaction(){this.indentation--}}e.ConsoleObservableLogger=D;function S(a){const u=new Array,h=[];let r="";function c(d){if("length"in d)for(const l of d)l&&c(l);else"text"in d?(r+=`%c${d.text}`,u.push(d.style),d.data&&h.push(...d.data)):"data"in d&&h.push(...d.data)}c(a);const o=[r,...u];return o.push(...h),o}function f(a){return g(a,{color:"black"})}function _(a){return g(t(`${a}: `,10),{color:"black",bold:!0})}function g(a,u={color:"black"}){function h(c){return Object.entries(c).reduce((o,[d,l])=>`${o}${d}:${l};`,"")}const r={color:u.color};return u.strikeThrough&&(r["text-decoration"]="line-through"),u.bold&&(r["font-weight"]="bold"),{text:a,style:h(r)}}function C(a,u){switch(typeof a){case"number":return""+a;case"string":return a.length+2<=u?`"${a}"`:`"${a.substr(0,u-7)}"+...`;case"boolean":return a?"true":"false";case"undefined":return"undefined";case"object":return a===null?"null":Array.isArray(a)?s(a,u):i(a,u);case"symbol":return a.toString();case"function":return`[[Function${a.name?" "+a.name:""}]]`;default:return""+a}}function s(a,u){let h="[ ",r=!0;for(const c of a){if(r||(h+=", "),h.length-5>u){h+="...";break}r=!1,h+=`${C(c,u-h.length)}`}return h+=" ]",h}function i(a,u){let h="{ ",r=!0;for(const[c,o]of Object.entries(a)){if(r||(h+=", "),h.length-5>u){h+="...";break}r=!1,h+=`${c}: ${C(o,u-h.length)}`}return h+=" }",h}function n(a,u){let h="";for(let r=1;r<=u;r++)h+=a;return h}function t(a,u){for(;a.length<u;)a+=" ";return a}}),define(ne[165],se([1,0,142]),function(Q,e,L){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.DisposableObservableValue=e.disposableObservableValue=e.ObservableValue=e.observableValue=e.getFunctionName=e.TransactionImpl=e.subtransaction=e.transaction=e.BaseObservable=e.ConvenientObservable=e._setDerived=void 0;let k;function y(a){k=a}e._setDerived=y;class D{get TChange(){return null}reportChanges(){this.get()}read(u){return u?u.readObservable(this):this.get()}map(u){return k(h=>u(this.read(h),h),()=>{const h=C(u);if(h!==void 0)return h;const c=/^\s*\(?\s*([a-zA-Z_$][a-zA-Z_$0-9]*)\s*\)?\s*=>\s*\1\.([a-zA-Z_$][a-zA-Z_$0-9]*)\s*$/.exec(u.toString());return c?`${this.debugName}.${c[2]}`:`${this.debugName} (mapped)`})}}e.ConvenientObservable=D;class S extends D{constructor(){super(...arguments),this.observers=new Set}addObserver(u){const h=this.observers.size;this.observers.add(u),h===0&&this.onFirstObserverAdded()}removeObserver(u){this.observers.delete(u)&&this.observers.size===0&&this.onLastObserverRemoved()}onFirstObserverAdded(){}onLastObserverRemoved(){}}e.BaseObservable=S;function f(a,u){const h=new g(a,u);try{a(h)}finally{h.finish()}}e.transaction=f;function _(a,u,h){a?u(a):f(u,h)}e.subtransaction=_;class g{constructor(u,h){var r;this._fn=u,this._getDebugName=h,this.updatingObservers=[],(r=(0,L.getLogger)())===null||r===void 0||r.handleBeginTransaction(this)}getDebugName(){return this._getDebugName?this._getDebugName():C(this._fn)}updateObserver(u,h){this.updatingObservers.push({observer:u,observable:h}),u.beginUpdate(h)}finish(){var u;const h=this.updatingObservers;this.updatingObservers=null;for(const{observer:r,observable:c}of h)r.endUpdate(c);(u=(0,L.getLogger)())===null||u===void 0||u.handleEndTransaction()}}e.TransactionImpl=g;function C(a){const u=a.toString(),r=/\/\*\*\s*@description\s*([^*]*)\*\//.exec(u),c=r?r[1]:void 0;return c?.trim()}e.getFunctionName=C;function s(a,u){return new i(a,u)}e.observableValue=s;class i extends S{constructor(u,h){super(),this.debugName=u,this._value=h}get(){return this._value}set(u,h,r){var c;if(this._value===u)return;let o;h||(h=o=new g(()=>{},()=>`Setting ${this.debugName}`));try{const d=this._value;this._setValue(u),(c=(0,L.getLogger)())===null||c===void 0||c.handleObservableChanged(this,{oldValue:d,newValue:u,change:r,didChange:!0,hadValue:!0});for(const l of this.observers)h.updateObserver(l,this),l.handleChange(this,r)}finally{o&&o.finish()}}toString(){return`${this.debugName}: ${this._value}`}_setValue(u){this._value=u}}e.ObservableValue=i;function n(a,u){return new t(a,u)}e.disposableObservableValue=n;class t extends i{_setValue(u){this._value!==u&&(this._value&&this._value.dispose(),this._value=u)}dispose(){var u;(u=this._value)===null||u===void 0||u.dispose()}}e.DisposableObservableValue=t}),define(ne[262],se([1,0,85,2,165,142]),function(Q,e,L,k,y,D){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.AutorunObserver=e.autorunWithStore=e.autorunHandleChanges=e.autorun=e.autorunOpts=void 0;function S(s,i){return new C(s.debugName,i,void 0,void 0)}e.autorunOpts=S;function f(s){return new C(void 0,s,void 0,void 0)}e.autorun=f;function _(s,i){return new C(s.debugName,i,s.createEmptyChangeSummary,s.handleChange)}e.autorunHandleChanges=_;function g(s){const i=new k.DisposableStore,n=S({debugName:()=>(0,y.getFunctionName)(s)||"(anonymous)"},t=>{i.clear(),s(t,i)});return(0,k.toDisposable)(()=>{n.dispose(),i.dispose()})}e.autorunWithStore=g;class C{get debugName(){if(typeof this._debugName=="string")return this._debugName;if(typeof this._debugName=="function"){const n=this._debugName();if(n!==void 0)return n}const i=(0,y.getFunctionName)(this._runFn);return i!==void 0?i:"(anonymous)"}constructor(i,n,t,a){var u,h;this._debugName=i,this._runFn=n,this.createChangeSummary=t,this._handleChange=a,this.state=2,this.updateCount=0,this.disposed=!1,this.dependencies=new Set,this.dependenciesToBeRemoved=new Set,this.changeSummary=(u=this.createChangeSummary)===null||u===void 0?void 0:u.call(this),(h=(0,D.getLogger)())===null||h===void 0||h.handleAutorunCreated(this),this._runIfNeeded()}dispose(){this.disposed=!0;for(const i of this.dependencies)i.removeObserver(this);this.dependencies.clear()}_runIfNeeded(){var i,n,t;if(this.state===3)return;const a=this.dependenciesToBeRemoved;this.dependenciesToBeRemoved=this.dependencies,this.dependencies=a,this.state=3;try{if(!this.disposed){(i=(0,D.getLogger)())===null||i===void 0||i.handleAutorunTriggered(this);const u=this.changeSummary;this.changeSummary=(n=this.createChangeSummary)===null||n===void 0?void 0:n.call(this),this._runFn(this,u)}}finally{(t=(0,D.getLogger)())===null||t===void 0||t.handleAutorunFinished(this);for(const u of this.dependenciesToBeRemoved)u.removeObserver(this);this.dependenciesToBeRemoved.clear()}}toString(){return`Autorun<${this.debugName}>`}beginUpdate(){this.state===3&&(this.state=1),this.updateCount++}endUpdate(){if(this.updateCount===1)do{if(this.state===1){this.state=3;for(const i of this.dependencies)if(i.reportChanges(),this.state===2)break}this._runIfNeeded()}while(this.state!==3);this.updateCount--,(0,L.assertFn)(()=>this.updateCount>=0)}handlePossibleChange(i){this.state===3&&this.dependencies.has(i)&&!this.dependenciesToBeRemoved.has(i)&&(this.state=1)}handleChange(i,n){this.dependencies.has(i)&&!this.dependenciesToBeRemoved.has(i)&&(!this._handleChange||this._handleChange({changedObservable:i,change:n,didChange:a=>a===i},this.changeSummary))&&(this.state=2)}readObservable(i){if(this.disposed)return i.get();i.addObserver(this);const n=i.get();return this.dependencies.add(i),this.dependenciesToBeRemoved.delete(i),n}}e.AutorunObserver=C,function(s){s.Observer=C}(f||(e.autorun=f={}))}),define(ne[389],se([1,0,9,2,165,142]),function(Q,e,L,k,y,D){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.Derived=e.derivedWithStore=e.derivedHandleChanges=e.derivedOpts=e.derived=void 0;const S=(i,n)=>i===n;function f(i,n){return new s(n,i,void 0,void 0,void 0,S)}e.derived=f;function _(i,n){var t;return new s(i.debugName,n,void 0,void 0,void 0,(t=i.equalityComparer)!==null&&t!==void 0?t:S)}e.derivedOpts=_;function g(i,n,t){return new s(i,t,n.createEmptyChangeSummary,n.handleChange,void 0,S)}e.derivedHandleChanges=g;function C(i,n){const t=new k.DisposableStore;return new s(i,a=>(t.clear(),n(a,t)),void 0,void 0,()=>t.dispose(),S)}e.derivedWithStore=C,(0,y._setDerived)(f);class s extends y.BaseObservable{get debugName(){return this._debugName?typeof this._debugName=="function"?this._debugName():this._debugName:(0,y.getFunctionName)(this._computeFn)||"(anonymous)"}constructor(n,t,a,u,h=void 0,r){var c,o;super(),this._debugName=n,this._computeFn=t,this.createChangeSummary=a,this._handleChange=u,this._handleLastObserverRemoved=h,this._equalityComparator=r,this.state=0,this.value=void 0,this.updateCount=0,this.dependencies=new Set,this.dependenciesToBeRemoved=new Set,this.changeSummary=void 0,this.changeSummary=(c=this.createChangeSummary)===null||c===void 0?void 0:c.call(this),(o=(0,D.getLogger)())===null||o===void 0||o.handleDerivedCreated(this)}onLastObserverRemoved(){var n;this.state=0,this.value=void 0;for(const t of this.dependencies)t.removeObserver(this);this.dependencies.clear(),(n=this._handleLastObserverRemoved)===null||n===void 0||n.call(this)}get(){var n;if(this.observers.size===0){const t=this._computeFn(this,(n=this.createChangeSummary)===null||n===void 0?void 0:n.call(this));return this.onLastObserverRemoved(),t}else{do{if(this.state===1){for(const t of this.dependencies)if(t.reportChanges(),this.state===2)break}this.state===1&&(this.state=3),this._recomputeIfNeeded()}while(this.state!==3);return this.value}}_recomputeIfNeeded(){var n,t;if(this.state===3)return;const a=this.dependenciesToBeRemoved;this.dependenciesToBeRemoved=this.dependencies,this.dependencies=a;const u=this.state!==0,h=this.value;this.state=3;const r=this.changeSummary;this.changeSummary=(n=this.createChangeSummary)===null||n===void 0?void 0:n.call(this);try{this.value=this._computeFn(this,r)}finally{for(const o of this.dependenciesToBeRemoved)o.removeObserver(this);this.dependenciesToBeRemoved.clear()}const c=u&&!this._equalityComparator(h,this.value);if((t=(0,D.getLogger)())===null||t===void 0||t.handleDerivedRecomputed(this,{oldValue:h,newValue:this.value,change:void 0,didChange:c,hadValue:u}),c)for(const o of this.observers)o.handleChange(this,void 0)}toString(){return`LazyDerived<${this.debugName}>`}beginUpdate(n){this.updateCount++;const t=this.updateCount===1;if(this.state===3&&(this.state=1,!t))for(const a of this.observers)a.handlePossibleChange(this);if(t)for(const a of this.observers)a.beginUpdate(this)}endUpdate(n){if(this.updateCount--,this.updateCount===0){const t=[...this.observers];for(const a of t)a.endUpdate(this)}if(this.updateCount<0)throw new L.BugIndicatingError}handlePossibleChange(n){if(this.state===3&&this.dependencies.has(n)&&!this.dependenciesToBeRemoved.has(n)){this.state=1;for(const t of this.observers)t.handlePossibleChange(this)}}handleChange(n,t){if(this.dependencies.has(n)&&!this.dependenciesToBeRemoved.has(n)){const a=this._handleChange?this._handleChange({changedObservable:n,change:t,didChange:h=>h===n},this.changeSummary):!0,u=this.state===3;if(a&&(this.state===1||u)&&(this.state=2,u))for(const h of this.observers)h.handlePossibleChange(this)}}readObservable(n){n.addObserver(this);const t=n.get();return this.dependencies.add(n),this.dependenciesToBeRemoved.delete(n),t}addObserver(n){const t=!this.observers.has(n)&&this.updateCount>0;super.addObserver(n),t&&n.beginUpdate(this)}removeObserver(n){const t=this.observers.has(n)&&this.updateCount>0;super.removeObserver(n),t&&n.endUpdate(this)}}e.Derived=s}),define(ne[390],se([1,0,2,262,165,142]),function(Q,e,L,k,y,D){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.keepAlive=e.observableSignal=e.observableSignalFromEvent=e.FromEventObservable=e.observableFromEvent=e.waitForState=e.constObservable=void 0;function S(h){return new f(h)}e.constObservable=S;class f extends y.ConvenientObservable{constructor(r){super(),this.value=r}get debugName(){return this.toString()}get(){return this.value}addObserver(r){}removeObserver(r){}toString(){return`Const: ${this.value}`}}function _(h,r){return new Promise(c=>{let o=!1,d=!1;const l=(0,k.autorun)(p=>{const m=h.read(p);r(m)&&(o?l.dispose():d=!0,c(m))});o=!0,d&&l.dispose()})}e.waitForState=_;function g(h,r){return new C(h,r)}e.observableFromEvent=g;class C extends y.BaseObservable{constructor(r,c){super(),this.event=r,this._getValue=c,this.hasValue=!1,this.handleEvent=o=>{var d;const l=this._getValue(o),p=!this.hasValue||this.value!==l;(d=(0,D.getLogger)())===null||d===void 0||d.handleFromEventObservableTriggered(this,{oldValue:this.value,newValue:l,change:void 0,didChange:p,hadValue:this.hasValue}),p&&(this.value=l,this.hasValue&&(0,y.transaction)(m=>{for(const v of this.observers)m.updateObserver(v,this),v.handleChange(this,void 0)},()=>{const m=this.getDebugName();return"Event fired"+(m?`: ${m}`:"")}),this.hasValue=!0)}}getDebugName(){return(0,y.getFunctionName)(this._getValue)}get debugName(){const r=this.getDebugName();return"From Event"+(r?`: ${r}`:"")}onFirstObserverAdded(){this.subscription=this.event(this.handleEvent)}onLastObserverRemoved(){this.subscription.dispose(),this.subscription=void 0,this.hasValue=!1,this.value=void 0}get(){return this.subscription?(this.hasValue||this.handleEvent(void 0),this.value):this._getValue(void 0)}}e.FromEventObservable=C,function(h){h.Observer=C}(g||(e.observableFromEvent=g={}));function s(h,r){return new i(h,r)}e.observableSignalFromEvent=s;class i extends y.BaseObservable{constructor(r,c){super(),this.debugName=r,this.event=c,this.handleEvent=()=>{(0,y.transaction)(o=>{for(const d of this.observers)o.updateObserver(d,this),d.handleChange(this,void 0)},()=>this.debugName)}}onFirstObserverAdded(){this.subscription=this.event(this.handleEvent)}onLastObserverRemoved(){this.subscription.dispose(),this.subscription=void 0}get(){}}function n(h){return new t(h)}e.observableSignal=n;class t extends y.BaseObservable{constructor(r){super(),this.debugName=r}trigger(r,c){if(!r){(0,y.transaction)(o=>{this.trigger(o,c)},()=>`Trigger signal ${this.debugName}`);return}for(const o of this.observers)r.updateObserver(o,this),o.handleChange(this,c)}get(){}}function a(h,r){const c=new u(r??!1);return h.addObserver(c),r&&h.reportChanges(),(0,L.toDisposable)(()=>{h.removeObserver(c)})}e.keepAlive=a;class u{constructor(r){this.forceRecompute=r,this.counter=0}beginUpdate(r){this.counter++}endUpdate(r){this.counter--,this.counter===0&&this.forceRecompute&&r.reportChanges()}handlePossibleChange(r){}handleChange(r,c){}}}),define(ne[42],se([1,0,165,389,262,390,142]),function(Q,e,L,k,y,D,S){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.waitForState=e.observableSignalFromEvent=e.observableSignal=e.observableFromEvent=e.keepAlive=e.constObservable=e.autorunOpts=e.autorunWithStore=e.autorunHandleChanges=e.autorun=e.derivedWithStore=e.derivedHandleChanges=e.derivedOpts=e.derived=e.subtransaction=e.transaction=e.disposableObservableValue=e.observableValue=void 0,Object.defineProperty(e,"observableValue",{enumerable:!0,get:function(){return L.observableValue}}),Object.defineProperty(e,"disposableObservableValue",{enumerable:!0,get:function(){return L.disposableObservableValue}}),Object.defineProperty(e,"transaction",{enumerable:!0,get:function(){return L.transaction}}),Object.defineProperty(e,"subtransaction",{enumerable:!0,get:function(){return L.subtransaction}}),Object.defineProperty(e,"derived",{enumerable:!0,get:function(){return k.derived}}),Object.defineProperty(e,"derivedOpts",{enumerable:!0,get:function(){return k.derivedOpts}}),Object.defineProperty(e,"derivedHandleChanges",{enumerable:!0,get:function(){return k.derivedHandleChanges}}),Object.defineProperty(e,"derivedWithStore",{enumerable:!0,get:function(){return k.derivedWithStore}}),Object.defineProperty(e,"autorun",{enumerable:!0,get:function(){return y.autorun}}),Object.defineProperty(e,"autorunHandleChanges",{enumerable:!0,get:function(){return y.autorunHandleChanges}}),Object.defineProperty(e,"autorunWithStore",{enumerable:!0,get:function(){return y.autorunWithStore}}),Object.defineProperty(e,"autorunOpts",{enumerable:!0,get:function(){return y.autorunOpts}}),Object.defineProperty(e,"constObservable",{enumerable:!0,get:function(){return D.constObservable}}),Object.defineProperty(e,"keepAlive",{enumerable:!0,get:function(){return D.keepAlive}}),Object.defineProperty(e,"observableFromEvent",{enumerable:!0,get:function(){return D.observableFromEvent}}),Object.defineProperty(e,"observableSignal",{enumerable:!0,get:function(){return D.observableSignal}}),Object.defineProperty(e,"observableSignalFromEvent",{enumerable:!0,get:function(){return D.observableSignalFromEvent}}),Object.defineProperty(e,"waitForState",{enumerable:!0,get:function(){return D.waitForState}}),!1&&(0,S.setLogger)(new S.ConsoleObservableLogger)}),define(ne[166],se([1,0]),function(Q,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.Range=void 0;var L;(function(k){function y(_,g){if(_.start>=g.end||g.start>=_.end)return{start:0,end:0};const C=Math.max(_.start,g.start),s=Math.min(_.end,g.end);return s-C<=0?{start:0,end:0}:{start:C,end:s}}k.intersect=y;function D(_){return _.end-_.start<=0}k.isEmpty=D;function S(_,g){return!D(y(_,g))}k.intersects=S;function f(_,g){const C=[],s={start:_.start,end:Math.min(g.start,_.end)},i={start:Math.max(g.end,_.start),end:_.end};return D(s)||C.push(s),D(i)||C.push(i),C}k.relativeComplement=f})(L||(e.Range=L={}))}),define(ne[391],se([1,0,166]),function(Q,e,L){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.RangeMap=e.consolidate=e.shift=e.groupIntersect=void 0;function k(_,g){const C=[];for(const s of g){if(_.start>=s.range.end)continue;if(_.end<s.range.start)break;const i=L.Range.intersect(_,s.range);L.Range.isEmpty(i)||C.push({range:i,size:s.size})}return C}e.groupIntersect=k;function y({start:_,end:g},C){return{start:_+C,end:g+C}}e.shift=y;function D(_){const g=[];let C=null;for(const s of _){const i=s.range.start,n=s.range.end,t=s.size;if(C&&t===C.size){C.range.end=n;continue}C={range:{start:i,end:n},size:t},g.push(C)}return g}e.consolidate=D;function S(..._){return D(_.reduce((g,C)=>g.concat(C),[]))}class f{get paddingTop(){return this._paddingTop}set paddingTop(g){this._size=this._size+g-this._paddingTop,this._paddingTop=g}constructor(g){this.groups=[],this._size=0,this._paddingTop=0,this._paddingTop=g??0,this._size=this._paddingTop}splice(g,C,s=[]){const i=s.length-C,n=k({start:0,end:g},this.groups),t=k({start:g+C,end:Number.POSITIVE_INFINITY},this.groups).map(u=>({range:y(u.range,i),size:u.size})),a=s.map((u,h)=>({range:{start:g+h,end:g+h+1},size:u.size}));this.groups=S(n,a,t),this._size=this._paddingTop+this.groups.reduce((u,h)=>u+h.size*(h.range.end-h.range.start),0)}get count(){const g=this.groups.length;return g?this.groups[g-1].range.end:0}get size(){return this._size}indexAt(g){if(g<0)return-1;if(g<this._paddingTop)return 0;let C=0,s=this._paddingTop;for(const i of this.groups){const n=i.range.end-i.range.start,t=s+n*i.size;if(g<t)return C+Math.floor((g-s)/i.size);C+=n,s=t}return C}indexAfter(g){return Math.min(this.indexAt(g)+1,this.count)}positionAt(g){if(g<0)return-1;let C=0,s=0;for(const i of this.groups){const n=i.range.end-i.range.start,t=s+n;if(g<t)return this._paddingTop+C+(g-s)*i.size;C+=n*i.size,s=t}return-1}}e.RangeMap=f}),define(ne[58],se([1,0]),function(Q,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.StopWatch=void 0;const L=globalThis.performance&&typeof globalThis.performance.now=="function";class k{static create(D){return new k(D)}constructor(D){this._now=L&&D===!1?Date.now:globalThis.performance.now.bind(globalThis.performance),this._startTime=this._now(),this._stopTime=-1}stop(){this._stopTime=this._now()}elapsed(){return this._stopTime!==-1?this._stopTime-this._startTime:this._now()-this._startTime}}e.StopWatch=k}),define(ne[6],se([1,0,9,99,2,64,58]),function(Q,e,L,k,y,D,S){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.Relay=e.EventBufferer=e.EventMultiplexer=e.MicrotaskEmitter=e.DebounceEmitter=e.PauseableEmitter=e.createEventDeliveryQueue=e.Emitter=e.EventProfiling=e.Event=void 0;const f=!1,_=!1;var g;(function(b){b.None=()=>y.Disposable.None;function w(ce){if(_){const{onDidAddListener:de}=ce,he=n.create();let ue=0;ce.onDidAddListener=()=>{++ue===2&&(console.warn("snapshotted emitter LIKELY used public and SHOULD HAVE BEEN created with DisposableStore. snapshotted here"),he.print()),de?.()}}}function E(ce,de){return O(ce,()=>{},0,void 0,!0,void 0,de)}b.defer=E;function I(ce){return(de,he=null,ue)=>{let te=!1,q;return q=ce(z=>{if(!te)return q?q.dispose():te=!0,de.call(he,z)},null,ue),te&&q.dispose(),q}}b.once=I;function M(ce,de,he){return F((ue,te=null,q)=>ce(z=>ue.call(te,de(z)),null,q),he)}b.map=M;function P(ce,de,he){return F((ue,te=null,q)=>ce(z=>{de(z),ue.call(te,z)},null,q),he)}b.forEach=P;function x(ce,de,he){return F((ue,te=null,q)=>ce(z=>de(z)&&ue.call(te,z),null,q),he)}b.filter=x;function T(ce){return ce}b.signal=T;function A(...ce){return(de,he=null,ue)=>(0,y.combinedDisposable)(...ce.map(te=>te(q=>de.call(he,q),null,ue)))}b.any=A;function N(ce,de,he,ue){let te=he;return M(ce,q=>(te=de(te,q),te),ue)}b.reduce=N;function F(ce,de){let he;const ue={onWillAddFirstListener(){he=ce(te.fire,te)},onDidRemoveLastListener(){he?.dispose()}};de||w(ue);const te=new h(ue);return de?.add(te),te.event}function O(ce,de,he=100,ue=!1,te=!1,q,z){let ee,$,re,oe=0,ge;const ve={leakWarningThreshold:q,onWillAddFirstListener(){ee=ce(Le=>{oe++,$=de($,Le),ue&&!re&&(Se.fire($),$=void 0),ge=()=>{const De=$;$=void 0,re=void 0,(!ue||oe>1)&&Se.fire(De),oe=0},typeof he=="number"?(clearTimeout(re),re=setTimeout(ge,he)):re===void 0&&(re=0,queueMicrotask(ge))})},onWillRemoveListener(){te&&oe>0&&ge?.()},onDidRemoveLastListener(){ge=void 0,ee.dispose()}};z||w(ve);const Se=new h(ve);return z?.add(Se),Se.event}b.debounce=O;function W(ce,de=0,he){return b.debounce(ce,(ue,te)=>ue?(ue.push(te),ue):[te],de,void 0,!0,void 0,he)}b.accumulate=W;function U(ce,de=(ue,te)=>ue===te,he){let ue=!0,te;return x(ce,q=>{const z=ue||!de(q,te);return ue=!1,te=q,z},he)}b.latch=U;function j(ce,de,he){return[b.filter(ce,de,he),b.filter(ce,ue=>!de(ue),he)]}b.split=j;function R(ce,de=!1,he=[]){let ue=he.slice(),te=ce(ee=>{ue?ue.push(ee):z.fire(ee)});const q=()=>{ue?.forEach(ee=>z.fire(ee)),ue=null},z=new h({onWillAddFirstListener(){te||(te=ce(ee=>z.fire(ee)))},onDidAddFirstListener(){ue&&(de?setTimeout(q):q())},onDidRemoveLastListener(){te&&te.dispose(),te=null}});return z.event}b.buffer=R;class K{constructor(de){this.event=de,this.disposables=new y.DisposableStore}map(de){return new K(M(this.event,de,this.disposables))}forEach(de){return new K(P(this.event,de,this.disposables))}filter(de){return new K(x(this.event,de,this.disposables))}reduce(de,he){return new K(N(this.event,de,he,this.disposables))}latch(){return new K(U(this.event,void 0,this.disposables))}debounce(de,he=100,ue=!1,te=!1,q){return new K(O(this.event,de,he,ue,te,q,this.disposables))}on(de,he,ue){return this.event(de,he,ue)}once(de,he,ue){return I(this.event)(de,he,ue)}dispose(){this.disposables.dispose()}}function G(ce){return new K(ce)}b.chain=G;function Z(ce,de,he=ue=>ue){const ue=(...ee)=>z.fire(he(...ee)),te=()=>ce.on(de,ue),q=()=>ce.removeListener(de,ue),z=new h({onWillAddFirstListener:te,onDidRemoveLastListener:q});return z.event}b.fromNodeEventEmitter=Z;function J(ce,de,he=ue=>ue){const ue=(...ee)=>z.fire(he(...ee)),te=()=>ce.addEventListener(de,ue),q=()=>ce.removeEventListener(de,ue),z=new h({onWillAddFirstListener:te,onDidRemoveLastListener:q});return z.event}b.fromDOMEventEmitter=J;function X(ce){return new Promise(de=>I(ce)(de))}b.toPromise=X;function H(ce){const de=new h;return ce.then(he=>{de.fire(he)},()=>{de.fire(void 0)}).finally(()=>{de.dispose()}),de.event}b.fromPromise=H;function B(ce,de){return de(void 0),ce(he=>de(he))}b.runAndSubscribe=B;function V(ce,de){let he=null;function ue(q){he?.dispose(),he=new y.DisposableStore,de(q,he)}ue(void 0);const te=ce(q=>ue(q));return(0,y.toDisposable)(()=>{te.dispose(),he?.dispose()})}b.runAndSubscribeWithStore=V;class Y{constructor(de,he){this._observable=de,this._counter=0,this._hasChanged=!1;const ue={onWillAddFirstListener:()=>{de.addObserver(this)},onDidRemoveLastListener:()=>{de.removeObserver(this)}};he||w(ue),this.emitter=new h(ue),he&&he.add(this.emitter)}beginUpdate(de){this._counter++}handlePossibleChange(de){}handleChange(de,he){this._hasChanged=!0}endUpdate(de){this._counter--,this._counter===0&&(this._observable.reportChanges(),this._hasChanged&&(this._hasChanged=!1,this.emitter.fire(this._observable.get())))}}function ie(ce,de){return new Y(ce,de).emitter.event}b.fromObservable=ie;function ae(ce){return de=>{let he=0,ue=!1;const te={beginUpdate(){he++},endUpdate(){he--,he===0&&(ce.reportChanges(),ue&&(ue=!1,de()))},handlePossibleChange(){},handleChange(){ue=!0}};return ce.addObserver(te),ce.reportChanges(),{dispose(){ce.removeObserver(te)}}}}b.fromObservableLight=ae})(g||(e.Event=g={}));class C{constructor(w){this.listenerCount=0,this.invocationCount=0,this.elapsedOverall=0,this.durations=[],this.name=`${w}_${C._idPool++}`,C.all.add(this)}start(w){this._stopWatch=new S.StopWatch,this.listenerCount=w}stop(){if(this._stopWatch){const w=this._stopWatch.elapsed();this.durations.push(w),this.elapsedOverall+=w,this.invocationCount+=1,this._stopWatch=void 0}}}e.EventProfiling=C,C.all=new Set,C._idPool=0;let s=-1;class i{constructor(w,E=Math.random().toString(18).slice(2,5)){this.threshold=w,this.name=E,this._warnCountdown=0}dispose(){var w;(w=this._stacks)===null||w===void 0||w.clear()}check(w,E){const I=this.threshold;if(I<=0||E<I)return;this._stacks||(this._stacks=new Map);const M=this._stacks.get(w.value)||0;if(this._stacks.set(w.value,M+1),this._warnCountdown-=1,this._warnCountdown<=0){this._warnCountdown=I*.5;let P,x=0;for(const[T,A]of this._stacks)(!P||x<A)&&(P=T,x=A);console.warn(`[${this.name}] potential listener LEAK detected, having ${E} listeners already. MOST frequent listener (${x}):`),console.warn(P)}return()=>{const P=this._stacks.get(w.value)||0;this._stacks.set(w.value,P-1)}}}class n{static create(){var w;return new n((w=new Error().stack)!==null&&w!==void 0?w:"")}constructor(w){this.value=w}print(){console.warn(this.value.split(`
`).slice(2).join(`
`))}}class t{constructor(w){this.value=w}}const a=2,u=(b,w)=>{if(b instanceof t)w(b);else for(let E=0;E<b.length;E++){const I=b[E];I&&w(I)}};class h{constructor(w){var E,I,M,P,x;this._size=0,this._options=w,this._leakageMon=s>0||!((E=this._options)===null||E===void 0)&&E.leakWarningThreshold?new i((M=(I=this._options)===null||I===void 0?void 0:I.leakWarningThreshold)!==null&&M!==void 0?M:s):void 0,this._perfMon=!((P=this._options)===null||P===void 0)&&P._profName?new C(this._options._profName):void 0,this._deliveryQueue=(x=this._options)===null||x===void 0?void 0:x.deliveryQueue}dispose(){var w,E,I,M;if(!this._disposed){if(this._disposed=!0,((w=this._deliveryQueue)===null||w===void 0?void 0:w.current)===this&&this._deliveryQueue.reset(),this._listeners){if(f){const P=this._listeners;queueMicrotask(()=>{u(P,x=>{var T;return(T=x.stack)===null||T===void 0?void 0:T.print()})})}this._listeners=void 0,this._size=0}(I=(E=this._options)===null||E===void 0?void 0:E.onDidRemoveLastListener)===null||I===void 0||I.call(E),(M=this._leakageMon)===null||M===void 0||M.dispose()}}get event(){var w;return(w=this._event)!==null&&w!==void 0||(this._event=(E,I,M)=>{var P,x,T,A,N;if(this._leakageMon&&this._size>this._leakageMon.threshold*3)return console.warn(`[${this._leakageMon.name}] REFUSES to accept new listeners because it exceeded its threshold by far`),y.Disposable.None;if(this._disposed)return y.Disposable.None;I&&(E=E.bind(I));const F=new t(E);let O,W;this._leakageMon&&this._size>=Math.ceil(this._leakageMon.threshold*.2)&&(F.stack=n.create(),O=this._leakageMon.check(F.stack,this._size+1)),f&&(F.stack=W??n.create()),this._listeners?this._listeners instanceof t?((N=this._deliveryQueue)!==null&&N!==void 0||(this._deliveryQueue=new c),this._listeners=[this._listeners,F]):this._listeners.push(F):((x=(P=this._options)===null||P===void 0?void 0:P.onWillAddFirstListener)===null||x===void 0||x.call(P,this),this._listeners=F,(A=(T=this._options)===null||T===void 0?void 0:T.onDidAddFirstListener)===null||A===void 0||A.call(T,this)),this._size++;const U=(0,y.toDisposable)(()=>{O?.(),this._removeListener(F)});return M instanceof y.DisposableStore?M.add(U):Array.isArray(M)&&M.push(U),U}),this._event}_removeListener(w){var E,I,M,P;if((I=(E=this._options)===null||E===void 0?void 0:E.onWillRemoveListener)===null||I===void 0||I.call(E,this),!this._listeners)return;if(this._size===1){this._listeners=void 0,(P=(M=this._options)===null||M===void 0?void 0:M.onDidRemoveLastListener)===null||P===void 0||P.call(M,this),this._size=0;return}const x=this._listeners,T=x.indexOf(w);if(T===-1)throw console.log("disposed?",this._disposed),console.log("size?",this._size),console.log("arr?",JSON.stringify(this._listeners)),new Error("Attempted to dispose unknown listener");this._size--,x[T]=void 0;const A=this._deliveryQueue.current===this;if(this._size*a<=x.length){let N=0;for(let F=0;F<x.length;F++)x[F]?x[N++]=x[F]:A&&(this._deliveryQueue.end--,N<this._deliveryQueue.i&&this._deliveryQueue.i--);x.length=N}}_deliver(w,E){var I;if(!w)return;const M=((I=this._options)===null||I===void 0?void 0:I.onListenerError)||L.onUnexpectedError;if(!M){w.value(E);return}try{w.value(E)}catch(P){M(P)}}_deliverQueue(w){const E=w.current._listeners;for(;w.i<w.end;)this._deliver(E[w.i++],w.value);w.reset()}fire(w){var E,I,M,P;if(!((E=this._deliveryQueue)===null||E===void 0)&&E.current&&(this._deliverQueue(this._deliveryQueue),(I=this._perfMon)===null||I===void 0||I.stop()),(M=this._perfMon)===null||M===void 0||M.start(this._size),this._listeners)if(this._listeners instanceof t)this._deliver(this._listeners,w);else{const x=this._deliveryQueue;x.enqueue(this,w,this._listeners.length),this._deliverQueue(x)}(P=this._perfMon)===null||P===void 0||P.stop()}hasListeners(){return this._size>0}}e.Emitter=h;const r=()=>new c;e.createEventDeliveryQueue=r;class c{constructor(){this.i=-1,this.end=0}enqueue(w,E,I){this.i=0,this.end=I,this.current=w,this.value=E}reset(){this.i=this.end,this.current=void 0,this.value=void 0}}class o extends h{constructor(w){super(w),this._isPaused=0,this._eventQueue=new D.LinkedList,this._mergeFn=w?.merge}pause(){this._isPaused++}resume(){if(this._isPaused!==0&&--this._isPaused===0)if(this._mergeFn){if(this._eventQueue.size>0){const w=Array.from(this._eventQueue);this._eventQueue.clear(),super.fire(this._mergeFn(w))}}else for(;!this._isPaused&&this._eventQueue.size!==0;)super.fire(this._eventQueue.shift())}fire(w){this._size&&(this._isPaused!==0?this._eventQueue.push(w):super.fire(w))}}e.PauseableEmitter=o;class d extends o{constructor(w){var E;super(w),this._delay=(E=w.delay)!==null&&E!==void 0?E:100}fire(w){this._handle||(this.pause(),this._handle=setTimeout(()=>{this._handle=void 0,this.resume()},this._delay)),super.fire(w)}}e.DebounceEmitter=d;class l extends h{constructor(w){super(w),this._queuedEvents=[],this._mergeFn=w?.merge}fire(w){this.hasListeners()&&(this._queuedEvents.push(w),this._queuedEvents.length===1&&queueMicrotask(()=>{this._mergeFn?super.fire(this._mergeFn(this._queuedEvents)):this._queuedEvents.forEach(E=>super.fire(E)),this._queuedEvents=[]}))}}e.MicrotaskEmitter=l;class p{constructor(){this.hasListeners=!1,this.events=[],this.emitter=new h({onWillAddFirstListener:()=>this.onFirstListenerAdd(),onDidRemoveLastListener:()=>this.onLastListenerRemove()})}get event(){return this.emitter.event}add(w){const E={event:w,listener:null};this.events.push(E),this.hasListeners&&this.hook(E);const I=()=>{this.hasListeners&&this.unhook(E);const M=this.events.indexOf(E);this.events.splice(M,1)};return(0,y.toDisposable)((0,k.once)(I))}onFirstListenerAdd(){this.hasListeners=!0,this.events.forEach(w=>this.hook(w))}onLastListenerRemove(){this.hasListeners=!1,this.events.forEach(w=>this.unhook(w))}hook(w){w.listener=w.event(E=>this.emitter.fire(E))}unhook(w){w.listener&&w.listener.dispose(),w.listener=null}dispose(){this.emitter.dispose()}}e.EventMultiplexer=p;class m{constructor(){this.buffers=[]}wrapEvent(w){return(E,I,M)=>w(P=>{const x=this.buffers[this.buffers.length-1];x?x.push(()=>E.call(I,P)):E.call(I,P)},void 0,M)}bufferEvents(w){const E=[];this.buffers.push(E);const I=w();return this.buffers.pop(),E.forEach(M=>M()),I}}e.EventBufferer=m;class v{constructor(){this.listening=!1,this.inputEvent=g.None,this.inputEventListener=y.Disposable.None,this.emitter=new h({onDidAddFirstListener:()=>{this.listening=!0,this.inputEventListener=this.inputEvent(this.emitter.fire,this.emitter)},onDidRemoveLastListener:()=>{this.listening=!1,this.inputEventListener.dispose()}}),this.event=this.emitter.event}set input(w){this.inputEvent=w,this.listening&&(this.inputEventListener.dispose(),this.inputEventListener=w(this.emitter.fire,this.emitter))}dispose(){this.inputEventListener.dispose(),this.emitter.dispose()}}e.Relay=v}),define(ne[52],se([1,0,6,2]),function(Q,e,L,k){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.isStandalone=e.isAndroid=e.isElectron=e.isWebkitWebView=e.isSafari=e.isChrome=e.isWebKit=e.isFirefox=e.getZoomFactor=e.PixelRatio=e.addMatchMediaChangeListener=void 0;class y{constructor(){this._zoomFactor=1}getZoomFactor(){return this._zoomFactor}}y.INSTANCE=new y;class D extends k.Disposable{constructor(){super(),this._onDidChange=this._register(new L.Emitter),this.onDidChange=this._onDidChange.event,this._listener=()=>this._handleChange(!0),this._mediaQueryList=null,this._handleChange(!1)}_handleChange(t){var a;(a=this._mediaQueryList)===null||a===void 0||a.removeEventListener("change",this._listener),this._mediaQueryList=window.matchMedia(`(resolution: ${window.devicePixelRatio}dppx)`),this._mediaQueryList.addEventListener("change",this._listener),t&&this._onDidChange.fire()}}class S extends k.Disposable{get value(){return this._value}constructor(){super(),this._onDidChange=this._register(new L.Emitter),this.onDidChange=this._onDidChange.event,this._value=this._getPixelRatio();const t=this._register(new D);this._register(t.onDidChange(()=>{this._value=this._getPixelRatio(),this._onDidChange.fire(this._value)}))}_getPixelRatio(){const t=document.createElement("canvas").getContext("2d"),a=window.devicePixelRatio||1,u=t.webkitBackingStorePixelRatio||t.mozBackingStorePixelRatio||t.msBackingStorePixelRatio||t.oBackingStorePixelRatio||t.backingStorePixelRatio||1;return a/u}}class f{constructor(){this._pixelRatioMonitor=null}_getOrCreatePixelRatioMonitor(){return this._pixelRatioMonitor||(this._pixelRatioMonitor=(0,k.markAsSingleton)(new S)),this._pixelRatioMonitor}get value(){return this._getOrCreatePixelRatioMonitor().value}get onDidChange(){return this._getOrCreatePixelRatioMonitor().onDidChange}}function _(n,t){typeof n=="string"&&(n=window.matchMedia(n)),n.addEventListener("change",t)}e.addMatchMediaChangeListener=_,e.PixelRatio=new f;function g(){return y.INSTANCE.getZoomFactor()}e.getZoomFactor=g;const C=navigator.userAgent;e.isFirefox=C.indexOf("Firefox")>=0,e.isWebKit=C.indexOf("AppleWebKit")>=0,e.isChrome=C.indexOf("Chrome")>=0,e.isSafari=!e.isChrome&&C.indexOf("Safari")>=0,e.isWebkitWebView=!e.isChrome&&!e.isSafari&&e.isWebKit,e.isElectron=C.indexOf("Electron/")>=0,e.isAndroid=C.indexOf("Android")>=0;let s=!1;if(window.matchMedia){const n=window.matchMedia("(display-mode: standalone) or (display-mode: window-controls-overlay)"),t=window.matchMedia("(display-mode: fullscreen)");s=n.matches,_(n,({matches:a})=>{s&&t.matches||(s=a)})}function i(){return s}e.isStandalone=i}),define(ne[81],se([1,0,6]),function(Q,e,L){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.DomEmitter=void 0;class k{get event(){return this.emitter.event}constructor(D,S,f){const _=g=>this.emitter.fire(g);this.emitter=new L.Emitter({onWillAddFirstListener:()=>D.addEventListener(S,_,f),onDidRemoveLastListener:()=>D.removeEventListener(S,_,f)})}dispose(){this.emitter.dispose()}}e.DomEmitter=k}),define(ne[19],se([1,0,6]),function(Q,e,L){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.CancellationTokenSource=e.CancellationToken=void 0;const k=Object.freeze(function(f,_){const g=setTimeout(f.bind(_),0);return{dispose(){clearTimeout(g)}}});var y;(function(f){function _(g){return g===f.None||g===f.Cancelled||g instanceof D?!0:!g||typeof g!="object"?!1:typeof g.isCancellationRequested=="boolean"&&typeof g.onCancellationRequested=="function"}f.isCancellationToken=_,f.None=Object.freeze({isCancellationRequested:!1,onCancellationRequested:L.Event.None}),f.Cancelled=Object.freeze({isCancellationRequested:!0,onCancellationRequested:k})})(y||(e.CancellationToken=y={}));class D{constructor(){this._isCancelled=!1,this._emitter=null}cancel(){this._isCancelled||(this._isCancelled=!0,this._emitter&&(this._emitter.fire(void 0),this.dispose()))}get isCancellationRequested(){return this._isCancelled}get onCancellationRequested(){return this._isCancelled?k:(this._emitter||(this._emitter=new L.Emitter),this._emitter.event)}dispose(){this._emitter&&(this._emitter.dispose(),this._emitter=null)}}class S{constructor(_){this._token=void 0,this._parentListener=void 0,this._parentListener=_&&_.onCancellationRequested(this.cancel,this)}get token(){return this._token||(this._token=new D),this._token}cancel(){this._token?this._token instanceof D&&this._token.cancel():this._token=y.Cancelled}dispose(_=!1){var g;_&&this.cancel(),(g=this._parentListener)===null||g===void 0||g.dispose(),this._token?this._token instanceof D&&this._token.dispose():this._token=y.None}}e.CancellationTokenSource=S}),define(ne[263],se([1,0,6]),function(Q,e,L){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.IME=e.IMEImpl=void 0;class k{constructor(){this._onDidChange=new L.Emitter,this.onDidChange=this._onDidChange.event,this._enabled=!0}get enabled(){return this._enabled}enable(){this._enabled=!0,this._onDidChange.fire()}disable(){this._enabled=!1,this._onDidChange.fire()}}e.IMEImpl=k,e.IME=new k}),define(ne[167],se([1,0,6,2]),function(Q,e,L,k){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.SmoothScrollingOperation=e.SmoothScrollingUpdate=e.Scrollable=e.ScrollState=void 0;class y{constructor(n,t,a,u,h,r,c){this._forceIntegerValues=n,this._scrollStateBrand=void 0,this._forceIntegerValues&&(t=t|0,a=a|0,u=u|0,h=h|0,r=r|0,c=c|0),this.rawScrollLeft=u,this.rawScrollTop=c,t<0&&(t=0),u+t>a&&(u=a-t),u<0&&(u=0),h<0&&(h=0),c+h>r&&(c=r-h),c<0&&(c=0),this.width=t,this.scrollWidth=a,this.scrollLeft=u,this.height=h,this.scrollHeight=r,this.scrollTop=c}equals(n){return this.rawScrollLeft===n.rawScrollLeft&&this.rawScrollTop===n.rawScrollTop&&this.width===n.width&&this.scrollWidth===n.scrollWidth&&this.scrollLeft===n.scrollLeft&&this.height===n.height&&this.scrollHeight===n.scrollHeight&&this.scrollTop===n.scrollTop}withScrollDimensions(n,t){return new y(this._forceIntegerValues,typeof n.width<"u"?n.width:this.width,typeof n.scrollWidth<"u"?n.scrollWidth:this.scrollWidth,t?this.rawScrollLeft:this.scrollLeft,typeof n.height<"u"?n.height:this.height,typeof n.scrollHeight<"u"?n.scrollHeight:this.scrollHeight,t?this.rawScrollTop:this.scrollTop)}withScrollPosition(n){return new y(this._forceIntegerValues,this.width,this.scrollWidth,typeof n.scrollLeft<"u"?n.scrollLeft:this.rawScrollLeft,this.height,this.scrollHeight,typeof n.scrollTop<"u"?n.scrollTop:this.rawScrollTop)}createScrollEvent(n,t){const a=this.width!==n.width,u=this.scrollWidth!==n.scrollWidth,h=this.scrollLeft!==n.scrollLeft,r=this.height!==n.height,c=this.scrollHeight!==n.scrollHeight,o=this.scrollTop!==n.scrollTop;return{inSmoothScrolling:t,oldWidth:n.width,oldScrollWidth:n.scrollWidth,oldScrollLeft:n.scrollLeft,width:this.width,scrollWidth:this.scrollWidth,scrollLeft:this.scrollLeft,oldHeight:n.height,oldScrollHeight:n.scrollHeight,oldScrollTop:n.scrollTop,height:this.height,scrollHeight:this.scrollHeight,scrollTop:this.scrollTop,widthChanged:a,scrollWidthChanged:u,scrollLeftChanged:h,heightChanged:r,scrollHeightChanged:c,scrollTopChanged:o}}}e.ScrollState=y;class D extends k.Disposable{constructor(n){super(),this._scrollableBrand=void 0,this._onScroll=this._register(new L.Emitter),this.onScroll=this._onScroll.event,this._smoothScrollDuration=n.smoothScrollDuration,this._scheduleAtNextAnimationFrame=n.scheduleAtNextAnimationFrame,this._state=new y(n.forceIntegerValues,0,0,0,0,0,0),this._smoothScrolling=null}dispose(){this._smoothScrolling&&(this._smoothScrolling.dispose(),this._smoothScrolling=null),super.dispose()}setSmoothScrollDuration(n){this._smoothScrollDuration=n}validateScrollPosition(n){return this._state.withScrollPosition(n)}getScrollDimensions(){return this._state}setScrollDimensions(n,t){var a;const u=this._state.withScrollDimensions(n,t);this._setState(u,!!this._smoothScrolling),(a=this._smoothScrolling)===null||a===void 0||a.acceptScrollDimensions(this._state)}getFutureScrollPosition(){return this._smoothScrolling?this._smoothScrolling.to:this._state}getCurrentScrollPosition(){return this._state}setScrollPositionNow(n){const t=this._state.withScrollPosition(n);this._smoothScrolling&&(this._smoothScrolling.dispose(),this._smoothScrolling=null),this._setState(t,!1)}setScrollPositionSmooth(n,t){if(this._smoothScrollDuration===0)return this.setScrollPositionNow(n);if(this._smoothScrolling){n={scrollLeft:typeof n.scrollLeft>"u"?this._smoothScrolling.to.scrollLeft:n.scrollLeft,scrollTop:typeof n.scrollTop>"u"?this._smoothScrolling.to.scrollTop:n.scrollTop};const a=this._state.withScrollPosition(n);if(this._smoothScrolling.to.scrollLeft===a.scrollLeft&&this._smoothScrolling.to.scrollTop===a.scrollTop)return;let u;t?u=new g(this._smoothScrolling.from,a,this._smoothScrolling.startTime,this._smoothScrolling.duration):u=this._smoothScrolling.combine(this._state,a,this._smoothScrollDuration),this._smoothScrolling.dispose(),this._smoothScrolling=u}else{const a=this._state.withScrollPosition(n);this._smoothScrolling=g.start(this._state,a,this._smoothScrollDuration)}this._smoothScrolling.animationFrameDisposable=this._scheduleAtNextAnimationFrame(()=>{this._smoothScrolling&&(this._smoothScrolling.animationFrameDisposable=null,this._performSmoothScrolling())})}hasPendingScrollAnimation(){return!!this._smoothScrolling}_performSmoothScrolling(){if(!this._smoothScrolling)return;const n=this._smoothScrolling.tick(),t=this._state.withScrollPosition(n);if(this._setState(t,!0),!!this._smoothScrolling){if(n.isDone){this._smoothScrolling.dispose(),this._smoothScrolling=null;return}this._smoothScrolling.animationFrameDisposable=this._scheduleAtNextAnimationFrame(()=>{this._smoothScrolling&&(this._smoothScrolling.animationFrameDisposable=null,this._performSmoothScrolling())})}}_setState(n,t){const a=this._state;a.equals(n)||(this._state=n,this._onScroll.fire(this._state.createScrollEvent(a,t)))}}e.Scrollable=D;class S{constructor(n,t,a){this.scrollLeft=n,this.scrollTop=t,this.isDone=a}}e.SmoothScrollingUpdate=S;function f(i,n){const t=n-i;return function(a){return i+t*s(a)}}function _(i,n,t){return function(a){return a<t?i(a/t):n((a-t)/(1-t))}}class g{constructor(n,t,a,u){this.from=n,this.to=t,this.duration=u,this.startTime=a,this.animationFrameDisposable=null,this._initAnimations()}_initAnimations(){this.scrollLeft=this._initAnimation(this.from.scrollLeft,this.to.scrollLeft,this.to.width),this.scrollTop=this._initAnimation(this.from.scrollTop,this.to.scrollTop,this.to.height)}_initAnimation(n,t,a){if(Math.abs(n-t)>2.5*a){let h,r;return n<t?(h=n+.75*a,r=t-.75*a):(h=n-.75*a,r=t+.75*a),_(f(n,h),f(r,t),.33)}return f(n,t)}dispose(){this.animationFrameDisposable!==null&&(this.animationFrameDisposable.dispose(),this.animationFrameDisposable=null)}acceptScrollDimensions(n){this.to=n.withScrollPosition(this.to),this._initAnimations()}tick(){return this._tick(Date.now())}_tick(n){const t=(n-this.startTime)/this.duration;if(t<1){const a=this.scrollLeft(t),u=this.scrollTop(t);return new S(a,u,!1)}return new S(this.to.scrollLeft,this.to.scrollTop,!0)}combine(n,t,a){return g.start(n,t,a)}static start(n,t,a){a=a+10;const u=Date.now()-10;return new g(n,t,u,a)}}e.SmoothScrollingOperation=g;function C(i){return Math.pow(i,3)}function s(i){return 1-C(1-i)}}),define(ne[11],se([1,0,261,100]),function(Q,e,L,k){"use strict";var y;Object.defineProperty(e,"__esModule",{value:!0}),e.InvisibleCharacters=e.AmbiguousCharacters=e.noBreakWhitespace=e.getLeftDeleteOffset=e.singleLetterHash=e.containsUppercaseCharacter=e.startsWithUTF8BOM=e.UTF8_BOM_CHARACTER=e.isEmojiImprecise=e.isFullWidthCharacter=e.containsUnusualLineTerminators=e.UNUSUAL_LINE_TERMINATORS=e.isBasicASCII=e.containsRTL=e.getCharContainingOffset=e.prevCharLength=e.nextCharLength=e.GraphemeIterator=e.CodePointIterator=e.getNextCodePoint=e.computeCodePoint=e.isLowSurrogate=e.isHighSurrogate=e.commonSuffixLength=e.commonPrefixLength=e.startsWithIgnoreCase=e.equalsIgnoreCase=e.isUpperAsciiLetter=e.isLowerAsciiLetter=e.isAsciiDigit=e.compareSubstringIgnoreCase=e.compareIgnoreCase=e.compareSubstring=e.compare=e.lastNonWhitespaceIndex=e.getLeadingWhitespace=e.firstNonWhitespaceIndex=e.splitLines=e.regExpLeadsToEndlessLoop=e.createRegExp=e.stripWildcards=e.convertSimple2RegExpPattern=e.rtrim=e.ltrim=e.trim=e.escapeRegExpCharacters=e.escape=e.format=e.isFalsyOrWhitespace=void 0;function D($){return!$||typeof $!="string"?!0:$.trim().length===0}e.isFalsyOrWhitespace=D;const S=/{(\d+)}/g;function f($,...re){return re.length===0?$:$.replace(S,function(oe,ge){const ve=parseInt(ge,10);return isNaN(ve)||ve<0||ve>=re.length?oe:re[ve]})}e.format=f;function _($){return $.replace(/[<>&]/g,function(re){switch(re){case"<":return"&lt;";case">":return"&gt;";case"&":return"&amp;";default:return re}})}e.escape=_;function g($){return $.replace(/[\\\{\}\*\+\?\|\^\$\.\[\]\(\)]/g,"\\$&")}e.escapeRegExpCharacters=g;function C($,re=" "){const oe=s($,re);return i(oe,re)}e.trim=C;function s($,re){if(!$||!re)return $;const oe=re.length;if(oe===0||$.length===0)return $;let ge=0;for(;$.indexOf(re,ge)===ge;)ge=ge+oe;return $.substring(ge)}e.ltrim=s;function i($,re){if(!$||!re)return $;const oe=re.length,ge=$.length;if(oe===0||ge===0)return $;let ve=ge,Se=-1;for(;Se=$.lastIndexOf(re,ve-1),!(Se===-1||Se+oe!==ve);){if(Se===0)return"";ve=Se}return $.substring(0,ve)}e.rtrim=i;function n($){return $.replace(/[\-\\\{\}\+\?\|\^\$\.\,\[\]\(\)\#\s]/g,"\\$&").replace(/[\*]/g,".*")}e.convertSimple2RegExpPattern=n;function t($){return $.replace(/\*/g,"")}e.stripWildcards=t;function a($,re,oe={}){if(!$)throw new Error("Cannot create regex from empty string");re||($=g($)),oe.wholeWord&&(/\B/.test($.charAt(0))||($="\\b"+$),/\B/.test($.charAt($.length-1))||($=$+"\\b"));let ge="";return oe.global&&(ge+="g"),oe.matchCase||(ge+="i"),oe.multiline&&(ge+="m"),oe.unicode&&(ge+="u"),new RegExp($,ge)}e.createRegExp=a;function u($){return $.source==="^"||$.source==="^$"||$.source==="$"||$.source==="^\\s*$"?!1:!!($.exec("")&&$.lastIndex===0)}e.regExpLeadsToEndlessLoop=u;function h($){return $.split(/\r\n|\r|\n/)}e.splitLines=h;function r($){for(let re=0,oe=$.length;re<oe;re++){const ge=$.charCodeAt(re);if(ge!==32&&ge!==9)return re}return-1}e.firstNonWhitespaceIndex=r;function c($,re=0,oe=$.length){for(let ge=re;ge<oe;ge++){const ve=$.charCodeAt(ge);if(ve!==32&&ve!==9)return $.substring(re,ge)}return $.substring(re,oe)}e.getLeadingWhitespace=c;function o($,re=$.length-1){for(let oe=re;oe>=0;oe--){const ge=$.charCodeAt(oe);if(ge!==32&&ge!==9)return oe}return-1}e.lastNonWhitespaceIndex=o;function d($,re){return $<re?-1:$>re?1:0}e.compare=d;function l($,re,oe=0,ge=$.length,ve=0,Se=re.length){for(;oe<ge&&ve<Se;oe++,ve++){const ye=$.charCodeAt(oe),Ee=re.charCodeAt(ve);if(ye<Ee)return-1;if(ye>Ee)return 1}const Le=ge-oe,De=Se-ve;return Le<De?-1:Le>De?1:0}e.compareSubstring=l;function p($,re){return m($,re,0,$.length,0,re.length)}e.compareIgnoreCase=p;function m($,re,oe=0,ge=$.length,ve=0,Se=re.length){for(;oe<ge&&ve<Se;oe++,ve++){let ye=$.charCodeAt(oe),Ee=re.charCodeAt(ve);if(ye===Ee)continue;if(ye>=128||Ee>=128)return l($.toLowerCase(),re.toLowerCase(),oe,ge,ve,Se);b(ye)&&(ye-=32),b(Ee)&&(Ee-=32);const Me=ye-Ee;if(Me!==0)return Me}const Le=ge-oe,De=Se-ve;return Le<De?-1:Le>De?1:0}e.compareSubstringIgnoreCase=m;function v($){return $>=48&&$<=57}e.isAsciiDigit=v;function b($){return $>=97&&$<=122}e.isLowerAsciiLetter=b;function w($){return $>=65&&$<=90}e.isUpperAsciiLetter=w;function E($,re){return $.length===re.length&&m($,re)===0}e.equalsIgnoreCase=E;function I($,re){const oe=re.length;return re.length>$.length?!1:m($,re,0,oe)===0}e.startsWithIgnoreCase=I;function M($,re){const oe=Math.min($.length,re.length);let ge;for(ge=0;ge<oe;ge++)if($.charCodeAt(ge)!==re.charCodeAt(ge))return ge;return oe}e.commonPrefixLength=M;function P($,re){const oe=Math.min($.length,re.length);let ge;const ve=$.length-1,Se=re.length-1;for(ge=0;ge<oe;ge++)if($.charCodeAt(ve-ge)!==re.charCodeAt(Se-ge))return ge;return oe}e.commonSuffixLength=P;function x($){return 55296<=$&&$<=56319}e.isHighSurrogate=x;function T($){return 56320<=$&&$<=57343}e.isLowSurrogate=T;function A($,re){return($-55296<<10)+(re-56320)+65536}e.computeCodePoint=A;function N($,re,oe){const ge=$.charCodeAt(oe);if(x(ge)&&oe+1<re){const ve=$.charCodeAt(oe+1);if(T(ve))return A(ge,ve)}return ge}e.getNextCodePoint=N;function F($,re){const oe=$.charCodeAt(re-1);if(T(oe)&&re>1){const ge=$.charCodeAt(re-2);if(x(ge))return A(ge,oe)}return oe}class O{get offset(){return this._offset}constructor(re,oe=0){this._str=re,this._len=re.length,this._offset=oe}setOffset(re){this._offset=re}prevCodePoint(){const re=F(this._str,this._offset);return this._offset-=re>=65536?2:1,re}nextCodePoint(){const re=N(this._str,this._len,this._offset);return this._offset+=re>=65536?2:1,re}eol(){return this._offset>=this._len}}e.CodePointIterator=O;class W{get offset(){return this._iterator.offset}constructor(re,oe=0){this._iterator=new O(re,oe)}nextGraphemeLength(){const re=de.getInstance(),oe=this._iterator,ge=oe.offset;let ve=re.getGraphemeBreakType(oe.nextCodePoint());for(;!oe.eol();){const Se=oe.offset,Le=re.getGraphemeBreakType(oe.nextCodePoint());if(ce(ve,Le)){oe.setOffset(Se);break}ve=Le}return oe.offset-ge}prevGraphemeLength(){const re=de.getInstance(),oe=this._iterator,ge=oe.offset;let ve=re.getGraphemeBreakType(oe.prevCodePoint());for(;oe.offset>0;){const Se=oe.offset,Le=re.getGraphemeBreakType(oe.prevCodePoint());if(ce(Le,ve)){oe.setOffset(Se);break}ve=Le}return ge-oe.offset}eol(){return this._iterator.eol()}}e.GraphemeIterator=W;function U($,re){return new W($,re).nextGraphemeLength()}e.nextCharLength=U;function j($,re){return new W($,re).prevGraphemeLength()}e.prevCharLength=j;function R($,re){re>0&&T($.charCodeAt(re))&&re--;const oe=re+U($,re);return[oe-j($,oe),oe]}e.getCharContainingOffset=R;let K;function G(){return/(?:[\u05BE\u05C0\u05C3\u05C6\u05D0-\u05F4\u0608\u060B\u060D\u061B-\u064A\u066D-\u066F\u0671-\u06D5\u06E5\u06E6\u06EE\u06EF\u06FA-\u0710\u0712-\u072F\u074D-\u07A5\u07B1-\u07EA\u07F4\u07F5\u07FA\u07FE-\u0815\u081A\u0824\u0828\u0830-\u0858\u085E-\u088E\u08A0-\u08C9\u200F\uFB1D\uFB1F-\uFB28\uFB2A-\uFD3D\uFD50-\uFDC7\uFDF0-\uFDFC\uFE70-\uFEFC]|\uD802[\uDC00-\uDD1B\uDD20-\uDE00\uDE10-\uDE35\uDE40-\uDEE4\uDEEB-\uDF35\uDF40-\uDFFF]|\uD803[\uDC00-\uDD23\uDE80-\uDEA9\uDEAD-\uDF45\uDF51-\uDF81\uDF86-\uDFF6]|\uD83A[\uDC00-\uDCCF\uDD00-\uDD43\uDD4B-\uDFFF]|\uD83B[\uDC00-\uDEBB])/}function Z($){return K||(K=G()),K.test($)}e.containsRTL=Z;const J=/^[\t\n\r\x20-\x7E]*$/;function X($){return J.test($)}e.isBasicASCII=X,e.UNUSUAL_LINE_TERMINATORS=/[\u2028\u2029]/;function H($){return e.UNUSUAL_LINE_TERMINATORS.test($)}e.containsUnusualLineTerminators=H;function B($){return $>=11904&&$<=55215||$>=63744&&$<=64255||$>=65281&&$<=65374}e.isFullWidthCharacter=B;function V($){return $>=127462&&$<=127487||$===8986||$===8987||$===9200||$===9203||$>=9728&&$<=10175||$===11088||$===11093||$>=127744&&$<=128591||$>=128640&&$<=128764||$>=128992&&$<=129008||$>=129280&&$<=129535||$>=129648&&$<=129782}e.isEmojiImprecise=V,e.UTF8_BOM_CHARACTER=String.fromCharCode(65279);function Y($){return!!($&&$.length>0&&$.charCodeAt(0)===65279)}e.startsWithUTF8BOM=Y;function ie($,re=!1){return $?(re&&($=$.replace(/\\./g,"")),$.toLowerCase()!==$):!1}e.containsUppercaseCharacter=ie;function ae($){return $=$%(2*26),$<26?String.fromCharCode(97+$):String.fromCharCode(65+$-26)}e.singleLetterHash=ae;function ce($,re){return $===0?re!==5&&re!==7:$===2&&re===3?!1:$===4||$===2||$===3||re===4||re===2||re===3?!0:!($===8&&(re===8||re===9||re===11||re===12)||($===11||$===9)&&(re===9||re===10)||($===12||$===10)&&re===10||re===5||re===13||re===7||$===1||$===13&&re===14||$===6&&re===6)}class de{static getInstance(){return de._INSTANCE||(de._INSTANCE=new de),de._INSTANCE}constructor(){this._data=he()}getGraphemeBreakType(re){if(re<32)return re===10?3:re===13?2:4;if(re<127)return 0;const oe=this._data,ge=oe.length/3;let ve=1;for(;ve<=ge;)if(re<oe[3*ve])ve=2*ve;else if(re>oe[3*ve+1])ve=2*ve+1;else return oe[3*ve+2];return 0}}de._INSTANCE=null;function he(){return JSON.parse("[0,0,0,51229,51255,12,44061,44087,12,127462,127487,6,7083,7085,5,47645,47671,12,54813,54839,12,128678,128678,14,3270,3270,5,9919,9923,14,45853,45879,12,49437,49463,12,53021,53047,12,71216,71218,7,128398,128399,14,129360,129374,14,2519,2519,5,4448,4519,9,9742,9742,14,12336,12336,14,44957,44983,12,46749,46775,12,48541,48567,12,50333,50359,12,52125,52151,12,53917,53943,12,69888,69890,5,73018,73018,5,127990,127990,14,128558,128559,14,128759,128760,14,129653,129655,14,2027,2035,5,2891,2892,7,3761,3761,5,6683,6683,5,8293,8293,4,9825,9826,14,9999,9999,14,43452,43453,5,44509,44535,12,45405,45431,12,46301,46327,12,47197,47223,12,48093,48119,12,48989,49015,12,49885,49911,12,50781,50807,12,51677,51703,12,52573,52599,12,53469,53495,12,54365,54391,12,65279,65279,4,70471,70472,7,72145,72147,7,119173,119179,5,127799,127818,14,128240,128244,14,128512,128512,14,128652,128652,14,128721,128722,14,129292,129292,14,129445,129450,14,129734,129743,14,1476,1477,5,2366,2368,7,2750,2752,7,3076,3076,5,3415,3415,5,4141,4144,5,6109,6109,5,6964,6964,5,7394,7400,5,9197,9198,14,9770,9770,14,9877,9877,14,9968,9969,14,10084,10084,14,43052,43052,5,43713,43713,5,44285,44311,12,44733,44759,12,45181,45207,12,45629,45655,12,46077,46103,12,46525,46551,12,46973,46999,12,47421,47447,12,47869,47895,12,48317,48343,12,48765,48791,12,49213,49239,12,49661,49687,12,50109,50135,12,50557,50583,12,51005,51031,12,51453,51479,12,51901,51927,12,52349,52375,12,52797,52823,12,53245,53271,12,53693,53719,12,54141,54167,12,54589,54615,12,55037,55063,12,69506,69509,5,70191,70193,5,70841,70841,7,71463,71467,5,72330,72342,5,94031,94031,5,123628,123631,5,127763,127765,14,127941,127941,14,128043,128062,14,128302,128317,14,128465,128467,14,128539,128539,14,128640,128640,14,128662,128662,14,128703,128703,14,128745,128745,14,129004,129007,14,129329,129330,14,129402,129402,14,129483,129483,14,129686,129704,14,130048,131069,14,173,173,4,1757,1757,1,2200,2207,5,2434,2435,7,2631,2632,5,2817,2817,5,3008,3008,5,3201,3201,5,3387,3388,5,3542,3542,5,3902,3903,7,4190,4192,5,6002,6003,5,6439,6440,5,6765,6770,7,7019,7027,5,7154,7155,7,8205,8205,13,8505,8505,14,9654,9654,14,9757,9757,14,9792,9792,14,9852,9853,14,9890,9894,14,9937,9937,14,9981,9981,14,10035,10036,14,11035,11036,14,42654,42655,5,43346,43347,7,43587,43587,5,44006,44007,7,44173,44199,12,44397,44423,12,44621,44647,12,44845,44871,12,45069,45095,12,45293,45319,12,45517,45543,12,45741,45767,12,45965,45991,12,46189,46215,12,46413,46439,12,46637,46663,12,46861,46887,12,47085,47111,12,47309,47335,12,47533,47559,12,47757,47783,12,47981,48007,12,48205,48231,12,48429,48455,12,48653,48679,12,48877,48903,12,49101,49127,12,49325,49351,12,49549,49575,12,49773,49799,12,49997,50023,12,50221,50247,12,50445,50471,12,50669,50695,12,50893,50919,12,51117,51143,12,51341,51367,12,51565,51591,12,51789,51815,12,52013,52039,12,52237,52263,12,52461,52487,12,52685,52711,12,52909,52935,12,53133,53159,12,53357,53383,12,53581,53607,12,53805,53831,12,54029,54055,12,54253,54279,12,54477,54503,12,54701,54727,12,54925,54951,12,55149,55175,12,68101,68102,5,69762,69762,7,70067,70069,7,70371,70378,5,70720,70721,7,71087,71087,5,71341,71341,5,71995,71996,5,72249,72249,7,72850,72871,5,73109,73109,5,118576,118598,5,121505,121519,5,127245,127247,14,127568,127569,14,127777,127777,14,127872,127891,14,127956,127967,14,128015,128016,14,128110,128172,14,128259,128259,14,128367,128368,14,128424,128424,14,128488,128488,14,128530,128532,14,128550,128551,14,128566,128566,14,128647,128647,14,128656,128656,14,128667,128673,14,128691,128693,14,128715,128715,14,128728,128732,14,128752,128752,14,128765,128767,14,129096,129103,14,129311,129311,14,129344,129349,14,129394,129394,14,129413,129425,14,129466,129471,14,129511,129535,14,129664,129666,14,129719,129722,14,129760,129767,14,917536,917631,5,13,13,2,1160,1161,5,1564,1564,4,1807,1807,1,2085,2087,5,2307,2307,7,2382,2383,7,2497,2500,5,2563,2563,7,2677,2677,5,2763,2764,7,2879,2879,5,2914,2915,5,3021,3021,5,3142,3144,5,3263,3263,5,3285,3286,5,3398,3400,7,3530,3530,5,3633,3633,5,3864,3865,5,3974,3975,5,4155,4156,7,4229,4230,5,5909,5909,7,6078,6085,7,6277,6278,5,6451,6456,7,6744,6750,5,6846,6846,5,6972,6972,5,7074,7077,5,7146,7148,7,7222,7223,5,7416,7417,5,8234,8238,4,8417,8417,5,9000,9000,14,9203,9203,14,9730,9731,14,9748,9749,14,9762,9763,14,9776,9783,14,9800,9811,14,9831,9831,14,9872,9873,14,9882,9882,14,9900,9903,14,9929,9933,14,9941,9960,14,9974,9974,14,9989,9989,14,10006,10006,14,10062,10062,14,10160,10160,14,11647,11647,5,12953,12953,14,43019,43019,5,43232,43249,5,43443,43443,5,43567,43568,7,43696,43696,5,43765,43765,7,44013,44013,5,44117,44143,12,44229,44255,12,44341,44367,12,44453,44479,12,44565,44591,12,44677,44703,12,44789,44815,12,44901,44927,12,45013,45039,12,45125,45151,12,45237,45263,12,45349,45375,12,45461,45487,12,45573,45599,12,45685,45711,12,45797,45823,12,45909,45935,12,46021,46047,12,46133,46159,12,46245,46271,12,46357,46383,12,46469,46495,12,46581,46607,12,46693,46719,12,46805,46831,12,46917,46943,12,47029,47055,12,47141,47167,12,47253,47279,12,47365,47391,12,47477,47503,12,47589,47615,12,47701,47727,12,47813,47839,12,47925,47951,12,48037,48063,12,48149,48175,12,48261,48287,12,48373,48399,12,48485,48511,12,48597,48623,12,48709,48735,12,48821,48847,12,48933,48959,12,49045,49071,12,49157,49183,12,49269,49295,12,49381,49407,12,49493,49519,12,49605,49631,12,49717,49743,12,49829,49855,12,49941,49967,12,50053,50079,12,50165,50191,12,50277,50303,12,50389,50415,12,50501,50527,12,50613,50639,12,50725,50751,12,50837,50863,12,50949,50975,12,51061,51087,12,51173,51199,12,51285,51311,12,51397,51423,12,51509,51535,12,51621,51647,12,51733,51759,12,51845,51871,12,51957,51983,12,52069,52095,12,52181,52207,12,52293,52319,12,52405,52431,12,52517,52543,12,52629,52655,12,52741,52767,12,52853,52879,12,52965,52991,12,53077,53103,12,53189,53215,12,53301,53327,12,53413,53439,12,53525,53551,12,53637,53663,12,53749,53775,12,53861,53887,12,53973,53999,12,54085,54111,12,54197,54223,12,54309,54335,12,54421,54447,12,54533,54559,12,54645,54671,12,54757,54783,12,54869,54895,12,54981,55007,12,55093,55119,12,55243,55291,10,66045,66045,5,68325,68326,5,69688,69702,5,69817,69818,5,69957,69958,7,70089,70092,5,70198,70199,5,70462,70462,5,70502,70508,5,70750,70750,5,70846,70846,7,71100,71101,5,71230,71230,7,71351,71351,5,71737,71738,5,72000,72000,7,72160,72160,5,72273,72278,5,72752,72758,5,72882,72883,5,73031,73031,5,73461,73462,7,94192,94193,7,119149,119149,7,121403,121452,5,122915,122916,5,126980,126980,14,127358,127359,14,127535,127535,14,127759,127759,14,127771,127771,14,127792,127793,14,127825,127867,14,127897,127899,14,127945,127945,14,127985,127986,14,128000,128007,14,128021,128021,14,128066,128100,14,128184,128235,14,128249,128252,14,128266,128276,14,128335,128335,14,128379,128390,14,128407,128419,14,128444,128444,14,128481,128481,14,128499,128499,14,128526,128526,14,128536,128536,14,128543,128543,14,128556,128556,14,128564,128564,14,128577,128580,14,128643,128645,14,128649,128649,14,128654,128654,14,128660,128660,14,128664,128664,14,128675,128675,14,128686,128689,14,128695,128696,14,128705,128709,14,128717,128719,14,128725,128725,14,128736,128741,14,128747,128748,14,128755,128755,14,128762,128762,14,128981,128991,14,129009,129023,14,129160,129167,14,129296,129304,14,129320,129327,14,129340,129342,14,129356,129356,14,129388,129392,14,129399,129400,14,129404,129407,14,129432,129442,14,129454,129455,14,129473,129474,14,129485,129487,14,129648,129651,14,129659,129660,14,129671,129679,14,129709,129711,14,129728,129730,14,129751,129753,14,129776,129782,14,917505,917505,4,917760,917999,5,10,10,3,127,159,4,768,879,5,1471,1471,5,1536,1541,1,1648,1648,5,1767,1768,5,1840,1866,5,2070,2073,5,2137,2139,5,2274,2274,1,2363,2363,7,2377,2380,7,2402,2403,5,2494,2494,5,2507,2508,7,2558,2558,5,2622,2624,7,2641,2641,5,2691,2691,7,2759,2760,5,2786,2787,5,2876,2876,5,2881,2884,5,2901,2902,5,3006,3006,5,3014,3016,7,3072,3072,5,3134,3136,5,3157,3158,5,3260,3260,5,3266,3266,5,3274,3275,7,3328,3329,5,3391,3392,7,3405,3405,5,3457,3457,5,3536,3537,7,3551,3551,5,3636,3642,5,3764,3772,5,3895,3895,5,3967,3967,7,3993,4028,5,4146,4151,5,4182,4183,7,4226,4226,5,4253,4253,5,4957,4959,5,5940,5940,7,6070,6070,7,6087,6088,7,6158,6158,4,6432,6434,5,6448,6449,7,6679,6680,5,6742,6742,5,6754,6754,5,6783,6783,5,6912,6915,5,6966,6970,5,6978,6978,5,7042,7042,7,7080,7081,5,7143,7143,7,7150,7150,7,7212,7219,5,7380,7392,5,7412,7412,5,8203,8203,4,8232,8232,4,8265,8265,14,8400,8412,5,8421,8432,5,8617,8618,14,9167,9167,14,9200,9200,14,9410,9410,14,9723,9726,14,9733,9733,14,9745,9745,14,9752,9752,14,9760,9760,14,9766,9766,14,9774,9774,14,9786,9786,14,9794,9794,14,9823,9823,14,9828,9828,14,9833,9850,14,9855,9855,14,9875,9875,14,9880,9880,14,9885,9887,14,9896,9897,14,9906,9916,14,9926,9927,14,9935,9935,14,9939,9939,14,9962,9962,14,9972,9972,14,9978,9978,14,9986,9986,14,9997,9997,14,10002,10002,14,10017,10017,14,10055,10055,14,10071,10071,14,10133,10135,14,10548,10549,14,11093,11093,14,12330,12333,5,12441,12442,5,42608,42610,5,43010,43010,5,43045,43046,5,43188,43203,7,43302,43309,5,43392,43394,5,43446,43449,5,43493,43493,5,43571,43572,7,43597,43597,7,43703,43704,5,43756,43757,5,44003,44004,7,44009,44010,7,44033,44059,12,44089,44115,12,44145,44171,12,44201,44227,12,44257,44283,12,44313,44339,12,44369,44395,12,44425,44451,12,44481,44507,12,44537,44563,12,44593,44619,12,44649,44675,12,44705,44731,12,44761,44787,12,44817,44843,12,44873,44899,12,44929,44955,12,44985,45011,12,45041,45067,12,45097,45123,12,45153,45179,12,45209,45235,12,45265,45291,12,45321,45347,12,45377,45403,12,45433,45459,12,45489,45515,12,45545,45571,12,45601,45627,12,45657,45683,12,45713,45739,12,45769,45795,12,45825,45851,12,45881,45907,12,45937,45963,12,45993,46019,12,46049,46075,12,46105,46131,12,46161,46187,12,46217,46243,12,46273,46299,12,46329,46355,12,46385,46411,12,46441,46467,12,46497,46523,12,46553,46579,12,46609,46635,12,46665,46691,12,46721,46747,12,46777,46803,12,46833,46859,12,46889,46915,12,46945,46971,12,47001,47027,12,47057,47083,12,47113,47139,12,47169,47195,12,47225,47251,12,47281,47307,12,47337,47363,12,47393,47419,12,47449,47475,12,47505,47531,12,47561,47587,12,47617,47643,12,47673,47699,12,47729,47755,12,47785,47811,12,47841,47867,12,47897,47923,12,47953,47979,12,48009,48035,12,48065,48091,12,48121,48147,12,48177,48203,12,48233,48259,12,48289,48315,12,48345,48371,12,48401,48427,12,48457,48483,12,48513,48539,12,48569,48595,12,48625,48651,12,48681,48707,12,48737,48763,12,48793,48819,12,48849,48875,12,48905,48931,12,48961,48987,12,49017,49043,12,49073,49099,12,49129,49155,12,49185,49211,12,49241,49267,12,49297,49323,12,49353,49379,12,49409,49435,12,49465,49491,12,49521,49547,12,49577,49603,12,49633,49659,12,49689,49715,12,49745,49771,12,49801,49827,12,49857,49883,12,49913,49939,12,49969,49995,12,50025,50051,12,50081,50107,12,50137,50163,12,50193,50219,12,50249,50275,12,50305,50331,12,50361,50387,12,50417,50443,12,50473,50499,12,50529,50555,12,50585,50611,12,50641,50667,12,50697,50723,12,50753,50779,12,50809,50835,12,50865,50891,12,50921,50947,12,50977,51003,12,51033,51059,12,51089,51115,12,51145,51171,12,51201,51227,12,51257,51283,12,51313,51339,12,51369,51395,12,51425,51451,12,51481,51507,12,51537,51563,12,51593,51619,12,51649,51675,12,51705,51731,12,51761,51787,12,51817,51843,12,51873,51899,12,51929,51955,12,51985,52011,12,52041,52067,12,52097,52123,12,52153,52179,12,52209,52235,12,52265,52291,12,52321,52347,12,52377,52403,12,52433,52459,12,52489,52515,12,52545,52571,12,52601,52627,12,52657,52683,12,52713,52739,12,52769,52795,12,52825,52851,12,52881,52907,12,52937,52963,12,52993,53019,12,53049,53075,12,53105,53131,12,53161,53187,12,53217,53243,12,53273,53299,12,53329,53355,12,53385,53411,12,53441,53467,12,53497,53523,12,53553,53579,12,53609,53635,12,53665,53691,12,53721,53747,12,53777,53803,12,53833,53859,12,53889,53915,12,53945,53971,12,54001,54027,12,54057,54083,12,54113,54139,12,54169,54195,12,54225,54251,12,54281,54307,12,54337,54363,12,54393,54419,12,54449,54475,12,54505,54531,12,54561,54587,12,54617,54643,12,54673,54699,12,54729,54755,12,54785,54811,12,54841,54867,12,54897,54923,12,54953,54979,12,55009,55035,12,55065,55091,12,55121,55147,12,55177,55203,12,65024,65039,5,65520,65528,4,66422,66426,5,68152,68154,5,69291,69292,5,69633,69633,5,69747,69748,5,69811,69814,5,69826,69826,5,69932,69932,7,70016,70017,5,70079,70080,7,70095,70095,5,70196,70196,5,70367,70367,5,70402,70403,7,70464,70464,5,70487,70487,5,70709,70711,7,70725,70725,7,70833,70834,7,70843,70844,7,70849,70849,7,71090,71093,5,71103,71104,5,71227,71228,7,71339,71339,5,71344,71349,5,71458,71461,5,71727,71735,5,71985,71989,7,71998,71998,5,72002,72002,7,72154,72155,5,72193,72202,5,72251,72254,5,72281,72283,5,72344,72345,5,72766,72766,7,72874,72880,5,72885,72886,5,73023,73029,5,73104,73105,5,73111,73111,5,92912,92916,5,94095,94098,5,113824,113827,4,119142,119142,7,119155,119162,4,119362,119364,5,121476,121476,5,122888,122904,5,123184,123190,5,125252,125258,5,127183,127183,14,127340,127343,14,127377,127386,14,127491,127503,14,127548,127551,14,127744,127756,14,127761,127761,14,127769,127769,14,127773,127774,14,127780,127788,14,127796,127797,14,127820,127823,14,127869,127869,14,127894,127895,14,127902,127903,14,127943,127943,14,127947,127950,14,127972,127972,14,127988,127988,14,127992,127994,14,128009,128011,14,128019,128019,14,128023,128041,14,128064,128064,14,128102,128107,14,128174,128181,14,128238,128238,14,128246,128247,14,128254,128254,14,128264,128264,14,128278,128299,14,128329,128330,14,128348,128359,14,128371,128377,14,128392,128393,14,128401,128404,14,128421,128421,14,128433,128434,14,128450,128452,14,128476,128478,14,128483,128483,14,128495,128495,14,128506,128506,14,128519,128520,14,128528,128528,14,128534,128534,14,128538,128538,14,128540,128542,14,128544,128549,14,128552,128555,14,128557,128557,14,128560,128563,14,128565,128565,14,128567,128576,14,128581,128591,14,128641,128642,14,128646,128646,14,128648,128648,14,128650,128651,14,128653,128653,14,128655,128655,14,128657,128659,14,128661,128661,14,128663,128663,14,128665,128666,14,128674,128674,14,128676,128677,14,128679,128685,14,128690,128690,14,128694,128694,14,128697,128702,14,128704,128704,14,128710,128714,14,128716,128716,14,128720,128720,14,128723,128724,14,128726,128727,14,128733,128735,14,128742,128744,14,128746,128746,14,128749,128751,14,128753,128754,14,128756,128758,14,128761,128761,14,128763,128764,14,128884,128895,14,128992,129003,14,129008,129008,14,129036,129039,14,129114,129119,14,129198,129279,14,129293,129295,14,129305,129310,14,129312,129319,14,129328,129328,14,129331,129338,14,129343,129343,14,129351,129355,14,129357,129359,14,129375,129387,14,129393,129393,14,129395,129398,14,129401,129401,14,129403,129403,14,129408,129412,14,129426,129431,14,129443,129444,14,129451,129453,14,129456,129465,14,129472,129472,14,129475,129482,14,129484,129484,14,129488,129510,14,129536,129647,14,129652,129652,14,129656,129658,14,129661,129663,14,129667,129670,14,129680,129685,14,129705,129708,14,129712,129718,14,129723,129727,14,129731,129733,14,129744,129750,14,129754,129759,14,129768,129775,14,129783,129791,14,917504,917504,4,917506,917535,4,917632,917759,4,918000,921599,4,0,9,4,11,12,4,14,31,4,169,169,14,174,174,14,1155,1159,5,1425,1469,5,1473,1474,5,1479,1479,5,1552,1562,5,1611,1631,5,1750,1756,5,1759,1764,5,1770,1773,5,1809,1809,5,1958,1968,5,2045,2045,5,2075,2083,5,2089,2093,5,2192,2193,1,2250,2273,5,2275,2306,5,2362,2362,5,2364,2364,5,2369,2376,5,2381,2381,5,2385,2391,5,2433,2433,5,2492,2492,5,2495,2496,7,2503,2504,7,2509,2509,5,2530,2531,5,2561,2562,5,2620,2620,5,2625,2626,5,2635,2637,5,2672,2673,5,2689,2690,5,2748,2748,5,2753,2757,5,2761,2761,7,2765,2765,5,2810,2815,5,2818,2819,7,2878,2878,5,2880,2880,7,2887,2888,7,2893,2893,5,2903,2903,5,2946,2946,5,3007,3007,7,3009,3010,7,3018,3020,7,3031,3031,5,3073,3075,7,3132,3132,5,3137,3140,7,3146,3149,5,3170,3171,5,3202,3203,7,3262,3262,7,3264,3265,7,3267,3268,7,3271,3272,7,3276,3277,5,3298,3299,5,3330,3331,7,3390,3390,5,3393,3396,5,3402,3404,7,3406,3406,1,3426,3427,5,3458,3459,7,3535,3535,5,3538,3540,5,3544,3550,7,3570,3571,7,3635,3635,7,3655,3662,5,3763,3763,7,3784,3789,5,3893,3893,5,3897,3897,5,3953,3966,5,3968,3972,5,3981,3991,5,4038,4038,5,4145,4145,7,4153,4154,5,4157,4158,5,4184,4185,5,4209,4212,5,4228,4228,7,4237,4237,5,4352,4447,8,4520,4607,10,5906,5908,5,5938,5939,5,5970,5971,5,6068,6069,5,6071,6077,5,6086,6086,5,6089,6099,5,6155,6157,5,6159,6159,5,6313,6313,5,6435,6438,7,6441,6443,7,6450,6450,5,6457,6459,5,6681,6682,7,6741,6741,7,6743,6743,7,6752,6752,5,6757,6764,5,6771,6780,5,6832,6845,5,6847,6862,5,6916,6916,7,6965,6965,5,6971,6971,7,6973,6977,7,6979,6980,7,7040,7041,5,7073,7073,7,7078,7079,7,7082,7082,7,7142,7142,5,7144,7145,5,7149,7149,5,7151,7153,5,7204,7211,7,7220,7221,7,7376,7378,5,7393,7393,7,7405,7405,5,7415,7415,7,7616,7679,5,8204,8204,5,8206,8207,4,8233,8233,4,8252,8252,14,8288,8292,4,8294,8303,4,8413,8416,5,8418,8420,5,8482,8482,14,8596,8601,14,8986,8987,14,9096,9096,14,9193,9196,14,9199,9199,14,9201,9202,14,9208,9210,14,9642,9643,14,9664,9664,14,9728,9729,14,9732,9732,14,9735,9741,14,9743,9744,14,9746,9746,14,9750,9751,14,9753,9756,14,9758,9759,14,9761,9761,14,9764,9765,14,9767,9769,14,9771,9773,14,9775,9775,14,9784,9785,14,9787,9791,14,9793,9793,14,9795,9799,14,9812,9822,14,9824,9824,14,9827,9827,14,9829,9830,14,9832,9832,14,9851,9851,14,9854,9854,14,9856,9861,14,9874,9874,14,9876,9876,14,9878,9879,14,9881,9881,14,9883,9884,14,9888,9889,14,9895,9895,14,9898,9899,14,9904,9905,14,9917,9918,14,9924,9925,14,9928,9928,14,9934,9934,14,9936,9936,14,9938,9938,14,9940,9940,14,9961,9961,14,9963,9967,14,9970,9971,14,9973,9973,14,9975,9977,14,9979,9980,14,9982,9985,14,9987,9988,14,9992,9996,14,9998,9998,14,10000,10001,14,10004,10004,14,10013,10013,14,10024,10024,14,10052,10052,14,10060,10060,14,10067,10069,14,10083,10083,14,10085,10087,14,10145,10145,14,10175,10175,14,11013,11015,14,11088,11088,14,11503,11505,5,11744,11775,5,12334,12335,5,12349,12349,14,12951,12951,14,42607,42607,5,42612,42621,5,42736,42737,5,43014,43014,5,43043,43044,7,43047,43047,7,43136,43137,7,43204,43205,5,43263,43263,5,43335,43345,5,43360,43388,8,43395,43395,7,43444,43445,7,43450,43451,7,43454,43456,7,43561,43566,5,43569,43570,5,43573,43574,5,43596,43596,5,43644,43644,5,43698,43700,5,43710,43711,5,43755,43755,7,43758,43759,7,43766,43766,5,44005,44005,5,44008,44008,5,44012,44012,7,44032,44032,11,44060,44060,11,44088,44088,11,44116,44116,11,44144,44144,11,44172,44172,11,44200,44200,11,44228,44228,11,44256,44256,11,44284,44284,11,44312,44312,11,44340,44340,11,44368,44368,11,44396,44396,11,44424,44424,11,44452,44452,11,44480,44480,11,44508,44508,11,44536,44536,11,44564,44564,11,44592,44592,11,44620,44620,11,44648,44648,11,44676,44676,11,44704,44704,11,44732,44732,11,44760,44760,11,44788,44788,11,44816,44816,11,44844,44844,11,44872,44872,11,44900,44900,11,44928,44928,11,44956,44956,11,44984,44984,11,45012,45012,11,45040,45040,11,45068,45068,11,45096,45096,11,45124,45124,11,45152,45152,11,45180,45180,11,45208,45208,11,45236,45236,11,45264,45264,11,45292,45292,11,45320,45320,11,45348,45348,11,45376,45376,11,45404,45404,11,45432,45432,11,45460,45460,11,45488,45488,11,45516,45516,11,45544,45544,11,45572,45572,11,45600,45600,11,45628,45628,11,45656,45656,11,45684,45684,11,45712,45712,11,45740,45740,11,45768,45768,11,45796,45796,11,45824,45824,11,45852,45852,11,45880,45880,11,45908,45908,11,45936,45936,11,45964,45964,11,45992,45992,11,46020,46020,11,46048,46048,11,46076,46076,11,46104,46104,11,46132,46132,11,46160,46160,11,46188,46188,11,46216,46216,11,46244,46244,11,46272,46272,11,46300,46300,11,46328,46328,11,46356,46356,11,46384,46384,11,46412,46412,11,46440,46440,11,46468,46468,11,46496,46496,11,46524,46524,11,46552,46552,11,46580,46580,11,46608,46608,11,46636,46636,11,46664,46664,11,46692,46692,11,46720,46720,11,46748,46748,11,46776,46776,11,46804,46804,11,46832,46832,11,46860,46860,11,46888,46888,11,46916,46916,11,46944,46944,11,46972,46972,11,47000,47000,11,47028,47028,11,47056,47056,11,47084,47084,11,47112,47112,11,47140,47140,11,47168,47168,11,47196,47196,11,47224,47224,11,47252,47252,11,47280,47280,11,47308,47308,11,47336,47336,11,47364,47364,11,47392,47392,11,47420,47420,11,47448,47448,11,47476,47476,11,47504,47504,11,47532,47532,11,47560,47560,11,47588,47588,11,47616,47616,11,47644,47644,11,47672,47672,11,47700,47700,11,47728,47728,11,47756,47756,11,47784,47784,11,47812,47812,11,47840,47840,11,47868,47868,11,47896,47896,11,47924,47924,11,47952,47952,11,47980,47980,11,48008,48008,11,48036,48036,11,48064,48064,11,48092,48092,11,48120,48120,11,48148,48148,11,48176,48176,11,48204,48204,11,48232,48232,11,48260,48260,11,48288,48288,11,48316,48316,11,48344,48344,11,48372,48372,11,48400,48400,11,48428,48428,11,48456,48456,11,48484,48484,11,48512,48512,11,48540,48540,11,48568,48568,11,48596,48596,11,48624,48624,11,48652,48652,11,48680,48680,11,48708,48708,11,48736,48736,11,48764,48764,11,48792,48792,11,48820,48820,11,48848,48848,11,48876,48876,11,48904,48904,11,48932,48932,11,48960,48960,11,48988,48988,11,49016,49016,11,49044,49044,11,49072,49072,11,49100,49100,11,49128,49128,11,49156,49156,11,49184,49184,11,49212,49212,11,49240,49240,11,49268,49268,11,49296,49296,11,49324,49324,11,49352,49352,11,49380,49380,11,49408,49408,11,49436,49436,11,49464,49464,11,49492,49492,11,49520,49520,11,49548,49548,11,49576,49576,11,49604,49604,11,49632,49632,11,49660,49660,11,49688,49688,11,49716,49716,11,49744,49744,11,49772,49772,11,49800,49800,11,49828,49828,11,49856,49856,11,49884,49884,11,49912,49912,11,49940,49940,11,49968,49968,11,49996,49996,11,50024,50024,11,50052,50052,11,50080,50080,11,50108,50108,11,50136,50136,11,50164,50164,11,50192,50192,11,50220,50220,11,50248,50248,11,50276,50276,11,50304,50304,11,50332,50332,11,50360,50360,11,50388,50388,11,50416,50416,11,50444,50444,11,50472,50472,11,50500,50500,11,50528,50528,11,50556,50556,11,50584,50584,11,50612,50612,11,50640,50640,11,50668,50668,11,50696,50696,11,50724,50724,11,50752,50752,11,50780,50780,11,50808,50808,11,50836,50836,11,50864,50864,11,50892,50892,11,50920,50920,11,50948,50948,11,50976,50976,11,51004,51004,11,51032,51032,11,51060,51060,11,51088,51088,11,51116,51116,11,51144,51144,11,51172,51172,11,51200,51200,11,51228,51228,11,51256,51256,11,51284,51284,11,51312,51312,11,51340,51340,11,51368,51368,11,51396,51396,11,51424,51424,11,51452,51452,11,51480,51480,11,51508,51508,11,51536,51536,11,51564,51564,11,51592,51592,11,51620,51620,11,51648,51648,11,51676,51676,11,51704,51704,11,51732,51732,11,51760,51760,11,51788,51788,11,51816,51816,11,51844,51844,11,51872,51872,11,51900,51900,11,51928,51928,11,51956,51956,11,51984,51984,11,52012,52012,11,52040,52040,11,52068,52068,11,52096,52096,11,52124,52124,11,52152,52152,11,52180,52180,11,52208,52208,11,52236,52236,11,52264,52264,11,52292,52292,11,52320,52320,11,52348,52348,11,52376,52376,11,52404,52404,11,52432,52432,11,52460,52460,11,52488,52488,11,52516,52516,11,52544,52544,11,52572,52572,11,52600,52600,11,52628,52628,11,52656,52656,11,52684,52684,11,52712,52712,11,52740,52740,11,52768,52768,11,52796,52796,11,52824,52824,11,52852,52852,11,52880,52880,11,52908,52908,11,52936,52936,11,52964,52964,11,52992,52992,11,53020,53020,11,53048,53048,11,53076,53076,11,53104,53104,11,53132,53132,11,53160,53160,11,53188,53188,11,53216,53216,11,53244,53244,11,53272,53272,11,53300,53300,11,53328,53328,11,53356,53356,11,53384,53384,11,53412,53412,11,53440,53440,11,53468,53468,11,53496,53496,11,53524,53524,11,53552,53552,11,53580,53580,11,53608,53608,11,53636,53636,11,53664,53664,11,53692,53692,11,53720,53720,11,53748,53748,11,53776,53776,11,53804,53804,11,53832,53832,11,53860,53860,11,53888,53888,11,53916,53916,11,53944,53944,11,53972,53972,11,54000,54000,11,54028,54028,11,54056,54056,11,54084,54084,11,54112,54112,11,54140,54140,11,54168,54168,11,54196,54196,11,54224,54224,11,54252,54252,11,54280,54280,11,54308,54308,11,54336,54336,11,54364,54364,11,54392,54392,11,54420,54420,11,54448,54448,11,54476,54476,11,54504,54504,11,54532,54532,11,54560,54560,11,54588,54588,11,54616,54616,11,54644,54644,11,54672,54672,11,54700,54700,11,54728,54728,11,54756,54756,11,54784,54784,11,54812,54812,11,54840,54840,11,54868,54868,11,54896,54896,11,54924,54924,11,54952,54952,11,54980,54980,11,55008,55008,11,55036,55036,11,55064,55064,11,55092,55092,11,55120,55120,11,55148,55148,11,55176,55176,11,55216,55238,9,64286,64286,5,65056,65071,5,65438,65439,5,65529,65531,4,66272,66272,5,68097,68099,5,68108,68111,5,68159,68159,5,68900,68903,5,69446,69456,5,69632,69632,7,69634,69634,7,69744,69744,5,69759,69761,5,69808,69810,7,69815,69816,7,69821,69821,1,69837,69837,1,69927,69931,5,69933,69940,5,70003,70003,5,70018,70018,7,70070,70078,5,70082,70083,1,70094,70094,7,70188,70190,7,70194,70195,7,70197,70197,7,70206,70206,5,70368,70370,7,70400,70401,5,70459,70460,5,70463,70463,7,70465,70468,7,70475,70477,7,70498,70499,7,70512,70516,5,70712,70719,5,70722,70724,5,70726,70726,5,70832,70832,5,70835,70840,5,70842,70842,5,70845,70845,5,70847,70848,5,70850,70851,5,71088,71089,7,71096,71099,7,71102,71102,7,71132,71133,5,71219,71226,5,71229,71229,5,71231,71232,5,71340,71340,7,71342,71343,7,71350,71350,7,71453,71455,5,71462,71462,7,71724,71726,7,71736,71736,7,71984,71984,5,71991,71992,7,71997,71997,7,71999,71999,1,72001,72001,1,72003,72003,5,72148,72151,5,72156,72159,7,72164,72164,7,72243,72248,5,72250,72250,1,72263,72263,5,72279,72280,7,72324,72329,1,72343,72343,7,72751,72751,7,72760,72765,5,72767,72767,5,72873,72873,7,72881,72881,7,72884,72884,7,73009,73014,5,73020,73021,5,73030,73030,1,73098,73102,7,73107,73108,7,73110,73110,7,73459,73460,5,78896,78904,4,92976,92982,5,94033,94087,7,94180,94180,5,113821,113822,5,118528,118573,5,119141,119141,5,119143,119145,5,119150,119154,5,119163,119170,5,119210,119213,5,121344,121398,5,121461,121461,5,121499,121503,5,122880,122886,5,122907,122913,5,122918,122922,5,123566,123566,5,125136,125142,5,126976,126979,14,126981,127182,14,127184,127231,14,127279,127279,14,127344,127345,14,127374,127374,14,127405,127461,14,127489,127490,14,127514,127514,14,127538,127546,14,127561,127567,14,127570,127743,14,127757,127758,14,127760,127760,14,127762,127762,14,127766,127768,14,127770,127770,14,127772,127772,14,127775,127776,14,127778,127779,14,127789,127791,14,127794,127795,14,127798,127798,14,127819,127819,14,127824,127824,14,127868,127868,14,127870,127871,14,127892,127893,14,127896,127896,14,127900,127901,14,127904,127940,14,127942,127942,14,127944,127944,14,127946,127946,14,127951,127955,14,127968,127971,14,127973,127984,14,127987,127987,14,127989,127989,14,127991,127991,14,127995,127999,5,128008,128008,14,128012,128014,14,128017,128018,14,128020,128020,14,128022,128022,14,128042,128042,14,128063,128063,14,128065,128065,14,128101,128101,14,128108,128109,14,128173,128173,14,128182,128183,14,128236,128237,14,128239,128239,14,128245,128245,14,128248,128248,14,128253,128253,14,128255,128258,14,128260,128263,14,128265,128265,14,128277,128277,14,128300,128301,14,128326,128328,14,128331,128334,14,128336,128347,14,128360,128366,14,128369,128370,14,128378,128378,14,128391,128391,14,128394,128397,14,128400,128400,14,128405,128406,14,128420,128420,14,128422,128423,14,128425,128432,14,128435,128443,14,128445,128449,14,128453,128464,14,128468,128475,14,128479,128480,14,128482,128482,14,128484,128487,14,128489,128494,14,128496,128498,14,128500,128505,14,128507,128511,14,128513,128518,14,128521,128525,14,128527,128527,14,128529,128529,14,128533,128533,14,128535,128535,14,128537,128537,14]")}function ue($,re){if($===0)return 0;const oe=te($,re);if(oe!==void 0)return oe;const ge=new O(re,$);return ge.prevCodePoint(),ge.offset}e.getLeftDeleteOffset=ue;function te($,re){const oe=new O(re,$);let ge=oe.prevCodePoint();for(;q(ge)||ge===65039||ge===8419;){if(oe.offset===0)return;ge=oe.prevCodePoint()}if(!V(ge))return;let ve=oe.offset;return ve>0&&oe.prevCodePoint()===8205&&(ve=oe.offset),ve}function q($){return 127995<=$&&$<=127999}e.noBreakWhitespace="\xA0";class z{static getInstance(re){return y.cache.get(Array.from(re))}static getLocales(){return y._locales.value}constructor(re){this.confusableDictionary=re}isAmbiguous(re){return this.confusableDictionary.has(re)}getPrimaryConfusable(re){return this.confusableDictionary.get(re)}getConfusableCodePoints(){return new Set(this.confusableDictionary.keys())}}e.AmbiguousCharacters=z,y=z,z.ambiguousCharacterData=new k.Lazy(()=>JSON.parse('{"_common":[8232,32,8233,32,5760,32,8192,32,8193,32,8194,32,8195,32,8196,32,8197,32,8198,32,8200,32,8201,32,8202,32,8287,32,8199,32,8239,32,2042,95,65101,95,65102,95,65103,95,8208,45,8209,45,8210,45,65112,45,1748,45,8259,45,727,45,8722,45,10134,45,11450,45,1549,44,1643,44,8218,44,184,44,42233,44,894,59,2307,58,2691,58,1417,58,1795,58,1796,58,5868,58,65072,58,6147,58,6153,58,8282,58,1475,58,760,58,42889,58,8758,58,720,58,42237,58,451,33,11601,33,660,63,577,63,2429,63,5038,63,42731,63,119149,46,8228,46,1793,46,1794,46,42510,46,68176,46,1632,46,1776,46,42232,46,1373,96,65287,96,8219,96,8242,96,1370,96,1523,96,8175,96,65344,96,900,96,8189,96,8125,96,8127,96,8190,96,697,96,884,96,712,96,714,96,715,96,756,96,699,96,701,96,700,96,702,96,42892,96,1497,96,2036,96,2037,96,5194,96,5836,96,94033,96,94034,96,65339,91,10088,40,10098,40,12308,40,64830,40,65341,93,10089,41,10099,41,12309,41,64831,41,10100,123,119060,123,10101,125,65342,94,8270,42,1645,42,8727,42,66335,42,5941,47,8257,47,8725,47,8260,47,9585,47,10187,47,10744,47,119354,47,12755,47,12339,47,11462,47,20031,47,12035,47,65340,92,65128,92,8726,92,10189,92,10741,92,10745,92,119311,92,119355,92,12756,92,20022,92,12034,92,42872,38,708,94,710,94,5869,43,10133,43,66203,43,8249,60,10094,60,706,60,119350,60,5176,60,5810,60,5120,61,11840,61,12448,61,42239,61,8250,62,10095,62,707,62,119351,62,5171,62,94015,62,8275,126,732,126,8128,126,8764,126,65372,124,65293,45,120784,50,120794,50,120804,50,120814,50,120824,50,130034,50,42842,50,423,50,1000,50,42564,50,5311,50,42735,50,119302,51,120785,51,120795,51,120805,51,120815,51,120825,51,130035,51,42923,51,540,51,439,51,42858,51,11468,51,1248,51,94011,51,71882,51,120786,52,120796,52,120806,52,120816,52,120826,52,130036,52,5070,52,71855,52,120787,53,120797,53,120807,53,120817,53,120827,53,130037,53,444,53,71867,53,120788,54,120798,54,120808,54,120818,54,120828,54,130038,54,11474,54,5102,54,71893,54,119314,55,120789,55,120799,55,120809,55,120819,55,120829,55,130039,55,66770,55,71878,55,2819,56,2538,56,2666,56,125131,56,120790,56,120800,56,120810,56,120820,56,120830,56,130040,56,547,56,546,56,66330,56,2663,57,2920,57,2541,57,3437,57,120791,57,120801,57,120811,57,120821,57,120831,57,130041,57,42862,57,11466,57,71884,57,71852,57,71894,57,9082,97,65345,97,119834,97,119886,97,119938,97,119990,97,120042,97,120094,97,120146,97,120198,97,120250,97,120302,97,120354,97,120406,97,120458,97,593,97,945,97,120514,97,120572,97,120630,97,120688,97,120746,97,65313,65,119808,65,119860,65,119912,65,119964,65,120016,65,120068,65,120120,65,120172,65,120224,65,120276,65,120328,65,120380,65,120432,65,913,65,120488,65,120546,65,120604,65,120662,65,120720,65,5034,65,5573,65,42222,65,94016,65,66208,65,119835,98,119887,98,119939,98,119991,98,120043,98,120095,98,120147,98,120199,98,120251,98,120303,98,120355,98,120407,98,120459,98,388,98,5071,98,5234,98,5551,98,65314,66,8492,66,119809,66,119861,66,119913,66,120017,66,120069,66,120121,66,120173,66,120225,66,120277,66,120329,66,120381,66,120433,66,42932,66,914,66,120489,66,120547,66,120605,66,120663,66,120721,66,5108,66,5623,66,42192,66,66178,66,66209,66,66305,66,65347,99,8573,99,119836,99,119888,99,119940,99,119992,99,120044,99,120096,99,120148,99,120200,99,120252,99,120304,99,120356,99,120408,99,120460,99,7428,99,1010,99,11429,99,43951,99,66621,99,128844,67,71922,67,71913,67,65315,67,8557,67,8450,67,8493,67,119810,67,119862,67,119914,67,119966,67,120018,67,120174,67,120226,67,120278,67,120330,67,120382,67,120434,67,1017,67,11428,67,5087,67,42202,67,66210,67,66306,67,66581,67,66844,67,8574,100,8518,100,119837,100,119889,100,119941,100,119993,100,120045,100,120097,100,120149,100,120201,100,120253,100,120305,100,120357,100,120409,100,120461,100,1281,100,5095,100,5231,100,42194,100,8558,68,8517,68,119811,68,119863,68,119915,68,119967,68,120019,68,120071,68,120123,68,120175,68,120227,68,120279,68,120331,68,120383,68,120435,68,5024,68,5598,68,5610,68,42195,68,8494,101,65349,101,8495,101,8519,101,119838,101,119890,101,119942,101,120046,101,120098,101,120150,101,120202,101,120254,101,120306,101,120358,101,120410,101,120462,101,43826,101,1213,101,8959,69,65317,69,8496,69,119812,69,119864,69,119916,69,120020,69,120072,69,120124,69,120176,69,120228,69,120280,69,120332,69,120384,69,120436,69,917,69,120492,69,120550,69,120608,69,120666,69,120724,69,11577,69,5036,69,42224,69,71846,69,71854,69,66182,69,119839,102,119891,102,119943,102,119995,102,120047,102,120099,102,120151,102,120203,102,120255,102,120307,102,120359,102,120411,102,120463,102,43829,102,42905,102,383,102,7837,102,1412,102,119315,70,8497,70,119813,70,119865,70,119917,70,120021,70,120073,70,120125,70,120177,70,120229,70,120281,70,120333,70,120385,70,120437,70,42904,70,988,70,120778,70,5556,70,42205,70,71874,70,71842,70,66183,70,66213,70,66853,70,65351,103,8458,103,119840,103,119892,103,119944,103,120048,103,120100,103,120152,103,120204,103,120256,103,120308,103,120360,103,120412,103,120464,103,609,103,7555,103,397,103,1409,103,119814,71,119866,71,119918,71,119970,71,120022,71,120074,71,120126,71,120178,71,120230,71,120282,71,120334,71,120386,71,120438,71,1292,71,5056,71,5107,71,42198,71,65352,104,8462,104,119841,104,119945,104,119997,104,120049,104,120101,104,120153,104,120205,104,120257,104,120309,104,120361,104,120413,104,120465,104,1211,104,1392,104,5058,104,65320,72,8459,72,8460,72,8461,72,119815,72,119867,72,119919,72,120023,72,120179,72,120231,72,120283,72,120335,72,120387,72,120439,72,919,72,120494,72,120552,72,120610,72,120668,72,120726,72,11406,72,5051,72,5500,72,42215,72,66255,72,731,105,9075,105,65353,105,8560,105,8505,105,8520,105,119842,105,119894,105,119946,105,119998,105,120050,105,120102,105,120154,105,120206,105,120258,105,120310,105,120362,105,120414,105,120466,105,120484,105,618,105,617,105,953,105,8126,105,890,105,120522,105,120580,105,120638,105,120696,105,120754,105,1110,105,42567,105,1231,105,43893,105,5029,105,71875,105,65354,106,8521,106,119843,106,119895,106,119947,106,119999,106,120051,106,120103,106,120155,106,120207,106,120259,106,120311,106,120363,106,120415,106,120467,106,1011,106,1112,106,65322,74,119817,74,119869,74,119921,74,119973,74,120025,74,120077,74,120129,74,120181,74,120233,74,120285,74,120337,74,120389,74,120441,74,42930,74,895,74,1032,74,5035,74,5261,74,42201,74,119844,107,119896,107,119948,107,120000,107,120052,107,120104,107,120156,107,120208,107,120260,107,120312,107,120364,107,120416,107,120468,107,8490,75,65323,75,119818,75,119870,75,119922,75,119974,75,120026,75,120078,75,120130,75,120182,75,120234,75,120286,75,120338,75,120390,75,120442,75,922,75,120497,75,120555,75,120613,75,120671,75,120729,75,11412,75,5094,75,5845,75,42199,75,66840,75,1472,108,8739,73,9213,73,65512,73,1633,108,1777,73,66336,108,125127,108,120783,73,120793,73,120803,73,120813,73,120823,73,130033,73,65321,73,8544,73,8464,73,8465,73,119816,73,119868,73,119920,73,120024,73,120128,73,120180,73,120232,73,120284,73,120336,73,120388,73,120440,73,65356,108,8572,73,8467,108,119845,108,119897,108,119949,108,120001,108,120053,108,120105,73,120157,73,120209,73,120261,73,120313,73,120365,73,120417,73,120469,73,448,73,120496,73,120554,73,120612,73,120670,73,120728,73,11410,73,1030,73,1216,73,1493,108,1503,108,1575,108,126464,108,126592,108,65166,108,65165,108,1994,108,11599,73,5825,73,42226,73,93992,73,66186,124,66313,124,119338,76,8556,76,8466,76,119819,76,119871,76,119923,76,120027,76,120079,76,120131,76,120183,76,120235,76,120287,76,120339,76,120391,76,120443,76,11472,76,5086,76,5290,76,42209,76,93974,76,71843,76,71858,76,66587,76,66854,76,65325,77,8559,77,8499,77,119820,77,119872,77,119924,77,120028,77,120080,77,120132,77,120184,77,120236,77,120288,77,120340,77,120392,77,120444,77,924,77,120499,77,120557,77,120615,77,120673,77,120731,77,1018,77,11416,77,5047,77,5616,77,5846,77,42207,77,66224,77,66321,77,119847,110,119899,110,119951,110,120003,110,120055,110,120107,110,120159,110,120211,110,120263,110,120315,110,120367,110,120419,110,120471,110,1400,110,1404,110,65326,78,8469,78,119821,78,119873,78,119925,78,119977,78,120029,78,120081,78,120185,78,120237,78,120289,78,120341,78,120393,78,120445,78,925,78,120500,78,120558,78,120616,78,120674,78,120732,78,11418,78,42208,78,66835,78,3074,111,3202,111,3330,111,3458,111,2406,111,2662,111,2790,111,3046,111,3174,111,3302,111,3430,111,3664,111,3792,111,4160,111,1637,111,1781,111,65359,111,8500,111,119848,111,119900,111,119952,111,120056,111,120108,111,120160,111,120212,111,120264,111,120316,111,120368,111,120420,111,120472,111,7439,111,7441,111,43837,111,959,111,120528,111,120586,111,120644,111,120702,111,120760,111,963,111,120532,111,120590,111,120648,111,120706,111,120764,111,11423,111,4351,111,1413,111,1505,111,1607,111,126500,111,126564,111,126596,111,65259,111,65260,111,65258,111,65257,111,1726,111,64428,111,64429,111,64427,111,64426,111,1729,111,64424,111,64425,111,64423,111,64422,111,1749,111,3360,111,4125,111,66794,111,71880,111,71895,111,66604,111,1984,79,2534,79,2918,79,12295,79,70864,79,71904,79,120782,79,120792,79,120802,79,120812,79,120822,79,130032,79,65327,79,119822,79,119874,79,119926,79,119978,79,120030,79,120082,79,120134,79,120186,79,120238,79,120290,79,120342,79,120394,79,120446,79,927,79,120502,79,120560,79,120618,79,120676,79,120734,79,11422,79,1365,79,11604,79,4816,79,2848,79,66754,79,42227,79,71861,79,66194,79,66219,79,66564,79,66838,79,9076,112,65360,112,119849,112,119901,112,119953,112,120005,112,120057,112,120109,112,120161,112,120213,112,120265,112,120317,112,120369,112,120421,112,120473,112,961,112,120530,112,120544,112,120588,112,120602,112,120646,112,120660,112,120704,112,120718,112,120762,112,120776,112,11427,112,65328,80,8473,80,119823,80,119875,80,119927,80,119979,80,120031,80,120083,80,120187,80,120239,80,120291,80,120343,80,120395,80,120447,80,929,80,120504,80,120562,80,120620,80,120678,80,120736,80,11426,80,5090,80,5229,80,42193,80,66197,80,119850,113,119902,113,119954,113,120006,113,120058,113,120110,113,120162,113,120214,113,120266,113,120318,113,120370,113,120422,113,120474,113,1307,113,1379,113,1382,113,8474,81,119824,81,119876,81,119928,81,119980,81,120032,81,120084,81,120188,81,120240,81,120292,81,120344,81,120396,81,120448,81,11605,81,119851,114,119903,114,119955,114,120007,114,120059,114,120111,114,120163,114,120215,114,120267,114,120319,114,120371,114,120423,114,120475,114,43847,114,43848,114,7462,114,11397,114,43905,114,119318,82,8475,82,8476,82,8477,82,119825,82,119877,82,119929,82,120033,82,120189,82,120241,82,120293,82,120345,82,120397,82,120449,82,422,82,5025,82,5074,82,66740,82,5511,82,42211,82,94005,82,65363,115,119852,115,119904,115,119956,115,120008,115,120060,115,120112,115,120164,115,120216,115,120268,115,120320,115,120372,115,120424,115,120476,115,42801,115,445,115,1109,115,43946,115,71873,115,66632,115,65331,83,119826,83,119878,83,119930,83,119982,83,120034,83,120086,83,120138,83,120190,83,120242,83,120294,83,120346,83,120398,83,120450,83,1029,83,1359,83,5077,83,5082,83,42210,83,94010,83,66198,83,66592,83,119853,116,119905,116,119957,116,120009,116,120061,116,120113,116,120165,116,120217,116,120269,116,120321,116,120373,116,120425,116,120477,116,8868,84,10201,84,128872,84,65332,84,119827,84,119879,84,119931,84,119983,84,120035,84,120087,84,120139,84,120191,84,120243,84,120295,84,120347,84,120399,84,120451,84,932,84,120507,84,120565,84,120623,84,120681,84,120739,84,11430,84,5026,84,42196,84,93962,84,71868,84,66199,84,66225,84,66325,84,119854,117,119906,117,119958,117,120010,117,120062,117,120114,117,120166,117,120218,117,120270,117,120322,117,120374,117,120426,117,120478,117,42911,117,7452,117,43854,117,43858,117,651,117,965,117,120534,117,120592,117,120650,117,120708,117,120766,117,1405,117,66806,117,71896,117,8746,85,8899,85,119828,85,119880,85,119932,85,119984,85,120036,85,120088,85,120140,85,120192,85,120244,85,120296,85,120348,85,120400,85,120452,85,1357,85,4608,85,66766,85,5196,85,42228,85,94018,85,71864,85,8744,118,8897,118,65366,118,8564,118,119855,118,119907,118,119959,118,120011,118,120063,118,120115,118,120167,118,120219,118,120271,118,120323,118,120375,118,120427,118,120479,118,7456,118,957,118,120526,118,120584,118,120642,118,120700,118,120758,118,1141,118,1496,118,71430,118,43945,118,71872,118,119309,86,1639,86,1783,86,8548,86,119829,86,119881,86,119933,86,119985,86,120037,86,120089,86,120141,86,120193,86,120245,86,120297,86,120349,86,120401,86,120453,86,1140,86,11576,86,5081,86,5167,86,42719,86,42214,86,93960,86,71840,86,66845,86,623,119,119856,119,119908,119,119960,119,120012,119,120064,119,120116,119,120168,119,120220,119,120272,119,120324,119,120376,119,120428,119,120480,119,7457,119,1121,119,1309,119,1377,119,71434,119,71438,119,71439,119,43907,119,71919,87,71910,87,119830,87,119882,87,119934,87,119986,87,120038,87,120090,87,120142,87,120194,87,120246,87,120298,87,120350,87,120402,87,120454,87,1308,87,5043,87,5076,87,42218,87,5742,120,10539,120,10540,120,10799,120,65368,120,8569,120,119857,120,119909,120,119961,120,120013,120,120065,120,120117,120,120169,120,120221,120,120273,120,120325,120,120377,120,120429,120,120481,120,5441,120,5501,120,5741,88,9587,88,66338,88,71916,88,65336,88,8553,88,119831,88,119883,88,119935,88,119987,88,120039,88,120091,88,120143,88,120195,88,120247,88,120299,88,120351,88,120403,88,120455,88,42931,88,935,88,120510,88,120568,88,120626,88,120684,88,120742,88,11436,88,11613,88,5815,88,42219,88,66192,88,66228,88,66327,88,66855,88,611,121,7564,121,65369,121,119858,121,119910,121,119962,121,120014,121,120066,121,120118,121,120170,121,120222,121,120274,121,120326,121,120378,121,120430,121,120482,121,655,121,7935,121,43866,121,947,121,8509,121,120516,121,120574,121,120632,121,120690,121,120748,121,1199,121,4327,121,71900,121,65337,89,119832,89,119884,89,119936,89,119988,89,120040,89,120092,89,120144,89,120196,89,120248,89,120300,89,120352,89,120404,89,120456,89,933,89,978,89,120508,89,120566,89,120624,89,120682,89,120740,89,11432,89,1198,89,5033,89,5053,89,42220,89,94019,89,71844,89,66226,89,119859,122,119911,122,119963,122,120015,122,120067,122,120119,122,120171,122,120223,122,120275,122,120327,122,120379,122,120431,122,120483,122,7458,122,43923,122,71876,122,66293,90,71909,90,65338,90,8484,90,8488,90,119833,90,119885,90,119937,90,119989,90,120041,90,120197,90,120249,90,120301,90,120353,90,120405,90,120457,90,918,90,120493,90,120551,90,120609,90,120667,90,120725,90,5059,90,42204,90,71849,90,65282,34,65284,36,65285,37,65286,38,65290,42,65291,43,65294,46,65295,47,65296,48,65297,49,65298,50,65299,51,65300,52,65301,53,65302,54,65303,55,65304,56,65305,57,65308,60,65309,61,65310,62,65312,64,65316,68,65318,70,65319,71,65324,76,65329,81,65330,82,65333,85,65334,86,65335,87,65343,95,65346,98,65348,100,65350,102,65355,107,65357,109,65358,110,65361,113,65362,114,65364,116,65365,117,65367,119,65370,122,65371,123,65373,125,119846,109],"_default":[160,32,8211,45,65374,126,65306,58,65281,33,8216,96,8217,96,8245,96,180,96,12494,47,1047,51,1073,54,1072,97,1040,65,1068,98,1042,66,1089,99,1057,67,1077,101,1045,69,1053,72,305,105,1050,75,921,73,1052,77,1086,111,1054,79,1009,112,1088,112,1056,80,1075,114,1058,84,215,120,1093,120,1061,88,1091,121,1059,89,65283,35,65288,40,65289,41,65292,44,65307,59,65311,63],"cs":[65374,126,65306,58,65281,33,8216,96,8217,96,8245,96,180,96,12494,47,1047,51,1073,54,1072,97,1040,65,1068,98,1042,66,1089,99,1057,67,1077,101,1045,69,1053,72,305,105,1050,75,921,73,1052,77,1086,111,1054,79,1009,112,1088,112,1056,80,1075,114,1058,84,1093,120,1061,88,1091,121,1059,89,65283,35,65288,40,65289,41,65292,44,65307,59,65311,63],"de":[65374,126,65306,58,65281,33,8216,96,8217,96,8245,96,180,96,12494,47,1047,51,1073,54,1072,97,1040,65,1068,98,1042,66,1089,99,1057,67,1077,101,1045,69,1053,72,305,105,1050,75,921,73,1052,77,1086,111,1054,79,1009,112,1088,112,1056,80,1075,114,1058,84,1093,120,1061,88,1091,121,1059,89,65283,35,65288,40,65289,41,65292,44,65307,59,65311,63],"es":[8211,45,65374,126,65306,58,65281,33,8245,96,180,96,12494,47,1047,51,1073,54,1072,97,1040,65,1068,98,1042,66,1089,99,1057,67,1077,101,1045,69,1053,72,305,105,1050,75,1052,77,1086,111,1054,79,1009,112,1088,112,1056,80,1075,114,1058,84,215,120,1093,120,1061,88,1091,121,1059,89,65283,35,65288,40,65289,41,65292,44,65307,59,65311,63],"fr":[65374,126,65306,58,65281,33,8216,96,8245,96,12494,47,1047,51,1073,54,1072,97,1040,65,1068,98,1042,66,1089,99,1057,67,1077,101,1045,69,1053,72,305,105,1050,75,921,73,1052,77,1086,111,1054,79,1009,112,1088,112,1056,80,1075,114,1058,84,215,120,1093,120,1061,88,1091,121,1059,89,65283,35,65288,40,65289,41,65292,44,65307,59,65311,63],"it":[160,32,8211,45,65374,126,65306,58,65281,33,8216,96,8245,96,180,96,12494,47,1047,51,1073,54,1072,97,1040,65,1068,98,1042,66,1089,99,1057,67,1077,101,1045,69,1053,72,305,105,1050,75,921,73,1052,77,1086,111,1054,79,1009,112,1088,112,1056,80,1075,114,1058,84,215,120,1093,120,1061,88,1091,121,1059,89,65283,35,65288,40,65289,41,65292,44,65307,59,65311,63],"ja":[8211,45,65306,58,65281,33,8216,96,8217,96,8245,96,180,96,1047,51,1073,54,1072,97,1040,65,1068,98,1042,66,1089,99,1057,67,1077,101,1045,69,1053,72,305,105,1050,75,921,73,1052,77,1086,111,1054,79,1009,112,1088,112,1056,80,1075,114,1058,84,215,120,1093,120,1061,88,1091,121,1059,89,65283,35,65292,44,65307,59],"ko":[8211,45,65374,126,65306,58,65281,33,8245,96,180,96,12494,47,1047,51,1073,54,1072,97,1040,65,1068,98,1042,66,1089,99,1057,67,1077,101,1045,69,1053,72,305,105,1050,75,921,73,1052,77,1086,111,1054,79,1009,112,1088,112,1056,80,1075,114,1058,84,215,120,1093,120,1061,88,1091,121,1059,89,65283,35,65288,40,65289,41,65292,44,65307,59,65311,63],"pl":[65374,126,65306,58,65281,33,8216,96,8217,96,8245,96,180,96,12494,47,1047,51,1073,54,1072,97,1040,65,1068,98,1042,66,1089,99,1057,67,1077,101,1045,69,1053,72,305,105,1050,75,921,73,1052,77,1086,111,1054,79,1009,112,1088,112,1056,80,1075,114,1058,84,215,120,1093,120,1061,88,1091,121,1059,89,65283,35,65288,40,65289,41,65292,44,65307,59,65311,63],"pt-BR":[65374,126,65306,58,65281,33,8216,96,8217,96,8245,96,180,96,12494,47,1047,51,1073,54,1072,97,1040,65,1068,98,1042,66,1089,99,1057,67,1077,101,1045,69,1053,72,305,105,1050,75,921,73,1052,77,1086,111,1054,79,1009,112,1088,112,1056,80,1075,114,1058,84,215,120,1093,120,1061,88,1091,121,1059,89,65283,35,65288,40,65289,41,65292,44,65307,59,65311,63],"qps-ploc":[160,32,8211,45,65374,126,65306,58,65281,33,8216,96,8217,96,8245,96,180,96,12494,47,1047,51,1073,54,1072,97,1040,65,1068,98,1042,66,1089,99,1057,67,1077,101,1045,69,1053,72,305,105,1050,75,921,73,1052,77,1086,111,1054,79,1088,112,1056,80,1075,114,1058,84,215,120,1093,120,1061,88,1091,121,1059,89,65283,35,65288,40,65289,41,65292,44,65307,59,65311,63],"ru":[65374,126,65306,58,65281,33,8216,96,8217,96,8245,96,180,96,12494,47,305,105,921,73,1009,112,215,120,65283,35,65288,40,65289,41,65292,44,65307,59,65311,63],"tr":[160,32,8211,45,65374,126,65306,58,65281,33,8245,96,180,96,12494,47,1047,51,1073,54,1072,97,1040,65,1068,98,1042,66,1089,99,1057,67,1077,101,1045,69,1053,72,1050,75,921,73,1052,77,1086,111,1054,79,1009,112,1088,112,1056,80,1075,114,1058,84,215,120,1093,120,1061,88,1091,121,1059,89,65283,35,65288,40,65289,41,65292,44,65307,59,65311,63],"zh-hans":[65374,126,65306,58,65281,33,8245,96,180,96,12494,47,1047,51,1073,54,1072,97,1040,65,1068,98,1042,66,1089,99,1057,67,1077,101,1045,69,1053,72,305,105,1050,75,921,73,1052,77,1086,111,1054,79,1009,112,1088,112,1056,80,1075,114,1058,84,215,120,1093,120,1061,88,1091,121,1059,89,65288,40,65289,41],"zh-hant":[8211,45,65374,126,180,96,12494,47,1047,51,1073,54,1072,97,1040,65,1068,98,1042,66,1089,99,1057,67,1077,101,1045,69,1053,72,305,105,1050,75,921,73,1052,77,1086,111,1054,79,1009,112,1088,112,1056,80,1075,114,1058,84,215,120,1093,120,1061,88,1091,121,1059,89,65283,35,65307,59]}')),z.cache=new L.LRUCachedFunction($=>{function re(Ee){const Me=new Map;for(let Pe=0;Pe<Ee.length;Pe+=2)Me.set(Ee[Pe],Ee[Pe+1]);return Me}function oe(Ee,Me){const Pe=new Map(Ee);for(const[Fe,_e]of Me)Pe.set(Fe,_e);return Pe}function ge(Ee,Me){if(!Ee)return Me;const Pe=new Map;for(const[Fe,_e]of Ee)Me.has(Fe)&&Pe.set(Fe,_e);return Pe}const ve=y.ambiguousCharacterData.value;let Se=$.filter(Ee=>!Ee.startsWith("_")&&Ee in ve);Se.length===0&&(Se=["_default"]);let Le;for(const Ee of Se){const Me=re(ve[Ee]);Le=ge(Le,Me)}const De=re(ve._common),ye=oe(De,Le);return new y(ye)}),z._locales=new k.Lazy(()=>Object.keys(y.ambiguousCharacterData.value).filter($=>!$.startsWith("_")));class ee{static getRawData(){return JSON.parse("[9,10,11,12,13,32,127,160,173,847,1564,4447,4448,6068,6069,6155,6156,6157,6158,7355,7356,8192,8193,8194,8195,8196,8197,8198,8199,8200,8201,8202,8203,8204,8205,8206,8207,8234,8235,8236,8237,8238,8239,8287,8288,8289,8290,8291,8292,8293,8294,8295,8296,8297,8298,8299,8300,8301,8302,8303,10240,12288,12644,65024,65025,65026,65027,65028,65029,65030,65031,65032,65033,65034,65035,65036,65037,65038,65039,65279,65440,65520,65521,65522,65523,65524,65525,65526,65527,65528,65532,78844,119155,119156,119157,119158,119159,119160,119161,119162,917504,917505,917506,917507,917508,917509,917510,917511,917512,917513,917514,917515,917516,917517,917518,917519,917520,917521,917522,917523,917524,917525,917526,917527,917528,917529,917530,917531,917532,917533,917534,917535,917536,917537,917538,917539,917540,917541,917542,917543,917544,917545,917546,917547,917548,917549,917550,917551,917552,917553,917554,917555,917556,917557,917558,917559,917560,917561,917562,917563,917564,917565,917566,917567,917568,917569,917570,917571,917572,917573,917574,917575,917576,917577,917578,917579,917580,917581,917582,917583,917584,917585,917586,917587,917588,917589,917590,917591,917592,917593,917594,917595,917596,917597,917598,917599,917600,917601,917602,917603,917604,917605,917606,917607,917608,917609,917610,917611,917612,917613,917614,917615,917616,917617,917618,917619,917620,917621,917622,917623,917624,917625,917626,917627,917628,917629,917630,917631,917760,917761,917762,917763,917764,917765,917766,917767,917768,917769,917770,917771,917772,917773,917774,917775,917776,917777,917778,917779,917780,917781,917782,917783,917784,917785,917786,917787,917788,917789,917790,917791,917792,917793,917794,917795,917796,917797,917798,917799,917800,917801,917802,917803,917804,917805,917806,917807,917808,917809,917810,917811,917812,917813,917814,917815,917816,917817,917818,917819,917820,917821,917822,917823,917824,917825,917826,917827,917828,917829,917830,917831,917832,917833,917834,917835,917836,917837,917838,917839,917840,917841,917842,917843,917844,917845,917846,917847,917848,917849,917850,917851,917852,917853,917854,917855,917856,917857,917858,917859,917860,917861,917862,917863,917864,917865,917866,917867,917868,917869,917870,917871,917872,917873,917874,917875,917876,917877,917878,917879,917880,917881,917882,917883,917884,917885,917886,917887,917888,917889,917890,917891,917892,917893,917894,917895,917896,917897,917898,917899,917900,917901,917902,917903,917904,917905,917906,917907,917908,917909,917910,917911,917912,917913,917914,917915,917916,917917,917918,917919,917920,917921,917922,917923,917924,917925,917926,917927,917928,917929,917930,917931,917932,917933,917934,917935,917936,917937,917938,917939,917940,917941,917942,917943,917944,917945,917946,917947,917948,917949,917950,917951,917952,917953,917954,917955,917956,917957,917958,917959,917960,917961,917962,917963,917964,917965,917966,917967,917968,917969,917970,917971,917972,917973,917974,917975,917976,917977,917978,917979,917980,917981,917982,917983,917984,917985,917986,917987,917988,917989,917990,917991,917992,917993,917994,917995,917996,917997,917998,917999]")}static getData(){return this._data||(this._data=new Set(ee.getRawData())),this._data}static isInvisibleCharacter(re){return ee.getData().has(re)}static get codePoints(){return ee.getData()}}e.InvisibleCharacters=ee,ee._data=void 0}),define(ne[72],se([1,0,65,11]),function(Q,e,L,k){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.fuzzyScoreGracefulAggressive=e.fuzzyScore=e.FuzzyScoreOptions=e.FuzzyScore=e.isPatternInWord=e.createMatches=e.anyScore=e.matchesFuzzy2=e.matchesFuzzy=e.matchesWords=e.matchesCamelCase=e.isUpper=e.matchesSubString=e.matchesContiguousSubString=e.matchesPrefix=e.matchesStrictPrefix=e.or=void 0;function y(...q){return function(z,ee){for(let $=0,re=q.length;$<re;$++){const oe=q[$](z,ee);if(oe)return oe}return null}}e.or=y,e.matchesStrictPrefix=D.bind(void 0,!1),e.matchesPrefix=D.bind(void 0,!0);function D(q,z,ee){if(!ee||ee.length<z.length)return null;let $;return q?$=k.startsWithIgnoreCase(ee,z):$=ee.indexOf(z)===0,$?z.length>0?[{start:0,end:z.length}]:[]:null}function S(q,z){const ee=z.toLowerCase().indexOf(q.toLowerCase());return ee===-1?null:[{start:ee,end:ee+q.length}]}e.matchesContiguousSubString=S;function f(q,z){return _(q.toLowerCase(),z.toLowerCase(),0,0)}e.matchesSubString=f;function _(q,z,ee,$){if(ee===q.length)return[];if($===z.length)return null;if(q[ee]===z[$]){let re=null;return(re=_(q,z,ee+1,$+1))?h({start:$,end:$+1},re):null}return _(q,z,ee,$+1)}function g(q){return 97<=q&&q<=122}function C(q){return 65<=q&&q<=90}e.isUpper=C;function s(q){return 48<=q&&q<=57}function i(q){return q===32||q===9||q===10||q===13}const n=new Set;"()[]{}<>`'\"-/;:,.?!".split("").forEach(q=>n.add(q.charCodeAt(0)));function t(q){return i(q)||n.has(q)}function a(q,z){return q===z||t(q)&&t(z)}function u(q){return g(q)||C(q)||s(q)}function h(q,z){return z.length===0?z=[q]:q.end===z[0].start?z[0].start=q.start:z.unshift(q),z}function r(q,z){for(let ee=z;ee<q.length;ee++){const $=q.charCodeAt(ee);if(C($)||s($)||ee>0&&!u(q.charCodeAt(ee-1)))return ee}return q.length}function c(q,z,ee,$){if(ee===q.length)return[];if($===z.length)return null;if(q[ee]!==z[$].toLowerCase())return null;{let re=null,oe=$+1;for(re=c(q,z,ee+1,$+1);!re&&(oe=r(z,oe))<z.length;)re=c(q,z,ee+1,oe),oe++;return re===null?null:h({start:$,end:$+1},re)}}function o(q){let z=0,ee=0,$=0,re=0,oe=0;for(let De=0;De<q.length;De++)oe=q.charCodeAt(De),C(oe)&&z++,g(oe)&&ee++,u(oe)&&$++,s(oe)&&re++;const ge=z/q.length,ve=ee/q.length,Se=$/q.length,Le=re/q.length;return{upperPercent:ge,lowerPercent:ve,alphaPercent:Se,numericPercent:Le}}function d(q){const{upperPercent:z,lowerPercent:ee}=q;return ee===0&&z>.6}function l(q){const{upperPercent:z,lowerPercent:ee,alphaPercent:$,numericPercent:re}=q;return ee>.2&&z<.8&&$>.6&&re<.2}function p(q){let z=0,ee=0,$=0,re=0;for(let oe=0;oe<q.length;oe++)$=q.charCodeAt(oe),C($)&&z++,g($)&&ee++,i($)&&re++;return(z===0||ee===0)&&re===0?q.length<=30:z<=5}function m(q,z){if(!z||(z=z.trim(),z.length===0)||!p(q)||z.length>60)return null;const ee=o(z);if(!l(ee)){if(!d(ee))return null;z=z.toLowerCase()}let $=null,re=0;for(q=q.toLowerCase();re<z.length&&($=c(q,z,0,re))===null;)re=r(z,re+1);return $}e.matchesCamelCase=m;function v(q,z,ee=!1){if(!z||z.length===0)return null;let $=null,re=0;for(q=q.toLowerCase(),z=z.toLowerCase();re<z.length&&($=b(q,z,0,re,ee))===null;)re=w(z,re+1);return $}e.matchesWords=v;function b(q,z,ee,$,re){if(ee===q.length)return[];if($===z.length)return null;if(a(q.charCodeAt(ee),z.charCodeAt($))){let oe=null,ge=$+1;if(oe=b(q,z,ee+1,$+1,re),!re)for(;!oe&&(ge=w(z,ge))<z.length;)oe=b(q,z,ee+1,ge,re),ge++;return oe?q.charCodeAt(ee)!==z.charCodeAt($)?oe:h({start:$,end:$+1},oe):null}else return null}function w(q,z){for(let ee=z;ee<q.length;ee++)if(t(q.charCodeAt(ee))||ee>0&&t(q.charCodeAt(ee-1)))return ee;return q.length}const E=y(e.matchesPrefix,m,S),I=y(e.matchesPrefix,m,f),M=new L.LRUCache(1e4);function P(q,z,ee=!1){if(typeof q!="string"||typeof z!="string")return null;let $=M.get(q);$||($=new RegExp(k.convertSimple2RegExpPattern(q),"i"),M.set(q,$));const re=$.exec(z);return re?[{start:re.index,end:re.index+re[0].length}]:ee?I(q,z):E(q,z)}e.matchesFuzzy=P;function x(q,z){const ee=ae(q,q.toLowerCase(),0,z,z.toLowerCase(),0,{firstMatchCanBeWeak:!0,boostFullMatch:!0});return ee?A(ee):null}e.matchesFuzzy2=x;function T(q,z,ee,$,re,oe){const ge=Math.min(13,q.length);for(;ee<ge;ee++){const ve=ae(q,z,ee,$,re,oe,{firstMatchCanBeWeak:!0,boostFullMatch:!0});if(ve)return ve}return[0,oe]}e.anyScore=T;function A(q){if(typeof q>"u")return[];const z=[],ee=q[1];for(let $=q.length-1;$>1;$--){const re=q[$]+ee,oe=z[z.length-1];oe&&oe.end===re?oe.end=re+1:z.push({start:re,end:re+1})}return z}e.createMatches=A;const N=128;function F(){const q=[],z=[];for(let ee=0;ee<=N;ee++)z[ee]=0;for(let ee=0;ee<=N;ee++)q.push(z.slice(0));return q}function O(q){const z=[];for(let ee=0;ee<=q;ee++)z[ee]=0;return z}const W=O(2*N),U=O(2*N),j=F(),R=F(),K=F(),G=!1;function Z(q,z,ee,$,re){function oe(ve,Se,Le=" "){for(;ve.length<Se;)ve=Le+ve;return ve}let ge=` |   |${$.split("").map(ve=>oe(ve,3)).join("|")}
`;for(let ve=0;ve<=ee;ve++)ve===0?ge+=" |":ge+=`${z[ve-1]}|`,ge+=q[ve].slice(0,re+1).map(Se=>oe(Se.toString(),3)).join("|")+`
`;return ge}function J(q,z,ee,$){q=q.substr(z),ee=ee.substr($),console.log(Z(R,q,q.length,ee,ee.length)),console.log(Z(K,q,q.length,ee,ee.length)),console.log(Z(j,q,q.length,ee,ee.length))}function X(q,z){if(z<0||z>=q.length)return!1;const ee=q.codePointAt(z);switch(ee){case 95:case 45:case 46:case 32:case 47:case 92:case 39:case 34:case 58:case 36:case 60:case 62:case 40:case 41:case 91:case 93:case 123:case 125:return!0;case void 0:return!1;default:return!!k.isEmojiImprecise(ee)}}function H(q,z){if(z<0||z>=q.length)return!1;switch(q.charCodeAt(z)){case 32:case 9:return!0;default:return!1}}function B(q,z,ee){return z[q]!==ee[q]}function V(q,z,ee,$,re,oe,ge=!1){for(;z<ee&&re<oe;)q[z]===$[re]&&(ge&&(W[z]=re),z+=1),re+=1;return z===ee}e.isPatternInWord=V;var Y;(function(q){q.Default=[-100,0];function z(ee){return!ee||ee.length===2&&ee[0]===-100&&ee[1]===0}q.isDefault=z})(Y||(e.FuzzyScore=Y={}));class ie{constructor(z,ee){this.firstMatchCanBeWeak=z,this.boostFullMatch=ee}}e.FuzzyScoreOptions=ie,ie.default={boostFullMatch:!0,firstMatchCanBeWeak:!1};function ae(q,z,ee,$,re,oe,ge=ie.default){const ve=q.length>N?N:q.length,Se=$.length>N?N:$.length;if(ee>=ve||oe>=Se||ve-ee>Se-oe||!V(z,ee,ve,re,oe,Se,!0))return;ce(ve,Se,ee,oe,z,re);let Le=1,De=1,ye=ee,Ee=oe;const Me=[!1];for(Le=1,ye=ee;ye<ve;Le++,ye++){const le=W[ye],pe=U[ye],Ce=ye+1<ve?U[ye+1]:Se;for(De=le-oe+1,Ee=le;Ee<Ce;De++,Ee++){let be=Number.MIN_SAFE_INTEGER,Ie=!1;Ee<=pe&&(be=de(q,z,ye,ee,$,re,Ee,Se,oe,j[Le-1][De-1]===0,Me));let Ne=0;be!==Number.MAX_SAFE_INTEGER&&(Ie=!0,Ne=be+R[Le-1][De-1]);const Re=Ee>le,Ve=Re?R[Le][De-1]+(j[Le][De-1]>0?-5:0):0,ze=Ee>le+1&&j[Le][De-1]>0,We=ze?R[Le][De-2]+(j[Le][De-2]>0?-5:0):0;if(ze&&(!Re||We>=Ve)&&(!Ie||We>=Ne))R[Le][De]=We,K[Le][De]=3,j[Le][De]=0;else if(Re&&(!Ie||Ve>=Ne))R[Le][De]=Ve,K[Le][De]=2,j[Le][De]=0;else if(Ie)R[Le][De]=Ne,K[Le][De]=1,j[Le][De]=j[Le-1][De-1]+1;else throw new Error("not possible")}}if(G&&J(q,ee,$,oe),!Me[0]&&!ge.firstMatchCanBeWeak)return;Le--,De--;const Pe=[R[Le][De],oe];let Fe=0,_e=0;for(;Le>=1;){let le=De;do{const pe=K[Le][le];if(pe===3)le=le-2;else if(pe===2)le=le-1;else break}while(le>=1);Fe>1&&z[ee+Le-1]===re[oe+De-1]&&!B(le+oe-1,$,re)&&Fe+1>j[Le][le]&&(le=De),le===De?Fe++:Fe=1,_e||(_e=le),Le--,De=le-1,Pe.push(De)}Se===ve&&ge.boostFullMatch&&(Pe[0]+=2);const me=_e-ve;return Pe[0]-=me,Pe}e.fuzzyScore=ae;function ce(q,z,ee,$,re,oe){let ge=q-1,ve=z-1;for(;ge>=ee&&ve>=$;)re[ge]===oe[ve]&&(U[ge]=ve,ge--),ve--}function de(q,z,ee,$,re,oe,ge,ve,Se,Le,De){if(z[ee]!==oe[ge])return Number.MIN_SAFE_INTEGER;let ye=1,Ee=!1;return ge===ee-$?ye=q[ee]===re[ge]?7:5:B(ge,re,oe)&&(ge===0||!B(ge-1,re,oe))?(ye=q[ee]===re[ge]?7:5,Ee=!0):X(oe,ge)&&(ge===0||!X(oe,ge-1))?ye=5:(X(oe,ge-1)||H(oe,ge-1))&&(ye=5,Ee=!0),ye>1&&ee===$&&(De[0]=!0),Ee||(Ee=B(ge,re,oe)||X(oe,ge-1)||H(oe,ge-1)),ee===$?ge>Se&&(ye-=Ee?3:5):Le?ye+=Ee?2:0:ye+=Ee?0:1,ge+1===ve&&(ye-=Ee?3:5),ye}function he(q,z,ee,$,re,oe,ge){return ue(q,z,ee,$,re,oe,!0,ge)}e.fuzzyScoreGracefulAggressive=he;function ue(q,z,ee,$,re,oe,ge,ve){let Se=ae(q,z,ee,$,re,oe,ve);if(Se&&!ge)return Se;if(q.length>=3){const Le=Math.min(7,q.length-1);for(let De=ee+1;De<Le;De++){const ye=te(q,De);if(ye){const Ee=ae(ye,ye.toLowerCase(),ee,$,re,oe,ve);Ee&&(Ee[0]-=3,(!Se||Ee[0]>Se[0])&&(Se=Ee))}}}return Se}function te(q,z){if(z+1>=q.length)return;const ee=q[z],$=q[z+1];if(ee!==$)return q.slice(0,z)+$+ee+q.slice(z+2)}}),define(ne[143],se([1,0,11]),function(Q,e,L){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.StringSHA1=e.toHexString=e.stringHash=e.numberHash=e.doHash=e.hash=void 0;function k(a){return y(a,0)}e.hash=k;function y(a,u){switch(typeof a){case"object":return a===null?D(349,u):Array.isArray(a)?_(a,u):g(a,u);case"string":return f(a,u);case"boolean":return S(a,u);case"number":return D(a,u);case"undefined":return D(937,u);default:return D(617,u)}}e.doHash=y;function D(a,u){return(u<<5)-u+a|0}e.numberHash=D;function S(a,u){return D(a?433:863,u)}function f(a,u){u=D(149417,u);for(let h=0,r=a.length;h<r;h++)u=D(a.charCodeAt(h),u);return u}e.stringHash=f;function _(a,u){return u=D(104579,u),a.reduce((h,r)=>y(r,h),u)}function g(a,u){return u=D(181387,u),Object.keys(a).sort().reduce((h,r)=>(h=f(r,h),y(a[r],h)),u)}function C(a,u,h=32){const r=h-u,c=~((1<<r)-1);return(a<<u|(c&a)>>>r)>>>0}function s(a,u=0,h=a.byteLength,r=0){for(let c=0;c<h;c++)a[u+c]=r}function i(a,u,h="0"){for(;a.length<u;)a=h+a;return a}function n(a,u=32){return a instanceof ArrayBuffer?Array.from(new Uint8Array(a)).map(h=>h.toString(16).padStart(2,"0")).join(""):i((a>>>0).toString(16),u/4)}e.toHexString=n;class t{constructor(){this._h0=1732584193,this._h1=4023233417,this._h2=2562383102,this._h3=271733878,this._h4=3285377520,this._buff=new Uint8Array(64+3),this._buffDV=new DataView(this._buff.buffer),this._buffLen=0,this._totalLen=0,this._leftoverHighSurrogate=0,this._finished=!1}update(u){const h=u.length;if(h===0)return;const r=this._buff;let c=this._buffLen,o=this._leftoverHighSurrogate,d,l;for(o!==0?(d=o,l=-1,o=0):(d=u.charCodeAt(0),l=0);;){let p=d;if(L.isHighSurrogate(d))if(l+1<h){const m=u.charCodeAt(l+1);L.isLowSurrogate(m)?(l++,p=L.computeCodePoint(d,m)):p=65533}else{o=d;break}else L.isLowSurrogate(d)&&(p=65533);if(c=this._push(r,c,p),l++,l<h)d=u.charCodeAt(l);else break}this._buffLen=c,this._leftoverHighSurrogate=o}_push(u,h,r){return r<128?u[h++]=r:r<2048?(u[h++]=192|(r&1984)>>>6,u[h++]=128|(r&63)>>>0):r<65536?(u[h++]=224|(r&61440)>>>12,u[h++]=128|(r&4032)>>>6,u[h++]=128|(r&63)>>>0):(u[h++]=240|(r&1835008)>>>18,u[h++]=128|(r&258048)>>>12,u[h++]=128|(r&4032)>>>6,u[h++]=128|(r&63)>>>0),h>=64&&(this._step(),h-=64,this._totalLen+=64,u[0]=u[64+0],u[1]=u[64+1],u[2]=u[64+2]),h}digest(){return this._finished||(this._finished=!0,this._leftoverHighSurrogate&&(this._leftoverHighSurrogate=0,this._buffLen=this._push(this._buff,this._buffLen,65533)),this._totalLen+=this._buffLen,this._wrapUp()),n(this._h0)+n(this._h1)+n(this._h2)+n(this._h3)+n(this._h4)}_wrapUp(){this._buff[this._buffLen++]=128,s(this._buff,this._buffLen),this._buffLen>56&&(this._step(),s(this._buff));const u=8*this._totalLen;this._buffDV.setUint32(56,Math.floor(u/4294967296),!1),this._buffDV.setUint32(60,u%4294967296,!1),this._step()}_step(){const u=t._bigBlock32,h=this._buffDV;for(let b=0;b<64;b+=4)u.setUint32(b,h.getUint32(b,!1),!1);for(let b=64;b<320;b+=4)u.setUint32(b,C(u.getUint32(b-12,!1)^u.getUint32(b-32,!1)^u.getUint32(b-56,!1)^u.getUint32(b-64,!1),1),!1);let r=this._h0,c=this._h1,o=this._h2,d=this._h3,l=this._h4,p,m,v;for(let b=0;b<80;b++)b<20?(p=c&o|~c&d,m=1518500249):b<40?(p=c^o^d,m=1859775393):b<60?(p=c&o|c&d|o&d,m=2400959708):(p=c^o^d,m=3395469782),v=C(r,5)+p+l+m+u.getUint32(b*4,!1)&4294967295,l=d,d=o,o=C(c,30),c=r,r=v;this._h0=this._h0+r&4294967295,this._h1=this._h1+c&4294967295,this._h2=this._h2+o&4294967295,this._h3=this._h3+d&4294967295,this._h4=this._h4+l&4294967295}}e.StringSHA1=t,t._bigBlock32=new DataView(new ArrayBuffer(320))}),define(ne[168],se([1,0,383,143]),function(Q,e,L,k){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.LcsDiff=e.stringDiff=e.StringDiffSequence=void 0;class y{constructor(s){this.source=s}getElements(){const s=this.source,i=new Int32Array(s.length);for(let n=0,t=s.length;n<t;n++)i[n]=s.charCodeAt(n);return i}}e.StringDiffSequence=y;function D(C,s,i){return new g(new y(C),new y(s)).ComputeDiff(i).changes}e.stringDiff=D;class S{static Assert(s,i){if(!s)throw new Error(i)}}class f{static Copy(s,i,n,t,a){for(let u=0;u<a;u++)n[t+u]=s[i+u]}static Copy2(s,i,n,t,a){for(let u=0;u<a;u++)n[t+u]=s[i+u]}}class _{constructor(){this.m_changes=[],this.m_originalStart=1073741824,this.m_modifiedStart=1073741824,this.m_originalCount=0,this.m_modifiedCount=0}MarkNextChange(){(this.m_originalCount>0||this.m_modifiedCount>0)&&this.m_changes.push(new L.DiffChange(this.m_originalStart,this.m_originalCount,this.m_modifiedStart,this.m_modifiedCount)),this.m_originalCount=0,this.m_modifiedCount=0,this.m_originalStart=1073741824,this.m_modifiedStart=1073741824}AddOriginalElement(s,i){this.m_originalStart=Math.min(this.m_originalStart,s),this.m_modifiedStart=Math.min(this.m_modifiedStart,i),this.m_originalCount++}AddModifiedElement(s,i){this.m_originalStart=Math.min(this.m_originalStart,s),this.m_modifiedStart=Math.min(this.m_modifiedStart,i),this.m_modifiedCount++}getChanges(){return(this.m_originalCount>0||this.m_modifiedCount>0)&&this.MarkNextChange(),this.m_changes}getReverseChanges(){return(this.m_originalCount>0||this.m_modifiedCount>0)&&this.MarkNextChange(),this.m_changes.reverse(),this.m_changes}}class g{constructor(s,i,n=null){this.ContinueProcessingPredicate=n,this._originalSequence=s,this._modifiedSequence=i;const[t,a,u]=g._getElements(s),[h,r,c]=g._getElements(i);this._hasStrings=u&&c,this._originalStringElements=t,this._originalElementsOrHash=a,this._modifiedStringElements=h,this._modifiedElementsOrHash=r,this.m_forwardHistory=[],this.m_reverseHistory=[]}static _isStringArray(s){return s.length>0&&typeof s[0]=="string"}static _getElements(s){const i=s.getElements();if(g._isStringArray(i)){const n=new Int32Array(i.length);for(let t=0,a=i.length;t<a;t++)n[t]=(0,k.stringHash)(i[t],0);return[i,n,!0]}return i instanceof Int32Array?[[],i,!1]:[[],new Int32Array(i),!1]}ElementsAreEqual(s,i){return this._originalElementsOrHash[s]!==this._modifiedElementsOrHash[i]?!1:this._hasStrings?this._originalStringElements[s]===this._modifiedStringElements[i]:!0}ElementsAreStrictEqual(s,i){if(!this.ElementsAreEqual(s,i))return!1;const n=g._getStrictElement(this._originalSequence,s),t=g._getStrictElement(this._modifiedSequence,i);return n===t}static _getStrictElement(s,i){return typeof s.getStrictElement=="function"?s.getStrictElement(i):null}OriginalElementsAreEqual(s,i){return this._originalElementsOrHash[s]!==this._originalElementsOrHash[i]?!1:this._hasStrings?this._originalStringElements[s]===this._originalStringElements[i]:!0}ModifiedElementsAreEqual(s,i){return this._modifiedElementsOrHash[s]!==this._modifiedElementsOrHash[i]?!1:this._hasStrings?this._modifiedStringElements[s]===this._modifiedStringElements[i]:!0}ComputeDiff(s){return this._ComputeDiff(0,this._originalElementsOrHash.length-1,0,this._modifiedElementsOrHash.length-1,s)}_ComputeDiff(s,i,n,t,a){const u=[!1];let h=this.ComputeDiffRecursive(s,i,n,t,u);return a&&(h=this.PrettifyChanges(h)),{quitEarly:u[0],changes:h}}ComputeDiffRecursive(s,i,n,t,a){for(a[0]=!1;s<=i&&n<=t&&this.ElementsAreEqual(s,n);)s++,n++;for(;i>=s&&t>=n&&this.ElementsAreEqual(i,t);)i--,t--;if(s>i||n>t){let d;return n<=t?(S.Assert(s===i+1,"originalStart should only be one more than originalEnd"),d=[new L.DiffChange(s,0,n,t-n+1)]):s<=i?(S.Assert(n===t+1,"modifiedStart should only be one more than modifiedEnd"),d=[new L.DiffChange(s,i-s+1,n,0)]):(S.Assert(s===i+1,"originalStart should only be one more than originalEnd"),S.Assert(n===t+1,"modifiedStart should only be one more than modifiedEnd"),d=[]),d}const u=[0],h=[0],r=this.ComputeRecursionPoint(s,i,n,t,u,h,a),c=u[0],o=h[0];if(r!==null)return r;if(!a[0]){const d=this.ComputeDiffRecursive(s,c,n,o,a);let l=[];return a[0]?l=[new L.DiffChange(c+1,i-(c+1)+1,o+1,t-(o+1)+1)]:l=this.ComputeDiffRecursive(c+1,i,o+1,t,a),this.ConcatenateChanges(d,l)}return[new L.DiffChange(s,i-s+1,n,t-n+1)]}WALKTRACE(s,i,n,t,a,u,h,r,c,o,d,l,p,m,v,b,w,E){let I=null,M=null,P=new _,x=i,T=n,A=p[0]-b[0]-t,N=-1073741824,F=this.m_forwardHistory.length-1;do{const O=A+s;O===x||O<T&&c[O-1]<c[O+1]?(d=c[O+1],m=d-A-t,d<N&&P.MarkNextChange(),N=d,P.AddModifiedElement(d+1,m),A=O+1-s):(d=c[O-1]+1,m=d-A-t,d<N&&P.MarkNextChange(),N=d-1,P.AddOriginalElement(d,m+1),A=O-1-s),F>=0&&(c=this.m_forwardHistory[F],s=c[0],x=1,T=c.length-1)}while(--F>=-1);if(I=P.getReverseChanges(),E[0]){let O=p[0]+1,W=b[0]+1;if(I!==null&&I.length>0){const U=I[I.length-1];O=Math.max(O,U.getOriginalEnd()),W=Math.max(W,U.getModifiedEnd())}M=[new L.DiffChange(O,l-O+1,W,v-W+1)]}else{P=new _,x=u,T=h,A=p[0]-b[0]-r,N=1073741824,F=w?this.m_reverseHistory.length-1:this.m_reverseHistory.length-2;do{const O=A+a;O===x||O<T&&o[O-1]>=o[O+1]?(d=o[O+1]-1,m=d-A-r,d>N&&P.MarkNextChange(),N=d+1,P.AddOriginalElement(d+1,m+1),A=O+1-a):(d=o[O-1],m=d-A-r,d>N&&P.MarkNextChange(),N=d,P.AddModifiedElement(d+1,m+1),A=O-1-a),F>=0&&(o=this.m_reverseHistory[F],a=o[0],x=1,T=o.length-1)}while(--F>=-1);M=P.getChanges()}return this.ConcatenateChanges(I,M)}ComputeRecursionPoint(s,i,n,t,a,u,h){let r=0,c=0,o=0,d=0,l=0,p=0;s--,n--,a[0]=0,u[0]=0,this.m_forwardHistory=[],this.m_reverseHistory=[];const m=i-s+(t-n),v=m+1,b=new Int32Array(v),w=new Int32Array(v),E=t-n,I=i-s,M=s-n,P=i-t,T=(I-E)%2===0;b[E]=s,w[I]=i,h[0]=!1;for(let A=1;A<=m/2+1;A++){let N=0,F=0;o=this.ClipDiagonalBound(E-A,A,E,v),d=this.ClipDiagonalBound(E+A,A,E,v);for(let W=o;W<=d;W+=2){W===o||W<d&&b[W-1]<b[W+1]?r=b[W+1]:r=b[W-1]+1,c=r-(W-E)-M;const U=r;for(;r<i&&c<t&&this.ElementsAreEqual(r+1,c+1);)r++,c++;if(b[W]=r,r+c>N+F&&(N=r,F=c),!T&&Math.abs(W-I)<=A-1&&r>=w[W])return a[0]=r,u[0]=c,U<=w[W]&&1447>0&&A<=1447+1?this.WALKTRACE(E,o,d,M,I,l,p,P,b,w,r,i,a,c,t,u,T,h):null}const O=(N-s+(F-n)-A)/2;if(this.ContinueProcessingPredicate!==null&&!this.ContinueProcessingPredicate(N,O))return h[0]=!0,a[0]=N,u[0]=F,O>0&&1447>0&&A<=1447+1?this.WALKTRACE(E,o,d,M,I,l,p,P,b,w,r,i,a,c,t,u,T,h):(s++,n++,[new L.DiffChange(s,i-s+1,n,t-n+1)]);l=this.ClipDiagonalBound(I-A,A,I,v),p=this.ClipDiagonalBound(I+A,A,I,v);for(let W=l;W<=p;W+=2){W===l||W<p&&w[W-1]>=w[W+1]?r=w[W+1]-1:r=w[W-1],c=r-(W-I)-P;const U=r;for(;r>s&&c>n&&this.ElementsAreEqual(r,c);)r--,c--;if(w[W]=r,T&&Math.abs(W-E)<=A&&r<=b[W])return a[0]=r,u[0]=c,U>=b[W]&&1447>0&&A<=1447+1?this.WALKTRACE(E,o,d,M,I,l,p,P,b,w,r,i,a,c,t,u,T,h):null}if(A<=1447){let W=new Int32Array(d-o+2);W[0]=E-o+1,f.Copy2(b,o,W,1,d-o+1),this.m_forwardHistory.push(W),W=new Int32Array(p-l+2),W[0]=I-l+1,f.Copy2(w,l,W,1,p-l+1),this.m_reverseHistory.push(W)}}return this.WALKTRACE(E,o,d,M,I,l,p,P,b,w,r,i,a,c,t,u,T,h)}PrettifyChanges(s){for(let i=0;i<s.length;i++){const n=s[i],t=i<s.length-1?s[i+1].originalStart:this._originalElementsOrHash.length,a=i<s.length-1?s[i+1].modifiedStart:this._modifiedElementsOrHash.length,u=n.originalLength>0,h=n.modifiedLength>0;for(;n.originalStart+n.originalLength<t&&n.modifiedStart+n.modifiedLength<a&&(!u||this.OriginalElementsAreEqual(n.originalStart,n.originalStart+n.originalLength))&&(!h||this.ModifiedElementsAreEqual(n.modifiedStart,n.modifiedStart+n.modifiedLength));){const c=this.ElementsAreStrictEqual(n.originalStart,n.modifiedStart);if(this.ElementsAreStrictEqual(n.originalStart+n.originalLength,n.modifiedStart+n.modifiedLength)&&!c)break;n.originalStart++,n.modifiedStart++}const r=[null];if(i<s.length-1&&this.ChangesOverlap(s[i],s[i+1],r)){s[i]=r[0],s.splice(i+1,1),i--;continue}}for(let i=s.length-1;i>=0;i--){const n=s[i];let t=0,a=0;if(i>0){const d=s[i-1];t=d.originalStart+d.originalLength,a=d.modifiedStart+d.modifiedLength}const u=n.originalLength>0,h=n.modifiedLength>0;let r=0,c=this._boundaryScore(n.originalStart,n.originalLength,n.modifiedStart,n.modifiedLength);for(let d=1;;d++){const l=n.originalStart-d,p=n.modifiedStart-d;if(l<t||p<a||u&&!this.OriginalElementsAreEqual(l,l+n.originalLength)||h&&!this.ModifiedElementsAreEqual(p,p+n.modifiedLength))break;const v=(l===t&&p===a?5:0)+this._boundaryScore(l,n.originalLength,p,n.modifiedLength);v>c&&(c=v,r=d)}n.originalStart-=r,n.modifiedStart-=r;const o=[null];if(i>0&&this.ChangesOverlap(s[i-1],s[i],o)){s[i-1]=o[0],s.splice(i,1),i++;continue}}if(this._hasStrings)for(let i=1,n=s.length;i<n;i++){const t=s[i-1],a=s[i],u=a.originalStart-t.originalStart-t.originalLength,h=t.originalStart,r=a.originalStart+a.originalLength,c=r-h,o=t.modifiedStart,d=a.modifiedStart+a.modifiedLength,l=d-o;if(u<5&&c<20&&l<20){const p=this._findBetterContiguousSequence(h,c,o,l,u);if(p){const[m,v]=p;(m!==t.originalStart+t.originalLength||v!==t.modifiedStart+t.modifiedLength)&&(t.originalLength=m-t.originalStart,t.modifiedLength=v-t.modifiedStart,a.originalStart=m+u,a.modifiedStart=v+u,a.originalLength=r-a.originalStart,a.modifiedLength=d-a.modifiedStart)}}}return s}_findBetterContiguousSequence(s,i,n,t,a){if(i<a||t<a)return null;const u=s+i-a+1,h=n+t-a+1;let r=0,c=0,o=0;for(let d=s;d<u;d++)for(let l=n;l<h;l++){const p=this._contiguousSequenceScore(d,l,a);p>0&&p>r&&(r=p,c=d,o=l)}return r>0?[c,o]:null}_contiguousSequenceScore(s,i,n){let t=0;for(let a=0;a<n;a++){if(!this.ElementsAreEqual(s+a,i+a))return 0;t+=this._originalStringElements[s+a].length}return t}_OriginalIsBoundary(s){return s<=0||s>=this._originalElementsOrHash.length-1?!0:this._hasStrings&&/^\s*$/.test(this._originalStringElements[s])}_OriginalRegionIsBoundary(s,i){if(this._OriginalIsBoundary(s)||this._OriginalIsBoundary(s-1))return!0;if(i>0){const n=s+i;if(this._OriginalIsBoundary(n-1)||this._OriginalIsBoundary(n))return!0}return!1}_ModifiedIsBoundary(s){return s<=0||s>=this._modifiedElementsOrHash.length-1?!0:this._hasStrings&&/^\s*$/.test(this._modifiedStringElements[s])}_ModifiedRegionIsBoundary(s,i){if(this._ModifiedIsBoundary(s)||this._ModifiedIsBoundary(s-1))return!0;if(i>0){const n=s+i;if(this._ModifiedIsBoundary(n-1)||this._ModifiedIsBoundary(n))return!0}return!1}_boundaryScore(s,i,n,t){const a=this._OriginalRegionIsBoundary(s,i)?1:0,u=this._ModifiedRegionIsBoundary(n,t)?1:0;return a+u}ConcatenateChanges(s,i){const n=[];if(s.length===0||i.length===0)return i.length>0?i:s;if(this.ChangesOverlap(s[s.length-1],i[0],n)){const t=new Array(s.length+i.length-1);return f.Copy(s,0,t,0,s.length-1),t[s.length-1]=n[0],f.Copy(i,1,t,s.length,i.length-1),t}else{const t=new Array(s.length+i.length);return f.Copy(s,0,t,0,s.length),f.Copy(i,0,t,s.length,i.length),t}}ChangesOverlap(s,i,n){if(S.Assert(s.originalStart<=i.originalStart,"Left change is not less than or equal to right change"),S.Assert(s.modifiedStart<=i.modifiedStart,"Left change is not less than or equal to right change"),s.originalStart+s.originalLength>=i.originalStart||s.modifiedStart+s.modifiedLength>=i.modifiedStart){const t=s.originalStart;let a=s.originalLength;const u=s.modifiedStart;let h=s.modifiedLength;return s.originalStart+s.originalLength>=i.originalStart&&(a=i.originalStart+i.originalLength-s.originalStart),s.modifiedStart+s.modifiedLength>=i.modifiedStart&&(h=i.modifiedStart+i.modifiedLength-s.modifiedStart),n[0]=new L.DiffChange(t,a,u,h),!0}else return n[0]=null,!1}ClipDiagonalBound(s,i,n,t){if(s>=0&&s<t)return s;const a=n,u=t-n-1,h=i%2===0;if(s<0){const r=a%2===0;return h===r?0:1}else{const r=u%2===0;return h===r?t-1:t-2}}}e.LcsDiff=g}),define(ne[392],se([1,0,11]),function(Q,e,L){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.buildReplaceStringWithCasePreserved=void 0;function k(S,f){if(S&&S[0]!==""){const _=y(S,f,"-"),g=y(S,f,"_");return _&&!g?D(S,f,"-"):!_&&g?D(S,f,"_"):S[0].toUpperCase()===S[0]?f.toUpperCase():S[0].toLowerCase()===S[0]?f.toLowerCase():L.containsUppercaseCharacter(S[0][0])&&f.length>0?f[0].toUpperCase()+f.substr(1):S[0][0].toUpperCase()!==S[0][0]&&f.length>0?f[0].toLowerCase()+f.substr(1):f}else return f}e.buildReplaceStringWithCasePreserved=k;function y(S,f,_){return S[0].indexOf(_)!==-1&&f.indexOf(_)!==-1&&S[0].split(_).length===f.split(_).length}function D(S,f,_){const g=f.split(_),C=S[0].split(_);let s="";return g.forEach((i,n)=>{s+=k([C[n]],i)+_}),s.slice(0,-1)}}),define(ne[101],se([1,0,11]),function(Q,e,L){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var k;(function(y){y[y.Ignore=0]="Ignore",y[y.Info=1]="Info",y[y.Warning=2]="Warning",y[y.Error=3]="Error"})(k||(k={})),function(y){const D="error",S="warning",f="warn",_="info",g="ignore";function C(i){return i?L.equalsIgnoreCase(D,i)?y.Error:L.equalsIgnoreCase(S,i)||L.equalsIgnoreCase(f,i)?y.Warning:L.equalsIgnoreCase(_,i)?y.Info:y.Ignore:y.Ignore}y.fromValue=C;function s(i){switch(i){case y.Error:return D;case y.Warning:return S;case y.Info:return _;default:return g}}y.toString=s}(k||(k={})),e.default=k}),define(ne[264],se([1,0]),function(Q,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.MicrotaskDelay=void 0,e.MicrotaskDelay=Symbol("MicrotaskDelay")}),define(ne[198],se([1,0,11]),function(Q,e,L){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.TernarySearchTree=e.UriIterator=e.PathIterator=e.ConfigKeysIterator=e.StringIterator=void 0;class k{constructor(){this._value="",this._pos=0}reset(C){return this._value=C,this._pos=0,this}next(){return this._pos+=1,this}hasNext(){return this._pos<this._value.length-1}cmp(C){const s=C.charCodeAt(0),i=this._value.charCodeAt(this._pos);return s-i}value(){return this._value[this._pos]}}e.StringIterator=k;class y{constructor(C=!0){this._caseSensitive=C}reset(C){return this._value=C,this._from=0,this._to=0,this.next()}hasNext(){return this._to<this._value.length}next(){this._from=this._to;let C=!0;for(;this._to<this._value.length;this._to++)if(this._value.charCodeAt(this._to)===46)if(C)this._from++;else break;else C=!1;return this}cmp(C){return this._caseSensitive?(0,L.compareSubstring)(C,this._value,0,C.length,this._from,this._to):(0,L.compareSubstringIgnoreCase)(C,this._value,0,C.length,this._from,this._to)}value(){return this._value.substring(this._from,this._to)}}e.ConfigKeysIterator=y;class D{constructor(C=!0,s=!0){this._splitOnBackslash=C,this._caseSensitive=s}reset(C){this._from=0,this._to=0,this._value=C,this._valueLen=C.length;for(let s=C.length-1;s>=0;s--,this._valueLen--){const i=this._value.charCodeAt(s);if(!(i===47||this._splitOnBackslash&&i===92))break}return this.next()}hasNext(){return this._to<this._valueLen}next(){this._from=this._to;let C=!0;for(;this._to<this._valueLen;this._to++){const s=this._value.charCodeAt(this._to);if(s===47||this._splitOnBackslash&&s===92)if(C)this._from++;else break;else C=!1}return this}cmp(C){return this._caseSensitive?(0,L.compareSubstring)(C,this._value,0,C.length,this._from,this._to):(0,L.compareSubstringIgnoreCase)(C,this._value,0,C.length,this._from,this._to)}value(){return this._value.substring(this._from,this._to)}}e.PathIterator=D;class S{constructor(C,s){this._ignorePathCasing=C,this._ignoreQueryAndFragment=s,this._states=[],this._stateIdx=0}reset(C){return this._value=C,this._states=[],this._value.scheme&&this._states.push(1),this._value.authority&&this._states.push(2),this._value.path&&(this._pathIterator=new D(!1,!this._ignorePathCasing(C)),this._pathIterator.reset(C.path),this._pathIterator.value()&&this._states.push(3)),this._ignoreQueryAndFragment(C)||(this._value.query&&this._states.push(4),this._value.fragment&&this._states.push(5)),this._stateIdx=0,this}next(){return this._states[this._stateIdx]===3&&this._pathIterator.hasNext()?this._pathIterator.next():this._stateIdx+=1,this}hasNext(){return this._states[this._stateIdx]===3&&this._pathIterator.hasNext()||this._stateIdx<this._states.length-1}cmp(C){if(this._states[this._stateIdx]===1)return(0,L.compareIgnoreCase)(C,this._value.scheme);if(this._states[this._stateIdx]===2)return(0,L.compareIgnoreCase)(C,this._value.authority);if(this._states[this._stateIdx]===3)return this._pathIterator.cmp(C);if(this._states[this._stateIdx]===4)return(0,L.compare)(C,this._value.query);if(this._states[this._stateIdx]===5)return(0,L.compare)(C,this._value.fragment);throw new Error}value(){if(this._states[this._stateIdx]===1)return this._value.scheme;if(this._states[this._stateIdx]===2)return this._value.authority;if(this._states[this._stateIdx]===3)return this._pathIterator.value();if(this._states[this._stateIdx]===4)return this._value.query;if(this._states[this._stateIdx]===5)return this._value.fragment;throw new Error}}e.UriIterator=S;class f{constructor(){this.height=1}rotateLeft(){const C=this.right;return this.right=C.left,C.left=this,this.updateHeight(),C.updateHeight(),C}rotateRight(){const C=this.left;return this.left=C.right,C.right=this,this.updateHeight(),C.updateHeight(),C}updateHeight(){this.height=1+Math.max(this.heightLeft,this.heightRight)}balanceFactor(){return this.heightRight-this.heightLeft}get heightLeft(){var C,s;return(s=(C=this.left)===null||C===void 0?void 0:C.height)!==null&&s!==void 0?s:0}get heightRight(){var C,s;return(s=(C=this.right)===null||C===void 0?void 0:C.height)!==null&&s!==void 0?s:0}}class _{static forUris(C=()=>!1,s=()=>!1){return new _(new S(C,s))}static forStrings(){return new _(new k)}static forConfigKeys(){return new _(new y)}constructor(C){this._iter=C}clear(){this._root=void 0}set(C,s){const i=this._iter.reset(C);let n;this._root||(this._root=new f,this._root.segment=i.value());const t=[];for(n=this._root;;){const u=i.cmp(n.segment);if(u>0)n.left||(n.left=new f,n.left.segment=i.value()),t.push([-1,n]),n=n.left;else if(u<0)n.right||(n.right=new f,n.right.segment=i.value()),t.push([1,n]),n=n.right;else if(i.hasNext())i.next(),n.mid||(n.mid=new f,n.mid.segment=i.value()),t.push([0,n]),n=n.mid;else break}const a=n.value;n.value=s,n.key=C;for(let u=t.length-1;u>=0;u--){const h=t[u][1];h.updateHeight();const r=h.balanceFactor();if(r<-1||r>1){const c=t[u][0],o=t[u+1][0];if(c===1&&o===1)t[u][1]=h.rotateLeft();else if(c===-1&&o===-1)t[u][1]=h.rotateRight();else if(c===1&&o===-1)h.right=t[u+1][1]=t[u+1][1].rotateRight(),t[u][1]=h.rotateLeft();else if(c===-1&&o===1)h.left=t[u+1][1]=t[u+1][1].rotateLeft(),t[u][1]=h.rotateRight();else throw new Error;if(u>0)switch(t[u-1][0]){case-1:t[u-1][1].left=t[u][1];break;case 1:t[u-1][1].right=t[u][1];break;case 0:t[u-1][1].mid=t[u][1];break}else this._root=t[0][1]}}return a}get(C){var s;return(s=this._getNode(C))===null||s===void 0?void 0:s.value}_getNode(C){const s=this._iter.reset(C);let i=this._root;for(;i;){const n=s.cmp(i.segment);if(n>0)i=i.left;else if(n<0)i=i.right;else if(s.hasNext())s.next(),i=i.mid;else break}return i}has(C){const s=this._getNode(C);return!(s?.value===void 0&&s?.mid===void 0)}delete(C){return this._delete(C,!1)}deleteSuperstr(C){return this._delete(C,!0)}_delete(C,s){var i;const n=this._iter.reset(C),t=[];let a=this._root;for(;a;){const u=n.cmp(a.segment);if(u>0)t.push([-1,a]),a=a.left;else if(u<0)t.push([1,a]),a=a.right;else if(n.hasNext())n.next(),t.push([0,a]),a=a.mid;else break}if(a){if(s?(a.left=void 0,a.mid=void 0,a.right=void 0,a.height=1):(a.key=void 0,a.value=void 0),!a.mid&&!a.value)if(a.left&&a.right){const u=this._min(a.right);if(u.key){const{key:h,value:r,segment:c}=u;this._delete(u.key,!1),a.key=h,a.value=r,a.segment=c}}else{const u=(i=a.left)!==null&&i!==void 0?i:a.right;if(t.length>0){const[h,r]=t[t.length-1];switch(h){case-1:r.left=u;break;case 0:r.mid=u;break;case 1:r.right=u;break}}else this._root=u}for(let u=t.length-1;u>=0;u--){const h=t[u][1];h.updateHeight();const r=h.balanceFactor();if(r>1?(h.right.balanceFactor()>=0||(h.right=h.right.rotateRight()),t[u][1]=h.rotateLeft()):r<-1&&(h.left.balanceFactor()<=0||(h.left=h.left.rotateLeft()),t[u][1]=h.rotateRight()),u>0)switch(t[u-1][0]){case-1:t[u-1][1].left=t[u][1];break;case 1:t[u-1][1].right=t[u][1];break;case 0:t[u-1][1].mid=t[u][1];break}else this._root=t[0][1]}}}_min(C){for(;C.left;)C=C.left;return C}findSubstr(C){const s=this._iter.reset(C);let i=this._root,n;for(;i;){const t=s.cmp(i.segment);if(t>0)i=i.left;else if(t<0)i=i.right;else if(s.hasNext())s.next(),n=i.value||n,i=i.mid;else break}return i&&i.value||n}findSuperstr(C){return this._findSuperstrOrElement(C,!1)}_findSuperstrOrElement(C,s){const i=this._iter.reset(C);let n=this._root;for(;n;){const t=i.cmp(n.segment);if(t>0)n=n.left;else if(t<0)n=n.right;else if(i.hasNext())i.next(),n=n.mid;else return n.mid?this._entries(n.mid):s?n.value:void 0}}forEach(C){for(const[s,i]of this)C(i,s)}*[Symbol.iterator](){yield*this._entries(this._root)}_entries(C){const s=[];return this._dfsEntries(C,s),s[Symbol.iterator]()}_dfsEntries(C,s){C&&(C.left&&this._dfsEntries(C.left,s),C.value&&s.push([C.key,C.value]),C.mid&&this._dfsEntries(C.mid,s),C.right&&this._dfsEntries(C.right,s))}}e.TernarySearchTree=_}),define(ne[20],se([1,0]),function(Q,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.validateConstraint=e.validateConstraints=e.isFunction=e.assertIsDefined=e.assertType=e.isUndefinedOrNull=e.isDefined=e.isUndefined=e.isBoolean=e.isIterable=e.isNumber=e.isTypedArray=e.isObject=e.isString=void 0;function L(u){return typeof u=="string"}e.isString=L;function k(u){return typeof u=="object"&&u!==null&&!Array.isArray(u)&&!(u instanceof RegExp)&&!(u instanceof Date)}e.isObject=k;function y(u){const h=Object.getPrototypeOf(Uint8Array);return typeof u=="object"&&u instanceof h}e.isTypedArray=y;function D(u){return typeof u=="number"&&!isNaN(u)}e.isNumber=D;function S(u){return!!u&&typeof u[Symbol.iterator]=="function"}e.isIterable=S;function f(u){return u===!0||u===!1}e.isBoolean=f;function _(u){return typeof u>"u"}e.isUndefined=_;function g(u){return!C(u)}e.isDefined=g;function C(u){return _(u)||u===null}e.isUndefinedOrNull=C;function s(u,h){if(!u)throw new Error(h?`Unexpected type, expected '${h}'`:"Unexpected type")}e.assertType=s;function i(u){if(C(u))throw new Error("Assertion Failed: argument is undefined or null");return u}e.assertIsDefined=i;function n(u){return typeof u=="function"}e.isFunction=n;function t(u,h){const r=Math.min(u.length,h.length);for(let c=0;c<r;c++)a(u[c],h[c])}e.validateConstraints=t;function a(u,h){if(L(h)){if(typeof u!==h)throw new Error(`argument does not match constraint: typeof ${h}`)}else if(n(h)){try{if(u instanceof h)return}catch{}if(!C(u)&&u.constructor===h||h.length===1&&h.call(void 0,u)===!0)return;throw new Error("argument does not match one of these constraints: arg instanceof constraint, arg.constructor === constraint, nor constraint(arg) === true")}}e.validateConstraint=a}),define(ne[25],se([1,0,20]),function(Q,e,L){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.Codicon=e.getCodiconFontCharacters=void 0;const k=Object.create(null);function y(S,f){if((0,L.isString)(f)){const _=k[f];if(_===void 0)throw new Error(`${S} references an unknown codicon: ${f}`);f=_}return k[S]=f,{id:S}}function D(){return k}e.getCodiconFontCharacters=D,e.Codicon={add:y("add",6e4),plus:y("plus",6e4),gistNew:y("gist-new",6e4),repoCreate:y("repo-create",6e4),lightbulb:y("lightbulb",60001),lightBulb:y("light-bulb",60001),repo:y("repo",60002),repoDelete:y("repo-delete",60002),gistFork:y("gist-fork",60003),repoForked:y("repo-forked",60003),gitPullRequest:y("git-pull-request",60004),gitPullRequestAbandoned:y("git-pull-request-abandoned",60004),recordKeys:y("record-keys",60005),keyboard:y("keyboard",60005),tag:y("tag",60006),tagAdd:y("tag-add",60006),tagRemove:y("tag-remove",60006),gitPullRequestLabel:y("git-pull-request-label",60006),person:y("person",60007),personFollow:y("person-follow",60007),personOutline:y("person-outline",60007),personFilled:y("person-filled",60007),gitBranch:y("git-branch",60008),gitBranchCreate:y("git-branch-create",60008),gitBranchDelete:y("git-branch-delete",60008),sourceControl:y("source-control",60008),mirror:y("mirror",60009),mirrorPublic:y("mirror-public",60009),star:y("star",60010),starAdd:y("star-add",60010),starDelete:y("star-delete",60010),starEmpty:y("star-empty",60010),comment:y("comment",60011),commentAdd:y("comment-add",60011),alert:y("alert",60012),warning:y("warning",60012),search:y("search",60013),searchSave:y("search-save",60013),logOut:y("log-out",60014),signOut:y("sign-out",60014),logIn:y("log-in",60015),signIn:y("sign-in",60015),eye:y("eye",60016),eyeUnwatch:y("eye-unwatch",60016),eyeWatch:y("eye-watch",60016),circleFilled:y("circle-filled",60017),primitiveDot:y("primitive-dot",60017),closeDirty:y("close-dirty",60017),debugBreakpoint:y("debug-breakpoint",60017),debugBreakpointDisabled:y("debug-breakpoint-disabled",60017),debugHint:y("debug-hint",60017),primitiveSquare:y("primitive-square",60018),edit:y("edit",60019),pencil:y("pencil",60019),info:y("info",60020),issueOpened:y("issue-opened",60020),gistPrivate:y("gist-private",60021),gitForkPrivate:y("git-fork-private",60021),lock:y("lock",60021),mirrorPrivate:y("mirror-private",60021),close:y("close",60022),removeClose:y("remove-close",60022),x:y("x",60022),repoSync:y("repo-sync",60023),sync:y("sync",60023),clone:y("clone",60024),desktopDownload:y("desktop-download",60024),beaker:y("beaker",60025),microscope:y("microscope",60025),vm:y("vm",60026),deviceDesktop:y("device-desktop",60026),file:y("file",60027),fileText:y("file-text",60027),more:y("more",60028),ellipsis:y("ellipsis",60028),kebabHorizontal:y("kebab-horizontal",60028),mailReply:y("mail-reply",60029),reply:y("reply",60029),organization:y("organization",60030),organizationFilled:y("organization-filled",60030),organizationOutline:y("organization-outline",60030),newFile:y("new-file",60031),fileAdd:y("file-add",60031),newFolder:y("new-folder",60032),fileDirectoryCreate:y("file-directory-create",60032),trash:y("trash",60033),trashcan:y("trashcan",60033),history:y("history",60034),clock:y("clock",60034),folder:y("folder",60035),fileDirectory:y("file-directory",60035),symbolFolder:y("symbol-folder",60035),logoGithub:y("logo-github",60036),markGithub:y("mark-github",60036),github:y("github",60036),terminal:y("terminal",60037),console:y("console",60037),repl:y("repl",60037),zap:y("zap",60038),symbolEvent:y("symbol-event",60038),error:y("error",60039),stop:y("stop",60039),variable:y("variable",60040),symbolVariable:y("symbol-variable",60040),array:y("array",60042),symbolArray:y("symbol-array",60042),symbolModule:y("symbol-module",60043),symbolPackage:y("symbol-package",60043),symbolNamespace:y("symbol-namespace",60043),symbolObject:y("symbol-object",60043),symbolMethod:y("symbol-method",60044),symbolFunction:y("symbol-function",60044),symbolConstructor:y("symbol-constructor",60044),symbolBoolean:y("symbol-boolean",60047),symbolNull:y("symbol-null",60047),symbolNumeric:y("symbol-numeric",60048),symbolNumber:y("symbol-number",60048),symbolStructure:y("symbol-structure",60049),symbolStruct:y("symbol-struct",60049),symbolParameter:y("symbol-parameter",60050),symbolTypeParameter:y("symbol-type-parameter",60050),symbolKey:y("symbol-key",60051),symbolText:y("symbol-text",60051),symbolReference:y("symbol-reference",60052),goToFile:y("go-to-file",60052),symbolEnum:y("symbol-enum",60053),symbolValue:y("symbol-value",60053),symbolRuler:y("symbol-ruler",60054),symbolUnit:y("symbol-unit",60054),activateBreakpoints:y("activate-breakpoints",60055),archive:y("archive",60056),arrowBoth:y("arrow-both",60057),arrowDown:y("arrow-down",60058),arrowLeft:y("arrow-left",60059),arrowRight:y("arrow-right",60060),arrowSmallDown:y("arrow-small-down",60061),arrowSmallLeft:y("arrow-small-left",60062),arrowSmallRight:y("arrow-small-right",60063),arrowSmallUp:y("arrow-small-up",60064),arrowUp:y("arrow-up",60065),bell:y("bell",60066),bold:y("bold",60067),book:y("book",60068),bookmark:y("bookmark",60069),debugBreakpointConditionalUnverified:y("debug-breakpoint-conditional-unverified",60070),debugBreakpointConditional:y("debug-breakpoint-conditional",60071),debugBreakpointConditionalDisabled:y("debug-breakpoint-conditional-disabled",60071),debugBreakpointDataUnverified:y("debug-breakpoint-data-unverified",60072),debugBreakpointData:y("debug-breakpoint-data",60073),debugBreakpointDataDisabled:y("debug-breakpoint-data-disabled",60073),debugBreakpointLogUnverified:y("debug-breakpoint-log-unverified",60074),debugBreakpointLog:y("debug-breakpoint-log",60075),debugBreakpointLogDisabled:y("debug-breakpoint-log-disabled",60075),briefcase:y("briefcase",60076),broadcast:y("broadcast",60077),browser:y("browser",60078),bug:y("bug",60079),calendar:y("calendar",60080),caseSensitive:y("case-sensitive",60081),check:y("check",60082),checklist:y("checklist",60083),chevronDown:y("chevron-down",60084),dropDownButton:y("drop-down-button",60084),chevronLeft:y("chevron-left",60085),chevronRight:y("chevron-right",60086),chevronUp:y("chevron-up",60087),chromeClose:y("chrome-close",60088),chromeMaximize:y("chrome-maximize",60089),chromeMinimize:y("chrome-minimize",60090),chromeRestore:y("chrome-restore",60091),circle:y("circle",60092),circleOutline:y("circle-outline",60092),debugBreakpointUnverified:y("debug-breakpoint-unverified",60092),circleSlash:y("circle-slash",60093),circuitBoard:y("circuit-board",60094),clearAll:y("clear-all",60095),clippy:y("clippy",60096),closeAll:y("close-all",60097),cloudDownload:y("cloud-download",60098),cloudUpload:y("cloud-upload",60099),code:y("code",60100),collapseAll:y("collapse-all",60101),colorMode:y("color-mode",60102),commentDiscussion:y("comment-discussion",60103),compareChanges:y("compare-changes",60157),creditCard:y("credit-card",60105),dash:y("dash",60108),dashboard:y("dashboard",60109),database:y("database",60110),debugContinue:y("debug-continue",60111),debugDisconnect:y("debug-disconnect",60112),debugPause:y("debug-pause",60113),debugRestart:y("debug-restart",60114),debugStart:y("debug-start",60115),debugStepInto:y("debug-step-into",60116),debugStepOut:y("debug-step-out",60117),debugStepOver:y("debug-step-over",60118),debugStop:y("debug-stop",60119),debug:y("debug",60120),deviceCameraVideo:y("device-camera-video",60121),deviceCamera:y("device-camera",60122),deviceMobile:y("device-mobile",60123),diffAdded:y("diff-added",60124),diffIgnored:y("diff-ignored",60125),diffModified:y("diff-modified",60126),diffRemoved:y("diff-removed",60127),diffRenamed:y("diff-renamed",60128),diff:y("diff",60129),discard:y("discard",60130),editorLayout:y("editor-layout",60131),emptyWindow:y("empty-window",60132),exclude:y("exclude",60133),extensions:y("extensions",60134),eyeClosed:y("eye-closed",60135),fileBinary:y("file-binary",60136),fileCode:y("file-code",60137),fileMedia:y("file-media",60138),filePdf:y("file-pdf",60139),fileSubmodule:y("file-submodule",60140),fileSymlinkDirectory:y("file-symlink-directory",60141),fileSymlinkFile:y("file-symlink-file",60142),fileZip:y("file-zip",60143),files:y("files",60144),filter:y("filter",60145),flame:y("flame",60146),foldDown:y("fold-down",60147),foldUp:y("fold-up",60148),fold:y("fold",60149),folderActive:y("folder-active",60150),folderOpened:y("folder-opened",60151),gear:y("gear",60152),gift:y("gift",60153),gistSecret:y("gist-secret",60154),gist:y("gist",60155),gitCommit:y("git-commit",60156),gitCompare:y("git-compare",60157),gitMerge:y("git-merge",60158),githubAction:y("github-action",60159),githubAlt:y("github-alt",60160),globe:y("globe",60161),grabber:y("grabber",60162),graph:y("graph",60163),gripper:y("gripper",60164),heart:y("heart",60165),home:y("home",60166),horizontalRule:y("horizontal-rule",60167),hubot:y("hubot",60168),inbox:y("inbox",60169),issueClosed:y("issue-closed",60324),issueReopened:y("issue-reopened",60171),issues:y("issues",60172),italic:y("italic",60173),jersey:y("jersey",60174),json:y("json",60175),bracket:y("bracket",60175),kebabVertical:y("kebab-vertical",60176),key:y("key",60177),law:y("law",60178),lightbulbAutofix:y("lightbulb-autofix",60179),linkExternal:y("link-external",60180),link:y("link",60181),listOrdered:y("list-ordered",60182),listUnordered:y("list-unordered",60183),liveShare:y("live-share",60184),loading:y("loading",60185),location:y("location",60186),mailRead:y("mail-read",60187),mail:y("mail",60188),markdown:y("markdown",60189),megaphone:y("megaphone",60190),mention:y("mention",60191),milestone:y("milestone",60192),gitPullRequestMilestone:y("git-pull-request-milestone",60192),mortarBoard:y("mortar-board",60193),move:y("move",60194),multipleWindows:y("multiple-windows",60195),mute:y("mute",60196),noNewline:y("no-newline",60197),note:y("note",60198),octoface:y("octoface",60199),openPreview:y("open-preview",60200),package_:y("package",60201),paintcan:y("paintcan",60202),pin:y("pin",60203),play:y("play",60204),run:y("run",60204),plug:y("plug",60205),preserveCase:y("preserve-case",60206),preview:y("preview",60207),project:y("project",60208),pulse:y("pulse",60209),question:y("question",60210),quote:y("quote",60211),radioTower:y("radio-tower",60212),reactions:y("reactions",60213),references:y("references",60214),refresh:y("refresh",60215),regex:y("regex",60216),remoteExplorer:y("remote-explorer",60217),remote:y("remote",60218),remove:y("remove",60219),replaceAll:y("replace-all",60220),replace:y("replace",60221),repoClone:y("repo-clone",60222),repoForcePush:y("repo-force-push",60223),repoPull:y("repo-pull",60224),repoPush:y("repo-push",60225),report:y("report",60226),requestChanges:y("request-changes",60227),rocket:y("rocket",60228),rootFolderOpened:y("root-folder-opened",60229),rootFolder:y("root-folder",60230),rss:y("rss",60231),ruby:y("ruby",60232),saveAll:y("save-all",60233),saveAs:y("save-as",60234),save:y("save",60235),screenFull:y("screen-full",60236),screenNormal:y("screen-normal",60237),searchStop:y("search-stop",60238),server:y("server",60240),settingsGear:y("settings-gear",60241),settings:y("settings",60242),shield:y("shield",60243),smiley:y("smiley",60244),sortPrecedence:y("sort-precedence",60245),splitHorizontal:y("split-horizontal",60246),splitVertical:y("split-vertical",60247),squirrel:y("squirrel",60248),starFull:y("star-full",60249),starHalf:y("star-half",60250),symbolClass:y("symbol-class",60251),symbolColor:y("symbol-color",60252),symbolCustomColor:y("symbol-customcolor",60252),symbolConstant:y("symbol-constant",60253),symbolEnumMember:y("symbol-enum-member",60254),symbolField:y("symbol-field",60255),symbolFile:y("symbol-file",60256),symbolInterface:y("symbol-interface",60257),symbolKeyword:y("symbol-keyword",60258),symbolMisc:y("symbol-misc",60259),symbolOperator:y("symbol-operator",60260),symbolProperty:y("symbol-property",60261),wrench:y("wrench",60261),wrenchSubaction:y("wrench-subaction",60261),symbolSnippet:y("symbol-snippet",60262),tasklist:y("tasklist",60263),telescope:y("telescope",60264),textSize:y("text-size",60265),threeBars:y("three-bars",60266),thumbsdown:y("thumbsdown",60267),thumbsup:y("thumbsup",60268),tools:y("tools",60269),triangleDown:y("triangle-down",60270),triangleLeft:y("triangle-left",60271),triangleRight:y("triangle-right",60272),triangleUp:y("triangle-up",60273),twitter:y("twitter",60274),unfold:y("unfold",60275),unlock:y("unlock",60276),unmute:y("unmute",60277),unverified:y("unverified",60278),verified:y("verified",60279),versions:y("versions",60280),vmActive:y("vm-active",60281),vmOutline:y("vm-outline",60282),vmRunning:y("vm-running",60283),watch:y("watch",60284),whitespace:y("whitespace",60285),wholeWord:y("whole-word",60286),window:y("window",60287),wordWrap:y("word-wrap",60288),zoomIn:y("zoom-in",60289),zoomOut:y("zoom-out",60290),listFilter:y("list-filter",60291),listFlat:y("list-flat",60292),listSelection:y("list-selection",60293),selection:y("selection",60293),listTree:y("list-tree",60294),debugBreakpointFunctionUnverified:y("debug-breakpoint-function-unverified",60295),debugBreakpointFunction:y("debug-breakpoint-function",60296),debugBreakpointFunctionDisabled:y("debug-breakpoint-function-disabled",60296),debugStackframeActive:y("debug-stackframe-active",60297),circleSmallFilled:y("circle-small-filled",60298),debugStackframeDot:y("debug-stackframe-dot",60298),debugStackframe:y("debug-stackframe",60299),debugStackframeFocused:y("debug-stackframe-focused",60299),debugBreakpointUnsupported:y("debug-breakpoint-unsupported",60300),symbolString:y("symbol-string",60301),debugReverseContinue:y("debug-reverse-continue",60302),debugStepBack:y("debug-step-back",60303),debugRestartFrame:y("debug-restart-frame",60304),callIncoming:y("call-incoming",60306),callOutgoing:y("call-outgoing",60307),menu:y("menu",60308),expandAll:y("expand-all",60309),feedback:y("feedback",60310),gitPullRequestReviewer:y("git-pull-request-reviewer",60310),groupByRefType:y("group-by-ref-type",60311),ungroupByRefType:y("ungroup-by-ref-type",60312),account:y("account",60313),gitPullRequestAssignee:y("git-pull-request-assignee",60313),bellDot:y("bell-dot",60314),debugConsole:y("debug-console",60315),library:y("library",60316),output:y("output",60317),runAll:y("run-all",60318),syncIgnored:y("sync-ignored",60319),pinned:y("pinned",60320),githubInverted:y("github-inverted",60321),debugAlt:y("debug-alt",60305),serverProcess:y("server-process",60322),serverEnvironment:y("server-environment",60323),pass:y("pass",60324),stopCircle:y("stop-circle",60325),playCircle:y("play-circle",60326),record:y("record",60327),debugAltSmall:y("debug-alt-small",60328),vmConnect:y("vm-connect",60329),cloud:y("cloud",60330),merge:y("merge",60331),exportIcon:y("export",60332),graphLeft:y("graph-left",60333),magnet:y("magnet",60334),notebook:y("notebook",60335),redo:y("redo",60336),checkAll:y("check-all",60337),pinnedDirty:y("pinned-dirty",60338),passFilled:y("pass-filled",60339),circleLargeFilled:y("circle-large-filled",60340),circleLarge:y("circle-large",60341),circleLargeOutline:y("circle-large-outline",60341),combine:y("combine",60342),gather:y("gather",60342),table:y("table",60343),variableGroup:y("variable-group",60344),typeHierarchy:y("type-hierarchy",60345),typeHierarchySub:y("type-hierarchy-sub",60346),typeHierarchySuper:y("type-hierarchy-super",60347),gitPullRequestCreate:y("git-pull-request-create",60348),runAbove:y("run-above",60349),runBelow:y("run-below",60350),notebookTemplate:y("notebook-template",60351),debugRerun:y("debug-rerun",60352),workspaceTrusted:y("workspace-trusted",60353),workspaceUntrusted:y("workspace-untrusted",60354),workspaceUnspecified:y("workspace-unspecified",60355),terminalCmd:y("terminal-cmd",60356),terminalDebian:y("terminal-debian",60357),terminalLinux:y("terminal-linux",60358),terminalPowershell:y("terminal-powershell",60359),terminalTmux:y("terminal-tmux",60360),terminalUbuntu:y("terminal-ubuntu",60361),terminalBash:y("terminal-bash",60362),arrowSwap:y("arrow-swap",60363),copy:y("copy",60364),personAdd:y("person-add",60365),filterFilled:y("filter-filled",60366),wand:y("wand",60367),debugLineByLine:y("debug-line-by-line",60368),inspect:y("inspect",60369),layers:y("layers",60370),layersDot:y("layers-dot",60371),layersActive:y("layers-active",60372),compass:y("compass",60373),compassDot:y("compass-dot",60374),compassActive:y("compass-active",60375),azure:y("azure",60376),issueDraft:y("issue-draft",60377),gitPullRequestClosed:y("git-pull-request-closed",60378),gitPullRequestDraft:y("git-pull-request-draft",60379),debugAll:y("debug-all",60380),debugCoverage:y("debug-coverage",60381),runErrors:y("run-errors",60382),folderLibrary:y("folder-library",60383),debugContinueSmall:y("debug-continue-small",60384),beakerStop:y("beaker-stop",60385),graphLine:y("graph-line",60386),graphScatter:y("graph-scatter",60387),pieChart:y("pie-chart",60388),bracketDot:y("bracket-dot",60389),bracketError:y("bracket-error",60390),lockSmall:y("lock-small",60391),azureDevops:y("azure-devops",60392),verifiedFilled:y("verified-filled",60393),newLine:y("newline",60394),layout:y("layout",60395),layoutActivitybarLeft:y("layout-activitybar-left",60396),layoutActivitybarRight:y("layout-activitybar-right",60397),layoutPanelLeft:y("layout-panel-left",60398),layoutPanelCenter:y("layout-panel-center",60399),layoutPanelJustify:y("layout-panel-justify",60400),layoutPanelRight:y("layout-panel-right",60401),layoutPanel:y("layout-panel",60402),layoutSidebarLeft:y("layout-sidebar-left",60403),layoutSidebarRight:y("layout-sidebar-right",60404),layoutStatusbar:y("layout-statusbar",60405),layoutMenubar:y("layout-menubar",60406),layoutCentered:y("layout-centered",60407),layoutSidebarRightOff:y("layout-sidebar-right-off",60416),layoutPanelOff:y("layout-panel-off",60417),layoutSidebarLeftOff:y("layout-sidebar-left-off",60418),target:y("target",60408),indent:y("indent",60409),recordSmall:y("record-small",60410),errorSmall:y("error-small",60411),arrowCircleDown:y("arrow-circle-down",60412),arrowCircleLeft:y("arrow-circle-left",60413),arrowCircleRight:y("arrow-circle-right",60414),arrowCircleUp:y("arrow-circle-up",60415),heartFilled:y("heart-filled",60420),map:y("map",60421),mapFilled:y("map-filled",60422),circleSmall:y("circle-small",60423),bellSlash:y("bell-slash",60424),bellSlashDot:y("bell-slash-dot",60425),commentUnresolved:y("comment-unresolved",60426),gitPullRequestGoToChanges:y("git-pull-request-go-to-changes",60427),gitPullRequestNewChanges:y("git-pull-request-new-changes",60428),searchFuzzy:y("search-fuzzy",60429),commentDraft:y("comment-draft",60430),send:y("send",60431),sparkle:y("sparkle",60432),insert:y("insert",60433),mic:y("mic",60434),dialogError:y("dialog-error","error"),dialogWarning:y("dialog-warning","warning"),dialogInfo:y("dialog-info","info"),dialogClose:y("dialog-close","close"),treeItemExpanded:y("tree-item-expanded","chevron-down"),treeFilterOnTypeOn:y("tree-filter-on-type-on","list-filter"),treeFilterOnTypeOff:y("tree-filter-on-type-off","list-selection"),treeFilterClear:y("tree-filter-clear","close"),treeItemLoading:y("tree-item-loading","loading"),menuSelection:y("menu-selection","check"),menuSubmenu:y("menu-submenu","chevron-right"),menuBarMore:y("menubar-more","more"),scrollbarButtonLeft:y("scrollbar-button-left","triangle-left"),scrollbarButtonRight:y("scrollbar-button-right","triangle-right"),scrollbarButtonUp:y("scrollbar-button-up","triangle-up"),scrollbarButtonDown:y("scrollbar-button-down","triangle-down"),toolBarMore:y("toolbar-more","more"),quickInputBack:y("quick-input-back","arrow-left")}}),define(ne[47],se([1,0,20]),function(Q,e,L){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.createProxyObject=e.getAllMethodNames=e.getAllPropertyNames=e.equals=e.mixin=e.cloneAndChange=e.deepFreeze=e.deepClone=void 0;function k(n){if(!n||typeof n!="object"||n instanceof RegExp)return n;const t=Array.isArray(n)?[]:{};return Object.entries(n).forEach(([a,u])=>{t[a]=u&&typeof u=="object"?k(u):u}),t}e.deepClone=k;function y(n){if(!n||typeof n!="object")return n;const t=[n];for(;t.length>0;){const a=t.shift();Object.freeze(a);for(const u in a)if(D.call(a,u)){const h=a[u];typeof h=="object"&&!Object.isFrozen(h)&&!(0,L.isTypedArray)(h)&&t.push(h)}}return n}e.deepFreeze=y;const D=Object.prototype.hasOwnProperty;function S(n,t){return f(n,t,new Set)}e.cloneAndChange=S;function f(n,t,a){if((0,L.isUndefinedOrNull)(n))return n;const u=t(n);if(typeof u<"u")return u;if(Array.isArray(n)){const h=[];for(const r of n)h.push(f(r,t,a));return h}if((0,L.isObject)(n)){if(a.has(n))throw new Error("Cannot clone recursive data-structure");a.add(n);const h={};for(const r in n)D.call(n,r)&&(h[r]=f(n[r],t,a));return a.delete(n),h}return n}function _(n,t,a=!0){return(0,L.isObject)(n)?((0,L.isObject)(t)&&Object.keys(t).forEach(u=>{u in n?a&&((0,L.isObject)(n[u])&&(0,L.isObject)(t[u])?_(n[u],t[u],a):n[u]=t[u]):n[u]=t[u]}),n):t}e.mixin=_;function g(n,t){if(n===t)return!0;if(n==null||t===null||t===void 0||typeof n!=typeof t||typeof n!="object"||Array.isArray(n)!==Array.isArray(t))return!1;let a,u;if(Array.isArray(n)){if(n.length!==t.length)return!1;for(a=0;a<n.length;a++)if(!g(n[a],t[a]))return!1}else{const h=[];for(u in n)h.push(u);h.sort();const r=[];for(u in t)r.push(u);if(r.sort(),!g(h,r))return!1;for(a=0;a<h.length;a++)if(!g(n[h[a]],t[h[a]]))return!1}return!0}e.equals=g;function C(n){let t=[];for(;Object.prototype!==n;)t=t.concat(Object.getOwnPropertyNames(n)),n=Object.getPrototypeOf(n);return t}e.getAllPropertyNames=C;function s(n){const t=[];for(const a of C(n))typeof n[a]=="function"&&t.push(a);return t}e.getAllMethodNames=s;function i(n,t){const a=h=>function(){const r=Array.prototype.slice.call(arguments,0);return t(h,r)},u={};for(const h of n)u[h]=a(h);return u}e.createProxyObject=i}),define(ne[26],se([1,0,25]),function(Q,e,L){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ThemeIcon=e.ThemeColor=void 0;var k;(function(D){function S(f){return f&&typeof f=="object"&&typeof f.id=="string"}D.isThemeColor=S})(k||(e.ThemeColor=k={}));var y;(function(D){D.iconNameSegment="[A-Za-z0-9]+",D.iconNameExpression="[A-Za-z0-9-]+",D.iconModifierExpression="~[A-Za-z]+",D.iconNameCharacter="[A-Za-z0-9~-]";const S=new RegExp(`^(${D.iconNameExpression})(${D.iconModifierExpression})?$`);function f(h){const r=S.exec(h.id);if(!r)return f(L.Codicon.error);const[,c,o]=r,d=["codicon","codicon-"+c];return o&&d.push("codicon-modifier-"+o.substring(1)),d}D.asClassNameArray=f;function _(h){return f(h).join(" ")}D.asClassName=_;function g(h){return"."+f(h).join(".")}D.asCSSSelector=g;function C(h){return h&&typeof h=="object"&&typeof h.id=="string"&&(typeof h.color>"u"||k.isThemeColor(h.color))}D.isThemeIcon=C;const s=new RegExp(`^\\$\\((${D.iconNameExpression}(?:${D.iconModifierExpression})?)\\)$`);function i(h){const r=s.exec(h);if(!r)return;const[,c]=r;return{id:c}}D.fromString=i;function n(h){return{id:h}}D.fromId=n;function t(h,r){let c=h.id;const o=c.lastIndexOf("~");return o!==-1&&(c=c.substring(0,o)),r&&(c=`${c}~${r}`),{id:c}}D.modify=t;function a(h){const r=h.id.lastIndexOf("~");if(r!==-1)return h.id.substring(r+1)}D.getModifier=a;function u(h,r){var c,o;return h.id===r.id&&((c=h.color)===null||c===void 0?void 0:c.id)===((o=r.color)===null||o===void 0?void 0:o.id)}D.isEqual=u})(y||(e.ThemeIcon=y={}))}),define(ne[120],se([1,0,72,11,26]),function(Q,e,L,k,y){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.matchesFuzzyIconAware=e.parseLabelWithIcons=e.getCodiconAriaLabel=e.stripIcons=e.markdownEscapeEscapedIcons=e.escapeIcons=void 0;const D="$(",S=new RegExp(`\\$\\(${y.ThemeIcon.iconNameExpression}(?:${y.ThemeIcon.iconModifierExpression})?\\)`,"g"),f=new RegExp(`(\\\\)?${S.source}`,"g");function _(h){return h.replace(f,(r,c)=>c?r:`\\${r}`)}e.escapeIcons=_;const g=new RegExp(`\\\\${S.source}`,"g");function C(h){return h.replace(g,r=>`\\${r}`)}e.markdownEscapeEscapedIcons=C;const s=new RegExp(`(\\s)?(\\\\)?${S.source}(\\s)?`,"g");function i(h){return h.indexOf(D)===-1?h:h.replace(s,(r,c,o,d)=>o?r:c||d||"")}e.stripIcons=i;function n(h){return h?h.replace(/\$\((.*?)\)/g,(r,c)=>` ${c} `).trim():""}e.getCodiconAriaLabel=n;const t=new RegExp(`\\$\\(${y.ThemeIcon.iconNameCharacter}+\\)`,"g");function a(h){t.lastIndex=0;let r="";const c=[];let o=0;for(;;){const d=t.lastIndex,l=t.exec(h),p=h.substring(d,l?.index);if(p.length>0){r+=p;for(let m=0;m<p.length;m++)c.push(o)}if(!l)break;o+=l[0].length}return{text:r,iconOffsets:c}}e.parseLabelWithIcons=a;function u(h,r,c=!1){const{text:o,iconOffsets:d}=r;if(!d||d.length===0)return(0,L.matchesFuzzy)(h,o,c);const l=(0,k.ltrim)(o," "),p=o.length-l.length,m=(0,L.matchesFuzzy)(h,l,c);if(m)for(const v of m){const b=d[v.start+p]+p;v.start+=b,v.end+=b}return m}e.matchesFuzzyIconAware=u}),define(ne[169],se([1,0]),function(Q,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.toUint32=e.toUint8=void 0;function L(y){return y<0?0:y>255?255:y|0}e.toUint8=L;function k(y){return y<0?0:y>4294967295?4294967295:y|0}e.toUint32=k}),define(ne[170],se([1,0]),function(Q,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.generateUuid=void 0,e.generateUuid=function(){if(typeof crypto=="object"&&typeof crypto.randomUUID=="function")return crypto.randomUUID.bind(crypto);let L;typeof crypto=="object"&&typeof crypto.getRandomValues=="function"?L=crypto.getRandomValues.bind(crypto):L=function(D){for(let S=0;S<D.length;S++)D[S]=Math.floor(Math.random()*256);return D};const k=new Uint8Array(16),y=[];for(let D=0;D<256;D++)y.push(D.toString(16).padStart(2,"0"));return function(){L(k),k[6]=k[6]&15|64,k[8]=k[8]&63|128;let S=0,f="";return f+=y[k[S++]],f+=y[k[S++]],f+=y[k[S++]],f+=y[k[S++]],f+="-",f+=y[k[S++]],f+=y[k[S++]],f+="-",f+=y[k[S++]],f+=y[k[S++]],f+="-",f+=y[k[S++]],f+=y[k[S++]],f+="-",f+=y[k[S++]],f+=y[k[S++]],f+=y[k[S++]],f+=y[k[S++]],f+=y[k[S++]],f+=y[k[S++]],f}}()}),define(ne[171],se([1,0,14,46,170]),function(Q,e,L,k,y){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.UriList=e.matchesMimeType=e.VSDataTransfer=e.createFileDataTransferItem=e.createStringDataTransferItem=void 0;function D(s){return{asString:()=>we(this,void 0,void 0,function*(){return s}),asFile:()=>{},value:typeof s=="string"?s:void 0}}e.createStringDataTransferItem=D;function S(s,i,n){const t={id:(0,y.generateUuid)(),name:s,uri:i,data:n};return{asString:()=>we(this,void 0,void 0,function*(){return""}),asFile:()=>t,value:void 0}}e.createFileDataTransferItem=S;class f{constructor(){this._entries=new Map}get size(){let i=0;for(const n of this._entries)i++;return i}has(i){return this._entries.has(this.toKey(i))}matches(i){const n=[...this._entries.keys()];return k.Iterable.some(this,([t,a])=>a.asFile())&&n.push("files"),C(_(i),n)}get(i){var n;return(n=this._entries.get(this.toKey(i)))===null||n===void 0?void 0:n[0]}append(i,n){const t=this._entries.get(i);t?t.push(n):this._entries.set(this.toKey(i),[n])}replace(i,n){this._entries.set(this.toKey(i),[n])}delete(i){this._entries.delete(this.toKey(i))}*[Symbol.iterator](){for(const[i,n]of this._entries)for(const t of n)yield[i,t]}toKey(i){return _(i)}}e.VSDataTransfer=f;function _(s){return s.toLowerCase()}function g(s,i){return C(_(s),i.map(_))}e.matchesMimeType=g;function C(s,i){if(s==="*/*")return i.length>0;if(i.includes(s))return!0;const n=s.match(/^([a-z]+)\/([a-z]+|\*)$/i);if(!n)return!1;const[t,a,u]=n;return u==="*"?i.some(h=>h.startsWith(a+"/")):!1}e.UriList=Object.freeze({create:s=>(0,L.distinct)(s.map(i=>i.toString())).join(`\r
`),split:s=>s.split(`\r
`),parse:s=>e.UriList.split(s).filter(i=>!i.startsWith("#"))})}),define(ne[265],se([10]),{}),define(ne[393],se([10]),{}),define(ne[394],se([10]),{}),define(ne[395],se([10]),{}),define(ne[396],se([10]),{}),define(ne[172],se([1,0,395,396]),function(Q,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0})}),define(ne[397],se([10]),{}),define(ne[398],se([10]),{}),define(ne[266],se([10]),{}),define(ne[267],se([10]),{}),define(ne[399],se([10]),{}),define(ne[400],se([10]),{}),define(ne[401],se([10]),{}),define(ne[402],se([10]),{}),define(ne[268],se([10]),{}),define(ne[403],se([10]),{}),define(ne[173],se([1,0,403]),function(Q,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.MOUSE_CURSOR_TEXT_CSS_CLASS_NAME=void 0,e.MOUSE_CURSOR_TEXT_CSS_CLASS_NAME="monaco-mouse-cursor-text"}),define(ne[404],se([10]),{}),define(ne[405],se([10]),{}),define(ne[406],se([10]),{}),define(ne[407],se([10]),{}),define(ne[408],se([10]),{}),define(ne[409],se([10]),{}),define(ne[410],se([10]),{}),define(ne[411],se([10]),{}),define(ne[412],se([10]),{}),define(ne[413],se([10]),{}),define(ne[414],se([10]),{}),define(ne[415],se([10]),{}),define(ne[416],se([10]),{}),define(ne[417],se([10]),{}),define(ne[418],se([10]),{}),define(ne[419],se([10]),{}),define(ne[420],se([10]),{}),define(ne[421],se([10]),{}),define(ne[422],se([10]),{}),define(ne[423],se([10]),{}),define(ne[424],se([10]),{}),define(ne[425],se([10]),{}),define(ne[426],se([10]),{}),define(ne[427],se([10]),{}),define(ne[428],se([10]),{}),define(ne[429],se([10]),{}),define(ne[430],se([10]),{}),define(ne[431],se([10]),{}),define(ne[432],se([10]),{}),define(ne[433],se([10]),{}),define(ne[434],se([10]),{}),define(ne[435],se([10]),{}),define(ne[436],se([10]),{}),define(ne[437],se([10]),{}),define(ne[438],se([10]),{}),define(ne[439],se([10]),{}),define(ne[199],se([10]),{}),define(ne[440],se([10]),{}),define(ne[441],se([10]),{}),define(ne[442],se([10]),{}),define(ne[443],se([10]),{}),define(ne[444],se([10]),{}),define(ne[445],se([10]),{}),define(ne[446],se([10]),{}),define(ne[447],se([10]),{}),define(ne[448],se([10]),{}),define(ne[449],se([10]),{}),define(ne[450],se([10]),{}),define(ne[451],se([10]),{}),define(ne[452],se([10]),{}),define(ne[453],se([10]),{}),define(ne[454],se([10]),{}),define(ne[455],se([10]),{}),define(ne[456],se([10]),{}),define(ne[457],se([10]),{}),define(ne[458],se([10]),{}),define(ne[459],se([10]),{}),define(ne[460],se([10]),{}),define(ne[461],se([10]),{}),define(ne[462],se([10]),{}),define(ne[463],se([10]),{}),define(ne[464],se([10]),{}),define(ne[465],se([10]),{}),define(ne[466],se([10]),{}),define(ne[467],se([10]),{}),define(ne[468],se([10]),{}),define(ne[469],se([10]),{}),define(ne[470],se([10]),{}),define(ne[471],se([10]),{}),define(ne[269],se([10]),{}),define(ne[472],se([10]),{}),define(ne[473],se([10]),{}),define(ne[174],se([10]),{}),define(ne[474],se([10]),{}),define(ne[59],se([1,0,35]),function(Q,e,L){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.applyFontInfo=void 0;function k(y,D){y instanceof L.FastDomNode?(y.setFontFamily(D.getMassagedFontFamily()),y.setFontWeight(D.fontWeight),y.setFontSize(D.fontSize),y.setFontFeatureSettings(D.fontFeatureSettings),y.setFontVariationSettings(D.fontVariationSettings),y.setLineHeight(D.lineHeight),y.setLetterSpacing(D.letterSpacing)):(y.style.fontFamily=D.getMassagedFontFamily(),y.style.fontWeight=D.fontWeight,y.style.fontSize=D.fontSize+"px",y.style.fontFeatureSettings=D.fontFeatureSettings,y.style.fontVariationSettings=D.fontVariationSettings,y.style.lineHeight=D.lineHeight+"px",y.style.letterSpacing=D.letterSpacing+"px")}e.applyFontInfo=k}),define(ne[475],se([1,0,59]),function(Q,e,L){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.readCharWidths=e.CharWidthRequest=void 0;class k{constructor(f,_){this.chr=f,this.type=_,this.width=0}fulfill(f){this.width=f}}e.CharWidthRequest=k;class y{constructor(f,_){this._bareFontInfo=f,this._requests=_,this._container=null,this._testElements=null}read(){this._createDomElements(),document.body.appendChild(this._container),this._readFromDomElements(),document.body.removeChild(this._container),this._container=null,this._testElements=null}_createDomElements(){const f=document.createElement("div");f.style.position="absolute",f.style.top="-50000px",f.style.width="50000px";const _=document.createElement("div");(0,L.applyFontInfo)(_,this._bareFontInfo),f.appendChild(_);const g=document.createElement("div");(0,L.applyFontInfo)(g,this._bareFontInfo),g.style.fontWeight="bold",f.appendChild(g);const C=document.createElement("div");(0,L.applyFontInfo)(C,this._bareFontInfo),C.style.fontStyle="italic",f.appendChild(C);const s=[];for(const i of this._requests){let n;i.type===0&&(n=_),i.type===2&&(n=g),i.type===1&&(n=C),n.appendChild(document.createElement("br"));const t=document.createElement("span");y._render(t,i),n.appendChild(t),s.push(t)}this._container=f,this._testElements=s}static _render(f,_){if(_.chr===" "){let g="\xA0";for(let C=0;C<8;C++)g+=g;f.innerText=g}else{let g=_.chr;for(let C=0;C<8;C++)g+=g;f.textContent=g}}_readFromDomElements(){for(let f=0,_=this._requests.length;f<_;f++){const g=this._requests[f],C=this._testElements[f];g.fulfill(C.offsetWidth/256)}}}function D(S,f){new y(S,f).read()}e.readCharWidths=D}),define(ne[200],se([1,0,2,6]),function(Q,e,L,k){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ElementSizeObserver=void 0;class y extends L.Disposable{constructor(S,f){super(),this._onDidChange=this._register(new k.Emitter),this.onDidChange=this._onDidChange.event,this._referenceDomElement=S,this._width=-1,this._height=-1,this._resizeObserver=null,this.measureReferenceDomElement(!1,f)}dispose(){this.stopObserving(),super.dispose()}getWidth(){return this._width}getHeight(){return this._height}startObserving(){if(!this._resizeObserver&&this._referenceDomElement){let S=null;const f=()=>{S?this.observe({width:S.width,height:S.height}):this.observe()};let _=!1,g=!1;const C=()=>{if(_&&!g)try{_=!1,g=!0,f()}finally{requestAnimationFrame(()=>{g=!1,C()})}};this._resizeObserver=new ResizeObserver(s=>{S=s&&s[0]&&s[0].contentRect?s[0].contentRect:null,_=!0,C()}),this._resizeObserver.observe(this._referenceDomElement)}}stopObserving(){this._resizeObserver&&(this._resizeObserver.disconnect(),this._resizeObserver=null)}observe(S){this.measureReferenceDomElement(!0,S)}measureReferenceDomElement(S,f){let _=0,g=0;f?(_=f.width,g=f.height):this._referenceDomElement&&(_=this._referenceDomElement.clientWidth,g=this._referenceDomElement.clientHeight),_=Math.max(5,_),g=Math.max(5,g),(this._width!==_||this._height!==g)&&(this._width=_,this._height=g,S&&this._onDidChange.fire())}}e.ElementSizeObserver=y}),define(ne[476],se([1,0]),function(Q,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.migrateOptions=e.EditorSettingMigration=void 0;class L{constructor(_,g){this.key=_,this.migrate=g}apply(_){const g=L._read(_,this.key),C=i=>L._read(_,i),s=(i,n)=>L._write(_,i,n);this.migrate(g,C,s)}static _read(_,g){if(typeof _>"u")return;const C=g.indexOf(".");if(C>=0){const s=g.substring(0,C);return this._read(_[s],g.substring(C+1))}return _[g]}static _write(_,g,C){const s=g.indexOf(".");if(s>=0){const i=g.substring(0,s);_[i]=_[i]||{},this._write(_[i],g.substring(s+1),C);return}_[g]=C}}e.EditorSettingMigration=L,L.items=[];function k(f,_){L.items.push(new L(f,_))}function y(f,_){k(f,(g,C,s)=>{if(typeof g<"u"){for(const[i,n]of _)if(g===i){s(f,n);return}}})}function D(f){L.items.forEach(_=>_.apply(f))}e.migrateOptions=D,y("wordWrap",[[!0,"on"],[!1,"off"]]),y("lineNumbers",[[!0,"on"],[!1,"off"]]),y("cursorBlinking",[["visible","solid"]]),y("renderWhitespace",[[!0,"boundary"],[!1,"none"]]),y("renderLineHighlight",[[!0,"line"],[!1,"none"]]),y("acceptSuggestionOnEnter",[[!0,"on"],[!1,"off"]]),y("tabCompletion",[[!1,"off"],[!0,"onlySnippets"]]),y("hover",[[!0,{enabled:!0}],[!1,{enabled:!1}]]),y("parameterHints",[[!0,{enabled:!0}],[!1,{enabled:!1}]]),y("autoIndent",[[!1,"advanced"],[!0,"full"]]),y("matchBrackets",[[!0,"always"],[!1,"never"]]),y("renderFinalNewline",[[!0,"on"],[!1,"off"]]),y("cursorSmoothCaretAnimation",[[!0,"on"],[!1,"off"]]),k("autoClosingBrackets",(f,_,g)=>{f===!1&&(g("autoClosingBrackets","never"),typeof _("autoClosingQuotes")>"u"&&g("autoClosingQuotes","never"),typeof _("autoSurround")>"u"&&g("autoSurround","never"))}),k("renderIndentGuides",(f,_,g)=>{typeof f<"u"&&(g("renderIndentGuides",void 0),typeof _("guides.indentation")>"u"&&g("guides.indentation",!!f))}),k("highlightActiveIndentGuide",(f,_,g)=>{typeof f<"u"&&(g("highlightActiveIndentGuide",void 0),typeof _("guides.highlightActiveIndentation")>"u"&&g("guides.highlightActiveIndentation",!!f))});const S={method:"showMethods",function:"showFunctions",constructor:"showConstructors",deprecated:"showDeprecated",field:"showFields",variable:"showVariables",class:"showClasses",struct:"showStructs",interface:"showInterfaces",module:"showModules",property:"showProperties",event:"showEvents",operator:"showOperators",unit:"showUnits",value:"showValues",constant:"showConstants",enum:"showEnums",enumMember:"showEnumMembers",keyword:"showKeywords",text:"showWords",color:"showColors",file:"showFiles",reference:"showReferences",folder:"showFolders",typeParameter:"showTypeParameters",snippet:"showSnippets"};k("suggest.filteredTypes",(f,_,g)=>{if(f&&typeof f=="object"){for(const C of Object.entries(S))f[C[0]]===!1&&typeof _(`suggest.${C[1]}`)>"u"&&g(`suggest.${C[1]}`,!1);g("suggest.filteredTypes",void 0)}}),k("quickSuggestions",(f,_,g)=>{if(typeof f=="boolean"){const C=f?"on":"off";g("quickSuggestions",{comments:C,strings:C,other:C})}}),k("experimental.stickyScroll.enabled",(f,_,g)=>{typeof f=="boolean"&&(g("experimental.stickyScroll.enabled",void 0),typeof _("stickyScroll.enabled")>"u"&&g("stickyScroll.enabled",f))}),k("experimental.stickyScroll.maxLineCount",(f,_,g)=>{typeof f=="number"&&(g("experimental.stickyScroll.maxLineCount",void 0),typeof _("stickyScroll.maxLineCount")>"u"&&g("stickyScroll.maxLineCount",f))})}),define(ne[201],se([1,0,6]),function(Q,e,L){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.TabFocus=void 0;class k{constructor(){this._tabFocusTerminal=!1,this._tabFocusEditor=!1,this._onDidChangeTabFocus=new L.Emitter,this.onDidChangeTabFocus=this._onDidChangeTabFocus.event}getTabFocusMode(D){return D==="terminalFocus"?this._tabFocusTerminal:this._tabFocusEditor}setTabFocusMode(D,S){S==="terminalFocus"?this._tabFocusTerminal=D:this._tabFocusEditor=D,this._onDidChangeTabFocus.fire()}}e.TabFocus=new k}),define(ne[108],se([1,0]),function(Q,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.StableEditorScrollState=void 0;class L{static capture(y){if(y.getScrollTop()===0||y.hasPendingScrollAnimation())return new L(y.getScrollTop(),y.getContentHeight(),null,0,null);let D=null,S=0;const f=y.getVisibleRanges();if(f.length>0){D=f[0].getStartPosition();const _=y.getTopForPosition(D.lineNumber,D.column);S=y.getScrollTop()-_}return new L(y.getScrollTop(),y.getContentHeight(),D,S,y.getPosition())}constructor(y,D,S,f,_){this._initialScrollTop=y,this._initialContentHeight=D,this._visiblePosition=S,this._visiblePositionScrollDelta=f,this._cursorPosition=_}restore(y){if(!(this._initialContentHeight===y.getContentHeight()&&this._initialScrollTop===y.getScrollTop())&&this._visiblePosition){const D=y.getTopForPosition(this._visiblePosition.lineNumber,this._visiblePosition.column);y.setScrollTop(D+this._visiblePositionScrollDelta)}}restoreRelativeVerticalPositionOfCursor(y){if(this._initialContentHeight===y.getContentHeight()&&this._initialScrollTop===y.getScrollTop())return;const D=y.getPosition();if(!this._cursorPosition||!D)return;const S=y.getTopForLineNumber(D.lineNumber)-y.getTopForLineNumber(this._cursorPosition.lineNumber);y.setScrollTop(y.getScrollTop()+S)}}e.StableEditorScrollState=L}),define(ne[144],se([1,0]),function(Q,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.VisibleRanges=e.HorizontalPosition=e.FloatHorizontalRange=e.HorizontalRange=e.LineVisibleRanges=e.RenderingContext=e.RestrictedRenderingContext=void 0;class L{constructor(C,s){this._restrictedRenderingContextBrand=void 0,this._viewLayout=C,this.viewportData=s,this.scrollWidth=this._viewLayout.getScrollWidth(),this.scrollHeight=this._viewLayout.getScrollHeight(),this.visibleRange=this.viewportData.visibleRange,this.bigNumbersDelta=this.viewportData.bigNumbersDelta;const i=this._viewLayout.getCurrentViewport();this.scrollTop=i.top,this.scrollLeft=i.left,this.viewportWidth=i.width,this.viewportHeight=i.height}getScrolledTopFromAbsoluteTop(C){return C-this.scrollTop}getVerticalOffsetForLineNumber(C,s){return this._viewLayout.getVerticalOffsetForLineNumber(C,s)}getVerticalOffsetAfterLineNumber(C,s){return this._viewLayout.getVerticalOffsetAfterLineNumber(C,s)}getDecorationsInViewport(){return this.viewportData.getDecorationsInViewport()}}e.RestrictedRenderingContext=L;class k extends L{constructor(C,s,i){super(C,s),this._renderingContextBrand=void 0,this._viewLines=i}linesVisibleRangesForRange(C,s){return this._viewLines.linesVisibleRangesForRange(C,s)}visibleRangeForPosition(C){return this._viewLines.visibleRangeForPosition(C)}}e.RenderingContext=k;class y{constructor(C,s,i,n){this.outsideRenderedLine=C,this.lineNumber=s,this.ranges=i,this.continuesOnNextLine=n}}e.LineVisibleRanges=y;class D{static from(C){const s=new Array(C.length);for(let i=0,n=C.length;i<n;i++){const t=C[i];s[i]=new D(t.left,t.width)}return s}constructor(C,s){this._horizontalRangeBrand=void 0,this.left=Math.round(C),this.width=Math.round(s)}toString(){return`[${this.left},${this.width}]`}}e.HorizontalRange=D;class S{constructor(C,s){this._floatHorizontalRangeBrand=void 0,this.left=C,this.width=s}toString(){return`[${this.left},${this.width}]`}static compare(C,s){return C.left-s.left}}e.FloatHorizontalRange=S;class f{constructor(C,s){this.outsideRenderedLine=C,this.originalLeft=s,this.left=Math.round(this.originalLeft)}}e.HorizontalPosition=f;class _{constructor(C,s){this.outsideRenderedLine=C,this.ranges=s}}e.VisibleRanges=_}),define(ne[477],se([1,0]),function(Q,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.DomReadingContext=void 0;class L{get didDomLayout(){return this._didDomLayout}readClientRect(){if(!this._clientRectRead){this._clientRectRead=!0;const y=this._domNode.getBoundingClientRect();this.markDidDomLayout(),this._clientRectDeltaLeft=y.left,this._clientRectScale=y.width/this._domNode.offsetWidth}}get clientRectDeltaLeft(){return this._clientRectRead||this.readClientRect(),this._clientRectDeltaLeft}get clientRectScale(){return this._clientRectRead||this.readClientRect(),this._clientRectScale}constructor(y,D){this._domNode=y,this.endNode=D,this._didDomLayout=!1,this._clientRectDeltaLeft=0,this._clientRectScale=1,this._clientRectRead=!1}markDidDomLayout(){this._didDomLayout=!0}}e.DomReadingContext=L}),define(ne[478],se([1,0,144]),function(Q,e,L){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.RangeUtil=void 0;class k{static _createRange(){return this._handyReadyRange||(this._handyReadyRange=document.createRange()),this._handyReadyRange}static _detachRange(D,S){D.selectNodeContents(S)}static _readClientRects(D,S,f,_,g){const C=this._createRange();try{return C.setStart(D,S),C.setEnd(f,_),C.getClientRects()}catch{return null}finally{this._detachRange(C,g)}}static _mergeAdjacentRanges(D){if(D.length===1)return D;D.sort(L.FloatHorizontalRange.compare);const S=[];let f=0,_=D[0];for(let g=1,C=D.length;g<C;g++){const s=D[g];_.left+_.width+.9>=s.left?_.width=Math.max(_.width,s.left+s.width-_.left):(S[f++]=_,_=s)}return S[f++]=_,S}static _createHorizontalRangesFromClientRects(D,S,f){if(!D||D.length===0)return null;const _=[];for(let g=0,C=D.length;g<C;g++){const s=D[g];_[g]=new L.FloatHorizontalRange(Math.max(0,(s.left-S)/f),s.width/f)}return this._mergeAdjacentRanges(_)}static readHorizontalRanges(D,S,f,_,g,C){const i=D.children.length-1;if(0>i)return null;if(S=Math.min(i,Math.max(0,S)),_=Math.min(i,Math.max(0,_)),S===_&&f===g&&f===0&&!D.children[S].firstChild){const u=D.children[S].getClientRects();return C.markDidDomLayout(),this._createHorizontalRangesFromClientRects(u,C.clientRectDeltaLeft,C.clientRectScale)}S!==_&&_>0&&g===0&&(_--,g=1073741824);let n=D.children[S].firstChild,t=D.children[_].firstChild;if((!n||!t)&&(!n&&f===0&&S>0&&(n=D.children[S-1].firstChild,f=1073741824),!t&&g===0&&_>0&&(t=D.children[_-1].firstChild,g=1073741824)),!n||!t)return null;f=Math.min(n.textContent.length,Math.max(0,f)),g=Math.min(t.textContent.length,Math.max(0,g));const a=this._readClientRects(n,f,t,g,C.endNode);return C.markDidDomLayout(),this._createHorizontalRangesFromClientRects(a,C.clientRectDeltaLeft,C.clientRectScale)}}e.RangeUtil=k}),define(ne[270],se([1,0]),function(Q,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.getCharIndex=e.allCharCodes=void 0,e.allCharCodes=(()=>{const k=[];for(let y=32;y<=126;y++)k.push(y);return k.push(65533),k})();const L=(k,y)=>(k-=32,k<0||k>96?y<=2?(k+96)%96:96-1:k);e.getCharIndex=L}),define(ne[479],se([1,0,270,169]),function(Q,e,L,k){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.MinimapCharRenderer=void 0;class y{constructor(S,f){this.scale=f,this._minimapCharRendererBrand=void 0,this.charDataNormal=y.soften(S,12/15),this.charDataLight=y.soften(S,50/60)}static soften(S,f){const _=new Uint8ClampedArray(S.length);for(let g=0,C=S.length;g<C;g++)_[g]=(0,k.toUint8)(S[g]*f);return _}renderChar(S,f,_,g,C,s,i,n,t,a,u){const h=1*this.scale,r=2*this.scale,c=u?1:r;if(f+h>S.width||_+c>S.height){console.warn("bad render request outside image data");return}const o=a?this.charDataLight:this.charDataNormal,d=(0,L.getCharIndex)(g,t),l=S.width*4,p=i.r,m=i.g,v=i.b,b=C.r-p,w=C.g-m,E=C.b-v,I=Math.max(s,n),M=S.data;let P=d*h*r,x=_*l+f*4;for(let T=0;T<c;T++){let A=x;for(let N=0;N<h;N++){const F=o[P++]/255*(s/255);M[A++]=p+b*F,M[A++]=m+w*F,M[A++]=v+E*F,M[A++]=I}x+=l}}blockRenderChar(S,f,_,g,C,s,i,n){const t=1*this.scale,a=2*this.scale,u=n?1:a;if(f+t>S.width||_+u>S.height){console.warn("bad render request outside image data");return}const h=S.width*4,r=.5*(C/255),c=s.r,o=s.g,d=s.b,l=g.r-c,p=g.g-o,m=g.b-d,v=c+l*r,b=o+p*r,w=d+m*r,E=Math.max(C,i),I=S.data;let M=_*h+f*4;for(let P=0;P<u;P++){let x=M;for(let T=0;T<t;T++)I[x++]=v,I[x++]=b,I[x++]=w,I[x++]=E;M+=h}}}e.MinimapCharRenderer=y}),define(ne[480],se([1,0,99]),function(Q,e,L){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.prebakedMiniMaps=void 0;const k={0:0,1:1,2:2,3:3,4:4,5:5,6:6,7:7,8:8,9:9,A:10,B:11,C:12,D:13,E:14,F:15},y=D=>{const S=new Uint8ClampedArray(D.length/2);for(let f=0;f<D.length;f+=2)S[f>>1]=k[D[f]]<<4|k[D[f+1]]&15;return S};e.prebakedMiniMaps={1:(0,L.once)(()=>y("0000511D6300CF609C709645A78432005642574171487021003C451900274D35D762755E8B629C5BA856AF57BA649530C167D1512A272A3F6038604460398526BCA2A968DB6F8957C768BE5FBE2FB467CF5D8D5B795DC7625B5DFF50DE64C466DB2FC47CD860A65E9A2EB96CB54CE06DA763AB2EA26860524D3763536601005116008177A8705E53AB738E6A982F88BAA35B5F5B626D9C636B449B737E5B7B678598869A662F6B5B8542706C704C80736A607578685B70594A49715A4522E792")),2:(0,L.once)(()=>y("000000000000000055394F383D2800008B8B1F210002000081B1CBCBCC820000847AAF6B9AAF2119BE08B8881AD60000A44FD07DCCF107015338130C00000000385972265F390B406E2437634B4B48031B12B8A0847000001E15B29A402F0000000000004B33460B00007A752C2A0000000000004D3900000084394B82013400ABA5CFC7AD9C0302A45A3E5A98AB000089A43382D97900008BA54AA087A70A0248A6A7AE6DBE0000BF6F94987EA40A01A06DCFA7A7A9030496C32F77891D0000A99FB1A0AFA80603B29AB9CA75930D010C0948354D3900000C0948354F37460D0028BE673D8400000000AF9D7B6E00002B007AA8933400007AA642675C2700007984CFB9C3985B768772A8A6B7B20000CAAECAAFC4B700009F94A6009F840009D09F9BA4CA9C0000CC8FC76DC87F0000C991C472A2000000A894A48CA7B501079BA2C9C69BA20000B19A5D3FA89000005CA6009DA2960901B0A7F0669FB200009D009E00B7890000DAD0F5D092820000D294D4C48BD10000B5A7A4A3B1A50402CAB6CBA6A2000000B5A7A4A3B1A8044FCDADD19D9CB00000B7778F7B8AAE0803C9AB5D3F5D3F00009EA09EA0BAB006039EA0989A8C7900009B9EF4D6B7C00000A9A7816CACA80000ABAC84705D3F000096DA635CDC8C00006F486F266F263D4784006124097B00374F6D2D6D2D6D4A3A95872322000000030000000000008D8939130000000000002E22A5C9CBC70600AB25C0B5C9B400061A2DB04CA67001082AA6BEBEBFC606002321DACBC19E03087AA08B6768380000282FBAC0B8CA7A88AD25BBA5A29900004C396C5894A6000040485A6E356E9442A32CD17EADA70000B4237923628600003E2DE9C1D7B500002F25BBA5A2990000231DB6AFB4A804023025C0B5CAB588062B2CBDBEC0C706882435A75CA20000002326BD6A82A908048B4B9A5A668000002423A09CB4BB060025259C9D8A7900001C1FCAB2C7C700002A2A9387ABA200002626A4A47D6E9D14333163A0C87500004B6F9C2D643A257049364936493647358A34438355497F1A0000A24C1D590000D38DFFBDD4CD3126"))}}),define(ne[481],se([1,0,479,270,480,169]),function(Q,e,L,k,y,D){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.MinimapCharRendererFactory=void 0;class S{static create(_,g){if(this.lastCreated&&_===this.lastCreated.scale&&g===this.lastFontFamily)return this.lastCreated;let C;return y.prebakedMiniMaps[_]?C=new L.MinimapCharRenderer(y.prebakedMiniMaps[_](),_):C=S.createFromSampleData(S.createSampleData(g).data,_),this.lastFontFamily=g,this.lastCreated=C,C}static createSampleData(_){const g=document.createElement("canvas"),C=g.getContext("2d");g.style.height="16px",g.height=16,g.width=96*10,g.style.width=96*10+"px",C.fillStyle="#ffffff",C.font=`bold 16px ${_}`,C.textBaseline="middle";let s=0;for(const i of k.allCharCodes)C.fillText(String.fromCharCode(i),s,16/2),s+=10;return C.getImageData(0,0,96*10,16)}static createFromSampleData(_,g){if(_.length!==61440)throw new Error("Unexpected source in MinimapCharRenderer");const s=S._downsample(_,g);return new L.MinimapCharRenderer(s,g)}static _downsampleChar(_,g,C,s,i){const n=1*i,t=2*i;let a=s,u=0;for(let h=0;h<t;h++){const r=h/t*16,c=(h+1)/t*16;for(let o=0;o<n;o++){const d=o/n*10,l=(o+1)/n*10;let p=0,m=0;for(let b=r;b<c;b++){const w=g+Math.floor(b)*3840,E=1-(b-Math.floor(b));for(let I=d;I<l;I++){const M=1-(I-Math.floor(I)),P=w+Math.floor(I)*4,x=M*E;m+=x,p+=_[P]*_[P+3]/255*x}}const v=p/m;u=Math.max(u,v),C[a++]=(0,D.toUint8)(v)}}return u}static _downsample(_,g){const C=2*g*1*g,s=C*96,i=new Uint8ClampedArray(s);let n=0,t=0,a=0;for(let u=0;u<96;u++)a=Math.max(a,this._downsampleChar(_,t,i,n,g)),n+=C,t+=10*4;if(a>0){const u=255/a;for(let h=0;h<s;h++)i[h]*=u}return i}}e.MinimapCharRendererFactory=S}),define(ne[482],se([1,0,6,2]),function(Q,e,L,k){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.DelegatingEditor=void 0;class y extends k.Disposable{constructor(){super(...arguments),this._id=++y.idCounter,this._onDidDispose=this._register(new L.Emitter),this.onDidDispose=this._onDidDispose.event}getId(){return this.getEditorType()+":v2:"+this._id}getVisibleColumnFromPosition(S){return this._targetEditor.getVisibleColumnFromPosition(S)}getPosition(){return this._targetEditor.getPosition()}setPosition(S,f="api"){this._targetEditor.setPosition(S,f)}revealLine(S,f=0){this._targetEditor.revealLine(S,f)}revealLineInCenter(S,f=0){this._targetEditor.revealLineInCenter(S,f)}revealLineInCenterIfOutsideViewport(S,f=0){this._targetEditor.revealLineInCenterIfOutsideViewport(S,f)}revealLineNearTop(S,f=0){this._targetEditor.revealLineNearTop(S,f)}revealPosition(S,f=0){this._targetEditor.revealPosition(S,f)}revealPositionInCenter(S,f=0){this._targetEditor.revealPositionInCenter(S,f)}revealPositionInCenterIfOutsideViewport(S,f=0){this._targetEditor.revealPositionInCenterIfOutsideViewport(S,f)}revealPositionNearTop(S,f=0){this._targetEditor.revealPositionNearTop(S,f)}getSelection(){return this._targetEditor.getSelection()}getSelections(){return this._targetEditor.getSelections()}setSelection(S,f="api"){this._targetEditor.setSelection(S,f)}setSelections(S,f="api"){this._targetEditor.setSelections(S,f)}revealLines(S,f,_=0){this._targetEditor.revealLines(S,f,_)}revealLinesInCenter(S,f,_=0){this._targetEditor.revealLinesInCenter(S,f,_)}revealLinesInCenterIfOutsideViewport(S,f,_=0){this._targetEditor.revealLinesInCenterIfOutsideViewport(S,f,_)}revealLinesNearTop(S,f,_=0){this._targetEditor.revealLinesNearTop(S,f,_)}revealRange(S,f=0,_=!1,g=!0){this._targetEditor.revealRange(S,f,_,g)}revealRangeInCenter(S,f=0){this._targetEditor.revealRangeInCenter(S,f)}revealRangeInCenterIfOutsideViewport(S,f=0){this._targetEditor.revealRangeInCenterIfOutsideViewport(S,f)}revealRangeNearTop(S,f=0){this._targetEditor.revealRangeNearTop(S,f)}revealRangeNearTopIfOutsideViewport(S,f=0){this._targetEditor.revealRangeNearTopIfOutsideViewport(S,f)}revealRangeAtTop(S,f=0){this._targetEditor.revealRangeAtTop(S,f)}getSupportedActions(){return this._targetEditor.getSupportedActions()}focus(){this._targetEditor.focus()}trigger(S,f,_){this._targetEditor.trigger(S,f,_)}createDecorationsCollection(S){return this._targetEditor.createDecorationsCollection(S)}changeDecorations(S){return this._targetEditor.changeDecorations(S)}}e.DelegatingEditor=y,y.idCounter=0}),define(ne[102],se([1,0,2,42,200]),function(Q,e,L,k,y){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.applyViewZones=e.observeHotReloadableExports=e.readHotReloadableExport=e.applyStyle=e.ManagedOverlayWidget=e.PlaceholderViewZone=e.ViewZoneOverlayWidget=e.animatedObservable=e.ObservableElementSizeObserver=e.appendRemoveOnDispose=e.applyObservableDecorations=e.joinCombine=void 0;function D(r,c,o,d){if(r.length===0)return c;if(c.length===0)return r;const l=[];let p=0,m=0;for(;p<r.length&&m<c.length;){const v=r[p],b=c[m],w=o(v),E=o(b);w<E?(l.push(v),p++):w>E?(l.push(b),m++):(l.push(d(v,b)),p++,m++)}for(;p<r.length;)l.push(r[p]),p++;for(;m<c.length;)l.push(c[m]),m++;return l}e.joinCombine=D;function S(r,c){const o=new L.DisposableStore,d=r.createDecorationsCollection();return o.add((0,k.autorunOpts)({debugName:`Apply decorations from ${c.debugName}`},l=>{const p=c.read(l);d.set(p)})),o.add({dispose:()=>{d.clear()}}),o}e.applyObservableDecorations=S;function f(r,c){return r.appendChild(c),(0,L.toDisposable)(()=>{r.removeChild(c)})}e.appendRemoveOnDispose=f;class _ extends L.Disposable{get width(){return this._width}get height(){return this._height}constructor(c,o){super(),this.elementSizeObserver=this._register(new y.ElementSizeObserver(c,o)),this._width=(0,k.observableValue)("width",this.elementSizeObserver.getWidth()),this._height=(0,k.observableValue)("height",this.elementSizeObserver.getHeight()),this._register(this.elementSizeObserver.onDidChange(d=>(0,k.transaction)(l=>{this._width.set(this.elementSizeObserver.getWidth(),l),this._height.set(this.elementSizeObserver.getHeight(),l)})))}observe(c){this.elementSizeObserver.observe(c)}setAutomaticLayout(c){c?this.elementSizeObserver.startObserving():this.elementSizeObserver.stopObserving()}}e.ObservableElementSizeObserver=_;function g(r,c){let o=r.get(),d=o,l=o;const p=(0,k.observableValue)("animatedValue",o);let m=-1;const v=300;let b;c.add((0,k.autorunHandleChanges)({createEmptyChangeSummary:()=>({animate:!1}),handleChange:(E,I)=>(E.didChange(r)&&(I.animate=I.animate||E.change),!0)},(E,I)=>{b!==void 0&&(cancelAnimationFrame(b),b=void 0),d=l,o=r.read(E),m=Date.now()-(I.animate?0:v),w()}));function w(){const E=Date.now()-m;l=Math.floor(C(E,d,o-d,v)),E<v?b=requestAnimationFrame(w):l=o,p.set(l,void 0)}return p}e.animatedObservable=g;function C(r,c,o,d){return r===d?c+o:o*(-Math.pow(2,-10*r/d)+1)+c}class s extends L.Disposable{constructor(c,o,d){super(),this._register(new n(c,d)),this._register(t(d,{height:o.actualHeight,top:o.actualTop}))}}e.ViewZoneOverlayWidget=s;class i{get afterLineNumber(){return this._afterLineNumber.get()}constructor(c,o){this._afterLineNumber=c,this.heightInPx=o,this.domNode=document.createElement("div"),this._actualTop=(0,k.observableValue)("actualTop",void 0),this._actualHeight=(0,k.observableValue)("actualHeight",void 0),this.actualTop=this._actualTop,this.actualHeight=this._actualHeight,this.showInHiddenAreas=!0,this.onChange=this._afterLineNumber,this.onDomNodeTop=d=>{this._actualTop.set(d,void 0)},this.onComputedHeight=d=>{this._actualHeight.set(d,void 0)}}}e.PlaceholderViewZone=i;class n{constructor(c,o){this._editor=c,this._domElement=o,this._overlayWidgetId=`managedOverlayWidget-${n._counter++}`,this._overlayWidget={getId:()=>this._overlayWidgetId,getDomNode:()=>this._domElement,getPosition:()=>null},this._editor.addOverlayWidget(this._overlayWidget)}dispose(){this._editor.removeOverlayWidget(this._overlayWidget)}}e.ManagedOverlayWidget=n,n._counter=0;function t(r,c){return(0,k.autorun)(o=>{for(let[d,l]of Object.entries(c))l&&typeof l=="object"&&"read"in l&&(l=l.read(o)),typeof l=="number"&&(l=`${l}px`),d=d.replace(/[A-Z]/g,p=>"-"+p.toLowerCase()),r.style[d]=l})}e.applyStyle=t;function a(r,c){return u([r],c),r}e.readHotReloadableExport=a;function u(r,c){const o=globalThis.$hotReload_deprecateExports;if(!o)return;(0,k.observableSignalFromEvent)("reload",l=>{function p(m,v){return[...Object.values(m)].some(b=>r.includes(b))?(l(void 0),!0):!1}return o.add(p),{dispose(){o.delete(p)}}}).read(c)}e.observeHotReloadableExports=u;function h(r,c,o){const d=new L.DisposableStore,l=[];return d.add((0,k.autorun)(p=>{const m=c.read(p),v=new Map,b=new Map;o&&o(!0),r.changeViewZones(w=>{for(const E of l)w.removeZone(E);l.length=0;for(const E of m){const I=w.addZone(E);l.push(I),v.set(E,I)}}),o&&o(!1),d.add((0,k.autorunHandleChanges)({createEmptyChangeSummary(){return[]},handleChange(w,E){const I=b.get(w.changedObservable);return I!==void 0&&E.push(I),!0}},(w,E)=>{for(const I of m)I.onChange&&(b.set(I.onChange,v.get(I)),I.onChange.read(w));o&&o(!0),r.changeViewZones(I=>{for(const M of E)I.layoutZone(M)}),o&&o(!1)}))})),d.add({dispose(){o&&o(!0),r.changeViewZones(p=>{for(const m of l)p.removeZone(m)}),o&&o(!1)}}),d}e.applyViewZones=h}),define(ne[271],se([1,0]),function(Q,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.diffEditorDefaultOptions=void 0,e.diffEditorDefaultOptions={enableSplitViewResizing:!0,splitViewDefaultRatio:.5,renderSideBySide:!0,renderMarginRevertIcon:!0,maxComputationTime:5e3,maxFileSize:50,ignoreTrimWhitespace:!0,renderIndicators:!0,originalEditable:!1,diffCodeLens:!1,renderOverviewRuler:!0,diffWordWrap:"inherit",diffAlgorithm:"advanced",accessibilityVerbose:!1,experimental:{showMoves:!1,showEmptyDecorations:!0},hideUnchangedRegions:{enabled:!1,contextLineCount:3,minimumLineCount:3,revealLineCount:20},isInEmbeddedEditor:!1,onlyShowAccessibleDiffViewer:!1,renderSideBySideInlineBreakpoint:900,useInlineViewWhenSpaceIsLimited:!0}}),define(ne[145],se([1,0,6]),function(Q,e,L){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.EditorZoom=void 0,e.EditorZoom=new class{constructor(){this._zoomLevel=0,this._onDidChangeZoomLevel=new L.Emitter,this.onDidChangeZoomLevel=this._onDidChangeZoomLevel.event}getZoomLevel(){return this._zoomLevel}setZoomLevel(k){k=Math.min(Math.max(-5,k),20),this._zoomLevel!==k&&(this._zoomLevel=k,this._onDidChangeZoomLevel.fire(this._zoomLevel))}}}),define(ne[121],se([1,0,169]),function(Q,e,L){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.CharacterSet=e.CharacterClassifier=void 0;class k{constructor(S){const f=(0,L.toUint8)(S);this._defaultValue=f,this._asciiMap=k._createAsciiMap(f),this._map=new Map}static _createAsciiMap(S){const f=new Uint8Array(256);return f.fill(S),f}set(S,f){const _=(0,L.toUint8)(f);S>=0&&S<256?this._asciiMap[S]=_:this._map.set(S,_)}get(S){return S>=0&&S<256?this._asciiMap[S]:this._map.get(S)||this._defaultValue}clear(){this._asciiMap.fill(this._defaultValue),this._map.clear()}}e.CharacterClassifier=k;class y{constructor(){this._actual=new k(0)}add(S){this._actual.set(S,1)}has(S){return this._actual.get(S)===1}clear(){return this._actual.clear()}}e.CharacterSet=y}),define(ne[82],se([1,0,11]),function(Q,e,L){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.CursorColumns=void 0;class k{static _nextVisibleColumn(D,S,f){return D===9?k.nextRenderTabStop(S,f):L.isFullWidthCharacter(D)||L.isEmojiImprecise(D)?S+2:S+1}static visibleColumnFromColumn(D,S,f){const _=Math.min(S-1,D.length),g=D.substring(0,_),C=new L.GraphemeIterator(g);let s=0;for(;!C.eol();){const i=L.getNextCodePoint(g,_,C.offset);C.nextGraphemeLength(),s=this._nextVisibleColumn(i,s,f)}return s}static columnFromVisibleColumn(D,S,f){if(S<=0)return 1;const _=D.length,g=new L.GraphemeIterator(D);let C=0,s=1;for(;!g.eol();){const i=L.getNextCodePoint(D,_,g.offset);g.nextGraphemeLength();const n=this._nextVisibleColumn(i,C,f),t=g.offset+1;if(n>=S){const a=S-C;return n-S<a?t:s}C=n,s=t}return _+1}static nextRenderTabStop(D,S){return D+S-D%S}static nextIndentTabStop(D,S){return D+S-D%S}static prevRenderTabStop(D,S){return Math.max(0,D-1-(D-1)%S)}static prevIndentTabStop(D,S){return Math.max(0,D-1-(D-1)%S)}}e.CursorColumns=k}),define(ne[122],se([1,0]),function(Q,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.countEOL=void 0;function L(k){let y=0,D=0,S=0,f=0;for(let _=0,g=k.length;_<g;_++){const C=k.charCodeAt(_);C===13?(y===0&&(D=_),y++,_+1<g&&k.charCodeAt(_+1)===10?(f|=2,_++):f|=3,S=_+1):C===10&&(f|=1,y===0&&(D=_),y++,S=_+1)}return y===0&&(D=k.length),[y,D,k.length-S,f]}e.countEOL=L}),define(ne[202],se([1,0,11,82]),function(Q,e,L,k){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.normalizeIndentation=void 0;function y(S,f,_){let g=0;for(let s=0;s<S.length;s++)S.charAt(s)==="	"?g=k.CursorColumns.nextIndentTabStop(g,f):g++;let C="";if(!_){const s=Math.floor(g/f);g=g%f;for(let i=0;i<s;i++)C+="	"}for(let s=0;s<g;s++)C+=" ";return C}function D(S,f,_){let g=L.firstNonWhitespaceIndex(S);return g===-1&&(g=S.length),y(S.substring(0,g),f,_)+S.substring(g)}e.normalizeIndentation=D}),define(ne[90],se([1,0,9]),function(Q,e,L){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.OffsetRangeSet=e.OffsetRange=void 0;class k{static addRange(S,f){let _=0;for(;_<f.length&&f[_].endExclusive<S.start;)_++;let g=_;for(;g<f.length&&f[g].start<=S.endExclusive;)g++;if(_===g)f.splice(_,0,S);else{const C=Math.min(S.start,f[_].start),s=Math.max(S.endExclusive,f[g-1].endExclusive);f.splice(_,g-_,new k(C,s))}}static tryCreate(S,f){if(!(S>f))return new k(S,f)}static ofLength(S){return new k(0,S)}constructor(S,f){if(this.start=S,this.endExclusive=f,S>f)throw new L.BugIndicatingError(`Invalid range: ${this.toString()}`)}get isEmpty(){return this.start===this.endExclusive}delta(S){return new k(this.start+S,this.endExclusive+S)}deltaStart(S){return new k(this.start+S,this.endExclusive)}deltaEnd(S){return new k(this.start,this.endExclusive+S)}get length(){return this.endExclusive-this.start}toString(){return`[${this.start}, ${this.endExclusive})`}equals(S){return this.start===S.start&&this.endExclusive===S.endExclusive}containsRange(S){return this.start<=S.start&&S.endExclusive<=this.endExclusive}contains(S){return this.start<=S&&S<this.endExclusive}join(S){return new k(Math.min(this.start,S.start),Math.max(this.endExclusive,S.endExclusive))}intersect(S){const f=Math.max(this.start,S.start),_=Math.min(this.endExclusive,S.endExclusive);if(f<=_)return new k(f,_)}slice(S){return S.slice(this.start,this.endExclusive)}clip(S){if(this.isEmpty)throw new L.BugIndicatingError(`Invalid clipping range: ${this.toString()}`);return Math.max(this.start,Math.min(this.endExclusive-1,S))}clipCyclic(S){if(this.isEmpty)throw new L.BugIndicatingError(`Invalid clipping range: ${this.toString()}`);return S<this.start?this.endExclusive-(this.start-S)%this.length:S>=this.endExclusive?this.start+(S-this.start)%this.length:S}}e.OffsetRange=k;class y{constructor(){this._sortedRanges=[]}addRange(S){let f=0;for(;f<this._sortedRanges.length&&this._sortedRanges[f].endExclusive<S.start;)f++;let _=f;for(;_<this._sortedRanges.length&&this._sortedRanges[_].start<=S.endExclusive;)_++;if(f===_)this._sortedRanges.splice(f,0,S);else{const g=Math.min(S.start,this._sortedRanges[f].start),C=Math.max(S.endExclusive,this._sortedRanges[_-1].endExclusive);this._sortedRanges.splice(f,_-f,new k(g,C))}}toString(){return this._sortedRanges.map(S=>S.toString()).join(", ")}intersectsStrict(S){let f=0;for(;f<this._sortedRanges.length&&this._sortedRanges[f].endExclusive<=S.start;)f++;return f<this._sortedRanges.length&&this._sortedRanges[f].start<S.endExclusive}intersectWithRange(S){const f=new y;for(const _ of this._sortedRanges){const g=_.intersect(S);g&&f.addRange(g)}return f}intersectWithRangeLength(S){return this.intersectWithRange(S).length}get length(){return this._sortedRanges.reduce((S,f)=>S+f.length,0)}}e.OffsetRangeSet=y}),define(ne[12],se([1,0]),function(Q,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.Position=void 0;class L{constructor(y,D){this.lineNumber=y,this.column=D}with(y=this.lineNumber,D=this.column){return y===this.lineNumber&&D===this.column?this:new L(y,D)}delta(y=0,D=0){return this.with(this.lineNumber+y,this.column+D)}equals(y){return L.equals(this,y)}static equals(y,D){return!y&&!D?!0:!!y&&!!D&&y.lineNumber===D.lineNumber&&y.column===D.column}isBefore(y){return L.isBefore(this,y)}static isBefore(y,D){return y.lineNumber<D.lineNumber?!0:D.lineNumber<y.lineNumber?!1:y.column<D.column}isBeforeOrEqual(y){return L.isBeforeOrEqual(this,y)}static isBeforeOrEqual(y,D){return y.lineNumber<D.lineNumber?!0:D.lineNumber<y.lineNumber?!1:y.column<=D.column}static compare(y,D){const S=y.lineNumber|0,f=D.lineNumber|0;if(S===f){const _=y.column|0,g=D.column|0;return _-g}return S-f}clone(){return new L(this.lineNumber,this.column)}toString(){return"("+this.lineNumber+","+this.column+")"}static lift(y){return new L(y.lineNumber,y.column)}static isIPosition(y){return y&&typeof y.lineNumber=="number"&&typeof y.column=="number"}}e.Position=L}),define(ne[272],se([1,0,12]),function(Q,e,L){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ViewUserInputEvents=void 0;class k{constructor(D){this.onKeyDown=null,this.onKeyUp=null,this.onContextMenu=null,this.onMouseMove=null,this.onMouseLeave=null,this.onMouseDown=null,this.onMouseUp=null,this.onMouseDrag=null,this.onMouseDrop=null,this.onMouseDropCanceled=null,this.onMouseWheel=null,this._coordinatesConverter=D}emitKeyDown(D){var S;(S=this.onKeyDown)===null||S===void 0||S.call(this,D)}emitKeyUp(D){var S;(S=this.onKeyUp)===null||S===void 0||S.call(this,D)}emitContextMenu(D){var S;(S=this.onContextMenu)===null||S===void 0||S.call(this,this._convertViewToModelMouseEvent(D))}emitMouseMove(D){var S;(S=this.onMouseMove)===null||S===void 0||S.call(this,this._convertViewToModelMouseEvent(D))}emitMouseLeave(D){var S;(S=this.onMouseLeave)===null||S===void 0||S.call(this,this._convertViewToModelMouseEvent(D))}emitMouseDown(D){var S;(S=this.onMouseDown)===null||S===void 0||S.call(this,this._convertViewToModelMouseEvent(D))}emitMouseUp(D){var S;(S=this.onMouseUp)===null||S===void 0||S.call(this,this._convertViewToModelMouseEvent(D))}emitMouseDrag(D){var S;(S=this.onMouseDrag)===null||S===void 0||S.call(this,this._convertViewToModelMouseEvent(D))}emitMouseDrop(D){var S;(S=this.onMouseDrop)===null||S===void 0||S.call(this,this._convertViewToModelMouseEvent(D))}emitMouseDropCanceled(){var D;(D=this.onMouseDropCanceled)===null||D===void 0||D.call(this)}emitMouseWheel(D){var S;(S=this.onMouseWheel)===null||S===void 0||S.call(this,D)}_convertViewToModelMouseEvent(D){return D.target?{event:D.event,target:this._convertViewToModelMouseTarget(D.target)}:D}_convertViewToModelMouseTarget(D){return k.convertViewToModelMouseTarget(D,this._coordinatesConverter)}static convertViewToModelMouseTarget(D,S){const f=Object.assign({},D);return f.position&&(f.position=S.convertViewPositionToModelPosition(f.position)),f.range&&(f.range=S.convertViewRangeToModelRange(f.range)),(f.type===5||f.type===8)&&(f.detail=this.convertViewToModelViewZoneData(f.detail,S)),f}static convertViewToModelViewZoneData(D,S){return{viewZoneId:D.viewZoneId,positionBefore:D.positionBefore?S.convertViewPositionToModelPosition(D.positionBefore):D.positionBefore,positionAfter:D.positionAfter?S.convertViewPositionToModelPosition(D.positionAfter):D.positionAfter,position:S.convertViewPositionToModelPosition(D.position),afterLineNumber:S.convertViewPositionToModelPosition(new L.Position(D.afterLineNumber,1)).lineNumber}}}e.ViewUserInputEvents=k}),define(ne[5],se([1,0,12]),function(Q,e,L){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.Range=void 0;class k{constructor(D,S,f,_){D>f||D===f&&S>_?(this.startLineNumber=f,this.startColumn=_,this.endLineNumber=D,this.endColumn=S):(this.startLineNumber=D,this.startColumn=S,this.endLineNumber=f,this.endColumn=_)}isEmpty(){return k.isEmpty(this)}static isEmpty(D){return D.startLineNumber===D.endLineNumber&&D.startColumn===D.endColumn}containsPosition(D){return k.containsPosition(this,D)}static containsPosition(D,S){return!(S.lineNumber<D.startLineNumber||S.lineNumber>D.endLineNumber||S.lineNumber===D.startLineNumber&&S.column<D.startColumn||S.lineNumber===D.endLineNumber&&S.column>D.endColumn)}static strictContainsPosition(D,S){return!(S.lineNumber<D.startLineNumber||S.lineNumber>D.endLineNumber||S.lineNumber===D.startLineNumber&&S.column<=D.startColumn||S.lineNumber===D.endLineNumber&&S.column>=D.endColumn)}containsRange(D){return k.containsRange(this,D)}static containsRange(D,S){return!(S.startLineNumber<D.startLineNumber||S.endLineNumber<D.startLineNumber||S.startLineNumber>D.endLineNumber||S.endLineNumber>D.endLineNumber||S.startLineNumber===D.startLineNumber&&S.startColumn<D.startColumn||S.endLineNumber===D.endLineNumber&&S.endColumn>D.endColumn)}strictContainsRange(D){return k.strictContainsRange(this,D)}static strictContainsRange(D,S){return!(S.startLineNumber<D.startLineNumber||S.endLineNumber<D.startLineNumber||S.startLineNumber>D.endLineNumber||S.endLineNumber>D.endLineNumber||S.startLineNumber===D.startLineNumber&&S.startColumn<=D.startColumn||S.endLineNumber===D.endLineNumber&&S.endColumn>=D.endColumn)}plusRange(D){return k.plusRange(this,D)}static plusRange(D,S){let f,_,g,C;return S.startLineNumber<D.startLineNumber?(f=S.startLineNumber,_=S.startColumn):S.startLineNumber===D.startLineNumber?(f=S.startLineNumber,_=Math.min(S.startColumn,D.startColumn)):(f=D.startLineNumber,_=D.startColumn),S.endLineNumber>D.endLineNumber?(g=S.endLineNumber,C=S.endColumn):S.endLineNumber===D.endLineNumber?(g=S.endLineNumber,C=Math.max(S.endColumn,D.endColumn)):(g=D.endLineNumber,C=D.endColumn),new k(f,_,g,C)}intersectRanges(D){return k.intersectRanges(this,D)}static intersectRanges(D,S){let f=D.startLineNumber,_=D.startColumn,g=D.endLineNumber,C=D.endColumn;const s=S.startLineNumber,i=S.startColumn,n=S.endLineNumber,t=S.endColumn;return f<s?(f=s,_=i):f===s&&(_=Math.max(_,i)),g>n?(g=n,C=t):g===n&&(C=Math.min(C,t)),f>g||f===g&&_>C?null:new k(f,_,g,C)}equalsRange(D){return k.equalsRange(this,D)}static equalsRange(D,S){return!D&&!S?!0:!!D&&!!S&&D.startLineNumber===S.startLineNumber&&D.startColumn===S.startColumn&&D.endLineNumber===S.endLineNumber&&D.endColumn===S.endColumn}getEndPosition(){return k.getEndPosition(this)}static getEndPosition(D){return new L.Position(D.endLineNumber,D.endColumn)}getStartPosition(){return k.getStartPosition(this)}static getStartPosition(D){return new L.Position(D.startLineNumber,D.startColumn)}toString(){return"["+this.startLineNumber+","+this.startColumn+" -> "+this.endLineNumber+","+this.endColumn+"]"}setEndPosition(D,S){return new k(this.startLineNumber,this.startColumn,D,S)}setStartPosition(D,S){return new k(D,S,this.endLineNumber,this.endColumn)}collapseToStart(){return k.collapseToStart(this)}static collapseToStart(D){return new k(D.startLineNumber,D.startColumn,D.startLineNumber,D.startColumn)}collapseToEnd(){return k.collapseToEnd(this)}static collapseToEnd(D){return new k(D.endLineNumber,D.endColumn,D.endLineNumber,D.endColumn)}delta(D){return new k(this.startLineNumber+D,this.startColumn,this.endLineNumber+D,this.endColumn)}static fromPositions(D,S=D){return new k(D.lineNumber,D.column,S.lineNumber,S.column)}static lift(D){return D?new k(D.startLineNumber,D.startColumn,D.endLineNumber,D.endColumn):null}static isIRange(D){return D&&typeof D.startLineNumber=="number"&&typeof D.startColumn=="number"&&typeof D.endLineNumber=="number"&&typeof D.endColumn=="number"}static areIntersectingOrTouching(D,S){return!(D.endLineNumber<S.startLineNumber||D.endLineNumber===S.startLineNumber&&D.endColumn<S.startColumn||S.endLineNumber<D.startLineNumber||S.endLineNumber===D.startLineNumber&&S.endColumn<D.startColumn)}static areIntersecting(D,S){return!(D.endLineNumber<S.startLineNumber||D.endLineNumber===S.startLineNumber&&D.endColumn<=S.startColumn||S.endLineNumber<D.startLineNumber||S.endLineNumber===D.startLineNumber&&S.endColumn<=D.startColumn)}static compareRangesUsingStarts(D,S){if(D&&S){const g=D.startLineNumber|0,C=S.startLineNumber|0;if(g===C){const s=D.startColumn|0,i=S.startColumn|0;if(s===i){const n=D.endLineNumber|0,t=S.endLineNumber|0;if(n===t){const a=D.endColumn|0,u=S.endColumn|0;return a-u}return n-t}return s-i}return g-C}return(D?1:0)-(S?1:0)}static compareRangesUsingEnds(D,S){return D.endLineNumber===S.endLineNumber?D.endColumn===S.endColumn?D.startLineNumber===S.startLineNumber?D.startColumn-S.startColumn:D.startLineNumber-S.startLineNumber:D.endColumn-S.endColumn:D.endLineNumber-S.endLineNumber}static spansMultipleLines(D){return D.endLineNumber>D.startLineNumber}toJSON(){return this}}e.Range=k}),define(ne[273],se([1,0,11,5]),function(Q,e,L,k){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.PagedScreenReaderStrategy=e.TextAreaState=e._debugComposition=void 0,e._debugComposition=!1;class y{constructor(f,_,g,C,s){this.value=f,this.selectionStart=_,this.selectionEnd=g,this.selection=C,this.newlineCountBeforeSelection=s}toString(){return`[ <${this.value}>, selectionStart: ${this.selectionStart}, selectionEnd: ${this.selectionEnd}]`}static readFromTextArea(f,_){const g=f.getValue(),C=f.getSelectionStart(),s=f.getSelectionEnd();let i;if(_){const n=g.substring(0,C),t=_.value.substring(0,_.selectionStart);n===t&&(i=_.newlineCountBeforeSelection)}return new y(g,C,s,null,i)}collapseSelection(){return this.selectionStart===this.value.length?this:new y(this.value,this.value.length,this.value.length,null,void 0)}writeToTextArea(f,_,g){e._debugComposition&&console.log(`writeToTextArea ${f}: ${this.toString()}`),_.setValue(f,this.value),g&&_.setSelectionRange(f,this.selectionStart,this.selectionEnd)}deduceEditorPosition(f){var _,g,C,s,i,n,t,a;if(f<=this.selectionStart){const r=this.value.substring(f,this.selectionStart);return this._finishDeduceEditorPosition((g=(_=this.selection)===null||_===void 0?void 0:_.getStartPosition())!==null&&g!==void 0?g:null,r,-1)}if(f>=this.selectionEnd){const r=this.value.substring(this.selectionEnd,f);return this._finishDeduceEditorPosition((s=(C=this.selection)===null||C===void 0?void 0:C.getEndPosition())!==null&&s!==void 0?s:null,r,1)}const u=this.value.substring(this.selectionStart,f);if(u.indexOf(String.fromCharCode(8230))===-1)return this._finishDeduceEditorPosition((n=(i=this.selection)===null||i===void 0?void 0:i.getStartPosition())!==null&&n!==void 0?n:null,u,1);const h=this.value.substring(f,this.selectionEnd);return this._finishDeduceEditorPosition((a=(t=this.selection)===null||t===void 0?void 0:t.getEndPosition())!==null&&a!==void 0?a:null,h,-1)}_finishDeduceEditorPosition(f,_,g){let C=0,s=-1;for(;(s=_.indexOf(`
`,s+1))!==-1;)C++;return[f,g*_.length,C]}static deduceInput(f,_,g){if(!f)return{text:"",replacePrevCharCnt:0,replaceNextCharCnt:0,positionDelta:0};e._debugComposition&&(console.log("------------------------deduceInput"),console.log(`PREVIOUS STATE: ${f.toString()}`),console.log(`CURRENT STATE: ${_.toString()}`));const C=Math.min(L.commonPrefixLength(f.value,_.value),f.selectionStart,_.selectionStart),s=Math.min(L.commonSuffixLength(f.value,_.value),f.value.length-f.selectionEnd,_.value.length-_.selectionEnd),i=f.value.substring(C,f.value.length-s),n=_.value.substring(C,_.value.length-s),t=f.selectionStart-C,a=f.selectionEnd-C,u=_.selectionStart-C,h=_.selectionEnd-C;if(e._debugComposition&&(console.log(`AFTER DIFFING PREVIOUS STATE: <${i}>, selectionStart: ${t}, selectionEnd: ${a}`),console.log(`AFTER DIFFING CURRENT STATE: <${n}>, selectionStart: ${u}, selectionEnd: ${h}`)),u===h){const c=f.selectionStart-C;return e._debugComposition&&console.log(`REMOVE PREVIOUS: ${c} chars`),{text:n,replacePrevCharCnt:c,replaceNextCharCnt:0,positionDelta:0}}const r=a-t;return{text:n,replacePrevCharCnt:r,replaceNextCharCnt:0,positionDelta:0}}static deduceAndroidCompositionInput(f,_){if(!f)return{text:"",replacePrevCharCnt:0,replaceNextCharCnt:0,positionDelta:0};if(e._debugComposition&&(console.log("------------------------deduceAndroidCompositionInput"),console.log(`PREVIOUS STATE: ${f.toString()}`),console.log(`CURRENT STATE: ${_.toString()}`)),f.value===_.value)return{text:"",replacePrevCharCnt:0,replaceNextCharCnt:0,positionDelta:_.selectionEnd-f.selectionEnd};const g=Math.min(L.commonPrefixLength(f.value,_.value),f.selectionEnd),C=Math.min(L.commonSuffixLength(f.value,_.value),f.value.length-f.selectionEnd),s=f.value.substring(g,f.value.length-C),i=_.value.substring(g,_.value.length-C),n=f.selectionStart-g,t=f.selectionEnd-g,a=_.selectionStart-g,u=_.selectionEnd-g;return e._debugComposition&&(console.log(`AFTER DIFFING PREVIOUS STATE: <${s}>, selectionStart: ${n}, selectionEnd: ${t}`),console.log(`AFTER DIFFING CURRENT STATE: <${i}>, selectionStart: ${a}, selectionEnd: ${u}`)),{text:i,replacePrevCharCnt:t,replaceNextCharCnt:s.length-t,positionDelta:u-i.length}}}e.TextAreaState=y,y.EMPTY=new y("",0,0,null,void 0);class D{static _getPageOfLine(f,_){return Math.floor((f-1)/_)}static _getRangeForPage(f,_){const g=f*_,C=g+1,s=g+_;return new k.Range(C,1,s+1,1)}static fromEditorSelection(f,_,g,C){const i=D._getPageOfLine(_.startLineNumber,g),n=D._getRangeForPage(i,g),t=D._getPageOfLine(_.endLineNumber,g),a=D._getRangeForPage(t,g);let u=n.intersectRanges(new k.Range(1,1,_.startLineNumber,_.startColumn));if(C&&f.getValueLengthInRange(u,1)>500){const p=f.modifyPosition(u.getEndPosition(),-500);u=k.Range.fromPositions(p,u.getEndPosition())}const h=f.getValueInRange(u,1),r=f.getLineCount(),c=f.getLineMaxColumn(r);let o=a.intersectRanges(new k.Range(_.endLineNumber,_.endColumn,r,c));if(C&&f.getValueLengthInRange(o,1)>500){const p=f.modifyPosition(o.getStartPosition(),500);o=k.Range.fromPositions(o.getStartPosition(),p)}const d=f.getValueInRange(o,1);let l;if(i===t||i+1===t)l=f.getValueInRange(_,1);else{const p=n.intersectRanges(_),m=a.intersectRanges(_);l=f.getValueInRange(p,1)+String.fromCharCode(8230)+f.getValueInRange(m,1)}return C&&l.length>2*500&&(l=l.substring(0,500)+String.fromCharCode(8230)+l.substring(l.length-500,l.length)),new y(h+l+d,h.length,h.length+l.length,_,u.endLineNumber-u.startLineNumber)}}e.PagedScreenReaderStrategy=D}),define(ne[483],se([1,0,14,19,9,46,12,5]),function(Q,e,L,k,y,D,S,f){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.OutlineModel=e.OutlineGroup=e.OutlineElement=e.TreeElement=void 0;class _{remove(){var n;(n=this.parent)===null||n===void 0||n.children.delete(this.id)}static findId(n,t){let a;typeof n=="string"?a=`${t.id}/${n}`:(a=`${t.id}/${n.name}`,t.children.get(a)!==void 0&&(a=`${t.id}/${n.name}_${n.range.startLineNumber}_${n.range.startColumn}`));let u=a;for(let h=0;t.children.get(u)!==void 0;h++)u=`${a}_${h}`;return u}static empty(n){return n.children.size===0}}e.TreeElement=_;class g extends _{constructor(n,t,a){super(),this.id=n,this.parent=t,this.symbol=a,this.children=new Map}}e.OutlineElement=g;class C extends _{constructor(n,t,a,u){super(),this.id=n,this.parent=t,this.label=a,this.order=u,this.children=new Map}}e.OutlineGroup=C;class s extends _{static create(n,t,a){const u=new k.CancellationTokenSource(a),h=new s(t.uri),r=n.ordered(t),c=r.map((d,l)=>{var p;const m=_.findId(`provider_${l}`,h),v=new C(m,h,(p=d.displayName)!==null&&p!==void 0?p:"Unknown Outline Provider",l);return Promise.resolve(d.provideDocumentSymbols(t,u.token)).then(b=>{for(const w of b||[])s._makeOutlineElement(w,v);return v},b=>((0,y.onUnexpectedExternalError)(b),v)).then(b=>{_.empty(b)?b.remove():h._groups.set(m,b)})}),o=n.onDidChange(()=>{const d=n.ordered(t);(0,L.equals)(d,r)||u.cancel()});return Promise.all(c).then(()=>u.token.isCancellationRequested&&!a.isCancellationRequested?s.create(n,t,a):h._compact()).finally(()=>{o.dispose()})}static _makeOutlineElement(n,t){const a=_.findId(n,t),u=new g(a,t,n);if(n.children)for(const h of n.children)s._makeOutlineElement(h,u);t.children.set(u.id,u)}constructor(n){super(),this.uri=n,this.id="root",this.parent=void 0,this._groups=new Map,this.children=new Map,this.id="root",this.parent=void 0}_compact(){let n=0;for(const[t,a]of this._groups)a.children.size===0?this._groups.delete(t):n+=1;if(n!==1)this.children=this._groups;else{const t=D.Iterable.first(this._groups.values());for(const[,a]of t.children)a.parent=this,this.children.set(a.id,a)}return this}getTopLevelSymbols(){const n=[];for(const t of this.children.values())t instanceof g?n.push(t.symbol):n.push(...D.Iterable.map(t.children.values(),a=>a.symbol));return n.sort((t,a)=>f.Range.compareRangesUsingStarts(t.range,a.range))}asListOfDocumentSymbols(){const n=this.getTopLevelSymbols(),t=[];return s._flattenDocumentSymbols(t,n,""),t.sort((a,u)=>S.Position.compare(f.Range.getStartPosition(a.range),f.Range.getStartPosition(u.range))||S.Position.compare(f.Range.getEndPosition(u.range),f.Range.getEndPosition(a.range)))}static _flattenDocumentSymbols(n,t,a){for(const u of t)n.push({kind:u.kind,tags:u.tags,name:u.name,detail:u.detail,containerName:u.containerName||a,range:u.range,selectionRange:u.selectionRange,children:void 0}),u.children&&s._flattenDocumentSymbols(n,u.children,u.name)}}e.OutlineModel=s}),define(ne[73],se([1,0,5]),function(Q,e,L){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.EditOperation=void 0;class k{static insert(D,S){return{range:new L.Range(D.lineNumber,D.column,D.lineNumber,D.column),text:S,forceMoveMarkers:!0}}static delete(D){return{range:D,text:null}}static replace(D,S){return{range:D,text:S}}static replaceMove(D,S){return{range:D,text:S,forceMoveMarkers:!0}}}e.EditOperation=k}),define(ne[484],se([1,0,11,73,5]),function(Q,e,L,k,y){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.trimTrailingWhitespace=e.TrimTrailingWhitespaceCommand=void 0;class D{constructor(_,g){this._selection=_,this._cursors=g,this._selectionId=null}getEditOperations(_,g){const C=S(_,this._cursors);for(let s=0,i=C.length;s<i;s++){const n=C[s];g.addEditOperation(n.range,n.text)}this._selectionId=g.trackSelection(this._selection)}computeCursorState(_,g){return g.getTrackedSelection(this._selectionId)}}e.TrimTrailingWhitespaceCommand=D;function S(f,_){_.sort((n,t)=>n.lineNumber===t.lineNumber?n.column-t.column:n.lineNumber-t.lineNumber);for(let n=_.length-2;n>=0;n--)_[n].lineNumber===_[n+1].lineNumber&&_.splice(n,1);const g=[];let C=0,s=0;const i=_.length;for(let n=1,t=f.getLineCount();n<=t;n++){const a=f.getLineContent(n),u=a.length+1;let h=0;if(s<i&&_[s].lineNumber===n&&(h=_[s].column,s++,h===u)||a.length===0)continue;const r=L.lastNonWhitespaceIndex(a);let c=0;if(r===-1)c=1;else if(r!==a.length-1)c=r+2;else continue;c=Math.max(h,c),g[C++]=k.EditOperation.delete(new y.Range(n,c,n,u))}return g}e.trimTrailingWhitespace=S}),define(ne[66],se([1,0,9,90,5]),function(Q,e,L,k,y){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.LineRange=void 0;class D{static fromRange(f){return new D(f.startLineNumber,f.endLineNumber)}static subtract(f,_){return _?f.startLineNumber<_.startLineNumber&&_.endLineNumberExclusive<f.endLineNumberExclusive?[new D(f.startLineNumber,_.startLineNumber),new D(_.endLineNumberExclusive,f.endLineNumberExclusive)]:_.startLineNumber<=f.startLineNumber&&f.endLineNumberExclusive<=_.endLineNumberExclusive?[]:_.endLineNumberExclusive<f.endLineNumberExclusive?[new D(Math.max(_.endLineNumberExclusive,f.startLineNumber),f.endLineNumberExclusive)]:[new D(f.startLineNumber,Math.min(_.startLineNumber,f.endLineNumberExclusive))]:[f]}static joinMany(f){if(f.length===0)return[];let _=f[0];for(let g=1;g<f.length;g++)_=this.join(_,f[g]);return _}static join(f,_){if(f.length===0)return _;if(_.length===0)return f;const g=[];let C=0,s=0,i=null;for(;C<f.length||s<_.length;){let n=null;if(C<f.length&&s<_.length){const t=f[C],a=_[s];t.startLineNumber<a.startLineNumber?(n=t,C++):(n=a,s++)}else C<f.length?(n=f[C],C++):(n=_[s],s++);i===null?i=n:i.endLineNumberExclusive>=n.startLineNumber?i=new D(i.startLineNumber,Math.max(i.endLineNumberExclusive,n.endLineNumberExclusive)):(g.push(i),i=n)}return i!==null&&g.push(i),g}static ofLength(f,_){return new D(f,f+_)}static deserialize(f){return new D(f[0],f[1])}constructor(f,_){if(f>_)throw new L.BugIndicatingError(`startLineNumber ${f} cannot be after endLineNumberExclusive ${_}`);this.startLineNumber=f,this.endLineNumberExclusive=_}contains(f){return this.startLineNumber<=f&&f<this.endLineNumberExclusive}get isEmpty(){return this.startLineNumber===this.endLineNumberExclusive}delta(f){return new D(this.startLineNumber+f,this.endLineNumberExclusive+f)}deltaLength(f){return new D(this.startLineNumber,this.endLineNumberExclusive+f)}get length(){return this.endLineNumberExclusive-this.startLineNumber}join(f){return new D(Math.min(this.startLineNumber,f.startLineNumber),Math.max(this.endLineNumberExclusive,f.endLineNumberExclusive))}toString(){return`[${this.startLineNumber},${this.endLineNumberExclusive})`}intersect(f){const _=Math.max(this.startLineNumber,f.startLineNumber),g=Math.min(this.endLineNumberExclusive,f.endLineNumberExclusive);if(_<=g)return new D(_,g)}intersectsStrict(f){return this.startLineNumber<f.endLineNumberExclusive&&f.startLineNumber<this.endLineNumberExclusive}overlapOrTouch(f){return this.startLineNumber<=f.endLineNumberExclusive&&f.startLineNumber<=this.endLineNumberExclusive}equals(f){return this.startLineNumber===f.startLineNumber&&this.endLineNumberExclusive===f.endLineNumberExclusive}toInclusiveRange(){return this.isEmpty?null:new y.Range(this.startLineNumber,1,this.endLineNumberExclusive-1,Number.MAX_SAFE_INTEGER)}toExclusiveRange(){return new y.Range(this.startLineNumber,1,this.endLineNumberExclusive,1)}mapToLineArray(f){const _=[];for(let g=this.startLineNumber;g<this.endLineNumberExclusive;g++)_.push(f(g));return _}forEach(f){for(let _=this.startLineNumber;_<this.endLineNumberExclusive;_++)f(_)}serialize(){return[this.startLineNumber,this.endLineNumberExclusive]}includes(f){return this.startLineNumber<=f&&f<this.endLineNumberExclusive}toOffsetRange(){return new k.OffsetRange(this.startLineNumber-1,this.endLineNumberExclusive-1)}}e.LineRange=D}),define(ne[274],se([1,0]),function(Q,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.RGBA8=void 0;class L{constructor(y,D,S,f){this._rgba8Brand=void 0,this.r=L._clamp(y),this.g=L._clamp(D),this.b=L._clamp(S),this.a=L._clamp(f)}equals(y){return this.r===y.r&&this.g===y.g&&this.b===y.b&&this.a===y.a}static _clamp(y){return y<0?0:y>255?255:y|0}}e.RGBA8=L,L.Empty=new L(0,0,0,0)}),define(ne[24],se([1,0,12,5]),function(Q,e,L,k){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.Selection=void 0;class y extends k.Range{constructor(S,f,_,g){super(S,f,_,g),this.selectionStartLineNumber=S,this.selectionStartColumn=f,this.positionLineNumber=_,this.positionColumn=g}toString(){return"["+this.selectionStartLineNumber+","+this.selectionStartColumn+" -> "+this.positionLineNumber+","+this.positionColumn+"]"}equalsSelection(S){return y.selectionsEqual(this,S)}static selectionsEqual(S,f){return S.selectionStartLineNumber===f.selectionStartLineNumber&&S.selectionStartColumn===f.selectionStartColumn&&S.positionLineNumber===f.positionLineNumber&&S.positionColumn===f.positionColumn}getDirection(){return this.selectionStartLineNumber===this.startLineNumber&&this.selectionStartColumn===this.startColumn?0:1}setEndPosition(S,f){return this.getDirection()===0?new y(this.startLineNumber,this.startColumn,S,f):new y(S,f,this.startLineNumber,this.startColumn)}getPosition(){return new L.Position(this.positionLineNumber,this.positionColumn)}getSelectionStart(){return new L.Position(this.selectionStartLineNumber,this.selectionStartColumn)}setStartPosition(S,f){return this.getDirection()===0?new y(S,f,this.endLineNumber,this.endColumn):new y(this.endLineNumber,this.endColumn,S,f)}static fromPositions(S,f=S){return new y(S.lineNumber,S.column,f.lineNumber,f.column)}static fromRange(S,f){return f===0?new y(S.startLineNumber,S.startColumn,S.endLineNumber,S.endColumn):new y(S.endLineNumber,S.endColumn,S.startLineNumber,S.startColumn)}static liftSelection(S){return new y(S.selectionStartLineNumber,S.selectionStartColumn,S.positionLineNumber,S.positionColumn)}static selectionsArrEqual(S,f){if(S&&!f||!S&&f)return!1;if(!S&&!f)return!0;if(S.length!==f.length)return!1;for(let _=0,g=S.length;_<g;_++)if(!this.selectionsEqual(S[_],f[_]))return!1;return!0}static isISelection(S){return S&&typeof S.selectionStartLineNumber=="number"&&typeof S.selectionStartColumn=="number"&&typeof S.positionLineNumber=="number"&&typeof S.positionColumn=="number"}static createWithDirection(S,f,_,g,C){return C===0?new y(S,f,_,g):new y(_,g,S,f)}}e.Selection=y}),define(ne[123],se([1,0,24]),function(Q,e,L){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ReplaceCommandThatPreservesSelection=e.ReplaceCommandWithOffsetCursorState=e.ReplaceCommandWithoutChangingPosition=e.ReplaceCommandThatSelectsText=e.ReplaceCommand=void 0;class k{constructor(g,C,s=!1){this._range=g,this._text=C,this.insertsAutoWhitespace=s}getEditOperations(g,C){C.addTrackedEditOperation(this._range,this._text)}computeCursorState(g,C){const i=C.getInverseEditOperations()[0].range;return L.Selection.fromPositions(i.getEndPosition())}}e.ReplaceCommand=k;class y{constructor(g,C){this._range=g,this._text=C}getEditOperations(g,C){C.addTrackedEditOperation(this._range,this._text)}computeCursorState(g,C){const i=C.getInverseEditOperations()[0].range;return L.Selection.fromRange(i,0)}}e.ReplaceCommandThatSelectsText=y;class D{constructor(g,C,s=!1){this._range=g,this._text=C,this.insertsAutoWhitespace=s}getEditOperations(g,C){C.addTrackedEditOperation(this._range,this._text)}computeCursorState(g,C){const i=C.getInverseEditOperations()[0].range;return L.Selection.fromPositions(i.getStartPosition())}}e.ReplaceCommandWithoutChangingPosition=D;class S{constructor(g,C,s,i,n=!1){this._range=g,this._text=C,this._columnDeltaOffset=i,this._lineNumberDeltaOffset=s,this.insertsAutoWhitespace=n}getEditOperations(g,C){C.addTrackedEditOperation(this._range,this._text)}computeCursorState(g,C){const i=C.getInverseEditOperations()[0].range;return L.Selection.fromPositions(i.getEndPosition().delta(this._lineNumberDeltaOffset,this._columnDeltaOffset))}}e.ReplaceCommandWithOffsetCursorState=S;class f{constructor(g,C,s,i=!1){this._range=g,this._text=C,this._initialSelection=s,this._forceMoveMarkers=i,this._selectionId=null}getEditOperations(g,C){C.addTrackedEditOperation(this._range,this._text,this._forceMoveMarkers),this._selectionId=C.trackSelection(this._initialSelection)}computeCursorState(g,C){return C.getTrackedSelection(this._selectionId)}}e.ReplaceCommandThatPreservesSelection=f}),define(ne[485],se([1,0,5,24]),function(Q,e,L,k){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.CompositionSurroundSelectionCommand=e.SurroundSelectionCommand=void 0;class y{constructor(f,_,g){this._range=f,this._charBeforeSelection=_,this._charAfterSelection=g}getEditOperations(f,_){_.addTrackedEditOperation(new L.Range(this._range.startLineNumber,this._range.startColumn,this._range.startLineNumber,this._range.startColumn),this._charBeforeSelection),_.addTrackedEditOperation(new L.Range(this._range.endLineNumber,this._range.endColumn,this._range.endLineNumber,this._range.endColumn),this._charAfterSelection)}computeCursorState(f,_){const g=_.getInverseEditOperations(),C=g[0].range,s=g[1].range;return new k.Selection(C.endLineNumber,C.endColumn,s.endLineNumber,s.endColumn-this._charAfterSelection.length)}}e.SurroundSelectionCommand=y;class D{constructor(f,_,g){this._position=f,this._text=_,this._charAfter=g}getEditOperations(f,_){_.addTrackedEditOperation(new L.Range(this._position.lineNumber,this._position.column,this._position.lineNumber,this._position.column),this._text+this._charAfter)}computeCursorState(f,_){const C=_.getInverseEditOperations()[0].range;return new k.Selection(C.endLineNumber,C.startColumn,C.endLineNumber,C.endColumn-this._charAfter.length)}}e.CompositionSurroundSelectionCommand=D}),define(ne[175],se([1,0]),function(Q,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.EDITOR_MODEL_DEFAULTS=void 0,e.EDITOR_MODEL_DEFAULTS={tabSize:4,indentSize:4,insertSpaces:!0,detectIndentation:!0,trimAutoWhitespace:!0,largeFileOptimizations:!0,bracketPairColorizationOptions:{enabled:!0,independentColorPoolPerBracketType:!1}}}),define(ne[146],se([1,0,121]),function(Q,e,L){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.getMapForWordSeparators=e.WordCharacterClassifier=void 0;class k extends L.CharacterClassifier{constructor(S){super(0);for(let f=0,_=S.length;f<_;f++)this.set(S.charCodeAt(f),2);this.set(32,1),this.set(9,1)}}e.WordCharacterClassifier=k;function y(D){const S={};return f=>(S.hasOwnProperty(f)||(S[f]=D(f)),S[f])}e.getMapForWordSeparators=y(D=>new k(D))}),define(ne[147],se([1,0,46,64]),function(Q,e,L,k){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.getWordAtText=e.ensureValidWordDefinition=e.DEFAULT_WORD_REGEXP=e.USUAL_WORD_SEPARATORS=void 0,e.USUAL_WORD_SEPARATORS="`~!@#$%^&*()-=+[{]}\\|;:'\",.<>/?";function y(g=""){let C="(-?\\d*\\.\\d\\w*)|([^";for(const s of e.USUAL_WORD_SEPARATORS)g.indexOf(s)>=0||(C+="\\"+s);return C+="\\s]+)",new RegExp(C,"g")}e.DEFAULT_WORD_REGEXP=y();function D(g){let C=e.DEFAULT_WORD_REGEXP;if(g&&g instanceof RegExp)if(g.global)C=g;else{let s="g";g.ignoreCase&&(s+="i"),g.multiline&&(s+="m"),g.unicode&&(s+="u"),C=new RegExp(g.source,s)}return C.lastIndex=0,C}e.ensureValidWordDefinition=D;const S=new k.LinkedList;S.unshift({maxLen:1e3,windowSize:15,timeBudget:150});function f(g,C,s,i,n){if(n||(n=L.Iterable.first(S)),s.length>n.maxLen){let r=g-n.maxLen/2;return r<0?r=0:i+=r,s=s.substring(r,g+n.maxLen/2),f(g,C,s,i,n)}const t=Date.now(),a=g-1-i;let u=-1,h=null;for(let r=1;!(Date.now()-t>=n.timeBudget);r++){const c=a-n.windowSize*r;C.lastIndex=Math.max(0,c);const o=_(C,s,a,u);if(!o&&h||(h=o,c<=0))break;u=c}if(h){const r={word:h[0],startColumn:i+1+h.index,endColumn:i+1+h.index+h[0].length};return C.lastIndex=0,r}return null}e.getWordAtText=f;function _(g,C,s,i){let n;for(;n=g.exec(C);){const t=n.index||0;if(t<=s&&g.lastIndex>=s)return n;if(i>0&&t>i)return null}return null}}),define(ne[275],se([1,0,82]),function(Q,e,L){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.AtomicTabMoveOperations=void 0;class k{static whitespaceVisibleColumn(D,S,f){const _=D.length;let g=0,C=-1,s=-1;for(let i=0;i<_;i++){if(i===S)return[C,s,g];switch(g%f===0&&(C=i,s=g),D.charCodeAt(i)){case 32:g+=1;break;case 9:g=L.CursorColumns.nextRenderTabStop(g,f);break;default:return[-1,-1,-1]}}return S===_?[C,s,g]:[-1,-1,-1]}static atomicPosition(D,S,f,_){const g=D.length,[C,s,i]=k.whitespaceVisibleColumn(D,S,f);if(i===-1)return-1;let n;switch(_){case 0:n=!0;break;case 1:n=!1;break;case 2:if(i%f===0)return S;n=i%f<=f/2;break}if(n){if(C===-1)return-1;let u=s;for(let h=C;h<g;++h){if(u===s+f)return C;switch(D.charCodeAt(h)){case 32:u+=1;break;case 9:u=L.CursorColumns.nextRenderTabStop(u,f);break;default:return-1}}return u===s+f?C:-1}const t=L.CursorColumns.nextRenderTabStop(i,f);let a=i;for(let u=S;u<g;u++){if(a===t)return u;switch(D.charCodeAt(u)){case 32:a+=1;break;case 9:a=L.CursorColumns.nextRenderTabStop(a,f);break;default:return-1}}return a===t?g:-1}}e.AtomicTabMoveOperations=k}),define(ne[486],se([1,0]),function(Q,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.CursorContext=void 0;class L{constructor(y,D,S,f){this._cursorContextBrand=void 0,this.model=y,this.viewModel=D,this.coordinatesConverter=S,this.cursorConfig=f}}e.CursorContext=L}),define(ne[176],se([1,0,9,90]),function(Q,e,L,k){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.DateTimeout=e.InfiniteTimeout=e.SequenceDiff=e.DiffAlgorithmResult=void 0;class y{static trivial(g,C){return new y([new D(new k.OffsetRange(0,g.length),new k.OffsetRange(0,C.length))],!1)}static trivialTimedOut(g,C){return new y([new D(new k.OffsetRange(0,g.length),new k.OffsetRange(0,C.length))],!0)}constructor(g,C){this.diffs=g,this.hitTimeout=C}}e.DiffAlgorithmResult=y;class D{constructor(g,C){this.seq1Range=g,this.seq2Range=C}reverse(){return new D(this.seq2Range,this.seq1Range)}toString(){return`${this.seq1Range} <-> ${this.seq2Range}`}join(g){return new D(this.seq1Range.join(g.seq1Range),this.seq2Range.join(g.seq2Range))}delta(g){return g===0?this:new D(this.seq1Range.delta(g),this.seq2Range.delta(g))}}e.SequenceDiff=D;class S{isValid(){return!0}}e.InfiniteTimeout=S,S.instance=new S;class f{constructor(g){if(this.timeout=g,this.startTime=Date.now(),this.valid=!0,g<=0)throw new L.BugIndicatingError("timeout must be positive")}isValid(){if(!(Date.now()-this.startTime<this.timeout)&&this.valid){this.valid=!1;debugger}return this.valid}}e.DateTimeout=f}),define(ne[487],se([1,0,90,176]),function(Q,e,L,k){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.shiftSequenceDiffs=e.joinSequenceDiffs=e.removeRandomMatches=e.removeRandomLineMatches=e.smoothenSequenceDiffs=e.optimizeSequenceDiffs=void 0;function y(s,i,n){let t=n;return t=_(s,i,t),t=g(s,i,t),t}e.optimizeSequenceDiffs=y;function D(s,i,n){const t=[];for(const a of n){const u=t[t.length-1];if(!u){t.push(a);continue}a.seq1Range.start-u.seq1Range.endExclusive<=2||a.seq2Range.start-u.seq2Range.endExclusive<=2?t[t.length-1]=new k.SequenceDiff(u.seq1Range.join(a.seq1Range),u.seq2Range.join(a.seq2Range)):t.push(a)}return t}e.smoothenSequenceDiffs=D;function S(s,i,n){let t=n;if(t.length===0)return t;let a=0,u;do{u=!1;const h=[t[0]];for(let r=1;r<t.length;r++){let d=function(p,m){const v=new L.OffsetRange(o.seq1Range.endExclusive,c.seq1Range.start);return s.getText(v).replace(/\s/g,"").length<=4&&(p.seq1Range.length+p.seq2Range.length>5||m.seq1Range.length+m.seq2Range.length>5)};const c=t[r],o=h[h.length-1];d(o,c)?(u=!0,h[h.length-1]=h[h.length-1].join(c)):h.push(c)}t=h}while(a++<10&&u);return t}e.removeRandomLineMatches=S;function f(s,i,n){let t=n;if(t.length===0)return t;let a=0,u;do{u=!1;const h=[t[0]];for(let r=1;r<t.length;r++){let d=function(p,m){const v=new L.OffsetRange(o.seq1Range.endExclusive,c.seq1Range.start);if(s.countLinesIn(v)>5||v.length>500)return!1;const w=s.getText(v).trim();if(w.length>20||w.split(/\r\n|\r|\n/).length>1)return!1;const E=s.countLinesIn(p.seq1Range),I=p.seq1Range.length,M=i.countLinesIn(p.seq2Range),P=p.seq2Range.length,x=s.countLinesIn(m.seq1Range),T=m.seq1Range.length,A=i.countLinesIn(m.seq2Range),N=m.seq2Range.length,F=2*40+50;function O(W){return Math.min(W,F)}return Math.pow(Math.pow(O(E*40+I),1.5)+Math.pow(O(M*40+P),1.5),1.5)+Math.pow(Math.pow(O(x*40+T),1.5)+Math.pow(O(A*40+N),1.5),1.5)>Math.pow(Math.pow(F,1.5),1.5)*1.3};const c=t[r],o=h[h.length-1];d(o,c)?(u=!0,h[h.length-1]=h[h.length-1].join(c)):h.push(c)}t=h}while(a++<10&&u);for(let h=0;h<t.length;h++){const r=t[h];let c=r.seq1Range,o=r.seq2Range;const d=s.extendToFullLines(r.seq1Range),l=s.getText(new L.OffsetRange(d.start,r.seq1Range.start));l.length>0&&l.trim().length<=3&&r.seq1Range.length+r.seq2Range.length>100&&(c=r.seq1Range.deltaStart(-l.length),o=r.seq2Range.deltaStart(-l.length));const p=s.getText(new L.OffsetRange(r.seq1Range.endExclusive,d.endExclusive));p.length>0&&p.trim().length<=3&&r.seq1Range.length+r.seq2Range.length>150&&(c=c.deltaEnd(p.length),o=o.deltaEnd(p.length)),t[h]=new k.SequenceDiff(c,o)}return t}e.removeRandomMatches=f;function _(s,i,n){if(n.length===0)return n;const t=[];t.push(n[0]);for(let u=1;u<n.length;u++){const h=t[t.length-1];let r=n[u];if(r.seq1Range.isEmpty||r.seq2Range.isEmpty){const c=r.seq1Range.start-h.seq1Range.endExclusive;let o;for(o=1;o<=c&&!(s.getElement(r.seq1Range.start-o)!==s.getElement(r.seq1Range.endExclusive-o)||i.getElement(r.seq2Range.start-o)!==i.getElement(r.seq2Range.endExclusive-o));o++);if(o--,o===c){t[t.length-1]=new k.SequenceDiff(new L.OffsetRange(h.seq1Range.start,r.seq1Range.endExclusive-c),new L.OffsetRange(h.seq2Range.start,r.seq2Range.endExclusive-c));continue}r=r.delta(-o)}t.push(r)}const a=[];for(let u=0;u<t.length-1;u++){const h=t[u+1];let r=t[u];if(r.seq1Range.isEmpty||r.seq2Range.isEmpty){const c=h.seq1Range.start-r.seq1Range.endExclusive;let o;for(o=0;o<c&&!(s.getElement(r.seq1Range.start+o)!==s.getElement(r.seq1Range.endExclusive+o)||i.getElement(r.seq2Range.start+o)!==i.getElement(r.seq2Range.endExclusive+o));o++);if(o===c){t[u+1]=new k.SequenceDiff(new L.OffsetRange(r.seq1Range.start+c,h.seq1Range.endExclusive),new L.OffsetRange(r.seq2Range.start+c,h.seq2Range.endExclusive));continue}o>0&&(r=r.delta(o))}a.push(r)}return t.length>0&&a.push(t[t.length-1]),a}e.joinSequenceDiffs=_;function g(s,i,n){if(!s.getBoundaryScore||!i.getBoundaryScore)return n;for(let t=0;t<n.length;t++){const a=t>0?n[t-1]:void 0,u=n[t],h=t+1<n.length?n[t+1]:void 0,r=new L.OffsetRange(a?a.seq1Range.start+1:0,h?h.seq1Range.endExclusive-1:s.length),c=new L.OffsetRange(a?a.seq2Range.start+1:0,h?h.seq2Range.endExclusive-1:i.length);u.seq1Range.isEmpty?n[t]=C(u,s,i,r,c):u.seq2Range.isEmpty&&(n[t]=C(u.reverse(),i,s,c,r).reverse())}return n}e.shiftSequenceDiffs=g;function C(s,i,n,t,a){let h=1;for(;s.seq1Range.start-h>=t.start&&s.seq2Range.start-h>=a.start&&n.isStronglyEqual(s.seq2Range.start-h,s.seq2Range.endExclusive-h)&&h<100;)h++;h--;let r=0;for(;s.seq1Range.start+r<t.endExclusive&&s.seq2Range.endExclusive+r<a.endExclusive&&n.isStronglyEqual(s.seq2Range.start+r,s.seq2Range.endExclusive+r)&&r<100;)r++;if(h===0&&r===0)return s;let c=0,o=-1;for(let d=-h;d<=r;d++){const l=s.seq2Range.start+d,p=s.seq2Range.endExclusive+d,m=s.seq1Range.start+d,v=i.getBoundaryScore(m)+n.getBoundaryScore(l)+n.getBoundaryScore(p);v>o&&(o=v,c=d)}return s.delta(c)}}),define(ne[488],se([1,0,90,176]),function(Q,e,L,k){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.MyersDiffAlgorithm=void 0;class y{compute(g,C,s=k.InfiniteTimeout.instance){if(g.length===0||C.length===0)return k.DiffAlgorithmResult.trivial(g,C);function i(d,l){for(;d<g.length&&l<C.length&&g.getElement(d)===C.getElement(l);)d++,l++;return d}let n=0;const t=new S;t.set(0,i(0,0));const a=new f;a.set(0,t.get(0)===0?null:new D(null,0,0,t.get(0)));let u=0;e:for(;;){if(n++,!s.isValid())return k.DiffAlgorithmResult.trivialTimedOut(g,C);const d=-Math.min(n,C.length+n%2),l=Math.min(n,g.length+n%2);for(u=d;u<=l;u+=2){const p=u===l?-1:t.get(u+1),m=u===d?-1:t.get(u-1)+1,v=Math.min(Math.max(p,m),g.length),b=v-u;if(v>g.length||b>C.length)continue;const w=i(v,b);t.set(u,w);const E=v===p?a.get(u+1):a.get(u-1);if(a.set(u,w!==v?new D(E,v,b,w-v):E),t.get(u)===g.length&&t.get(u)-u===C.length)break e}}let h=a.get(u);const r=[];let c=g.length,o=C.length;for(;;){const d=h?h.x+h.length:0,l=h?h.y+h.length:0;if((d!==c||l!==o)&&r.push(new k.SequenceDiff(new L.OffsetRange(d,c),new L.OffsetRange(l,o))),!h)break;c=h.x,o=h.y,h=h.prev}return r.reverse(),new k.DiffAlgorithmResult(r,!1)}}e.MyersDiffAlgorithm=y;class D{constructor(g,C,s,i){this.prev=g,this.x=C,this.y=s,this.length=i}}class S{constructor(){this.positiveArr=new Int32Array(10),this.negativeArr=new Int32Array(10)}get(g){return g<0?(g=-g-1,this.negativeArr[g]):this.positiveArr[g]}set(g,C){if(g<0){if(g=-g-1,g>=this.negativeArr.length){const s=this.negativeArr;this.negativeArr=new Int32Array(s.length*2),this.negativeArr.set(s)}this.negativeArr[g]=C}else{if(g>=this.positiveArr.length){const s=this.positiveArr;this.positiveArr=new Int32Array(s.length*2),this.positiveArr.set(s)}this.positiveArr[g]=C}}}class f{constructor(){this.positiveArr=[],this.negativeArr=[]}get(g){return g<0?(g=-g-1,this.negativeArr[g]):this.positiveArr[g]}set(g,C){g<0?(g=-g-1,this.negativeArr[g]=C):this.positiveArr[g]=C}}}),define(ne[489],se([1,0]),function(Q,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.Array2D=void 0;class L{constructor(y,D){this.width=y,this.height=D,this.array=[],this.array=new Array(y*D)}get(y,D){return this.array[y+D*this.width]}set(y,D,S){this.array[y+D*this.width]=S}}e.Array2D=L}),define(ne[490],se([1,0,90,176,489]),function(Q,e,L,k,y){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.DynamicProgrammingDiffing=void 0;class D{compute(f,_,g=k.InfiniteTimeout.instance,C){if(f.length===0||_.length===0)return k.DiffAlgorithmResult.trivial(f,_);const s=new y.Array2D(f.length,_.length),i=new y.Array2D(f.length,_.length),n=new y.Array2D(f.length,_.length);for(let o=0;o<f.length;o++)for(let d=0;d<_.length;d++){if(!g.isValid())return k.DiffAlgorithmResult.trivialTimedOut(f,_);const l=o===0?0:s.get(o-1,d),p=d===0?0:s.get(o,d-1);let m;f.getElement(o)===_.getElement(d)?(o===0||d===0?m=0:m=s.get(o-1,d-1),o>0&&d>0&&i.get(o-1,d-1)===3&&(m+=n.get(o-1,d-1)),m+=C?C(o,d):1):m=-1;const v=Math.max(l,p,m);if(v===m){const b=o>0&&d>0?n.get(o-1,d-1):0;n.set(o,d,b+1),i.set(o,d,3)}else v===l?(n.set(o,d,0),i.set(o,d,1)):v===p&&(n.set(o,d,0),i.set(o,d,2));s.set(o,d,v)}const t=[];let a=f.length,u=_.length;function h(o,d){(o+1!==a||d+1!==u)&&t.push(new k.SequenceDiff(new L.OffsetRange(o+1,a),new L.OffsetRange(d+1,u))),a=o,u=d}let r=f.length-1,c=_.length-1;for(;r>=0&&c>=0;)i.get(r,c)===3?(h(r,c),r--,c--):i.get(r,c)===1?r--:c--;return h(-1,-1),t.reverse(),new k.DiffAlgorithmResult(t,!1)}}e.DynamicProgrammingDiffing=D}),define(ne[109],se([1,0,66]),function(Q,e,L){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.MovedText=e.SimpleLineRangeMapping=e.RangeMapping=e.LineRangeMapping=e.LinesDiff=void 0;class k{constructor(g,C,s){this.changes=g,this.moves=C,this.hitTimeout=s}}e.LinesDiff=k;class y{static inverse(g,C,s){const i=[];let n=1,t=1;for(const u of g){const h=new y(new L.LineRange(n,u.originalRange.startLineNumber),new L.LineRange(t,u.modifiedRange.startLineNumber),void 0);h.modifiedRange.isEmpty||i.push(h),n=u.originalRange.endLineNumberExclusive,t=u.modifiedRange.endLineNumberExclusive}const a=new y(new L.LineRange(n,C+1),new L.LineRange(t,s+1),void 0);return a.modifiedRange.isEmpty||i.push(a),i}constructor(g,C,s){this.originalRange=g,this.modifiedRange=C,this.innerChanges=s}toString(){return`{${this.originalRange.toString()}->${this.modifiedRange.toString()}}`}get changedLineCount(){return Math.max(this.originalRange.length,this.modifiedRange.length)}flip(){var g;return new y(this.modifiedRange,this.originalRange,(g=this.innerChanges)===null||g===void 0?void 0:g.map(C=>C.flip()))}}e.LineRangeMapping=y;class D{constructor(g,C){this.originalRange=g,this.modifiedRange=C}toString(){return`{${this.originalRange.toString()}->${this.modifiedRange.toString()}}`}flip(){return new D(this.modifiedRange,this.originalRange)}}e.RangeMapping=D;class S{constructor(g,C){this.original=g,this.modified=C}toString(){return`{${this.original.toString()}->${this.modified.toString()}}`}flip(){return new S(this.modified,this.original)}join(g){return new S(this.original.join(g.original),this.modified.join(g.modified))}}e.SimpleLineRangeMapping=S;class f{constructor(g,C){this.lineRangeMapping=g,this.changes=C}flip(){return new f(this.lineRangeMapping.flip(),this.changes.map(g=>g.flip()))}}e.MovedText=f}),define(ne[276],se([1,0,14,85,196,9,66,90,12,5,176,490,487,488,109]),function(Q,e,L,k,y,D,S,f,_,g,C,s,i,n,t){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.findFirstMonotonous=e.findLastMonotonous=e.LinesSliceCharSequence=e.LineSequence=e.getLineRangeMapping=e.lineRangeMappingFromRangeMappings=e.AdvancedLinesDiffComputer=void 0;class a{constructor(){this.dynamicProgrammingDiffing=new s.DynamicProgrammingDiffing,this.myersDiffingAlgorithm=new n.MyersDiffAlgorithm}computeDiff(R,K,G){if(R.length<=1&&(0,L.equals)(R,K,($,re)=>$===re))return new t.LinesDiff([],[],!1);if(R.length===1&&R[0].length===0||K.length===1&&K[0].length===0)return new t.LinesDiff([new t.LineRangeMapping(new S.LineRange(1,R.length+1),new S.LineRange(1,K.length+1),[new t.RangeMapping(new g.Range(1,1,R.length,R[0].length+1),new g.Range(1,1,K.length,K[0].length+1))])],[],!1);const Z=G.maxComputationTimeMs===0?C.InfiniteTimeout.instance:new C.DateTimeout(G.maxComputationTimeMs),J=!G.ignoreTrimWhitespace,X=new Map;function H($){let re=X.get($);return re===void 0&&(re=X.size,X.set($,re)),re}const B=R.map($=>H($.trim())),V=K.map($=>H($.trim())),Y=new v(B,R),ie=new v(V,K),ae=(()=>Y.length+ie.length<1700?this.dynamicProgrammingDiffing.compute(Y,ie,Z,($,re)=>R[$]===K[re]?K[re].length===0?.1:1+Math.log(1+K[re].length):.99):this.myersDiffingAlgorithm.compute(Y,ie))();let ce=ae.diffs,de=ae.hitTimeout;ce=(0,i.optimizeSequenceDiffs)(Y,ie,ce),ce=(0,i.removeRandomLineMatches)(Y,ie,ce);const he=[],ue=$=>{if(J)for(let re=0;re<$;re++){const oe=te+re,ge=q+re;if(R[oe]!==K[ge]){const ve=this.refineDiff(R,K,new C.SequenceDiff(new f.OffsetRange(oe,oe+1),new f.OffsetRange(ge,ge+1)),Z,J);for(const Se of ve.mappings)he.push(Se);ve.hitTimeout&&(de=!0)}}};let te=0,q=0;for(const $ of ce){(0,k.assertFn)(()=>$.seq1Range.start-te===$.seq2Range.start-q);const re=$.seq1Range.start-te;ue(re),te=$.seq1Range.endExclusive,q=$.seq2Range.endExclusive;const oe=this.refineDiff(R,K,$,Z,J);oe.hitTimeout&&(de=!0);for(const ge of oe.mappings)he.push(ge)}ue(R.length-te);const z=l(he,R,K);let ee=[];return G.computeMoves&&(ee=this.computeMoves(z,R,K,B,V,Z,J)),(0,k.assertFn)(()=>{function $(oe,ge){if(oe.lineNumber<1||oe.lineNumber>ge.length)return!1;const ve=ge[oe.lineNumber-1];return!(oe.column<1||oe.column>ve.length+1)}function re(oe,ge){return!(oe.startLineNumber<1||oe.startLineNumber>ge.length+1||oe.endLineNumberExclusive<1||oe.endLineNumberExclusive>ge.length+1)}for(const oe of z){if(!oe.innerChanges)return!1;for(const ge of oe.innerChanges)if(!($(ge.modifiedRange.getStartPosition(),K)&&$(ge.modifiedRange.getEndPosition(),K)&&$(ge.originalRange.getStartPosition(),R)&&$(ge.originalRange.getEndPosition(),R)))return!1;if(!re(oe.modifiedRange,K)||!re(oe.originalRange,R))return!1}return!0}),new t.LinesDiff(z,ee,de)}computeMoves(R,K,G,Z,J,X,H){const B=[],V=R.filter(z=>z.modifiedRange.isEmpty&&z.originalRange.length>=3).map(z=>new U(z.originalRange,K,z)),Y=new Set(R.filter(z=>z.originalRange.isEmpty&&z.modifiedRange.length>=3).map(z=>new U(z.modifiedRange,G,z))),ie=new Set;for(const z of V){let ee=-1,$;for(const re of Y){const oe=z.computeSimilarity(re);oe>ee&&(ee=oe,$=re)}if(ee>.9&&$&&(Y.delete($),B.push(new t.SimpleLineRangeMapping(z.range,$.range)),ie.add(z.source),ie.add($.source)),!X.isValid())return[]}const ae=new y.SetMap;for(const z of R)if(!ie.has(z))for(let ee=z.originalRange.startLineNumber;ee<z.originalRange.endLineNumberExclusive-2;ee++){const $=`${Z[ee-1]}:${Z[ee+1-1]}:${Z[ee+2-1]}`;ae.add($,{range:new S.LineRange(ee,ee+3)})}const ce=[];R.sort((0,L.compareBy)(z=>z.modifiedRange.startLineNumber,L.numberComparator));for(const z of R){if(ie.has(z))continue;let ee=[];for(let $=z.modifiedRange.startLineNumber;$<z.modifiedRange.endLineNumberExclusive-2;$++){const re=`${J[$-1]}:${J[$+1-1]}:${J[$+2-1]}`,oe=new S.LineRange($,$+3),ge=[];ae.forEach(re,({range:ve})=>{for(const Le of ee)if(Le.originalLineRange.endLineNumberExclusive+1===ve.endLineNumberExclusive&&Le.modifiedLineRange.endLineNumberExclusive+1===oe.endLineNumberExclusive){Le.originalLineRange=new S.LineRange(Le.originalLineRange.startLineNumber,ve.endLineNumberExclusive),Le.modifiedLineRange=new S.LineRange(Le.modifiedLineRange.startLineNumber,oe.endLineNumberExclusive),ge.push(Le);return}const Se={modifiedLineRange:oe,originalLineRange:ve};ce.push(Se),ge.push(Se)}),ee=ge}if(!X.isValid())return[]}ce.sort((0,L.reverseOrder)((0,L.compareBy)(z=>z.modifiedLineRange.length,L.numberComparator)));const de=new r,he=new r;for(const z of ce){const ee=z.modifiedLineRange.startLineNumber-z.originalLineRange.startLineNumber,$=de.subtractFrom(z.modifiedLineRange),re=he.subtractFrom(z.originalLineRange).map(ge=>ge.delta(ee)),oe=h($,re);for(const ge of oe){if(ge.length<3)continue;const ve=ge,Se=ge.delta(-ee);B.push(new t.SimpleLineRangeMapping(Se,ve)),de.addRange(ve),he.addRange(Se)}}if(B.sort((0,L.compareBy)(z=>z.original.startLineNumber,L.numberComparator)),B.length===0)return[];let ue=[B[0]];for(let z=1;z<B.length;z++){const ee=ue[ue.length-1],$=B[z],re=$.original.startLineNumber-ee.original.endLineNumberExclusive,oe=$.modified.startLineNumber-ee.modified.endLineNumberExclusive;if(re>=0&&oe>=0&&re+oe<=2){ue[ue.length-1]=ee.join($);continue}$.original.toOffsetRange().slice(K).map(Se=>Se.trim()).join(`
`).length<=10||ue.push($)}const te=u.createOfSorted(R,z=>z.originalRange.endLineNumberExclusive,L.numberComparator);return ue=ue.filter(z=>{const ee=te.findLastItemBeforeOrEqual(z.original.startLineNumber)||new t.LineRangeMapping(new S.LineRange(1,1),new S.LineRange(1,1),[]),$=z.modified.startLineNumber-ee.modifiedRange.endLineNumberExclusive,re=z.original.startLineNumber-ee.originalRange.endLineNumberExclusive;return $!==re}),ue.map(z=>{const ee=this.refineDiff(K,G,new C.SequenceDiff(z.original.toOffsetRange(),z.modified.toOffsetRange()),X,H),$=l(ee.mappings,K,G,!0);return new t.MovedText(z,$)})}refineDiff(R,K,G,Z,J){const X=new w(R,G.seq1Range,J),H=new w(K,G.seq2Range,J),B=X.length+H.length<500?this.dynamicProgrammingDiffing.compute(X,H,Z):this.myersDiffingAlgorithm.compute(X,H,Z);let V=B.diffs;return V=(0,i.optimizeSequenceDiffs)(X,H,V),V=o(X,H,V),V=(0,i.smoothenSequenceDiffs)(X,H,V),V=(0,i.removeRandomMatches)(X,H,V),{mappings:V.map(ie=>new t.RangeMapping(X.translateRange(ie.seq1Range),H.translateRange(ie.seq2Range))),hitTimeout:B.hitTimeout}}}e.AdvancedLinesDiffComputer=a;class u{static createOfSorted(R,K,G){return new u(R,K,G)}constructor(R,K,G){this._items=R,this._itemToDomain=K,this._domainComparator=G,this._currentIdx=0,this._lastValue=void 0,this._hasLastValue=!1}findLastItemBeforeOrEqual(R){if(this._hasLastValue&&L.CompareResult.isLessThan(this._domainComparator(R,this._lastValue)))throw new D.BugIndicatingError;for(this._lastValue=R,this._hasLastValue=!0;this._currentIdx<this._items.length&&L.CompareResult.isLessThanOrEqual(this._domainComparator(this._itemToDomain(this._items[this._currentIdx]),R));)this._currentIdx++;return this._currentIdx===0?void 0:this._items[this._currentIdx-1]}}function h(j,R){const K=[];let G=0,Z=0;for(;G<j.length&&Z<R.length;){const J=j[G],X=R[Z],H=J.intersect(X);H&&!H.isEmpty&&K.push(H),J.endLineNumberExclusive<X.endLineNumberExclusive?G++:Z++}return K}class r{constructor(){this._normalizedRanges=[]}addRange(R){const K=c(this._normalizedRanges.findIndex(Z=>Z.endLineNumberExclusive>=R.startLineNumber),this._normalizedRanges.length),G=(0,L.findLastIndex)(this._normalizedRanges,Z=>Z.startLineNumber<=R.endLineNumberExclusive)+1;if(K===G)this._normalizedRanges.splice(K,0,R);else if(K===G-1){const Z=this._normalizedRanges[K];this._normalizedRanges[K]=Z.join(R)}else{const Z=this._normalizedRanges[K].join(this._normalizedRanges[G-1]).join(R);this._normalizedRanges.splice(K,G-K,Z)}}subtractFrom(R){const K=c(this._normalizedRanges.findIndex(X=>X.endLineNumberExclusive>=R.startLineNumber),this._normalizedRanges.length),G=(0,L.findLastIndex)(this._normalizedRanges,X=>X.startLineNumber<=R.endLineNumberExclusive)+1;if(K===G)return[R];const Z=[];let J=R.startLineNumber;for(let X=K;X<G;X++){const H=this._normalizedRanges[X];H.startLineNumber>J&&Z.push(new S.LineRange(J,H.startLineNumber)),J=H.endLineNumberExclusive}return J<R.endLineNumberExclusive&&Z.push(new S.LineRange(J,R.endLineNumberExclusive)),Z}}function c(j,R){return j===-1?R:j}function o(j,R,K){const G=[];let Z;function J(){if(!Z)return;const H=Z.s1Range.length-Z.deleted,B=Z.s2Range.length-Z.added;Math.max(Z.deleted,Z.added)+(Z.count-1)>H&&G.push(new C.SequenceDiff(Z.s1Range,Z.s2Range)),Z=void 0}for(const H of K){let B=function(ce,de){var he,ue,te,q;if(!Z||!Z.s1Range.containsRange(ce)||!Z.s2Range.containsRange(de))if(Z&&!(Z.s1Range.endExclusive<ce.start&&Z.s2Range.endExclusive<de.start)){const $=f.OffsetRange.tryCreate(Z.s1Range.endExclusive,ce.start),re=f.OffsetRange.tryCreate(Z.s2Range.endExclusive,de.start);Z.deleted+=(he=$?.length)!==null&&he!==void 0?he:0,Z.added+=(ue=re?.length)!==null&&ue!==void 0?ue:0,Z.s1Range=Z.s1Range.join(ce),Z.s2Range=Z.s2Range.join(de)}else J(),Z={added:0,deleted:0,count:0,s1Range:ce,s2Range:de};const z=ce.intersect(H.seq1Range),ee=de.intersect(H.seq2Range);Z.count++,Z.deleted+=(te=z?.length)!==null&&te!==void 0?te:0,Z.added+=(q=ee?.length)!==null&&q!==void 0?q:0};const V=j.findWordContaining(H.seq1Range.start-1),Y=R.findWordContaining(H.seq2Range.start-1),ie=j.findWordContaining(H.seq1Range.endExclusive),ae=R.findWordContaining(H.seq2Range.endExclusive);V&&ie&&Y&&ae&&V.equals(ie)&&Y.equals(ae)?B(V,Y):(V&&Y&&B(V,Y),ie&&ae&&B(ie,ae))}return J(),d(K,G)}function d(j,R){const K=[];for(;j.length>0||R.length>0;){const G=j[0],Z=R[0];let J;G&&(!Z||G.seq1Range.start<Z.seq1Range.start)?J=j.shift():J=R.shift(),K.length>0&&K[K.length-1].seq1Range.endExclusive>=J.seq1Range.start?K[K.length-1]=K[K.length-1].join(J):K.push(J)}return K}function l(j,R,K,G=!1){const Z=[];for(const J of m(j.map(X=>p(X,R,K)),(X,H)=>X.originalRange.overlapOrTouch(H.originalRange)||X.modifiedRange.overlapOrTouch(H.modifiedRange))){const X=J[0],H=J[J.length-1];Z.push(new t.LineRangeMapping(X.originalRange.join(H.originalRange),X.modifiedRange.join(H.modifiedRange),J.map(B=>B.innerChanges[0])))}return(0,k.assertFn)(()=>!G&&Z.length>0&&Z[0].originalRange.startLineNumber!==Z[0].modifiedRange.startLineNumber?!1:(0,k.checkAdjacentItems)(Z,(J,X)=>X.originalRange.startLineNumber-J.originalRange.endLineNumberExclusive===X.modifiedRange.startLineNumber-J.modifiedRange.endLineNumberExclusive&&J.originalRange.endLineNumberExclusive<X.originalRange.startLineNumber&&J.modifiedRange.endLineNumberExclusive<X.modifiedRange.startLineNumber)),Z}e.lineRangeMappingFromRangeMappings=l;function p(j,R,K){let G=0,Z=0;j.modifiedRange.endColumn===1&&j.originalRange.endColumn===1&&j.originalRange.startLineNumber+G<=j.originalRange.endLineNumber&&j.modifiedRange.startLineNumber+G<=j.modifiedRange.endLineNumber&&(Z=-1),j.modifiedRange.startColumn-1>=K[j.modifiedRange.startLineNumber-1].length&&j.originalRange.startColumn-1>=R[j.originalRange.startLineNumber-1].length&&j.originalRange.startLineNumber<=j.originalRange.endLineNumber+Z&&j.modifiedRange.startLineNumber<=j.modifiedRange.endLineNumber+Z&&(G=1);const J=new S.LineRange(j.originalRange.startLineNumber+G,j.originalRange.endLineNumber+1+Z),X=new S.LineRange(j.modifiedRange.startLineNumber+G,j.modifiedRange.endLineNumber+1+Z);return new t.LineRangeMapping(J,X,[j])}e.getLineRangeMapping=p;function*m(j,R){let K,G;for(const Z of j)G!==void 0&&R(G,Z)?K.push(Z):(K&&(yield K),K=[Z]),G=Z;K&&(yield K)}class v{constructor(R,K){this.trimmedHash=R,this.lines=K}getElement(R){return this.trimmedHash[R]}get length(){return this.trimmedHash.length}getBoundaryScore(R){const K=R===0?0:b(this.lines[R-1]),G=R===this.lines.length?0:b(this.lines[R]);return 1e3-(K+G)}getText(R){return this.lines.slice(R.start,R.endExclusive).join(`
`)}isStronglyEqual(R,K){return this.lines[R]===this.lines[K]}}e.LineSequence=v;function b(j){let R=0;for(;R<j.length&&(j.charCodeAt(R)===32||j.charCodeAt(R)===9);)R++;return R}class w{constructor(R,K,G){this.lines=R,this.considerWhitespaceChanges=G,this.elements=[],this.firstCharOffsetByLineMinusOne=[],this.additionalOffsetByLine=[];let Z=!1;K.start>0&&K.endExclusive>=R.length&&(K=new f.OffsetRange(K.start-1,K.endExclusive),Z=!0),this.lineRange=K;for(let J=this.lineRange.start;J<this.lineRange.endExclusive;J++){let X=R[J],H=0;if(Z)H=X.length,X="",Z=!1;else if(!G){const B=X.trimStart();H=X.length-B.length,X=B.trimEnd()}this.additionalOffsetByLine.push(H);for(let B=0;B<X.length;B++)this.elements.push(X.charCodeAt(B));J<R.length-1&&(this.elements.push(`
`.charCodeAt(0)),this.firstCharOffsetByLineMinusOne[J-this.lineRange.start]=this.elements.length)}this.additionalOffsetByLine.push(0)}toString(){return`Slice: "${this.text}"`}get text(){return this.getText(new f.OffsetRange(0,this.length))}getText(R){return this.elements.slice(R.start,R.endExclusive).map(K=>String.fromCharCode(K)).join("")}getElement(R){return this.elements[R]}get length(){return this.elements.length}getBoundaryScore(R){const K=N(R>0?this.elements[R-1]:-1),G=N(R<this.elements.length?this.elements[R]:-1);if(K===6&&G===7)return 0;let Z=0;return K!==G&&(Z+=10,G===1&&(Z+=1)),Z+=A(K),Z+=A(G),Z}translateOffset(R){if(this.lineRange.isEmpty)return new _.Position(this.lineRange.start+1,1);let K=0,G=this.firstCharOffsetByLineMinusOne.length;for(;K<G;){const J=Math.floor((K+G)/2);this.firstCharOffsetByLineMinusOne[J]>R?G=J:K=J+1}const Z=K===0?0:this.firstCharOffsetByLineMinusOne[K-1];return new _.Position(this.lineRange.start+K+1,R-Z+1+this.additionalOffsetByLine[K])}translateRange(R){return g.Range.fromPositions(this.translateOffset(R.start),this.translateOffset(R.endExclusive))}findWordContaining(R){if(R<0||R>=this.elements.length||!x(this.elements[R]))return;let K=R;for(;K>0&&x(this.elements[K-1]);)K--;let G=R;for(;G<this.elements.length&&x(this.elements[G]);)G++;return new f.OffsetRange(K,G)}countLinesIn(R){return this.translateOffset(R.endExclusive).lineNumber-this.translateOffset(R.start).lineNumber}isStronglyEqual(R,K){return this.elements[R]===this.elements[K]}extendToFullLines(R){var K,G;const Z=(K=I(this.firstCharOffsetByLineMinusOne,X=>X<=R.start))!==null&&K!==void 0?K:0,J=(G=P(this.firstCharOffsetByLineMinusOne,X=>R.endExclusive<=X))!==null&&G!==void 0?G:this.elements.length;return new f.OffsetRange(Z,J)}}e.LinesSliceCharSequence=w;function E(j,R){let K=0,G=j.length;for(;K<G;){const Z=Math.floor((K+G)/2);R(j[Z])?K=Z+1:G=Z}return K-1}function I(j,R){const K=E(j,R);return K===-1?void 0:j[K]}e.findLastMonotonous=I;function M(j,R){let K=0,G=j.length;for(;K<G;){const Z=Math.floor((K+G)/2);R(j[Z])?G=Z:K=Z+1}return K}function P(j,R){const K=M(j,R);return K===j.length?void 0:j[K]}e.findFirstMonotonous=P;function x(j){return j>=97&&j<=122||j>=65&&j<=90||j>=48&&j<=57}const T={[0]:0,[1]:0,[2]:0,[3]:10,[4]:2,[5]:3,[6]:10,[7]:10};function A(j){return T[j]}function N(j){return j===10?7:j===13?6:F(j)?5:j>=97&&j<=122?0:j>=65&&j<=90?1:j>=48&&j<=57?2:j===-1?3:4}function F(j){return j===32||j===9}const O=new Map;function W(j){let R=O.get(j);return R===void 0&&(R=O.size,O.set(j,R)),R}class U{constructor(R,K,G){this.range=R,this.lines=K,this.source=G,this.histogram=[];let Z=0;for(let J=R.startLineNumber-1;J<R.endLineNumberExclusive-1;J++){const X=K[J];for(let B=0;B<X.length;B++){Z++;const V=X[B],Y=W(V);this.histogram[Y]=(this.histogram[Y]||0)+1}Z++;const H=W(`
`);this.histogram[H]=(this.histogram[H]||0)+1}this.totalCount=Z}computeSimilarity(R){var K,G;let Z=0;const J=Math.max(this.histogram.length,R.histogram.length);for(let X=0;X<J;X++)Z+=Math.abs(((K=this.histogram[X])!==null&&K!==void 0?K:0)-((G=R.histogram[X])!==null&&G!==void 0?G:0));return 1-Z/(this.totalCount+R.totalCount)}}}),define(ne[491],se([1,0,168,109,11,5,85,66]),function(Q,e,L,k,y,D,S,f){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.DiffComputer=e.LegacyLinesDiffComputer=void 0;const _=3;class g{computeDiff(d,l,p){var m;const b=new u(d,l,{maxComputationTime:p.maxComputationTimeMs,shouldIgnoreTrimWhitespace:p.ignoreTrimWhitespace,shouldComputeCharChanges:!0,shouldMakePrettyDiff:!0,shouldPostProcessCharChanges:!0}).computeDiff(),w=[];let E=null;for(const I of b.changes){let M;I.originalEndLineNumber===0?M=new f.LineRange(I.originalStartLineNumber+1,I.originalStartLineNumber+1):M=new f.LineRange(I.originalStartLineNumber,I.originalEndLineNumber+1);let P;I.modifiedEndLineNumber===0?P=new f.LineRange(I.modifiedStartLineNumber+1,I.modifiedStartLineNumber+1):P=new f.LineRange(I.modifiedStartLineNumber,I.modifiedEndLineNumber+1);let x=new k.LineRangeMapping(M,P,(m=I.charChanges)===null||m===void 0?void 0:m.map(T=>new k.RangeMapping(new D.Range(T.originalStartLineNumber,T.originalStartColumn,T.originalEndLineNumber,T.originalEndColumn),new D.Range(T.modifiedStartLineNumber,T.modifiedStartColumn,T.modifiedEndLineNumber,T.modifiedEndColumn))));E&&(E.modifiedRange.endLineNumberExclusive===x.modifiedRange.startLineNumber||E.originalRange.endLineNumberExclusive===x.originalRange.startLineNumber)&&(x=new k.LineRangeMapping(E.originalRange.join(x.originalRange),E.modifiedRange.join(x.modifiedRange),E.innerChanges&&x.innerChanges?E.innerChanges.concat(x.innerChanges):void 0),w.pop()),w.push(x),E=x}return(0,S.assertFn)(()=>(0,S.checkAdjacentItems)(w,(I,M)=>M.originalRange.startLineNumber-I.originalRange.endLineNumberExclusive===M.modifiedRange.startLineNumber-I.modifiedRange.endLineNumberExclusive&&I.originalRange.endLineNumberExclusive<M.originalRange.startLineNumber&&I.modifiedRange.endLineNumberExclusive<M.modifiedRange.startLineNumber)),new k.LinesDiff(w,[],b.quitEarly)}}e.LegacyLinesDiffComputer=g;function C(o,d,l,p){return new L.LcsDiff(o,d,l).ComputeDiff(p)}class s{constructor(d){const l=[],p=[];for(let m=0,v=d.length;m<v;m++)l[m]=h(d[m],1),p[m]=r(d[m],1);this.lines=d,this._startColumns=l,this._endColumns=p}getElements(){const d=[];for(let l=0,p=this.lines.length;l<p;l++)d[l]=this.lines[l].substring(this._startColumns[l]-1,this._endColumns[l]-1);return d}getStrictElement(d){return this.lines[d]}getStartLineNumber(d){return d+1}getEndLineNumber(d){return d+1}createCharSequence(d,l,p){const m=[],v=[],b=[];let w=0;for(let E=l;E<=p;E++){const I=this.lines[E],M=d?this._startColumns[E]:1,P=d?this._endColumns[E]:I.length+1;for(let x=M;x<P;x++)m[w]=I.charCodeAt(x-1),v[w]=E+1,b[w]=x,w++;!d&&E<p&&(m[w]=10,v[w]=E+1,b[w]=I.length+1,w++)}return new i(m,v,b)}}class i{constructor(d,l,p){this._charCodes=d,this._lineNumbers=l,this._columns=p}toString(){return"["+this._charCodes.map((d,l)=>(d===10?"\\n":String.fromCharCode(d))+`-(${this._lineNumbers[l]},${this._columns[l]})`).join(", ")+"]"}_assertIndex(d,l){if(d<0||d>=l.length)throw new Error("Illegal index")}getElements(){return this._charCodes}getStartLineNumber(d){return d>0&&d===this._lineNumbers.length?this.getEndLineNumber(d-1):(this._assertIndex(d,this._lineNumbers),this._lineNumbers[d])}getEndLineNumber(d){return d===-1?this.getStartLineNumber(d+1):(this._assertIndex(d,this._lineNumbers),this._charCodes[d]===10?this._lineNumbers[d]+1:this._lineNumbers[d])}getStartColumn(d){return d>0&&d===this._columns.length?this.getEndColumn(d-1):(this._assertIndex(d,this._columns),this._columns[d])}getEndColumn(d){return d===-1?this.getStartColumn(d+1):(this._assertIndex(d,this._columns),this._charCodes[d]===10?1:this._columns[d]+1)}}class n{constructor(d,l,p,m,v,b,w,E){this.originalStartLineNumber=d,this.originalStartColumn=l,this.originalEndLineNumber=p,this.originalEndColumn=m,this.modifiedStartLineNumber=v,this.modifiedStartColumn=b,this.modifiedEndLineNumber=w,this.modifiedEndColumn=E}static createFromDiffChange(d,l,p){const m=l.getStartLineNumber(d.originalStart),v=l.getStartColumn(d.originalStart),b=l.getEndLineNumber(d.originalStart+d.originalLength-1),w=l.getEndColumn(d.originalStart+d.originalLength-1),E=p.getStartLineNumber(d.modifiedStart),I=p.getStartColumn(d.modifiedStart),M=p.getEndLineNumber(d.modifiedStart+d.modifiedLength-1),P=p.getEndColumn(d.modifiedStart+d.modifiedLength-1);return new n(m,v,b,w,E,I,M,P)}}function t(o){if(o.length<=1)return o;const d=[o[0]];let l=d[0];for(let p=1,m=o.length;p<m;p++){const v=o[p],b=v.originalStart-(l.originalStart+l.originalLength),w=v.modifiedStart-(l.modifiedStart+l.modifiedLength);Math.min(b,w)<_?(l.originalLength=v.originalStart+v.originalLength-l.originalStart,l.modifiedLength=v.modifiedStart+v.modifiedLength-l.modifiedStart):(d.push(v),l=v)}return d}class a{constructor(d,l,p,m,v){this.originalStartLineNumber=d,this.originalEndLineNumber=l,this.modifiedStartLineNumber=p,this.modifiedEndLineNumber=m,this.charChanges=v}static createFromDiffResult(d,l,p,m,v,b,w){let E,I,M,P,x;if(l.originalLength===0?(E=p.getStartLineNumber(l.originalStart)-1,I=0):(E=p.getStartLineNumber(l.originalStart),I=p.getEndLineNumber(l.originalStart+l.originalLength-1)),l.modifiedLength===0?(M=m.getStartLineNumber(l.modifiedStart)-1,P=0):(M=m.getStartLineNumber(l.modifiedStart),P=m.getEndLineNumber(l.modifiedStart+l.modifiedLength-1)),b&&l.originalLength>0&&l.originalLength<20&&l.modifiedLength>0&&l.modifiedLength<20&&v()){const T=p.createCharSequence(d,l.originalStart,l.originalStart+l.originalLength-1),A=m.createCharSequence(d,l.modifiedStart,l.modifiedStart+l.modifiedLength-1);if(T.getElements().length>0&&A.getElements().length>0){let N=C(T,A,v,!0).changes;w&&(N=t(N)),x=[];for(let F=0,O=N.length;F<O;F++)x.push(n.createFromDiffChange(N[F],T,A))}}return new a(E,I,M,P,x)}}class u{constructor(d,l,p){this.shouldComputeCharChanges=p.shouldComputeCharChanges,this.shouldPostProcessCharChanges=p.shouldPostProcessCharChanges,this.shouldIgnoreTrimWhitespace=p.shouldIgnoreTrimWhitespace,this.shouldMakePrettyDiff=p.shouldMakePrettyDiff,this.originalLines=d,this.modifiedLines=l,this.original=new s(d),this.modified=new s(l),this.continueLineDiff=c(p.maxComputationTime),this.continueCharDiff=c(p.maxComputationTime===0?0:Math.min(p.maxComputationTime,5e3))}computeDiff(){if(this.original.lines.length===1&&this.original.lines[0].length===0)return this.modified.lines.length===1&&this.modified.lines[0].length===0?{quitEarly:!1,changes:[]}:{quitEarly:!1,changes:[{originalStartLineNumber:1,originalEndLineNumber:1,modifiedStartLineNumber:1,modifiedEndLineNumber:this.modified.lines.length,charChanges:void 0}]};if(this.modified.lines.length===1&&this.modified.lines[0].length===0)return{quitEarly:!1,changes:[{originalStartLineNumber:1,originalEndLineNumber:this.original.lines.length,modifiedStartLineNumber:1,modifiedEndLineNumber:1,charChanges:void 0}]};const d=C(this.original,this.modified,this.continueLineDiff,this.shouldMakePrettyDiff),l=d.changes,p=d.quitEarly;if(this.shouldIgnoreTrimWhitespace){const w=[];for(let E=0,I=l.length;E<I;E++)w.push(a.createFromDiffResult(this.shouldIgnoreTrimWhitespace,l[E],this.original,this.modified,this.continueCharDiff,this.shouldComputeCharChanges,this.shouldPostProcessCharChanges));return{quitEarly:p,changes:w}}const m=[];let v=0,b=0;for(let w=-1,E=l.length;w<E;w++){const I=w+1<E?l[w+1]:null,M=I?I.originalStart:this.originalLines.length,P=I?I.modifiedStart:this.modifiedLines.length;for(;v<M&&b<P;){const x=this.originalLines[v],T=this.modifiedLines[b];if(x!==T){{let A=h(x,1),N=h(T,1);for(;A>1&&N>1;){const F=x.charCodeAt(A-2),O=T.charCodeAt(N-2);if(F!==O)break;A--,N--}(A>1||N>1)&&this._pushTrimWhitespaceCharChange(m,v+1,1,A,b+1,1,N)}{let A=r(x,1),N=r(T,1);const F=x.length+1,O=T.length+1;for(;A<F&&N<O;){const W=x.charCodeAt(A-1),U=x.charCodeAt(N-1);if(W!==U)break;A++,N++}(A<F||N<O)&&this._pushTrimWhitespaceCharChange(m,v+1,A,F,b+1,N,O)}}v++,b++}I&&(m.push(a.createFromDiffResult(this.shouldIgnoreTrimWhitespace,I,this.original,this.modified,this.continueCharDiff,this.shouldComputeCharChanges,this.shouldPostProcessCharChanges)),v+=I.originalLength,b+=I.modifiedLength)}return{quitEarly:p,changes:m}}_pushTrimWhitespaceCharChange(d,l,p,m,v,b,w){if(this._mergeTrimWhitespaceCharChange(d,l,p,m,v,b,w))return;let E;this.shouldComputeCharChanges&&(E=[new n(l,p,l,m,v,b,v,w)]),d.push(new a(l,l,v,v,E))}_mergeTrimWhitespaceCharChange(d,l,p,m,v,b,w){const E=d.length;if(E===0)return!1;const I=d[E-1];return I.originalEndLineNumber===0||I.modifiedEndLineNumber===0?!1:I.originalEndLineNumber===l&&I.modifiedEndLineNumber===v?(this.shouldComputeCharChanges&&I.charChanges&&I.charChanges.push(new n(l,p,l,m,v,b,v,w)),!0):I.originalEndLineNumber+1===l&&I.modifiedEndLineNumber+1===v?(I.originalEndLineNumber=l,I.modifiedEndLineNumber=v,this.shouldComputeCharChanges&&I.charChanges&&I.charChanges.push(new n(l,p,l,m,v,b,v,w)),!0):!1}}e.DiffComputer=u;function h(o,d){const l=y.firstNonWhitespaceIndex(o);return l===-1?d:l+1}function r(o,d){const l=y.lastNonWhitespaceIndex(o);return l===-1?d:l+2}function c(o){if(o===0)return()=>!0;const d=Date.now();return()=>Date.now()-d<o}}),define(ne[492],se([1,0,491,276]),function(Q,e,L,k){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.linesDiffComputers=void 0,e.linesDiffComputers={getLegacy:()=>new L.LegacyLinesDiffComputer,getAdvanced:()=>new k.AdvancedLinesDiffComputer}}),define(ne[277],se([1,0]),function(Q,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.InternalEditorAction=void 0;class L{constructor(y,D,S,f,_,g){this.id=y,this.label=D,this.alias=S,this._precondition=f,this._run=_,this._contextKeyService=g}isSupported(){return this._contextKeyService.contextMatchesRules(this._precondition)}run(y){return this.isSupported()?this._run(y):Promise.resolve(void 0)}}e.InternalEditorAction=L}),define(ne[148],se([1,0]),function(Q,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.EditorType=void 0,e.EditorType={ICodeEditor:"vs.editor.ICodeEditor",IDiffEditor:"vs.editor.IDiffEditor"}}),define(ne[177],se([1,0,148]),function(Q,e,L){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.getCodeEditor=e.isCompositeEditor=e.isDiffEditor=e.isCodeEditor=void 0;function k(f){return f&&typeof f.getEditorType=="function"?f.getEditorType()===L.EditorType.ICodeEditor:!1}e.isCodeEditor=k;function y(f){return f&&typeof f.getEditorType=="function"?f.getEditorType()===L.EditorType.IDiffEditor:!1}e.isDiffEditor=y;function D(f){return!!f&&typeof f=="object"&&typeof f.onDidChangeActiveEditor=="function"}e.isCompositeEditor=D;function S(f){return k(f)?f:y(f)?f.getModifiedEditor():D(f)&&k(f.activeCodeEditor)?f.activeCodeEditor:null}e.getCodeEditor=S}),define(ne[149],se([1,0]),function(Q,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.getEditorFeatures=e.registerEditorFeature=void 0;const L=[];function k(D){L.push(D)}e.registerEditorFeature=k;function y(){return L.slice(0)}e.getEditorFeatures=y}),define(ne[493],se([1,0]),function(Q,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.EditorTheme=void 0;class L{get type(){return this._theme.type}get value(){return this._theme}constructor(y){this._theme=y}update(y){this._theme=y}getColor(y){return this._theme.getColor(y)}}e.EditorTheme=L}),define(ne[124],se([1,0]),function(Q,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.TokenMetadata=void 0;class L{static getLanguageId(y){return(y&255)>>>0}static getTokenType(y){return(y&768)>>>8}static containsBalancedBrackets(y){return(y&1024)!==0}static getFontStyle(y){return(y&30720)>>>11}static getForeground(y){return(y&16744448)>>>15}static getBackground(y){return(y&4278190080)>>>24}static getClassNameFromMetadata(y){let S="mtk"+this.getForeground(y);const f=this.getFontStyle(y);return f&1&&(S+=" mtki"),f&2&&(S+=" mtkb"),f&4&&(S+=" mtku"),f&8&&(S+=" mtks"),S}static getInlineStyleFromMetadata(y,D){const S=this.getForeground(y),f=this.getFontStyle(y);let _=`color: ${D[S]};`;f&1&&(_+="font-style: italic;"),f&2&&(_+="font-weight: bold;");let g="";return f&4&&(g+=" underline"),f&8&&(g+=" line-through"),g&&(_+=`text-decoration:${g};`),_}static getPresentationFromMetadata(y){const D=this.getForeground(y),S=this.getFontStyle(y);return{foreground:D,italic:!!(S&1),bold:!!(S&2),underline:!!(S&4),strikethrough:!!(S&8)}}}e.TokenMetadata=L}),define(ne[494],se([1,0,38]),function(Q,e,L){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.computeDefaultDocumentColors=void 0;function k(i){const n=[];for(const t of i){const a=Number(t);(a||a===0&&t.replace(/\s/g,"")!=="")&&n.push(a)}return n}function y(i,n,t,a){return{red:i/255,blue:t/255,green:n/255,alpha:a}}function D(i,n){const t=n.index,a=n[0].length;if(!t)return;const u=i.positionAt(t);return{startLineNumber:u.lineNumber,startColumn:u.column,endLineNumber:u.lineNumber,endColumn:u.column+a}}function S(i,n){if(!i)return;const t=L.Color.Format.CSS.parseHex(n);if(t)return{range:i,color:y(t.rgba.r,t.rgba.g,t.rgba.b,t.rgba.a)}}function f(i,n,t){if(!i||n.length!==1)return;const u=n[0].values(),h=k(u);return{range:i,color:y(h[0],h[1],h[2],t?h[3]:1)}}function _(i,n,t){if(!i||n.length!==1)return;const u=n[0].values(),h=k(u),r=new L.Color(new L.HSLA(h[0],h[1]/100,h[2]/100,t?h[3]:1));return{range:i,color:y(r.rgba.r,r.rgba.g,r.rgba.b,r.rgba.a)}}function g(i,n){return typeof i=="string"?[...i.matchAll(n)]:i.findMatches(n)}function C(i){const n=[],a=g(i,/\b(rgb|rgba|hsl|hsla)(\([0-9\s,.\%]*\))|(#)([A-Fa-f0-9]{3})\b|(#)([A-Fa-f0-9]{4})\b|(#)([A-Fa-f0-9]{6})\b|(#)([A-Fa-f0-9]{8})\b/gm);if(a.length>0)for(const u of a){const h=u.filter(d=>d!==void 0),r=h[1],c=h[2];if(!c)continue;let o;if(r==="rgb"){const d=/^\(\s*(25[0-5]|2[0-4][0-9]|1[0-9]{2}|[1-9][0-9]|[0-9])\s*,\s*(25[0-5]|2[0-4][0-9]|1[0-9]{2}|[1-9][0-9]|[0-9])\s*,\s*(25[0-5]|2[0-4][0-9]|1[0-9]{2}|[1-9][0-9]|[0-9])\s*\)$/gm;o=f(D(i,u),g(c,d),!1)}else if(r==="rgba"){const d=/^\(\s*(25[0-5]|2[0-4][0-9]|1[0-9]{2}|[1-9][0-9]|[0-9])\s*,\s*(25[0-5]|2[0-4][0-9]|1[0-9]{2}|[1-9][0-9]|[0-9])\s*,\s*(25[0-5]|2[0-4][0-9]|1[0-9]{2}|[1-9][0-9]|[0-9])\s*,\s*(0[.][0-9]+|[.][0-9]+|[01][.]|[01])\s*\)$/gm;o=f(D(i,u),g(c,d),!0)}else if(r==="hsl"){const d=/^\(\s*(36[0]|3[0-5][0-9]|[12][0-9][0-9]|[1-9]?[0-9])\s*,\s*(100|\d{1,2}[.]\d*|\d{1,2})%\s*,\s*(100|\d{1,2}[.]\d*|\d{1,2})%\s*\)$/gm;o=_(D(i,u),g(c,d),!1)}else if(r==="hsla"){const d=/^\(\s*(36[0]|3[0-5][0-9]|[12][0-9][0-9]|[1-9]?[0-9])\s*,\s*(100|\d{1,2}[.]\d*|\d{1,2})%\s*,\s*(100|\d{1,2}[.]\d*|\d{1,2})%\s*,\s*(0[.][0-9]+|[.][0-9]+|[01][.]|[01])\s*\)$/gm;o=_(D(i,u),g(c,d),!0)}else r==="#"&&(o=S(D(i,u),r+c));o&&n.push(o)}return n}function s(i){return!i||typeof i.getValue!="function"||typeof i.positionAt!="function"?[]:C(i)}e.computeDefaultDocumentColors=s}),define(ne[110],se([1,0]),function(Q,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.AutoClosingPairs=e.StandardAutoClosingPairConditional=e.IndentAction=void 0;var L;(function(S){S[S.None=0]="None",S[S.Indent=1]="Indent",S[S.IndentOutdent=2]="IndentOutdent",S[S.Outdent=3]="Outdent"})(L||(e.IndentAction=L={}));class k{constructor(f){if(this._neutralCharacter=null,this._neutralCharacterSearched=!1,this.open=f.open,this.close=f.close,this._inString=!0,this._inComment=!0,this._inRegEx=!0,Array.isArray(f.notIn))for(let _=0,g=f.notIn.length;_<g;_++)switch(f.notIn[_]){case"string":this._inString=!1;break;case"comment":this._inComment=!1;break;case"regex":this._inRegEx=!1;break}}isOK(f){switch(f){case 0:return!0;case 1:return this._inComment;case 2:return this._inString;case 3:return this._inRegEx}}shouldAutoClose(f,_){if(f.getTokenCount()===0)return!0;const g=f.findTokenIndexAtOffset(_-2),C=f.getStandardTokenType(g);return this.isOK(C)}_findNeutralCharacterInRange(f,_){for(let g=f;g<=_;g++){const C=String.fromCharCode(g);if(!this.open.includes(C)&&!this.close.includes(C))return C}return null}findNeutralCharacter(){return this._neutralCharacterSearched||(this._neutralCharacterSearched=!0,this._neutralCharacter||(this._neutralCharacter=this._findNeutralCharacterInRange(48,57)),this._neutralCharacter||(this._neutralCharacter=this._findNeutralCharacterInRange(97,122)),this._neutralCharacter||(this._neutralCharacter=this._findNeutralCharacterInRange(65,90))),this._neutralCharacter}}e.StandardAutoClosingPairConditional=k;class y{constructor(f){this.autoClosingPairsOpenByStart=new Map,this.autoClosingPairsOpenByEnd=new Map,this.autoClosingPairsCloseByStart=new Map,this.autoClosingPairsCloseByEnd=new Map,this.autoClosingPairsCloseSingleChar=new Map;for(const _ of f)D(this.autoClosingPairsOpenByStart,_.open.charAt(0),_),D(this.autoClosingPairsOpenByEnd,_.open.charAt(_.open.length-1),_),D(this.autoClosingPairsCloseByStart,_.close.charAt(0),_),D(this.autoClosingPairsCloseByEnd,_.close.charAt(_.close.length-1),_),_.close.length===1&&_.open.length===1&&D(this.autoClosingPairsCloseSingleChar,_.close,_)}}e.AutoClosingPairs=y;function D(S,f,_){S.has(f)?S.get(f).push(_):S.set(f,[_])}}),define(ne[495],se([1,0,121]),function(Q,e,L){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.computeLinks=e.LinkComputer=e.StateMachine=void 0;class k{constructor(i,n,t){const a=new Uint8Array(i*n);for(let u=0,h=i*n;u<h;u++)a[u]=t;this._data=a,this.rows=i,this.cols=n}get(i,n){return this._data[i*this.cols+n]}set(i,n,t){this._data[i*this.cols+n]=t}}class y{constructor(i){let n=0,t=0;for(let u=0,h=i.length;u<h;u++){const[r,c,o]=i[u];c>n&&(n=c),r>t&&(t=r),o>t&&(t=o)}n++,t++;const a=new k(t,n,0);for(let u=0,h=i.length;u<h;u++){const[r,c,o]=i[u];a.set(r,c,o)}this._states=a,this._maxCharCode=n}nextState(i,n){return n<0||n>=this._maxCharCode?0:this._states.get(i,n)}}e.StateMachine=y;let D=null;function S(){return D===null&&(D=new y([[1,104,2],[1,72,2],[1,102,6],[1,70,6],[2,116,3],[2,84,3],[3,116,4],[3,84,4],[4,112,5],[4,80,5],[5,115,9],[5,83,9],[5,58,10],[6,105,7],[6,73,7],[7,108,8],[7,76,8],[8,101,9],[8,69,9],[9,58,10],[10,47,11],[11,47,12]])),D}let f=null;function _(){if(f===null){f=new L.CharacterClassifier(0);const s=` 	<>'"\u3001\u3002\uFF61\uFF64\uFF0C\uFF0E\uFF1A\uFF1B\u2018\u3008\u300C\u300E\u3014\uFF08\uFF3B\uFF5B\uFF62\uFF63\uFF5D\uFF3D\uFF09\u3015\u300F\u300D\u3009\u2019\uFF40\uFF5E\u2026`;for(let n=0;n<s.length;n++)f.set(s.charCodeAt(n),1);const i=".,;:";for(let n=0;n<i.length;n++)f.set(i.charCodeAt(n),2)}return f}class g{static _createLink(i,n,t,a,u){let h=u-1;do{const r=n.charCodeAt(h);if(i.get(r)!==2)break;h--}while(h>a);if(a>0){const r=n.charCodeAt(a-1),c=n.charCodeAt(h);(r===40&&c===41||r===91&&c===93||r===123&&c===125)&&h--}return{range:{startLineNumber:t,startColumn:a+1,endLineNumber:t,endColumn:h+2},url:n.substring(a,h+1)}}static computeLinks(i,n=S()){const t=_(),a=[];for(let u=1,h=i.getLineCount();u<=h;u++){const r=i.getLineContent(u),c=r.length;let o=0,d=0,l=0,p=1,m=!1,v=!1,b=!1,w=!1;for(;o<c;){let E=!1;const I=r.charCodeAt(o);if(p===13){let M;switch(I){case 40:m=!0,M=0;break;case 41:M=m?0:1;break;case 91:b=!0,v=!0,M=0;break;case 93:b=!1,M=v?0:1;break;case 123:w=!0,M=0;break;case 125:M=w?0:1;break;case 39:case 34:case 96:l===I?M=1:l===39||l===34||l===96?M=0:M=1;break;case 42:M=l===42?1:0;break;case 124:M=l===124?1:0;break;case 32:M=b?0:1;break;default:M=t.get(I)}M===1&&(a.push(g._createLink(t,r,u,d,o)),E=!0)}else if(p===12){let M;I===91?(v=!0,M=0):M=t.get(I),M===1?E=!0:p=13}else p=n.nextState(p,I),p===0&&(E=!0);E&&(p=1,m=!1,v=!1,w=!1,d=o+1,l=I),o++}p===13&&a.push(g._createLink(t,r,u,d,c))}return a}}e.LinkComputer=g;function C(s){return!s||typeof s.getLineCount!="function"||typeof s.getLineContent!="function"?[]:g.computeLinks(s)}e.computeLinks=C}),define(ne[125],se([1,0]),function(Q,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ignoreBracketsInToken=e.ScopedLineTokens=e.createScopedLineTokens=void 0;function L(D,S){const f=D.getCount(),_=D.findTokenIndexAtOffset(S),g=D.getLanguageId(_);let C=_;for(;C+1<f&&D.getLanguageId(C+1)===g;)C++;let s=_;for(;s>0&&D.getLanguageId(s-1)===g;)s--;return new k(D,g,s,C+1,D.getStartOffset(s),D.getEndOffset(C))}e.createScopedLineTokens=L;class k{constructor(S,f,_,g,C,s){this._scopedLineTokensBrand=void 0,this._actual=S,this.languageId=f,this._firstTokenIndex=_,this._lastTokenIndex=g,this.firstCharOffset=C,this._lastCharOffset=s}getLineContent(){return this._actual.getLineContent().substring(this.firstCharOffset,this._lastCharOffset)}getActualLineContentBefore(S){return this._actual.getLineContent().substring(0,this.firstCharOffset+S)}getTokenCount(){return this._lastTokenIndex-this._firstTokenIndex}findTokenIndexAtOffset(S){return this._actual.findTokenIndexAtOffset(S+this.firstCharOffset)-this._firstTokenIndex}getStandardTokenType(S){return this._actual.getStandardTokenType(S+this._firstTokenIndex)}}e.ScopedLineTokens=k;function y(D){return(D&3)!==0}e.ignoreBracketsInToken=y}),define(ne[74],se([1,0,12,5,24,125,82,202]),function(Q,e,L,k,y,D,S,f){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.isQuote=e.EditOperationResult=e.SingleCursorState=e.PartialViewCursorState=e.PartialModelCursorState=e.CursorState=e.CursorConfiguration=void 0;const _=()=>!0,g=()=>!1,C=r=>r===" "||r==="	";class s{static shouldRecreate(c){return c.hasChanged(142)||c.hasChanged(128)||c.hasChanged(36)||c.hasChanged(75)||c.hasChanged(77)||c.hasChanged(78)||c.hasChanged(6)||c.hasChanged(10)||c.hasChanged(8)||c.hasChanged(9)||c.hasChanged(13)||c.hasChanged(126)||c.hasChanged(49)||c.hasChanged(89)}constructor(c,o,d,l){this.languageConfigurationService=l,this._cursorMoveConfigurationBrand=void 0,this._languageId=c;const p=d.options,m=p.get(142),v=p.get(49);this.readOnly=p.get(89),this.tabSize=o.tabSize,this.indentSize=o.indentSize,this.insertSpaces=o.insertSpaces,this.stickyTabStops=p.get(114),this.lineHeight=v.lineHeight,this.typicalHalfwidthCharacterWidth=v.typicalHalfwidthCharacterWidth,this.pageSize=Math.max(1,Math.floor(m.height/this.lineHeight)-2),this.useTabStops=p.get(126),this.wordSeparators=p.get(128),this.emptySelectionClipboard=p.get(36),this.copyWithSyntaxHighlighting=p.get(24),this.multiCursorMergeOverlapping=p.get(75),this.multiCursorPaste=p.get(77),this.multiCursorLimit=p.get(78),this.autoClosingBrackets=p.get(6),this.autoClosingQuotes=p.get(10),this.autoClosingDelete=p.get(8),this.autoClosingOvertype=p.get(9),this.autoSurround=p.get(13),this.autoIndent=p.get(11),this.surroundingPairs={},this._electricChars=null,this.shouldAutoCloseBefore={quote:this._getShouldAutoClose(c,this.autoClosingQuotes,!0),bracket:this._getShouldAutoClose(c,this.autoClosingBrackets,!1)},this.autoClosingPairs=this.languageConfigurationService.getLanguageConfiguration(c).getAutoClosingPairs();const b=this.languageConfigurationService.getLanguageConfiguration(c).getSurroundingPairs();if(b)for(const w of b)this.surroundingPairs[w.open]=w.close}get electricChars(){var c;if(!this._electricChars){this._electricChars={};const o=(c=this.languageConfigurationService.getLanguageConfiguration(this._languageId).electricCharacter)===null||c===void 0?void 0:c.getElectricCharacters();if(o)for(const d of o)this._electricChars[d]=!0}return this._electricChars}onElectricCharacter(c,o,d){const l=(0,D.createScopedLineTokens)(o,d-1),p=this.languageConfigurationService.getLanguageConfiguration(l.languageId).electricCharacter;return p?p.onElectricCharacter(c,l,d-l.firstCharOffset):null}normalizeIndentation(c){return(0,f.normalizeIndentation)(c,this.indentSize,this.insertSpaces)}_getShouldAutoClose(c,o,d){switch(o){case"beforeWhitespace":return C;case"languageDefined":return this._getLanguageDefinedShouldAutoClose(c,d);case"always":return _;case"never":return g}}_getLanguageDefinedShouldAutoClose(c,o){const d=this.languageConfigurationService.getLanguageConfiguration(c).getAutoCloseBeforeSet(o);return l=>d.indexOf(l)!==-1}visibleColumnFromColumn(c,o){return S.CursorColumns.visibleColumnFromColumn(c.getLineContent(o.lineNumber),o.column,this.tabSize)}columnFromVisibleColumn(c,o,d){const l=S.CursorColumns.columnFromVisibleColumn(c.getLineContent(o),d,this.tabSize),p=c.getLineMinColumn(o);if(l<p)return p;const m=c.getLineMaxColumn(o);return l>m?m:l}}e.CursorConfiguration=s;class i{static fromModelState(c){return new n(c)}static fromViewState(c){return new t(c)}static fromModelSelection(c){const o=y.Selection.liftSelection(c),d=new a(k.Range.fromPositions(o.getSelectionStart()),0,0,o.getPosition(),0);return i.fromModelState(d)}static fromModelSelections(c){const o=[];for(let d=0,l=c.length;d<l;d++)o[d]=this.fromModelSelection(c[d]);return o}constructor(c,o){this._cursorStateBrand=void 0,this.modelState=c,this.viewState=o}equals(c){return this.viewState.equals(c.viewState)&&this.modelState.equals(c.modelState)}}e.CursorState=i;class n{constructor(c){this.modelState=c,this.viewState=null}}e.PartialModelCursorState=n;class t{constructor(c){this.modelState=null,this.viewState=c}}e.PartialViewCursorState=t;class a{constructor(c,o,d,l,p){this.selectionStart=c,this.selectionStartKind=o,this.selectionStartLeftoverVisibleColumns=d,this.position=l,this.leftoverVisibleColumns=p,this._singleCursorStateBrand=void 0,this.selection=a._computeSelection(this.selectionStart,this.position)}equals(c){return this.selectionStartLeftoverVisibleColumns===c.selectionStartLeftoverVisibleColumns&&this.leftoverVisibleColumns===c.leftoverVisibleColumns&&this.selectionStartKind===c.selectionStartKind&&this.position.equals(c.position)&&this.selectionStart.equalsRange(c.selectionStart)}hasSelection(){return!this.selection.isEmpty()||!this.selectionStart.isEmpty()}move(c,o,d,l){return c?new a(this.selectionStart,this.selectionStartKind,this.selectionStartLeftoverVisibleColumns,new L.Position(o,d),l):new a(new k.Range(o,d,o,d),0,l,new L.Position(o,d),l)}static _computeSelection(c,o){return c.isEmpty()||!o.isBeforeOrEqual(c.getStartPosition())?y.Selection.fromPositions(c.getStartPosition(),o):y.Selection.fromPositions(c.getEndPosition(),o)}}e.SingleCursorState=a;class u{constructor(c,o,d){this._editOperationResultBrand=void 0,this.type=c,this.commands=o,this.shouldPushStackElementBefore=d.shouldPushStackElementBefore,this.shouldPushStackElementAfter=d.shouldPushStackElementAfter}}e.EditOperationResult=u;function h(r){return r==="'"||r==='"'||r==="`"}e.isQuote=h}),define(ne[496],se([1,0,74,12,5]),function(Q,e,L,k,y){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ColumnSelection=void 0;class D{static columnSelect(f,_,g,C,s,i){const n=Math.abs(s-g)+1,t=g>s,a=C>i,u=C<i,h=[];for(let r=0;r<n;r++){const c=g+(t?-r:r),o=f.columnFromVisibleColumn(_,c,C),d=f.columnFromVisibleColumn(_,c,i),l=f.visibleColumnFromColumn(_,new k.Position(c,o)),p=f.visibleColumnFromColumn(_,new k.Position(c,d));u&&(l>i||p<C)||a&&(p>C||l<i)||h.push(new L.SingleCursorState(new y.Range(c,o,c,o),0,0,new k.Position(c,d),0))}if(h.length===0)for(let r=0;r<n;r++){const c=g+(t?-r:r),o=_.getLineMaxColumn(c);h.push(new L.SingleCursorState(new y.Range(c,o,c,o),0,0,new k.Position(c,o),0))}return{viewStates:h,reversed:t,fromLineNumber:g,fromVisualColumn:C,toLineNumber:s,toVisualColumn:i}}static columnSelectLeft(f,_,g){let C=g.toViewVisualColumn;return C>0&&C--,D.columnSelect(f,_,g.fromViewLineNumber,g.fromViewVisualColumn,g.toViewLineNumber,C)}static columnSelectRight(f,_,g){let C=0;const s=Math.min(g.fromViewLineNumber,g.toViewLineNumber),i=Math.max(g.fromViewLineNumber,g.toViewLineNumber);for(let t=s;t<=i;t++){const a=_.getLineMaxColumn(t),u=f.visibleColumnFromColumn(_,new k.Position(t,a));C=Math.max(C,u)}let n=g.toViewVisualColumn;return n<C&&n++,this.columnSelect(f,_,g.fromViewLineNumber,g.fromViewVisualColumn,g.toViewLineNumber,n)}static columnSelectUp(f,_,g,C){const s=C?f.pageSize:1,i=Math.max(1,g.toViewLineNumber-s);return this.columnSelect(f,_,g.fromViewLineNumber,g.fromViewVisualColumn,i,g.toViewVisualColumn)}static columnSelectDown(f,_,g,C){const s=C?f.pageSize:1,i=Math.min(_.getLineCount(),g.toViewLineNumber+s);return this.columnSelect(f,_,g.fromViewLineNumber,g.fromViewVisualColumn,i,g.toViewVisualColumn)}}e.ColumnSelection=D}),define(ne[203],se([1,0,11,82,12,5,275,74]),function(Q,e,L,k,y,D,S,f){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.MoveOperations=e.CursorPosition=void 0;class _{constructor(s,i,n){this._cursorPositionBrand=void 0,this.lineNumber=s,this.column=i,this.leftoverVisibleColumns=n}}e.CursorPosition=_;class g{static leftPosition(s,i){if(i.column>s.getLineMinColumn(i.lineNumber))return i.delta(void 0,-L.prevCharLength(s.getLineContent(i.lineNumber),i.column-1));if(i.lineNumber>1){const n=i.lineNumber-1;return new y.Position(n,s.getLineMaxColumn(n))}else return i}static leftPositionAtomicSoftTabs(s,i,n){if(i.column<=s.getLineIndentColumn(i.lineNumber)){const t=s.getLineMinColumn(i.lineNumber),a=s.getLineContent(i.lineNumber),u=S.AtomicTabMoveOperations.atomicPosition(a,i.column-1,n,0);if(u!==-1&&u+1>=t)return new y.Position(i.lineNumber,u+1)}return this.leftPosition(s,i)}static left(s,i,n){const t=s.stickyTabStops?g.leftPositionAtomicSoftTabs(i,n,s.tabSize):g.leftPosition(i,n);return new _(t.lineNumber,t.column,0)}static moveLeft(s,i,n,t,a){let u,h;if(n.hasSelection()&&!t)u=n.selection.startLineNumber,h=n.selection.startColumn;else{const r=n.position.delta(void 0,-(a-1)),c=i.normalizePosition(g.clipPositionColumn(r,i),0),o=g.left(s,i,c);u=o.lineNumber,h=o.column}return n.move(t,u,h,0)}static clipPositionColumn(s,i){return new y.Position(s.lineNumber,g.clipRange(s.column,i.getLineMinColumn(s.lineNumber),i.getLineMaxColumn(s.lineNumber)))}static clipRange(s,i,n){return s<i?i:s>n?n:s}static rightPosition(s,i,n){return n<s.getLineMaxColumn(i)?n=n+L.nextCharLength(s.getLineContent(i),n-1):i<s.getLineCount()&&(i=i+1,n=s.getLineMinColumn(i)),new y.Position(i,n)}static rightPositionAtomicSoftTabs(s,i,n,t,a){if(n<s.getLineIndentColumn(i)){const u=s.getLineContent(i),h=S.AtomicTabMoveOperations.atomicPosition(u,n-1,t,1);if(h!==-1)return new y.Position(i,h+1)}return this.rightPosition(s,i,n)}static right(s,i,n){const t=s.stickyTabStops?g.rightPositionAtomicSoftTabs(i,n.lineNumber,n.column,s.tabSize,s.indentSize):g.rightPosition(i,n.lineNumber,n.column);return new _(t.lineNumber,t.column,0)}static moveRight(s,i,n,t,a){let u,h;if(n.hasSelection()&&!t)u=n.selection.endLineNumber,h=n.selection.endColumn;else{const r=n.position.delta(void 0,a-1),c=i.normalizePosition(g.clipPositionColumn(r,i),1),o=g.right(s,i,c);u=o.lineNumber,h=o.column}return n.move(t,u,h,0)}static vertical(s,i,n,t,a,u,h,r){const c=k.CursorColumns.visibleColumnFromColumn(i.getLineContent(n),t,s.tabSize)+a,o=i.getLineCount(),d=n===1&&t===1,l=n===o&&t===i.getLineMaxColumn(n),p=u<n?d:l;if(n=u,n<1?(n=1,h?t=i.getLineMinColumn(n):t=Math.min(i.getLineMaxColumn(n),t)):n>o?(n=o,h?t=i.getLineMaxColumn(n):t=Math.min(i.getLineMaxColumn(n),t)):t=s.columnFromVisibleColumn(i,n,c),p?a=0:a=c-k.CursorColumns.visibleColumnFromColumn(i.getLineContent(n),t,s.tabSize),r!==void 0){const m=new y.Position(n,t),v=i.normalizePosition(m,r);a=a+(t-v.column),n=v.lineNumber,t=v.column}return new _(n,t,a)}static down(s,i,n,t,a,u,h){return this.vertical(s,i,n,t,a,n+u,h,4)}static moveDown(s,i,n,t,a){let u,h;n.hasSelection()&&!t?(u=n.selection.endLineNumber,h=n.selection.endColumn):(u=n.position.lineNumber,h=n.position.column);let r=0,c;do if(c=g.down(s,i,u+r,h,n.leftoverVisibleColumns,a,!0),i.normalizePosition(new y.Position(c.lineNumber,c.column),2).lineNumber>u)break;while(r++<10&&u+r<i.getLineCount());return n.move(t,c.lineNumber,c.column,c.leftoverVisibleColumns)}static translateDown(s,i,n){const t=n.selection,a=g.down(s,i,t.selectionStartLineNumber,t.selectionStartColumn,n.selectionStartLeftoverVisibleColumns,1,!1),u=g.down(s,i,t.positionLineNumber,t.positionColumn,n.leftoverVisibleColumns,1,!1);return new f.SingleCursorState(new D.Range(a.lineNumber,a.column,a.lineNumber,a.column),0,a.leftoverVisibleColumns,new y.Position(u.lineNumber,u.column),u.leftoverVisibleColumns)}static up(s,i,n,t,a,u,h){return this.vertical(s,i,n,t,a,n-u,h,3)}static moveUp(s,i,n,t,a){let u,h;n.hasSelection()&&!t?(u=n.selection.startLineNumber,h=n.selection.startColumn):(u=n.position.lineNumber,h=n.position.column);const r=g.up(s,i,u,h,n.leftoverVisibleColumns,a,!0);return n.move(t,r.lineNumber,r.column,r.leftoverVisibleColumns)}static translateUp(s,i,n){const t=n.selection,a=g.up(s,i,t.selectionStartLineNumber,t.selectionStartColumn,n.selectionStartLeftoverVisibleColumns,1,!1),u=g.up(s,i,t.positionLineNumber,t.positionColumn,n.leftoverVisibleColumns,1,!1);return new f.SingleCursorState(new D.Range(a.lineNumber,a.column,a.lineNumber,a.column),0,a.leftoverVisibleColumns,new y.Position(u.lineNumber,u.column),u.leftoverVisibleColumns)}static _isBlankLine(s,i){return s.getLineFirstNonWhitespaceColumn(i)===0}static moveToPrevBlankLine(s,i,n,t){let a=n.position.lineNumber;for(;a>1&&this._isBlankLine(i,a);)a--;for(;a>1&&!this._isBlankLine(i,a);)a--;return n.move(t,a,i.getLineMinColumn(a),0)}static moveToNextBlankLine(s,i,n,t){const a=i.getLineCount();let u=n.position.lineNumber;for(;u<a&&this._isBlankLine(i,u);)u++;for(;u<a&&!this._isBlankLine(i,u);)u++;return n.move(t,u,i.getLineMinColumn(u),0)}static moveToBeginningOfLine(s,i,n,t){const a=n.position.lineNumber,u=i.getLineMinColumn(a),h=i.getLineFirstNonWhitespaceColumn(a)||u;let r;return n.position.column===h?r=u:r=h,n.move(t,a,r,0)}static moveToEndOfLine(s,i,n,t,a){const u=n.position.lineNumber,h=i.getLineMaxColumn(u);return n.move(t,u,h,a?1073741824-h:0)}static moveToBeginningOfBuffer(s,i,n,t){return n.move(t,1,1,0)}static moveToEndOfBuffer(s,i,n,t){const a=i.getLineCount(),u=i.getLineMaxColumn(a);return n.move(t,a,u,0)}}e.MoveOperations=g}),define(ne[204],se([1,0,11,123,74,82,203,5,12]),function(Q,e,L,k,y,D,S,f,_){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.DeleteOperations=void 0;class g{static deleteRight(s,i,n,t){const a=[];let u=s!==3;for(let h=0,r=t.length;h<r;h++){const c=t[h];let o=c;if(o.isEmpty()){const d=c.getPosition(),l=S.MoveOperations.right(i,n,d);o=new f.Range(l.lineNumber,l.column,d.lineNumber,d.column)}if(o.isEmpty()){a[h]=null;continue}o.startLineNumber!==o.endLineNumber&&(u=!0),a[h]=new k.ReplaceCommand(o,"")}return[u,a]}static isAutoClosingPairDelete(s,i,n,t,a,u,h){if(i==="never"&&n==="never"||s==="never")return!1;for(let r=0,c=u.length;r<c;r++){const o=u[r],d=o.getPosition();if(!o.isEmpty())return!1;const l=a.getLineContent(d.lineNumber);if(d.column<2||d.column>=l.length+1)return!1;const p=l.charAt(d.column-2),m=t.get(p);if(!m)return!1;if((0,y.isQuote)(p)){if(n==="never")return!1}else if(i==="never")return!1;const v=l.charAt(d.column-1);let b=!1;for(const w of m)w.open===p&&w.close===v&&(b=!0);if(!b)return!1;if(s==="auto"){let w=!1;for(let E=0,I=h.length;E<I;E++){const M=h[E];if(d.lineNumber===M.startLineNumber&&d.column===M.startColumn){w=!0;break}}if(!w)return!1}}return!0}static _runAutoClosingPairDelete(s,i,n){const t=[];for(let a=0,u=n.length;a<u;a++){const h=n[a].getPosition(),r=new f.Range(h.lineNumber,h.column-1,h.lineNumber,h.column+1);t[a]=new k.ReplaceCommand(r,"")}return[!0,t]}static deleteLeft(s,i,n,t,a){if(this.isAutoClosingPairDelete(i.autoClosingDelete,i.autoClosingBrackets,i.autoClosingQuotes,i.autoClosingPairs.autoClosingPairsOpenByEnd,n,t,a))return this._runAutoClosingPairDelete(i,n,t);const u=[];let h=s!==2;for(let r=0,c=t.length;r<c;r++){const o=g.getDeleteRange(t[r],n,i);if(o.isEmpty()){u[r]=null;continue}o.startLineNumber!==o.endLineNumber&&(h=!0),u[r]=new k.ReplaceCommand(o,"")}return[h,u]}static getDeleteRange(s,i,n){if(!s.isEmpty())return s;const t=s.getPosition();if(n.useTabStops&&t.column>1){const a=i.getLineContent(t.lineNumber),u=L.firstNonWhitespaceIndex(a),h=u===-1?a.length+1:u+1;if(t.column<=h){const r=n.visibleColumnFromColumn(i,t),c=D.CursorColumns.prevIndentTabStop(r,n.indentSize),o=n.columnFromVisibleColumn(i,t.lineNumber,c);return new f.Range(t.lineNumber,o,t.lineNumber,t.column)}}return f.Range.fromPositions(g.getPositionAfterDeleteLeft(t,i),t)}static getPositionAfterDeleteLeft(s,i){if(s.column>1){const n=L.getLeftDeleteOffset(s.column-1,i.getLineContent(s.lineNumber));return s.with(void 0,n+1)}else if(s.lineNumber>1){const n=s.lineNumber-1;return new _.Position(n,i.getLineMaxColumn(n))}else return s}static cut(s,i,n){const t=[];let a=null;n.sort((u,h)=>_.Position.compare(u.getStartPosition(),h.getEndPosition()));for(let u=0,h=n.length;u<h;u++){const r=n[u];if(r.isEmpty())if(s.emptySelectionClipboard){const c=r.getPosition();let o,d,l,p;c.lineNumber<i.getLineCount()?(o=c.lineNumber,d=1,l=c.lineNumber+1,p=1):c.lineNumber>1&&a?.endLineNumber!==c.lineNumber?(o=c.lineNumber-1,d=i.getLineMaxColumn(c.lineNumber-1),l=c.lineNumber,p=i.getLineMaxColumn(c.lineNumber)):(o=c.lineNumber,d=1,l=c.lineNumber,p=i.getLineMaxColumn(c.lineNumber));const m=new f.Range(o,d,l,p);a=m,m.isEmpty()?t[u]=null:t[u]=new k.ReplaceCommand(m,"")}else t[u]=null;else t[u]=new k.ReplaceCommand(r,"")}return new y.EditOperationResult(0,t,{shouldPushStackElementBefore:!0,shouldPushStackElementAfter:!0})}}e.DeleteOperations=g}),define(ne[178],se([1,0,11,74,204,146,12,5]),function(Q,e,L,k,y,D,S,f){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.WordPartOperations=e.WordOperations=void 0;class _{static _createWord(i,n,t,a,u){return{start:a,end:u,wordType:n,nextCharClass:t}}static _findPreviousWordOnLine(i,n,t){const a=n.getLineContent(t.lineNumber);return this._doFindPreviousWordOnLine(a,i,t)}static _doFindPreviousWordOnLine(i,n,t){let a=0;for(let u=t.column-2;u>=0;u--){const h=i.charCodeAt(u),r=n.get(h);if(r===0){if(a===2)return this._createWord(i,a,r,u+1,this._findEndOfWord(i,n,a,u+1));a=1}else if(r===2){if(a===1)return this._createWord(i,a,r,u+1,this._findEndOfWord(i,n,a,u+1));a=2}else if(r===1&&a!==0)return this._createWord(i,a,r,u+1,this._findEndOfWord(i,n,a,u+1))}return a!==0?this._createWord(i,a,1,0,this._findEndOfWord(i,n,a,0)):null}static _findEndOfWord(i,n,t,a){const u=i.length;for(let h=a;h<u;h++){const r=i.charCodeAt(h),c=n.get(r);if(c===1||t===1&&c===2||t===2&&c===0)return h}return u}static _findNextWordOnLine(i,n,t){const a=n.getLineContent(t.lineNumber);return this._doFindNextWordOnLine(a,i,t)}static _doFindNextWordOnLine(i,n,t){let a=0;const u=i.length;for(let h=t.column-1;h<u;h++){const r=i.charCodeAt(h),c=n.get(r);if(c===0){if(a===2)return this._createWord(i,a,c,this._findStartOfWord(i,n,a,h-1),h);a=1}else if(c===2){if(a===1)return this._createWord(i,a,c,this._findStartOfWord(i,n,a,h-1),h);a=2}else if(c===1&&a!==0)return this._createWord(i,a,c,this._findStartOfWord(i,n,a,h-1),h)}return a!==0?this._createWord(i,a,1,this._findStartOfWord(i,n,a,u-1),u):null}static _findStartOfWord(i,n,t,a){for(let u=a;u>=0;u--){const h=i.charCodeAt(u),r=n.get(h);if(r===1||t===1&&r===2||t===2&&r===0)return u+1}return 0}static moveWordLeft(i,n,t,a){let u=t.lineNumber,h=t.column;h===1&&u>1&&(u=u-1,h=n.getLineMaxColumn(u));let r=_._findPreviousWordOnLine(i,n,new S.Position(u,h));if(a===0)return new S.Position(u,r?r.start+1:1);if(a===1)return r&&r.wordType===2&&r.end-r.start===1&&r.nextCharClass===0&&(r=_._findPreviousWordOnLine(i,n,new S.Position(u,r.start+1))),new S.Position(u,r?r.start+1:1);if(a===3){for(;r&&r.wordType===2;)r=_._findPreviousWordOnLine(i,n,new S.Position(u,r.start+1));return new S.Position(u,r?r.start+1:1)}return r&&h<=r.end+1&&(r=_._findPreviousWordOnLine(i,n,new S.Position(u,r.start+1))),new S.Position(u,r?r.end+1:1)}static _moveWordPartLeft(i,n){const t=n.lineNumber,a=i.getLineMaxColumn(t);if(n.column===1)return t>1?new S.Position(t-1,i.getLineMaxColumn(t-1)):n;const u=i.getLineContent(t);for(let h=n.column-1;h>1;h--){const r=u.charCodeAt(h-2),c=u.charCodeAt(h-1);if(r===95&&c!==95)return new S.Position(t,h);if(r===45&&c!==45)return new S.Position(t,h);if((L.isLowerAsciiLetter(r)||L.isAsciiDigit(r))&&L.isUpperAsciiLetter(c))return new S.Position(t,h);if(L.isUpperAsciiLetter(r)&&L.isUpperAsciiLetter(c)&&h+1<a){const o=u.charCodeAt(h);if(L.isLowerAsciiLetter(o)||L.isAsciiDigit(o))return new S.Position(t,h)}}return new S.Position(t,1)}static moveWordRight(i,n,t,a){let u=t.lineNumber,h=t.column,r=!1;h===n.getLineMaxColumn(u)&&u<n.getLineCount()&&(r=!0,u=u+1,h=1);let c=_._findNextWordOnLine(i,n,new S.Position(u,h));if(a===2)c&&c.wordType===2&&c.end-c.start===1&&c.nextCharClass===0&&(c=_._findNextWordOnLine(i,n,new S.Position(u,c.end+1))),c?h=c.end+1:h=n.getLineMaxColumn(u);else if(a===3){for(r&&(h=0);c&&(c.wordType===2||c.start+1<=h);)c=_._findNextWordOnLine(i,n,new S.Position(u,c.end+1));c?h=c.start+1:h=n.getLineMaxColumn(u)}else c&&!r&&h>=c.start+1&&(c=_._findNextWordOnLine(i,n,new S.Position(u,c.end+1))),c?h=c.start+1:h=n.getLineMaxColumn(u);return new S.Position(u,h)}static _moveWordPartRight(i,n){const t=n.lineNumber,a=i.getLineMaxColumn(t);if(n.column===a)return t<i.getLineCount()?new S.Position(t+1,1):n;const u=i.getLineContent(t);for(let h=n.column+1;h<a;h++){const r=u.charCodeAt(h-2),c=u.charCodeAt(h-1);if(r!==95&&c===95)return new S.Position(t,h);if(r!==45&&c===45)return new S.Position(t,h);if((L.isLowerAsciiLetter(r)||L.isAsciiDigit(r))&&L.isUpperAsciiLetter(c))return new S.Position(t,h);if(L.isUpperAsciiLetter(r)&&L.isUpperAsciiLetter(c)&&h+1<a){const o=u.charCodeAt(h);if(L.isLowerAsciiLetter(o)||L.isAsciiDigit(o))return new S.Position(t,h)}}return new S.Position(t,a)}static _deleteWordLeftWhitespace(i,n){const t=i.getLineContent(n.lineNumber),a=n.column-2,u=L.lastNonWhitespaceIndex(t,a);return u+1<a?new f.Range(n.lineNumber,u+2,n.lineNumber,n.column):null}static deleteWordLeft(i,n){const t=i.wordSeparators,a=i.model,u=i.selection,h=i.whitespaceHeuristics;if(!u.isEmpty())return u;if(y.DeleteOperations.isAutoClosingPairDelete(i.autoClosingDelete,i.autoClosingBrackets,i.autoClosingQuotes,i.autoClosingPairs.autoClosingPairsOpenByEnd,i.model,[i.selection],i.autoClosedCharacters)){const l=i.selection.getPosition();return new f.Range(l.lineNumber,l.column-1,l.lineNumber,l.column+1)}const r=new S.Position(u.positionLineNumber,u.positionColumn);let c=r.lineNumber,o=r.column;if(c===1&&o===1)return null;if(h){const l=this._deleteWordLeftWhitespace(a,r);if(l)return l}let d=_._findPreviousWordOnLine(t,a,r);return n===0?d?o=d.start+1:o>1?o=1:(c--,o=a.getLineMaxColumn(c)):(d&&o<=d.end+1&&(d=_._findPreviousWordOnLine(t,a,new S.Position(c,d.start+1))),d?o=d.end+1:o>1?o=1:(c--,o=a.getLineMaxColumn(c))),new f.Range(c,o,r.lineNumber,r.column)}static deleteInsideWord(i,n,t){if(!t.isEmpty())return t;const a=new S.Position(t.positionLineNumber,t.positionColumn),u=this._deleteInsideWordWhitespace(n,a);return u||this._deleteInsideWordDetermineDeleteRange(i,n,a)}static _charAtIsWhitespace(i,n){const t=i.charCodeAt(n);return t===32||t===9}static _deleteInsideWordWhitespace(i,n){const t=i.getLineContent(n.lineNumber),a=t.length;if(a===0)return null;let u=Math.max(n.column-2,0);if(!this._charAtIsWhitespace(t,u))return null;let h=Math.min(n.column-1,a-1);if(!this._charAtIsWhitespace(t,h))return null;for(;u>0&&this._charAtIsWhitespace(t,u-1);)u--;for(;h+1<a&&this._charAtIsWhitespace(t,h+1);)h++;return new f.Range(n.lineNumber,u+1,n.lineNumber,h+2)}static _deleteInsideWordDetermineDeleteRange(i,n,t){const a=n.getLineContent(t.lineNumber),u=a.length;if(u===0)return t.lineNumber>1?new f.Range(t.lineNumber-1,n.getLineMaxColumn(t.lineNumber-1),t.lineNumber,1):t.lineNumber<n.getLineCount()?new f.Range(t.lineNumber,1,t.lineNumber+1,1):new f.Range(t.lineNumber,1,t.lineNumber,1);const h=l=>l.start+1<=t.column&&t.column<=l.end+1,r=(l,p)=>(l=Math.min(l,t.column),p=Math.max(p,t.column),new f.Range(t.lineNumber,l,t.lineNumber,p)),c=l=>{let p=l.start+1,m=l.end+1,v=!1;for(;m-1<u&&this._charAtIsWhitespace(a,m-1);)v=!0,m++;if(!v)for(;p>1&&this._charAtIsWhitespace(a,p-2);)p--;return r(p,m)},o=_._findPreviousWordOnLine(i,n,t);if(o&&h(o))return c(o);const d=_._findNextWordOnLine(i,n,t);return d&&h(d)?c(d):o&&d?r(o.end+1,d.start+1):o?r(o.start+1,o.end+1):d?r(d.start+1,d.end+1):r(1,u+1)}static _deleteWordPartLeft(i,n){if(!n.isEmpty())return n;const t=n.getPosition(),a=_._moveWordPartLeft(i,t);return new f.Range(t.lineNumber,t.column,a.lineNumber,a.column)}static _findFirstNonWhitespaceChar(i,n){const t=i.length;for(let a=n;a<t;a++){const u=i.charAt(a);if(u!==" "&&u!=="	")return a}return t}static _deleteWordRightWhitespace(i,n){const t=i.getLineContent(n.lineNumber),a=n.column-1,u=this._findFirstNonWhitespaceChar(t,a);return a+1<u?new f.Range(n.lineNumber,n.column,n.lineNumber,u+1):null}static deleteWordRight(i,n){const t=i.wordSeparators,a=i.model,u=i.selection,h=i.whitespaceHeuristics;if(!u.isEmpty())return u;const r=new S.Position(u.positionLineNumber,u.positionColumn);let c=r.lineNumber,o=r.column;const d=a.getLineCount(),l=a.getLineMaxColumn(c);if(c===d&&o===l)return null;if(h){const m=this._deleteWordRightWhitespace(a,r);if(m)return m}let p=_._findNextWordOnLine(t,a,r);return n===2?p?o=p.end+1:o<l||c===d?o=l:(c++,p=_._findNextWordOnLine(t,a,new S.Position(c,1)),p?o=p.start+1:o=a.getLineMaxColumn(c)):(p&&o>=p.start+1&&(p=_._findNextWordOnLine(t,a,new S.Position(c,p.end+1))),p?o=p.start+1:o<l||c===d?o=l:(c++,p=_._findNextWordOnLine(t,a,new S.Position(c,1)),p?o=p.start+1:o=a.getLineMaxColumn(c))),new f.Range(c,o,r.lineNumber,r.column)}static _deleteWordPartRight(i,n){if(!n.isEmpty())return n;const t=n.getPosition(),a=_._moveWordPartRight(i,t);return new f.Range(t.lineNumber,t.column,a.lineNumber,a.column)}static _createWordAtPosition(i,n,t){const a=new f.Range(n,t.start+1,n,t.end+1);return{word:i.getValueInRange(a),startColumn:a.startColumn,endColumn:a.endColumn}}static getWordAtPosition(i,n,t){const a=(0,D.getMapForWordSeparators)(n),u=_._findPreviousWordOnLine(a,i,t);if(u&&u.wordType===1&&u.start<=t.column-1&&t.column-1<=u.end)return _._createWordAtPosition(i,t.lineNumber,u);const h=_._findNextWordOnLine(a,i,t);return h&&h.wordType===1&&h.start<=t.column-1&&t.column-1<=h.end?_._createWordAtPosition(i,t.lineNumber,h):null}static word(i,n,t,a,u){const h=(0,D.getMapForWordSeparators)(i.wordSeparators),r=_._findPreviousWordOnLine(h,n,u),c=_._findNextWordOnLine(h,n,u);if(!a){let m,v;return r&&r.wordType===1&&r.start<=u.column-1&&u.column-1<=r.end?(m=r.start+1,v=r.end+1):c&&c.wordType===1&&c.start<=u.column-1&&u.column-1<=c.end?(m=c.start+1,v=c.end+1):(r?m=r.end+1:m=1,c?v=c.start+1:v=n.getLineMaxColumn(u.lineNumber)),new k.SingleCursorState(new f.Range(u.lineNumber,m,u.lineNumber,v),1,0,new S.Position(u.lineNumber,v),0)}let o,d;r&&r.wordType===1&&r.start<u.column-1&&u.column-1<r.end?(o=r.start+1,d=r.end+1):c&&c.wordType===1&&c.start<u.column-1&&u.column-1<c.end?(o=c.start+1,d=c.end+1):(o=u.column,d=u.column);const l=u.lineNumber;let p;if(t.selectionStart.containsPosition(u))p=t.selectionStart.endColumn;else if(u.isBeforeOrEqual(t.selectionStart.getStartPosition())){p=o;const m=new S.Position(l,p);t.selectionStart.containsPosition(m)&&(p=t.selectionStart.endColumn)}else{p=d;const m=new S.Position(l,p);t.selectionStart.containsPosition(m)&&(p=t.selectionStart.startColumn)}return t.move(!0,l,p,0)}}e.WordOperations=_;class g extends _{static deleteWordPartLeft(i){const n=C([_.deleteWordLeft(i,0),_.deleteWordLeft(i,2),_._deleteWordPartLeft(i.model,i.selection)]);return n.sort(f.Range.compareRangesUsingEnds),n[2]}static deleteWordPartRight(i){const n=C([_.deleteWordRight(i,0),_.deleteWordRight(i,2),_._deleteWordPartRight(i.model,i.selection)]);return n.sort(f.Range.compareRangesUsingStarts),n[0]}static moveWordPartLeft(i,n,t){const a=C([_.moveWordLeft(i,n,t,0),_.moveWordLeft(i,n,t,2),_._moveWordPartLeft(n,t)]);return a.sort(S.Position.compare),a[2]}static moveWordPartRight(i,n,t){const a=C([_.moveWordRight(i,n,t,0),_.moveWordRight(i,n,t,2),_._moveWordPartRight(n,t)]);return a.sort(S.Position.compare),a[0]}}e.WordPartOperations=g;function C(s){return s.filter(i=>!!i)}}),define(ne[205],se([1,0,20,74,203,178,12,5]),function(Q,e,L,k,y,D,S,f){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.CursorMove=e.CursorMoveCommands=void 0;class _{static addCursorDown(s,i,n){const t=[];let a=0;for(let u=0,h=i.length;u<h;u++){const r=i[u];t[a++]=new k.CursorState(r.modelState,r.viewState),n?t[a++]=k.CursorState.fromModelState(y.MoveOperations.translateDown(s.cursorConfig,s.model,r.modelState)):t[a++]=k.CursorState.fromViewState(y.MoveOperations.translateDown(s.cursorConfig,s,r.viewState))}return t}static addCursorUp(s,i,n){const t=[];let a=0;for(let u=0,h=i.length;u<h;u++){const r=i[u];t[a++]=new k.CursorState(r.modelState,r.viewState),n?t[a++]=k.CursorState.fromModelState(y.MoveOperations.translateUp(s.cursorConfig,s.model,r.modelState)):t[a++]=k.CursorState.fromViewState(y.MoveOperations.translateUp(s.cursorConfig,s,r.viewState))}return t}static moveToBeginningOfLine(s,i,n){const t=[];for(let a=0,u=i.length;a<u;a++){const h=i[a];t[a]=this._moveToLineStart(s,h,n)}return t}static _moveToLineStart(s,i,n){const t=i.viewState.position.column,a=i.modelState.position.column,u=t===a,h=i.viewState.position.lineNumber,r=s.getLineFirstNonWhitespaceColumn(h);return!u&&!(t===r)?this._moveToLineStartByView(s,i,n):this._moveToLineStartByModel(s,i,n)}static _moveToLineStartByView(s,i,n){return k.CursorState.fromViewState(y.MoveOperations.moveToBeginningOfLine(s.cursorConfig,s,i.viewState,n))}static _moveToLineStartByModel(s,i,n){return k.CursorState.fromModelState(y.MoveOperations.moveToBeginningOfLine(s.cursorConfig,s.model,i.modelState,n))}static moveToEndOfLine(s,i,n,t){const a=[];for(let u=0,h=i.length;u<h;u++){const r=i[u];a[u]=this._moveToLineEnd(s,r,n,t)}return a}static _moveToLineEnd(s,i,n,t){const a=i.viewState.position,u=s.getLineMaxColumn(a.lineNumber),h=a.column===u,r=i.modelState.position,c=s.model.getLineMaxColumn(r.lineNumber),o=u-a.column===c-r.column;return h||o?this._moveToLineEndByModel(s,i,n,t):this._moveToLineEndByView(s,i,n,t)}static _moveToLineEndByView(s,i,n,t){return k.CursorState.fromViewState(y.MoveOperations.moveToEndOfLine(s.cursorConfig,s,i.viewState,n,t))}static _moveToLineEndByModel(s,i,n,t){return k.CursorState.fromModelState(y.MoveOperations.moveToEndOfLine(s.cursorConfig,s.model,i.modelState,n,t))}static expandLineSelection(s,i){const n=[];for(let t=0,a=i.length;t<a;t++){const u=i[t],h=u.modelState.selection.startLineNumber,r=s.model.getLineCount();let c=u.modelState.selection.endLineNumber,o;c===r?o=s.model.getLineMaxColumn(r):(c++,o=1),n[t]=k.CursorState.fromModelState(new k.SingleCursorState(new f.Range(h,1,h,1),0,0,new S.Position(c,o),0))}return n}static moveToBeginningOfBuffer(s,i,n){const t=[];for(let a=0,u=i.length;a<u;a++){const h=i[a];t[a]=k.CursorState.fromModelState(y.MoveOperations.moveToBeginningOfBuffer(s.cursorConfig,s.model,h.modelState,n))}return t}static moveToEndOfBuffer(s,i,n){const t=[];for(let a=0,u=i.length;a<u;a++){const h=i[a];t[a]=k.CursorState.fromModelState(y.MoveOperations.moveToEndOfBuffer(s.cursorConfig,s.model,h.modelState,n))}return t}static selectAll(s,i){const n=s.model.getLineCount(),t=s.model.getLineMaxColumn(n);return k.CursorState.fromModelState(new k.SingleCursorState(new f.Range(1,1,1,1),0,0,new S.Position(n,t),0))}static line(s,i,n,t,a){const u=s.model.validatePosition(t),h=a?s.coordinatesConverter.validateViewPosition(new S.Position(a.lineNumber,a.column),u):s.coordinatesConverter.convertModelPositionToViewPosition(u);if(!n){const c=s.model.getLineCount();let o=u.lineNumber+1,d=1;return o>c&&(o=c,d=s.model.getLineMaxColumn(o)),k.CursorState.fromModelState(new k.SingleCursorState(new f.Range(u.lineNumber,1,o,d),2,0,new S.Position(o,d),0))}const r=i.modelState.selectionStart.getStartPosition().lineNumber;if(u.lineNumber<r)return k.CursorState.fromViewState(i.viewState.move(!0,h.lineNumber,1,0));if(u.lineNumber>r){const c=s.getLineCount();let o=h.lineNumber+1,d=1;return o>c&&(o=c,d=s.getLineMaxColumn(o)),k.CursorState.fromViewState(i.viewState.move(!0,o,d,0))}else{const c=i.modelState.selectionStart.getEndPosition();return k.CursorState.fromModelState(i.modelState.move(!0,c.lineNumber,c.column,0))}}static word(s,i,n,t){const a=s.model.validatePosition(t);return k.CursorState.fromModelState(D.WordOperations.word(s.cursorConfig,s.model,i.modelState,n,a))}static cancelSelection(s,i){if(!i.modelState.hasSelection())return new k.CursorState(i.modelState,i.viewState);const n=i.viewState.position.lineNumber,t=i.viewState.position.column;return k.CursorState.fromViewState(new k.SingleCursorState(new f.Range(n,t,n,t),0,0,new S.Position(n,t),0))}static moveTo(s,i,n,t,a){if(n){if(i.modelState.selectionStartKind===1)return this.word(s,i,n,t);if(i.modelState.selectionStartKind===2)return this.line(s,i,n,t,a)}const u=s.model.validatePosition(t),h=a?s.coordinatesConverter.validateViewPosition(new S.Position(a.lineNumber,a.column),u):s.coordinatesConverter.convertModelPositionToViewPosition(u);return k.CursorState.fromViewState(i.viewState.move(n,h.lineNumber,h.column,0))}static simpleMove(s,i,n,t,a,u){switch(n){case 0:return u===4?this._moveHalfLineLeft(s,i,t):this._moveLeft(s,i,t,a);case 1:return u===4?this._moveHalfLineRight(s,i,t):this._moveRight(s,i,t,a);case 2:return u===2?this._moveUpByViewLines(s,i,t,a):this._moveUpByModelLines(s,i,t,a);case 3:return u===2?this._moveDownByViewLines(s,i,t,a):this._moveDownByModelLines(s,i,t,a);case 4:return u===2?i.map(h=>k.CursorState.fromViewState(y.MoveOperations.moveToPrevBlankLine(s.cursorConfig,s,h.viewState,t))):i.map(h=>k.CursorState.fromModelState(y.MoveOperations.moveToPrevBlankLine(s.cursorConfig,s.model,h.modelState,t)));case 5:return u===2?i.map(h=>k.CursorState.fromViewState(y.MoveOperations.moveToNextBlankLine(s.cursorConfig,s,h.viewState,t))):i.map(h=>k.CursorState.fromModelState(y.MoveOperations.moveToNextBlankLine(s.cursorConfig,s.model,h.modelState,t)));case 6:return this._moveToViewMinColumn(s,i,t);case 7:return this._moveToViewFirstNonWhitespaceColumn(s,i,t);case 8:return this._moveToViewCenterColumn(s,i,t);case 9:return this._moveToViewMaxColumn(s,i,t);case 10:return this._moveToViewLastNonWhitespaceColumn(s,i,t);default:return null}}static viewportMove(s,i,n,t,a){const u=s.getCompletelyVisibleViewRange(),h=s.coordinatesConverter.convertViewRangeToModelRange(u);switch(n){case 11:{const r=this._firstLineNumberInRange(s.model,h,a),c=s.model.getLineFirstNonWhitespaceColumn(r);return[this._moveToModelPosition(s,i[0],t,r,c)]}case 13:{const r=this._lastLineNumberInRange(s.model,h,a),c=s.model.getLineFirstNonWhitespaceColumn(r);return[this._moveToModelPosition(s,i[0],t,r,c)]}case 12:{const r=Math.round((h.startLineNumber+h.endLineNumber)/2),c=s.model.getLineFirstNonWhitespaceColumn(r);return[this._moveToModelPosition(s,i[0],t,r,c)]}case 14:{const r=[];for(let c=0,o=i.length;c<o;c++){const d=i[c];r[c]=this.findPositionInViewportIfOutside(s,d,u,t)}return r}default:return null}}static findPositionInViewportIfOutside(s,i,n,t){const a=i.viewState.position.lineNumber;if(n.startLineNumber<=a&&a<=n.endLineNumber-1)return new k.CursorState(i.modelState,i.viewState);{let u;a>n.endLineNumber-1?u=n.endLineNumber-1:a<n.startLineNumber?u=n.startLineNumber:u=a;const h=y.MoveOperations.vertical(s.cursorConfig,s,a,i.viewState.position.column,i.viewState.leftoverVisibleColumns,u,!1);return k.CursorState.fromViewState(i.viewState.move(t,h.lineNumber,h.column,h.leftoverVisibleColumns))}}static _firstLineNumberInRange(s,i,n){let t=i.startLineNumber;return i.startColumn!==s.getLineMinColumn(t)&&t++,Math.min(i.endLineNumber,t+n-1)}static _lastLineNumberInRange(s,i,n){let t=i.startLineNumber;return i.startColumn!==s.getLineMinColumn(t)&&t++,Math.max(t,i.endLineNumber-n+1)}static _moveLeft(s,i,n,t){return i.map(a=>k.CursorState.fromViewState(y.MoveOperations.moveLeft(s.cursorConfig,s,a.viewState,n,t)))}static _moveHalfLineLeft(s,i,n){const t=[];for(let a=0,u=i.length;a<u;a++){const h=i[a],r=h.viewState.position.lineNumber,c=Math.round(s.getLineContent(r).length/2);t[a]=k.CursorState.fromViewState(y.MoveOperations.moveLeft(s.cursorConfig,s,h.viewState,n,c))}return t}static _moveRight(s,i,n,t){return i.map(a=>k.CursorState.fromViewState(y.MoveOperations.moveRight(s.cursorConfig,s,a.viewState,n,t)))}static _moveHalfLineRight(s,i,n){const t=[];for(let a=0,u=i.length;a<u;a++){const h=i[a],r=h.viewState.position.lineNumber,c=Math.round(s.getLineContent(r).length/2);t[a]=k.CursorState.fromViewState(y.MoveOperations.moveRight(s.cursorConfig,s,h.viewState,n,c))}return t}static _moveDownByViewLines(s,i,n,t){const a=[];for(let u=0,h=i.length;u<h;u++){const r=i[u];a[u]=k.CursorState.fromViewState(y.MoveOperations.moveDown(s.cursorConfig,s,r.viewState,n,t))}return a}static _moveDownByModelLines(s,i,n,t){const a=[];for(let u=0,h=i.length;u<h;u++){const r=i[u];a[u]=k.CursorState.fromModelState(y.MoveOperations.moveDown(s.cursorConfig,s.model,r.modelState,n,t))}return a}static _moveUpByViewLines(s,i,n,t){const a=[];for(let u=0,h=i.length;u<h;u++){const r=i[u];a[u]=k.CursorState.fromViewState(y.MoveOperations.moveUp(s.cursorConfig,s,r.viewState,n,t))}return a}static _moveUpByModelLines(s,i,n,t){const a=[];for(let u=0,h=i.length;u<h;u++){const r=i[u];a[u]=k.CursorState.fromModelState(y.MoveOperations.moveUp(s.cursorConfig,s.model,r.modelState,n,t))}return a}static _moveToViewPosition(s,i,n,t,a){return k.CursorState.fromViewState(i.viewState.move(n,t,a,0))}static _moveToModelPosition(s,i,n,t,a){return k.CursorState.fromModelState(i.modelState.move(n,t,a,0))}static _moveToViewMinColumn(s,i,n){const t=[];for(let a=0,u=i.length;a<u;a++){const h=i[a],r=h.viewState.position.lineNumber,c=s.getLineMinColumn(r);t[a]=this._moveToViewPosition(s,h,n,r,c)}return t}static _moveToViewFirstNonWhitespaceColumn(s,i,n){const t=[];for(let a=0,u=i.length;a<u;a++){const h=i[a],r=h.viewState.position.lineNumber,c=s.getLineFirstNonWhitespaceColumn(r);t[a]=this._moveToViewPosition(s,h,n,r,c)}return t}static _moveToViewCenterColumn(s,i,n){const t=[];for(let a=0,u=i.length;a<u;a++){const h=i[a],r=h.viewState.position.lineNumber,c=Math.round((s.getLineMaxColumn(r)+s.getLineMinColumn(r))/2);t[a]=this._moveToViewPosition(s,h,n,r,c)}return t}static _moveToViewMaxColumn(s,i,n){const t=[];for(let a=0,u=i.length;a<u;a++){const h=i[a],r=h.viewState.position.lineNumber,c=s.getLineMaxColumn(r);t[a]=this._moveToViewPosition(s,h,n,r,c)}return t}static _moveToViewLastNonWhitespaceColumn(s,i,n){const t=[];for(let a=0,u=i.length;a<u;a++){const h=i[a],r=h.viewState.position.lineNumber,c=s.getLineLastNonWhitespaceColumn(r);t[a]=this._moveToViewPosition(s,h,n,r,c)}return t}}e.CursorMoveCommands=_;var g;(function(C){const s=function(n){if(!L.isObject(n))return!1;const t=n;return!(!L.isString(t.to)||!L.isUndefined(t.select)&&!L.isBoolean(t.select)||!L.isUndefined(t.by)&&!L.isString(t.by)||!L.isUndefined(t.value)&&!L.isNumber(t.value))};C.description={description:"Move cursor to a logical position in the view",args:[{name:"Cursor move argument object",description:`Property-value pairs that can be passed through this argument:
					* 'to': A mandatory logical position value providing where to move the cursor.
						\`\`\`
						'left', 'right', 'up', 'down', 'prevBlankLine', 'nextBlankLine',
						'wrappedLineStart', 'wrappedLineEnd', 'wrappedLineColumnCenter'
						'wrappedLineFirstNonWhitespaceCharacter', 'wrappedLineLastNonWhitespaceCharacter'
						'viewPortTop', 'viewPortCenter', 'viewPortBottom', 'viewPortIfOutside'
						\`\`\`
					* 'by': Unit to move. Default is computed based on 'to' value.
						\`\`\`
						'line', 'wrappedLine', 'character', 'halfLine'
						\`\`\`
					* 'value': Number of units to move. Default is '1'.
					* 'select': If 'true' makes the selection. Default is 'false'.
				`,constraint:s,schema:{type:"object",required:["to"],properties:{to:{type:"string",enum:["left","right","up","down","prevBlankLine","nextBlankLine","wrappedLineStart","wrappedLineEnd","wrappedLineColumnCenter","wrappedLineFirstNonWhitespaceCharacter","wrappedLineLastNonWhitespaceCharacter","viewPortTop","viewPortCenter","viewPortBottom","viewPortIfOutside"]},by:{type:"string",enum:["line","wrappedLine","character","halfLine"]},value:{type:"number",default:1},select:{type:"boolean",default:!1}}}}]},C.RawDirection={Left:"left",Right:"right",Up:"up",Down:"down",PrevBlankLine:"prevBlankLine",NextBlankLine:"nextBlankLine",WrappedLineStart:"wrappedLineStart",WrappedLineFirstNonWhitespaceCharacter:"wrappedLineFirstNonWhitespaceCharacter",WrappedLineColumnCenter:"wrappedLineColumnCenter",WrappedLineEnd:"wrappedLineEnd",WrappedLineLastNonWhitespaceCharacter:"wrappedLineLastNonWhitespaceCharacter",ViewPortTop:"viewPortTop",ViewPortCenter:"viewPortCenter",ViewPortBottom:"viewPortBottom",ViewPortIfOutside:"viewPortIfOutside"},C.RawUnit={Line:"line",WrappedLine:"wrappedLine",Character:"character",HalfLine:"halfLine"};function i(n){if(!n.to)return null;let t;switch(n.to){case C.RawDirection.Left:t=0;break;case C.RawDirection.Right:t=1;break;case C.RawDirection.Up:t=2;break;case C.RawDirection.Down:t=3;break;case C.RawDirection.PrevBlankLine:t=4;break;case C.RawDirection.NextBlankLine:t=5;break;case C.RawDirection.WrappedLineStart:t=6;break;case C.RawDirection.WrappedLineFirstNonWhitespaceCharacter:t=7;break;case C.RawDirection.WrappedLineColumnCenter:t=8;break;case C.RawDirection.WrappedLineEnd:t=9;break;case C.RawDirection.WrappedLineLastNonWhitespaceCharacter:t=10;break;case C.RawDirection.ViewPortTop:t=11;break;case C.RawDirection.ViewPortBottom:t=13;break;case C.RawDirection.ViewPortCenter:t=12;break;case C.RawDirection.ViewPortIfOutside:t=14;break;default:return null}let a=0;switch(n.by){case C.RawUnit.Line:a=1;break;case C.RawUnit.WrappedLine:a=2;break;case C.RawUnit.Character:a=3;break;case C.RawUnit.HalfLine:a=4;break}return{direction:t,unit:a,select:!!n.select,value:n.value||1}}C.parse=i})(g||(e.CursorMove=g={}))}),define(ne[497],se([1,0,74,12,5,24]),function(Q,e,L,k,y,D){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.Cursor=void 0;class S{constructor(_){this._selTrackedRange=null,this._trackSelection=!0,this._setState(_,new L.SingleCursorState(new y.Range(1,1,1,1),0,0,new k.Position(1,1),0),new L.SingleCursorState(new y.Range(1,1,1,1),0,0,new k.Position(1,1),0))}dispose(_){this._removeTrackedRange(_)}startTrackingSelection(_){this._trackSelection=!0,this._updateTrackedRange(_)}stopTrackingSelection(_){this._trackSelection=!1,this._removeTrackedRange(_)}_updateTrackedRange(_){this._trackSelection&&(this._selTrackedRange=_.model._setTrackedRange(this._selTrackedRange,this.modelState.selection,0))}_removeTrackedRange(_){this._selTrackedRange=_.model._setTrackedRange(this._selTrackedRange,null,0)}asCursorState(){return new L.CursorState(this.modelState,this.viewState)}readSelectionFromMarkers(_){const g=_.model._getTrackedRange(this._selTrackedRange);return this.modelState.selection.isEmpty()&&!g.isEmpty()?D.Selection.fromRange(g.collapseToEnd(),this.modelState.selection.getDirection()):D.Selection.fromRange(g,this.modelState.selection.getDirection())}ensureValidState(_){this._setState(_,this.modelState,this.viewState)}setState(_,g,C){this._setState(_,g,C)}static _validatePositionWithCache(_,g,C,s){return g.equals(C)?s:_.normalizePosition(g,2)}static _validateViewState(_,g){const C=g.position,s=g.selectionStart.getStartPosition(),i=g.selectionStart.getEndPosition(),n=_.normalizePosition(C,2),t=this._validatePositionWithCache(_,s,C,n),a=this._validatePositionWithCache(_,i,s,t);return C.equals(n)&&s.equals(t)&&i.equals(a)?g:new L.SingleCursorState(y.Range.fromPositions(t,a),g.selectionStartKind,g.selectionStartLeftoverVisibleColumns+s.column-t.column,n,g.leftoverVisibleColumns+C.column-n.column)}_setState(_,g,C){if(C&&(C=S._validateViewState(_.viewModel,C)),g){const s=_.model.validateRange(g.selectionStart),i=g.selectionStart.equalsRange(s)?g.selectionStartLeftoverVisibleColumns:0,n=_.model.validatePosition(g.position),t=g.position.equals(n)?g.leftoverVisibleColumns:0;g=new L.SingleCursorState(s,g.selectionStartKind,i,n,t)}else{if(!C)return;const s=_.model.validateRange(_.coordinatesConverter.convertViewRangeToModelRange(C.selectionStart)),i=_.model.validatePosition(_.coordinatesConverter.convertViewPositionToModelPosition(C.position));g=new L.SingleCursorState(s,C.selectionStartKind,C.selectionStartLeftoverVisibleColumns,i,C.leftoverVisibleColumns)}if(C){const s=_.coordinatesConverter.validateViewRange(C.selectionStart,g.selectionStart),i=_.coordinatesConverter.validateViewPosition(C.position,g.position);C=new L.SingleCursorState(s,g.selectionStartKind,g.selectionStartLeftoverVisibleColumns,i,g.leftoverVisibleColumns)}else{const s=_.coordinatesConverter.convertModelPositionToViewPosition(new k.Position(g.selectionStart.startLineNumber,g.selectionStart.startColumn)),i=_.coordinatesConverter.convertModelPositionToViewPosition(new k.Position(g.selectionStart.endLineNumber,g.selectionStart.endColumn)),n=new y.Range(s.lineNumber,s.column,i.lineNumber,i.column),t=_.coordinatesConverter.convertModelPositionToViewPosition(g.position);C=new L.SingleCursorState(n,g.selectionStartKind,g.selectionStartLeftoverVisibleColumns,t,g.leftoverVisibleColumns)}this.modelState=g,this.viewState=C,this._updateTrackedRange(_)}}e.Cursor=S}),define(ne[498],se([1,0,14,74,497,12,5,24]),function(Q,e,L,k,y,D,S,f){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.CursorCollection=void 0;class _{constructor(C){this.context=C,this.cursors=[new y.Cursor(C)],this.lastAddedCursorIndex=0}dispose(){for(const C of this.cursors)C.dispose(this.context)}startTrackingSelections(){for(const C of this.cursors)C.startTrackingSelection(this.context)}stopTrackingSelections(){for(const C of this.cursors)C.stopTrackingSelection(this.context)}updateContext(C){this.context=C}ensureValidState(){for(const C of this.cursors)C.ensureValidState(this.context)}readSelectionFromMarkers(){return this.cursors.map(C=>C.readSelectionFromMarkers(this.context))}getAll(){return this.cursors.map(C=>C.asCursorState())}getViewPositions(){return this.cursors.map(C=>C.viewState.position)}getTopMostViewPosition(){return(0,L.findMinBy)(this.cursors,(0,L.compareBy)(C=>C.viewState.position,D.Position.compare)).viewState.position}getBottomMostViewPosition(){return(0,L.findLastMaxBy)(this.cursors,(0,L.compareBy)(C=>C.viewState.position,D.Position.compare)).viewState.position}getSelections(){return this.cursors.map(C=>C.modelState.selection)}getViewSelections(){return this.cursors.map(C=>C.viewState.selection)}setSelections(C){this.setStates(k.CursorState.fromModelSelections(C))}getPrimaryCursor(){return this.cursors[0].asCursorState()}setStates(C){C!==null&&(this.cursors[0].setState(this.context,C[0].modelState,C[0].viewState),this._setSecondaryStates(C.slice(1)))}_setSecondaryStates(C){const s=this.cursors.length-1,i=C.length;if(s<i){const n=i-s;for(let t=0;t<n;t++)this._addSecondaryCursor()}else if(s>i){const n=s-i;for(let t=0;t<n;t++)this._removeSecondaryCursor(this.cursors.length-2)}for(let n=0;n<i;n++)this.cursors[n+1].setState(this.context,C[n].modelState,C[n].viewState)}killSecondaryCursors(){this._setSecondaryStates([])}_addSecondaryCursor(){this.cursors.push(new y.Cursor(this.context)),this.lastAddedCursorIndex=this.cursors.length-1}getLastAddedCursorIndex(){return this.cursors.length===1||this.lastAddedCursorIndex===0?0:this.lastAddedCursorIndex}_removeSecondaryCursor(C){this.lastAddedCursorIndex>=C+1&&this.lastAddedCursorIndex--,this.cursors[C+1].dispose(this.context),this.cursors.splice(C+1,1)}normalize(){if(this.cursors.length===1)return;const C=this.cursors.slice(0),s=[];for(let i=0,n=C.length;i<n;i++)s.push({index:i,selection:C[i].modelState.selection});s.sort((0,L.compareBy)(i=>i.selection,S.Range.compareRangesUsingStarts));for(let i=0;i<s.length-1;i++){const n=s[i],t=s[i+1],a=n.selection,u=t.selection;if(!this.context.cursorConfig.multiCursorMergeOverlapping)continue;let h;if(u.isEmpty()||a.isEmpty()?h=u.getStartPosition().isBeforeOrEqual(a.getEndPosition()):h=u.getStartPosition().isBefore(a.getEndPosition()),h){const r=n.index<t.index?i:i+1,c=n.index<t.index?i+1:i,o=s[c].index,d=s[r].index,l=s[c].selection,p=s[r].selection;if(!l.equalsSelection(p)){const m=l.plusRange(p),v=l.selectionStartLineNumber===l.startLineNumber&&l.selectionStartColumn===l.startColumn,b=p.selectionStartLineNumber===p.startLineNumber&&p.selectionStartColumn===p.startColumn;let w;o===this.lastAddedCursorIndex?(w=v,this.lastAddedCursorIndex=d):w=b;let E;w?E=new f.Selection(m.startLineNumber,m.startColumn,m.endLineNumber,m.endColumn):E=new f.Selection(m.endLineNumber,m.endColumn,m.startLineNumber,m.startColumn),s[r].selection=E;const I=k.CursorState.fromModelSelection(E);C[d].setState(this.context,I.modelState,I.viewState)}for(const m of s)m.index>o&&m.index--;C.splice(o,1),s.splice(c,1),this._removeSecondaryCursor(o-1),i--}}}}e.CursorCollection=_}),define(ne[499],se([1,0,110]),function(Q,e,L){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.CharacterPairSupport=void 0;class k{constructor(D){if(D.autoClosingPairs?this._autoClosingPairs=D.autoClosingPairs.map(S=>new L.StandardAutoClosingPairConditional(S)):D.brackets?this._autoClosingPairs=D.brackets.map(S=>new L.StandardAutoClosingPairConditional({open:S[0],close:S[1]})):this._autoClosingPairs=[],D.__electricCharacterSupport&&D.__electricCharacterSupport.docComment){const S=D.__electricCharacterSupport.docComment;this._autoClosingPairs.push(new L.StandardAutoClosingPairConditional({open:S.open,close:S.close||""}))}this._autoCloseBeforeForQuotes=typeof D.autoCloseBefore=="string"?D.autoCloseBefore:k.DEFAULT_AUTOCLOSE_BEFORE_LANGUAGE_DEFINED_QUOTES,this._autoCloseBeforeForBrackets=typeof D.autoCloseBefore=="string"?D.autoCloseBefore:k.DEFAULT_AUTOCLOSE_BEFORE_LANGUAGE_DEFINED_BRACKETS,this._surroundingPairs=D.surroundingPairs||this._autoClosingPairs}getAutoClosingPairs(){return this._autoClosingPairs}getAutoCloseBeforeSet(D){return D?this._autoCloseBeforeForQuotes:this._autoCloseBeforeForBrackets}getSurroundingPairs(){return this._surroundingPairs}}e.CharacterPairSupport=k,k.DEFAULT_AUTOCLOSE_BEFORE_LANGUAGE_DEFINED_QUOTES=`;:.,=}])> 
	`,k.DEFAULT_AUTOCLOSE_BEFORE_LANGUAGE_DEFINED_BRACKETS=`'"\`;:.,=}])> 
	`}),define(ne[500],se([1,0]),function(Q,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.IndentRulesSupport=void 0;function L(y){return y.global&&(y.lastIndex=0),!0}class k{constructor(D){this._indentationRules=D}shouldIncrease(D){return!!(this._indentationRules&&this._indentationRules.increaseIndentPattern&&L(this._indentationRules.increaseIndentPattern)&&this._indentationRules.increaseIndentPattern.test(D))}shouldDecrease(D){return!!(this._indentationRules&&this._indentationRules.decreaseIndentPattern&&L(this._indentationRules.decreaseIndentPattern)&&this._indentationRules.decreaseIndentPattern.test(D))}shouldIndentNextLine(D){return!!(this._indentationRules&&this._indentationRules.indentNextLinePattern&&L(this._indentationRules.indentNextLinePattern)&&this._indentationRules.indentNextLinePattern.test(D))}shouldIgnore(D){return!!(this._indentationRules&&this._indentationRules.unIndentedLinePattern&&L(this._indentationRules.unIndentedLinePattern)&&this._indentationRules.unIndentedLinePattern.test(D))}getIndentMetadata(D){let S=0;return this.shouldIncrease(D)&&(S+=1),this.shouldDecrease(D)&&(S+=2),this.shouldIndentNextLine(D)&&(S+=4),this.shouldIgnore(D)&&(S+=8),S}}e.IndentRulesSupport=k}),define(ne[501],se([1,0]),function(Q,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.BasicInplaceReplace=void 0;class L{constructor(){this._defaultValueSet=[["true","false"],["True","False"],["Private","Public","Friend","ReadOnly","Partial","Protected","WriteOnly"],["public","protected","private"]]}navigateValueSet(y,D,S,f,_){if(y&&D){const g=this.doNavigateValueSet(D,_);if(g)return{range:y,value:g}}if(S&&f){const g=this.doNavigateValueSet(f,_);if(g)return{range:S,value:g}}return null}doNavigateValueSet(y,D){const S=this.numberReplace(y,D);return S!==null?S:this.textReplace(y,D)}numberReplace(y,D){const S=Math.pow(10,y.length-(y.lastIndexOf(".")+1));let f=Number(y);const _=parseFloat(y);return!isNaN(f)&&!isNaN(_)&&f===_?f===0&&!D?null:(f=Math.floor(f*S),f+=D?S:-S,String(f/S)):null}textReplace(y,D){return this.valueSetsReplace(this._defaultValueSet,y,D)}valueSetsReplace(y,D,S){let f=null;for(let _=0,g=y.length;f===null&&_<g;_++)f=this.valueSetReplace(y[_],D,S);return f}valueSetReplace(y,D,S){let f=y.indexOf(D);return f>=0?(f+=S?1:-1,f<0?f=y.length-1:f%=y.length,y[f]):null}}e.BasicInplaceReplace=L,L.INSTANCE=new L}),define(ne[502],se([1,0,261]),function(Q,e,L){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ClosingBracketKind=e.OpeningBracketKind=e.BracketKindBase=e.LanguageBracketsConfiguration=void 0;class k{constructor(g,C){this.languageId=g;const s=C.brackets?y(C.brackets):[],i=new L.CachedFunction(a=>{const u=new Set;return{info:new S(this,a,u),closing:u}}),n=new L.CachedFunction(a=>{const u=new Set,h=new Set;return{info:new f(this,a,u,h),opening:u,openingColorized:h}});for(const[a,u]of s){const h=i.get(a),r=n.get(u);h.closing.add(r.info),r.opening.add(h.info)}const t=C.colorizedBracketPairs?y(C.colorizedBracketPairs):s.filter(a=>!(a[0]==="<"&&a[1]===">"));for(const[a,u]of t){const h=i.get(a),r=n.get(u);h.closing.add(r.info),r.openingColorized.add(h.info),r.opening.add(h.info)}this._openingBrackets=new Map([...i.cachedValues].map(([a,u])=>[a,u.info])),this._closingBrackets=new Map([...n.cachedValues].map(([a,u])=>[a,u.info]))}get openingBrackets(){return[...this._openingBrackets.values()]}get closingBrackets(){return[...this._closingBrackets.values()]}getOpeningBracketInfo(g){return this._openingBrackets.get(g)}getClosingBracketInfo(g){return this._closingBrackets.get(g)}getBracketInfo(g){return this.getOpeningBracketInfo(g)||this.getClosingBracketInfo(g)}}e.LanguageBracketsConfiguration=k;function y(_){return _.filter(([g,C])=>g!==""&&C!=="")}class D{constructor(g,C){this.config=g,this.bracketText=C}get languageId(){return this.config.languageId}}e.BracketKindBase=D;class S extends D{constructor(g,C,s){super(g,C),this.openedBrackets=s,this.isOpeningBracket=!0}}e.OpeningBracketKind=S;class f extends D{constructor(g,C,s,i){super(g,C),this.openingBrackets=s,this.openingColorizedBrackets=i,this.isOpeningBracket=!1}closes(g){return g.config!==this.config?!1:this.openingBrackets.has(g)}closesColorized(g){return g.config!==this.config?!1:this.openingColorizedBrackets.has(g)}getOpeningBrackets(){return[...this.openingBrackets]}}e.ClosingBracketKind=f}),define(ne[503],se([1,0,9,11,110]),function(Q,e,L,k,y){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.OnEnterSupport=void 0;class D{constructor(f){f=f||{},f.brackets=f.brackets||[["(",")"],["{","}"],["[","]"]],this._brackets=[],f.brackets.forEach(_=>{const g=D._createOpenBracketRegExp(_[0]),C=D._createCloseBracketRegExp(_[1]);g&&C&&this._brackets.push({open:_[0],openRegExp:g,close:_[1],closeRegExp:C})}),this._regExpRules=f.onEnterRules||[]}onEnter(f,_,g,C){if(f>=3)for(let s=0,i=this._regExpRules.length;s<i;s++){const n=this._regExpRules[s];if([{reg:n.beforeText,text:g},{reg:n.afterText,text:C},{reg:n.previousLineText,text:_}].every(a=>a.reg?(a.reg.lastIndex=0,a.reg.test(a.text)):!0))return n.action}if(f>=2&&g.length>0&&C.length>0)for(let s=0,i=this._brackets.length;s<i;s++){const n=this._brackets[s];if(n.openRegExp.test(g)&&n.closeRegExp.test(C))return{indentAction:y.IndentAction.IndentOutdent}}if(f>=2&&g.length>0){for(let s=0,i=this._brackets.length;s<i;s++)if(this._brackets[s].openRegExp.test(g))return{indentAction:y.IndentAction.Indent}}return null}static _createOpenBracketRegExp(f){let _=k.escapeRegExpCharacters(f);return/\B/.test(_.charAt(0))||(_="\\b"+_),_+="\\s*$",D._safeRegExp(_)}static _createCloseBracketRegExp(f){let _=k.escapeRegExpCharacters(f);return/\B/.test(_.charAt(_.length-1))||(_=_+"\\b"),_="^\\s*"+_,D._safeRegExp(_)}static _safeRegExp(f){try{return new RegExp(f)}catch(_){return(0,L.onUnexpectedError)(_),null}}}e.OnEnterSupport=D}),define(ne[504],se([1,0,38]),function(Q,e,L){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.generateTokensCSSForColorMap=e.ThemeTrieElement=e.ThemeTrieElementRule=e.strcmp=e.toStandardTokenType=e.TokenTheme=e.ColorMap=e.parseTokenTheme=e.ParsedTokenThemeRule=void 0;class k{constructor(u,h,r,c,o){this._parsedThemeRuleBrand=void 0,this.token=u,this.index=h,this.fontStyle=r,this.foreground=c,this.background=o}}e.ParsedTokenThemeRule=k;function y(a){if(!a||!Array.isArray(a))return[];const u=[];let h=0;for(let r=0,c=a.length;r<c;r++){const o=a[r];let d=-1;if(typeof o.fontStyle=="string"){d=0;const m=o.fontStyle.split(" ");for(let v=0,b=m.length;v<b;v++)switch(m[v]){case"italic":d=d|1;break;case"bold":d=d|2;break;case"underline":d=d|4;break;case"strikethrough":d=d|8;break}}let l=null;typeof o.foreground=="string"&&(l=o.foreground);let p=null;typeof o.background=="string"&&(p=o.background),u[h++]=new k(o.token||"",r,d,l,p)}return u}e.parseTokenTheme=y;function D(a,u){a.sort((v,b)=>{const w=s(v.token,b.token);return w!==0?w:v.index-b.index});let h=0,r="000000",c="ffffff";for(;a.length>=1&&a[0].token==="";){const v=a.shift();v.fontStyle!==-1&&(h=v.fontStyle),v.foreground!==null&&(r=v.foreground),v.background!==null&&(c=v.background)}const o=new f;for(const v of u)o.getId(v);const d=o.getId(r),l=o.getId(c),p=new i(h,d,l),m=new n(p);for(let v=0,b=a.length;v<b;v++){const w=a[v];m.insert(w.token,w.fontStyle,o.getId(w.foreground),o.getId(w.background))}return new _(o,m)}const S=/^#?([0-9A-Fa-f]{6})([0-9A-Fa-f]{2})?$/;class f{constructor(){this._lastColorId=0,this._id2color=[],this._color2id=new Map}getId(u){if(u===null)return 0;const h=u.match(S);if(!h)throw new Error("Illegal value for token color: "+u);u=h[1].toUpperCase();let r=this._color2id.get(u);return r||(r=++this._lastColorId,this._color2id.set(u,r),this._id2color[r]=L.Color.fromHex("#"+u),r)}getColorMap(){return this._id2color.slice(0)}}e.ColorMap=f;class _{static createFromRawTokenTheme(u,h){return this.createFromParsedTokenTheme(y(u),h)}static createFromParsedTokenTheme(u,h){return D(u,h)}constructor(u,h){this._colorMap=u,this._root=h,this._cache=new Map}getColorMap(){return this._colorMap.getColorMap()}_match(u){return this._root.match(u)}match(u,h){let r=this._cache.get(h);if(typeof r>"u"){const c=this._match(h),o=C(h);r=(c.metadata|o<<8)>>>0,this._cache.set(h,r)}return(r|u<<0)>>>0}}e.TokenTheme=_;const g=/\b(comment|string|regex|regexp)\b/;function C(a){const u=a.match(g);if(!u)return 0;switch(u[1]){case"comment":return 1;case"string":return 2;case"regex":return 3;case"regexp":return 3}throw new Error("Unexpected match for standard token type!")}e.toStandardTokenType=C;function s(a,u){return a<u?-1:a>u?1:0}e.strcmp=s;class i{constructor(u,h,r){this._themeTrieElementRuleBrand=void 0,this._fontStyle=u,this._foreground=h,this._background=r,this.metadata=(this._fontStyle<<11|this._foreground<<15|this._background<<24)>>>0}clone(){return new i(this._fontStyle,this._foreground,this._background)}acceptOverwrite(u,h,r){u!==-1&&(this._fontStyle=u),h!==0&&(this._foreground=h),r!==0&&(this._background=r),this.metadata=(this._fontStyle<<11|this._foreground<<15|this._background<<24)>>>0}}e.ThemeTrieElementRule=i;class n{constructor(u){this._themeTrieElementBrand=void 0,this._mainRule=u,this._children=new Map}match(u){if(u==="")return this._mainRule;const h=u.indexOf(".");let r,c;h===-1?(r=u,c=""):(r=u.substring(0,h),c=u.substring(h+1));const o=this._children.get(r);return typeof o<"u"?o.match(c):this._mainRule}insert(u,h,r,c){if(u===""){this._mainRule.acceptOverwrite(h,r,c);return}const o=u.indexOf(".");let d,l;o===-1?(d=u,l=""):(d=u.substring(0,o),l=u.substring(o+1));let p=this._children.get(d);typeof p>"u"&&(p=new n(this._mainRule.clone()),this._children.set(d,p)),p.insert(l,h,r,c)}}e.ThemeTrieElement=n;function t(a){const u=[];for(let h=1,r=a.length;h<r;h++){const c=a[h];u[h]=`.mtk${h} { color: ${c}; }`}return u.push(".mtki { font-style: italic; }"),u.push(".mtkb { font-weight: bold; }"),u.push(".mtku { text-decoration: underline; text-underline-position: under; }"),u.push(".mtks { text-decoration: line-through; }"),u.push(".mtks.mtku { text-decoration: underline line-through; text-underline-position: under; }"),u.join(`
`)}e.generateTokensCSSForColorMap=t}),define(ne[48],se([1,0,47]),function(Q,e,L){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.shouldSynchronizeModel=e.ApplyEditsResult=e.SearchData=e.ValidAnnotatedEditOperation=e.isITextSnapshot=e.FindMatch=e.TextModelResolvedOptions=e.InjectedTextCursorStops=e.MinimapPosition=e.GlyphMarginLane=e.OverviewRulerLane=void 0;var k;(function(t){t[t.Left=1]="Left",t[t.Center=2]="Center",t[t.Right=4]="Right",t[t.Full=7]="Full"})(k||(e.OverviewRulerLane=k={}));var y;(function(t){t[t.Left=1]="Left",t[t.Right=2]="Right"})(y||(e.GlyphMarginLane=y={}));var D;(function(t){t[t.Inline=1]="Inline",t[t.Gutter=2]="Gutter"})(D||(e.MinimapPosition=D={}));var S;(function(t){t[t.Both=0]="Both",t[t.Right=1]="Right",t[t.Left=2]="Left",t[t.None=3]="None"})(S||(e.InjectedTextCursorStops=S={}));class f{get originalIndentSize(){return this._indentSizeIsTabSize?"tabSize":this.indentSize}constructor(a){this._textModelResolvedOptionsBrand=void 0,this.tabSize=Math.max(1,a.tabSize|0),a.indentSize==="tabSize"?(this.indentSize=this.tabSize,this._indentSizeIsTabSize=!0):(this.indentSize=Math.max(1,a.indentSize|0),this._indentSizeIsTabSize=!1),this.insertSpaces=!!a.insertSpaces,this.defaultEOL=a.defaultEOL|0,this.trimAutoWhitespace=!!a.trimAutoWhitespace,this.bracketPairColorizationOptions=a.bracketPairColorizationOptions}equals(a){return this.tabSize===a.tabSize&&this._indentSizeIsTabSize===a._indentSizeIsTabSize&&this.indentSize===a.indentSize&&this.insertSpaces===a.insertSpaces&&this.defaultEOL===a.defaultEOL&&this.trimAutoWhitespace===a.trimAutoWhitespace&&(0,L.equals)(this.bracketPairColorizationOptions,a.bracketPairColorizationOptions)}createChangeEvent(a){return{tabSize:this.tabSize!==a.tabSize,indentSize:this.indentSize!==a.indentSize,insertSpaces:this.insertSpaces!==a.insertSpaces,trimAutoWhitespace:this.trimAutoWhitespace!==a.trimAutoWhitespace}}}e.TextModelResolvedOptions=f;class _{constructor(a,u){this._findMatchBrand=void 0,this.range=a,this.matches=u}}e.FindMatch=_;function g(t){return t&&typeof t.read=="function"}e.isITextSnapshot=g;class C{constructor(a,u,h,r,c,o){this.identifier=a,this.range=u,this.text=h,this.forceMoveMarkers=r,this.isAutoWhitespaceEdit=c,this._isTracked=o}}e.ValidAnnotatedEditOperation=C;class s{constructor(a,u,h){this.regex=a,this.wordSeparators=u,this.simpleSearch=h}}e.SearchData=s;class i{constructor(a,u,h){this.reverseEdits=a,this.changes=u,this.trimAutoWhitespaceLineNumbers=h}}e.ApplyEditsResult=i;function n(t){return!t.isTooLargeForSyncing()&&!t.isForSimpleWidget}e.shouldSynchronizeModel=n}),define(ne[91],se([1,0,11,5]),function(Q,e,L,k){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.lengthOfString=e.lengthsToRange=e.positionToLength=e.lengthGreaterThanEqual=e.lengthLessThanEqual=e.lengthLessThan=e.lengthDiffNonNegative=e.lengthEquals=e.sumLengths=e.lengthAdd=e.lengthGetColumnCountIfZeroLineCount=e.lengthGetLineCount=e.lengthToObj=e.toLength=e.lengthIsZero=e.lengthZero=e.lengthDiff=e.LengthObj=void 0;class y{constructor(p,m){this.lineCount=p,this.columnCount=m}toString(){return`${this.lineCount},${this.columnCount}`}}e.LengthObj=y,y.zero=new y(0,0);function D(l,p,m,v){return l!==m?_(m-l,v):_(0,v-p)}e.lengthDiff=D,e.lengthZero=0;function S(l){return l===0}e.lengthIsZero=S;const f=Math.pow(2,26);function _(l,p){return l*f+p}e.toLength=_;function g(l){const p=l,m=Math.floor(p/f),v=p-m*f;return new y(m,v)}e.lengthToObj=g;function C(l){return Math.floor(l/f)}e.lengthGetLineCount=C;function s(l){return l}e.lengthGetColumnCountIfZeroLineCount=s;function i(l,p){let m=l+p;return p>=f&&(m=m-l%f),m}e.lengthAdd=i;function n(l,p){return l.reduce((m,v)=>i(m,p(v)),e.lengthZero)}e.sumLengths=n;function t(l,p){return l===p}e.lengthEquals=t;function a(l,p){const m=l,v=p;if(v-m<=0)return e.lengthZero;const w=Math.floor(m/f),E=Math.floor(v/f),I=v-E*f;if(w===E){const M=m-w*f;return _(0,I-M)}else return _(E-w,I)}e.lengthDiffNonNegative=a;function u(l,p){return l<p}e.lengthLessThan=u;function h(l,p){return l<=p}e.lengthLessThanEqual=h;function r(l,p){return l>=p}e.lengthGreaterThanEqual=r;function c(l){return _(l.lineNumber-1,l.column-1)}e.positionToLength=c;function o(l,p){const m=l,v=Math.floor(m/f),b=m-v*f,w=p,E=Math.floor(w/f),I=w-E*f;return new k.Range(v+1,b+1,E+1,I+1)}e.lengthsToRange=o;function d(l){const p=(0,L.splitLines)(l);return _(p.length-1,p[p.length-1].length)}e.lengthOfString=d}),define(ne[179],se([1,0,5,91]),function(Q,e,L,k){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.BeforeEditPositionMapper=e.TextEditInfo=void 0;class y{static fromModelContentChanges(_){return _.map(C=>{const s=L.Range.lift(C.range);return new y((0,k.positionToLength)(s.getStartPosition()),(0,k.positionToLength)(s.getEndPosition()),(0,k.lengthOfString)(C.text))}).reverse()}constructor(_,g,C){this.startOffset=_,this.endOffset=g,this.newLength=C}toString(){return`[${(0,k.lengthToObj)(this.startOffset)}...${(0,k.lengthToObj)(this.endOffset)}) -> ${(0,k.lengthToObj)(this.newLength)}`}}e.TextEditInfo=y;class D{constructor(_){this.nextEditIdx=0,this.deltaOldToNewLineCount=0,this.deltaOldToNewColumnCount=0,this.deltaLineIdxInOld=-1,this.edits=_.map(g=>S.from(g))}getOffsetBeforeChange(_){return this.adjustNextEdit(_),this.translateCurToOld(_)}getDistanceToNextChange(_){this.adjustNextEdit(_);const g=this.edits[this.nextEditIdx],C=g?this.translateOldToCur(g.offsetObj):null;return C===null?null:(0,k.lengthDiffNonNegative)(_,C)}translateOldToCur(_){return _.lineCount===this.deltaLineIdxInOld?(0,k.toLength)(_.lineCount+this.deltaOldToNewLineCount,_.columnCount+this.deltaOldToNewColumnCount):(0,k.toLength)(_.lineCount+this.deltaOldToNewLineCount,_.columnCount)}translateCurToOld(_){const g=(0,k.lengthToObj)(_);return g.lineCount-this.deltaOldToNewLineCount===this.deltaLineIdxInOld?(0,k.toLength)(g.lineCount-this.deltaOldToNewLineCount,g.columnCount-this.deltaOldToNewColumnCount):(0,k.toLength)(g.lineCount-this.deltaOldToNewLineCount,g.columnCount)}adjustNextEdit(_){for(;this.nextEditIdx<this.edits.length;){const g=this.edits[this.nextEditIdx],C=this.translateOldToCur(g.endOffsetAfterObj);if((0,k.lengthLessThanEqual)(C,_)){this.nextEditIdx++;const s=(0,k.lengthToObj)(C),i=(0,k.lengthToObj)(this.translateOldToCur(g.endOffsetBeforeObj)),n=s.lineCount-i.lineCount;this.deltaOldToNewLineCount+=n;const t=this.deltaLineIdxInOld===g.endOffsetBeforeObj.lineCount?this.deltaOldToNewColumnCount:0,a=s.columnCount-i.columnCount;this.deltaOldToNewColumnCount=t+a,this.deltaLineIdxInOld=g.endOffsetBeforeObj.lineCount}else break}}}e.BeforeEditPositionMapper=D;class S{static from(_){return new S(_.startOffset,_.endOffset,_.newLength)}constructor(_,g,C){this.endOffsetBeforeObj=(0,k.lengthToObj)(g),this.endOffsetAfterObj=(0,k.lengthToObj)((0,k.lengthAdd)(_,C)),this.offsetObj=(0,k.lengthToObj)(_)}}}),define(ne[278],se([1,0,14,179,91]),function(Q,e,L,k,y){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.combineTextEditInfos=void 0;function D(_,g){if(_.length===0)return g;if(g.length===0)return _;const C=new L.ArrayQueue(f(_)),s=f(g);s.push({modified:!1,lengthBefore:void 0,lengthAfter:void 0});let i=C.dequeue();function n(h){if(h===void 0){const c=C.takeWhile(o=>!0)||[];return i&&c.unshift(i),c}const r=[];for(;i&&!(0,y.lengthIsZero)(h);){const[c,o]=i.splitAt(h);r.push(c),h=(0,y.lengthDiffNonNegative)(c.lengthAfter,h),i=o??C.dequeue()}return(0,y.lengthIsZero)(h)||r.push(new S(!1,h,h)),r}const t=[];function a(h,r,c){if(t.length>0&&(0,y.lengthEquals)(t[t.length-1].endOffset,h)){const o=t[t.length-1];t[t.length-1]=new k.TextEditInfo(o.startOffset,r,(0,y.lengthAdd)(o.newLength,c))}else t.push({startOffset:h,endOffset:r,newLength:c})}let u=y.lengthZero;for(const h of s){const r=n(h.lengthBefore);if(h.modified){const c=(0,y.sumLengths)(r,d=>d.lengthBefore),o=(0,y.lengthAdd)(u,c);a(u,o,h.lengthAfter),u=o}else for(const c of r){const o=u;u=(0,y.lengthAdd)(u,c.lengthBefore),c.modified&&a(o,u,c.lengthAfter)}}return t}e.combineTextEditInfos=D;class S{constructor(g,C,s){this.modified=g,this.lengthBefore=C,this.lengthAfter=s}splitAt(g){const C=(0,y.lengthDiffNonNegative)(g,this.lengthAfter);return(0,y.lengthEquals)(C,y.lengthZero)?[this,void 0]:this.modified?[new S(this.modified,this.lengthBefore,g),new S(this.modified,y.lengthZero,C)]:[new S(this.modified,g,g),new S(this.modified,C,C)]}toString(){return`${this.modified?"M":"U"}:${(0,y.lengthToObj)(this.lengthBefore)} -> ${(0,y.lengthToObj)(this.lengthAfter)}`}}function f(_){const g=[];let C=y.lengthZero;for(const s of _){const i=(0,y.lengthDiffNonNegative)(C,s.startOffset);(0,y.lengthIsZero)(i)||g.push(new S(!1,i,i));const n=(0,y.lengthDiffNonNegative)(s.startOffset,s.endOffset);g.push(new S(!0,n,s.newLength)),C=s.endOffset}return g}}),define(ne[505],se([1,0,91]),function(Q,e,L){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.NodeReader=void 0;class k{constructor(f){this.lastOffset=L.lengthZero,this.nextNodes=[f],this.offsets=[L.lengthZero],this.idxs=[]}readLongestNodeAt(f,_){if((0,L.lengthLessThan)(f,this.lastOffset))throw new Error("Invalid offset");for(this.lastOffset=f;;){const g=D(this.nextNodes);if(!g)return;const C=D(this.offsets);if((0,L.lengthLessThan)(f,C))return;if((0,L.lengthLessThan)(C,f))if((0,L.lengthAdd)(C,g.length)<=f)this.nextNodeAfterCurrent();else{const s=y(g);s!==-1?(this.nextNodes.push(g.getChild(s)),this.offsets.push(C),this.idxs.push(s)):this.nextNodeAfterCurrent()}else{if(_(g))return this.nextNodeAfterCurrent(),g;{const s=y(g);if(s===-1){this.nextNodeAfterCurrent();return}else this.nextNodes.push(g.getChild(s)),this.offsets.push(C),this.idxs.push(s)}}}}nextNodeAfterCurrent(){for(;;){const f=D(this.offsets),_=D(this.nextNodes);if(this.nextNodes.pop(),this.offsets.pop(),this.idxs.length===0)break;const g=D(this.nextNodes),C=y(g,this.idxs[this.idxs.length-1]);if(C!==-1){this.nextNodes.push(g.getChild(C)),this.offsets.push((0,L.lengthAdd)(f,_.length)),this.idxs[this.idxs.length-1]=C;break}else this.idxs.pop()}}}e.NodeReader=k;function y(S,f=-1){for(;;){if(f++,f>=S.childrenLength)return-1;if(S.getChild(f))return f}}function D(S){return S.length>0?S[S.length-1]:void 0}}),define(ne[126],se([1,0]),function(Q,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.DenseKeyProvider=e.identityKeyProvider=e.SmallImmutableSet=void 0;const L=[];class k{static create(S,f){if(S<=128&&f.length===0){let _=k.cache[S];return _||(_=new k(S,f),k.cache[S]=_),_}return new k(S,f)}static getEmpty(){return this.empty}constructor(S,f){this.items=S,this.additionalItems=f}add(S,f){const _=f.getKey(S);let g=_>>5;if(g===0){const s=1<<_|this.items;return s===this.items?this:k.create(s,this.additionalItems)}g--;const C=this.additionalItems.slice(0);for(;C.length<g;)C.push(0);return C[g]|=1<<(_&31),k.create(this.items,C)}merge(S){const f=this.items|S.items;if(this.additionalItems===L&&S.additionalItems===L)return f===this.items?this:f===S.items?S:k.create(f,L);const _=[];for(let g=0;g<Math.max(this.additionalItems.length,S.additionalItems.length);g++){const C=this.additionalItems[g]||0,s=S.additionalItems[g]||0;_.push(C|s)}return k.create(f,_)}intersects(S){if(this.items&S.items)return!0;for(let f=0;f<Math.min(this.additionalItems.length,S.additionalItems.length);f++)if(this.additionalItems[f]&S.additionalItems[f])return!0;return!1}}e.SmallImmutableSet=k,k.cache=new Array(129),k.empty=k.create(0,L),e.identityKeyProvider={getKey(D){return D}};class y{constructor(){this.items=new Map}getKey(S){let f=this.items.get(S);return f===void 0&&(f=this.items.size,this.items.set(S,f)),f}}e.DenseKeyProvider=y}),define(ne[180],se([1,0,9,82,91,126]),function(Q,e,L,k,y,D){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.InvalidBracketAstNode=e.BracketAstNode=e.TextAstNode=e.ListAstNode=e.PairAstNode=void 0;class S{get length(){return this._length}constructor(c){this._length=c}}class f extends S{static create(c,o,d){let l=c.length;return o&&(l=(0,y.lengthAdd)(l,o.length)),d&&(l=(0,y.lengthAdd)(l,d.length)),new f(l,c,o,d,o?o.missingOpeningBracketIds:D.SmallImmutableSet.getEmpty())}get kind(){return 2}get listHeight(){return 0}get childrenLength(){return 3}getChild(c){switch(c){case 0:return this.openingBracket;case 1:return this.child;case 2:return this.closingBracket}throw new Error("Invalid child index")}get children(){const c=[];return c.push(this.openingBracket),this.child&&c.push(this.child),this.closingBracket&&c.push(this.closingBracket),c}constructor(c,o,d,l,p){super(c),this.openingBracket=o,this.child=d,this.closingBracket=l,this.missingOpeningBracketIds=p}canBeReused(c){return!(this.closingBracket===null||c.intersects(this.missingOpeningBracketIds))}deepClone(){return new f(this.length,this.openingBracket.deepClone(),this.child&&this.child.deepClone(),this.closingBracket&&this.closingBracket.deepClone(),this.missingOpeningBracketIds)}computeMinIndentation(c,o){return this.child?this.child.computeMinIndentation((0,y.lengthAdd)(c,this.openingBracket.length),o):Number.MAX_SAFE_INTEGER}}e.PairAstNode=f;class _ extends S{static create23(c,o,d,l=!1){let p=c.length,m=c.missingOpeningBracketIds;if(c.listHeight!==o.listHeight)throw new Error("Invalid list heights");if(p=(0,y.lengthAdd)(p,o.length),m=m.merge(o.missingOpeningBracketIds),d){if(c.listHeight!==d.listHeight)throw new Error("Invalid list heights");p=(0,y.lengthAdd)(p,d.length),m=m.merge(d.missingOpeningBracketIds)}return l?new C(p,c.listHeight+1,c,o,d,m):new g(p,c.listHeight+1,c,o,d,m)}static getEmpty(){return new i(y.lengthZero,0,[],D.SmallImmutableSet.getEmpty())}get kind(){return 4}get missingOpeningBracketIds(){return this._missingOpeningBracketIds}constructor(c,o,d){super(c),this.listHeight=o,this._missingOpeningBracketIds=d,this.cachedMinIndentation=-1}throwIfImmutable(){}makeLastElementMutable(){this.throwIfImmutable();const c=this.childrenLength;if(c===0)return;const o=this.getChild(c-1),d=o.kind===4?o.toMutable():o;return o!==d&&this.setChild(c-1,d),d}makeFirstElementMutable(){if(this.throwIfImmutable(),this.childrenLength===0)return;const o=this.getChild(0),d=o.kind===4?o.toMutable():o;return o!==d&&this.setChild(0,d),d}canBeReused(c){if(c.intersects(this.missingOpeningBracketIds)||this.childrenLength===0)return!1;let o=this;for(;o.kind===4;){const d=o.childrenLength;if(d===0)throw new L.BugIndicatingError;o=o.getChild(d-1)}return o.canBeReused(c)}handleChildrenChanged(){this.throwIfImmutable();const c=this.childrenLength;let o=this.getChild(0).length,d=this.getChild(0).missingOpeningBracketIds;for(let l=1;l<c;l++){const p=this.getChild(l);o=(0,y.lengthAdd)(o,p.length),d=d.merge(p.missingOpeningBracketIds)}this._length=o,this._missingOpeningBracketIds=d,this.cachedMinIndentation=-1}computeMinIndentation(c,o){if(this.cachedMinIndentation!==-1)return this.cachedMinIndentation;let d=Number.MAX_SAFE_INTEGER,l=c;for(let p=0;p<this.childrenLength;p++){const m=this.getChild(p);m&&(d=Math.min(d,m.computeMinIndentation(l,o)),l=(0,y.lengthAdd)(l,m.length))}return this.cachedMinIndentation=d,d}}e.ListAstNode=_;class g extends _{get childrenLength(){return this._item3!==null?3:2}getChild(c){switch(c){case 0:return this._item1;case 1:return this._item2;case 2:return this._item3}throw new Error("Invalid child index")}setChild(c,o){switch(c){case 0:this._item1=o;return;case 1:this._item2=o;return;case 2:this._item3=o;return}throw new Error("Invalid child index")}get children(){return this._item3?[this._item1,this._item2,this._item3]:[this._item1,this._item2]}get item1(){return this._item1}get item2(){return this._item2}get item3(){return this._item3}constructor(c,o,d,l,p,m){super(c,o,m),this._item1=d,this._item2=l,this._item3=p}deepClone(){return new g(this.length,this.listHeight,this._item1.deepClone(),this._item2.deepClone(),this._item3?this._item3.deepClone():null,this.missingOpeningBracketIds)}appendChildOfSameHeight(c){if(this._item3)throw new Error("Cannot append to a full (2,3) tree node");this.throwIfImmutable(),this._item3=c,this.handleChildrenChanged()}unappendChild(){if(!this._item3)throw new Error("Cannot remove from a non-full (2,3) tree node");this.throwIfImmutable();const c=this._item3;return this._item3=null,this.handleChildrenChanged(),c}prependChildOfSameHeight(c){if(this._item3)throw new Error("Cannot prepend to a full (2,3) tree node");this.throwIfImmutable(),this._item3=this._item2,this._item2=this._item1,this._item1=c,this.handleChildrenChanged()}unprependChild(){if(!this._item3)throw new Error("Cannot remove from a non-full (2,3) tree node");this.throwIfImmutable();const c=this._item1;return this._item1=this._item2,this._item2=this._item3,this._item3=null,this.handleChildrenChanged(),c}toMutable(){return this}}class C extends g{toMutable(){return new g(this.length,this.listHeight,this.item1,this.item2,this.item3,this.missingOpeningBracketIds)}throwIfImmutable(){throw new Error("this instance is immutable")}}class s extends _{get childrenLength(){return this._children.length}getChild(c){return this._children[c]}setChild(c,o){this._children[c]=o}get children(){return this._children}constructor(c,o,d,l){super(c,o,l),this._children=d}deepClone(){const c=new Array(this._children.length);for(let o=0;o<this._children.length;o++)c[o]=this._children[o].deepClone();return new s(this.length,this.listHeight,c,this.missingOpeningBracketIds)}appendChildOfSameHeight(c){this.throwIfImmutable(),this._children.push(c),this.handleChildrenChanged()}unappendChild(){this.throwIfImmutable();const c=this._children.pop();return this.handleChildrenChanged(),c}prependChildOfSameHeight(c){this.throwIfImmutable(),this._children.unshift(c),this.handleChildrenChanged()}unprependChild(){this.throwIfImmutable();const c=this._children.shift();return this.handleChildrenChanged(),c}toMutable(){return this}}class i extends s{toMutable(){return new s(this.length,this.listHeight,[...this.children],this.missingOpeningBracketIds)}throwIfImmutable(){throw new Error("this instance is immutable")}}const n=[];class t extends S{get listHeight(){return 0}get childrenLength(){return 0}getChild(c){return null}get children(){return n}deepClone(){return this}}class a extends t{get kind(){return 0}get missingOpeningBracketIds(){return D.SmallImmutableSet.getEmpty()}canBeReused(c){return!0}computeMinIndentation(c,o){const d=(0,y.lengthToObj)(c),l=(d.columnCount===0?d.lineCount:d.lineCount+1)+1,p=(0,y.lengthGetLineCount)((0,y.lengthAdd)(c,this.length))+1;let m=Number.MAX_SAFE_INTEGER;for(let v=l;v<=p;v++){const b=o.getLineFirstNonWhitespaceColumn(v),w=o.getLineContent(v);if(b===0)continue;const E=k.CursorColumns.visibleColumnFromColumn(w,b,o.getOptions().tabSize);m=Math.min(m,E)}return m}}e.TextAstNode=a;class u extends t{static create(c,o,d){return new u(c,o,d)}get kind(){return 1}get missingOpeningBracketIds(){return D.SmallImmutableSet.getEmpty()}constructor(c,o,d){super(c),this.bracketInfo=o,this.bracketIds=d}get text(){return this.bracketInfo.bracketText}get languageId(){return this.bracketInfo.languageId}canBeReused(c){return!1}computeMinIndentation(c,o){return Number.MAX_SAFE_INTEGER}}e.BracketAstNode=u;class h extends t{get kind(){return 3}constructor(c,o){super(o),this.missingOpeningBracketIds=c}canBeReused(c){return!c.intersects(this.missingOpeningBracketIds)}computeMinIndentation(c,o){return Number.MAX_SAFE_INTEGER}}e.InvalidBracketAstNode=h}),define(ne[506],se([1,0,180]),function(Q,e,L){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.concat23TreesOfSameHeight=e.concat23Trees=void 0;function k(g){if(g.length===0)return null;if(g.length===1)return g[0];let C=0;function s(){if(C>=g.length)return null;const a=C,u=g[a].listHeight;for(C++;C<g.length&&g[C].listHeight===u;)C++;return C-a>=2?y(a===0&&C===g.length?g:g.slice(a,C),!1):g[a]}let i=s(),n=s();if(!n)return i;for(let a=s();a;a=s())D(i,n)<=D(n,a)?(i=S(i,n),n=a):n=S(n,a);return S(i,n)}e.concat23Trees=k;function y(g,C=!1){if(g.length===0)return null;if(g.length===1)return g[0];let s=g.length;for(;s>3;){const i=s>>1;for(let n=0;n<i;n++){const t=n<<1;g[n]=L.ListAstNode.create23(g[t],g[t+1],t+3===s?g[t+2]:null,C)}s=i}return L.ListAstNode.create23(g[0],g[1],s>=3?g[2]:null,C)}e.concat23TreesOfSameHeight=y;function D(g,C){return Math.abs(g.listHeight-C.listHeight)}function S(g,C){return g.listHeight===C.listHeight?L.ListAstNode.create23(g,C,null,!1):g.listHeight>C.listHeight?f(g,C):_(C,g)}function f(g,C){g=g.toMutable();let s=g;const i=[];let n;for(;;){if(C.listHeight===s.listHeight){n=C;break}if(s.kind!==4)throw new Error("unexpected");i.push(s),s=s.makeLastElementMutable()}for(let t=i.length-1;t>=0;t--){const a=i[t];n?a.childrenLength>=3?n=L.ListAstNode.create23(a.unappendChild(),n,null,!1):(a.appendChildOfSameHeight(n),n=void 0):a.handleChildrenChanged()}return n?L.ListAstNode.create23(g,n,null,!1):g}function _(g,C){g=g.toMutable();let s=g;const i=[];for(;C.listHeight!==s.listHeight;){if(s.kind!==4)throw new Error("unexpected");i.push(s),s=s.makeFirstElementMutable()}let n=C;for(let t=i.length-1;t>=0;t--){const a=i[t];n?a.childrenLength>=3?n=L.ListAstNode.create23(n,a.unprependChild(),null,!1):(a.prependChildOfSameHeight(n),n=void 0):a.handleChildrenChanged()}return n?L.ListAstNode.create23(n,g,null,!1):g}}),define(ne[279],se([1,0,180,179,126,91,506,505]),function(Q,e,L,k,y,D,S,f){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.parseDocument=void 0;function _(C,s,i,n){return new g(C,s,i,n).parseDocument()}e.parseDocument=_;class g{constructor(s,i,n,t){if(this.tokenizer=s,this.createImmutableLists=t,this._itemsConstructed=0,this._itemsFromCache=0,n&&t)throw new Error("Not supported");this.oldNodeReader=n?new f.NodeReader(n):void 0,this.positionMapper=new k.BeforeEditPositionMapper(i)}parseDocument(){this._itemsConstructed=0,this._itemsFromCache=0;let s=this.parseList(y.SmallImmutableSet.getEmpty(),0);return s||(s=L.ListAstNode.getEmpty()),s}parseList(s,i){const n=[];for(;;){let a=this.tryReadChildFromCache(s);if(!a){const u=this.tokenizer.peek();if(!u||u.kind===2&&u.bracketIds.intersects(s))break;a=this.parseChild(s,i+1)}a.kind===4&&a.childrenLength===0||n.push(a)}return this.oldNodeReader?(0,S.concat23Trees)(n):(0,S.concat23TreesOfSameHeight)(n,this.createImmutableLists)}tryReadChildFromCache(s){if(this.oldNodeReader){const i=this.positionMapper.getDistanceToNextChange(this.tokenizer.offset);if(i===null||!(0,D.lengthIsZero)(i)){const n=this.oldNodeReader.readLongestNodeAt(this.positionMapper.getOffsetBeforeChange(this.tokenizer.offset),t=>i!==null&&!(0,D.lengthLessThan)(t.length,i)?!1:t.canBeReused(s));if(n)return this._itemsFromCache++,this.tokenizer.skip(n.length),n}}}parseChild(s,i){this._itemsConstructed++;const n=this.tokenizer.read();switch(n.kind){case 2:return new L.InvalidBracketAstNode(n.bracketIds,n.length);case 0:return n.astNode;case 1:{if(i>300)return new L.TextAstNode(n.length);const t=s.merge(n.bracketIds),a=this.parseList(t,i+1),u=this.tokenizer.peek();return u&&u.kind===2&&(u.bracketId===n.bracketId||u.bracketIds.intersects(n.bracketIds))?(this.tokenizer.read(),L.PairAstNode.create(n.astNode,a,u.astNode)):L.PairAstNode.create(n.astNode,a,null)}default:throw new Error("unexpected")}}}}),define(ne[206],se([1,0,9,124,180,91,126]),function(Q,e,L,k,y,D,S){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.FastTokenizer=e.TextBufferTokenizer=e.Token=void 0;class f{constructor(i,n,t,a,u){this.length=i,this.kind=n,this.bracketId=t,this.bracketIds=a,this.astNode=u}}e.Token=f;class _{constructor(i,n){this.textModel=i,this.bracketTokens=n,this.reader=new g(this.textModel,this.bracketTokens),this._offset=D.lengthZero,this.didPeek=!1,this.peeked=null,this.textBufferLineCount=i.getLineCount(),this.textBufferLastLineLength=i.getLineLength(this.textBufferLineCount)}get offset(){return this._offset}get length(){return(0,D.toLength)(this.textBufferLineCount-1,this.textBufferLastLineLength)}skip(i){this.didPeek=!1,this._offset=(0,D.lengthAdd)(this._offset,i);const n=(0,D.lengthToObj)(this._offset);this.reader.setPosition(n.lineCount,n.columnCount)}read(){let i;return this.peeked?(this.didPeek=!1,i=this.peeked):i=this.reader.read(),i&&(this._offset=(0,D.lengthAdd)(this._offset,i.length)),i}peek(){return this.didPeek||(this.peeked=this.reader.read(),this.didPeek=!0),this.peeked}}e.TextBufferTokenizer=_;class g{constructor(i,n){this.textModel=i,this.bracketTokens=n,this.lineIdx=0,this.line=null,this.lineCharOffset=0,this.lineTokens=null,this.lineTokenOffset=0,this.peekedToken=null,this.textBufferLineCount=i.getLineCount(),this.textBufferLastLineLength=i.getLineLength(this.textBufferLineCount)}setPosition(i,n){i===this.lineIdx?(this.lineCharOffset=n,this.line!==null&&(this.lineTokenOffset=this.lineCharOffset===0?0:this.lineTokens.findTokenIndexAtOffset(this.lineCharOffset))):(this.lineIdx=i,this.lineCharOffset=n,this.line=null),this.peekedToken=null}read(){if(this.peekedToken){const u=this.peekedToken;return this.peekedToken=null,this.lineCharOffset+=(0,D.lengthGetColumnCountIfZeroLineCount)(u.length),u}if(this.lineIdx>this.textBufferLineCount-1||this.lineIdx===this.textBufferLineCount-1&&this.lineCharOffset>=this.textBufferLastLineLength)return null;this.line===null&&(this.lineTokens=this.textModel.tokenization.getLineTokens(this.lineIdx+1),this.line=this.lineTokens.getLineContent(),this.lineTokenOffset=this.lineCharOffset===0?0:this.lineTokens.findTokenIndexAtOffset(this.lineCharOffset));const i=this.lineIdx,n=this.lineCharOffset;let t=0;for(;;){const u=this.lineTokens,h=u.getCount();let r=null;if(this.lineTokenOffset<h){const c=u.getMetadata(this.lineTokenOffset);for(;this.lineTokenOffset+1<h&&c===u.getMetadata(this.lineTokenOffset+1);)this.lineTokenOffset++;const o=k.TokenMetadata.getTokenType(c)===0,d=k.TokenMetadata.containsBalancedBrackets(c),l=u.getEndOffset(this.lineTokenOffset);if(d&&o&&this.lineCharOffset<l){const p=u.getLanguageId(this.lineTokenOffset),m=this.line.substring(this.lineCharOffset,l),v=this.bracketTokens.getSingleLanguageBracketTokens(p),b=v.regExpGlobal;if(b){b.lastIndex=0;const w=b.exec(m);w&&(r=v.getToken(w[0]),r&&(this.lineCharOffset+=w.index))}}if(t+=l-this.lineCharOffset,r)if(i!==this.lineIdx||n!==this.lineCharOffset){this.peekedToken=r;break}else return this.lineCharOffset+=(0,D.lengthGetColumnCountIfZeroLineCount)(r.length),r;else this.lineTokenOffset++,this.lineCharOffset=l}else if(this.lineIdx===this.textBufferLineCount-1||(this.lineIdx++,this.lineTokens=this.textModel.tokenization.getLineTokens(this.lineIdx+1),this.lineTokenOffset=0,this.line=this.lineTokens.getLineContent(),this.lineCharOffset=0,t+=33,t>1e3))break;if(t>1500)break}const a=(0,D.lengthDiff)(i,n,this.lineIdx,this.lineCharOffset);return new f(a,0,-1,S.SmallImmutableSet.getEmpty(),new y.TextAstNode(a))}}class C{constructor(i,n){this.text=i,this._offset=D.lengthZero,this.idx=0;const t=n.getRegExpStr(),a=t?new RegExp(t+`|
`,"gi"):null,u=[];let h,r=0,c=0,o=0,d=0;const l=[];for(let v=0;v<60;v++)l.push(new f((0,D.toLength)(0,v),0,-1,S.SmallImmutableSet.getEmpty(),new y.TextAstNode((0,D.toLength)(0,v))));const p=[];for(let v=0;v<60;v++)p.push(new f((0,D.toLength)(1,v),0,-1,S.SmallImmutableSet.getEmpty(),new y.TextAstNode((0,D.toLength)(1,v))));if(a)for(a.lastIndex=0;(h=a.exec(i))!==null;){const v=h.index,b=h[0];if(b===`
`)r++,c=v+1;else{if(o!==v){let w;if(d===r){const E=v-o;if(E<l.length)w=l[E];else{const I=(0,D.toLength)(0,E);w=new f(I,0,-1,S.SmallImmutableSet.getEmpty(),new y.TextAstNode(I))}}else{const E=r-d,I=v-c;if(E===1&&I<p.length)w=p[I];else{const M=(0,D.toLength)(E,I);w=new f(M,0,-1,S.SmallImmutableSet.getEmpty(),new y.TextAstNode(M))}}u.push(w)}u.push(n.getToken(b)),o=v+b.length,d=r}}const m=i.length;if(o!==m){const v=d===r?(0,D.toLength)(0,m-o):(0,D.toLength)(r-d,m-c);u.push(new f(v,0,-1,S.SmallImmutableSet.getEmpty(),new y.TextAstNode(v)))}this.length=(0,D.toLength)(r,m-c),this.tokens=u}get offset(){return this._offset}read(){return this.tokens[this.idx++]||null}peek(){return this.tokens[this.idx]||null}skip(i){throw new L.NotSupportedError}}e.FastTokenizer=C}),define(ne[280],se([1,0,11,180,91,126,206]),function(Q,e,L,k,y,D,S){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.LanguageAgnosticBracketTokens=e.BracketTokens=void 0;class f{static createFromLanguage(s,i){function n(a){return i.getKey(`${a.languageId}:::${a.bracketText}`)}const t=new Map;for(const a of s.bracketsNew.openingBrackets){const u=(0,y.toLength)(0,a.bracketText.length),h=n(a),r=D.SmallImmutableSet.getEmpty().add(h,D.identityKeyProvider);t.set(a.bracketText,new S.Token(u,1,h,r,k.BracketAstNode.create(u,a,r)))}for(const a of s.bracketsNew.closingBrackets){const u=(0,y.toLength)(0,a.bracketText.length);let h=D.SmallImmutableSet.getEmpty();const r=a.getOpeningBrackets();for(const c of r)h=h.add(n(c),D.identityKeyProvider);t.set(a.bracketText,new S.Token(u,2,n(r[0]),h,k.BracketAstNode.create(u,a,h)))}return new f(t)}constructor(s){this.map=s,this.hasRegExp=!1,this._regExpGlobal=null}getRegExpStr(){if(this.isEmpty)return null;{const s=[...this.map.keys()];return s.sort(),s.reverse(),s.map(i=>_(i)).join("|")}}get regExpGlobal(){if(!this.hasRegExp){const s=this.getRegExpStr();this._regExpGlobal=s?new RegExp(s,"gi"):null,this.hasRegExp=!0}return this._regExpGlobal}getToken(s){return this.map.get(s.toLowerCase())}findClosingTokenText(s){for(const[i,n]of this.map)if(n.kind===2&&n.bracketIds.intersects(s))return i}get isEmpty(){return this.map.size===0}}e.BracketTokens=f;function _(C){let s=(0,L.escapeRegExpCharacters)(C);return/^[\w ]+/.test(C)&&(s=`\\b${s}`),/[\w ]+$/.test(C)&&(s=`${s}\\b`),s}class g{constructor(s,i){this.denseKeyProvider=s,this.getLanguageConfiguration=i,this.languageIdToBracketTokens=new Map}didLanguageChange(s){return this.languageIdToBracketTokens.has(s)}getSingleLanguageBracketTokens(s){let i=this.languageIdToBracketTokens.get(s);return i||(i=f.createFromLanguage(this.getLanguageConfiguration(s),this.denseKeyProvider),this.languageIdToBracketTokens.set(s,i)),i}}e.LanguageAgnosticBracketTokens=g}),define(ne[507],se([1,0,280,91,279,126,206]),function(Q,e,L,k,y,D,S){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.fixBracketsInLine=void 0;function f(g,C){const s=new D.DenseKeyProvider,i=new L.LanguageAgnosticBracketTokens(s,r=>C.getLanguageConfiguration(r)),n=new S.TextBufferTokenizer(new _([g]),i),t=(0,y.parseDocument)(n,[],void 0,!0);let a="";const u=g.getLineContent();function h(r,c){if(r.kind===2)if(h(r.openingBracket,c),c=(0,k.lengthAdd)(c,r.openingBracket.length),r.child&&(h(r.child,c),c=(0,k.lengthAdd)(c,r.child.length)),r.closingBracket)h(r.closingBracket,c),c=(0,k.lengthAdd)(c,r.closingBracket.length);else{const d=i.getSingleLanguageBracketTokens(r.openingBracket.languageId).findClosingTokenText(r.openingBracket.bracketIds);a+=d}else if(r.kind!==3){if(r.kind===0||r.kind===1)a+=u.substring((0,k.lengthGetColumnCountIfZeroLineCount)(c),(0,k.lengthGetColumnCountIfZeroLineCount)((0,k.lengthAdd)(c,r.length)));else if(r.kind===4)for(const o of r.children)h(o,c),c=(0,k.lengthAdd)(c,o.length)}}return h(t,k.lengthZero),a}e.fixBracketsInLine=f;class _{constructor(C){this.lines=C,this.tokenization={getLineTokens:s=>this.lines[s-1]}}getLineCount(){return this.lines.length}getLineLength(C){return this.lines[C-1].getLineContent().length}}}),define(ne[508],se([1,0,14]),function(Q,e,L){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.FixedArray=void 0;class k{constructor(S){this._default=S,this._store=[]}get(S){return S<this._store.length?this._store[S]:this._default}set(S,f){for(;S>=this._store.length;)this._store[this._store.length]=this._default;this._store[S]=f}replace(S,f,_){if(S>=this._store.length)return;if(f===0){this.insert(S,_);return}else if(_===0){this.delete(S,f);return}const g=this._store.slice(0,S),C=this._store.slice(S+f),s=y(_,this._default);this._store=g.concat(s,C)}delete(S,f){f===0||S>=this._store.length||this._store.splice(S,f)}insert(S,f){if(f===0||S>=this._store.length)return;const _=[];for(let g=0;g<f;g++)_[g]=this._default;this._store=(0,L.arrayInsert)(this._store,S,_)}}e.FixedArray=k;function y(D,S){const f=[];for(let _=0;_<D;_++)f[_]=S;return f}}),define(ne[509],se([1,0]),function(Q,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.guessIndentation=void 0;class L{constructor(){this.spacesDiff=0,this.looksLikeAlignment=!1}}function k(D,S,f,_,g){g.spacesDiff=0,g.looksLikeAlignment=!1;let C;for(C=0;C<S&&C<_;C++){const h=D.charCodeAt(C),r=f.charCodeAt(C);if(h!==r)break}let s=0,i=0;for(let h=C;h<S;h++)D.charCodeAt(h)===32?s++:i++;let n=0,t=0;for(let h=C;h<_;h++)f.charCodeAt(h)===32?n++:t++;if(s>0&&i>0||n>0&&t>0)return;const a=Math.abs(i-t),u=Math.abs(s-n);if(a===0){g.spacesDiff=u,u>0&&0<=n-1&&n-1<D.length&&n<f.length&&f.charCodeAt(n)!==32&&D.charCodeAt(n-1)===32&&D.charCodeAt(D.length-1)===44&&(g.looksLikeAlignment=!0);return}if(u%a===0){g.spacesDiff=u/a;return}}function y(D,S,f){const _=Math.min(D.getLineCount(),1e4);let g=0,C=0,s="",i=0;const n=[2,4,6,8,3,5,7],t=8,a=[0,0,0,0,0,0,0,0,0],u=new L;for(let c=1;c<=_;c++){const o=D.getLineLength(c),d=D.getLineContent(c),l=o<=65536;let p=!1,m=0,v=0,b=0;for(let E=0,I=o;E<I;E++){const M=l?d.charCodeAt(E):D.getLineCharCode(c,E);if(M===9)b++;else if(M===32)v++;else{p=!0,m=E;break}}if(!p||(b>0?g++:v>1&&C++,k(s,i,d,m,u),u.looksLikeAlignment&&!(f&&S===u.spacesDiff)))continue;const w=u.spacesDiff;w<=t&&a[w]++,s=d,i=m}let h=f;g!==C&&(h=g<C);let r=S;if(h){let c=h?0:.1*_;n.forEach(o=>{const d=a[o];d>c&&(c=d,r=o)}),r===4&&a[4]>0&&a[2]>0&&a[2]>=a[4]/2&&(r=2)}return{insertSpaces:h,tabSize:r}}e.guessIndentation=y}),define(ne[510],se([1,0]),function(Q,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.intervalCompare=e.recomputeMaxEnd=e.nodeAcceptEdit=e.IntervalTree=e.SENTINEL=e.IntervalNode=e.getNodeColor=void 0;function L(F){return(F.metadata&1)>>>0}e.getNodeColor=L;function k(F,O){F.metadata=F.metadata&254|O<<0}function y(F){return(F.metadata&2)>>>1===1}function D(F,O){F.metadata=F.metadata&253|(O?1:0)<<1}function S(F){return(F.metadata&4)>>>2===1}function f(F,O){F.metadata=F.metadata&251|(O?1:0)<<2}function _(F){return(F.metadata&64)>>>6===1}function g(F,O){F.metadata=F.metadata&191|(O?1:0)<<6}function C(F){return(F.metadata&24)>>>3}function s(F,O){F.metadata=F.metadata&231|O<<3}function i(F){return(F.metadata&32)>>>5===1}function n(F,O){F.metadata=F.metadata&223|(O?1:0)<<5}class t{constructor(O,W,U){this.metadata=0,this.parent=this,this.left=this,this.right=this,k(this,1),this.start=W,this.end=U,this.delta=0,this.maxEnd=U,this.id=O,this.ownerId=0,this.options=null,f(this,!1),g(this,!1),s(this,1),n(this,!1),this.cachedVersionId=0,this.cachedAbsoluteStart=W,this.cachedAbsoluteEnd=U,this.range=null,D(this,!1)}reset(O,W,U,j){this.start=W,this.end=U,this.maxEnd=U,this.cachedVersionId=O,this.cachedAbsoluteStart=W,this.cachedAbsoluteEnd=U,this.range=j}setOptions(O){this.options=O;const W=this.options.className;f(this,W==="squiggly-error"||W==="squiggly-warning"||W==="squiggly-info"),g(this,this.options.glyphMarginClassName!==null),s(this,this.options.stickiness),n(this,this.options.collapseOnReplaceEdit)}setCachedOffsets(O,W,U){this.cachedVersionId!==U&&(this.range=null),this.cachedVersionId=U,this.cachedAbsoluteStart=O,this.cachedAbsoluteEnd=W}detach(){this.parent=null,this.left=null,this.right=null}}e.IntervalNode=t,e.SENTINEL=new t(null,0,0),e.SENTINEL.parent=e.SENTINEL,e.SENTINEL.left=e.SENTINEL,e.SENTINEL.right=e.SENTINEL,k(e.SENTINEL,0);class a{constructor(){this.root=e.SENTINEL,this.requestNormalizeDelta=!1}intervalSearch(O,W,U,j,R,K){return this.root===e.SENTINEL?[]:m(this,O,W,U,j,R,K)}search(O,W,U,j){return this.root===e.SENTINEL?[]:p(this,O,W,U,j)}collectNodesFromOwner(O){return d(this,O)}collectNodesPostOrder(){return l(this)}insert(O){v(this,O),this._normalizeDeltaIfNecessary()}delete(O){w(this,O),this._normalizeDeltaIfNecessary()}resolveNode(O,W){const U=O;let j=0;for(;O!==this.root;)O===O.parent.right&&(j+=O.parent.delta),O=O.parent;const R=U.start+j,K=U.end+j;U.setCachedOffsets(R,K,W)}acceptReplace(O,W,U,j){const R=c(this,O,O+W);for(let K=0,G=R.length;K<G;K++){const Z=R[K];w(this,Z)}this._normalizeDeltaIfNecessary(),o(this,O,O+W,U),this._normalizeDeltaIfNecessary();for(let K=0,G=R.length;K<G;K++){const Z=R[K];Z.start=Z.cachedAbsoluteStart,Z.end=Z.cachedAbsoluteEnd,r(Z,O,O+W,U,j),Z.maxEnd=Z.end,v(this,Z)}this._normalizeDeltaIfNecessary()}_normalizeDeltaIfNecessary(){this.requestNormalizeDelta&&(this.requestNormalizeDelta=!1,u(this))}}e.IntervalTree=a;function u(F){let O=F.root,W=0;for(;O!==e.SENTINEL;){if(O.left!==e.SENTINEL&&!y(O.left)){O=O.left;continue}if(O.right!==e.SENTINEL&&!y(O.right)){W+=O.delta,O=O.right;continue}O.start=W+O.start,O.end=W+O.end,O.delta=0,T(O),D(O,!0),D(O.left,!1),D(O.right,!1),O===O.parent.right&&(W-=O.parent.delta),O=O.parent}D(F.root,!1)}function h(F,O,W,U){return F<W?!0:F>W||U===1?!1:U===2?!0:O}function r(F,O,W,U,j){const R=C(F),K=R===0||R===2,G=R===1||R===2,Z=W-O,J=U,X=Math.min(Z,J),H=F.start;let B=!1;const V=F.end;let Y=!1;O<=H&&V<=W&&i(F)&&(F.start=O,B=!0,F.end=O,Y=!0);{const ae=j?1:Z>0?2:0;!B&&h(H,K,O,ae)&&(B=!0),!Y&&h(V,G,O,ae)&&(Y=!0)}if(X>0&&!j){const ae=Z>J?2:0;!B&&h(H,K,O+X,ae)&&(B=!0),!Y&&h(V,G,O+X,ae)&&(Y=!0)}{const ae=j?1:0;!B&&h(H,K,W,ae)&&(F.start=O+J,B=!0),!Y&&h(V,G,W,ae)&&(F.end=O+J,Y=!0)}const ie=J-Z;B||(F.start=Math.max(0,H+ie)),Y||(F.end=Math.max(0,V+ie)),F.start>F.end&&(F.end=F.start)}e.nodeAcceptEdit=r;function c(F,O,W){let U=F.root,j=0,R=0,K=0,G=0;const Z=[];let J=0;for(;U!==e.SENTINEL;){if(y(U)){D(U.left,!1),D(U.right,!1),U===U.parent.right&&(j-=U.parent.delta),U=U.parent;continue}if(!y(U.left)){if(R=j+U.maxEnd,R<O){D(U,!0);continue}if(U.left!==e.SENTINEL){U=U.left;continue}}if(K=j+U.start,K>W){D(U,!0);continue}if(G=j+U.end,G>=O&&(U.setCachedOffsets(K,G,0),Z[J++]=U),D(U,!0),U.right!==e.SENTINEL&&!y(U.right)){j+=U.delta,U=U.right;continue}}return D(F.root,!1),Z}function o(F,O,W,U){let j=F.root,R=0,K=0,G=0;const Z=U-(W-O);for(;j!==e.SENTINEL;){if(y(j)){D(j.left,!1),D(j.right,!1),j===j.parent.right&&(R-=j.parent.delta),T(j),j=j.parent;continue}if(!y(j.left)){if(K=R+j.maxEnd,K<O){D(j,!0);continue}if(j.left!==e.SENTINEL){j=j.left;continue}}if(G=R+j.start,G>W){j.start+=Z,j.end+=Z,j.delta+=Z,(j.delta<-1073741824||j.delta>1073741824)&&(F.requestNormalizeDelta=!0),D(j,!0);continue}if(D(j,!0),j.right!==e.SENTINEL&&!y(j.right)){R+=j.delta,j=j.right;continue}}D(F.root,!1)}function d(F,O){let W=F.root;const U=[];let j=0;for(;W!==e.SENTINEL;){if(y(W)){D(W.left,!1),D(W.right,!1),W=W.parent;continue}if(W.left!==e.SENTINEL&&!y(W.left)){W=W.left;continue}if(W.ownerId===O&&(U[j++]=W),D(W,!0),W.right!==e.SENTINEL&&!y(W.right)){W=W.right;continue}}return D(F.root,!1),U}function l(F){let O=F.root;const W=[];let U=0;for(;O!==e.SENTINEL;){if(y(O)){D(O.left,!1),D(O.right,!1),O=O.parent;continue}if(O.left!==e.SENTINEL&&!y(O.left)){O=O.left;continue}if(O.right!==e.SENTINEL&&!y(O.right)){O=O.right;continue}W[U++]=O,D(O,!0)}return D(F.root,!1),W}function p(F,O,W,U,j){let R=F.root,K=0,G=0,Z=0;const J=[];let X=0;for(;R!==e.SENTINEL;){if(y(R)){D(R.left,!1),D(R.right,!1),R===R.parent.right&&(K-=R.parent.delta),R=R.parent;continue}if(R.left!==e.SENTINEL&&!y(R.left)){R=R.left;continue}G=K+R.start,Z=K+R.end,R.setCachedOffsets(G,Z,U);let H=!0;if(O&&R.ownerId&&R.ownerId!==O&&(H=!1),W&&S(R)&&(H=!1),j&&!_(R)&&(H=!1),H&&(J[X++]=R),D(R,!0),R.right!==e.SENTINEL&&!y(R.right)){K+=R.delta,R=R.right;continue}}return D(F.root,!1),J}function m(F,O,W,U,j,R,K){let G=F.root,Z=0,J=0,X=0,H=0;const B=[];let V=0;for(;G!==e.SENTINEL;){if(y(G)){D(G.left,!1),D(G.right,!1),G===G.parent.right&&(Z-=G.parent.delta),G=G.parent;continue}if(!y(G.left)){if(J=Z+G.maxEnd,J<O){D(G,!0);continue}if(G.left!==e.SENTINEL){G=G.left;continue}}if(X=Z+G.start,X>W){D(G,!0);continue}if(H=Z+G.end,H>=O){G.setCachedOffsets(X,H,R);let Y=!0;U&&G.ownerId&&G.ownerId!==U&&(Y=!1),j&&S(G)&&(Y=!1),K&&!_(G)&&(Y=!1),Y&&(B[V++]=G)}if(D(G,!0),G.right!==e.SENTINEL&&!y(G.right)){Z+=G.delta,G=G.right;continue}}return D(F.root,!1),B}function v(F,O){if(F.root===e.SENTINEL)return O.parent=e.SENTINEL,O.left=e.SENTINEL,O.right=e.SENTINEL,k(O,0),F.root=O,F.root;b(F,O),A(O.parent);let W=O;for(;W!==F.root&&L(W.parent)===1;)if(W.parent===W.parent.parent.left){const U=W.parent.parent.right;L(U)===1?(k(W.parent,0),k(U,0),k(W.parent.parent,1),W=W.parent.parent):(W===W.parent.right&&(W=W.parent,M(F,W)),k(W.parent,0),k(W.parent.parent,1),P(F,W.parent.parent))}else{const U=W.parent.parent.left;L(U)===1?(k(W.parent,0),k(U,0),k(W.parent.parent,1),W=W.parent.parent):(W===W.parent.left&&(W=W.parent,P(F,W)),k(W.parent,0),k(W.parent.parent,1),M(F,W.parent.parent))}return k(F.root,0),O}function b(F,O){let W=0,U=F.root;const j=O.start,R=O.end;for(;;)if(N(j,R,U.start+W,U.end+W)<0)if(U.left===e.SENTINEL){O.start-=W,O.end-=W,O.maxEnd-=W,U.left=O;break}else U=U.left;else if(U.right===e.SENTINEL){O.start-=W+U.delta,O.end-=W+U.delta,O.maxEnd-=W+U.delta,U.right=O;break}else W+=U.delta,U=U.right;O.parent=U,O.left=e.SENTINEL,O.right=e.SENTINEL,k(O,1)}function w(F,O){let W,U;if(O.left===e.SENTINEL?(W=O.right,U=O,W.delta+=O.delta,(W.delta<-1073741824||W.delta>1073741824)&&(F.requestNormalizeDelta=!0),W.start+=O.delta,W.end+=O.delta):O.right===e.SENTINEL?(W=O.left,U=O):(U=E(O.right),W=U.right,W.start+=U.delta,W.end+=U.delta,W.delta+=U.delta,(W.delta<-1073741824||W.delta>1073741824)&&(F.requestNormalizeDelta=!0),U.start+=O.delta,U.end+=O.delta,U.delta=O.delta,(U.delta<-1073741824||U.delta>1073741824)&&(F.requestNormalizeDelta=!0)),U===F.root){F.root=W,k(W,0),O.detach(),I(),T(W),F.root.parent=e.SENTINEL;return}const j=L(U)===1;if(U===U.parent.left?U.parent.left=W:U.parent.right=W,U===O?W.parent=U.parent:(U.parent===O?W.parent=U:W.parent=U.parent,U.left=O.left,U.right=O.right,U.parent=O.parent,k(U,L(O)),O===F.root?F.root=U:O===O.parent.left?O.parent.left=U:O.parent.right=U,U.left!==e.SENTINEL&&(U.left.parent=U),U.right!==e.SENTINEL&&(U.right.parent=U)),O.detach(),j){A(W.parent),U!==O&&(A(U),A(U.parent)),I();return}A(W),A(W.parent),U!==O&&(A(U),A(U.parent));let R;for(;W!==F.root&&L(W)===0;)W===W.parent.left?(R=W.parent.right,L(R)===1&&(k(R,0),k(W.parent,1),M(F,W.parent),R=W.parent.right),L(R.left)===0&&L(R.right)===0?(k(R,1),W=W.parent):(L(R.right)===0&&(k(R.left,0),k(R,1),P(F,R),R=W.parent.right),k(R,L(W.parent)),k(W.parent,0),k(R.right,0),M(F,W.parent),W=F.root)):(R=W.parent.left,L(R)===1&&(k(R,0),k(W.parent,1),P(F,W.parent),R=W.parent.left),L(R.left)===0&&L(R.right)===0?(k(R,1),W=W.parent):(L(R.left)===0&&(k(R.right,0),k(R,1),M(F,R),R=W.parent.left),k(R,L(W.parent)),k(W.parent,0),k(R.left,0),P(F,W.parent),W=F.root));k(W,0),I()}function E(F){for(;F.left!==e.SENTINEL;)F=F.left;return F}function I(){e.SENTINEL.parent=e.SENTINEL,e.SENTINEL.delta=0,e.SENTINEL.start=0,e.SENTINEL.end=0}function M(F,O){const W=O.right;W.delta+=O.delta,(W.delta<-1073741824||W.delta>1073741824)&&(F.requestNormalizeDelta=!0),W.start+=O.delta,W.end+=O.delta,O.right=W.left,W.left!==e.SENTINEL&&(W.left.parent=O),W.parent=O.parent,O.parent===e.SENTINEL?F.root=W:O===O.parent.left?O.parent.left=W:O.parent.right=W,W.left=O,O.parent=W,T(O),T(W)}function P(F,O){const W=O.left;O.delta-=W.delta,(O.delta<-1073741824||O.delta>1073741824)&&(F.requestNormalizeDelta=!0),O.start-=W.delta,O.end-=W.delta,O.left=W.right,W.right!==e.SENTINEL&&(W.right.parent=O),W.parent=O.parent,O.parent===e.SENTINEL?F.root=W:O===O.parent.right?O.parent.right=W:O.parent.left=W,W.right=O,O.parent=W,T(O),T(W)}function x(F){let O=F.end;if(F.left!==e.SENTINEL){const W=F.left.maxEnd;W>O&&(O=W)}if(F.right!==e.SENTINEL){const W=F.right.maxEnd+F.delta;W>O&&(O=W)}return O}function T(F){F.maxEnd=x(F)}e.recomputeMaxEnd=T;function A(F){for(;F!==e.SENTINEL;){const O=x(F);if(F.maxEnd===O)return;F.maxEnd=O,F=F.parent}}function N(F,O,W,U){return F===W?O-U:F-W}e.intervalCompare=N}),define(ne[511],se([1,0]),function(Q,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.recomputeTreeMetadata=e.updateTreeMetadata=e.fixInsert=e.rbDelete=e.rightRotate=e.leftRotate=e.righttest=e.leftest=e.SENTINEL=e.TreeNode=void 0;class L{constructor(a,u){this.piece=a,this.color=u,this.size_left=0,this.lf_left=0,this.parent=this,this.left=this,this.right=this}next(){if(this.right!==e.SENTINEL)return k(this.right);let a=this;for(;a.parent!==e.SENTINEL&&a.parent.left!==a;)a=a.parent;return a.parent===e.SENTINEL?e.SENTINEL:a.parent}prev(){if(this.left!==e.SENTINEL)return y(this.left);let a=this;for(;a.parent!==e.SENTINEL&&a.parent.right!==a;)a=a.parent;return a.parent===e.SENTINEL?e.SENTINEL:a.parent}detach(){this.parent=null,this.left=null,this.right=null}}e.TreeNode=L,e.SENTINEL=new L(null,0),e.SENTINEL.parent=e.SENTINEL,e.SENTINEL.left=e.SENTINEL,e.SENTINEL.right=e.SENTINEL,e.SENTINEL.color=0;function k(t){for(;t.left!==e.SENTINEL;)t=t.left;return t}e.leftest=k;function y(t){for(;t.right!==e.SENTINEL;)t=t.right;return t}e.righttest=y;function D(t){return t===e.SENTINEL?0:t.size_left+t.piece.length+D(t.right)}function S(t){return t===e.SENTINEL?0:t.lf_left+t.piece.lineFeedCnt+S(t.right)}function f(){e.SENTINEL.parent=e.SENTINEL}function _(t,a){const u=a.right;u.size_left+=a.size_left+(a.piece?a.piece.length:0),u.lf_left+=a.lf_left+(a.piece?a.piece.lineFeedCnt:0),a.right=u.left,u.left!==e.SENTINEL&&(u.left.parent=a),u.parent=a.parent,a.parent===e.SENTINEL?t.root=u:a.parent.left===a?a.parent.left=u:a.parent.right=u,u.left=a,a.parent=u}e.leftRotate=_;function g(t,a){const u=a.left;a.left=u.right,u.right!==e.SENTINEL&&(u.right.parent=a),u.parent=a.parent,a.size_left-=u.size_left+(u.piece?u.piece.length:0),a.lf_left-=u.lf_left+(u.piece?u.piece.lineFeedCnt:0),a.parent===e.SENTINEL?t.root=u:a===a.parent.right?a.parent.right=u:a.parent.left=u,u.right=a,a.parent=u}e.rightRotate=g;function C(t,a){let u,h;if(a.left===e.SENTINEL?(h=a,u=h.right):a.right===e.SENTINEL?(h=a,u=h.left):(h=k(a.right),u=h.right),h===t.root){t.root=u,u.color=0,a.detach(),f(),t.root.parent=e.SENTINEL;return}const r=h.color===1;if(h===h.parent.left?h.parent.left=u:h.parent.right=u,h===a?(u.parent=h.parent,n(t,u)):(h.parent===a?u.parent=h:u.parent=h.parent,n(t,u),h.left=a.left,h.right=a.right,h.parent=a.parent,h.color=a.color,a===t.root?t.root=h:a===a.parent.left?a.parent.left=h:a.parent.right=h,h.left!==e.SENTINEL&&(h.left.parent=h),h.right!==e.SENTINEL&&(h.right.parent=h),h.size_left=a.size_left,h.lf_left=a.lf_left,n(t,h)),a.detach(),u.parent.left===u){const o=D(u),d=S(u);if(o!==u.parent.size_left||d!==u.parent.lf_left){const l=o-u.parent.size_left,p=d-u.parent.lf_left;u.parent.size_left=o,u.parent.lf_left=d,i(t,u.parent,l,p)}}if(n(t,u.parent),r){f();return}let c;for(;u!==t.root&&u.color===0;)u===u.parent.left?(c=u.parent.right,c.color===1&&(c.color=0,u.parent.color=1,_(t,u.parent),c=u.parent.right),c.left.color===0&&c.right.color===0?(c.color=1,u=u.parent):(c.right.color===0&&(c.left.color=0,c.color=1,g(t,c),c=u.parent.right),c.color=u.parent.color,u.parent.color=0,c.right.color=0,_(t,u.parent),u=t.root)):(c=u.parent.left,c.color===1&&(c.color=0,u.parent.color=1,g(t,u.parent),c=u.parent.left),c.left.color===0&&c.right.color===0?(c.color=1,u=u.parent):(c.left.color===0&&(c.right.color=0,c.color=1,_(t,c),c=u.parent.left),c.color=u.parent.color,u.parent.color=0,c.left.color=0,g(t,u.parent),u=t.root));u.color=0,f()}e.rbDelete=C;function s(t,a){for(n(t,a);a!==t.root&&a.parent.color===1;)if(a.parent===a.parent.parent.left){const u=a.parent.parent.right;u.color===1?(a.parent.color=0,u.color=0,a.parent.parent.color=1,a=a.parent.parent):(a===a.parent.right&&(a=a.parent,_(t,a)),a.parent.color=0,a.parent.parent.color=1,g(t,a.parent.parent))}else{const u=a.parent.parent.left;u.color===1?(a.parent.color=0,u.color=0,a.parent.parent.color=1,a=a.parent.parent):(a===a.parent.left&&(a=a.parent,g(t,a)),a.parent.color=0,a.parent.parent.color=1,_(t,a.parent.parent))}t.root.color=0}e.fixInsert=s;function i(t,a,u,h){for(;a!==t.root&&a!==e.SENTINEL;)a.parent.left===a&&(a.parent.size_left+=u,a.parent.lf_left+=h),a=a.parent}e.updateTreeMetadata=i;function n(t,a){let u=0,h=0;if(a!==t.root){for(;a!==t.root&&a===a.parent.right;)a=a.parent;if(a!==t.root)for(a=a.parent,u=D(a.left)-a.size_left,h=S(a.left)-a.lf_left,a.size_left+=u,a.lf_left+=h;a!==t.root&&(u!==0||h!==0);)a.parent.left===a&&(a.parent.size_left+=u,a.parent.lf_left+=h),a=a.parent}}e.recomputeTreeMetadata=n}),define(ne[281],se([1,0,14,169]),function(Q,e,L,k){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.PrefixSumIndexOfResult=e.ConstantTimePrefixSumComputer=e.PrefixSumComputer=void 0;class y{constructor(_){this.values=_,this.prefixSum=new Uint32Array(_.length),this.prefixSumValidIndex=new Int32Array(1),this.prefixSumValidIndex[0]=-1}insertValues(_,g){_=(0,k.toUint32)(_);const C=this.values,s=this.prefixSum,i=g.length;return i===0?!1:(this.values=new Uint32Array(C.length+i),this.values.set(C.subarray(0,_),0),this.values.set(C.subarray(_),_+i),this.values.set(g,_),_-1<this.prefixSumValidIndex[0]&&(this.prefixSumValidIndex[0]=_-1),this.prefixSum=new Uint32Array(this.values.length),this.prefixSumValidIndex[0]>=0&&this.prefixSum.set(s.subarray(0,this.prefixSumValidIndex[0]+1)),!0)}setValue(_,g){return _=(0,k.toUint32)(_),g=(0,k.toUint32)(g),this.values[_]===g?!1:(this.values[_]=g,_-1<this.prefixSumValidIndex[0]&&(this.prefixSumValidIndex[0]=_-1),!0)}removeValues(_,g){_=(0,k.toUint32)(_),g=(0,k.toUint32)(g);const C=this.values,s=this.prefixSum;if(_>=C.length)return!1;const i=C.length-_;return g>=i&&(g=i),g===0?!1:(this.values=new Uint32Array(C.length-g),this.values.set(C.subarray(0,_),0),this.values.set(C.subarray(_+g),_),this.prefixSum=new Uint32Array(this.values.length),_-1<this.prefixSumValidIndex[0]&&(this.prefixSumValidIndex[0]=_-1),this.prefixSumValidIndex[0]>=0&&this.prefixSum.set(s.subarray(0,this.prefixSumValidIndex[0]+1)),!0)}getTotalSum(){return this.values.length===0?0:this._getPrefixSum(this.values.length-1)}getPrefixSum(_){return _<0?0:(_=(0,k.toUint32)(_),this._getPrefixSum(_))}_getPrefixSum(_){if(_<=this.prefixSumValidIndex[0])return this.prefixSum[_];let g=this.prefixSumValidIndex[0]+1;g===0&&(this.prefixSum[0]=this.values[0],g++),_>=this.values.length&&(_=this.values.length-1);for(let C=g;C<=_;C++)this.prefixSum[C]=this.prefixSum[C-1]+this.values[C];return this.prefixSumValidIndex[0]=Math.max(this.prefixSumValidIndex[0],_),this.prefixSum[_]}getIndexOf(_){_=Math.floor(_),this.getTotalSum();let g=0,C=this.values.length-1,s=0,i=0,n=0;for(;g<=C;)if(s=g+(C-g)/2|0,i=this.prefixSum[s],n=i-this.values[s],_<n)C=s-1;else if(_>=i)g=s+1;else break;return new S(s,_-n)}}e.PrefixSumComputer=y;class D{constructor(_){this._values=_,this._isValid=!1,this._validEndIndex=-1,this._prefixSum=[],this._indexBySum=[]}getTotalSum(){return this._ensureValid(),this._indexBySum.length}getPrefixSum(_){return this._ensureValid(),_===0?0:this._prefixSum[_-1]}getIndexOf(_){this._ensureValid();const g=this._indexBySum[_],C=g>0?this._prefixSum[g-1]:0;return new S(g,_-C)}removeValues(_,g){this._values.splice(_,g),this._invalidate(_)}insertValues(_,g){this._values=(0,L.arrayInsert)(this._values,_,g),this._invalidate(_)}_invalidate(_){this._isValid=!1,this._validEndIndex=Math.min(this._validEndIndex,_-1)}_ensureValid(){if(!this._isValid){for(let _=this._validEndIndex+1,g=this._values.length;_<g;_++){const C=this._values[_],s=_>0?this._prefixSum[_-1]:0;this._prefixSum[_]=s+C;for(let i=0;i<C;i++)this._indexBySum[s+i]=_}this._prefixSum.length=this._values.length,this._indexBySum.length=this._prefixSum[this._prefixSum.length-1],this._isValid=!0,this._validEndIndex=this._values.length-1}}setValue(_,g){this._values[_]!==g&&(this._values[_]=g,this._invalidate(_))}}e.ConstantTimePrefixSumComputer=D;class S{constructor(_,g){this.index=_,this.remainder=g,this._prefixSumIndexOfResultBrand=void 0,this.index=_,this.remainder=g}}e.PrefixSumIndexOfResult=S}),define(ne[512],se([1,0,11,12,281]),function(Q,e,L,k,y){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.MirrorTextModel=void 0;class D{constructor(f,_,g,C){this._uri=f,this._lines=_,this._eol=g,this._versionId=C,this._lineStarts=null,this._cachedTextValue=null}dispose(){this._lines.length=0}get version(){return this._versionId}getText(){return this._cachedTextValue===null&&(this._cachedTextValue=this._lines.join(this._eol)),this._cachedTextValue}onEvents(f){f.eol&&f.eol!==this._eol&&(this._eol=f.eol,this._lineStarts=null);const _=f.changes;for(const g of _)this._acceptDeleteRange(g.range),this._acceptInsertText(new k.Position(g.range.startLineNumber,g.range.startColumn),g.text);this._versionId=f.versionId,this._cachedTextValue=null}_ensureLineStarts(){if(!this._lineStarts){const f=this._eol.length,_=this._lines.length,g=new Uint32Array(_);for(let C=0;C<_;C++)g[C]=this._lines[C].length+f;this._lineStarts=new y.PrefixSumComputer(g)}}_setLineText(f,_){this._lines[f]=_,this._lineStarts&&this._lineStarts.setValue(f,this._lines[f].length+this._eol.length)}_acceptDeleteRange(f){if(f.startLineNumber===f.endLineNumber){if(f.startColumn===f.endColumn)return;this._setLineText(f.startLineNumber-1,this._lines[f.startLineNumber-1].substring(0,f.startColumn-1)+this._lines[f.startLineNumber-1].substring(f.endColumn-1));return}this._setLineText(f.startLineNumber-1,this._lines[f.startLineNumber-1].substring(0,f.startColumn-1)+this._lines[f.endLineNumber-1].substring(f.endColumn-1)),this._lines.splice(f.startLineNumber,f.endLineNumber-f.startLineNumber),this._lineStarts&&this._lineStarts.removeValues(f.startLineNumber,f.endLineNumber-f.startLineNumber)}_acceptInsertText(f,_){if(_.length===0)return;const g=(0,L.splitLines)(_);if(g.length===1){this._setLineText(f.lineNumber-1,this._lines[f.lineNumber-1].substring(0,f.column-1)+g[0]+this._lines[f.lineNumber-1].substring(f.column-1));return}g[g.length-1]+=this._lines[f.lineNumber-1].substring(f.column-1),this._setLineText(f.lineNumber-1,this._lines[f.lineNumber-1].substring(0,f.column-1)+g[0]);const C=new Uint32Array(g.length-1);for(let s=1;s<g.length;s++)this._lines.splice(f.lineNumber+s-1,0,g[s]),C[s-1]=g[s].length+this._eol.length;this._lineStarts&&this._lineStarts.insertValues(f.lineNumber,C)}}e.MirrorTextModel=D}),define(ne[282],se([1,0,2]),function(Q,e,L){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.TextModelPart=void 0;class k extends L.Disposable{constructor(){super(...arguments),this._isDisposed=!1}dispose(){super.dispose(),this._isDisposed=!0}assertNotDisposed(){if(this._isDisposed)throw new Error("TextModelPart is disposed!")}}e.TextModelPart=k}),define(ne[181],se([1,0,11,146,12,5,48]),function(Q,e,L,k,y,D,S){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.Searcher=e.isValidMatch=e.TextModelSearch=e.createFindMatch=e.isMultilineRegexSource=e.SearchParams=void 0;const f=999;class _{constructor(r,c,o,d){this.searchString=r,this.isRegex=c,this.matchCase=o,this.wordSeparators=d}parseSearchRequest(){if(this.searchString==="")return null;let r;this.isRegex?r=g(this.searchString):r=this.searchString.indexOf(`
`)>=0;let c=null;try{c=L.createRegExp(this.searchString,this.isRegex,{matchCase:this.matchCase,wholeWord:!1,multiline:r,global:!0,unicode:!0})}catch{return null}if(!c)return null;let o=!this.isRegex&&!r;return o&&this.searchString.toLowerCase()!==this.searchString.toUpperCase()&&(o=this.matchCase),new S.SearchData(c,this.wordSeparators?(0,k.getMapForWordSeparators)(this.wordSeparators):null,o?this.searchString:null)}}e.SearchParams=_;function g(h){if(!h||h.length===0)return!1;for(let r=0,c=h.length;r<c;r++){const o=h.charCodeAt(r);if(o===10)return!0;if(o===92){if(r++,r>=c)break;const d=h.charCodeAt(r);if(d===110||d===114||d===87)return!0}}return!1}e.isMultilineRegexSource=g;function C(h,r,c){if(!c)return new S.FindMatch(h,null);const o=[];for(let d=0,l=r.length;d<l;d++)o[d]=r[d];return new S.FindMatch(h,o)}e.createFindMatch=C;class s{constructor(r){const c=[];let o=0;for(let d=0,l=r.length;d<l;d++)r.charCodeAt(d)===10&&(c[o++]=d);this._lineFeedsOffsets=c}findLineFeedCountBeforeOffset(r){const c=this._lineFeedsOffsets;let o=0,d=c.length-1;if(d===-1||r<=c[0])return 0;for(;o<d;){const l=o+((d-o)/2>>0);c[l]>=r?d=l-1:c[l+1]>=r?(o=l,d=l):o=l+1}return o+1}}class i{static findMatches(r,c,o,d,l){const p=c.parseSearchRequest();return p?p.regex.multiline?this._doFindMatchesMultiline(r,o,new u(p.wordSeparators,p.regex),d,l):this._doFindMatchesLineByLine(r,o,p,d,l):[]}static _getMultilineMatchRange(r,c,o,d,l,p){let m,v=0;d?(v=d.findLineFeedCountBeforeOffset(l),m=c+l+v):m=c+l;let b;if(d){const M=d.findLineFeedCountBeforeOffset(l+p.length)-v;b=m+p.length+M}else b=m+p.length;const w=r.getPositionAt(m),E=r.getPositionAt(b);return new D.Range(w.lineNumber,w.column,E.lineNumber,E.column)}static _doFindMatchesMultiline(r,c,o,d,l){const p=r.getOffsetAt(c.getStartPosition()),m=r.getValueInRange(c,1),v=r.getEOL()===`\r
`?new s(m):null,b=[];let w=0,E;for(o.reset(0);E=o.next(m);)if(b[w++]=C(this._getMultilineMatchRange(r,p,m,v,E.index,E[0]),E,d),w>=l)return b;return b}static _doFindMatchesLineByLine(r,c,o,d,l){const p=[];let m=0;if(c.startLineNumber===c.endLineNumber){const b=r.getLineContent(c.startLineNumber).substring(c.startColumn-1,c.endColumn-1);return m=this._findMatchesInLine(o,b,c.startLineNumber,c.startColumn-1,m,p,d,l),p}const v=r.getLineContent(c.startLineNumber).substring(c.startColumn-1);m=this._findMatchesInLine(o,v,c.startLineNumber,c.startColumn-1,m,p,d,l);for(let b=c.startLineNumber+1;b<c.endLineNumber&&m<l;b++)m=this._findMatchesInLine(o,r.getLineContent(b),b,0,m,p,d,l);if(m<l){const b=r.getLineContent(c.endLineNumber).substring(0,c.endColumn-1);m=this._findMatchesInLine(o,b,c.endLineNumber,0,m,p,d,l)}return p}static _findMatchesInLine(r,c,o,d,l,p,m,v){const b=r.wordSeparators;if(!m&&r.simpleSearch){const I=r.simpleSearch,M=I.length,P=c.length;let x=-M;for(;(x=c.indexOf(I,x+M))!==-1;)if((!b||a(b,c,P,x,M))&&(p[l++]=new S.FindMatch(new D.Range(o,x+1+d,o,x+1+M+d),null),l>=v))return l;return l}const w=new u(r.wordSeparators,r.regex);let E;w.reset(0);do if(E=w.next(c),E&&(p[l++]=C(new D.Range(o,E.index+1+d,o,E.index+1+E[0].length+d),E,m),l>=v))return l;while(E);return l}static findNextMatch(r,c,o,d){const l=c.parseSearchRequest();if(!l)return null;const p=new u(l.wordSeparators,l.regex);return l.regex.multiline?this._doFindNextMatchMultiline(r,o,p,d):this._doFindNextMatchLineByLine(r,o,p,d)}static _doFindNextMatchMultiline(r,c,o,d){const l=new y.Position(c.lineNumber,1),p=r.getOffsetAt(l),m=r.getLineCount(),v=r.getValueInRange(new D.Range(l.lineNumber,l.column,m,r.getLineMaxColumn(m)),1),b=r.getEOL()===`\r
`?new s(v):null;o.reset(c.column-1);const w=o.next(v);return w?C(this._getMultilineMatchRange(r,p,v,b,w.index,w[0]),w,d):c.lineNumber!==1||c.column!==1?this._doFindNextMatchMultiline(r,new y.Position(1,1),o,d):null}static _doFindNextMatchLineByLine(r,c,o,d){const l=r.getLineCount(),p=c.lineNumber,m=r.getLineContent(p),v=this._findFirstMatchInLine(o,m,p,c.column,d);if(v)return v;for(let b=1;b<=l;b++){const w=(p+b-1)%l,E=r.getLineContent(w+1),I=this._findFirstMatchInLine(o,E,w+1,1,d);if(I)return I}return null}static _findFirstMatchInLine(r,c,o,d,l){r.reset(d-1);const p=r.next(c);return p?C(new D.Range(o,p.index+1,o,p.index+1+p[0].length),p,l):null}static findPreviousMatch(r,c,o,d){const l=c.parseSearchRequest();if(!l)return null;const p=new u(l.wordSeparators,l.regex);return l.regex.multiline?this._doFindPreviousMatchMultiline(r,o,p,d):this._doFindPreviousMatchLineByLine(r,o,p,d)}static _doFindPreviousMatchMultiline(r,c,o,d){const l=this._doFindMatchesMultiline(r,new D.Range(1,1,c.lineNumber,c.column),o,d,10*f);if(l.length>0)return l[l.length-1];const p=r.getLineCount();return c.lineNumber!==p||c.column!==r.getLineMaxColumn(p)?this._doFindPreviousMatchMultiline(r,new y.Position(p,r.getLineMaxColumn(p)),o,d):null}static _doFindPreviousMatchLineByLine(r,c,o,d){const l=r.getLineCount(),p=c.lineNumber,m=r.getLineContent(p).substring(0,c.column-1),v=this._findLastMatchInLine(o,m,p,d);if(v)return v;for(let b=1;b<=l;b++){const w=(l+p-b-1)%l,E=r.getLineContent(w+1),I=this._findLastMatchInLine(o,E,w+1,d);if(I)return I}return null}static _findLastMatchInLine(r,c,o,d){let l=null,p;for(r.reset(0);p=r.next(c);)l=C(new D.Range(o,p.index+1,o,p.index+1+p[0].length),p,d);return l}}e.TextModelSearch=i;function n(h,r,c,o,d){if(o===0)return!0;const l=r.charCodeAt(o-1);if(h.get(l)!==0||l===13||l===10)return!0;if(d>0){const p=r.charCodeAt(o);if(h.get(p)!==0)return!0}return!1}function t(h,r,c,o,d){if(o+d===c)return!0;const l=r.charCodeAt(o+d);if(h.get(l)!==0||l===13||l===10)return!0;if(d>0){const p=r.charCodeAt(o+d-1);if(h.get(p)!==0)return!0}return!1}function a(h,r,c,o,d){return n(h,r,c,o,d)&&t(h,r,c,o,d)}e.isValidMatch=a;class u{constructor(r,c){this._wordSeparators=r,this._searchRegex=c,this._prevMatchStartIndex=-1,this._prevMatchLength=0}reset(r){this._searchRegex.lastIndex=r,this._prevMatchStartIndex=-1,this._prevMatchLength=0}next(r){const c=r.length;let o;do{if(this._prevMatchStartIndex+this._prevMatchLength===c||(o=this._searchRegex.exec(r),!o))return null;const d=o.index,l=o[0].length;if(d===this._prevMatchStartIndex&&l===this._prevMatchLength){if(l===0){L.getNextCodePoint(r,c,this._searchRegex.lastIndex)>65535?this._searchRegex.lastIndex+=2:this._searchRegex.lastIndex+=1;continue}return null}if(this._prevMatchStartIndex=d,this._prevMatchLength=l,!this._wordSeparators||a(this._wordSeparators,r,c,d,l))return o}while(o);return null}}e.Searcher=u}),define(ne[283],se([1,0,12,5,48,511,181]),function(Q,e,L,k,y,D,S){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.PieceTreeBase=e.StringBuffer=e.Piece=e.createLineStarts=e.createLineStartsFast=void 0;const f=65535;function _(h){let r;return h[h.length-1]<65536?r=new Uint16Array(h.length):r=new Uint32Array(h.length),r.set(h,0),r}class g{constructor(r,c,o,d,l){this.lineStarts=r,this.cr=c,this.lf=o,this.crlf=d,this.isBasicASCII=l}}function C(h,r=!0){const c=[0];let o=1;for(let d=0,l=h.length;d<l;d++){const p=h.charCodeAt(d);p===13?d+1<l&&h.charCodeAt(d+1)===10?(c[o++]=d+2,d++):c[o++]=d+1:p===10&&(c[o++]=d+1)}return r?_(c):c}e.createLineStartsFast=C;function s(h,r){h.length=0,h[0]=0;let c=1,o=0,d=0,l=0,p=!0;for(let v=0,b=r.length;v<b;v++){const w=r.charCodeAt(v);w===13?v+1<b&&r.charCodeAt(v+1)===10?(l++,h[c++]=v+2,v++):(o++,h[c++]=v+1):w===10?(d++,h[c++]=v+1):p&&w!==9&&(w<32||w>126)&&(p=!1)}const m=new g(_(h),o,d,l,p);return h.length=0,m}e.createLineStarts=s;class i{constructor(r,c,o,d,l){this.bufferIndex=r,this.start=c,this.end=o,this.lineFeedCnt=d,this.length=l}}e.Piece=i;class n{constructor(r,c){this.buffer=r,this.lineStarts=c}}e.StringBuffer=n;class t{constructor(r,c){this._pieces=[],this._tree=r,this._BOM=c,this._index=0,r.root!==D.SENTINEL&&r.iterate(r.root,o=>(o!==D.SENTINEL&&this._pieces.push(o.piece),!0))}read(){return this._pieces.length===0?this._index===0?(this._index++,this._BOM):null:this._index>this._pieces.length-1?null:this._index===0?this._BOM+this._tree.getPieceContent(this._pieces[this._index++]):this._tree.getPieceContent(this._pieces[this._index++])}}class a{constructor(r){this._limit=r,this._cache=[]}get(r){for(let c=this._cache.length-1;c>=0;c--){const o=this._cache[c];if(o.nodeStartOffset<=r&&o.nodeStartOffset+o.node.piece.length>=r)return o}return null}get2(r){for(let c=this._cache.length-1;c>=0;c--){const o=this._cache[c];if(o.nodeStartLineNumber&&o.nodeStartLineNumber<r&&o.nodeStartLineNumber+o.node.piece.lineFeedCnt>=r)return o}return null}set(r){this._cache.length>=this._limit&&this._cache.shift(),this._cache.push(r)}validate(r){let c=!1;const o=this._cache;for(let d=0;d<o.length;d++){const l=o[d];if(l.node.parent===null||l.nodeStartOffset>=r){o[d]=null,c=!0;continue}}if(c){const d=[];for(const l of o)l!==null&&d.push(l);this._cache=d}}}class u{constructor(r,c,o){this.create(r,c,o)}create(r,c,o){this._buffers=[new n("",[0])],this._lastChangeBufferPos={line:0,column:0},this.root=D.SENTINEL,this._lineCnt=1,this._length=0,this._EOL=c,this._EOLLength=c.length,this._EOLNormalized=o;let d=null;for(let l=0,p=r.length;l<p;l++)if(r[l].buffer.length>0){r[l].lineStarts||(r[l].lineStarts=C(r[l].buffer));const m=new i(l+1,{line:0,column:0},{line:r[l].lineStarts.length-1,column:r[l].buffer.length-r[l].lineStarts[r[l].lineStarts.length-1]},r[l].lineStarts.length-1,r[l].buffer.length);this._buffers.push(r[l]),d=this.rbInsertRight(d,m)}this._searchCache=new a(1),this._lastVisitedLine={lineNumber:0,value:""},this.computeBufferMetadata()}normalizeEOL(r){const c=f,o=c-Math.floor(c/3),d=o*2;let l="",p=0;const m=[];if(this.iterate(this.root,v=>{const b=this.getNodeContent(v),w=b.length;if(p<=o||p+w<d)return l+=b,p+=w,!0;const E=l.replace(/\r\n|\r|\n/g,r);return m.push(new n(E,C(E))),l=b,p=w,!0}),p>0){const v=l.replace(/\r\n|\r|\n/g,r);m.push(new n(v,C(v)))}this.create(m,r,!0)}getEOL(){return this._EOL}setEOL(r){this._EOL=r,this._EOLLength=this._EOL.length,this.normalizeEOL(r)}createSnapshot(r){return new t(this,r)}getOffsetAt(r,c){let o=0,d=this.root;for(;d!==D.SENTINEL;)if(d.left!==D.SENTINEL&&d.lf_left+1>=r)d=d.left;else if(d.lf_left+d.piece.lineFeedCnt+1>=r){o+=d.size_left;const l=this.getAccumulatedValue(d,r-d.lf_left-2);return o+=l+c-1}else r-=d.lf_left+d.piece.lineFeedCnt,o+=d.size_left+d.piece.length,d=d.right;return o}getPositionAt(r){r=Math.floor(r),r=Math.max(0,r);let c=this.root,o=0;const d=r;for(;c!==D.SENTINEL;)if(c.size_left!==0&&c.size_left>=r)c=c.left;else if(c.size_left+c.piece.length>=r){const l=this.getIndexOf(c,r-c.size_left);if(o+=c.lf_left+l.index,l.index===0){const p=this.getOffsetAt(o+1,1),m=d-p;return new L.Position(o+1,m+1)}return new L.Position(o+1,l.remainder+1)}else if(r-=c.size_left+c.piece.length,o+=c.lf_left+c.piece.lineFeedCnt,c.right===D.SENTINEL){const l=this.getOffsetAt(o+1,1),p=d-r-l;return new L.Position(o+1,p+1)}else c=c.right;return new L.Position(1,1)}getValueInRange(r,c){if(r.startLineNumber===r.endLineNumber&&r.startColumn===r.endColumn)return"";const o=this.nodeAt2(r.startLineNumber,r.startColumn),d=this.nodeAt2(r.endLineNumber,r.endColumn),l=this.getValueInRange2(o,d);return c?c!==this._EOL||!this._EOLNormalized?l.replace(/\r\n|\r|\n/g,c):c===this.getEOL()&&this._EOLNormalized?l:l.replace(/\r\n|\r|\n/g,c):l}getValueInRange2(r,c){if(r.node===c.node){const m=r.node,v=this._buffers[m.piece.bufferIndex].buffer,b=this.offsetInBuffer(m.piece.bufferIndex,m.piece.start);return v.substring(b+r.remainder,b+c.remainder)}let o=r.node;const d=this._buffers[o.piece.bufferIndex].buffer,l=this.offsetInBuffer(o.piece.bufferIndex,o.piece.start);let p=d.substring(l+r.remainder,l+o.piece.length);for(o=o.next();o!==D.SENTINEL;){const m=this._buffers[o.piece.bufferIndex].buffer,v=this.offsetInBuffer(o.piece.bufferIndex,o.piece.start);if(o===c.node){p+=m.substring(v,v+c.remainder);break}else p+=m.substr(v,o.piece.length);o=o.next()}return p}getLinesContent(){const r=[];let c=0,o="",d=!1;return this.iterate(this.root,l=>{if(l===D.SENTINEL)return!0;const p=l.piece;let m=p.length;if(m===0)return!0;const v=this._buffers[p.bufferIndex].buffer,b=this._buffers[p.bufferIndex].lineStarts,w=p.start.line,E=p.end.line;let I=b[w]+p.start.column;if(d&&(v.charCodeAt(I)===10&&(I++,m--),r[c++]=o,o="",d=!1,m===0))return!0;if(w===E)return!this._EOLNormalized&&v.charCodeAt(I+m-1)===13?(d=!0,o+=v.substr(I,m-1)):o+=v.substr(I,m),!0;o+=this._EOLNormalized?v.substring(I,Math.max(I,b[w+1]-this._EOLLength)):v.substring(I,b[w+1]).replace(/(\r\n|\r|\n)$/,""),r[c++]=o;for(let M=w+1;M<E;M++)o=this._EOLNormalized?v.substring(b[M],b[M+1]-this._EOLLength):v.substring(b[M],b[M+1]).replace(/(\r\n|\r|\n)$/,""),r[c++]=o;return!this._EOLNormalized&&v.charCodeAt(b[E]+p.end.column-1)===13?(d=!0,p.end.column===0?c--:o=v.substr(b[E],p.end.column-1)):o=v.substr(b[E],p.end.column),!0}),d&&(r[c++]=o,o=""),r[c++]=o,r}getLength(){return this._length}getLineCount(){return this._lineCnt}getLineContent(r){return this._lastVisitedLine.lineNumber===r?this._lastVisitedLine.value:(this._lastVisitedLine.lineNumber=r,r===this._lineCnt?this._lastVisitedLine.value=this.getLineRawContent(r):this._EOLNormalized?this._lastVisitedLine.value=this.getLineRawContent(r,this._EOLLength):this._lastVisitedLine.value=this.getLineRawContent(r).replace(/(\r\n|\r|\n)$/,""),this._lastVisitedLine.value)}_getCharCode(r){if(r.remainder===r.node.piece.length){const c=r.node.next();if(!c)return 0;const o=this._buffers[c.piece.bufferIndex],d=this.offsetInBuffer(c.piece.bufferIndex,c.piece.start);return o.buffer.charCodeAt(d)}else{const c=this._buffers[r.node.piece.bufferIndex],d=this.offsetInBuffer(r.node.piece.bufferIndex,r.node.piece.start)+r.remainder;return c.buffer.charCodeAt(d)}}getLineCharCode(r,c){const o=this.nodeAt2(r,c+1);return this._getCharCode(o)}getLineLength(r){if(r===this.getLineCount()){const c=this.getOffsetAt(r,1);return this.getLength()-c}return this.getOffsetAt(r+1,1)-this.getOffsetAt(r,1)-this._EOLLength}findMatchesInNode(r,c,o,d,l,p,m,v,b,w,E){const I=this._buffers[r.piece.bufferIndex],M=this.offsetInBuffer(r.piece.bufferIndex,r.piece.start),P=this.offsetInBuffer(r.piece.bufferIndex,l),x=this.offsetInBuffer(r.piece.bufferIndex,p);let T;const A={line:0,column:0};let N,F;c._wordSeparators?(N=I.buffer.substring(P,x),F=O=>O+P,c.reset(0)):(N=I.buffer,F=O=>O,c.reset(P));do if(T=c.next(N),T){if(F(T.index)>=x)return w;this.positionInBuffer(r,F(T.index)-M,A);const O=this.getLineFeedCnt(r.piece.bufferIndex,l,A),W=A.line===l.line?A.column-l.column+d:A.column+1,U=W+T[0].length;if(E[w++]=(0,S.createFindMatch)(new k.Range(o+O,W,o+O,U),T,v),F(T.index)+T[0].length>=x||w>=b)return w}while(T);return w}findMatchesLineByLine(r,c,o,d){const l=[];let p=0;const m=new S.Searcher(c.wordSeparators,c.regex);let v=this.nodeAt2(r.startLineNumber,r.startColumn);if(v===null)return[];const b=this.nodeAt2(r.endLineNumber,r.endColumn);if(b===null)return[];let w=this.positionInBuffer(v.node,v.remainder);const E=this.positionInBuffer(b.node,b.remainder);if(v.node===b.node)return this.findMatchesInNode(v.node,m,r.startLineNumber,r.startColumn,w,E,c,o,d,p,l),l;let I=r.startLineNumber,M=v.node;for(;M!==b.node;){const x=this.getLineFeedCnt(M.piece.bufferIndex,w,M.piece.end);if(x>=1){const A=this._buffers[M.piece.bufferIndex].lineStarts,N=this.offsetInBuffer(M.piece.bufferIndex,M.piece.start),F=A[w.line+x],O=I===r.startLineNumber?r.startColumn:1;if(p=this.findMatchesInNode(M,m,I,O,w,this.positionInBuffer(M,F-N),c,o,d,p,l),p>=d)return l;I+=x}const T=I===r.startLineNumber?r.startColumn-1:0;if(I===r.endLineNumber){const A=this.getLineContent(I).substring(T,r.endColumn-1);return p=this._findMatchesInLine(c,m,A,r.endLineNumber,T,p,l,o,d),l}if(p=this._findMatchesInLine(c,m,this.getLineContent(I).substr(T),I,T,p,l,o,d),p>=d)return l;I++,v=this.nodeAt2(I,1),M=v.node,w=this.positionInBuffer(v.node,v.remainder)}if(I===r.endLineNumber){const x=I===r.startLineNumber?r.startColumn-1:0,T=this.getLineContent(I).substring(x,r.endColumn-1);return p=this._findMatchesInLine(c,m,T,r.endLineNumber,x,p,l,o,d),l}const P=I===r.startLineNumber?r.startColumn:1;return p=this.findMatchesInNode(b.node,m,I,P,w,E,c,o,d,p,l),l}_findMatchesInLine(r,c,o,d,l,p,m,v,b){const w=r.wordSeparators;if(!v&&r.simpleSearch){const I=r.simpleSearch,M=I.length,P=o.length;let x=-M;for(;(x=o.indexOf(I,x+M))!==-1;)if((!w||(0,S.isValidMatch)(w,o,P,x,M))&&(m[p++]=new y.FindMatch(new k.Range(d,x+1+l,d,x+1+M+l),null),p>=b))return p;return p}let E;c.reset(0);do if(E=c.next(o),E&&(m[p++]=(0,S.createFindMatch)(new k.Range(d,E.index+1+l,d,E.index+1+E[0].length+l),E,v),p>=b))return p;while(E);return p}insert(r,c,o=!1){if(this._EOLNormalized=this._EOLNormalized&&o,this._lastVisitedLine.lineNumber=0,this._lastVisitedLine.value="",this.root!==D.SENTINEL){const{node:d,remainder:l,nodeStartOffset:p}=this.nodeAt(r),m=d.piece,v=m.bufferIndex,b=this.positionInBuffer(d,l);if(d.piece.bufferIndex===0&&m.end.line===this._lastChangeBufferPos.line&&m.end.column===this._lastChangeBufferPos.column&&p+m.length===r&&c.length<f){this.appendToNode(d,c),this.computeBufferMetadata();return}if(p===r)this.insertContentToNodeLeft(c,d),this._searchCache.validate(r);else if(p+d.piece.length>r){const w=[];let E=new i(m.bufferIndex,b,m.end,this.getLineFeedCnt(m.bufferIndex,b,m.end),this.offsetInBuffer(v,m.end)-this.offsetInBuffer(v,b));if(this.shouldCheckCRLF()&&this.endWithCR(c)&&this.nodeCharCodeAt(d,l)===10){const x={line:E.start.line+1,column:0};E=new i(E.bufferIndex,x,E.end,this.getLineFeedCnt(E.bufferIndex,x,E.end),E.length-1),c+=`
`}if(this.shouldCheckCRLF()&&this.startWithLF(c))if(this.nodeCharCodeAt(d,l-1)===13){const x=this.positionInBuffer(d,l-1);this.deleteNodeTail(d,x),c="\r"+c,d.piece.length===0&&w.push(d)}else this.deleteNodeTail(d,b);else this.deleteNodeTail(d,b);const I=this.createNewPieces(c);E.length>0&&this.rbInsertRight(d,E);let M=d;for(let P=0;P<I.length;P++)M=this.rbInsertRight(M,I[P]);this.deleteNodes(w)}else this.insertContentToNodeRight(c,d)}else{const d=this.createNewPieces(c);let l=this.rbInsertLeft(null,d[0]);for(let p=1;p<d.length;p++)l=this.rbInsertRight(l,d[p])}this.computeBufferMetadata()}delete(r,c){if(this._lastVisitedLine.lineNumber=0,this._lastVisitedLine.value="",c<=0||this.root===D.SENTINEL)return;const o=this.nodeAt(r),d=this.nodeAt(r+c),l=o.node,p=d.node;if(l===p){const I=this.positionInBuffer(l,o.remainder),M=this.positionInBuffer(l,d.remainder);if(o.nodeStartOffset===r){if(c===l.piece.length){const P=l.next();(0,D.rbDelete)(this,l),this.validateCRLFWithPrevNode(P),this.computeBufferMetadata();return}this.deleteNodeHead(l,M),this._searchCache.validate(r),this.validateCRLFWithPrevNode(l),this.computeBufferMetadata();return}if(o.nodeStartOffset+l.piece.length===r+c){this.deleteNodeTail(l,I),this.validateCRLFWithNextNode(l),this.computeBufferMetadata();return}this.shrinkNode(l,I,M),this.computeBufferMetadata();return}const m=[],v=this.positionInBuffer(l,o.remainder);this.deleteNodeTail(l,v),this._searchCache.validate(r),l.piece.length===0&&m.push(l);const b=this.positionInBuffer(p,d.remainder);this.deleteNodeHead(p,b),p.piece.length===0&&m.push(p);const w=l.next();for(let I=w;I!==D.SENTINEL&&I!==p;I=I.next())m.push(I);const E=l.piece.length===0?l.prev():l;this.deleteNodes(m),this.validateCRLFWithNextNode(E),this.computeBufferMetadata()}insertContentToNodeLeft(r,c){const o=[];if(this.shouldCheckCRLF()&&this.endWithCR(r)&&this.startWithLF(c)){const p=c.piece,m={line:p.start.line+1,column:0},v=new i(p.bufferIndex,m,p.end,this.getLineFeedCnt(p.bufferIndex,m,p.end),p.length-1);c.piece=v,r+=`
`,(0,D.updateTreeMetadata)(this,c,-1,-1),c.piece.length===0&&o.push(c)}const d=this.createNewPieces(r);let l=this.rbInsertLeft(c,d[d.length-1]);for(let p=d.length-2;p>=0;p--)l=this.rbInsertLeft(l,d[p]);this.validateCRLFWithPrevNode(l),this.deleteNodes(o)}insertContentToNodeRight(r,c){this.adjustCarriageReturnFromNext(r,c)&&(r+=`
`);const o=this.createNewPieces(r),d=this.rbInsertRight(c,o[0]);let l=d;for(let p=1;p<o.length;p++)l=this.rbInsertRight(l,o[p]);this.validateCRLFWithPrevNode(d)}positionInBuffer(r,c,o){const d=r.piece,l=r.piece.bufferIndex,p=this._buffers[l].lineStarts,v=p[d.start.line]+d.start.column+c;let b=d.start.line,w=d.end.line,E=0,I=0,M=0;for(;b<=w&&(E=b+(w-b)/2|0,M=p[E],E!==w);)if(I=p[E+1],v<M)w=E-1;else if(v>=I)b=E+1;else break;return o?(o.line=E,o.column=v-M,null):{line:E,column:v-M}}getLineFeedCnt(r,c,o){if(o.column===0)return o.line-c.line;const d=this._buffers[r].lineStarts;if(o.line===d.length-1)return o.line-c.line;const l=d[o.line+1],p=d[o.line]+o.column;if(l>p+1)return o.line-c.line;const m=p-1;return this._buffers[r].buffer.charCodeAt(m)===13?o.line-c.line+1:o.line-c.line}offsetInBuffer(r,c){return this._buffers[r].lineStarts[c.line]+c.column}deleteNodes(r){for(let c=0;c<r.length;c++)(0,D.rbDelete)(this,r[c])}createNewPieces(r){if(r.length>f){const w=[];for(;r.length>f;){const I=r.charCodeAt(f-1);let M;I===13||I>=55296&&I<=56319?(M=r.substring(0,f-1),r=r.substring(f-1)):(M=r.substring(0,f),r=r.substring(f));const P=C(M);w.push(new i(this._buffers.length,{line:0,column:0},{line:P.length-1,column:M.length-P[P.length-1]},P.length-1,M.length)),this._buffers.push(new n(M,P))}const E=C(r);return w.push(new i(this._buffers.length,{line:0,column:0},{line:E.length-1,column:r.length-E[E.length-1]},E.length-1,r.length)),this._buffers.push(new n(r,E)),w}let c=this._buffers[0].buffer.length;const o=C(r,!1);let d=this._lastChangeBufferPos;if(this._buffers[0].lineStarts[this._buffers[0].lineStarts.length-1]===c&&c!==0&&this.startWithLF(r)&&this.endWithCR(this._buffers[0].buffer)){this._lastChangeBufferPos={line:this._lastChangeBufferPos.line,column:this._lastChangeBufferPos.column+1},d=this._lastChangeBufferPos;for(let w=0;w<o.length;w++)o[w]+=c+1;this._buffers[0].lineStarts=this._buffers[0].lineStarts.concat(o.slice(1)),this._buffers[0].buffer+="_"+r,c+=1}else{if(c!==0)for(let w=0;w<o.length;w++)o[w]+=c;this._buffers[0].lineStarts=this._buffers[0].lineStarts.concat(o.slice(1)),this._buffers[0].buffer+=r}const l=this._buffers[0].buffer.length,p=this._buffers[0].lineStarts.length-1,m=l-this._buffers[0].lineStarts[p],v={line:p,column:m},b=new i(0,d,v,this.getLineFeedCnt(0,d,v),l-c);return this._lastChangeBufferPos=v,[b]}getLineRawContent(r,c=0){let o=this.root,d="";const l=this._searchCache.get2(r);if(l){o=l.node;const p=this.getAccumulatedValue(o,r-l.nodeStartLineNumber-1),m=this._buffers[o.piece.bufferIndex].buffer,v=this.offsetInBuffer(o.piece.bufferIndex,o.piece.start);if(l.nodeStartLineNumber+o.piece.lineFeedCnt===r)d=m.substring(v+p,v+o.piece.length);else{const b=this.getAccumulatedValue(o,r-l.nodeStartLineNumber);return m.substring(v+p,v+b-c)}}else{let p=0;const m=r;for(;o!==D.SENTINEL;)if(o.left!==D.SENTINEL&&o.lf_left>=r-1)o=o.left;else if(o.lf_left+o.piece.lineFeedCnt>r-1){const v=this.getAccumulatedValue(o,r-o.lf_left-2),b=this.getAccumulatedValue(o,r-o.lf_left-1),w=this._buffers[o.piece.bufferIndex].buffer,E=this.offsetInBuffer(o.piece.bufferIndex,o.piece.start);return p+=o.size_left,this._searchCache.set({node:o,nodeStartOffset:p,nodeStartLineNumber:m-(r-1-o.lf_left)}),w.substring(E+v,E+b-c)}else if(o.lf_left+o.piece.lineFeedCnt===r-1){const v=this.getAccumulatedValue(o,r-o.lf_left-2),b=this._buffers[o.piece.bufferIndex].buffer,w=this.offsetInBuffer(o.piece.bufferIndex,o.piece.start);d=b.substring(w+v,w+o.piece.length);break}else r-=o.lf_left+o.piece.lineFeedCnt,p+=o.size_left+o.piece.length,o=o.right}for(o=o.next();o!==D.SENTINEL;){const p=this._buffers[o.piece.bufferIndex].buffer;if(o.piece.lineFeedCnt>0){const m=this.getAccumulatedValue(o,0),v=this.offsetInBuffer(o.piece.bufferIndex,o.piece.start);return d+=p.substring(v,v+m-c),d}else{const m=this.offsetInBuffer(o.piece.bufferIndex,o.piece.start);d+=p.substr(m,o.piece.length)}o=o.next()}return d}computeBufferMetadata(){let r=this.root,c=1,o=0;for(;r!==D.SENTINEL;)c+=r.lf_left+r.piece.lineFeedCnt,o+=r.size_left+r.piece.length,r=r.right;this._lineCnt=c,this._length=o,this._searchCache.validate(this._length)}getIndexOf(r,c){const o=r.piece,d=this.positionInBuffer(r,c),l=d.line-o.start.line;if(this.offsetInBuffer(o.bufferIndex,o.end)-this.offsetInBuffer(o.bufferIndex,o.start)===c){const p=this.getLineFeedCnt(r.piece.bufferIndex,o.start,d);if(p!==l)return{index:p,remainder:0}}return{index:l,remainder:d.column}}getAccumulatedValue(r,c){if(c<0)return 0;const o=r.piece,d=this._buffers[o.bufferIndex].lineStarts,l=o.start.line+c+1;return l>o.end.line?d[o.end.line]+o.end.column-d[o.start.line]-o.start.column:d[l]-d[o.start.line]-o.start.column}deleteNodeTail(r,c){const o=r.piece,d=o.lineFeedCnt,l=this.offsetInBuffer(o.bufferIndex,o.end),p=c,m=this.offsetInBuffer(o.bufferIndex,p),v=this.getLineFeedCnt(o.bufferIndex,o.start,p),b=v-d,w=m-l,E=o.length+w;r.piece=new i(o.bufferIndex,o.start,p,v,E),(0,D.updateTreeMetadata)(this,r,w,b)}deleteNodeHead(r,c){const o=r.piece,d=o.lineFeedCnt,l=this.offsetInBuffer(o.bufferIndex,o.start),p=c,m=this.getLineFeedCnt(o.bufferIndex,p,o.end),v=this.offsetInBuffer(o.bufferIndex,p),b=m-d,w=l-v,E=o.length+w;r.piece=new i(o.bufferIndex,p,o.end,m,E),(0,D.updateTreeMetadata)(this,r,w,b)}shrinkNode(r,c,o){const d=r.piece,l=d.start,p=d.end,m=d.length,v=d.lineFeedCnt,b=c,w=this.getLineFeedCnt(d.bufferIndex,d.start,b),E=this.offsetInBuffer(d.bufferIndex,c)-this.offsetInBuffer(d.bufferIndex,l);r.piece=new i(d.bufferIndex,d.start,b,w,E),(0,D.updateTreeMetadata)(this,r,E-m,w-v);const I=new i(d.bufferIndex,o,p,this.getLineFeedCnt(d.bufferIndex,o,p),this.offsetInBuffer(d.bufferIndex,p)-this.offsetInBuffer(d.bufferIndex,o)),M=this.rbInsertRight(r,I);this.validateCRLFWithPrevNode(M)}appendToNode(r,c){this.adjustCarriageReturnFromNext(c,r)&&(c+=`
`);const o=this.shouldCheckCRLF()&&this.startWithLF(c)&&this.endWithCR(r),d=this._buffers[0].buffer.length;this._buffers[0].buffer+=c;const l=C(c,!1);for(let M=0;M<l.length;M++)l[M]+=d;if(o){const M=this._buffers[0].lineStarts[this._buffers[0].lineStarts.length-2];this._buffers[0].lineStarts.pop(),this._lastChangeBufferPos={line:this._lastChangeBufferPos.line-1,column:d-M}}this._buffers[0].lineStarts=this._buffers[0].lineStarts.concat(l.slice(1));const p=this._buffers[0].lineStarts.length-1,m=this._buffers[0].buffer.length-this._buffers[0].lineStarts[p],v={line:p,column:m},b=r.piece.length+c.length,w=r.piece.lineFeedCnt,E=this.getLineFeedCnt(0,r.piece.start,v),I=E-w;r.piece=new i(r.piece.bufferIndex,r.piece.start,v,E,b),this._lastChangeBufferPos=v,(0,D.updateTreeMetadata)(this,r,c.length,I)}nodeAt(r){let c=this.root;const o=this._searchCache.get(r);if(o)return{node:o.node,nodeStartOffset:o.nodeStartOffset,remainder:r-o.nodeStartOffset};let d=0;for(;c!==D.SENTINEL;)if(c.size_left>r)c=c.left;else if(c.size_left+c.piece.length>=r){d+=c.size_left;const l={node:c,remainder:r-c.size_left,nodeStartOffset:d};return this._searchCache.set(l),l}else r-=c.size_left+c.piece.length,d+=c.size_left+c.piece.length,c=c.right;return null}nodeAt2(r,c){let o=this.root,d=0;for(;o!==D.SENTINEL;)if(o.left!==D.SENTINEL&&o.lf_left>=r-1)o=o.left;else if(o.lf_left+o.piece.lineFeedCnt>r-1){const l=this.getAccumulatedValue(o,r-o.lf_left-2),p=this.getAccumulatedValue(o,r-o.lf_left-1);return d+=o.size_left,{node:o,remainder:Math.min(l+c-1,p),nodeStartOffset:d}}else if(o.lf_left+o.piece.lineFeedCnt===r-1){const l=this.getAccumulatedValue(o,r-o.lf_left-2);if(l+c-1<=o.piece.length)return{node:o,remainder:l+c-1,nodeStartOffset:d};c-=o.piece.length-l;break}else r-=o.lf_left+o.piece.lineFeedCnt,d+=o.size_left+o.piece.length,o=o.right;for(o=o.next();o!==D.SENTINEL;){if(o.piece.lineFeedCnt>0){const l=this.getAccumulatedValue(o,0),p=this.offsetOfNode(o);return{node:o,remainder:Math.min(c-1,l),nodeStartOffset:p}}else if(o.piece.length>=c-1){const l=this.offsetOfNode(o);return{node:o,remainder:c-1,nodeStartOffset:l}}else c-=o.piece.length;o=o.next()}return null}nodeCharCodeAt(r,c){if(r.piece.lineFeedCnt<1)return-1;const o=this._buffers[r.piece.bufferIndex],d=this.offsetInBuffer(r.piece.bufferIndex,r.piece.start)+c;return o.buffer.charCodeAt(d)}offsetOfNode(r){if(!r)return 0;let c=r.size_left;for(;r!==this.root;)r.parent.right===r&&(c+=r.parent.size_left+r.parent.piece.length),r=r.parent;return c}shouldCheckCRLF(){return!(this._EOLNormalized&&this._EOL===`
`)}startWithLF(r){if(typeof r=="string")return r.charCodeAt(0)===10;if(r===D.SENTINEL||r.piece.lineFeedCnt===0)return!1;const c=r.piece,o=this._buffers[c.bufferIndex].lineStarts,d=c.start.line,l=o[d]+c.start.column;return d===o.length-1||o[d+1]>l+1?!1:this._buffers[c.bufferIndex].buffer.charCodeAt(l)===10}endWithCR(r){return typeof r=="string"?r.charCodeAt(r.length-1)===13:r===D.SENTINEL||r.piece.lineFeedCnt===0?!1:this.nodeCharCodeAt(r,r.piece.length-1)===13}validateCRLFWithPrevNode(r){if(this.shouldCheckCRLF()&&this.startWithLF(r)){const c=r.prev();this.endWithCR(c)&&this.fixCRLF(c,r)}}validateCRLFWithNextNode(r){if(this.shouldCheckCRLF()&&this.endWithCR(r)){const c=r.next();this.startWithLF(c)&&this.fixCRLF(r,c)}}fixCRLF(r,c){const o=[],d=this._buffers[r.piece.bufferIndex].lineStarts;let l;r.piece.end.column===0?l={line:r.piece.end.line-1,column:d[r.piece.end.line]-d[r.piece.end.line-1]-1}:l={line:r.piece.end.line,column:r.piece.end.column-1};const p=r.piece.length-1,m=r.piece.lineFeedCnt-1;r.piece=new i(r.piece.bufferIndex,r.piece.start,l,m,p),(0,D.updateTreeMetadata)(this,r,-1,-1),r.piece.length===0&&o.push(r);const v={line:c.piece.start.line+1,column:0},b=c.piece.length-1,w=this.getLineFeedCnt(c.piece.bufferIndex,v,c.piece.end);c.piece=new i(c.piece.bufferIndex,v,c.piece.end,w,b),(0,D.updateTreeMetadata)(this,c,-1,-1),c.piece.length===0&&o.push(c);const E=this.createNewPieces(`\r
`);this.rbInsertRight(r,E[0]);for(let I=0;I<o.length;I++)(0,D.rbDelete)(this,o[I])}adjustCarriageReturnFromNext(r,c){if(this.shouldCheckCRLF()&&this.endWithCR(r)){const o=c.next();if(this.startWithLF(o)){if(r+=`
`,o.piece.length===1)(0,D.rbDelete)(this,o);else{const d=o.piece,l={line:d.start.line+1,column:0},p=d.length-1,m=this.getLineFeedCnt(d.bufferIndex,l,d.end);o.piece=new i(d.bufferIndex,l,d.end,m,p),(0,D.updateTreeMetadata)(this,o,-1,-1)}return!0}}return!1}iterate(r,c){if(r===D.SENTINEL)return c(D.SENTINEL);const o=this.iterate(r.left,c);return o&&c(r)&&this.iterate(r.right,c)}getNodeContent(r){if(r===D.SENTINEL)return"";const c=this._buffers[r.piece.bufferIndex],o=r.piece,d=this.offsetInBuffer(o.bufferIndex,o.start),l=this.offsetInBuffer(o.bufferIndex,o.end);return c.buffer.substring(d,l)}getPieceContent(r){const c=this._buffers[r.bufferIndex],o=this.offsetInBuffer(r.bufferIndex,r.start),d=this.offsetInBuffer(r.bufferIndex,r.end);return c.buffer.substring(o,d)}rbInsertRight(r,c){const o=new D.TreeNode(c,1);if(o.left=D.SENTINEL,o.right=D.SENTINEL,o.parent=D.SENTINEL,o.size_left=0,o.lf_left=0,this.root===D.SENTINEL)this.root=o,o.color=0;else if(r.right===D.SENTINEL)r.right=o,o.parent=r;else{const l=(0,D.leftest)(r.right);l.left=o,o.parent=l}return(0,D.fixInsert)(this,o),o}rbInsertLeft(r,c){const o=new D.TreeNode(c,1);if(o.left=D.SENTINEL,o.right=D.SENTINEL,o.parent=D.SENTINEL,o.size_left=0,o.lf_left=0,this.root===D.SENTINEL)this.root=o,o.color=0;else if(r.left===D.SENTINEL)r.left=o,o.parent=r;else{const d=(0,D.righttest)(r.left);d.right=o,o.parent=d}return(0,D.fixInsert)(this,o),o}}e.PieceTreeBase=u}),define(ne[207],se([1,0]),function(Q,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.computeIndentLevel=void 0;function L(k,y){let D=0,S=0;const f=k.length;for(;S<f;){const _=k.charCodeAt(S);if(_===32)D++;else if(_===9)D=D-D%y+y;else break;S++}return S===f?-1:D}e.computeIndentLevel=L}),define(ne[284],se([1,0,85,12,48]),function(Q,e,L,k,y){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.OutputPosition=e.InjectedText=e.ModelLineProjectionData=void 0;class D{constructor(s,i,n,t,a){this.injectionOffsets=s,this.injectionOptions=i,this.breakOffsets=n,this.breakOffsetsVisibleColumn=t,this.wrappedTextIndentLength=a}getOutputLineCount(){return this.breakOffsets.length}getMinOutputOffset(s){return s>0?this.wrappedTextIndentLength:0}getLineLength(s){const i=s>0?this.breakOffsets[s-1]:0;let t=this.breakOffsets[s]-i;return s>0&&(t+=this.wrappedTextIndentLength),t}getMaxOutputOffset(s){return this.getLineLength(s)}translateToInputOffset(s,i){s>0&&(i=Math.max(0,i-this.wrappedTextIndentLength));let t=s===0?i:this.breakOffsets[s-1]+i;if(this.injectionOffsets!==null)for(let a=0;a<this.injectionOffsets.length&&t>this.injectionOffsets[a];a++)t<this.injectionOffsets[a]+this.injectionOptions[a].content.length?t=this.injectionOffsets[a]:t-=this.injectionOptions[a].content.length;return t}translateToOutputPosition(s,i=2){let n=s;if(this.injectionOffsets!==null)for(let t=0;t<this.injectionOffsets.length&&!(s<this.injectionOffsets[t]||i!==1&&s===this.injectionOffsets[t]);t++)n+=this.injectionOptions[t].content.length;return this.offsetInInputWithInjectionsToOutputPosition(n,i)}offsetInInputWithInjectionsToOutputPosition(s,i=2){let n=0,t=this.breakOffsets.length-1,a=0,u=0;for(;n<=t;){a=n+(t-n)/2|0;const r=this.breakOffsets[a];if(u=a>0?this.breakOffsets[a-1]:0,i===0)if(s<=u)t=a-1;else if(s>r)n=a+1;else break;else if(s<u)t=a-1;else if(s>=r)n=a+1;else break}let h=s-u;return a>0&&(h+=this.wrappedTextIndentLength),new g(a,h)}normalizeOutputPosition(s,i,n){if(this.injectionOffsets!==null){const t=this.outputPositionToOffsetInInputWithInjections(s,i),a=this.normalizeOffsetInInputWithInjectionsAroundInjections(t,n);if(a!==t)return this.offsetInInputWithInjectionsToOutputPosition(a,n)}if(n===0){if(s>0&&i===this.getMinOutputOffset(s))return new g(s-1,this.getMaxOutputOffset(s-1))}else if(n===1){const t=this.getOutputLineCount()-1;if(s<t&&i===this.getMaxOutputOffset(s))return new g(s+1,this.getMinOutputOffset(s+1))}return new g(s,i)}outputPositionToOffsetInInputWithInjections(s,i){return s>0&&(i=Math.max(0,i-this.wrappedTextIndentLength)),(s>0?this.breakOffsets[s-1]:0)+i}normalizeOffsetInInputWithInjectionsAroundInjections(s,i){const n=this.getInjectedTextAtOffset(s);if(!n)return s;if(i===2){if(s===n.offsetInInputWithInjections+n.length&&S(this.injectionOptions[n.injectedTextIndex].cursorStops))return n.offsetInInputWithInjections+n.length;{let t=n.offsetInInputWithInjections;if(f(this.injectionOptions[n.injectedTextIndex].cursorStops))return t;let a=n.injectedTextIndex-1;for(;a>=0&&this.injectionOffsets[a]===this.injectionOffsets[n.injectedTextIndex]&&!(S(this.injectionOptions[a].cursorStops)||(t-=this.injectionOptions[a].content.length,f(this.injectionOptions[a].cursorStops)));)a--;return t}}else if(i===1||i===4){let t=n.offsetInInputWithInjections+n.length,a=n.injectedTextIndex;for(;a+1<this.injectionOffsets.length&&this.injectionOffsets[a+1]===this.injectionOffsets[a];)t+=this.injectionOptions[a+1].content.length,a++;return t}else if(i===0||i===3){let t=n.offsetInInputWithInjections,a=n.injectedTextIndex;for(;a-1>=0&&this.injectionOffsets[a-1]===this.injectionOffsets[a];)t-=this.injectionOptions[a-1].content.length,a--;return t}(0,L.assertNever)(i)}getInjectedText(s,i){const n=this.outputPositionToOffsetInInputWithInjections(s,i),t=this.getInjectedTextAtOffset(n);return t?{options:this.injectionOptions[t.injectedTextIndex]}:null}getInjectedTextAtOffset(s){const i=this.injectionOffsets,n=this.injectionOptions;if(i!==null){let t=0;for(let a=0;a<i.length;a++){const u=n[a].content.length,h=i[a]+t,r=i[a]+t+u;if(h>s)break;if(s<=r)return{injectedTextIndex:a,offsetInInputWithInjections:h,length:u};t+=u}}}}e.ModelLineProjectionData=D;function S(C){return C==null?!0:C===y.InjectedTextCursorStops.Right||C===y.InjectedTextCursorStops.Both}function f(C){return C==null?!0:C===y.InjectedTextCursorStops.Left||C===y.InjectedTextCursorStops.Both}class _{constructor(s){this.options=s}}e.InjectedText=_;class g{constructor(s,i){this.outputLineIndex=s,this.outputOffset=i}toString(){return`${this.outputLineIndex}:${this.outputOffset}`}toPosition(s){return new k.Position(s+this.outputLineIndex,this.outputOffset+1)}}e.OutputPosition=g}),define(ne[285],se([1,0]),function(Q,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.DraggedTreeItemsIdentifier=e.TreeViewsDnDService=void 0;class L{constructor(){this._dragOperations=new Map}removeDragOperationTransfer(D){if(D&&this._dragOperations.has(D)){const S=this._dragOperations.get(D);return this._dragOperations.delete(D),S}}}e.TreeViewsDnDService=L;class k{constructor(D){this.identifier=D}}e.DraggedTreeItemsIdentifier=k}),define(ne[286],se([1,0,5,181,11,85,147]),function(Q,e,L,k,y,D,S){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.UnicodeTextModelHighlighter=void 0;class f{static computeUnicodeHighlights(i,n,t){const a=t?t.startLineNumber:1,u=t?t.endLineNumber:i.getLineCount(),h=new g(n),r=h.getCandidateCodePoints();let c;r==="allNonBasicAscii"?c=new RegExp("[^\\t\\n\\r\\x20-\\x7E]","g"):c=new RegExp(`${_(Array.from(r))}`,"g");const o=new k.Searcher(null,c),d=[];let l=!1,p,m=0,v=0,b=0;e:for(let w=a,E=u;w<=E;w++){const I=i.getLineContent(w),M=I.length;o.reset(0);do if(p=o.next(I),p){let P=p.index,x=p.index+p[0].length;if(P>0){const F=I.charCodeAt(P-1);y.isHighSurrogate(F)&&P--}if(x+1<M){const F=I.charCodeAt(x-1);y.isHighSurrogate(F)&&x++}const T=I.substring(P,x);let A=(0,S.getWordAtText)(P+1,S.DEFAULT_WORD_REGEXP,I,0);A&&A.endColumn<=P+1&&(A=null);const N=h.shouldHighlightNonBasicASCII(T,A?A.word:null);if(N!==0){N===3?m++:N===2?v++:N===1?b++:(0,D.assertNever)(N);const F=1e3;if(d.length>=F){l=!0;break e}d.push(new L.Range(w,P+1,w,x+1))}}while(p)}return{ranges:d,hasMore:l,ambiguousCharacterCount:m,invisibleCharacterCount:v,nonBasicAsciiCharacterCount:b}}static computeUnicodeHighlightReason(i,n){const t=new g(n);switch(t.shouldHighlightNonBasicASCII(i,null)){case 0:return null;case 2:return{kind:1};case 3:{const u=i.codePointAt(0),h=t.ambiguousCharacters.getPrimaryConfusable(u),r=y.AmbiguousCharacters.getLocales().filter(c=>!y.AmbiguousCharacters.getInstance(new Set([...n.allowedLocales,c])).isAmbiguous(u));return{kind:0,confusableWith:String.fromCodePoint(h),notAmbiguousInLocales:r}}case 1:return{kind:2}}}}e.UnicodeTextModelHighlighter=f;function _(s,i){return`[${y.escapeRegExpCharacters(s.map(t=>String.fromCodePoint(t)).join(""))}]`}class g{constructor(i){this.options=i,this.allowedCodePoints=new Set(i.allowedCodePoints),this.ambiguousCharacters=y.AmbiguousCharacters.getInstance(new Set(i.allowedLocales))}getCandidateCodePoints(){if(this.options.nonBasicASCII)return"allNonBasicAscii";const i=new Set;if(this.options.invisibleCharacters)for(const n of y.InvisibleCharacters.codePoints)C(String.fromCodePoint(n))||i.add(n);if(this.options.ambiguousCharacters)for(const n of this.ambiguousCharacters.getConfusableCodePoints())i.add(n);for(const n of this.allowedCodePoints)i.delete(n);return i}shouldHighlightNonBasicASCII(i,n){const t=i.codePointAt(0);if(this.allowedCodePoints.has(t))return 0;if(this.options.nonBasicASCII)return 1;let a=!1,u=!1;if(n)for(const h of n){const r=h.codePointAt(0),c=y.isBasicASCII(h);a=a||c,!c&&!this.ambiguousCharacters.isAmbiguous(r)&&!y.InvisibleCharacters.isInvisibleCharacter(r)&&(u=!0)}return!a&&u?0:this.options.invisibleCharacters&&!C(i)&&y.InvisibleCharacters.isInvisibleCharacter(t)?2:this.options.ambiguousCharacters&&this.ambiguousCharacters.isAmbiguous(t)?3:0}}function C(s){return s===" "||s===`
`||s==="	"}}),define(ne[208],se([1,0]),function(Q,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.WrappingIndent=e.TrackedRangeStickiness=e.TextEditorCursorStyle=e.TextEditorCursorBlinkingStyle=e.SymbolTag=e.SymbolKind=e.SignatureHelpTriggerKind=e.SelectionDirection=e.ScrollbarVisibility=e.ScrollType=e.RenderMinimap=e.RenderLineNumbersType=e.PositionAffinity=e.OverviewRulerLane=e.OverlayWidgetPositionPreference=e.MouseTargetType=e.MinimapPosition=e.MarkerTag=e.MarkerSeverity=e.KeyCode=e.InlineCompletionTriggerKind=e.InlayHintKind=e.InjectedTextCursorStops=e.IndentAction=e.GlyphMarginLane=e.EndOfLineSequence=e.EndOfLinePreference=e.EditorOption=e.EditorAutoIndentStrategy=e.DocumentHighlightKind=e.DefaultEndOfLine=e.CursorChangeReason=e.ContentWidgetPositionPreference=e.CompletionTriggerKind=e.CompletionItemTag=e.CompletionItemKind=e.CompletionItemInsertTextRule=e.CodeActionTriggerType=e.AccessibilitySupport=void 0;var L;(function(R){R[R.Unknown=0]="Unknown",R[R.Disabled=1]="Disabled",R[R.Enabled=2]="Enabled"})(L||(e.AccessibilitySupport=L={}));var k;(function(R){R[R.Invoke=1]="Invoke",R[R.Auto=2]="Auto"})(k||(e.CodeActionTriggerType=k={}));var y;(function(R){R[R.None=0]="None",R[R.KeepWhitespace=1]="KeepWhitespace",R[R.InsertAsSnippet=4]="InsertAsSnippet"})(y||(e.CompletionItemInsertTextRule=y={}));var D;(function(R){R[R.Method=0]="Method",R[R.Function=1]="Function",R[R.Constructor=2]="Constructor",R[R.Field=3]="Field",R[R.Variable=4]="Variable",R[R.Class=5]="Class",R[R.Struct=6]="Struct",R[R.Interface=7]="Interface",R[R.Module=8]="Module",R[R.Property=9]="Property",R[R.Event=10]="Event",R[R.Operator=11]="Operator",R[R.Unit=12]="Unit",R[R.Value=13]="Value",R[R.Constant=14]="Constant",R[R.Enum=15]="Enum",R[R.EnumMember=16]="EnumMember",R[R.Keyword=17]="Keyword",R[R.Text=18]="Text",R[R.Color=19]="Color",R[R.File=20]="File",R[R.Reference=21]="Reference",R[R.Customcolor=22]="Customcolor",R[R.Folder=23]="Folder",R[R.TypeParameter=24]="TypeParameter",R[R.User=25]="User",R[R.Issue=26]="Issue",R[R.Snippet=27]="Snippet"})(D||(e.CompletionItemKind=D={}));var S;(function(R){R[R.Deprecated=1]="Deprecated"})(S||(e.CompletionItemTag=S={}));var f;(function(R){R[R.Invoke=0]="Invoke",R[R.TriggerCharacter=1]="TriggerCharacter",R[R.TriggerForIncompleteCompletions=2]="TriggerForIncompleteCompletions"})(f||(e.CompletionTriggerKind=f={}));var _;(function(R){R[R.EXACT=0]="EXACT",R[R.ABOVE=1]="ABOVE",R[R.BELOW=2]="BELOW"})(_||(e.ContentWidgetPositionPreference=_={}));var g;(function(R){R[R.NotSet=0]="NotSet",R[R.ContentFlush=1]="ContentFlush",R[R.RecoverFromMarkers=2]="RecoverFromMarkers",R[R.Explicit=3]="Explicit",R[R.Paste=4]="Paste",R[R.Undo=5]="Undo",R[R.Redo=6]="Redo"})(g||(e.CursorChangeReason=g={}));var C;(function(R){R[R.LF=1]="LF",R[R.CRLF=2]="CRLF"})(C||(e.DefaultEndOfLine=C={}));var s;(function(R){R[R.Text=0]="Text",R[R.Read=1]="Read",R[R.Write=2]="Write"})(s||(e.DocumentHighlightKind=s={}));var i;(function(R){R[R.None=0]="None",R[R.Keep=1]="Keep",R[R.Brackets=2]="Brackets",R[R.Advanced=3]="Advanced",R[R.Full=4]="Full"})(i||(e.EditorAutoIndentStrategy=i={}));var n;(function(R){R[R.acceptSuggestionOnCommitCharacter=0]="acceptSuggestionOnCommitCharacter",R[R.acceptSuggestionOnEnter=1]="acceptSuggestionOnEnter",R[R.accessibilitySupport=2]="accessibilitySupport",R[R.accessibilityPageSize=3]="accessibilityPageSize",R[R.ariaLabel=4]="ariaLabel",R[R.ariaRequired=5]="ariaRequired",R[R.autoClosingBrackets=6]="autoClosingBrackets",R[R.screenReaderAnnounceInlineSuggestion=7]="screenReaderAnnounceInlineSuggestion",R[R.autoClosingDelete=8]="autoClosingDelete",R[R.autoClosingOvertype=9]="autoClosingOvertype",R[R.autoClosingQuotes=10]="autoClosingQuotes",R[R.autoIndent=11]="autoIndent",R[R.automaticLayout=12]="automaticLayout",R[R.autoSurround=13]="autoSurround",R[R.bracketPairColorization=14]="bracketPairColorization",R[R.guides=15]="guides",R[R.codeLens=16]="codeLens",R[R.codeLensFontFamily=17]="codeLensFontFamily",R[R.codeLensFontSize=18]="codeLensFontSize",R[R.colorDecorators=19]="colorDecorators",R[R.colorDecoratorsLimit=20]="colorDecoratorsLimit",R[R.columnSelection=21]="columnSelection",R[R.comments=22]="comments",R[R.contextmenu=23]="contextmenu",R[R.copyWithSyntaxHighlighting=24]="copyWithSyntaxHighlighting",R[R.cursorBlinking=25]="cursorBlinking",R[R.cursorSmoothCaretAnimation=26]="cursorSmoothCaretAnimation",R[R.cursorStyle=27]="cursorStyle",R[R.cursorSurroundingLines=28]="cursorSurroundingLines",R[R.cursorSurroundingLinesStyle=29]="cursorSurroundingLinesStyle",R[R.cursorWidth=30]="cursorWidth",R[R.disableLayerHinting=31]="disableLayerHinting",R[R.disableMonospaceOptimizations=32]="disableMonospaceOptimizations",R[R.domReadOnly=33]="domReadOnly",R[R.dragAndDrop=34]="dragAndDrop",R[R.dropIntoEditor=35]="dropIntoEditor",R[R.emptySelectionClipboard=36]="emptySelectionClipboard",R[R.experimentalWhitespaceRendering=37]="experimentalWhitespaceRendering",R[R.extraEditorClassName=38]="extraEditorClassName",R[R.fastScrollSensitivity=39]="fastScrollSensitivity",R[R.find=40]="find",R[R.fixedOverflowWidgets=41]="fixedOverflowWidgets",R[R.folding=42]="folding",R[R.foldingStrategy=43]="foldingStrategy",R[R.foldingHighlight=44]="foldingHighlight",R[R.foldingImportsByDefault=45]="foldingImportsByDefault",R[R.foldingMaximumRegions=46]="foldingMaximumRegions",R[R.unfoldOnClickAfterEndOfLine=47]="unfoldOnClickAfterEndOfLine",R[R.fontFamily=48]="fontFamily",R[R.fontInfo=49]="fontInfo",R[R.fontLigatures=50]="fontLigatures",R[R.fontSize=51]="fontSize",R[R.fontWeight=52]="fontWeight",R[R.fontVariations=53]="fontVariations",R[R.formatOnPaste=54]="formatOnPaste",R[R.formatOnType=55]="formatOnType",R[R.glyphMargin=56]="glyphMargin",R[R.gotoLocation=57]="gotoLocation",R[R.hideCursorInOverviewRuler=58]="hideCursorInOverviewRuler",R[R.hover=59]="hover",R[R.inDiffEditor=60]="inDiffEditor",R[R.inlineSuggest=61]="inlineSuggest",R[R.letterSpacing=62]="letterSpacing",R[R.lightbulb=63]="lightbulb",R[R.lineDecorationsWidth=64]="lineDecorationsWidth",R[R.lineHeight=65]="lineHeight",R[R.lineNumbers=66]="lineNumbers",R[R.lineNumbersMinChars=67]="lineNumbersMinChars",R[R.linkedEditing=68]="linkedEditing",R[R.links=69]="links",R[R.matchBrackets=70]="matchBrackets",R[R.minimap=71]="minimap",R[R.mouseStyle=72]="mouseStyle",R[R.mouseWheelScrollSensitivity=73]="mouseWheelScrollSensitivity",R[R.mouseWheelZoom=74]="mouseWheelZoom",R[R.multiCursorMergeOverlapping=75]="multiCursorMergeOverlapping",R[R.multiCursorModifier=76]="multiCursorModifier",R[R.multiCursorPaste=77]="multiCursorPaste",R[R.multiCursorLimit=78]="multiCursorLimit",R[R.occurrencesHighlight=79]="occurrencesHighlight",R[R.overviewRulerBorder=80]="overviewRulerBorder",R[R.overviewRulerLanes=81]="overviewRulerLanes",R[R.padding=82]="padding",R[R.pasteAs=83]="pasteAs",R[R.parameterHints=84]="parameterHints",R[R.peekWidgetDefaultFocus=85]="peekWidgetDefaultFocus",R[R.definitionLinkOpensInPeek=86]="definitionLinkOpensInPeek",R[R.quickSuggestions=87]="quickSuggestions",R[R.quickSuggestionsDelay=88]="quickSuggestionsDelay",R[R.readOnly=89]="readOnly",R[R.readOnlyMessage=90]="readOnlyMessage",R[R.renameOnType=91]="renameOnType",R[R.renderControlCharacters=92]="renderControlCharacters",R[R.renderFinalNewline=93]="renderFinalNewline",R[R.renderLineHighlight=94]="renderLineHighlight",R[R.renderLineHighlightOnlyWhenFocus=95]="renderLineHighlightOnlyWhenFocus",R[R.renderValidationDecorations=96]="renderValidationDecorations",R[R.renderWhitespace=97]="renderWhitespace",R[R.revealHorizontalRightPadding=98]="revealHorizontalRightPadding",R[R.roundedSelection=99]="roundedSelection",R[R.rulers=100]="rulers",R[R.scrollbar=101]="scrollbar",R[R.scrollBeyondLastColumn=102]="scrollBeyondLastColumn",R[R.scrollBeyondLastLine=103]="scrollBeyondLastLine",R[R.scrollPredominantAxis=104]="scrollPredominantAxis",R[R.selectionClipboard=105]="selectionClipboard",R[R.selectionHighlight=106]="selectionHighlight",R[R.selectOnLineNumbers=107]="selectOnLineNumbers",R[R.showFoldingControls=108]="showFoldingControls",R[R.showUnused=109]="showUnused",R[R.snippetSuggestions=110]="snippetSuggestions",R[R.smartSelect=111]="smartSelect",R[R.smoothScrolling=112]="smoothScrolling",R[R.stickyScroll=113]="stickyScroll",R[R.stickyTabStops=114]="stickyTabStops",R[R.stopRenderingLineAfter=115]="stopRenderingLineAfter",R[R.suggest=116]="suggest",R[R.suggestFontSize=117]="suggestFontSize",R[R.suggestLineHeight=118]="suggestLineHeight",R[R.suggestOnTriggerCharacters=119]="suggestOnTriggerCharacters",R[R.suggestSelection=120]="suggestSelection",R[R.tabCompletion=121]="tabCompletion",R[R.tabIndex=122]="tabIndex",R[R.unicodeHighlighting=123]="unicodeHighlighting",R[R.unusualLineTerminators=124]="unusualLineTerminators",R[R.useShadowDOM=125]="useShadowDOM",R[R.useTabStops=126]="useTabStops",R[R.wordBreak=127]="wordBreak",R[R.wordSeparators=128]="wordSeparators",R[R.wordWrap=129]="wordWrap",R[R.wordWrapBreakAfterCharacters=130]="wordWrapBreakAfterCharacters",R[R.wordWrapBreakBeforeCharacters=131]="wordWrapBreakBeforeCharacters",R[R.wordWrapColumn=132]="wordWrapColumn",R[R.wordWrapOverride1=133]="wordWrapOverride1",R[R.wordWrapOverride2=134]="wordWrapOverride2",R[R.wrappingIndent=135]="wrappingIndent",R[R.wrappingStrategy=136]="wrappingStrategy",R[R.showDeprecated=137]="showDeprecated",R[R.inlayHints=138]="inlayHints",R[R.editorClassName=139]="editorClassName",R[R.pixelRatio=140]="pixelRatio",R[R.tabFocusMode=141]="tabFocusMode",R[R.layoutInfo=142]="layoutInfo",R[R.wrappingInfo=143]="wrappingInfo",R[R.defaultColorDecorators=144]="defaultColorDecorators",R[R.colorDecoratorsActivatedOn=145]="colorDecoratorsActivatedOn",R[R.inlineCompletionsAccessibilityVerbose=146]="inlineCompletionsAccessibilityVerbose"})(n||(e.EditorOption=n={}));var t;(function(R){R[R.TextDefined=0]="TextDefined",R[R.LF=1]="LF",R[R.CRLF=2]="CRLF"})(t||(e.EndOfLinePreference=t={}));var a;(function(R){R[R.LF=0]="LF",R[R.CRLF=1]="CRLF"})(a||(e.EndOfLineSequence=a={}));var u;(function(R){R[R.Left=1]="Left",R[R.Right=2]="Right"})(u||(e.GlyphMarginLane=u={}));var h;(function(R){R[R.None=0]="None",R[R.Indent=1]="Indent",R[R.IndentOutdent=2]="IndentOutdent",R[R.Outdent=3]="Outdent"})(h||(e.IndentAction=h={}));var r;(function(R){R[R.Both=0]="Both",R[R.Right=1]="Right",R[R.Left=2]="Left",R[R.None=3]="None"})(r||(e.InjectedTextCursorStops=r={}));var c;(function(R){R[R.Type=1]="Type",R[R.Parameter=2]="Parameter"})(c||(e.InlayHintKind=c={}));var o;(function(R){R[R.Automatic=0]="Automatic",R[R.Explicit=1]="Explicit"})(o||(e.InlineCompletionTriggerKind=o={}));var d;(function(R){R[R.DependsOnKbLayout=-1]="DependsOnKbLayout",R[R.Unknown=0]="Unknown",R[R.Backspace=1]="Backspace",R[R.Tab=2]="Tab",R[R.Enter=3]="Enter",R[R.Shift=4]="Shift",R[R.Ctrl=5]="Ctrl",R[R.Alt=6]="Alt",R[R.PauseBreak=7]="PauseBreak",R[R.CapsLock=8]="CapsLock",R[R.Escape=9]="Escape",R[R.Space=10]="Space",R[R.PageUp=11]="PageUp",R[R.PageDown=12]="PageDown",R[R.End=13]="End",R[R.Home=14]="Home",R[R.LeftArrow=15]="LeftArrow",R[R.UpArrow=16]="UpArrow",R[R.RightArrow=17]="RightArrow",R[R.DownArrow=18]="DownArrow",R[R.Insert=19]="Insert",R[R.Delete=20]="Delete",R[R.Digit0=21]="Digit0",R[R.Digit1=22]="Digit1",R[R.Digit2=23]="Digit2",R[R.Digit3=24]="Digit3",R[R.Digit4=25]="Digit4",R[R.Digit5=26]="Digit5",R[R.Digit6=27]="Digit6",R[R.Digit7=28]="Digit7",R[R.Digit8=29]="Digit8",R[R.Digit9=30]="Digit9",R[R.KeyA=31]="KeyA",R[R.KeyB=32]="KeyB",R[R.KeyC=33]="KeyC",R[R.KeyD=34]="KeyD",R[R.KeyE=35]="KeyE",R[R.KeyF=36]="KeyF",R[R.KeyG=37]="KeyG",R[R.KeyH=38]="KeyH",R[R.KeyI=39]="KeyI",R[R.KeyJ=40]="KeyJ",R[R.KeyK=41]="KeyK",R[R.KeyL=42]="KeyL",R[R.KeyM=43]="KeyM",R[R.KeyN=44]="KeyN",R[R.KeyO=45]="KeyO",R[R.KeyP=46]="KeyP",R[R.KeyQ=47]="KeyQ",R[R.KeyR=48]="KeyR",R[R.KeyS=49]="KeyS",R[R.KeyT=50]="KeyT",R[R.KeyU=51]="KeyU",R[R.KeyV=52]="KeyV",R[R.KeyW=53]="KeyW",R[R.KeyX=54]="KeyX",R[R.KeyY=55]="KeyY",R[R.KeyZ=56]="KeyZ",R[R.Meta=57]="Meta",R[R.ContextMenu=58]="ContextMenu",R[R.F1=59]="F1",R[R.F2=60]="F2",R[R.F3=61]="F3",R[R.F4=62]="F4",R[R.F5=63]="F5",R[R.F6=64]="F6",R[R.F7=65]="F7",R[R.F8=66]="F8",R[R.F9=67]="F9",R[R.F10=68]="F10",R[R.F11=69]="F11",R[R.F12=70]="F12",R[R.F13=71]="F13",R[R.F14=72]="F14",R[R.F15=73]="F15",R[R.F16=74]="F16",R[R.F17=75]="F17",R[R.F18=76]="F18",R[R.F19=77]="F19",R[R.F20=78]="F20",R[R.F21=79]="F21",R[R.F22=80]="F22",R[R.F23=81]="F23",R[R.F24=82]="F24",R[R.NumLock=83]="NumLock",R[R.ScrollLock=84]="ScrollLock",R[R.Semicolon=85]="Semicolon",R[R.Equal=86]="Equal",R[R.Comma=87]="Comma",R[R.Minus=88]="Minus",R[R.Period=89]="Period",R[R.Slash=90]="Slash",R[R.Backquote=91]="Backquote",R[R.BracketLeft=92]="BracketLeft",R[R.Backslash=93]="Backslash",R[R.BracketRight=94]="BracketRight",R[R.Quote=95]="Quote",R[R.OEM_8=96]="OEM_8",R[R.IntlBackslash=97]="IntlBackslash",R[R.Numpad0=98]="Numpad0",R[R.Numpad1=99]="Numpad1",R[R.Numpad2=100]="Numpad2",R[R.Numpad3=101]="Numpad3",R[R.Numpad4=102]="Numpad4",R[R.Numpad5=103]="Numpad5",R[R.Numpad6=104]="Numpad6",R[R.Numpad7=105]="Numpad7",R[R.Numpad8=106]="Numpad8",R[R.Numpad9=107]="Numpad9",R[R.NumpadMultiply=108]="NumpadMultiply",R[R.NumpadAdd=109]="NumpadAdd",R[R.NUMPAD_SEPARATOR=110]="NUMPAD_SEPARATOR",R[R.NumpadSubtract=111]="NumpadSubtract",R[R.NumpadDecimal=112]="NumpadDecimal",R[R.NumpadDivide=113]="NumpadDivide",R[R.KEY_IN_COMPOSITION=114]="KEY_IN_COMPOSITION",R[R.ABNT_C1=115]="ABNT_C1",R[R.ABNT_C2=116]="ABNT_C2",R[R.AudioVolumeMute=117]="AudioVolumeMute",R[R.AudioVolumeUp=118]="AudioVolumeUp",R[R.AudioVolumeDown=119]="AudioVolumeDown",R[R.BrowserSearch=120]="BrowserSearch",R[R.BrowserHome=121]="BrowserHome",R[R.BrowserBack=122]="BrowserBack",R[R.BrowserForward=123]="BrowserForward",R[R.MediaTrackNext=124]="MediaTrackNext",R[R.MediaTrackPrevious=125]="MediaTrackPrevious",R[R.MediaStop=126]="MediaStop",R[R.MediaPlayPause=127]="MediaPlayPause",R[R.LaunchMediaPlayer=128]="LaunchMediaPlayer",R[R.LaunchMail=129]="LaunchMail",R[R.LaunchApp2=130]="LaunchApp2",R[R.Clear=131]="Clear",R[R.MAX_VALUE=132]="MAX_VALUE"})(d||(e.KeyCode=d={}));var l;(function(R){R[R.Hint=1]="Hint",R[R.Info=2]="Info",R[R.Warning=4]="Warning",R[R.Error=8]="Error"})(l||(e.MarkerSeverity=l={}));var p;(function(R){R[R.Unnecessary=1]="Unnecessary",R[R.Deprecated=2]="Deprecated"})(p||(e.MarkerTag=p={}));var m;(function(R){R[R.Inline=1]="Inline",R[R.Gutter=2]="Gutter"})(m||(e.MinimapPosition=m={}));var v;(function(R){R[R.UNKNOWN=0]="UNKNOWN",R[R.TEXTAREA=1]="TEXTAREA",R[R.GUTTER_GLYPH_MARGIN=2]="GUTTER_GLYPH_MARGIN",R[R.GUTTER_LINE_NUMBERS=3]="GUTTER_LINE_NUMBERS",R[R.GUTTER_LINE_DECORATIONS=4]="GUTTER_LINE_DECORATIONS",R[R.GUTTER_VIEW_ZONE=5]="GUTTER_VIEW_ZONE",R[R.CONTENT_TEXT=6]="CONTENT_TEXT",R[R.CONTENT_EMPTY=7]="CONTENT_EMPTY",R[R.CONTENT_VIEW_ZONE=8]="CONTENT_VIEW_ZONE",R[R.CONTENT_WIDGET=9]="CONTENT_WIDGET",R[R.OVERVIEW_RULER=10]="OVERVIEW_RULER",R[R.SCROLLBAR=11]="SCROLLBAR",R[R.OVERLAY_WIDGET=12]="OVERLAY_WIDGET",R[R.OUTSIDE_EDITOR=13]="OUTSIDE_EDITOR"})(v||(e.MouseTargetType=v={}));var b;(function(R){R[R.TOP_RIGHT_CORNER=0]="TOP_RIGHT_CORNER",R[R.BOTTOM_RIGHT_CORNER=1]="BOTTOM_RIGHT_CORNER",R[R.TOP_CENTER=2]="TOP_CENTER"})(b||(e.OverlayWidgetPositionPreference=b={}));var w;(function(R){R[R.Left=1]="Left",R[R.Center=2]="Center",R[R.Right=4]="Right",R[R.Full=7]="Full"})(w||(e.OverviewRulerLane=w={}));var E;(function(R){R[R.Left=0]="Left",R[R.Right=1]="Right",R[R.None=2]="None",R[R.LeftOfInjectedText=3]="LeftOfInjectedText",R[R.RightOfInjectedText=4]="RightOfInjectedText"})(E||(e.PositionAffinity=E={}));var I;(function(R){R[R.Off=0]="Off",R[R.On=1]="On",R[R.Relative=2]="Relative",R[R.Interval=3]="Interval",R[R.Custom=4]="Custom"})(I||(e.RenderLineNumbersType=I={}));var M;(function(R){R[R.None=0]="None",R[R.Text=1]="Text",R[R.Blocks=2]="Blocks"})(M||(e.RenderMinimap=M={}));var P;(function(R){R[R.Smooth=0]="Smooth",R[R.Immediate=1]="Immediate"})(P||(e.ScrollType=P={}));var x;(function(R){R[R.Auto=1]="Auto",R[R.Hidden=2]="Hidden",R[R.Visible=3]="Visible"})(x||(e.ScrollbarVisibility=x={}));var T;(function(R){R[R.LTR=0]="LTR",R[R.RTL=1]="RTL"})(T||(e.SelectionDirection=T={}));var A;(function(R){R[R.Invoke=1]="Invoke",R[R.TriggerCharacter=2]="TriggerCharacter",R[R.ContentChange=3]="ContentChange"})(A||(e.SignatureHelpTriggerKind=A={}));var N;(function(R){R[R.File=0]="File",R[R.Module=1]="Module",R[R.Namespace=2]="Namespace",R[R.Package=3]="Package",R[R.Class=4]="Class",R[R.Method=5]="Method",R[R.Property=6]="Property",R[R.Field=7]="Field",R[R.Constructor=8]="Constructor",R[R.Enum=9]="Enum",R[R.Interface=10]="Interface",R[R.Function=11]="Function",R[R.Variable=12]="Variable",R[R.Constant=13]="Constant",R[R.String=14]="String",R[R.Number=15]="Number",R[R.Boolean=16]="Boolean",R[R.Array=17]="Array",R[R.Object=18]="Object",R[R.Key=19]="Key",R[R.Null=20]="Null",R[R.EnumMember=21]="EnumMember",R[R.Struct=22]="Struct",R[R.Event=23]="Event",R[R.Operator=24]="Operator",R[R.TypeParameter=25]="TypeParameter"})(N||(e.SymbolKind=N={}));var F;(function(R){R[R.Deprecated=1]="Deprecated"})(F||(e.SymbolTag=F={}));var O;(function(R){R[R.Hidden=0]="Hidden",R[R.Blink=1]="Blink",R[R.Smooth=2]="Smooth",R[R.Phase=3]="Phase",R[R.Expand=4]="Expand",R[R.Solid=5]="Solid"})(O||(e.TextEditorCursorBlinkingStyle=O={}));var W;(function(R){R[R.Line=1]="Line",R[R.Block=2]="Block",R[R.Underline=3]="Underline",R[R.LineThin=4]="LineThin",R[R.BlockOutline=5]="BlockOutline",R[R.UnderlineThin=6]="UnderlineThin"})(W||(e.TextEditorCursorStyle=W={}));var U;(function(R){R[R.AlwaysGrowsWhenTypingAtEdges=0]="AlwaysGrowsWhenTypingAtEdges",R[R.NeverGrowsWhenTypingAtEdges=1]="NeverGrowsWhenTypingAtEdges",R[R.GrowsOnlyWhenTypingBefore=2]="GrowsOnlyWhenTypingBefore",R[R.GrowsOnlyWhenTypingAfter=3]="GrowsOnlyWhenTypingAfter"})(U||(e.TrackedRangeStickiness=U={}));var j;(function(R){R[R.None=0]="None",R[R.Same=1]="Same",R[R.Indent=2]="Indent",R[R.DeepIndent=3]="DeepIndent"})(j||(e.WrappingIndent=j={}))}),define(ne[513],se([1,0]),function(Q,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.BracketPairWithMinIndentationInfo=e.BracketPairInfo=e.BracketInfo=void 0;class L{constructor(S,f,_,g){this.range=S,this.nestingLevel=f,this.nestingLevelOfEqualBracketType=_,this.isInvalid=g}}e.BracketInfo=L;class k{constructor(S,f,_,g,C,s){this.range=S,this.openingBracketRange=f,this.closingBracketRange=_,this.nestingLevel=g,this.nestingLevelOfEqualBracketType=C,this.bracketPairNode=s}get openingBracketInfo(){return this.bracketPairNode.openingBracket.bracketInfo}}e.BracketPairInfo=k;class y extends k{constructor(S,f,_,g,C,s,i){super(S,f,_,g,C,s),this.minVisibleColumnIndentation=i}}e.BracketPairWithMinIndentationInfo=y}),define(ne[514],se([1,0,6,2,513,179,280,91,279,126,206,14,278]),function(Q,e,L,k,y,D,S,f,_,g,C,s,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.BracketPairsTree=void 0;class n extends k.Disposable{didLanguageChange(o){return this.brackets.didLanguageChange(o)}constructor(o,d){if(super(),this.textModel=o,this.getLanguageConfiguration=d,this.didChangeEmitter=new L.Emitter,this.denseKeyProvider=new g.DenseKeyProvider,this.brackets=new S.LanguageAgnosticBracketTokens(this.denseKeyProvider,this.getLanguageConfiguration),this.onDidChange=this.didChangeEmitter.event,this.queuedTextEditsForInitialAstWithoutTokens=[],this.queuedTextEdits=[],o.tokenization.hasTokens)o.tokenization.backgroundTokenizationState===2?(this.initialAstWithoutTokens=void 0,this.astWithTokens=this.parseDocumentFromTextBuffer([],void 0,!1)):(this.initialAstWithoutTokens=this.parseDocumentFromTextBuffer([],void 0,!0),this.astWithTokens=this.initialAstWithoutTokens);else{const l=this.brackets.getSingleLanguageBracketTokens(this.textModel.getLanguageId()),p=new C.FastTokenizer(this.textModel.getValue(),l);this.initialAstWithoutTokens=(0,_.parseDocument)(p,[],void 0,!0),this.astWithTokens=this.initialAstWithoutTokens}}handleDidChangeBackgroundTokenizationState(){if(this.textModel.tokenization.backgroundTokenizationState===2){const o=this.initialAstWithoutTokens===void 0;this.initialAstWithoutTokens=void 0,o||this.didChangeEmitter.fire()}}handleDidChangeTokens({ranges:o}){const d=o.map(l=>new D.TextEditInfo((0,f.toLength)(l.fromLineNumber-1,0),(0,f.toLength)(l.toLineNumber,0),(0,f.toLength)(l.toLineNumber-l.fromLineNumber+1,0)));this.handleEdits(d,!0),this.initialAstWithoutTokens||this.didChangeEmitter.fire()}handleContentChanged(o){const d=D.TextEditInfo.fromModelContentChanges(o.changes);this.handleEdits(d,!1)}handleEdits(o,d){const l=(0,i.combineTextEditInfos)(this.queuedTextEdits,o);this.queuedTextEdits=l,this.initialAstWithoutTokens&&!d&&(this.queuedTextEditsForInitialAstWithoutTokens=(0,i.combineTextEditInfos)(this.queuedTextEditsForInitialAstWithoutTokens,o))}flushQueue(){this.queuedTextEdits.length>0&&(this.astWithTokens=this.parseDocumentFromTextBuffer(this.queuedTextEdits,this.astWithTokens,!1),this.queuedTextEdits=[]),this.queuedTextEditsForInitialAstWithoutTokens.length>0&&(this.initialAstWithoutTokens&&(this.initialAstWithoutTokens=this.parseDocumentFromTextBuffer(this.queuedTextEditsForInitialAstWithoutTokens,this.initialAstWithoutTokens,!1)),this.queuedTextEditsForInitialAstWithoutTokens=[])}parseDocumentFromTextBuffer(o,d,l){const m=d,v=new C.TextBufferTokenizer(this.textModel,this.brackets);return(0,_.parseDocument)(v,o,m,l)}getBracketsInRange(o,d){this.flushQueue();const l=(0,f.toLength)(o.startLineNumber-1,o.startColumn-1),p=(0,f.toLength)(o.endLineNumber-1,o.endColumn-1);return new s.CallbackIterable(m=>{const v=this.initialAstWithoutTokens||this.astWithTokens;u(v,f.lengthZero,v.length,l,p,m,0,0,new Map,d)})}getBracketPairsInRange(o,d){this.flushQueue();const l=(0,f.positionToLength)(o.getStartPosition()),p=(0,f.positionToLength)(o.getEndPosition());return new s.CallbackIterable(m=>{const v=this.initialAstWithoutTokens||this.astWithTokens,b=new h(m,d,this.textModel);r(v,f.lengthZero,v.length,l,p,b,0,new Map)})}getFirstBracketAfter(o){this.flushQueue();const d=this.initialAstWithoutTokens||this.astWithTokens;return a(d,f.lengthZero,d.length,(0,f.positionToLength)(o))}getFirstBracketBefore(o){this.flushQueue();const d=this.initialAstWithoutTokens||this.astWithTokens;return t(d,f.lengthZero,d.length,(0,f.positionToLength)(o))}}e.BracketPairsTree=n;function t(c,o,d,l){if(c.kind===4||c.kind===2){const p=[];for(const m of c.children)d=(0,f.lengthAdd)(o,m.length),p.push({nodeOffsetStart:o,nodeOffsetEnd:d}),o=d;for(let m=p.length-1;m>=0;m--){const{nodeOffsetStart:v,nodeOffsetEnd:b}=p[m];if((0,f.lengthLessThan)(v,l)){const w=t(c.children[m],v,b,l);if(w)return w}}return null}else{if(c.kind===3)return null;if(c.kind===1){const p=(0,f.lengthsToRange)(o,d);return{bracketInfo:c.bracketInfo,range:p}}}return null}function a(c,o,d,l){if(c.kind===4||c.kind===2){for(const p of c.children){if(d=(0,f.lengthAdd)(o,p.length),(0,f.lengthLessThan)(l,d)){const m=a(p,o,d,l);if(m)return m}o=d}return null}else{if(c.kind===3)return null;if(c.kind===1){const p=(0,f.lengthsToRange)(o,d);return{bracketInfo:c.bracketInfo,range:p}}}return null}function u(c,o,d,l,p,m,v,b,w,E,I=!1){if(v>200)return!0;e:for(;;)switch(c.kind){case 4:{const M=c.childrenLength;for(let P=0;P<M;P++){const x=c.getChild(P);if(x){if(d=(0,f.lengthAdd)(o,x.length),(0,f.lengthLessThanEqual)(o,p)&&(0,f.lengthGreaterThanEqual)(d,l)){if((0,f.lengthGreaterThanEqual)(d,p)){c=x;continue e}if(!u(x,o,d,l,p,m,v,0,w,E))return!1}o=d}}return!0}case 2:{const M=!E||!c.closingBracket||c.closingBracket.bracketInfo.closesColorized(c.openingBracket.bracketInfo);let P=0;if(w){let T=w.get(c.openingBracket.text);T===void 0&&(T=0),P=T,M&&(T++,w.set(c.openingBracket.text,T))}const x=c.childrenLength;for(let T=0;T<x;T++){const A=c.getChild(T);if(A){if(d=(0,f.lengthAdd)(o,A.length),(0,f.lengthLessThanEqual)(o,p)&&(0,f.lengthGreaterThanEqual)(d,l)){if((0,f.lengthGreaterThanEqual)(d,p)&&A.kind!==1){c=A,M?(v++,b=P+1):b=P;continue e}if((M||A.kind!==1||!c.closingBracket)&&!u(A,o,d,l,p,m,M?v+1:v,M?P+1:P,w,E,!c.closingBracket))return!1}o=d}}return w?.set(c.openingBracket.text,P),!0}case 3:{const M=(0,f.lengthsToRange)(o,d);return m(new y.BracketInfo(M,v-1,0,!0))}case 1:{const M=(0,f.lengthsToRange)(o,d);return m(new y.BracketInfo(M,v-1,b-1,I))}case 0:return!0}}class h{constructor(o,d,l){this.push=o,this.includeMinIndentation=d,this.textModel=l}}function r(c,o,d,l,p,m,v,b){var w;if(v>200)return!0;let E=!0;if(c.kind===2){let I=0;if(b){let x=b.get(c.openingBracket.text);x===void 0&&(x=0),I=x,x++,b.set(c.openingBracket.text,x)}const M=(0,f.lengthAdd)(o,c.openingBracket.length);let P=-1;if(m.includeMinIndentation&&(P=c.computeMinIndentation(o,m.textModel)),E=m.push(new y.BracketPairWithMinIndentationInfo((0,f.lengthsToRange)(o,d),(0,f.lengthsToRange)(o,M),c.closingBracket?(0,f.lengthsToRange)((0,f.lengthAdd)(M,((w=c.child)===null||w===void 0?void 0:w.length)||f.lengthZero),d):void 0,v,I,c,P)),o=M,E&&c.child){const x=c.child;if(d=(0,f.lengthAdd)(o,x.length),(0,f.lengthLessThanEqual)(o,p)&&(0,f.lengthGreaterThanEqual)(d,l)&&(E=r(x,o,d,l,p,m,v+1,b),!E))return!1}b?.set(c.openingBracket.text,I)}else{let I=o;for(const M of c.children){const P=I;if(I=(0,f.lengthAdd)(I,M.length),(0,f.lengthLessThanEqual)(P,p)&&(0,f.lengthLessThanEqual)(l,I)&&(E=r(M,P,I,l,p,m,v,b),!E))return!1}}return E}}),define(ne[111],se([1,0]),function(Q,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.InternalModelContentChangeEvent=e.ModelInjectedTextChangedEvent=e.ModelRawContentChangedEvent=e.ModelRawEOLChanged=e.ModelRawLinesInserted=e.ModelRawLinesDeleted=e.ModelRawLineChanged=e.LineInjectedText=e.ModelRawFlush=void 0;class L{constructor(){this.changeType=1}}e.ModelRawFlush=L;class k{static applyInjectedText(i,n){if(!n||n.length===0)return i;let t="",a=0;for(const u of n)t+=i.substring(a,u.column-1),a=u.column-1,t+=u.options.content;return t+=i.substring(a),t}static fromDecorations(i){const n=[];for(const t of i)t.options.before&&t.options.before.content.length>0&&n.push(new k(t.ownerId,t.range.startLineNumber,t.range.startColumn,t.options.before,0)),t.options.after&&t.options.after.content.length>0&&n.push(new k(t.ownerId,t.range.endLineNumber,t.range.endColumn,t.options.after,1));return n.sort((t,a)=>t.lineNumber===a.lineNumber?t.column===a.column?t.order-a.order:t.column-a.column:t.lineNumber-a.lineNumber),n}constructor(i,n,t,a,u){this.ownerId=i,this.lineNumber=n,this.column=t,this.options=a,this.order=u}}e.LineInjectedText=k;class y{constructor(i,n,t){this.changeType=2,this.lineNumber=i,this.detail=n,this.injectedText=t}}e.ModelRawLineChanged=y;class D{constructor(i,n){this.changeType=3,this.fromLineNumber=i,this.toLineNumber=n}}e.ModelRawLinesDeleted=D;class S{constructor(i,n,t,a){this.changeType=4,this.injectedTexts=a,this.fromLineNumber=i,this.toLineNumber=n,this.detail=t}}e.ModelRawLinesInserted=S;class f{constructor(){this.changeType=5}}e.ModelRawEOLChanged=f;class _{constructor(i,n,t,a){this.changes=i,this.versionId=n,this.isUndoing=t,this.isRedoing=a,this.resultingSelection=null}containsEvent(i){for(let n=0,t=this.changes.length;n<t;n++)if(this.changes[n].changeType===i)return!0;return!1}static merge(i,n){const t=[].concat(i.changes).concat(n.changes),a=n.versionId,u=i.isUndoing||n.isUndoing,h=i.isRedoing||n.isRedoing;return new _(t,a,u,h)}}e.ModelRawContentChangedEvent=_;class g{constructor(i){this.changes=i}}e.ModelInjectedTextChangedEvent=g;class C{constructor(i,n){this.rawContentChangedEvent=i,this.contentChangedEvent=n}merge(i){const n=_.merge(this.rawContentChangedEvent,i.rawContentChangedEvent),t=C._mergeChangeEvents(this.contentChangedEvent,i.contentChangedEvent);return new C(n,t)}static _mergeChangeEvents(i,n){const t=[].concat(i.changes).concat(n.changes),a=n.eol,u=n.versionId,h=i.isUndoing||n.isUndoing,r=i.isRedoing||n.isRedoing,c=i.isFlush||n.isFlush,o=i.isEolChange&&n.isEolChange;return{changes:t,eol:a,isEolChange:o,versionId:u,isUndoing:h,isRedoing:r,isFlush:c}}}e.InternalModelContentChangeEvent=C}),define(ne[209],se([1,0]),function(Q,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.IndentGuideHorizontalLine=e.IndentGuide=e.HorizontalGuidesState=void 0;var L;(function(D){D[D.Disabled=0]="Disabled",D[D.EnabledForActive=1]="EnabledForActive",D[D.Enabled=2]="Enabled"})(L||(e.HorizontalGuidesState=L={}));class k{constructor(S,f,_,g,C,s){if(this.visibleColumn=S,this.column=f,this.className=_,this.horizontalLine=g,this.forWrappedLinesAfterColumn=C,this.forWrappedLinesBeforeOrAtColumn=s,S!==-1==(f!==-1))throw new Error}}e.IndentGuide=k;class y{constructor(S,f){this.top=S,this.endColumn=f}}e.IndentGuideHorizontalLine=y}),define(ne[287],se([1,0,14,11,82,5,282,207,209,9]),function(Q,e,L,k,y,D,S,f,_,g){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.BracketPairGuidesClassNames=e.GuidesTextModelPart=void 0;class C extends S.TextModelPart{constructor(n,t){super(),this.textModel=n,this.languageConfigurationService=t}getLanguageConfiguration(n){return this.languageConfigurationService.getLanguageConfiguration(n)}_computeIndentLevel(n){return(0,f.computeIndentLevel)(this.textModel.getLineContent(n+1),this.textModel.getOptions().tabSize)}getActiveIndentGuide(n,t,a){this.assertNotDisposed();const u=this.textModel.getLineCount();if(n<1||n>u)throw new g.BugIndicatingError("Illegal value for lineNumber");const h=this.getLanguageConfiguration(this.textModel.getLanguageId()).foldingRules,r=!!(h&&h.offSide);let c=-2,o=-1,d=-2,l=-1;const p=N=>{if(c!==-1&&(c===-2||c>N-1)){c=-1,o=-1;for(let F=N-2;F>=0;F--){const O=this._computeIndentLevel(F);if(O>=0){c=F,o=O;break}}}if(d===-2){d=-1,l=-1;for(let F=N;F<u;F++){const O=this._computeIndentLevel(F);if(O>=0){d=F,l=O;break}}}};let m=-2,v=-1,b=-2,w=-1;const E=N=>{if(m===-2){m=-1,v=-1;for(let F=N-2;F>=0;F--){const O=this._computeIndentLevel(F);if(O>=0){m=F,v=O;break}}}if(b!==-1&&(b===-2||b<N-1)){b=-1,w=-1;for(let F=N;F<u;F++){const O=this._computeIndentLevel(F);if(O>=0){b=F,w=O;break}}}};let I=0,M=!0,P=0,x=!0,T=0,A=0;for(let N=0;M||x;N++){const F=n-N,O=n+N;N>1&&(F<1||F<t)&&(M=!1),N>1&&(O>u||O>a)&&(x=!1),N>5e4&&(M=!1,x=!1);let W=-1;if(M&&F>=1){const j=this._computeIndentLevel(F-1);j>=0?(d=F-1,l=j,W=Math.ceil(j/this.textModel.getOptions().indentSize)):(p(F),W=this._getIndentLevelForWhitespaceLine(r,o,l))}let U=-1;if(x&&O<=u){const j=this._computeIndentLevel(O-1);j>=0?(m=O-1,v=j,U=Math.ceil(j/this.textModel.getOptions().indentSize)):(E(O),U=this._getIndentLevelForWhitespaceLine(r,v,w))}if(N===0){A=W;continue}if(N===1){if(O<=u&&U>=0&&A+1===U){M=!1,I=O,P=O,T=U;continue}if(F>=1&&W>=0&&W-1===A){x=!1,I=F,P=F,T=W;continue}if(I=n,P=n,T=A,T===0)return{startLineNumber:I,endLineNumber:P,indent:T}}M&&(W>=T?I=F:M=!1),x&&(U>=T?P=O:x=!1)}return{startLineNumber:I,endLineNumber:P,indent:T}}getLinesBracketGuides(n,t,a,u){var h;const r=[];for(let m=n;m<=t;m++)r.push([]);const c=!0,o=this.textModel.bracketPairs.getBracketPairsInRangeWithMinIndentation(new D.Range(n,1,t,this.textModel.getLineMaxColumn(t))).toArray();let d;if(a&&o.length>0){const m=(n<=a.lineNumber&&a.lineNumber<=t?o:this.textModel.bracketPairs.getBracketPairsInRange(D.Range.fromPositions(a)).toArray()).filter(v=>D.Range.strictContainsPosition(v.range,a));d=(h=(0,L.findLast)(m,v=>c||v.range.startLineNumber!==v.range.endLineNumber))===null||h===void 0?void 0:h.range}const l=this.textModel.getOptions().bracketPairColorizationOptions.independentColorPoolPerBracketType,p=new s;for(const m of o){if(!m.closingBracketRange)continue;const v=d&&m.range.equalsRange(d);if(!v&&!u.includeInactive)continue;const b=p.getInlineClassName(m.nestingLevel,m.nestingLevelOfEqualBracketType,l)+(u.highlightActive&&v?" "+p.activeClassName:""),w=m.openingBracketRange.getStartPosition(),E=m.closingBracketRange.getStartPosition(),I=u.horizontalGuides===_.HorizontalGuidesState.Enabled||u.horizontalGuides===_.HorizontalGuidesState.EnabledForActive&&v;if(m.range.startLineNumber===m.range.endLineNumber){c&&I&&r[m.range.startLineNumber-n].push(new _.IndentGuide(-1,m.openingBracketRange.getEndPosition().column,b,new _.IndentGuideHorizontalLine(!1,E.column),-1,-1));continue}const M=this.getVisibleColumnFromPosition(E),P=this.getVisibleColumnFromPosition(m.openingBracketRange.getStartPosition()),x=Math.min(P,M,m.minVisibleColumnIndentation+1);let T=!1;k.firstNonWhitespaceIndex(this.textModel.getLineContent(m.closingBracketRange.startLineNumber))<m.closingBracketRange.startColumn-1&&(T=!0);const F=Math.max(w.lineNumber,n),O=Math.min(E.lineNumber,t),W=T?1:0;for(let U=F;U<O+W;U++)r[U-n].push(new _.IndentGuide(x,-1,b,null,U===w.lineNumber?w.column:-1,U===E.lineNumber?E.column:-1));I&&(w.lineNumber>=n&&P>x&&r[w.lineNumber-n].push(new _.IndentGuide(x,-1,b,new _.IndentGuideHorizontalLine(!1,w.column),-1,-1)),E.lineNumber<=t&&M>x&&r[E.lineNumber-n].push(new _.IndentGuide(x,-1,b,new _.IndentGuideHorizontalLine(!T,E.column),-1,-1)))}for(const m of r)m.sort((v,b)=>v.visibleColumn-b.visibleColumn);return r}getVisibleColumnFromPosition(n){return y.CursorColumns.visibleColumnFromColumn(this.textModel.getLineContent(n.lineNumber),n.column,this.textModel.getOptions().tabSize)+1}getLinesIndentGuides(n,t){this.assertNotDisposed();const a=this.textModel.getLineCount();if(n<1||n>a)throw new Error("Illegal value for startLineNumber");if(t<1||t>a)throw new Error("Illegal value for endLineNumber");const u=this.textModel.getOptions(),h=this.getLanguageConfiguration(this.textModel.getLanguageId()).foldingRules,r=!!(h&&h.offSide),c=new Array(t-n+1);let o=-2,d=-1,l=-2,p=-1;for(let m=n;m<=t;m++){const v=m-n,b=this._computeIndentLevel(m-1);if(b>=0){o=m-1,d=b,c[v]=Math.ceil(b/u.indentSize);continue}if(o===-2){o=-1,d=-1;for(let w=m-2;w>=0;w--){const E=this._computeIndentLevel(w);if(E>=0){o=w,d=E;break}}}if(l!==-1&&(l===-2||l<m-1)){l=-1,p=-1;for(let w=m;w<a;w++){const E=this._computeIndentLevel(w);if(E>=0){l=w,p=E;break}}}c[v]=this._getIndentLevelForWhitespaceLine(r,d,p)}return c}_getIndentLevelForWhitespaceLine(n,t,a){const u=this.textModel.getOptions();return t===-1||a===-1?0:t<a?1+Math.floor(t/u.indentSize):t===a||n?Math.ceil(a/u.indentSize):1+Math.floor(a/u.indentSize)}}e.GuidesTextModelPart=C;class s{constructor(){this.activeClassName="indent-active"}getInlineClassName(n,t,a){return this.getInlineClassNameOfLevel(a?t:n)}getInlineClassNameOfLevel(n){return`bracket-indent-guide lvl-${n%30}`}}e.BracketPairGuidesClassNames=s}),define(ne[515],se([1,0,6,2]),function(Q,e,L,k){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.TokenizationRegistry=void 0;class y{constructor(){this._tokenizationSupports=new Map,this._factories=new Map,this._onDidChange=new L.Emitter,this.onDidChange=this._onDidChange.event,this._colorMap=null}handleChange(f){this._onDidChange.fire({changedLanguages:f,changedColorMap:!1})}register(f,_){return this._tokenizationSupports.set(f,_),this.handleChange([f]),(0,k.toDisposable)(()=>{this._tokenizationSupports.get(f)===_&&(this._tokenizationSupports.delete(f),this.handleChange([f]))})}get(f){return this._tokenizationSupports.get(f)||null}registerFactory(f,_){var g;(g=this._factories.get(f))===null||g===void 0||g.dispose();const C=new D(this,f,_);return this._factories.set(f,C),(0,k.toDisposable)(()=>{const s=this._factories.get(f);!s||s!==C||(this._factories.delete(f),s.dispose())})}getOrCreate(f){return we(this,void 0,void 0,function*(){const _=this.get(f);if(_)return _;const g=this._factories.get(f);return!g||g.isResolved?null:(yield g.resolve(),this.get(f))})}isResolved(f){if(this.get(f))return!0;const g=this._factories.get(f);return!!(!g||g.isResolved)}setColorMap(f){this._colorMap=f,this._onDidChange.fire({changedLanguages:Array.from(this._tokenizationSupports.keys()),changedColorMap:!0})}getColorMap(){return this._colorMap}getDefaultBackground(){return this._colorMap&&this._colorMap.length>2?this._colorMap[2]:null}}e.TokenizationRegistry=y;class D extends k.Disposable{get isResolved(){return this._isResolved}constructor(f,_,g){super(),this._registry=f,this._languageId=_,this._factory=g,this._isDisposed=!1,this._resolvePromise=null,this._isResolved=!1}dispose(){this._isDisposed=!0,super.dispose()}resolve(){return we(this,void 0,void 0,function*(){return this._resolvePromise||(this._resolvePromise=this._create()),this._resolvePromise})}_create(){return we(this,void 0,void 0,function*(){const f=yield this._factory.tokenizationSupport;this._isResolved=!0,f&&!this._isDisposed&&this._register(this._registry.register(this._languageId,f))})}}}),define(ne[516],se([1,0]),function(Q,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ContiguousMultilineTokens=void 0;class L{get startLineNumber(){return this._startLineNumber}get endLineNumber(){return this._startLineNumber+this._tokens.length-1}constructor(y,D){this._startLineNumber=y,this._tokens=D}getLineTokens(y){return this._tokens[y-this._startLineNumber]}appendLineTokens(y){this._tokens.push(y)}}e.ContiguousMultilineTokens=L}),define(ne[288],se([1,0,516]),function(Q,e,L){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ContiguousMultilineTokensBuilder=void 0;class k{constructor(){this._tokens=[]}add(D,S){if(this._tokens.length>0){const f=this._tokens[this._tokens.length-1];if(f.endLineNumber+1===D){f.appendLineTokens(S);return}}this._tokens.push(new L.ContiguousMultilineTokens(D,[S]))}finalize(){return this._tokens}}e.ContiguousMultilineTokensBuilder=k}),define(ne[86],se([1,0,124]),function(Q,e,L){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.LineTokens=void 0;class k{static createEmpty(S,f){const _=k.defaultTokenMetadata,g=new Uint32Array(2);return g[0]=S.length,g[1]=_,new k(g,S,f)}constructor(S,f,_){this._lineTokensBrand=void 0,this._tokens=S,this._tokensCount=this._tokens.length>>>1,this._text=f,this._languageIdCodec=_}equals(S){return S instanceof k?this.slicedEquals(S,0,this._tokensCount):!1}slicedEquals(S,f,_){if(this._text!==S._text||this._tokensCount!==S._tokensCount)return!1;const g=f<<1,C=g+(_<<1);for(let s=g;s<C;s++)if(this._tokens[s]!==S._tokens[s])return!1;return!0}getLineContent(){return this._text}getCount(){return this._tokensCount}getStartOffset(S){return S>0?this._tokens[S-1<<1]:0}getMetadata(S){return this._tokens[(S<<1)+1]}getLanguageId(S){const f=this._tokens[(S<<1)+1],_=L.TokenMetadata.getLanguageId(f);return this._languageIdCodec.decodeLanguageId(_)}getStandardTokenType(S){const f=this._tokens[(S<<1)+1];return L.TokenMetadata.getTokenType(f)}getForeground(S){const f=this._tokens[(S<<1)+1];return L.TokenMetadata.getForeground(f)}getClassName(S){const f=this._tokens[(S<<1)+1];return L.TokenMetadata.getClassNameFromMetadata(f)}getInlineStyle(S,f){const _=this._tokens[(S<<1)+1];return L.TokenMetadata.getInlineStyleFromMetadata(_,f)}getPresentation(S){const f=this._tokens[(S<<1)+1];return L.TokenMetadata.getPresentationFromMetadata(f)}getEndOffset(S){return this._tokens[S<<1]}findTokenIndexAtOffset(S){return k.findIndexInTokensArray(this._tokens,S)}inflate(){return this}sliceAndInflate(S,f,_){return new y(this,S,f,_)}static convertToEndOffset(S,f){const g=(S.length>>>1)-1;for(let C=0;C<g;C++)S[C<<1]=S[C+1<<1];S[g<<1]=f}static findIndexInTokensArray(S,f){if(S.length<=2)return 0;let _=0,g=(S.length>>>1)-1;for(;_<g;){const C=_+Math.floor((g-_)/2),s=S[C<<1];if(s===f)return C+1;s<f?_=C+1:s>f&&(g=C)}return _}withInserted(S){if(S.length===0)return this;let f=0,_=0,g="";const C=new Array;let s=0;for(;;){const i=f<this._tokensCount?this._tokens[f<<1]:-1,n=_<S.length?S[_]:null;if(i!==-1&&(n===null||i<=n.offset)){g+=this._text.substring(s,i);const t=this._tokens[(f<<1)+1];C.push(g.length,t),f++,s=i}else if(n){if(n.offset>s){g+=this._text.substring(s,n.offset);const t=this._tokens[(f<<1)+1];C.push(g.length,t),s=n.offset}g+=n.text,C.push(g.length,n.tokenMetadata),_++}else break}return new k(new Uint32Array(C),g,this._languageIdCodec)}}e.LineTokens=k,k.defaultTokenMetadata=(0<<11|1<<15|2<<24)>>>0;class y{constructor(S,f,_,g){this._source=S,this._startOffset=f,this._endOffset=_,this._deltaOffset=g,this._firstTokenIndex=S.findTokenIndexAtOffset(f),this._tokensCount=0;for(let C=this._firstTokenIndex,s=S.getCount();C<s&&!(S.getStartOffset(C)>=_);C++)this._tokensCount++}getMetadata(S){return this._source.getMetadata(this._firstTokenIndex+S)}getLanguageId(S){return this._source.getLanguageId(this._firstTokenIndex+S)}getLineContent(){return this._source.getLineContent().substring(this._startOffset,this._endOffset)}equals(S){return S instanceof y?this._startOffset===S._startOffset&&this._endOffset===S._endOffset&&this._deltaOffset===S._deltaOffset&&this._source.slicedEquals(S._source,this._firstTokenIndex,this._tokensCount):!1}getCount(){return this._tokensCount}getForeground(S){return this._source.getForeground(this._firstTokenIndex+S)}getEndOffset(S){const f=this._source.getEndOffset(this._firstTokenIndex+S);return Math.min(this._endOffset,f)-this._startOffset+this._deltaOffset}getClassName(S){return this._source.getClassName(this._firstTokenIndex+S)}getInlineStyle(S,f){return this._source.getInlineStyle(this._firstTokenIndex+S,f)}getPresentation(S){return this._source.getPresentation(this._firstTokenIndex+S)}findTokenIndexAtOffset(S){return this._source.findTokenIndexAtOffset(S+this._startOffset-this._deltaOffset)-this._firstTokenIndex}}}),define(ne[517],se([1,0,86]),function(Q,e,L){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.toUint32Array=e.ContiguousTokensEditing=e.EMPTY_LINE_TOKENS=void 0,e.EMPTY_LINE_TOKENS=new Uint32Array(0).buffer;class k{static deleteBeginning(S,f){return S===null||S===e.EMPTY_LINE_TOKENS?S:k.delete(S,0,f)}static deleteEnding(S,f){if(S===null||S===e.EMPTY_LINE_TOKENS)return S;const _=y(S),g=_[_.length-2];return k.delete(S,f,g)}static delete(S,f,_){if(S===null||S===e.EMPTY_LINE_TOKENS||f===_)return S;const g=y(S),C=g.length>>>1;if(f===0&&g[g.length-2]===_)return e.EMPTY_LINE_TOKENS;const s=L.LineTokens.findIndexInTokensArray(g,f),i=s>0?g[s-1<<1]:0,n=g[s<<1];if(_<n){const r=_-f;for(let c=s;c<C;c++)g[c<<1]-=r;return S}let t,a;i!==f?(g[s<<1]=f,t=s+1<<1,a=f):(t=s<<1,a=i);const u=_-f;for(let r=s+1;r<C;r++){const c=g[r<<1]-u;c>a&&(g[t++]=c,g[t++]=g[(r<<1)+1],a=c)}if(t===g.length)return S;const h=new Uint32Array(t);return h.set(g.subarray(0,t),0),h.buffer}static append(S,f){if(f===e.EMPTY_LINE_TOKENS)return S;if(S===e.EMPTY_LINE_TOKENS)return f;if(S===null)return S;if(f===null)return null;const _=y(S),g=y(f),C=g.length>>>1,s=new Uint32Array(_.length+g.length);s.set(_,0);let i=_.length;const n=_[_.length-2];for(let t=0;t<C;t++)s[i++]=g[t<<1]+n,s[i++]=g[(t<<1)+1];return s.buffer}static insert(S,f,_){if(S===null||S===e.EMPTY_LINE_TOKENS)return S;const g=y(S),C=g.length>>>1;let s=L.LineTokens.findIndexInTokensArray(g,f);s>0&&g[s-1<<1]===f&&s--;for(let i=s;i<C;i++)g[i<<1]+=_;return S}}e.ContiguousTokensEditing=k;function y(D){return D instanceof Uint32Array?D:new Uint32Array(D)}e.toUint32Array=y}),define(ne[518],se([1,0,14,12,517,86,124]),function(Q,e,L,k,y,D,S){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ContiguousTokensStore=void 0;class f{constructor(C){this._lineTokens=[],this._len=0,this._languageIdCodec=C}flush(){this._lineTokens=[],this._len=0}get hasTokens(){return this._lineTokens.length>0}getTokens(C,s,i){let n=null;if(s<this._len&&(n=this._lineTokens[s]),n!==null&&n!==y.EMPTY_LINE_TOKENS)return new D.LineTokens((0,y.toUint32Array)(n),i,this._languageIdCodec);const t=new Uint32Array(2);return t[0]=i.length,t[1]=_(this._languageIdCodec.encodeLanguageId(C)),new D.LineTokens(t,i,this._languageIdCodec)}static _massageTokens(C,s,i){const n=i?(0,y.toUint32Array)(i):null;if(s===0){let t=!1;if(n&&n.length>1&&(t=S.TokenMetadata.getLanguageId(n[1])!==C),!t)return y.EMPTY_LINE_TOKENS}if(!n||n.length===0){const t=new Uint32Array(2);return t[0]=s,t[1]=_(C),t.buffer}return n[n.length-2]=s,n.byteOffset===0&&n.byteLength===n.buffer.byteLength?n.buffer:n}_ensureLine(C){for(;C>=this._len;)this._lineTokens[this._len]=null,this._len++}_deleteLines(C,s){s!==0&&(C+s>this._len&&(s=this._len-C),this._lineTokens.splice(C,s),this._len-=s)}_insertLines(C,s){if(s===0)return;const i=[];for(let n=0;n<s;n++)i[n]=null;this._lineTokens=L.arrayInsert(this._lineTokens,C,i),this._len+=s}setTokens(C,s,i,n,t){const a=f._massageTokens(this._languageIdCodec.encodeLanguageId(C),i,n);this._ensureLine(s);const u=this._lineTokens[s];return this._lineTokens[s]=a,t?!f._equals(u,a):!1}static _equals(C,s){if(!C||!s)return!C&&!s;const i=(0,y.toUint32Array)(C),n=(0,y.toUint32Array)(s);if(i.length!==n.length)return!1;for(let t=0,a=i.length;t<a;t++)if(i[t]!==n[t])return!1;return!0}acceptEdit(C,s,i){this._acceptDeleteRange(C),this._acceptInsertText(new k.Position(C.startLineNumber,C.startColumn),s,i)}_acceptDeleteRange(C){const s=C.startLineNumber-1;if(s>=this._len)return;if(C.startLineNumber===C.endLineNumber){if(C.startColumn===C.endColumn)return;this._lineTokens[s]=y.ContiguousTokensEditing.delete(this._lineTokens[s],C.startColumn-1,C.endColumn-1);return}this._lineTokens[s]=y.ContiguousTokensEditing.deleteEnding(this._lineTokens[s],C.startColumn-1);const i=C.endLineNumber-1;let n=null;i<this._len&&(n=y.ContiguousTokensEditing.deleteBeginning(this._lineTokens[i],C.endColumn-1)),this._lineTokens[s]=y.ContiguousTokensEditing.append(this._lineTokens[s],n),this._deleteLines(C.startLineNumber,C.endLineNumber-C.startLineNumber)}_acceptInsertText(C,s,i){if(s===0&&i===0)return;const n=C.lineNumber-1;if(!(n>=this._len)){if(s===0){this._lineTokens[n]=y.ContiguousTokensEditing.insert(this._lineTokens[n],C.column-1,i);return}this._lineTokens[n]=y.ContiguousTokensEditing.deleteEnding(this._lineTokens[n],C.column-1),this._lineTokens[n]=y.ContiguousTokensEditing.insert(this._lineTokens[n],C.column-1,i),this._insertLines(C.lineNumber,s)}}setMultilineTokens(C,s){if(C.length===0)return{changes:[]};const i=[];for(let n=0,t=C.length;n<t;n++){const a=C[n];let u=0,h=0,r=!1;for(let c=a.startLineNumber;c<=a.endLineNumber;c++)r?(this.setTokens(s.getLanguageId(),c-1,s.getLineLength(c),a.getLineTokens(c),!1),h=c):this.setTokens(s.getLanguageId(),c-1,s.getLineLength(c),a.getLineTokens(c),!0)&&(r=!0,u=c,h=c);r&&i.push({fromLineNumber:u,toLineNumber:h})}return{changes:i}}}e.ContiguousTokensStore=f;function _(g){return(g<<0|0<<8|0<<11|1<<15|2<<24|1024)>>>0}}),define(ne[519],se([1,0,12,5,122]),function(Q,e,L,k,y){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.SparseLineTokens=e.SparseMultilineTokens=void 0;class D{static create(g,C){return new D(g,new S(C))}get startLineNumber(){return this._startLineNumber}get endLineNumber(){return this._endLineNumber}constructor(g,C){this._startLineNumber=g,this._tokens=C,this._endLineNumber=this._startLineNumber+this._tokens.getMaxDeltaLine()}toString(){return this._tokens.toString(this._startLineNumber)}_updateEndLineNumber(){this._endLineNumber=this._startLineNumber+this._tokens.getMaxDeltaLine()}isEmpty(){return this._tokens.isEmpty()}getLineTokens(g){return this._startLineNumber<=g&&g<=this._endLineNumber?this._tokens.getLineTokens(g-this._startLineNumber):null}getRange(){const g=this._tokens.getRange();return g&&new k.Range(this._startLineNumber+g.startLineNumber,g.startColumn,this._startLineNumber+g.endLineNumber,g.endColumn)}removeTokens(g){const C=g.startLineNumber-this._startLineNumber,s=g.endLineNumber-this._startLineNumber;this._startLineNumber+=this._tokens.removeTokens(C,g.startColumn-1,s,g.endColumn-1),this._updateEndLineNumber()}split(g){const C=g.startLineNumber-this._startLineNumber,s=g.endLineNumber-this._startLineNumber,[i,n,t]=this._tokens.split(C,g.startColumn-1,s,g.endColumn-1);return[new D(this._startLineNumber,i),new D(this._startLineNumber+t,n)]}applyEdit(g,C){const[s,i,n]=(0,y.countEOL)(C);this.acceptEdit(g,s,i,n,C.length>0?C.charCodeAt(0):0)}acceptEdit(g,C,s,i,n){this._acceptDeleteRange(g),this._acceptInsertText(new L.Position(g.startLineNumber,g.startColumn),C,s,i,n),this._updateEndLineNumber()}_acceptDeleteRange(g){if(g.startLineNumber===g.endLineNumber&&g.startColumn===g.endColumn)return;const C=g.startLineNumber-this._startLineNumber,s=g.endLineNumber-this._startLineNumber;if(s<0){const n=s-C;this._startLineNumber-=n;return}const i=this._tokens.getMaxDeltaLine();if(!(C>=i+1)){if(C<0&&s>=i+1){this._startLineNumber=0,this._tokens.clear();return}if(C<0){const n=-C;this._startLineNumber-=n,this._tokens.acceptDeleteRange(g.startColumn-1,0,0,s,g.endColumn-1)}else this._tokens.acceptDeleteRange(0,C,g.startColumn-1,s,g.endColumn-1)}}_acceptInsertText(g,C,s,i,n){if(C===0&&s===0)return;const t=g.lineNumber-this._startLineNumber;if(t<0){this._startLineNumber+=C;return}const a=this._tokens.getMaxDeltaLine();t>=a+1||this._tokens.acceptInsertText(t,g.column-1,C,s,i,n)}}e.SparseMultilineTokens=D;class S{constructor(g){this._tokens=g,this._tokenCount=g.length/4}toString(g){const C=[];for(let s=0;s<this._tokenCount;s++)C.push(`(${this._getDeltaLine(s)+g},${this._getStartCharacter(s)}-${this._getEndCharacter(s)})`);return`[${C.join(",")}]`}getMaxDeltaLine(){const g=this._getTokenCount();return g===0?-1:this._getDeltaLine(g-1)}getRange(){const g=this._getTokenCount();if(g===0)return null;const C=this._getStartCharacter(0),s=this._getDeltaLine(g-1),i=this._getEndCharacter(g-1);return new k.Range(0,C+1,s,i+1)}_getTokenCount(){return this._tokenCount}_getDeltaLine(g){return this._tokens[4*g]}_getStartCharacter(g){return this._tokens[4*g+1]}_getEndCharacter(g){return this._tokens[4*g+2]}isEmpty(){return this._getTokenCount()===0}getLineTokens(g){let C=0,s=this._getTokenCount()-1;for(;C<s;){const i=C+Math.floor((s-C)/2),n=this._getDeltaLine(i);if(n<g)C=i+1;else if(n>g)s=i-1;else{let t=i;for(;t>C&&this._getDeltaLine(t-1)===g;)t--;let a=i;for(;a<s&&this._getDeltaLine(a+1)===g;)a++;return new f(this._tokens.subarray(4*t,4*a+4))}}return this._getDeltaLine(C)===g?new f(this._tokens.subarray(4*C,4*C+4)):null}clear(){this._tokenCount=0}removeTokens(g,C,s,i){const n=this._tokens,t=this._tokenCount;let a=0,u=!1,h=0;for(let r=0;r<t;r++){const c=4*r,o=n[c],d=n[c+1],l=n[c+2],p=n[c+3];if((o>g||o===g&&l>=C)&&(o<s||o===s&&d<=i))u=!0;else{if(a===0&&(h=o),u){const m=4*a;n[m]=o-h,n[m+1]=d,n[m+2]=l,n[m+3]=p}a++}}return this._tokenCount=a,h}split(g,C,s,i){const n=this._tokens,t=this._tokenCount,a=[],u=[];let h=a,r=0,c=0;for(let o=0;o<t;o++){const d=4*o,l=n[d],p=n[d+1],m=n[d+2],v=n[d+3];if(l>g||l===g&&m>=C){if(l<s||l===s&&p<=i)continue;h!==u&&(h=u,r=0,c=l)}h[r++]=l-c,h[r++]=p,h[r++]=m,h[r++]=v}return[new S(new Uint32Array(a)),new S(new Uint32Array(u)),c]}acceptDeleteRange(g,C,s,i,n){const t=this._tokens,a=this._tokenCount,u=i-C;let h=0,r=!1;for(let c=0;c<a;c++){const o=4*c;let d=t[o],l=t[o+1],p=t[o+2];const m=t[o+3];if(d<C||d===C&&p<=s){h++;continue}else if(d===C&&l<s)d===i&&p>n?p-=n-s:p=s;else if(d===C&&l===s)if(d===i&&p>n)p-=n-s;else{r=!0;continue}else if(d<i||d===i&&l<n)if(d===i&&p>n)d=C,l=s,p=l+(p-n);else{r=!0;continue}else if(d>i){if(u===0&&!r){h=a;break}d-=u}else if(d===i&&l>=n)g&&d===0&&(l+=g,p+=g),d-=u,l-=n-s,p-=n-s;else throw new Error("Not possible!");const v=4*h;t[v]=d,t[v+1]=l,t[v+2]=p,t[v+3]=m,h++}this._tokenCount=h}acceptInsertText(g,C,s,i,n,t){const a=s===0&&i===1&&(t>=48&&t<=57||t>=65&&t<=90||t>=97&&t<=122),u=this._tokens,h=this._tokenCount;for(let r=0;r<h;r++){const c=4*r;let o=u[c],d=u[c+1],l=u[c+2];if(!(o<g||o===g&&l<C)){if(o===g&&l===C)if(a)l+=1;else continue;else if(o===g&&d<C&&C<l)s===0?l+=i:l=C;else{if(o===g&&d===C&&a)continue;if(o===g)if(o+=s,s===0)d+=i,l+=i;else{const p=l-d;d=n+(d-C),l=d+p}else o+=s}u[c]=o,u[c+1]=d,u[c+2]=l}}}}class f{constructor(g){this._tokens=g}getCount(){return this._tokens.length/4}getStartCharacter(g){return this._tokens[4*g+1]}getEndCharacter(g){return this._tokens[4*g+2]}getMetadata(g){return this._tokens[4*g+3]}}e.SparseLineTokens=f}),define(ne[520],se([1,0,14,86]),function(Q,e,L,k){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.SparseTokensStore=void 0;class y{constructor(S){this._pieces=[],this._isComplete=!1,this._languageIdCodec=S}flush(){this._pieces=[],this._isComplete=!1}isEmpty(){return this._pieces.length===0}set(S,f){this._pieces=S||[],this._isComplete=f}setPartial(S,f){let _=S;if(f.length>0){const C=f[0].getRange(),s=f[f.length-1].getRange();if(!C||!s)return S;_=S.plusRange(C).plusRange(s)}let g=null;for(let C=0,s=this._pieces.length;C<s;C++){const i=this._pieces[C];if(i.endLineNumber<_.startLineNumber)continue;if(i.startLineNumber>_.endLineNumber){g=g||{index:C};break}if(i.removeTokens(_),i.isEmpty()){this._pieces.splice(C,1),C--,s--;continue}if(i.endLineNumber<_.startLineNumber)continue;if(i.startLineNumber>_.endLineNumber){g=g||{index:C};continue}const[n,t]=i.split(_);if(n.isEmpty()){g=g||{index:C};continue}t.isEmpty()||(this._pieces.splice(C,1,n,t),C++,s++,g=g||{index:C})}return g=g||{index:this._pieces.length},f.length>0&&(this._pieces=L.arrayInsert(this._pieces,g.index,f)),_}isComplete(){return this._isComplete}addSparseTokens(S,f){if(f.getLineContent().length===0)return f;const _=this._pieces;if(_.length===0)return f;const g=y._findFirstPieceWithLine(_,S),C=_[g].getLineTokens(S);if(!C)return f;const s=f.getCount(),i=C.getCount();let n=0;const t=[];let a=0,u=0;const h=(r,c)=>{r!==u&&(u=r,t[a++]=r,t[a++]=c)};for(let r=0;r<i;r++){const c=C.getStartCharacter(r),o=C.getEndCharacter(r),d=C.getMetadata(r),l=((d&1?2048:0)|(d&2?4096:0)|(d&4?8192:0)|(d&8?16384:0)|(d&16?16744448:0)|(d&32?4278190080:0))>>>0,p=~l>>>0;for(;n<s&&f.getEndOffset(n)<=c;)h(f.getEndOffset(n),f.getMetadata(n)),n++;for(n<s&&f.getStartOffset(n)<c&&h(c,f.getMetadata(n));n<s&&f.getEndOffset(n)<o;)h(f.getEndOffset(n),f.getMetadata(n)&p|d&l),n++;if(n<s)h(o,f.getMetadata(n)&p|d&l),f.getEndOffset(n)===o&&n++;else{const m=Math.min(Math.max(0,n-1),s-1);h(o,f.getMetadata(m)&p|d&l)}}for(;n<s;)h(f.getEndOffset(n),f.getMetadata(n)),n++;return new k.LineTokens(new Uint32Array(t),f.getLineContent(),this._languageIdCodec)}static _findFirstPieceWithLine(S,f){let _=0,g=S.length-1;for(;_<g;){let C=_+Math.floor((g-_)/2);if(S[C].endLineNumber<f)_=C+1;else if(S[C].startLineNumber>f)g=C-1;else{for(;C>_&&S[C-1].startLineNumber<=f&&f<=S[C-1].endLineNumber;)C--;return C}}return _}acceptEdit(S,f,_,g,C){for(const s of this._pieces)s.acceptEdit(S,f,_,g,C)}}e.SparseTokensStore=y}),define(ne[150],se([1,0,2]),function(Q,e,L){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ViewEventHandler=void 0;class k extends L.Disposable{constructor(){super(),this._shouldRender=!0}shouldRender(){return this._shouldRender}forceShouldRender(){this._shouldRender=!0}setShouldRender(){this._shouldRender=!0}onDidRender(){this._shouldRender=!1}onCompositionStart(D){return!1}onCompositionEnd(D){return!1}onConfigurationChanged(D){return!1}onCursorStateChanged(D){return!1}onDecorationsChanged(D){return!1}onFlushed(D){return!1}onFocusChanged(D){return!1}onLanguageConfigurationChanged(D){return!1}onLineMappingChanged(D){return!1}onLinesChanged(D){return!1}onLinesDeleted(D){return!1}onLinesInserted(D){return!1}onRevealRangeRequest(D){return!1}onScrollChanged(D){return!1}onThemeChanged(D){return!1}onTokensChanged(D){return!1}onTokensColorsChanged(D){return!1}onZonesChanged(D){return!1}handleEvents(D){let S=!1;for(let f=0,_=D.length;f<_;f++){const g=D[f];switch(g.type){case 0:this.onCompositionStart(g)&&(S=!0);break;case 1:this.onCompositionEnd(g)&&(S=!0);break;case 2:this.onConfigurationChanged(g)&&(S=!0);break;case 3:this.onCursorStateChanged(g)&&(S=!0);break;case 4:this.onDecorationsChanged(g)&&(S=!0);break;case 5:this.onFlushed(g)&&(S=!0);break;case 6:this.onFocusChanged(g)&&(S=!0);break;case 7:this.onLanguageConfigurationChanged(g)&&(S=!0);break;case 8:this.onLineMappingChanged(g)&&(S=!0);break;case 9:this.onLinesChanged(g)&&(S=!0);break;case 10:this.onLinesDeleted(g)&&(S=!0);break;case 11:this.onLinesInserted(g)&&(S=!0);break;case 12:this.onRevealRangeRequest(g)&&(S=!0);break;case 13:this.onScrollChanged(g)&&(S=!0);break;case 15:this.onTokensChanged(g)&&(S=!0);break;case 14:this.onThemeChanged(g)&&(S=!0);break;case 16:this.onTokensColorsChanged(g)&&(S=!0);break;case 17:this.onZonesChanged(g)&&(S=!0);break;default:console.info("View received unknown event: "),console.info(g)}}S&&(this._shouldRender=!0)}}e.ViewEventHandler=k}),define(ne[112],se([1,0,150]),function(Q,e,L){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.DynamicViewOverlay=void 0;class k extends L.ViewEventHandler{}e.DynamicViewOverlay=k}),define(ne[53],se([1,0,150]),function(Q,e,L){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.PartFingerprints=e.ViewPart=void 0;class k extends L.ViewEventHandler{constructor(S){super(),this._context=S,this._context.addEventHandler(this)}dispose(){this._context.removeEventHandler(this),super.dispose()}}e.ViewPart=k;class y{static write(S,f){S.setAttribute("data-mprt",String(f))}static read(S){const f=S.getAttribute("data-mprt");return f===null?0:parseInt(f,10)}static collect(S,f){const _=[];let g=0;for(;S&&S!==document.body&&S!==f;)S.nodeType===S.ELEMENT_NODE&&(_[g++]=this.read(S)),S=S.parentElement;const C=new Uint8Array(g);for(let s=0;s<g;s++)C[s]=_[g-s-1];return C}}e.PartFingerprints=y}),define(ne[521],se([1,0,35,53,415]),function(Q,e,L,k){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.BlockDecorations=void 0;class y extends k.ViewPart{constructor(S){super(S),this.blocks=[],this.contentWidth=-1,this.contentLeft=0,this.domNode=(0,L.createFastDomNode)(document.createElement("div")),this.domNode.setAttribute("role","presentation"),this.domNode.setAttribute("aria-hidden","true"),this.domNode.setClassName("blockDecorations-container"),this.update()}update(){let S=!1;const _=this._context.configuration.options.get(142),g=_.contentWidth-_.verticalScrollbarWidth;this.contentWidth!==g&&(this.contentWidth=g,S=!0);const C=_.contentLeft;return this.contentLeft!==C&&(this.contentLeft=C,S=!0),S}dispose(){super.dispose()}onConfigurationChanged(S){return this.update()}onScrollChanged(S){return S.scrollTopChanged||S.scrollLeftChanged}onDecorationsChanged(S){return!0}onZonesChanged(S){return!0}prepareRender(S){}render(S){var f;let _=0;const g=S.getDecorationsInViewport();for(const C of g){if(!C.options.blockClassName)continue;let s=this.blocks[_];s||(s=this.blocks[_]=(0,L.createFastDomNode)(document.createElement("div")),this.domNode.appendChild(s));let i,n;C.options.blockIsAfterEnd?(i=S.getVerticalOffsetAfterLineNumber(C.range.endLineNumber,!1),n=S.getVerticalOffsetAfterLineNumber(C.range.endLineNumber,!0)):(i=S.getVerticalOffsetForLineNumber(C.range.startLineNumber,!0),n=C.range.isEmpty()&&!C.options.blockDoesNotCollapse?S.getVerticalOffsetForLineNumber(C.range.startLineNumber,!1):S.getVerticalOffsetAfterLineNumber(C.range.endLineNumber,!0));const[t,a,u,h]=(f=C.options.blockPadding)!==null&&f!==void 0?f:[0,0,0,0];s.setClassName("blockDecorations-block "+C.options.blockClassName),s.setLeft(this.contentLeft-h),s.setWidth(this.contentWidth+h+a),s.setTop(i-S.scrollTop-t),s.setHeight(n-i+t+u),_++}for(let C=_;C<this.blocks.length;C++)this.blocks[C].domNode.remove();this.blocks.length=_}}e.BlockDecorations=y}),define(ne[522],se([1,0,112,144,5,417]),function(Q,e,L,k,y){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.DecorationsOverlay=void 0;class D extends L.DynamicViewOverlay{constructor(f){super(),this._context=f;const _=this._context.configuration.options;this._lineHeight=_.get(65),this._typicalHalfwidthCharacterWidth=_.get(49).typicalHalfwidthCharacterWidth,this._renderResult=null,this._context.addEventHandler(this)}dispose(){this._context.removeEventHandler(this),this._renderResult=null,super.dispose()}onConfigurationChanged(f){const _=this._context.configuration.options;return this._lineHeight=_.get(65),this._typicalHalfwidthCharacterWidth=_.get(49).typicalHalfwidthCharacterWidth,!0}onDecorationsChanged(f){return!0}onFlushed(f){return!0}onLinesChanged(f){return!0}onLinesDeleted(f){return!0}onLinesInserted(f){return!0}onScrollChanged(f){return f.scrollTopChanged||f.scrollWidthChanged}onZonesChanged(f){return!0}prepareRender(f){const _=f.getDecorationsInViewport();let g=[],C=0;for(let t=0,a=_.length;t<a;t++){const u=_[t];u.options.className&&(g[C++]=u)}g=g.sort((t,a)=>{if(t.options.zIndex<a.options.zIndex)return-1;if(t.options.zIndex>a.options.zIndex)return 1;const u=t.options.className,h=a.options.className;return u<h?-1:u>h?1:y.Range.compareRangesUsingStarts(t.range,a.range)});const s=f.visibleRange.startLineNumber,i=f.visibleRange.endLineNumber,n=[];for(let t=s;t<=i;t++){const a=t-s;n[a]=""}this._renderWholeLineDecorations(f,g,n),this._renderNormalDecorations(f,g,n),this._renderResult=n}_renderWholeLineDecorations(f,_,g){const C=String(this._lineHeight),s=f.visibleRange.startLineNumber,i=f.visibleRange.endLineNumber;for(let n=0,t=_.length;n<t;n++){const a=_[n];if(!a.options.isWholeLine)continue;const u='<div class="cdr '+a.options.className+'" style="left:0;width:100%;height:'+C+'px;"></div>',h=Math.max(a.range.startLineNumber,s),r=Math.min(a.range.endLineNumber,i);for(let c=h;c<=r;c++){const o=c-s;g[o]+=u}}}_renderNormalDecorations(f,_,g){var C;const s=String(this._lineHeight),i=f.visibleRange.startLineNumber;let n=null,t=!1,a=null,u=!1;for(let h=0,r=_.length;h<r;h++){const c=_[h];if(c.options.isWholeLine)continue;const o=c.options.className,d=!!c.options.showIfCollapsed;let l=c.range;if(d&&l.endColumn===1&&l.endLineNumber!==l.startLineNumber&&(l=new y.Range(l.startLineNumber,l.startColumn,l.endLineNumber-1,this._context.viewModel.getLineMaxColumn(l.endLineNumber-1))),n===o&&t===d&&y.Range.areIntersectingOrTouching(a,l)){a=y.Range.plusRange(a,l);continue}n!==null&&this._renderNormalDecoration(f,a,n,u,t,s,i,g),n=o,t=d,a=l,u=(C=c.options.shouldFillLineOnLineBreak)!==null&&C!==void 0?C:!1}n!==null&&this._renderNormalDecoration(f,a,n,u,t,s,i,g)}_renderNormalDecoration(f,_,g,C,s,i,n,t){const a=f.linesVisibleRangesForRange(_,g==="findMatch");if(a)for(let u=0,h=a.length;u<h;u++){const r=a[u];if(r.outsideRenderedLine)continue;const c=r.lineNumber-n;if(s&&r.ranges.length===1){const o=r.ranges[0];if(o.width<this._typicalHalfwidthCharacterWidth){const d=Math.round(o.left+o.width/2),l=Math.max(0,Math.round(d-this._typicalHalfwidthCharacterWidth/2));r.ranges[0]=new k.HorizontalRange(l,this._typicalHalfwidthCharacterWidth)}}for(let o=0,d=r.ranges.length;o<d;o++){const l=C&&r.continuesOnNextLine&&d===1,p=r.ranges[o],m='<div class="cdr '+g+'" style="left:'+String(p.left)+(l?"px;width:100%;height:":"px;width:"+String(p.width)+"px;height:")+i+'px;"></div>';t[c]+=m}}}render(f,_){if(!this._renderResult)return"";const g=_-f;return g<0||g>=this._renderResult.length?"":this._renderResult[g]}}e.DecorationsOverlay=D}),define(ne[210],se([1,0,35,14,112,53,5,418]),function(Q,e,L,k,y,D,S){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.GlyphMarginWidgets=e.DedupOverlay=e.VisibleLineDecorationsToRender=e.LineDecorationToRender=e.DecorationToRender=void 0;class f{constructor(u,h,r,c){this._decorationToRenderBrand=void 0,this.startLineNumber=+u,this.endLineNumber=+h,this.className=String(r),this.zIndex=c??0}}e.DecorationToRender=f;class _{constructor(u,h){this.className=u,this.zIndex=h}}e.LineDecorationToRender=_;class g{constructor(){this.decorations=[]}add(u){this.decorations.push(u)}getDecorations(){return this.decorations}}e.VisibleLineDecorationsToRender=g;class C extends y.DynamicViewOverlay{_render(u,h,r){const c=[];for(let l=u;l<=h;l++){const p=l-u;c[p]=new g}if(r.length===0)return c;r.sort((l,p)=>l.className===p.className?l.startLineNumber===p.startLineNumber?l.endLineNumber-p.endLineNumber:l.startLineNumber-p.startLineNumber:l.className<p.className?-1:1);let o=null,d=0;for(let l=0,p=r.length;l<p;l++){const m=r[l],v=m.className,b=m.zIndex;let w=Math.max(m.startLineNumber,u)-u;const E=Math.min(m.endLineNumber,h)-u;o===v?(w=Math.max(d+1,w),d=Math.max(d,E)):(o=v,d=E);for(let I=w;I<=d;I++)c[I].add(new _(v,b))}return c}}e.DedupOverlay=C;class s extends D.ViewPart{constructor(u){super(u),this._widgets={},this._context=u;const h=this._context.configuration.options,r=h.get(142);this.domNode=(0,L.createFastDomNode)(document.createElement("div")),this.domNode.setClassName("glyph-margin-widgets"),this.domNode.setPosition("absolute"),this.domNode.setTop(0),this._lineHeight=h.get(65),this._glyphMargin=h.get(56),this._glyphMarginLeft=r.glyphMarginLeft,this._glyphMarginWidth=r.glyphMarginWidth,this._glyphMarginDecorationLaneCount=r.glyphMarginDecorationLaneCount,this._managedDomNodes=[],this._decorationGlyphsToRender=[]}dispose(){this._managedDomNodes=[],this._decorationGlyphsToRender=[],this._widgets={},super.dispose()}getWidgets(){return Object.values(this._widgets)}onConfigurationChanged(u){const h=this._context.configuration.options,r=h.get(142);return this._lineHeight=h.get(65),this._glyphMargin=h.get(56),this._glyphMarginLeft=r.glyphMarginLeft,this._glyphMarginWidth=r.glyphMarginWidth,this._glyphMarginDecorationLaneCount=r.glyphMarginDecorationLaneCount,!0}onDecorationsChanged(u){return!0}onFlushed(u){return!0}onLinesChanged(u){return!0}onLinesDeleted(u){return!0}onLinesInserted(u){return!0}onScrollChanged(u){return u.scrollTopChanged}onZonesChanged(u){return!0}addWidget(u){const h=(0,L.createFastDomNode)(u.getDomNode());this._widgets[u.getId()]={widget:u,preference:u.getPosition(),domNode:h,renderInfo:null},h.setPosition("absolute"),h.setDisplay("none"),h.setAttribute("widgetId",u.getId()),this.domNode.appendChild(h),this.setShouldRender()}setWidgetPosition(u,h){const r=this._widgets[u.getId()];return r.preference.lane===h.lane&&r.preference.zIndex===h.zIndex&&S.Range.equalsRange(r.preference.range,h.range)?!1:(r.preference=h,this.setShouldRender(),!0)}removeWidget(u){var h;const r=u.getId();if(this._widgets[r]){const o=this._widgets[r].domNode.domNode;delete this._widgets[r],(h=o.parentNode)===null||h===void 0||h.removeChild(o),this.setShouldRender()}}_collectDecorationBasedGlyphRenderRequest(u,h){var r,c,o;const d=u.visibleRange.startLineNumber,l=u.visibleRange.endLineNumber,p=u.getDecorationsInViewport();for(const m of p){const v=m.options.glyphMarginClassName;if(!v)continue;const b=Math.max(m.range.startLineNumber,d),w=Math.min(m.range.endLineNumber,l),E=Math.min((c=(r=m.options.glyphMargin)===null||r===void 0?void 0:r.position)!==null&&c!==void 0?c:1,this._glyphMarginDecorationLaneCount),I=(o=m.options.zIndex)!==null&&o!==void 0?o:0;for(let M=b;M<=w;M++)h.push(new i(M,E,I,v))}}_collectWidgetBasedGlyphRenderRequest(u,h){const r=u.visibleRange.startLineNumber,c=u.visibleRange.endLineNumber;for(const o of Object.values(this._widgets)){const d=o.preference.range;if(d.endLineNumber<r||d.startLineNumber>c)continue;const l=Math.max(d.startLineNumber,r),p=Math.min(o.preference.lane,this._glyphMarginDecorationLaneCount);h.push(new n(l,p,o.preference.zIndex,o))}}_collectSortedGlyphRenderRequests(u){const h=[];return this._collectDecorationBasedGlyphRenderRequest(u,h),this._collectWidgetBasedGlyphRenderRequest(u,h),h.sort((r,c)=>r.lineNumber===c.lineNumber?r.lane===c.lane?r.zIndex===c.zIndex?c.type===r.type?r.type===0&&c.type===0?r.className<c.className?-1:1:0:c.type-r.type:c.zIndex-r.zIndex:r.lane-c.lane:r.lineNumber-c.lineNumber),h}prepareRender(u){if(!this._glyphMargin){this._decorationGlyphsToRender=[];return}for(const c of Object.values(this._widgets))c.renderInfo=null;const h=new k.ArrayQueue(this._collectSortedGlyphRenderRequests(u)),r=[];for(;h.length>0;){const c=h.peek();if(!c)break;const o=h.takeWhile(l=>l.lineNumber===c.lineNumber&&l.lane===c.lane);if(!o||o.length===0)break;const d=o[0];if(d.type===0){const l=[];for(const p of o){if(p.zIndex!==d.zIndex||p.type!==d.type)break;(l.length===0||l[l.length-1]!==p.className)&&l.push(p.className)}r.push(d.accept(l.join(" ")))}else d.widget.renderInfo={lineNumber:d.lineNumber,lane:d.lane}}this._decorationGlyphsToRender=r}render(u){if(!this._glyphMargin){for(const r of Object.values(this._widgets))r.domNode.setDisplay("none");for(;this._managedDomNodes.length>0;){const r=this._managedDomNodes.pop();r?.domNode.remove()}return}const h=Math.round(this._glyphMarginWidth/this._glyphMarginDecorationLaneCount);for(const r of Object.values(this._widgets))if(!r.renderInfo)r.domNode.setDisplay("none");else{const c=u.viewportData.relativeVerticalOffset[r.renderInfo.lineNumber-u.viewportData.startLineNumber],o=this._glyphMarginLeft+(r.renderInfo.lane-1)*this._lineHeight;r.domNode.setDisplay("block"),r.domNode.setTop(c),r.domNode.setLeft(o),r.domNode.setWidth(h),r.domNode.setHeight(this._lineHeight)}for(let r=0;r<this._decorationGlyphsToRender.length;r++){const c=this._decorationGlyphsToRender[r],o=u.viewportData.relativeVerticalOffset[c.lineNumber-u.viewportData.startLineNumber],d=this._glyphMarginLeft+(c.lane-1)*this._lineHeight;let l;r<this._managedDomNodes.length?l=this._managedDomNodes[r]:(l=(0,L.createFastDomNode)(document.createElement("div")),this._managedDomNodes.push(l),this.domNode.appendChild(l)),l.setClassName("cgmr codicon "+c.combinedClassName),l.setPosition("absolute"),l.setTop(o),l.setLeft(d),l.setWidth(h),l.setHeight(this._lineHeight)}for(;this._managedDomNodes.length>this._decorationGlyphsToRender.length;){const r=this._managedDomNodes.pop();r?.domNode.remove()}}}e.GlyphMarginWidgets=s;class i{constructor(u,h,r,c){this.lineNumber=u,this.lane=h,this.zIndex=r,this.className=c,this.type=0}accept(u){return new t(this.lineNumber,this.lane,u)}}class n{constructor(u,h,r,c){this.lineNumber=u,this.lane=h,this.zIndex=r,this.widget=c,this.type=1}}class t{constructor(u,h,r){this.lineNumber=u,this.lane=h,this.combinedClassName=r}}}),define(ne[523],se([1,0,210,422]),function(Q,e,L){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.LinesDecorationsOverlay=void 0;class k extends L.DedupOverlay{constructor(D){super(),this._context=D;const f=this._context.configuration.options.get(142);this._decorationsLeft=f.decorationsLeft,this._decorationsWidth=f.decorationsWidth,this._renderResult=null,this._context.addEventHandler(this)}dispose(){this._context.removeEventHandler(this),this._renderResult=null,super.dispose()}onConfigurationChanged(D){const f=this._context.configuration.options.get(142);return this._decorationsLeft=f.decorationsLeft,this._decorationsWidth=f.decorationsWidth,!0}onDecorationsChanged(D){return!0}onFlushed(D){return!0}onLinesChanged(D){return!0}onLinesDeleted(D){return!0}onLinesInserted(D){return!0}onScrollChanged(D){return D.scrollTopChanged}onZonesChanged(D){return!0}_getDecorations(D){const S=D.getDecorationsInViewport(),f=[];let _=0;for(let g=0,C=S.length;g<C;g++){const s=S[g],i=s.options.linesDecorationsClassName,n=s.options.zIndex;i&&(f[_++]=new L.DecorationToRender(s.range.startLineNumber,s.range.endLineNumber,i,n));const t=s.options.firstLineDecorationClassName;t&&(f[_++]=new L.DecorationToRender(s.range.startLineNumber,s.range.startLineNumber,t,n))}return f}prepareRender(D){const S=D.visibleRange.startLineNumber,f=D.visibleRange.endLineNumber,_=this._render(S,f,this._getDecorations(D)),g=this._decorationsLeft.toString(),C=this._decorationsWidth.toString(),s='" style="left:'+g+"px;width:"+C+'px;"></div>',i=[];for(let n=S;n<=f;n++){const t=n-S,a=_[t].getDecorations();let u="";for(const h of a)u+='<div class="cldr '+h.className+s;i[t]=u}this._renderResult=i}render(D,S){return this._renderResult?this._renderResult[S-D]:""}}e.LinesDecorationsOverlay=k}),define(ne[289],se([1,0,35,53,423]),function(Q,e,L,k){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.Margin=void 0;class y extends k.ViewPart{constructor(S){super(S);const f=this._context.configuration.options,_=f.get(142);this._canUseLayerHinting=!f.get(31),this._contentLeft=_.contentLeft,this._glyphMarginLeft=_.glyphMarginLeft,this._glyphMarginWidth=_.glyphMarginWidth,this._domNode=(0,L.createFastDomNode)(document.createElement("div")),this._domNode.setClassName(y.OUTER_CLASS_NAME),this._domNode.setPosition("absolute"),this._domNode.setAttribute("role","presentation"),this._domNode.setAttribute("aria-hidden","true"),this._glyphMarginBackgroundDomNode=(0,L.createFastDomNode)(document.createElement("div")),this._glyphMarginBackgroundDomNode.setClassName(y.CLASS_NAME),this._domNode.appendChild(this._glyphMarginBackgroundDomNode)}dispose(){super.dispose()}getDomNode(){return this._domNode}onConfigurationChanged(S){const f=this._context.configuration.options,_=f.get(142);return this._canUseLayerHinting=!f.get(31),this._contentLeft=_.contentLeft,this._glyphMarginLeft=_.glyphMarginLeft,this._glyphMarginWidth=_.glyphMarginWidth,!0}onScrollChanged(S){return super.onScrollChanged(S)||S.scrollTopChanged}prepareRender(S){}render(S){this._domNode.setLayerHinting(this._canUseLayerHinting),this._domNode.setContain("strict");const f=S.scrollTop-S.bigNumbersDelta;this._domNode.setTop(-f);const _=Math.min(S.scrollHeight,1e6);this._domNode.setHeight(_),this._domNode.setWidth(this._contentLeft),this._glyphMarginBackgroundDomNode.setLeft(this._glyphMarginLeft),this._glyphMarginBackgroundDomNode.setWidth(this._glyphMarginWidth),this._glyphMarginBackgroundDomNode.setHeight(_)}}e.Margin=y,y.CLASS_NAME="glyph-margin",y.OUTER_CLASS_NAME="margin"}),define(ne[524],se([1,0,210,424]),function(Q,e,L){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.MarginViewLineDecorationsOverlay=void 0;class k extends L.DedupOverlay{constructor(D){super(),this._context=D,this._renderResult=null,this._context.addEventHandler(this)}dispose(){this._context.removeEventHandler(this),this._renderResult=null,super.dispose()}onConfigurationChanged(D){return!0}onDecorationsChanged(D){return!0}onFlushed(D){return!0}onLinesChanged(D){return!0}onLinesDeleted(D){return!0}onLinesInserted(D){return!0}onScrollChanged(D){return D.scrollTopChanged}onZonesChanged(D){return!0}_getDecorations(D){const S=D.getDecorationsInViewport(),f=[];let _=0;for(let g=0,C=S.length;g<C;g++){const s=S[g],i=s.options.marginClassName,n=s.options.zIndex;i&&(f[_++]=new L.DecorationToRender(s.range.startLineNumber,s.range.endLineNumber,i,n))}return f}prepareRender(D){const S=D.visibleRange.startLineNumber,f=D.visibleRange.endLineNumber,_=this._render(S,f,this._getDecorations(D)),g=[];for(let C=S;C<=f;C++){const s=C-S,i=_[s].getDecorations();let n="";for(const t of i)n+='<div class="cmdr '+t.className+'" style=""></div>';g[s]=n}this._renderResult=g}render(D,S){return this._renderResult?this._renderResult[S-D]:""}}e.MarginViewLineDecorationsOverlay=k}),define(ne[525],se([1,0,35,53,426]),function(Q,e,L,k){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ViewOverlayWidgets=void 0;class y extends k.ViewPart{constructor(S){super(S);const _=this._context.configuration.options.get(142);this._widgets={},this._verticalScrollbarWidth=_.verticalScrollbarWidth,this._minimapWidth=_.minimap.minimapWidth,this._horizontalScrollbarHeight=_.horizontalScrollbarHeight,this._editorHeight=_.height,this._editorWidth=_.width,this._domNode=(0,L.createFastDomNode)(document.createElement("div")),k.PartFingerprints.write(this._domNode,4),this._domNode.setClassName("overlayWidgets")}dispose(){super.dispose(),this._widgets={}}getDomNode(){return this._domNode}onConfigurationChanged(S){const _=this._context.configuration.options.get(142);return this._verticalScrollbarWidth=_.verticalScrollbarWidth,this._minimapWidth=_.minimap.minimapWidth,this._horizontalScrollbarHeight=_.horizontalScrollbarHeight,this._editorHeight=_.height,this._editorWidth=_.width,!0}addWidget(S){const f=(0,L.createFastDomNode)(S.getDomNode());this._widgets[S.getId()]={widget:S,preference:null,domNode:f},f.setPosition("absolute"),f.setAttribute("widgetId",S.getId()),this._domNode.appendChild(f),this.setShouldRender(),this._updateMaxMinWidth()}setWidgetPosition(S,f){const _=this._widgets[S.getId()];return _.preference===f?(this._updateMaxMinWidth(),!1):(_.preference=f,this.setShouldRender(),this._updateMaxMinWidth(),!0)}removeWidget(S){const f=S.getId();if(this._widgets.hasOwnProperty(f)){const g=this._widgets[f].domNode.domNode;delete this._widgets[f],g.parentNode.removeChild(g),this.setShouldRender(),this._updateMaxMinWidth()}}_updateMaxMinWidth(){var S,f;let _=0;const g=Object.keys(this._widgets);for(let C=0,s=g.length;C<s;C++){const i=g[C],t=(f=(S=this._widgets[i].widget).getMinContentWidthInPx)===null||f===void 0?void 0:f.call(S);typeof t<"u"&&(_=Math.max(_,t))}this._context.viewLayout.setOverlayWidgetsMinWidth(_)}_renderWidget(S){const f=S.domNode;if(S.preference===null){f.setTop("");return}if(S.preference===0)f.setTop(0),f.setRight(2*this._verticalScrollbarWidth+this._minimapWidth);else if(S.preference===1){const _=f.domNode.clientHeight;f.setTop(this._editorHeight-_-2*this._horizontalScrollbarHeight),f.setRight(2*this._verticalScrollbarWidth+this._minimapWidth)}else S.preference===2&&(f.setTop(0),f.domNode.style.right="50%")}prepareRender(S){}render(S){this._domNode.setWidth(this._editorWidth);const f=Object.keys(this._widgets);for(let _=0,g=f.length;_<g;_++){const C=f[_];this._renderWidget(this._widgets[C])}}}e.ViewOverlayWidgets=y}),define(ne[526],se([1,0,35,53,427]),function(Q,e,L,k){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.Rulers=void 0;class y extends k.ViewPart{constructor(S){super(S),this.domNode=(0,L.createFastDomNode)(document.createElement("div")),this.domNode.setAttribute("role","presentation"),this.domNode.setAttribute("aria-hidden","true"),this.domNode.setClassName("view-rulers"),this._renderedRulers=[];const f=this._context.configuration.options;this._rulers=f.get(100),this._typicalHalfwidthCharacterWidth=f.get(49).typicalHalfwidthCharacterWidth}dispose(){super.dispose()}onConfigurationChanged(S){const f=this._context.configuration.options;return this._rulers=f.get(100),this._typicalHalfwidthCharacterWidth=f.get(49).typicalHalfwidthCharacterWidth,!0}onScrollChanged(S){return S.scrollHeightChanged}prepareRender(S){}_ensureRulersCount(){const S=this._renderedRulers.length,f=this._rulers.length;if(S===f)return;if(S<f){const{tabSize:g}=this._context.viewModel.model.getOptions(),C=g;let s=f-S;for(;s>0;){const i=(0,L.createFastDomNode)(document.createElement("div"));i.setClassName("view-ruler"),i.setWidth(C),this.domNode.appendChild(i),this._renderedRulers.push(i),s--}return}let _=S-f;for(;_>0;){const g=this._renderedRulers.pop();this.domNode.removeChild(g),_--}}render(S){this._ensureRulersCount();for(let f=0,_=this._rulers.length;f<_;f++){const g=this._renderedRulers[f],C=this._rulers[f];g.setBoxShadow(C.color?`1px 0 0 0 ${C.color} inset`:""),g.setHeight(Math.min(S.scrollHeight,1e6)),g.setLeft(C.column*this._typicalHalfwidthCharacterWidth)}}}e.Rulers=y}),define(ne[527],se([1,0,35,53,428]),function(Q,e,L,k){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ScrollDecorationViewPart=void 0;class y extends k.ViewPart{constructor(S){super(S),this._scrollTop=0,this._width=0,this._updateWidth(),this._shouldShow=!1;const _=this._context.configuration.options.get(101);this._useShadows=_.useShadows,this._domNode=(0,L.createFastDomNode)(document.createElement("div")),this._domNode.setAttribute("role","presentation"),this._domNode.setAttribute("aria-hidden","true")}dispose(){super.dispose()}_updateShouldShow(){const S=this._useShadows&&this._scrollTop>0;return this._shouldShow!==S?(this._shouldShow=S,!0):!1}getDomNode(){return this._domNode}_updateWidth(){const f=this._context.configuration.options.get(142);f.minimap.renderMinimap===0||f.minimap.minimapWidth>0&&f.minimap.minimapLeft===0?this._width=f.width:this._width=f.width-f.verticalScrollbarWidth}onConfigurationChanged(S){const _=this._context.configuration.options.get(101);return this._useShadows=_.useShadows,this._updateWidth(),this._updateShouldShow(),!0}onScrollChanged(S){return this._scrollTop=S.scrollTop,this._updateShouldShow()}prepareRender(S){}render(S){this._domNode.setWidth(this._width),this._domNode.setClassName(this._shouldShow?"scroll-decoration":"")}}e.ScrollDecorationViewPart=y}),define(ne[528],se([1,0,35,9,53,12]),function(Q,e,L,k,y,D){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ViewZones=void 0;const S=()=>{throw new Error("Invalid change accessor")};class f extends y.ViewPart{constructor(C){super(C);const s=this._context.configuration.options,i=s.get(142);this._lineHeight=s.get(65),this._contentWidth=i.contentWidth,this._contentLeft=i.contentLeft,this.domNode=(0,L.createFastDomNode)(document.createElement("div")),this.domNode.setClassName("view-zones"),this.domNode.setPosition("absolute"),this.domNode.setAttribute("role","presentation"),this.domNode.setAttribute("aria-hidden","true"),this.marginDomNode=(0,L.createFastDomNode)(document.createElement("div")),this.marginDomNode.setClassName("margin-view-zones"),this.marginDomNode.setPosition("absolute"),this.marginDomNode.setAttribute("role","presentation"),this.marginDomNode.setAttribute("aria-hidden","true"),this._zones={}}dispose(){super.dispose(),this._zones={}}_recomputeWhitespacesProps(){const C=this._context.viewLayout.getWhitespaces(),s=new Map;for(const n of C)s.set(n.id,n);let i=!1;return this._context.viewModel.changeWhitespace(n=>{const t=Object.keys(this._zones);for(let a=0,u=t.length;a<u;a++){const h=t[a],r=this._zones[h],c=this._computeWhitespaceProps(r.delegate);r.isInHiddenArea=c.isInHiddenArea;const o=s.get(h);o&&(o.afterLineNumber!==c.afterViewLineNumber||o.height!==c.heightInPx)&&(n.changeOneWhitespace(h,c.afterViewLineNumber,c.heightInPx),this._safeCallOnComputedHeight(r.delegate,c.heightInPx),i=!0)}}),i}onConfigurationChanged(C){const s=this._context.configuration.options,i=s.get(142);return this._lineHeight=s.get(65),this._contentWidth=i.contentWidth,this._contentLeft=i.contentLeft,C.hasChanged(65)&&this._recomputeWhitespacesProps(),!0}onLineMappingChanged(C){return this._recomputeWhitespacesProps()}onLinesDeleted(C){return!0}onScrollChanged(C){return C.scrollTopChanged||C.scrollWidthChanged}onZonesChanged(C){return!0}onLinesInserted(C){return!0}_getZoneOrdinal(C){var s,i;return(i=(s=C.ordinal)!==null&&s!==void 0?s:C.afterColumn)!==null&&i!==void 0?i:1e4}_computeWhitespaceProps(C){if(C.afterLineNumber===0)return{isInHiddenArea:!1,afterViewLineNumber:0,heightInPx:this._heightInPixels(C),minWidthInPx:this._minWidthInPixels(C)};let s;if(typeof C.afterColumn<"u")s=this._context.viewModel.model.validatePosition({lineNumber:C.afterLineNumber,column:C.afterColumn});else{const a=this._context.viewModel.model.validatePosition({lineNumber:C.afterLineNumber,column:1}).lineNumber;s=new D.Position(a,this._context.viewModel.model.getLineMaxColumn(a))}let i;s.column===this._context.viewModel.model.getLineMaxColumn(s.lineNumber)?i=this._context.viewModel.model.validatePosition({lineNumber:s.lineNumber+1,column:1}):i=this._context.viewModel.model.validatePosition({lineNumber:s.lineNumber,column:s.column+1});const n=this._context.viewModel.coordinatesConverter.convertModelPositionToViewPosition(s,C.afterColumnAffinity,!0),t=C.showInHiddenAreas||this._context.viewModel.coordinatesConverter.modelPositionIsVisible(i);return{isInHiddenArea:!t,afterViewLineNumber:n.lineNumber,heightInPx:t?this._heightInPixels(C):0,minWidthInPx:this._minWidthInPixels(C)}}changeViewZones(C){let s=!1;return this._context.viewModel.changeWhitespace(i=>{const n={addZone:t=>(s=!0,this._addZone(i,t)),removeZone:t=>{t&&(s=this._removeZone(i,t)||s)},layoutZone:t=>{t&&(s=this._layoutZone(i,t)||s)}};_(C,n),n.addZone=S,n.removeZone=S,n.layoutZone=S}),s}_addZone(C,s){const i=this._computeWhitespaceProps(s),t={whitespaceId:C.insertWhitespace(i.afterViewLineNumber,this._getZoneOrdinal(s),i.heightInPx,i.minWidthInPx),delegate:s,isInHiddenArea:i.isInHiddenArea,isVisible:!1,domNode:(0,L.createFastDomNode)(s.domNode),marginDomNode:s.marginDomNode?(0,L.createFastDomNode)(s.marginDomNode):null};return this._safeCallOnComputedHeight(t.delegate,i.heightInPx),t.domNode.setPosition("absolute"),t.domNode.domNode.style.width="100%",t.domNode.setDisplay("none"),t.domNode.setAttribute("monaco-view-zone",t.whitespaceId),this.domNode.appendChild(t.domNode),t.marginDomNode&&(t.marginDomNode.setPosition("absolute"),t.marginDomNode.domNode.style.width="100%",t.marginDomNode.setDisplay("none"),t.marginDomNode.setAttribute("monaco-view-zone",t.whitespaceId),this.marginDomNode.appendChild(t.marginDomNode)),this._zones[t.whitespaceId]=t,this.setShouldRender(),t.whitespaceId}_removeZone(C,s){if(this._zones.hasOwnProperty(s)){const i=this._zones[s];return delete this._zones[s],C.removeWhitespace(i.whitespaceId),i.domNode.removeAttribute("monaco-visible-view-zone"),i.domNode.removeAttribute("monaco-view-zone"),i.domNode.domNode.parentNode.removeChild(i.domNode.domNode),i.marginDomNode&&(i.marginDomNode.removeAttribute("monaco-visible-view-zone"),i.marginDomNode.removeAttribute("monaco-view-zone"),i.marginDomNode.domNode.parentNode.removeChild(i.marginDomNode.domNode)),this.setShouldRender(),!0}return!1}_layoutZone(C,s){if(this._zones.hasOwnProperty(s)){const i=this._zones[s],n=this._computeWhitespaceProps(i.delegate);return i.isInHiddenArea=n.isInHiddenArea,C.changeOneWhitespace(i.whitespaceId,n.afterViewLineNumber,n.heightInPx),this._safeCallOnComputedHeight(i.delegate,n.heightInPx),this.setShouldRender(),!0}return!1}shouldSuppressMouseDownOnViewZone(C){return this._zones.hasOwnProperty(C)?!!this._zones[C].delegate.suppressMouseDown:!1}_heightInPixels(C){return typeof C.heightInPx=="number"?C.heightInPx:typeof C.heightInLines=="number"?this._lineHeight*C.heightInLines:this._lineHeight}_minWidthInPixels(C){return typeof C.minWidthInPx=="number"?C.minWidthInPx:0}_safeCallOnComputedHeight(C,s){if(typeof C.onComputedHeight=="function")try{C.onComputedHeight(s)}catch(i){(0,k.onUnexpectedError)(i)}}_safeCallOnDomNodeTop(C,s){if(typeof C.onDomNodeTop=="function")try{C.onDomNodeTop(s)}catch(i){(0,k.onUnexpectedError)(i)}}prepareRender(C){}render(C){const s=C.viewportData.whitespaceViewportData,i={};let n=!1;for(const a of s)this._zones[a.id].isInHiddenArea||(i[a.id]=a,n=!0);const t=Object.keys(this._zones);for(let a=0,u=t.length;a<u;a++){const h=t[a],r=this._zones[h];let c=0,o=0,d="none";i.hasOwnProperty(h)?(c=i[h].verticalOffset-C.bigNumbersDelta,o=i[h].height,d="block",r.isVisible||(r.domNode.setAttribute("monaco-visible-view-zone","true"),r.isVisible=!0),this._safeCallOnDomNodeTop(r.delegate,C.getScrolledTopFromAbsoluteTop(i[h].verticalOffset))):(r.isVisible&&(r.domNode.removeAttribute("monaco-visible-view-zone"),r.isVisible=!1),this._safeCallOnDomNodeTop(r.delegate,C.getScrolledTopFromAbsoluteTop(-1e6))),r.domNode.setTop(c),r.domNode.setHeight(o),r.domNode.setDisplay(d),r.marginDomNode&&(r.marginDomNode.setTop(c),r.marginDomNode.setHeight(o),r.marginDomNode.setDisplay(d))}n&&(this.domNode.setWidth(Math.max(C.scrollWidth,this._contentWidth)),this.marginDomNode.setWidth(this._contentLeft))}}e.ViewZones=f;function _(g,C){try{return g(C)}catch(s){(0,k.onUnexpectedError)(s)}}}),define(ne[211],se([1,0]),function(Q,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ViewZonesChangedEvent=e.ViewTokensColorsChangedEvent=e.ViewTokensChangedEvent=e.ViewThemeChangedEvent=e.ViewScrollChangedEvent=e.ViewRevealRangeRequestEvent=e.ViewLinesInsertedEvent=e.ViewLinesDeletedEvent=e.ViewLinesChangedEvent=e.ViewLineMappingChangedEvent=e.ViewLanguageConfigurationEvent=e.ViewFocusChangedEvent=e.ViewFlushedEvent=e.ViewDecorationsChangedEvent=e.ViewCursorStateChangedEvent=e.ViewConfigurationChangedEvent=e.ViewCompositionEndEvent=e.ViewCompositionStartEvent=void 0;class L{constructor(){this.type=0}}e.ViewCompositionStartEvent=L;class k{constructor(){this.type=1}}e.ViewCompositionEndEvent=k;class y{constructor(d){this.type=2,this._source=d}hasChanged(d){return this._source.hasChanged(d)}}e.ViewConfigurationChangedEvent=y;class D{constructor(d,l,p){this.selections=d,this.modelSelections=l,this.reason=p,this.type=3}}e.ViewCursorStateChangedEvent=D;class S{constructor(d){this.type=4,d?(this.affectsMinimap=d.affectsMinimap,this.affectsOverviewRuler=d.affectsOverviewRuler,this.affectsGlyphMargin=d.affectsGlyphMargin):(this.affectsMinimap=!0,this.affectsOverviewRuler=!0,this.affectsGlyphMargin=!0)}}e.ViewDecorationsChangedEvent=S;class f{constructor(){this.type=5}}e.ViewFlushedEvent=f;class _{constructor(d){this.type=6,this.isFocused=d}}e.ViewFocusChangedEvent=_;class g{constructor(){this.type=7}}e.ViewLanguageConfigurationEvent=g;class C{constructor(){this.type=8}}e.ViewLineMappingChangedEvent=C;class s{constructor(d,l){this.fromLineNumber=d,this.count=l,this.type=9}}e.ViewLinesChangedEvent=s;class i{constructor(d,l){this.type=10,this.fromLineNumber=d,this.toLineNumber=l}}e.ViewLinesDeletedEvent=i;class n{constructor(d,l){this.type=11,this.fromLineNumber=d,this.toLineNumber=l}}e.ViewLinesInsertedEvent=n;class t{constructor(d,l,p,m,v,b,w){this.source=d,this.minimalReveal=l,this.range=p,this.selections=m,this.verticalType=v,this.revealHorizontal=b,this.scrollType=w,this.type=12}}e.ViewRevealRangeRequestEvent=t;class a{constructor(d){this.type=13,this.scrollWidth=d.scrollWidth,this.scrollLeft=d.scrollLeft,this.scrollHeight=d.scrollHeight,this.scrollTop=d.scrollTop,this.scrollWidthChanged=d.scrollWidthChanged,this.scrollLeftChanged=d.scrollLeftChanged,this.scrollHeightChanged=d.scrollHeightChanged,this.scrollTopChanged=d.scrollTopChanged}}e.ViewScrollChangedEvent=a;class u{constructor(d){this.theme=d,this.type=14}}e.ViewThemeChangedEvent=u;class h{constructor(d){this.type=15,this.ranges=d}}e.ViewTokensChangedEvent=h;class r{constructor(){this.type=16}}e.ViewTokensColorsChangedEvent=r;class c{constructor(){this.type=17}}e.ViewZonesChangedEvent=c}),define(ne[127],se([1,0,11]),function(Q,e,L){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.LineDecorationsNormalizer=e.DecorationSegment=e.LineDecoration=void 0;class k{constructor(_,g,C,s){this.startColumn=_,this.endColumn=g,this.className=C,this.type=s,this._lineDecorationBrand=void 0}static _equals(_,g){return _.startColumn===g.startColumn&&_.endColumn===g.endColumn&&_.className===g.className&&_.type===g.type}static equalsArr(_,g){const C=_.length,s=g.length;if(C!==s)return!1;for(let i=0;i<C;i++)if(!k._equals(_[i],g[i]))return!1;return!0}static extractWrapped(_,g,C){if(_.length===0)return _;const s=g+1,i=C+1,n=C-g,t=[];let a=0;for(const u of _)u.endColumn<=s||u.startColumn>=i||(t[a++]=new k(Math.max(1,u.startColumn-s+1),Math.min(n+1,u.endColumn-s+1),u.className,u.type));return t}static filter(_,g,C,s){if(_.length===0)return[];const i=[];let n=0;for(let t=0,a=_.length;t<a;t++){const u=_[t],h=u.range;if(h.endLineNumber<g||h.startLineNumber>g||h.isEmpty()&&(u.type===0||u.type===3))continue;const r=h.startLineNumber===g?h.startColumn:C,c=h.endLineNumber===g?h.endColumn:s;i[n++]=new k(r,c,u.inlineClassName,u.type)}return i}static _typeCompare(_,g){const C=[2,0,1,3];return C[_]-C[g]}static compare(_,g){if(_.startColumn!==g.startColumn)return _.startColumn-g.startColumn;if(_.endColumn!==g.endColumn)return _.endColumn-g.endColumn;const C=k._typeCompare(_.type,g.type);return C!==0?C:_.className!==g.className?_.className<g.className?-1:1:0}}e.LineDecoration=k;class y{constructor(_,g,C,s){this.startOffset=_,this.endOffset=g,this.className=C,this.metadata=s}}e.DecorationSegment=y;class D{constructor(){this.stopOffsets=[],this.classNames=[],this.metadata=[],this.count=0}static _metadata(_){let g=0;for(let C=0,s=_.length;C<s;C++)g|=_[C];return g}consumeLowerThan(_,g,C){for(;this.count>0&&this.stopOffsets[0]<_;){let s=0;for(;s+1<this.count&&this.stopOffsets[s]===this.stopOffsets[s+1];)s++;C.push(new y(g,this.stopOffsets[s],this.classNames.join(" "),D._metadata(this.metadata))),g=this.stopOffsets[s]+1,this.stopOffsets.splice(0,s+1),this.classNames.splice(0,s+1),this.metadata.splice(0,s+1),this.count-=s+1}return this.count>0&&g<_&&(C.push(new y(g,_-1,this.classNames.join(" "),D._metadata(this.metadata))),g=_),g}insert(_,g,C){if(this.count===0||this.stopOffsets[this.count-1]<=_)this.stopOffsets.push(_),this.classNames.push(g),this.metadata.push(C);else for(let s=0;s<this.count;s++)if(this.stopOffsets[s]>=_){this.stopOffsets.splice(s,0,_),this.classNames.splice(s,0,g),this.metadata.splice(s,0,C);break}this.count++}}class S{static normalize(_,g){if(g.length===0)return[];const C=[],s=new D;let i=0;for(let n=0,t=g.length;n<t;n++){const a=g[n];let u=a.startColumn,h=a.endColumn;const r=a.className,c=a.type===1?2:a.type===2?4:0;if(u>1){const l=_.charCodeAt(u-2);L.isHighSurrogate(l)&&u--}if(h>1){const l=_.charCodeAt(h-2);L.isHighSurrogate(l)&&h--}const o=u-1,d=h-2;i=s.consumeLowerThan(o,i,C),s.count===0&&(i=o),s.insert(d,r,c)}return s.consumeLowerThan(1073741824,i,C),C}}e.LineDecorationsNormalizer=S}),define(ne[529],se([1,0]),function(Q,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.LinePart=void 0;class L{constructor(y,D,S,f){this.endIndex=y,this.type=D,this.metadata=S,this.containsRTL=f,this._linePartBrand=void 0}isWhitespace(){return!!(this.metadata&1)}isPseudoAfter(){return!!(this.metadata&4)}}e.LinePart=L}),define(ne[530],se([1,0,11]),function(Q,e,L){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.LinesLayout=e.EditorWhitespace=void 0;class k{constructor(){this._hasPending=!1,this._inserts=[],this._changes=[],this._removes=[]}insert(f){this._hasPending=!0,this._inserts.push(f)}change(f){this._hasPending=!0,this._changes.push(f)}remove(f){this._hasPending=!0,this._removes.push(f)}mustCommit(){return this._hasPending}commit(f){if(!this._hasPending)return;const _=this._inserts,g=this._changes,C=this._removes;this._hasPending=!1,this._inserts=[],this._changes=[],this._removes=[],f._commitPendingChanges(_,g,C)}}class y{constructor(f,_,g,C,s){this.id=f,this.afterLineNumber=_,this.ordinal=g,this.height=C,this.minWidth=s,this.prefixSum=0}}e.EditorWhitespace=y;class D{constructor(f,_,g,C){this._instanceId=L.singleLetterHash(++D.INSTANCE_COUNT),this._pendingChanges=new k,this._lastWhitespaceId=0,this._arr=[],this._prefixSumValidIndex=-1,this._minWidth=-1,this._lineCount=f,this._lineHeight=_,this._paddingTop=g,this._paddingBottom=C}static findInsertionIndex(f,_,g){let C=0,s=f.length;for(;C<s;){const i=C+s>>>1;_===f[i].afterLineNumber?g<f[i].ordinal?s=i:C=i+1:_<f[i].afterLineNumber?s=i:C=i+1}return C}setLineHeight(f){this._checkPendingChanges(),this._lineHeight=f}setPadding(f,_){this._paddingTop=f,this._paddingBottom=_}onFlushed(f){this._checkPendingChanges(),this._lineCount=f}changeWhitespace(f){let _=!1;try{f({insertWhitespace:(C,s,i,n)=>{_=!0,C=C|0,s=s|0,i=i|0,n=n|0;const t=this._instanceId+ ++this._lastWhitespaceId;return this._pendingChanges.insert(new y(t,C,s,i,n)),t},changeOneWhitespace:(C,s,i)=>{_=!0,s=s|0,i=i|0,this._pendingChanges.change({id:C,newAfterLineNumber:s,newHeight:i})},removeWhitespace:C=>{_=!0,this._pendingChanges.remove({id:C})}})}finally{this._pendingChanges.commit(this)}return _}_commitPendingChanges(f,_,g){if((f.length>0||g.length>0)&&(this._minWidth=-1),f.length+_.length+g.length<=1){for(const t of f)this._insertWhitespace(t);for(const t of _)this._changeOneWhitespace(t.id,t.newAfterLineNumber,t.newHeight);for(const t of g){const a=this._findWhitespaceIndex(t.id);a!==-1&&this._removeWhitespace(a)}return}const C=new Set;for(const t of g)C.add(t.id);const s=new Map;for(const t of _)s.set(t.id,t);const i=t=>{const a=[];for(const u of t)if(!C.has(u.id)){if(s.has(u.id)){const h=s.get(u.id);u.afterLineNumber=h.newAfterLineNumber,u.height=h.newHeight}a.push(u)}return a},n=i(this._arr).concat(i(f));n.sort((t,a)=>t.afterLineNumber===a.afterLineNumber?t.ordinal-a.ordinal:t.afterLineNumber-a.afterLineNumber),this._arr=n,this._prefixSumValidIndex=-1}_checkPendingChanges(){this._pendingChanges.mustCommit()&&this._pendingChanges.commit(this)}_insertWhitespace(f){const _=D.findInsertionIndex(this._arr,f.afterLineNumber,f.ordinal);this._arr.splice(_,0,f),this._prefixSumValidIndex=Math.min(this._prefixSumValidIndex,_-1)}_findWhitespaceIndex(f){const _=this._arr;for(let g=0,C=_.length;g<C;g++)if(_[g].id===f)return g;return-1}_changeOneWhitespace(f,_,g){const C=this._findWhitespaceIndex(f);if(C!==-1&&(this._arr[C].height!==g&&(this._arr[C].height=g,this._prefixSumValidIndex=Math.min(this._prefixSumValidIndex,C-1)),this._arr[C].afterLineNumber!==_)){const s=this._arr[C];this._removeWhitespace(C),s.afterLineNumber=_,this._insertWhitespace(s)}}_removeWhitespace(f){this._arr.splice(f,1),this._prefixSumValidIndex=Math.min(this._prefixSumValidIndex,f-1)}onLinesDeleted(f,_){this._checkPendingChanges(),f=f|0,_=_|0,this._lineCount-=_-f+1;for(let g=0,C=this._arr.length;g<C;g++){const s=this._arr[g].afterLineNumber;f<=s&&s<=_?this._arr[g].afterLineNumber=f-1:s>_&&(this._arr[g].afterLineNumber-=_-f+1)}}onLinesInserted(f,_){this._checkPendingChanges(),f=f|0,_=_|0,this._lineCount+=_-f+1;for(let g=0,C=this._arr.length;g<C;g++){const s=this._arr[g].afterLineNumber;f<=s&&(this._arr[g].afterLineNumber+=_-f+1)}}getWhitespacesTotalHeight(){return this._checkPendingChanges(),this._arr.length===0?0:this.getWhitespacesAccumulatedHeight(this._arr.length-1)}getWhitespacesAccumulatedHeight(f){this._checkPendingChanges(),f=f|0;let _=Math.max(0,this._prefixSumValidIndex+1);_===0&&(this._arr[0].prefixSum=this._arr[0].height,_++);for(let g=_;g<=f;g++)this._arr[g].prefixSum=this._arr[g-1].prefixSum+this._arr[g].height;return this._prefixSumValidIndex=Math.max(this._prefixSumValidIndex,f),this._arr[f].prefixSum}getLinesTotalHeight(){this._checkPendingChanges();const f=this._lineHeight*this._lineCount,_=this.getWhitespacesTotalHeight();return f+_+this._paddingTop+this._paddingBottom}getWhitespaceAccumulatedHeightBeforeLineNumber(f){this._checkPendingChanges(),f=f|0;const _=this._findLastWhitespaceBeforeLineNumber(f);return _===-1?0:this.getWhitespacesAccumulatedHeight(_)}_findLastWhitespaceBeforeLineNumber(f){f=f|0;const _=this._arr;let g=0,C=_.length-1;for(;g<=C;){const i=(C-g|0)/2|0,n=g+i|0;if(_[n].afterLineNumber<f){if(n+1>=_.length||_[n+1].afterLineNumber>=f)return n;g=n+1|0}else C=n-1|0}return-1}_findFirstWhitespaceAfterLineNumber(f){f=f|0;const g=this._findLastWhitespaceBeforeLineNumber(f)+1;return g<this._arr.length?g:-1}getFirstWhitespaceIndexAfterLineNumber(f){return this._checkPendingChanges(),f=f|0,this._findFirstWhitespaceAfterLineNumber(f)}getVerticalOffsetForLineNumber(f,_=!1){this._checkPendingChanges(),f=f|0;let g;f>1?g=this._lineHeight*(f-1):g=0;const C=this.getWhitespaceAccumulatedHeightBeforeLineNumber(f-(_?1:0));return g+C+this._paddingTop}getVerticalOffsetAfterLineNumber(f,_=!1){this._checkPendingChanges(),f=f|0;const g=this._lineHeight*f,C=this.getWhitespaceAccumulatedHeightBeforeLineNumber(f+(_?1:0));return g+C+this._paddingTop}getWhitespaceMinWidth(){if(this._checkPendingChanges(),this._minWidth===-1){let f=0;for(let _=0,g=this._arr.length;_<g;_++)f=Math.max(f,this._arr[_].minWidth);this._minWidth=f}return this._minWidth}isAfterLines(f){this._checkPendingChanges();const _=this.getLinesTotalHeight();return f>_}isInTopPadding(f){return this._paddingTop===0?!1:(this._checkPendingChanges(),f<this._paddingTop)}isInBottomPadding(f){if(this._paddingBottom===0)return!1;this._checkPendingChanges();const _=this.getLinesTotalHeight();return f>=_-this._paddingBottom}getLineNumberAtOrAfterVerticalOffset(f){if(this._checkPendingChanges(),f=f|0,f<0)return 1;const _=this._lineCount|0,g=this._lineHeight;let C=1,s=_;for(;C<s;){const i=(C+s)/2|0,n=this.getVerticalOffsetForLineNumber(i)|0;if(f>=n+g)C=i+1;else{if(f>=n)return i;s=i}}return C>_?_:C}getLinesViewportData(f,_){this._checkPendingChanges(),f=f|0,_=_|0;const g=this._lineHeight,C=this.getLineNumberAtOrAfterVerticalOffset(f)|0,s=this.getVerticalOffsetForLineNumber(C)|0;let i=this._lineCount|0,n=this.getFirstWhitespaceIndexAfterLineNumber(C)|0;const t=this.getWhitespacesCount()|0;let a,u;n===-1?(n=t,u=i+1,a=0):(u=this.getAfterLineNumberForWhitespaceIndex(n)|0,a=this.getHeightForWhitespaceIndex(n)|0);let h=s,r=h;const c=5e5;let o=0;s>=c&&(o=Math.floor(s/c)*c,o=Math.floor(o/g)*g,r-=o);const d=[],l=f+(_-f)/2;let p=-1;for(let w=C;w<=i;w++){if(p===-1){const E=h,I=h+g;(E<=l&&l<I||E>l)&&(p=w)}for(h+=g,d[w-C]=r,r+=g;u===w;)r+=a,h+=a,n++,n>=t?u=i+1:(u=this.getAfterLineNumberForWhitespaceIndex(n)|0,a=this.getHeightForWhitespaceIndex(n)|0);if(h>=_){i=w;break}}p===-1&&(p=i);const m=this.getVerticalOffsetForLineNumber(i)|0;let v=C,b=i;return v<b&&s<f&&v++,v<b&&m+g>_&&b--,{bigNumbersDelta:o,startLineNumber:C,endLineNumber:i,relativeVerticalOffset:d,centeredLineNumber:p,completelyVisibleStartLineNumber:v,completelyVisibleEndLineNumber:b}}getVerticalOffsetForWhitespaceIndex(f){this._checkPendingChanges(),f=f|0;const _=this.getAfterLineNumberForWhitespaceIndex(f);let g;_>=1?g=this._lineHeight*_:g=0;let C;return f>0?C=this.getWhitespacesAccumulatedHeight(f-1):C=0,g+C+this._paddingTop}getWhitespaceIndexAtOrAfterVerticallOffset(f){this._checkPendingChanges(),f=f|0;let _=0,g=this.getWhitespacesCount()-1;if(g<0)return-1;const C=this.getVerticalOffsetForWhitespaceIndex(g),s=this.getHeightForWhitespaceIndex(g);if(f>=C+s)return-1;for(;_<g;){const i=Math.floor((_+g)/2),n=this.getVerticalOffsetForWhitespaceIndex(i),t=this.getHeightForWhitespaceIndex(i);if(f>=n+t)_=i+1;else{if(f>=n)return i;g=i}}return _}getWhitespaceAtVerticalOffset(f){this._checkPendingChanges(),f=f|0;const _=this.getWhitespaceIndexAtOrAfterVerticallOffset(f);if(_<0||_>=this.getWhitespacesCount())return null;const g=this.getVerticalOffsetForWhitespaceIndex(_);if(g>f)return null;const C=this.getHeightForWhitespaceIndex(_),s=this.getIdForWhitespaceIndex(_),i=this.getAfterLineNumberForWhitespaceIndex(_);return{id:s,afterLineNumber:i,verticalOffset:g,height:C}}getWhitespaceViewportData(f,_){this._checkPendingChanges(),f=f|0,_=_|0;const g=this.getWhitespaceIndexAtOrAfterVerticallOffset(f),C=this.getWhitespacesCount()-1;if(g<0)return[];const s=[];for(let i=g;i<=C;i++){const n=this.getVerticalOffsetForWhitespaceIndex(i),t=this.getHeightForWhitespaceIndex(i);if(n>=_)break;s.push({id:this.getIdForWhitespaceIndex(i),afterLineNumber:this.getAfterLineNumberForWhitespaceIndex(i),verticalOffset:n,height:t})}return s}getWhitespaces(){return this._checkPendingChanges(),this._arr.slice(0)}getWhitespacesCount(){return this._checkPendingChanges(),this._arr.length}getIdForWhitespaceIndex(f){return this._checkPendingChanges(),f=f|0,this._arr[f].id}getAfterLineNumberForWhitespaceIndex(f){return this._checkPendingChanges(),f=f|0,this._arr[f].afterLineNumber}getHeightForWhitespaceIndex(f){return this._checkPendingChanges(),f=f|0,this._arr[f].height}}e.LinesLayout=D,D.INSTANCE_COUNT=0}),define(ne[531],se([1,0,5]),function(Q,e,L){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ViewportData=void 0;class k{constructor(D,S,f,_){this.selections=D,this.startLineNumber=S.startLineNumber|0,this.endLineNumber=S.endLineNumber|0,this.relativeVerticalOffset=S.relativeVerticalOffset,this.bigNumbersDelta=S.bigNumbersDelta|0,this.whitespaceViewportData=f,this._model=_,this.visibleRange=new L.Range(S.startLineNumber,this._model.getLineMinColumn(S.startLineNumber),S.endLineNumber,this._model.getLineMaxColumn(S.endLineNumber))}getViewLineRenderingData(D){return this._model.getViewportViewLineRenderingData(this.visibleRange,D)}getDecorationsInViewport(){return this._model.getDecorationsInViewport(this.visibleRange)}}e.ViewportData=k}),define(ne[67],se([1,0,11,5]),function(Q,e,L,k){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.OverviewRulerDecorationsGroup=e.ViewModelDecoration=e.SingleLineInlineDecoration=e.InlineDecoration=e.ViewLineRenderingData=e.ViewLineData=e.MinimapLinesRenderingData=e.Viewport=void 0;class y{constructor(n,t,a,u){this._viewportBrand=void 0,this.top=n|0,this.left=t|0,this.width=a|0,this.height=u|0}}e.Viewport=y;class D{constructor(n,t){this.tabSize=n,this.data=t}}e.MinimapLinesRenderingData=D;class S{constructor(n,t,a,u,h,r,c){this._viewLineDataBrand=void 0,this.content=n,this.continuesWithWrappedLine=t,this.minColumn=a,this.maxColumn=u,this.startVisibleColumn=h,this.tokens=r,this.inlineDecorations=c}}e.ViewLineData=S;class f{constructor(n,t,a,u,h,r,c,o,d,l){this.minColumn=n,this.maxColumn=t,this.content=a,this.continuesWithWrappedLine=u,this.isBasicASCII=f.isBasicASCII(a,r),this.containsRTL=f.containsRTL(a,this.isBasicASCII,h),this.tokens=c,this.inlineDecorations=o,this.tabSize=d,this.startVisibleColumn=l}static isBasicASCII(n,t){return t?L.isBasicASCII(n):!0}static containsRTL(n,t,a){return!t&&a?L.containsRTL(n):!1}}e.ViewLineRenderingData=f;class _{constructor(n,t,a){this.range=n,this.inlineClassName=t,this.type=a}}e.InlineDecoration=_;class g{constructor(n,t,a,u){this.startOffset=n,this.endOffset=t,this.inlineClassName=a,this.inlineClassNameAffectsLetterSpacing=u}toInlineDecoration(n){return new _(new k.Range(n,this.startOffset+1,n,this.endOffset+1),this.inlineClassName,this.inlineClassNameAffectsLetterSpacing?3:0)}}e.SingleLineInlineDecoration=g;class C{constructor(n,t){this._viewModelDecorationBrand=void 0,this.range=n,this.options=t}}e.ViewModelDecoration=C;class s{constructor(n,t,a){this.color=n,this.zIndex=t,this.data=a}static cmp(n,t){return n.zIndex===t.zIndex?n.color<t.color?-1:n.color>t.color?1:0:n.zIndex-t.zIndex}}e.OverviewRulerDecorationsGroup=s}),define(ne[532],se([1,0,86,12,111,67]),function(Q,e,L,k,y,D){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.createModelLineProjection=void 0;function S(n,t){return n===null?t?_.INSTANCE:g.INSTANCE:new f(n,t)}e.createModelLineProjection=S;class f{constructor(t,a){this._projectionData=t,this._isVisible=a}isVisible(){return this._isVisible}setVisible(t){return this._isVisible=t,this}getProjectionData(){return this._projectionData}getViewLineCount(){return this._isVisible?this._projectionData.getOutputLineCount():0}getViewLineContent(t,a,u){this._assertVisible();const h=u>0?this._projectionData.breakOffsets[u-1]:0,r=this._projectionData.breakOffsets[u];let c;if(this._projectionData.injectionOffsets!==null){const o=this._projectionData.injectionOffsets.map((l,p)=>new y.LineInjectedText(0,0,l+1,this._projectionData.injectionOptions[p],0));c=y.LineInjectedText.applyInjectedText(t.getLineContent(a),o).substring(h,r)}else c=t.getValueInRange({startLineNumber:a,startColumn:h+1,endLineNumber:a,endColumn:r+1});return u>0&&(c=s(this._projectionData.wrappedTextIndentLength)+c),c}getViewLineLength(t,a,u){return this._assertVisible(),this._projectionData.getLineLength(u)}getViewLineMinColumn(t,a,u){return this._assertVisible(),this._projectionData.getMinOutputOffset(u)+1}getViewLineMaxColumn(t,a,u){return this._assertVisible(),this._projectionData.getMaxOutputOffset(u)+1}getViewLineData(t,a,u){const h=new Array;return this.getViewLinesData(t,a,u,1,0,[!0],h),h[0]}getViewLinesData(t,a,u,h,r,c,o){this._assertVisible();const d=this._projectionData,l=d.injectionOffsets,p=d.injectionOptions;let m=null;if(l){m=[];let b=0,w=0;for(let E=0;E<d.getOutputLineCount();E++){const I=new Array;m[E]=I;const M=E>0?d.breakOffsets[E-1]:0,P=d.breakOffsets[E];for(;w<l.length;){const x=p[w].content.length,T=l[w]+b,A=T+x;if(T>P)break;if(M<A){const N=p[w];if(N.inlineClassName){const F=E>0?d.wrappedTextIndentLength:0,O=F+Math.max(T-M,0),W=F+Math.min(A-M,P-M);O!==W&&I.push(new D.SingleLineInlineDecoration(O,W,N.inlineClassName,N.inlineClassNameAffectsLetterSpacing))}}if(A<=P)b+=x,w++;else break}}}let v;l?v=t.tokenization.getLineTokens(a).withInserted(l.map((b,w)=>({offset:b,text:p[w].content,tokenMetadata:L.LineTokens.defaultTokenMetadata}))):v=t.tokenization.getLineTokens(a);for(let b=u;b<u+h;b++){const w=r+b-u;if(!c[w]){o[w]=null;continue}o[w]=this._getViewLineData(v,m?m[b]:null,b)}}_getViewLineData(t,a,u){this._assertVisible();const h=this._projectionData,r=u>0?h.wrappedTextIndentLength:0,c=u>0?h.breakOffsets[u-1]:0,o=h.breakOffsets[u],d=t.sliceAndInflate(c,o,r);let l=d.getLineContent();u>0&&(l=s(h.wrappedTextIndentLength)+l);const p=this._projectionData.getMinOutputOffset(u)+1,m=l.length+1,v=u+1<this.getViewLineCount(),b=u===0?0:h.breakOffsetsVisibleColumn[u-1];return new D.ViewLineData(l,v,p,m,b,d,a)}getModelColumnOfViewPosition(t,a){return this._assertVisible(),this._projectionData.translateToInputOffset(t,a-1)+1}getViewPositionOfModelPosition(t,a,u=2){return this._assertVisible(),this._projectionData.translateToOutputPosition(a-1,u).toPosition(t)}getViewLineNumberOfModelPosition(t,a){this._assertVisible();const u=this._projectionData.translateToOutputPosition(a-1);return t+u.outputLineIndex}normalizePosition(t,a,u){const h=a.lineNumber-t;return this._projectionData.normalizeOutputPosition(t,a.column-1,u).toPosition(h)}getInjectedTextAt(t,a){return this._projectionData.getInjectedText(t,a-1)}_assertVisible(){if(!this._isVisible)throw new Error("Not supported")}}class _{constructor(){}isVisible(){return!0}setVisible(t){return t?this:g.INSTANCE}getProjectionData(){return null}getViewLineCount(){return 1}getViewLineContent(t,a,u){return t.getLineContent(a)}getViewLineLength(t,a,u){return t.getLineLength(a)}getViewLineMinColumn(t,a,u){return t.getLineMinColumn(a)}getViewLineMaxColumn(t,a,u){return t.getLineMaxColumn(a)}getViewLineData(t,a,u){const h=t.tokenization.getLineTokens(a),r=h.getLineContent();return new D.ViewLineData(r,!1,1,r.length+1,0,h.inflate(),null)}getViewLinesData(t,a,u,h,r,c,o){if(!c[r]){o[r]=null;return}o[r]=this.getViewLineData(t,a,0)}getModelColumnOfViewPosition(t,a){return a}getViewPositionOfModelPosition(t,a){return new k.Position(t,a)}getViewLineNumberOfModelPosition(t,a){return t}normalizePosition(t,a,u){return a}getInjectedTextAt(t,a){return null}}_.INSTANCE=new _;class g{constructor(){}isVisible(){return!1}setVisible(t){return t?_.INSTANCE:this}getProjectionData(){return null}getViewLineCount(){return 0}getViewLineContent(t,a,u){throw new Error("Not supported")}getViewLineLength(t,a,u){throw new Error("Not supported")}getViewLineMinColumn(t,a,u){throw new Error("Not supported")}getViewLineMaxColumn(t,a,u){throw new Error("Not supported")}getViewLineData(t,a,u){throw new Error("Not supported")}getViewLinesData(t,a,u,h,r,c,o){throw new Error("Not supported")}getModelColumnOfViewPosition(t,a){throw new Error("Not supported")}getViewPositionOfModelPosition(t,a){throw new Error("Not supported")}getViewLineNumberOfModelPosition(t,a){throw new Error("Not supported")}normalizePosition(t,a,u){throw new Error("Not supported")}getInjectedTextAt(t,a){throw new Error("Not supported")}}g.INSTANCE=new g;const C=[""];function s(n){if(n>=C.length)for(let t=1;t<=n;t++)C[t]=i(t);return C[n]}function i(n){return new Array(n+1).join(" ")}}),define(ne[533],se([1,0,11,121,111,284]),function(Q,e,L,k,y,D){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.MonospaceLineBreaksComputerFactory=void 0;class S{static create(h){return new S(h.get(131),h.get(130))}constructor(h,r){this.classifier=new f(h,r)}createLineBreaksComputer(h,r,c,o,d){const l=[],p=[],m=[];return{addRequest:(v,b,w)=>{l.push(v),p.push(b),m.push(w)},finalize:()=>{const v=h.typicalFullwidthCharacterWidth/h.typicalHalfwidthCharacterWidth,b=[];for(let w=0,E=l.length;w<E;w++){const I=p[w],M=m[w];M&&!M.injectionOptions&&!I?b[w]=C(this.classifier,M,l[w],r,c,v,o,d):b[w]=s(this.classifier,l[w],I,r,c,v,o,d)}return _.length=0,g.length=0,b}}}}e.MonospaceLineBreaksComputerFactory=S;class f extends k.CharacterClassifier{constructor(h,r){super(0);for(let c=0;c<h.length;c++)this.set(h.charCodeAt(c),1);for(let c=0;c<r.length;c++)this.set(r.charCodeAt(c),2)}get(h){return h>=0&&h<256?this._asciiMap[h]:h>=12352&&h<=12543||h>=13312&&h<=19903||h>=19968&&h<=40959?3:this._map.get(h)||this._defaultValue}}let _=[],g=[];function C(u,h,r,c,o,d,l,p){if(o===-1)return null;const m=r.length;if(m<=1)return null;const v=p==="keepAll",b=h.breakOffsets,w=h.breakOffsetsVisibleColumn,E=a(r,c,o,d,l),I=o-E,M=_,P=g;let x=0,T=0,A=0,N=o;const F=b.length;let O=0;if(O>=0){let W=Math.abs(w[O]-N);for(;O+1<F;){const U=Math.abs(w[O+1]-N);if(U>=W)break;W=U,O++}}for(;O<F;){let W=O<0?0:b[O],U=O<0?0:w[O];T>W&&(W=T,U=A);let j=0,R=0,K=0,G=0;if(U<=N){let J=U,X=W===0?0:r.charCodeAt(W-1),H=W===0?0:u.get(X),B=!0;for(let V=W;V<m;V++){const Y=V,ie=r.charCodeAt(V);let ae,ce;if(L.isHighSurrogate(ie)?(V++,ae=0,ce=2):(ae=u.get(ie),ce=i(ie,J,c,d)),Y>T&&t(X,H,ie,ae,v)&&(j=Y,R=J),J+=ce,J>N){Y>T?(K=Y,G=J-ce):(K=V+1,G=J),J-R>I&&(j=0),B=!1;break}X=ie,H=ae}if(B){x>0&&(M[x]=b[b.length-1],P[x]=w[b.length-1],x++);break}}if(j===0){let J=U,X=r.charCodeAt(W),H=u.get(X),B=!1;for(let V=W-1;V>=T;V--){const Y=V+1,ie=r.charCodeAt(V);if(ie===9){B=!0;break}let ae,ce;if(L.isLowSurrogate(ie)?(V--,ae=0,ce=2):(ae=u.get(ie),ce=L.isFullWidthCharacter(ie)?d:1),J<=N){if(K===0&&(K=Y,G=J),J<=N-I)break;if(t(ie,ae,X,H,v)){j=Y,R=J;break}}J-=ce,X=ie,H=ae}if(j!==0){const V=I-(G-R);if(V<=c){const Y=r.charCodeAt(K);let ie;L.isHighSurrogate(Y)?ie=2:ie=i(Y,G,c,d),V-ie<0&&(j=0)}}if(B){O--;continue}}if(j===0&&(j=K,R=G),j<=T){const J=r.charCodeAt(T);L.isHighSurrogate(J)?(j=T+2,R=A+2):(j=T+1,R=A+i(J,A,c,d))}for(T=j,M[x]=j,A=R,P[x]=R,x++,N=R+I;O<0||O<F&&w[O]<R;)O++;let Z=Math.abs(w[O]-N);for(;O+1<F;){const J=Math.abs(w[O+1]-N);if(J>=Z)break;Z=J,O++}}return x===0?null:(M.length=x,P.length=x,_=h.breakOffsets,g=h.breakOffsetsVisibleColumn,h.breakOffsets=M,h.breakOffsetsVisibleColumn=P,h.wrappedTextIndentLength=E,h)}function s(u,h,r,c,o,d,l,p){const m=y.LineInjectedText.applyInjectedText(h,r);let v,b;if(r&&r.length>0?(v=r.map(R=>R.options),b=r.map(R=>R.column-1)):(v=null,b=null),o===-1)return v?new D.ModelLineProjectionData(b,v,[m.length],[],0):null;const w=m.length;if(w<=1)return v?new D.ModelLineProjectionData(b,v,[m.length],[],0):null;const E=p==="keepAll",I=a(m,c,o,d,l),M=o-I,P=[],x=[];let T=0,A=0,N=0,F=o,O=m.charCodeAt(0),W=u.get(O),U=i(O,0,c,d),j=1;L.isHighSurrogate(O)&&(U+=1,O=m.charCodeAt(1),W=u.get(O),j++);for(let R=j;R<w;R++){const K=R,G=m.charCodeAt(R);let Z,J;L.isHighSurrogate(G)?(R++,Z=0,J=2):(Z=u.get(G),J=i(G,U,c,d)),t(O,W,G,Z,E)&&(A=K,N=U),U+=J,U>F&&((A===0||U-N>M)&&(A=K,N=U-J),P[T]=A,x[T]=N,T++,F=N+M,A=0),O=G,W=Z}return T===0&&(!r||r.length===0)?null:(P[T]=w,x[T]=U,new D.ModelLineProjectionData(b,v,P,x,I))}function i(u,h,r,c){return u===9?r-h%r:L.isFullWidthCharacter(u)||u<32?c:1}function n(u,h){return h-u%h}function t(u,h,r,c,o){return r!==32&&(h===2&&c!==2||h!==1&&c===1||!o&&h===3&&c!==2||!o&&c===3&&h!==1)}function a(u,h,r,c,o){let d=0;if(o!==0){const l=L.firstNonWhitespaceIndex(u);if(l!==-1){for(let m=0;m<l;m++){const v=u.charCodeAt(m)===9?n(d,h):1;d+=v}const p=o===3?2:o===2?1:0;for(let m=0;m<p;m++){const v=n(d,h);d+=v}d+c>r&&(d=0)}}return d}}),define(ne[212],se([1,0]),function(Q,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.OverviewZoneManager=e.OverviewRulerZone=e.ColorZone=void 0;class L{constructor(S,f,_){this._colorZoneBrand=void 0,this.from=S|0,this.to=f|0,this.colorId=_|0}static compare(S,f){return S.colorId===f.colorId?S.from===f.from?S.to-f.to:S.from-f.from:S.colorId-f.colorId}}e.ColorZone=L;class k{constructor(S,f,_,g){this._overviewRulerZoneBrand=void 0,this.startLineNumber=S,this.endLineNumber=f,this.heightInLines=_,this.color=g,this._colorZone=null}static compare(S,f){return S.color===f.color?S.startLineNumber===f.startLineNumber?S.heightInLines===f.heightInLines?S.endLineNumber-f.endLineNumber:S.heightInLines-f.heightInLines:S.startLineNumber-f.startLineNumber:S.color<f.color?-1:1}setColorZone(S){this._colorZone=S}getColorZones(){return this._colorZone}}e.OverviewRulerZone=k;class y{constructor(S){this._getVerticalOffsetForLine=S,this._zones=[],this._colorZonesInvalid=!1,this._lineHeight=0,this._domWidth=0,this._domHeight=0,this._outerHeight=0,this._pixelRatio=1,this._lastAssignedId=0,this._color2Id=Object.create(null),this._id2Color=[]}getId2Color(){return this._id2Color}setZones(S){this._zones=S,this._zones.sort(k.compare)}setLineHeight(S){return this._lineHeight===S?!1:(this._lineHeight=S,this._colorZonesInvalid=!0,!0)}setPixelRatio(S){this._pixelRatio=S,this._colorZonesInvalid=!0}getDOMWidth(){return this._domWidth}getCanvasWidth(){return this._domWidth*this._pixelRatio}setDOMWidth(S){return this._domWidth===S?!1:(this._domWidth=S,this._colorZonesInvalid=!0,!0)}getDOMHeight(){return this._domHeight}getCanvasHeight(){return this._domHeight*this._pixelRatio}setDOMHeight(S){return this._domHeight===S?!1:(this._domHeight=S,this._colorZonesInvalid=!0,!0)}getOuterHeight(){return this._outerHeight}setOuterHeight(S){return this._outerHeight===S?!1:(this._outerHeight=S,this._colorZonesInvalid=!0,!0)}resolveColorZones(){const S=this._colorZonesInvalid,f=Math.floor(this._lineHeight),_=Math.floor(this.getCanvasHeight()),g=Math.floor(this._outerHeight),C=_/g,s=Math.floor(4*this._pixelRatio/2),i=[];for(let n=0,t=this._zones.length;n<t;n++){const a=this._zones[n];if(!S){const v=a.getColorZones();if(v){i.push(v);continue}}const u=this._getVerticalOffsetForLine(a.startLineNumber),h=a.heightInLines===0?this._getVerticalOffsetForLine(a.endLineNumber)+f:u+a.heightInLines*f,r=Math.floor(C*u),c=Math.floor(C*h);let o=Math.floor((r+c)/2),d=c-o;d<s&&(d=s),o-d<0&&(o=d),o+d>_&&(o=_-d);const l=a.color;let p=this._color2Id[l];p||(p=++this._lastAssignedId,this._color2Id[l]=p,this._id2Color[p]=l);const m=new L(o-d,o+d,p);a.setColorZone(m),i.push(m)}return this._colorZonesInvalid=!1,i.sort(L.compare),i}}e.OverviewZoneManager=y}),define(ne[534],se([1,0,35,212,150]),function(Q,e,L,k,y){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.OverviewRuler=void 0;class D extends y.ViewEventHandler{constructor(f,_){super(),this._context=f;const g=this._context.configuration.options;this._domNode=(0,L.createFastDomNode)(document.createElement("canvas")),this._domNode.setClassName(_),this._domNode.setPosition("absolute"),this._domNode.setLayerHinting(!0),this._domNode.setContain("strict"),this._zoneManager=new k.OverviewZoneManager(C=>this._context.viewLayout.getVerticalOffsetForLineNumber(C)),this._zoneManager.setDOMWidth(0),this._zoneManager.setDOMHeight(0),this._zoneManager.setOuterHeight(this._context.viewLayout.getScrollHeight()),this._zoneManager.setLineHeight(g.get(65)),this._zoneManager.setPixelRatio(g.get(140)),this._context.addEventHandler(this)}dispose(){this._context.removeEventHandler(this),super.dispose()}onConfigurationChanged(f){const _=this._context.configuration.options;return f.hasChanged(65)&&(this._zoneManager.setLineHeight(_.get(65)),this._render()),f.hasChanged(140)&&(this._zoneManager.setPixelRatio(_.get(140)),this._domNode.setWidth(this._zoneManager.getDOMWidth()),this._domNode.setHeight(this._zoneManager.getDOMHeight()),this._domNode.domNode.width=this._zoneManager.getCanvasWidth(),this._domNode.domNode.height=this._zoneManager.getCanvasHeight(),this._render()),!0}onFlushed(f){return this._render(),!0}onScrollChanged(f){return f.scrollHeightChanged&&(this._zoneManager.setOuterHeight(f.scrollHeight),this._render()),!0}onZonesChanged(f){return this._render(),!0}getDomNode(){return this._domNode.domNode}setLayout(f){this._domNode.setTop(f.top),this._domNode.setRight(f.right);let _=!1;_=this._zoneManager.setDOMWidth(f.width)||_,_=this._zoneManager.setDOMHeight(f.height)||_,_&&(this._domNode.setWidth(this._zoneManager.getDOMWidth()),this._domNode.setHeight(this._zoneManager.getDOMHeight()),this._domNode.domNode.width=this._zoneManager.getCanvasWidth(),this._domNode.domNode.height=this._zoneManager.getCanvasHeight(),this._render())}setZones(f){this._zoneManager.setZones(f),this._render()}_render(){if(this._zoneManager.getOuterHeight()===0)return!1;const f=this._zoneManager.getCanvasWidth(),_=this._zoneManager.getCanvasHeight(),g=this._zoneManager.resolveColorZones(),C=this._zoneManager.getId2Color(),s=this._domNode.domNode.getContext("2d");return s.clearRect(0,0,f,_),g.length>0&&this._renderOneLane(s,g,C,f),!0}_renderOneLane(f,_,g,C){let s=0,i=0,n=0;for(const t of _){const a=t.colorId,u=t.from,h=t.to;a!==s?(f.fillRect(0,i,C,n-i),s=a,f.fillStyle=g[s],i=u,n=h):n>=u?n=Math.max(n,h):(f.fillRect(0,i,C,n-i),i=u,n=h)}f.fillRect(0,i,C,n-i)}}e.OverviewRuler=D}),define(ne[535],se([1,0,493]),function(Q,e,L){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ViewContext=void 0;class k{constructor(D,S,f){this.configuration=D,this.theme=new L.EditorTheme(S),this.viewModel=f,this.viewLayout=f.viewLayout}addEventHandler(D){this.viewModel.addViewEventHandler(D)}removeEventHandler(D){this.viewModel.removeViewEventHandler(D)}}e.ViewContext=k}),define(ne[213],se([1,0,6,2]),function(Q,e,L,k){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ModelTokensChangedEvent=e.ModelOptionsChangedEvent=e.ModelContentChangedEvent=e.ModelLanguageConfigurationChangedEvent=e.ModelLanguageChangedEvent=e.ModelDecorationsChangedEvent=e.ReadOnlyEditAttemptEvent=e.CursorStateChangedEvent=e.HiddenAreasChangedEvent=e.ViewZonesChangedEvent=e.ScrollChangedEvent=e.FocusChangedEvent=e.ContentSizeChangedEvent=e.ViewModelEventsCollector=e.ViewModelEventDispatcher=void 0;class y extends k.Disposable{constructor(){super(),this._onEvent=this._register(new L.Emitter),this.onEvent=this._onEvent.event,this._eventHandlers=[],this._viewEventQueue=null,this._isConsumingViewEventQueue=!1,this._collector=null,this._collectorCnt=0,this._outgoingEvents=[]}emitOutgoingEvent(o){this._addOutgoingEvent(o),this._emitOutgoingEvents()}_addOutgoingEvent(o){for(let d=0,l=this._outgoingEvents.length;d<l;d++){const p=this._outgoingEvents[d].kind===o.kind?this._outgoingEvents[d].attemptToMerge(o):null;if(p){this._outgoingEvents[d]=p;return}}this._outgoingEvents.push(o)}_emitOutgoingEvents(){for(;this._outgoingEvents.length>0;){if(this._collector||this._isConsumingViewEventQueue)return;const o=this._outgoingEvents.shift();o.isNoOp()||this._onEvent.fire(o)}}addViewEventHandler(o){for(let d=0,l=this._eventHandlers.length;d<l;d++)this._eventHandlers[d]===o&&console.warn("Detected duplicate listener in ViewEventDispatcher",o);this._eventHandlers.push(o)}removeViewEventHandler(o){for(let d=0;d<this._eventHandlers.length;d++)if(this._eventHandlers[d]===o){this._eventHandlers.splice(d,1);break}}beginEmitViewEvents(){return this._collectorCnt++,this._collectorCnt===1&&(this._collector=new D),this._collector}endEmitViewEvents(){if(this._collectorCnt--,this._collectorCnt===0){const o=this._collector.outgoingEvents,d=this._collector.viewEvents;this._collector=null;for(const l of o)this._addOutgoingEvent(l);d.length>0&&this._emitMany(d)}this._emitOutgoingEvents()}emitSingleViewEvent(o){try{this.beginEmitViewEvents().emitViewEvent(o)}finally{this.endEmitViewEvents()}}_emitMany(o){this._viewEventQueue?this._viewEventQueue=this._viewEventQueue.concat(o):this._viewEventQueue=o,this._isConsumingViewEventQueue||this._consumeViewEventQueue()}_consumeViewEventQueue(){try{this._isConsumingViewEventQueue=!0,this._doConsumeQueue()}finally{this._isConsumingViewEventQueue=!1}}_doConsumeQueue(){for(;this._viewEventQueue;){const o=this._viewEventQueue;this._viewEventQueue=null;const d=this._eventHandlers.slice(0);for(const l of d)l.handleEvents(o)}}}e.ViewModelEventDispatcher=y;class D{constructor(){this.viewEvents=[],this.outgoingEvents=[]}emitViewEvent(o){this.viewEvents.push(o)}emitOutgoingEvent(o){this.outgoingEvents.push(o)}}e.ViewModelEventsCollector=D;class S{constructor(o,d,l,p){this.kind=0,this._oldContentWidth=o,this._oldContentHeight=d,this.contentWidth=l,this.contentHeight=p,this.contentWidthChanged=this._oldContentWidth!==this.contentWidth,this.contentHeightChanged=this._oldContentHeight!==this.contentHeight}isNoOp(){return!this.contentWidthChanged&&!this.contentHeightChanged}attemptToMerge(o){return o.kind!==this.kind?null:new S(this._oldContentWidth,this._oldContentHeight,o.contentWidth,o.contentHeight)}}e.ContentSizeChangedEvent=S;class f{constructor(o,d){this.kind=1,this.oldHasFocus=o,this.hasFocus=d}isNoOp(){return this.oldHasFocus===this.hasFocus}attemptToMerge(o){return o.kind!==this.kind?null:new f(this.oldHasFocus,o.hasFocus)}}e.FocusChangedEvent=f;class _{constructor(o,d,l,p,m,v,b,w){this.kind=2,this._oldScrollWidth=o,this._oldScrollLeft=d,this._oldScrollHeight=l,this._oldScrollTop=p,this.scrollWidth=m,this.scrollLeft=v,this.scrollHeight=b,this.scrollTop=w,this.scrollWidthChanged=this._oldScrollWidth!==this.scrollWidth,this.scrollLeftChanged=this._oldScrollLeft!==this.scrollLeft,this.scrollHeightChanged=this._oldScrollHeight!==this.scrollHeight,this.scrollTopChanged=this._oldScrollTop!==this.scrollTop}isNoOp(){return!this.scrollWidthChanged&&!this.scrollLeftChanged&&!this.scrollHeightChanged&&!this.scrollTopChanged}attemptToMerge(o){return o.kind!==this.kind?null:new _(this._oldScrollWidth,this._oldScrollLeft,this._oldScrollHeight,this._oldScrollTop,o.scrollWidth,o.scrollLeft,o.scrollHeight,o.scrollTop)}}e.ScrollChangedEvent=_;class g{constructor(){this.kind=3}isNoOp(){return!1}attemptToMerge(o){return o.kind!==this.kind?null:this}}e.ViewZonesChangedEvent=g;class C{constructor(){this.kind=4}isNoOp(){return!1}attemptToMerge(o){return o.kind!==this.kind?null:this}}e.HiddenAreasChangedEvent=C;class s{constructor(o,d,l,p,m,v,b){this.kind=6,this.oldSelections=o,this.selections=d,this.oldModelVersionId=l,this.modelVersionId=p,this.source=m,this.reason=v,this.reachedMaxCursorCount=b}static _selectionsAreEqual(o,d){if(!o&&!d)return!0;if(!o||!d)return!1;const l=o.length,p=d.length;if(l!==p)return!1;for(let m=0;m<l;m++)if(!o[m].equalsSelection(d[m]))return!1;return!0}isNoOp(){return s._selectionsAreEqual(this.oldSelections,this.selections)&&this.oldModelVersionId===this.modelVersionId}attemptToMerge(o){return o.kind!==this.kind?null:new s(this.oldSelections,o.selections,this.oldModelVersionId,o.modelVersionId,o.source,o.reason,this.reachedMaxCursorCount||o.reachedMaxCursorCount)}}e.CursorStateChangedEvent=s;class i{constructor(){this.kind=5}isNoOp(){return!1}attemptToMerge(o){return o.kind!==this.kind?null:this}}e.ReadOnlyEditAttemptEvent=i;class n{constructor(o){this.event=o,this.kind=7}isNoOp(){return!1}attemptToMerge(o){return null}}e.ModelDecorationsChangedEvent=n;class t{constructor(o){this.event=o,this.kind=8}isNoOp(){return!1}attemptToMerge(o){return null}}e.ModelLanguageChangedEvent=t;class a{constructor(o){this.event=o,this.kind=9}isNoOp(){return!1}attemptToMerge(o){return null}}e.ModelLanguageConfigurationChangedEvent=a;class u{constructor(o){this.event=o,this.kind=10}isNoOp(){return!1}attemptToMerge(o){return null}}e.ModelContentChangedEvent=u;class h{constructor(o){this.event=o,this.kind=11}isNoOp(){return!1}attemptToMerge(o){return null}}e.ModelOptionsChangedEvent=h;class r{constructor(o){this.event=o,this.kind=12}isNoOp(){return!1}attemptToMerge(o){return null}}e.ModelTokensChangedEvent=r}),define(ne[536],se([1,0,6,2,167,530,67,213]),function(Q,e,L,k,y,D,S,f){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ViewLayout=void 0;const _=125;class g{constructor(n,t,a,u){n=n|0,t=t|0,a=a|0,u=u|0,n<0&&(n=0),t<0&&(t=0),a<0&&(a=0),u<0&&(u=0),this.width=n,this.contentWidth=t,this.scrollWidth=Math.max(n,t),this.height=a,this.contentHeight=u,this.scrollHeight=Math.max(a,u)}equals(n){return this.width===n.width&&this.contentWidth===n.contentWidth&&this.height===n.height&&this.contentHeight===n.contentHeight}}class C extends k.Disposable{constructor(n,t){super(),this._onDidContentSizeChange=this._register(new L.Emitter),this.onDidContentSizeChange=this._onDidContentSizeChange.event,this._dimensions=new g(0,0,0,0),this._scrollable=this._register(new y.Scrollable({forceIntegerValues:!0,smoothScrollDuration:n,scheduleAtNextAnimationFrame:t})),this.onDidScroll=this._scrollable.onScroll}getScrollable(){return this._scrollable}setSmoothScrollDuration(n){this._scrollable.setSmoothScrollDuration(n)}validateScrollPosition(n){return this._scrollable.validateScrollPosition(n)}getScrollDimensions(){return this._dimensions}setScrollDimensions(n){if(this._dimensions.equals(n))return;const t=this._dimensions;this._dimensions=n,this._scrollable.setScrollDimensions({width:n.width,scrollWidth:n.scrollWidth,height:n.height,scrollHeight:n.scrollHeight},!0);const a=t.contentWidth!==n.contentWidth,u=t.contentHeight!==n.contentHeight;(a||u)&&this._onDidContentSizeChange.fire(new f.ContentSizeChangedEvent(t.contentWidth,t.contentHeight,n.contentWidth,n.contentHeight))}getFutureScrollPosition(){return this._scrollable.getFutureScrollPosition()}getCurrentScrollPosition(){return this._scrollable.getCurrentScrollPosition()}setScrollPositionNow(n){this._scrollable.setScrollPositionNow(n)}setScrollPositionSmooth(n){this._scrollable.setScrollPositionSmooth(n)}hasPendingScrollAnimation(){return this._scrollable.hasPendingScrollAnimation()}}class s extends k.Disposable{constructor(n,t,a){super(),this._configuration=n;const u=this._configuration.options,h=u.get(142),r=u.get(82);this._linesLayout=new D.LinesLayout(t,u.get(65),r.top,r.bottom),this._maxLineWidth=0,this._overlayWidgetsMinWidth=0,this._scrollable=this._register(new C(0,a)),this._configureSmoothScrollDuration(),this._scrollable.setScrollDimensions(new g(h.contentWidth,0,h.height,0)),this.onDidScroll=this._scrollable.onDidScroll,this.onDidContentSizeChange=this._scrollable.onDidContentSizeChange,this._updateHeight()}dispose(){super.dispose()}getScrollable(){return this._scrollable.getScrollable()}onHeightMaybeChanged(){this._updateHeight()}_configureSmoothScrollDuration(){this._scrollable.setSmoothScrollDuration(this._configuration.options.get(112)?_:0)}onConfigurationChanged(n){const t=this._configuration.options;if(n.hasChanged(65)&&this._linesLayout.setLineHeight(t.get(65)),n.hasChanged(82)){const a=t.get(82);this._linesLayout.setPadding(a.top,a.bottom)}if(n.hasChanged(142)){const a=t.get(142),u=a.contentWidth,h=a.height,r=this._scrollable.getScrollDimensions(),c=r.contentWidth;this._scrollable.setScrollDimensions(new g(u,r.contentWidth,h,this._getContentHeight(u,h,c)))}else this._updateHeight();n.hasChanged(112)&&this._configureSmoothScrollDuration()}onFlushed(n){this._linesLayout.onFlushed(n)}onLinesDeleted(n,t){this._linesLayout.onLinesDeleted(n,t)}onLinesInserted(n,t){this._linesLayout.onLinesInserted(n,t)}_getHorizontalScrollbarHeight(n,t){const u=this._configuration.options.get(101);return u.horizontal===2||n>=t?0:u.horizontalScrollbarSize}_getContentHeight(n,t,a){const u=this._configuration.options;let h=this._linesLayout.getLinesTotalHeight();return u.get(103)?h+=Math.max(0,t-u.get(65)-u.get(82).bottom):h+=this._getHorizontalScrollbarHeight(n,a),h}_updateHeight(){const n=this._scrollable.getScrollDimensions(),t=n.width,a=n.height,u=n.contentWidth;this._scrollable.setScrollDimensions(new g(t,n.contentWidth,a,this._getContentHeight(t,a,u)))}getCurrentViewport(){const n=this._scrollable.getScrollDimensions(),t=this._scrollable.getCurrentScrollPosition();return new S.Viewport(t.scrollTop,t.scrollLeft,n.width,n.height)}getFutureViewport(){const n=this._scrollable.getScrollDimensions(),t=this._scrollable.getFutureScrollPosition();return new S.Viewport(t.scrollTop,t.scrollLeft,n.width,n.height)}_computeContentWidth(){const n=this._configuration.options,t=this._maxLineWidth,a=n.get(143),u=n.get(49),h=n.get(142);if(a.isViewportWrapping){const r=n.get(71);return t>h.contentWidth+u.typicalHalfwidthCharacterWidth&&r.enabled&&r.side==="right"?t+h.verticalScrollbarWidth:t}else{const r=n.get(102)*u.typicalHalfwidthCharacterWidth,c=this._linesLayout.getWhitespaceMinWidth();return Math.max(t+r+h.verticalScrollbarWidth,c,this._overlayWidgetsMinWidth)}}setMaxLineWidth(n){this._maxLineWidth=n,this._updateContentWidth()}setOverlayWidgetsMinWidth(n){this._overlayWidgetsMinWidth=n,this._updateContentWidth()}_updateContentWidth(){const n=this._scrollable.getScrollDimensions();this._scrollable.setScrollDimensions(new g(n.width,this._computeContentWidth(),n.height,n.contentHeight)),this._updateHeight()}saveState(){const n=this._scrollable.getFutureScrollPosition(),t=n.scrollTop,a=this._linesLayout.getLineNumberAtOrAfterVerticalOffset(t),u=this._linesLayout.getWhitespaceAccumulatedHeightBeforeLineNumber(a);return{scrollTop:t,scrollTopWithoutViewZones:t-u,scrollLeft:n.scrollLeft}}changeWhitespace(n){const t=this._linesLayout.changeWhitespace(n);return t&&this.onHeightMaybeChanged(),t}getVerticalOffsetForLineNumber(n,t=!1){return this._linesLayout.getVerticalOffsetForLineNumber(n,t)}getVerticalOffsetAfterLineNumber(n,t=!1){return this._linesLayout.getVerticalOffsetAfterLineNumber(n,t)}isAfterLines(n){return this._linesLayout.isAfterLines(n)}isInTopPadding(n){return this._linesLayout.isInTopPadding(n)}isInBottomPadding(n){return this._linesLayout.isInBottomPadding(n)}getLineNumberAtVerticalOffset(n){return this._linesLayout.getLineNumberAtOrAfterVerticalOffset(n)}getWhitespaceAtVerticalOffset(n){return this._linesLayout.getWhitespaceAtVerticalOffset(n)}getLinesViewportData(){const n=this.getCurrentViewport();return this._linesLayout.getLinesViewportData(n.top,n.top+n.height)}getLinesViewportDataAtScrollTop(n){const t=this._scrollable.getScrollDimensions();return n+t.height>t.scrollHeight&&(n=t.scrollHeight-t.height),n<0&&(n=0),this._linesLayout.getLinesViewportData(n,n+t.height)}getWhitespaceViewportData(){const n=this.getCurrentViewport();return this._linesLayout.getWhitespaceViewportData(n.top,n.top+n.height)}getWhitespaces(){return this._linesLayout.getWhitespaces()}getContentWidth(){return this._scrollable.getScrollDimensions().contentWidth}getScrollWidth(){return this._scrollable.getScrollDimensions().scrollWidth}getContentHeight(){return this._scrollable.getScrollDimensions().contentHeight}getScrollHeight(){return this._scrollable.getScrollDimensions().scrollHeight}getCurrentScrollLeft(){return this._scrollable.getCurrentScrollPosition().scrollLeft}getCurrentScrollTop(){return this._scrollable.getCurrentScrollPosition().scrollTop}validateScrollPosition(n){return this._scrollable.validateScrollPosition(n)}setScrollPosition(n,t){t===1?this._scrollable.setScrollPositionNow(n):this._scrollable.setScrollPositionSmooth(n)}hasPendingScrollAnimation(){return this._scrollable.hasPendingScrollAnimation()}deltaScrollNow(n,t){const a=this._scrollable.getCurrentScrollPosition();this._scrollable.setScrollPositionNow({scrollLeft:a.scrollLeft+n,scrollTop:a.scrollTop+t})}}e.ViewLayout=s}),define(ne[537],se([1,0,5,24]),function(Q,e,L,k){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.MoveCaretCommand=void 0;class y{constructor(S,f){this._selection=S,this._isMovingLeft=f}getEditOperations(S,f){if(this._selection.startLineNumber!==this._selection.endLineNumber||this._selection.isEmpty())return;const _=this._selection.startLineNumber,g=this._selection.startColumn,C=this._selection.endColumn;if(!(this._isMovingLeft&&g===1)&&!(!this._isMovingLeft&&C===S.getLineMaxColumn(_)))if(this._isMovingLeft){const s=new L.Range(_,g-1,_,g),i=S.getValueInRange(s);f.addEditOperation(s,null),f.addEditOperation(new L.Range(_,C,_,C),i)}else{const s=new L.Range(_,C,_,C+1),i=S.getValueInRange(s);f.addEditOperation(s,null),f.addEditOperation(new L.Range(_,g,_,g),i)}}computeCursorState(S,f){return this._isMovingLeft?new k.Selection(this._selection.startLineNumber,this._selection.startColumn-1,this._selection.endLineNumber,this._selection.endColumn-1):new k.Selection(this._selection.startLineNumber,this._selection.startColumn+1,this._selection.endLineNumber,this._selection.endColumn+1)}}e.MoveCaretCommand=y}),define(ne[113],se([1,0,9]),function(Q,e,L){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.CodeActionItem=e.CodeActionCommandArgs=e.filtersAction=e.mayIncludeActionsOfKind=e.CodeActionTriggerSource=e.CodeActionKind=void 0;class k{constructor(s){this.value=s}equals(s){return this.value===s.value}contains(s){return this.equals(s)||this.value===""||s.value.startsWith(this.value+k.sep)}intersects(s){return this.contains(s)||s.contains(this)}append(s){return new k(this.value+k.sep+s)}}e.CodeActionKind=k,k.sep=".",k.None=new k("@@none@@"),k.Empty=new k(""),k.QuickFix=new k("quickfix"),k.Refactor=new k("refactor"),k.RefactorExtract=k.Refactor.append("extract"),k.RefactorInline=k.Refactor.append("inline"),k.RefactorMove=k.Refactor.append("move"),k.RefactorRewrite=k.Refactor.append("rewrite"),k.Source=new k("source"),k.SourceOrganizeImports=k.Source.append("organizeImports"),k.SourceFixAll=k.Source.append("fixAll"),k.SurroundWith=k.Refactor.append("surround");var y;(function(C){C.Refactor="refactor",C.RefactorPreview="refactor preview",C.Lightbulb="lightbulb",C.Default="other (default)",C.SourceAction="source action",C.QuickFix="quick fix action",C.FixAll="fix all",C.OrganizeImports="organize imports",C.AutoFix="auto fix",C.QuickFixHover="quick fix hover window",C.OnSave="save participants",C.ProblemsView="problems view"})(y||(e.CodeActionTriggerSource=y={}));function D(C,s){return!(C.include&&!C.include.intersects(s)||C.excludes&&C.excludes.some(i=>f(s,i,C.include))||!C.includeSourceActions&&k.Source.contains(s))}e.mayIncludeActionsOfKind=D;function S(C,s){const i=s.kind?new k(s.kind):void 0;return!(C.include&&(!i||!C.include.contains(i))||C.excludes&&i&&C.excludes.some(n=>f(i,n,C.include))||!C.includeSourceActions&&i&&k.Source.contains(i)||C.onlyIncludePreferredActions&&!s.isPreferred)}e.filtersAction=S;function f(C,s,i){return!(!s.contains(C)||i&&s.contains(i))}class _{static fromUser(s,i){return!s||typeof s!="object"?new _(i.kind,i.apply,!1):new _(_.getKindFromUser(s,i.kind),_.getApplyFromUser(s,i.apply),_.getPreferredUser(s))}static getApplyFromUser(s,i){switch(typeof s.apply=="string"?s.apply.toLowerCase():""){case"first":return"first";case"never":return"never";case"ifsingle":return"ifSingle";default:return i}}static getKindFromUser(s,i){return typeof s.kind=="string"?new k(s.kind):i}static getPreferredUser(s){return typeof s.preferred=="boolean"?s.preferred:!1}constructor(s,i,n){this.kind=s,this.apply=i,this.preferred=n}}e.CodeActionCommandArgs=_;class g{constructor(s,i){this.action=s,this.provider=i}resolve(s){var i;return we(this,void 0,void 0,function*(){if(!((i=this.provider)===null||i===void 0)&&i.resolveCodeAction&&!this.action.edit){let n;try{n=yield this.provider.resolveCodeAction(this.action,s)}catch(t){(0,L.onUnexpectedExternalError)(t)}n&&(this.action.edit=n.edit)}return this})}}e.CodeActionItem=g}),define(ne[538],se([1,0,6]),function(Q,e,L){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ColorPickerModel=void 0;class k{get color(){return this._color}set color(D){this._color.equals(D)||(this._color=D,this._onDidChangeColor.fire(D))}get presentation(){return this.colorPresentations[this.presentationIndex]}get colorPresentations(){return this._colorPresentations}set colorPresentations(D){this._colorPresentations=D,this.presentationIndex>D.length-1&&(this.presentationIndex=0),this._onDidChangePresentation.fire(this.presentation)}constructor(D,S,f){this.presentationIndex=f,this._onColorFlushed=new L.Emitter,this.onColorFlushed=this._onColorFlushed.event,this._onDidChangeColor=new L.Emitter,this.onDidChangeColor=this._onDidChangeColor.event,this._onDidChangePresentation=new L.Emitter,this.onDidChangePresentation=this._onDidChangePresentation.event,this.originalColor=D,this._color=D,this._colorPresentations=S}selectNextColorPresentation(){this.presentationIndex=(this.presentationIndex+1)%this.colorPresentations.length,this.flushColor(),this._onDidChangePresentation.fire(this.presentation)}guessColorPresentation(D,S){let f=-1;for(let _=0;_<this.colorPresentations.length;_++)if(S.toLowerCase()===this.colorPresentations[_].label){f=_;break}if(f===-1){const _=S.split("(")[0].toLowerCase();for(let g=0;g<this.colorPresentations.length;g++)if(this.colorPresentations[g].label.toLowerCase().startsWith(_)){f=g;break}}f!==-1&&f!==this.presentationIndex&&(this.presentationIndex=f,this._onDidChangePresentation.fire(this.presentation))}flushColor(){this._onColorFlushed.fire(this._color)}}e.ColorPickerModel=k}),define(ne[290],se([1,0,73,12,5,24]),function(Q,e,L,k,y,D){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.BlockCommentCommand=void 0;class S{constructor(_,g,C){this.languageConfigurationService=C,this._selection=_,this._insertSpace=g,this._usedEndToken=null}static _haystackHasNeedleAtOffset(_,g,C){if(C<0)return!1;const s=g.length,i=_.length;if(C+s>i)return!1;for(let n=0;n<s;n++){const t=_.charCodeAt(C+n),a=g.charCodeAt(n);if(t!==a&&!(t>=65&&t<=90&&t+32===a)&&!(a>=65&&a<=90&&a+32===t))return!1}return!0}_createOperationsForBlockComment(_,g,C,s,i,n){const t=_.startLineNumber,a=_.startColumn,u=_.endLineNumber,h=_.endColumn,r=i.getLineContent(t),c=i.getLineContent(u);let o=r.lastIndexOf(g,a-1+g.length),d=c.indexOf(C,h-1-C.length);if(o!==-1&&d!==-1)if(t===u)r.substring(o+g.length,d).indexOf(C)>=0&&(o=-1,d=-1);else{const p=r.substring(o+g.length),m=c.substring(0,d);(p.indexOf(C)>=0||m.indexOf(C)>=0)&&(o=-1,d=-1)}let l;o!==-1&&d!==-1?(s&&o+g.length<r.length&&r.charCodeAt(o+g.length)===32&&(g=g+" "),s&&d>0&&c.charCodeAt(d-1)===32&&(C=" "+C,d-=1),l=S._createRemoveBlockCommentOperations(new y.Range(t,o+g.length+1,u,d+1),g,C)):(l=S._createAddBlockCommentOperations(_,g,C,this._insertSpace),this._usedEndToken=l.length===1?C:null);for(const p of l)n.addTrackedEditOperation(p.range,p.text)}static _createRemoveBlockCommentOperations(_,g,C){const s=[];return y.Range.isEmpty(_)?s.push(L.EditOperation.delete(new y.Range(_.startLineNumber,_.startColumn-g.length,_.endLineNumber,_.endColumn+C.length))):(s.push(L.EditOperation.delete(new y.Range(_.startLineNumber,_.startColumn-g.length,_.startLineNumber,_.startColumn))),s.push(L.EditOperation.delete(new y.Range(_.endLineNumber,_.endColumn,_.endLineNumber,_.endColumn+C.length)))),s}static _createAddBlockCommentOperations(_,g,C,s){const i=[];return y.Range.isEmpty(_)?i.push(L.EditOperation.replace(new y.Range(_.startLineNumber,_.startColumn,_.endLineNumber,_.endColumn),g+"  "+C)):(i.push(L.EditOperation.insert(new k.Position(_.startLineNumber,_.startColumn),g+(s?" ":""))),i.push(L.EditOperation.insert(new k.Position(_.endLineNumber,_.endColumn),(s?" ":"")+C))),i}getEditOperations(_,g){const C=this._selection.startLineNumber,s=this._selection.startColumn;_.tokenization.tokenizeIfCheap(C);const i=_.getLanguageIdAtPosition(C,s),n=this.languageConfigurationService.getLanguageConfiguration(i).comments;!n||!n.blockCommentStartToken||!n.blockCommentEndToken||this._createOperationsForBlockComment(this._selection,n.blockCommentStartToken,n.blockCommentEndToken,this._insertSpace,_,g)}computeCursorState(_,g){const C=g.getInverseEditOperations();if(C.length===2){const s=C[0],i=C[1];return new D.Selection(s.range.endLineNumber,s.range.endColumn,i.range.startLineNumber,i.range.startColumn)}else{const s=C[0].range,i=this._usedEndToken?-this._usedEndToken.length-1:0;return new D.Selection(s.endLineNumber,s.endColumn+i,s.endLineNumber,s.endColumn+i)}}}e.BlockCommentCommand=S}),define(ne[539],se([1,0,11,73,12,5,24,290]),function(Q,e,L,k,y,D,S,f){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.LineCommentCommand=void 0;class _{constructor(C,s,i,n,t,a,u){this.languageConfigurationService=C,this._selection=s,this._tabSize=i,this._type=n,this._insertSpace=t,this._selectionId=null,this._deltaColumn=0,this._moveEndPositionDown=!1,this._ignoreEmptyLines=a,this._ignoreFirstLine=u||!1}static _gatherPreflightCommentStrings(C,s,i,n){C.tokenization.tokenizeIfCheap(s);const t=C.getLanguageIdAtPosition(s,1),a=n.getLanguageConfiguration(t).comments,u=a?a.lineCommentToken:null;if(!u)return null;const h=[];for(let r=0,c=i-s+1;r<c;r++)h[r]={ignore:!1,commentStr:u,commentStrOffset:0,commentStrLength:u.length};return h}static _analyzeLines(C,s,i,n,t,a,u,h){let r=!0,c;C===0?c=!0:C===1?c=!1:c=!0;for(let o=0,d=n.length;o<d;o++){const l=n[o],p=t+o;if(p===t&&u){l.ignore=!0;continue}const m=i.getLineContent(p),v=L.firstNonWhitespaceIndex(m);if(v===-1){l.ignore=a,l.commentStrOffset=m.length;continue}if(r=!1,l.ignore=!1,l.commentStrOffset=v,c&&!f.BlockCommentCommand._haystackHasNeedleAtOffset(m,l.commentStr,v)&&(C===0?c=!1:C===1||(l.ignore=!0)),c&&s){const b=v+l.commentStrLength;b<m.length&&m.charCodeAt(b)===32&&(l.commentStrLength+=1)}}if(C===0&&r){c=!1;for(let o=0,d=n.length;o<d;o++)n[o].ignore=!1}return{supported:!0,shouldRemoveComments:c,lines:n}}static _gatherPreflightData(C,s,i,n,t,a,u,h){const r=_._gatherPreflightCommentStrings(i,n,t,h);return r===null?{supported:!1}:_._analyzeLines(C,s,i,r,n,a,u,h)}_executeLineComments(C,s,i,n){let t;i.shouldRemoveComments?t=_._createRemoveLineCommentsOperations(i.lines,n.startLineNumber):(_._normalizeInsertionPoint(C,i.lines,n.startLineNumber,this._tabSize),t=this._createAddLineCommentsOperations(i.lines,n.startLineNumber));const a=new y.Position(n.positionLineNumber,n.positionColumn);for(let u=0,h=t.length;u<h;u++)s.addEditOperation(t[u].range,t[u].text),D.Range.isEmpty(t[u].range)&&D.Range.getStartPosition(t[u].range).equals(a)&&C.getLineContent(a.lineNumber).length+1===a.column&&(this._deltaColumn=(t[u].text||"").length);this._selectionId=s.trackSelection(n)}_attemptRemoveBlockComment(C,s,i,n){let t=s.startLineNumber,a=s.endLineNumber;const u=n.length+Math.max(C.getLineFirstNonWhitespaceColumn(s.startLineNumber),s.startColumn);let h=C.getLineContent(t).lastIndexOf(i,u-1),r=C.getLineContent(a).indexOf(n,s.endColumn-1-i.length);return h!==-1&&r===-1&&(r=C.getLineContent(t).indexOf(n,h+i.length),a=t),h===-1&&r!==-1&&(h=C.getLineContent(a).lastIndexOf(i,r),t=a),s.isEmpty()&&(h===-1||r===-1)&&(h=C.getLineContent(t).indexOf(i),h!==-1&&(r=C.getLineContent(t).indexOf(n,h+i.length))),h!==-1&&C.getLineContent(t).charCodeAt(h+i.length)===32&&(i+=" "),r!==-1&&C.getLineContent(a).charCodeAt(r-1)===32&&(n=" "+n,r-=1),h!==-1&&r!==-1?f.BlockCommentCommand._createRemoveBlockCommentOperations(new D.Range(t,h+i.length+1,a,r+1),i,n):null}_executeBlockComment(C,s,i){C.tokenization.tokenizeIfCheap(i.startLineNumber);const n=C.getLanguageIdAtPosition(i.startLineNumber,1),t=this.languageConfigurationService.getLanguageConfiguration(n).comments;if(!t||!t.blockCommentStartToken||!t.blockCommentEndToken)return;const a=t.blockCommentStartToken,u=t.blockCommentEndToken;let h=this._attemptRemoveBlockComment(C,i,a,u);if(!h){if(i.isEmpty()){const r=C.getLineContent(i.startLineNumber);let c=L.firstNonWhitespaceIndex(r);c===-1&&(c=r.length),h=f.BlockCommentCommand._createAddBlockCommentOperations(new D.Range(i.startLineNumber,c+1,i.startLineNumber,r.length+1),a,u,this._insertSpace)}else h=f.BlockCommentCommand._createAddBlockCommentOperations(new D.Range(i.startLineNumber,C.getLineFirstNonWhitespaceColumn(i.startLineNumber),i.endLineNumber,C.getLineMaxColumn(i.endLineNumber)),a,u,this._insertSpace);h.length===1&&(this._deltaColumn=a.length+1)}this._selectionId=s.trackSelection(i);for(const r of h)s.addEditOperation(r.range,r.text)}getEditOperations(C,s){let i=this._selection;if(this._moveEndPositionDown=!1,i.startLineNumber===i.endLineNumber&&this._ignoreFirstLine){s.addEditOperation(new D.Range(i.startLineNumber,C.getLineMaxColumn(i.startLineNumber),i.startLineNumber+1,1),i.startLineNumber===C.getLineCount()?"":`
`),this._selectionId=s.trackSelection(i);return}i.startLineNumber<i.endLineNumber&&i.endColumn===1&&(this._moveEndPositionDown=!0,i=i.setEndPosition(i.endLineNumber-1,C.getLineMaxColumn(i.endLineNumber-1)));const n=_._gatherPreflightData(this._type,this._insertSpace,C,i.startLineNumber,i.endLineNumber,this._ignoreEmptyLines,this._ignoreFirstLine,this.languageConfigurationService);return n.supported?this._executeLineComments(C,s,n,i):this._executeBlockComment(C,s,i)}computeCursorState(C,s){let i=s.getTrackedSelection(this._selectionId);return this._moveEndPositionDown&&(i=i.setEndPosition(i.endLineNumber+1,1)),new S.Selection(i.selectionStartLineNumber,i.selectionStartColumn+this._deltaColumn,i.positionLineNumber,i.positionColumn+this._deltaColumn)}static _createRemoveLineCommentsOperations(C,s){const i=[];for(let n=0,t=C.length;n<t;n++){const a=C[n];a.ignore||i.push(k.EditOperation.delete(new D.Range(s+n,a.commentStrOffset+1,s+n,a.commentStrOffset+a.commentStrLength+1)))}return i}_createAddLineCommentsOperations(C,s){const i=[],n=this._insertSpace?" ":"";for(let t=0,a=C.length;t<a;t++){const u=C[t];u.ignore||i.push(k.EditOperation.insert(new y.Position(s+t,u.commentStrOffset+1),u.commentStr+n))}return i}static nextVisibleColumn(C,s,i,n){return i?C+(s-C%s):C+n}static _normalizeInsertionPoint(C,s,i,n){let t=1073741824,a,u;for(let h=0,r=s.length;h<r;h++){if(s[h].ignore)continue;const c=C.getLineContent(i+h);let o=0;for(let d=0,l=s[h].commentStrOffset;o<t&&d<l;d++)o=_.nextVisibleColumn(o,n,c.charCodeAt(d)===9,1);o<t&&(t=o)}t=Math.floor(t/n)*n;for(let h=0,r=s.length;h<r;h++){if(s[h].ignore)continue;const c=C.getLineContent(i+h);let o=0;for(a=0,u=s[h].commentStrOffset;o<t&&a<u;a++)o=_.nextVisibleColumn(o,n,c.charCodeAt(a)===9,1);o>t?s[h].commentStrOffset=a-1:s[h].commentStrOffset=a}}}e.LineCommentCommand=_}),define(ne[540],se([1,0,5,24]),function(Q,e,L,k){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.DragAndDropCommand=void 0;class y{constructor(S,f,_){this.selection=S,this.targetPosition=f,this.copy=_,this.targetSelection=null}getEditOperations(S,f){const _=S.getValueInRange(this.selection);if(this.copy||f.addEditOperation(this.selection,null),f.addEditOperation(new L.Range(this.targetPosition.lineNumber,this.targetPosition.column,this.targetPosition.lineNumber,this.targetPosition.column),_),this.selection.containsPosition(this.targetPosition)&&!(this.copy&&(this.selection.getEndPosition().equals(this.targetPosition)||this.selection.getStartPosition().equals(this.targetPosition)))){this.targetSelection=this.selection;return}if(this.copy){this.targetSelection=new k.Selection(this.targetPosition.lineNumber,this.targetPosition.column,this.selection.endLineNumber-this.selection.startLineNumber+this.targetPosition.lineNumber,this.selection.startLineNumber===this.selection.endLineNumber?this.targetPosition.column+this.selection.endColumn-this.selection.startColumn:this.selection.endColumn);return}if(this.targetPosition.lineNumber>this.selection.endLineNumber){this.targetSelection=new k.Selection(this.targetPosition.lineNumber-this.selection.endLineNumber+this.selection.startLineNumber,this.targetPosition.column,this.targetPosition.lineNumber,this.selection.startLineNumber===this.selection.endLineNumber?this.targetPosition.column+this.selection.endColumn-this.selection.startColumn:this.selection.endColumn);return}if(this.targetPosition.lineNumber<this.selection.endLineNumber){this.targetSelection=new k.Selection(this.targetPosition.lineNumber,this.targetPosition.column,this.targetPosition.lineNumber+this.selection.endLineNumber-this.selection.startLineNumber,this.selection.startLineNumber===this.selection.endLineNumber?this.targetPosition.column+this.selection.endColumn-this.selection.startColumn:this.selection.endColumn);return}this.selection.endColumn<=this.targetPosition.column?this.targetSelection=new k.Selection(this.targetPosition.lineNumber-this.selection.endLineNumber+this.selection.startLineNumber,this.selection.startLineNumber===this.selection.endLineNumber?this.targetPosition.column-this.selection.endColumn+this.selection.startColumn:this.targetPosition.column-this.selection.endColumn+this.selection.startColumn,this.targetPosition.lineNumber,this.selection.startLineNumber===this.selection.endLineNumber?this.targetPosition.column:this.selection.endColumn):this.targetSelection=new k.Selection(this.targetPosition.lineNumber-this.selection.endLineNumber+this.selection.startLineNumber,this.targetPosition.column,this.targetPosition.lineNumber,this.targetPosition.column+this.selection.endColumn-this.selection.startColumn)}computeCursorState(S,f){return this.targetSelection}}e.DragAndDropCommand=y}),define(ne[541],se([1,0,5]),function(Q,e,L){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ReplaceAllCommand=void 0;class k{constructor(D,S,f){this._editorSelection=D,this._ranges=S,this._replaceStrings=f,this._trackedEditorSelectionId=null}getEditOperations(D,S){if(this._ranges.length>0){const f=[];for(let C=0;C<this._ranges.length;C++)f.push({range:this._ranges[C],text:this._replaceStrings[C]});f.sort((C,s)=>L.Range.compareRangesUsingStarts(C.range,s.range));const _=[];let g=f[0];for(let C=1;C<f.length;C++)g.range.endLineNumber===f[C].range.startLineNumber&&g.range.endColumn===f[C].range.startColumn?(g.range=g.range.plusRange(f[C].range),g.text=g.text+f[C].text):(_.push(g),g=f[C]);_.push(g);for(const C of _)S.addEditOperation(C.range,C.text)}this._trackedEditorSelectionId=S.trackSelection(this._editorSelection)}computeCursorState(D,S){return S.getTrackedSelection(this._trackedEditorSelectionId)}}e.ReplaceAllCommand=k}),define(ne[542],se([1,0,392]),function(Q,e,L){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.parseReplaceString=e.ReplacePiece=e.ReplacePattern=void 0;class k{constructor(C){this.staticValue=C,this.kind=0}}class y{constructor(C){this.pieces=C,this.kind=1}}class D{static fromStaticValue(C){return new D([S.staticValue(C)])}get hasReplacementPatterns(){return this._state.kind===1}constructor(C){!C||C.length===0?this._state=new k(""):C.length===1&&C[0].staticValue!==null?this._state=new k(C[0].staticValue):this._state=new y(C)}buildReplaceString(C,s){if(this._state.kind===0)return s?(0,L.buildReplaceStringWithCasePreserved)(C,this._state.staticValue):this._state.staticValue;let i="";for(let n=0,t=this._state.pieces.length;n<t;n++){const a=this._state.pieces[n];if(a.staticValue!==null){i+=a.staticValue;continue}let u=D._substitute(a.matchIndex,C);if(a.caseOps!==null&&a.caseOps.length>0){const h=[],r=a.caseOps.length;let c=0;for(let o=0,d=u.length;o<d;o++){if(c>=r){h.push(u.slice(o));break}switch(a.caseOps[c]){case"U":h.push(u[o].toUpperCase());break;case"u":h.push(u[o].toUpperCase()),c++;break;case"L":h.push(u[o].toLowerCase());break;case"l":h.push(u[o].toLowerCase()),c++;break;default:h.push(u[o])}}u=h.join("")}i+=u}return i}static _substitute(C,s){if(s===null)return"";if(C===0)return s[0];let i="";for(;C>0;){if(C<s.length)return(s[C]||"")+i;i=String(C%10)+i,C=Math.floor(C/10)}return"$"+i}}e.ReplacePattern=D;class S{static staticValue(C){return new S(C,-1,null)}static caseOps(C,s){return new S(null,C,s)}constructor(C,s,i){this.staticValue=C,this.matchIndex=s,!i||i.length===0?this.caseOps=null:this.caseOps=i.slice(0)}}e.ReplacePiece=S;class f{constructor(C){this._source=C,this._lastCharIndex=0,this._result=[],this._resultLen=0,this._currentStaticPiece=""}emitUnchanged(C){this._emitStatic(this._source.substring(this._lastCharIndex,C)),this._lastCharIndex=C}emitStatic(C,s){this._emitStatic(C),this._lastCharIndex=s}_emitStatic(C){C.length!==0&&(this._currentStaticPiece+=C)}emitMatchIndex(C,s,i){this._currentStaticPiece.length!==0&&(this._result[this._resultLen++]=S.staticValue(this._currentStaticPiece),this._currentStaticPiece=""),this._result[this._resultLen++]=S.caseOps(C,i),this._lastCharIndex=s}finalize(){return this.emitUnchanged(this._source.length),this._currentStaticPiece.length!==0&&(this._result[this._resultLen++]=S.staticValue(this._currentStaticPiece),this._currentStaticPiece=""),new D(this._result)}}function _(g){if(!g||g.length===0)return new D(null);const C=[],s=new f(g);for(let i=0,n=g.length;i<n;i++){const t=g.charCodeAt(i);if(t===92){if(i++,i>=n)break;const a=g.charCodeAt(i);switch(a){case 92:s.emitUnchanged(i-1),s.emitStatic("\\",i+1);break;case 110:s.emitUnchanged(i-1),s.emitStatic(`
`,i+1);break;case 116:s.emitUnchanged(i-1),s.emitStatic("	",i+1);break;case 117:case 85:case 108:case 76:s.emitUnchanged(i-1),s.emitStatic("",i+1),C.push(String.fromCharCode(a));break}continue}if(t===36){if(i++,i>=n)break;const a=g.charCodeAt(i);if(a===36){s.emitUnchanged(i-1),s.emitStatic("$",i+1);continue}if(a===48||a===38){s.emitUnchanged(i-1),s.emitMatchIndex(0,i+1,C),C.length=0;continue}if(49<=a&&a<=57){let u=a-48;if(i+1<n){const h=g.charCodeAt(i+1);if(48<=h&&h<=57){i++,u=u*10+(h-48),s.emitUnchanged(i-2),s.emitMatchIndex(u,i+1,C),C.length=0;continue}}s.emitUnchanged(i-1),s.emitMatchIndex(u,i+1,C),C.length=0;continue}}}return s.finalize()}e.parseReplaceString=_}),define(ne[182],se([1,0]),function(Q,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.FoldingRegion=e.FoldingRegions=e.MAX_LINE_NUMBER=e.MAX_FOLDING_REGIONS=e.foldSourceAbbr=void 0,e.foldSourceAbbr={[0]:" ",[1]:"u",[2]:"r"},e.MAX_FOLDING_REGIONS=65535,e.MAX_LINE_NUMBER=16777215;const L=4278190080;class k{constructor(f){const _=Math.ceil(f/32);this._states=new Uint32Array(_)}get(f){const _=f/32|0,g=f%32;return(this._states[_]&1<<g)!==0}set(f,_){const g=f/32|0,C=f%32,s=this._states[g];_?this._states[g]=s|1<<C:this._states[g]=s&~(1<<C)}}class y{constructor(f,_,g){if(f.length!==_.length||f.length>e.MAX_FOLDING_REGIONS)throw new Error("invalid startIndexes or endIndexes size");this._startIndexes=f,this._endIndexes=_,this._collapseStates=new k(f.length),this._userDefinedStates=new k(f.length),this._recoveredStates=new k(f.length),this._types=g,this._parentsComputed=!1}ensureParentIndices(){if(!this._parentsComputed){this._parentsComputed=!0;const f=[],_=(g,C)=>{const s=f[f.length-1];return this.getStartLineNumber(s)<=g&&this.getEndLineNumber(s)>=C};for(let g=0,C=this._startIndexes.length;g<C;g++){const s=this._startIndexes[g],i=this._endIndexes[g];if(s>e.MAX_LINE_NUMBER||i>e.MAX_LINE_NUMBER)throw new Error("startLineNumber or endLineNumber must not exceed "+e.MAX_LINE_NUMBER);for(;f.length>0&&!_(s,i);)f.pop();const n=f.length>0?f[f.length-1]:-1;f.push(g),this._startIndexes[g]=s+((n&255)<<24),this._endIndexes[g]=i+((n&65280)<<16)}}}get length(){return this._startIndexes.length}getStartLineNumber(f){return this._startIndexes[f]&e.MAX_LINE_NUMBER}getEndLineNumber(f){return this._endIndexes[f]&e.MAX_LINE_NUMBER}getType(f){return this._types?this._types[f]:void 0}hasTypes(){return!!this._types}isCollapsed(f){return this._collapseStates.get(f)}setCollapsed(f,_){this._collapseStates.set(f,_)}isUserDefined(f){return this._userDefinedStates.get(f)}setUserDefined(f,_){return this._userDefinedStates.set(f,_)}isRecovered(f){return this._recoveredStates.get(f)}setRecovered(f,_){return this._recoveredStates.set(f,_)}getSource(f){return this.isUserDefined(f)?1:this.isRecovered(f)?2:0}setSource(f,_){_===1?(this.setUserDefined(f,!0),this.setRecovered(f,!1)):_===2?(this.setUserDefined(f,!1),this.setRecovered(f,!0)):(this.setUserDefined(f,!1),this.setRecovered(f,!1))}setCollapsedAllOfType(f,_){let g=!1;if(this._types)for(let C=0;C<this._types.length;C++)this._types[C]===f&&(this.setCollapsed(C,_),g=!0);return g}toRegion(f){return new D(this,f)}getParentIndex(f){this.ensureParentIndices();const _=((this._startIndexes[f]&L)>>>24)+((this._endIndexes[f]&L)>>>16);return _===e.MAX_FOLDING_REGIONS?-1:_}contains(f,_){return this.getStartLineNumber(f)<=_&&this.getEndLineNumber(f)>=_}findIndex(f){let _=0,g=this._startIndexes.length;if(g===0)return-1;for(;_<g;){const C=Math.floor((_+g)/2);f<this.getStartLineNumber(C)?g=C:_=C+1}return _-1}findRange(f){let _=this.findIndex(f);if(_>=0){if(this.getEndLineNumber(_)>=f)return _;for(_=this.getParentIndex(_);_!==-1;){if(this.contains(_,f))return _;_=this.getParentIndex(_)}}return-1}toString(){const f=[];for(let _=0;_<this.length;_++)f[_]=`[${e.foldSourceAbbr[this.getSource(_)]}${this.isCollapsed(_)?"+":"-"}] ${this.getStartLineNumber(_)}/${this.getEndLineNumber(_)}`;return f.join(", ")}toFoldRange(f){return{startLineNumber:this._startIndexes[f]&e.MAX_LINE_NUMBER,endLineNumber:this._endIndexes[f]&e.MAX_LINE_NUMBER,type:this._types?this._types[f]:void 0,isCollapsed:this.isCollapsed(f),source:this.getSource(f)}}static fromFoldRanges(f){const _=f.length,g=new Uint32Array(_),C=new Uint32Array(_);let s=[],i=!1;for(let t=0;t<_;t++){const a=f[t];g[t]=a.startLineNumber,C[t]=a.endLineNumber,s.push(a.type),a.type&&(i=!0)}i||(s=void 0);const n=new y(g,C,s);for(let t=0;t<_;t++)f[t].isCollapsed&&n.setCollapsed(t,!0),n.setSource(t,f[t].source);return n}static sanitizeAndMerge(f,_,g){g=g??Number.MAX_VALUE;const C=(d,l)=>Array.isArray(d)?p=>p<l?d[p]:void 0:p=>p<l?d.toFoldRange(p):void 0,s=C(f,f.length),i=C(_,_.length);let n=0,t=0,a=s(0),u=i(0);const h=[];let r,c=0;const o=[];for(;a||u;){let d;if(u&&(!a||a.startLineNumber>=u.startLineNumber))a&&a.startLineNumber===u.startLineNumber?(u.source===1?d=u:(d=a,d.isCollapsed=u.isCollapsed&&a.endLineNumber===u.endLineNumber,d.source=0),a=s(++n)):(d=u,u.isCollapsed&&u.source===0&&(d.source=2)),u=i(++t);else{let l=t,p=u;for(;;){if(!p||p.startLineNumber>a.endLineNumber){d=a;break}if(p.source===1&&p.endLineNumber>a.endLineNumber)break;p=i(++l)}a=s(++n)}if(d){for(;r&&r.endLineNumber<d.startLineNumber;)r=h.pop();d.endLineNumber>d.startLineNumber&&d.startLineNumber>c&&d.endLineNumber<=g&&(!r||r.endLineNumber>=d.endLineNumber)&&(o.push(d),c=d.startLineNumber,r&&h.push(r),r=d)}}return o}}e.FoldingRegions=y;class D{constructor(f,_){this.ranges=f,this.index=_}get startLineNumber(){return this.ranges.getStartLineNumber(this.index)}get endLineNumber(){return this.ranges.getEndLineNumber(this.index)}get regionIndex(){return this.index}get parentIndex(){return this.ranges.getParentIndex(this.index)}get isCollapsed(){return this.ranges.isCollapsed(this.index)}containedBy(f){return f.startLineNumber<=this.startLineNumber&&f.endLineNumber>=this.endLineNumber}containsLine(f){return this.startLineNumber<=f&&f<=this.endLineNumber}}e.FoldingRegion=D}),define(ne[291],se([1,0,6,182,143]),function(Q,e,L,k,y){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.getNextFoldLine=e.getPreviousFoldLine=e.getParentFoldLine=e.setCollapseStateForType=e.setCollapseStateForMatchingLines=e.setCollapseStateForRest=e.setCollapseStateAtLevel=e.setCollapseStateUp=e.setCollapseStateLevelsUp=e.setCollapseStateLevelsDown=e.toggleCollapseState=e.FoldingModel=void 0;class D{get regions(){return this._regions}get textModel(){return this._textModel}constructor(r,c){this._updateEventEmitter=new L.Emitter,this.onDidChange=this._updateEventEmitter.event,this._textModel=r,this._decorationProvider=c,this._regions=new k.FoldingRegions(new Uint32Array(0),new Uint32Array(0)),this._editorDecorationIds=[]}toggleCollapseState(r){if(!r.length)return;r=r.sort((o,d)=>o.regionIndex-d.regionIndex);const c={};this._decorationProvider.changeDecorations(o=>{let d=0,l=-1,p=-1;const m=v=>{for(;d<v;){const b=this._regions.getEndLineNumber(d),w=this._regions.isCollapsed(d);if(b<=l){const E=this.regions.getSource(d)!==0;o.changeDecorationOptions(this._editorDecorationIds[d],this._decorationProvider.getDecorationOption(w,b<=p,E))}w&&b>p&&(p=b),d++}};for(const v of r){const b=v.regionIndex,w=this._editorDecorationIds[b];if(w&&!c[w]){c[w]=!0,m(b);const E=!this._regions.isCollapsed(b);this._regions.setCollapsed(b,E),l=Math.max(l,this._regions.getEndLineNumber(b))}}m(this._regions.length)}),this._updateEventEmitter.fire({model:this,collapseStateChanged:r})}removeManualRanges(r){const c=new Array,o=d=>{for(const l of r)if(!(l.startLineNumber>d.endLineNumber||d.startLineNumber>l.endLineNumber))return!0;return!1};for(let d=0;d<this._regions.length;d++){const l=this._regions.toFoldRange(d);(l.source===0||!o(l))&&c.push(l)}this.updatePost(k.FoldingRegions.fromFoldRanges(c))}update(r,c=[]){const o=this._currentFoldedOrManualRanges(c),d=k.FoldingRegions.sanitizeAndMerge(r,o,this._textModel.getLineCount());this.updatePost(k.FoldingRegions.fromFoldRanges(d))}updatePost(r){const c=[];let o=-1;for(let d=0,l=r.length;d<l;d++){const p=r.getStartLineNumber(d),m=r.getEndLineNumber(d),v=r.isCollapsed(d),b=r.getSource(d)!==0,w={startLineNumber:p,startColumn:this._textModel.getLineMaxColumn(p),endLineNumber:m,endColumn:this._textModel.getLineMaxColumn(m)+1};c.push({range:w,options:this._decorationProvider.getDecorationOption(v,m<=o,b)}),v&&m>o&&(o=m)}this._decorationProvider.changeDecorations(d=>this._editorDecorationIds=d.deltaDecorations(this._editorDecorationIds,c)),this._regions=r,this._updateEventEmitter.fire({model:this})}_currentFoldedOrManualRanges(r=[]){const c=(d,l)=>{for(const p of r)if(d<p&&p<=l)return!0;return!1},o=[];for(let d=0,l=this._regions.length;d<l;d++){let p=this.regions.isCollapsed(d);const m=this.regions.getSource(d);if(p||m!==0){const v=this._regions.toFoldRange(d),b=this._textModel.getDecorationRange(this._editorDecorationIds[d]);b&&(p&&c(b.startLineNumber,b.endLineNumber)&&(p=!1),o.push({startLineNumber:b.startLineNumber,endLineNumber:b.endLineNumber,type:v.type,isCollapsed:p,source:m}))}}return o}getMemento(){const r=this._currentFoldedOrManualRanges(),c=[],o=this._textModel.getLineCount();for(let d=0,l=r.length;d<l;d++){const p=r[d];if(p.startLineNumber>=p.endLineNumber||p.startLineNumber<1||p.endLineNumber>o)continue;const m=this._getLinesChecksum(p.startLineNumber+1,p.endLineNumber);c.push({startLineNumber:p.startLineNumber,endLineNumber:p.endLineNumber,isCollapsed:p.isCollapsed,source:p.source,checksum:m})}return c.length>0?c:void 0}applyMemento(r){var c,o;if(!Array.isArray(r))return;const d=[],l=this._textModel.getLineCount();for(const m of r){if(m.startLineNumber>=m.endLineNumber||m.startLineNumber<1||m.endLineNumber>l)continue;const v=this._getLinesChecksum(m.startLineNumber+1,m.endLineNumber);(!m.checksum||v===m.checksum)&&d.push({startLineNumber:m.startLineNumber,endLineNumber:m.endLineNumber,type:void 0,isCollapsed:(c=m.isCollapsed)!==null&&c!==void 0?c:!0,source:(o=m.source)!==null&&o!==void 0?o:0})}const p=k.FoldingRegions.sanitizeAndMerge(this._regions,d,l);this.updatePost(k.FoldingRegions.fromFoldRanges(p))}_getLinesChecksum(r,c){return(0,y.hash)(this._textModel.getLineContent(r)+this._textModel.getLineContent(c))%1e6}dispose(){this._decorationProvider.removeDecorations(this._editorDecorationIds)}getAllRegionsAtLine(r,c){const o=[];if(this._regions){let d=this._regions.findRange(r),l=1;for(;d>=0;){const p=this._regions.toRegion(d);(!c||c(p,l))&&o.push(p),l++,d=p.parentIndex}}return o}getRegionAtLine(r){if(this._regions){const c=this._regions.findRange(r);if(c>=0)return this._regions.toRegion(c)}return null}getRegionsInside(r,c){const o=[],d=r?r.regionIndex+1:0,l=r?r.endLineNumber:Number.MAX_VALUE;if(c&&c.length===2){const p=[];for(let m=d,v=this._regions.length;m<v;m++){const b=this._regions.toRegion(m);if(this._regions.getStartLineNumber(m)<l){for(;p.length>0&&!b.containedBy(p[p.length-1]);)p.pop();p.push(b),c(b,p.length)&&o.push(b)}else break}}else for(let p=d,m=this._regions.length;p<m;p++){const v=this._regions.toRegion(p);if(this._regions.getStartLineNumber(p)<l)(!c||c(v))&&o.push(v);else break}return o}}e.FoldingModel=D;function S(h,r,c){const o=[];for(const d of c){const l=h.getRegionAtLine(d);if(l){const p=!l.isCollapsed;if(o.push(l),r>1){const m=h.getRegionsInside(l,(v,b)=>v.isCollapsed!==p&&b<r);o.push(...m)}}}h.toggleCollapseState(o)}e.toggleCollapseState=S;function f(h,r,c=Number.MAX_VALUE,o){const d=[];if(o&&o.length>0)for(const l of o){const p=h.getRegionAtLine(l);if(p&&(p.isCollapsed!==r&&d.push(p),c>1)){const m=h.getRegionsInside(p,(v,b)=>v.isCollapsed!==r&&b<c);d.push(...m)}}else{const l=h.getRegionsInside(null,(p,m)=>p.isCollapsed!==r&&m<c);d.push(...l)}h.toggleCollapseState(d)}e.setCollapseStateLevelsDown=f;function _(h,r,c,o){const d=[];for(const l of o){const p=h.getAllRegionsAtLine(l,(m,v)=>m.isCollapsed!==r&&v<=c);d.push(...p)}h.toggleCollapseState(d)}e.setCollapseStateLevelsUp=_;function g(h,r,c){const o=[];for(const d of c){const l=h.getAllRegionsAtLine(d,p=>p.isCollapsed!==r);l.length>0&&o.push(l[0])}h.toggleCollapseState(o)}e.setCollapseStateUp=g;function C(h,r,c,o){const d=(p,m)=>m===r&&p.isCollapsed!==c&&!o.some(v=>p.containsLine(v)),l=h.getRegionsInside(null,d);h.toggleCollapseState(l)}e.setCollapseStateAtLevel=C;function s(h,r,c){const o=[];for(const p of c){const m=h.getAllRegionsAtLine(p,void 0);m.length>0&&o.push(m[0])}const d=p=>o.every(m=>!m.containedBy(p)&&!p.containedBy(m))&&p.isCollapsed!==r,l=h.getRegionsInside(null,d);h.toggleCollapseState(l)}e.setCollapseStateForRest=s;function i(h,r,c){const o=h.textModel,d=h.regions,l=[];for(let p=d.length-1;p>=0;p--)if(c!==d.isCollapsed(p)){const m=d.getStartLineNumber(p);r.test(o.getLineContent(m))&&l.push(d.toRegion(p))}h.toggleCollapseState(l)}e.setCollapseStateForMatchingLines=i;function n(h,r,c){const o=h.regions,d=[];for(let l=o.length-1;l>=0;l--)c!==o.isCollapsed(l)&&r===o.getType(l)&&d.push(o.toRegion(l));h.toggleCollapseState(d)}e.setCollapseStateForType=n;function t(h,r){let c=null;const o=r.getRegionAtLine(h);if(o!==null&&(c=o.startLineNumber,h===c)){const d=o.parentIndex;d!==-1?c=r.regions.getStartLineNumber(d):c=null}return c}e.getParentFoldLine=t;function a(h,r){let c=r.getRegionAtLine(h);if(c!==null&&c.startLineNumber===h){if(h!==c.startLineNumber)return c.startLineNumber;{const o=c.parentIndex;let d=0;for(o!==-1&&(d=r.regions.getStartLineNumber(c.parentIndex));c!==null;)if(c.regionIndex>0){if(c=r.regions.toRegion(c.regionIndex-1),c.startLineNumber<=d)return null;if(c.parentIndex===o)return c.startLineNumber}else return null}}else if(r.regions.length>0)for(c=r.regions.toRegion(r.regions.length-1);c!==null;){if(c.startLineNumber<h)return c.startLineNumber;c.regionIndex>0?c=r.regions.toRegion(c.regionIndex-1):c=null}return null}e.getPreviousFoldLine=a;function u(h,r){let c=r.getRegionAtLine(h);if(c!==null&&c.startLineNumber===h){const o=c.parentIndex;let d=0;if(o!==-1)d=r.regions.getEndLineNumber(c.parentIndex);else{if(r.regions.length===0)return null;d=r.regions.getEndLineNumber(r.regions.length-1)}for(;c!==null;)if(c.regionIndex<r.regions.length){if(c=r.regions.toRegion(c.regionIndex+1),c.startLineNumber>=d)return null;if(c.parentIndex===o)return c.startLineNumber}else return null}else if(r.regions.length>0)for(c=r.regions.toRegion(0);c!==null;){if(c.startLineNumber>h)return c.startLineNumber;c.regionIndex<r.regions.length?c=r.regions.toRegion(c.regionIndex+1):c=null}return null}e.getNextFoldLine=u}),define(ne[543],se([1,0,14,6,5,122]),function(Q,e,L,k,y,D){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.HiddenRangeModel=void 0;class S{get onDidChange(){return this._updateEventEmitter.event}get hiddenRanges(){return this._hiddenRanges}constructor(C){this._updateEventEmitter=new k.Emitter,this._hasLineChanges=!1,this._foldingModel=C,this._foldingModelListener=C.onDidChange(s=>this.updateHiddenRanges()),this._hiddenRanges=[],C.regions.length&&this.updateHiddenRanges()}notifyChangeModelContent(C){this._hiddenRanges.length&&!this._hasLineChanges&&(this._hasLineChanges=C.changes.some(s=>s.range.endLineNumber!==s.range.startLineNumber||(0,D.countEOL)(s.text)[0]!==0))}updateHiddenRanges(){let C=!1;const s=[];let i=0,n=0,t=Number.MAX_VALUE,a=-1;const u=this._foldingModel.regions;for(;i<u.length;i++){if(!u.isCollapsed(i))continue;const h=u.getStartLineNumber(i)+1,r=u.getEndLineNumber(i);t<=h&&r<=a||(!C&&n<this._hiddenRanges.length&&this._hiddenRanges[n].startLineNumber===h&&this._hiddenRanges[n].endLineNumber===r?(s.push(this._hiddenRanges[n]),n++):(C=!0,s.push(new y.Range(h,1,r,1))),t=h,a=r)}(this._hasLineChanges||C||n<this._hiddenRanges.length)&&this.applyHiddenRanges(s)}applyHiddenRanges(C){this._hiddenRanges=C,this._hasLineChanges=!1,this._updateEventEmitter.fire(C)}hasRanges(){return this._hiddenRanges.length>0}isHidden(C){return _(this._hiddenRanges,C)!==null}adjustSelections(C){let s=!1;const i=this._foldingModel.textModel;let n=null;const t=a=>((!n||!f(a,n))&&(n=_(this._hiddenRanges,a)),n?n.startLineNumber-1:null);for(let a=0,u=C.length;a<u;a++){let h=C[a];const r=t(h.startLineNumber);r&&(h=h.setStartPosition(r,i.getLineMaxColumn(r)),s=!0);const c=t(h.endLineNumber);c&&(h=h.setEndPosition(c,i.getLineMaxColumn(c)),s=!0),C[a]=h}return s}dispose(){this.hiddenRanges.length>0&&(this._hiddenRanges=[],this._updateEventEmitter.fire(this._hiddenRanges)),this._foldingModelListener&&(this._foldingModelListener.dispose(),this._foldingModelListener=null)}}e.HiddenRangeModel=S;function f(g,C){return g>=C.startLineNumber&&g<=C.endLineNumber}function _(g,C){const s=(0,L.findFirstInSorted)(g,i=>C<i.startLineNumber)-1;return s>=0&&g[s].endLineNumber>=C?g[s]:null}}),define(ne[292],se([1,0,207,182]),function(Q,e,L,k){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.computeRanges=e.RangesCollector=e.IndentRangeProvider=void 0;const y=5e3,D="indent";class S{constructor(s,i,n){this.editorModel=s,this.languageConfigurationService=i,this.foldingRangesLimit=n,this.id=D}dispose(){}compute(s){const i=this.languageConfigurationService.getLanguageConfiguration(this.editorModel.getLanguageId()).foldingRules,n=i&&!!i.offSide,t=i&&i.markers;return Promise.resolve(g(this.editorModel,n,t,this.foldingRangesLimit))}}e.IndentRangeProvider=S;class f{constructor(s){this._startIndexes=[],this._endIndexes=[],this._indentOccurrences=[],this._length=0,this._foldingRangesLimit=s}insertFirst(s,i,n){if(s>k.MAX_LINE_NUMBER||i>k.MAX_LINE_NUMBER)return;const t=this._length;this._startIndexes[t]=s,this._endIndexes[t]=i,this._length++,n<1e3&&(this._indentOccurrences[n]=(this._indentOccurrences[n]||0)+1)}toIndentRanges(s){const i=this._foldingRangesLimit.limit;if(this._length<=i){this._foldingRangesLimit.update(this._length,!1);const n=new Uint32Array(this._length),t=new Uint32Array(this._length);for(let a=this._length-1,u=0;a>=0;a--,u++)n[u]=this._startIndexes[a],t[u]=this._endIndexes[a];return new k.FoldingRegions(n,t)}else{this._foldingRangesLimit.update(this._length,i);let n=0,t=this._indentOccurrences.length;for(let r=0;r<this._indentOccurrences.length;r++){const c=this._indentOccurrences[r];if(c){if(c+n>i){t=r;break}n+=c}}const a=s.getOptions().tabSize,u=new Uint32Array(i),h=new Uint32Array(i);for(let r=this._length-1,c=0;r>=0;r--){const o=this._startIndexes[r],d=s.getLineContent(o),l=(0,L.computeIndentLevel)(d,a);(l<t||l===t&&n++<i)&&(u[c]=o,h[c]=this._endIndexes[r],c++)}return new k.FoldingRegions(u,h)}}}e.RangesCollector=f;const _={limit:y,update:()=>{}};function g(C,s,i,n=_){const t=C.getOptions().tabSize,a=new f(n);let u;i&&(u=new RegExp(`(${i.start.source})|(?:${i.end.source})`));const h=[],r=C.getLineCount()+1;h.push({indent:-1,endAbove:r,line:r});for(let c=C.getLineCount();c>0;c--){const o=C.getLineContent(c),d=(0,L.computeIndentLevel)(o,t);let l=h[h.length-1];if(d===-1){s&&(l.endAbove=c);continue}let p;if(u&&(p=o.match(u)))if(p[1]){let m=h.length-1;for(;m>0&&h[m].indent!==-2;)m--;if(m>0){h.length=m+1,l=h[m],a.insertFirst(c,l.line,d),l.line=c,l.indent=d,l.endAbove=c;continue}}else{h.push({indent:-2,endAbove:c,line:c});continue}if(l.indent>d){do h.pop(),l=h[h.length-1];while(l.indent>d);const m=l.endAbove-1;m-c>=1&&a.insertFirst(c,m,d)}l.indent===d?l.endAbove=c:h.push({indent:d,endAbove:c,line:c})}return a.toIndentRanges(C)}e.computeRanges=g}),define(ne[293],se([1,0,9,2,182]),function(Q,e,L,k,y){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.sanitizeRanges=e.SyntaxRangeProvider=void 0;const D={},S="syntax";class f{constructor(i,n,t,a,u){this.editorModel=i,this.providers=n,this.handleFoldingRangesChange=t,this.foldingRangesLimit=a,this.fallbackRangeProvider=u,this.id=S,this.disposables=new k.DisposableStore,u&&this.disposables.add(u);for(const h of n)typeof h.onDidChange=="function"&&this.disposables.add(h.onDidChange(t))}compute(i){return _(this.providers,this.editorModel,i).then(n=>{var t,a;return n?C(n,this.foldingRangesLimit):(a=(t=this.fallbackRangeProvider)===null||t===void 0?void 0:t.compute(i))!==null&&a!==void 0?a:null})}dispose(){this.disposables.dispose()}}e.SyntaxRangeProvider=f;function _(s,i,n){let t=null;const a=s.map((u,h)=>Promise.resolve(u.provideFoldingRanges(i,D,n)).then(r=>{if(!n.isCancellationRequested&&Array.isArray(r)){Array.isArray(t)||(t=[]);const c=i.getLineCount();for(const o of r)o.start>0&&o.end>o.start&&o.end<=c&&t.push({start:o.start,end:o.end,rank:h,kind:o.kind})}},L.onUnexpectedExternalError));return Promise.all(a).then(u=>t)}class g{constructor(i){this._startIndexes=[],this._endIndexes=[],this._nestingLevels=[],this._nestingLevelCounts=[],this._types=[],this._length=0,this._foldingRangesLimit=i}add(i,n,t,a){if(i>y.MAX_LINE_NUMBER||n>y.MAX_LINE_NUMBER)return;const u=this._length;this._startIndexes[u]=i,this._endIndexes[u]=n,this._nestingLevels[u]=a,this._types[u]=t,this._length++,a<30&&(this._nestingLevelCounts[a]=(this._nestingLevelCounts[a]||0)+1)}toIndentRanges(){const i=this._foldingRangesLimit.limit;if(this._length<=i){this._foldingRangesLimit.update(this._length,!1);const n=new Uint32Array(this._length),t=new Uint32Array(this._length);for(let a=0;a<this._length;a++)n[a]=this._startIndexes[a],t[a]=this._endIndexes[a];return new y.FoldingRegions(n,t,this._types)}else{this._foldingRangesLimit.update(this._length,i);let n=0,t=this._nestingLevelCounts.length;for(let r=0;r<this._nestingLevelCounts.length;r++){const c=this._nestingLevelCounts[r];if(c){if(c+n>i){t=r;break}n+=c}}const a=new Uint32Array(i),u=new Uint32Array(i),h=[];for(let r=0,c=0;r<this._length;r++){const o=this._nestingLevels[r];(o<t||o===t&&n++<i)&&(a[c]=this._startIndexes[r],u[c]=this._endIndexes[r],h[c]=this._types[r],c++)}return new y.FoldingRegions(a,u,h)}}}function C(s,i){const n=s.sort((h,r)=>{let c=h.start-r.start;return c===0&&(c=h.rank-r.rank),c}),t=new g(i);let a;const u=[];for(const h of n)if(!a)a=h,t.add(h.start,h.end,h.kind&&h.kind.value,u.length);else if(h.start>a.start)if(h.end<=a.end)u.push(a),a=h,t.add(h.start,h.end,h.kind&&h.kind.value,u.length);else{if(h.start>a.end){do a=u.pop();while(a&&h.start>a.end);a&&u.push(a),a=h}t.add(h.start,h.end,h.kind&&h.kind.value,u.length)}return t.toIndentRanges()}e.sanitizeRanges=C}),define(ne[294],se([1,0,73,5,108]),function(Q,e,L,k,y){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.FormattingEdit=void 0;class D{static _handleEolEdits(f,_){let g;const C=[];for(const s of _)typeof s.eol=="number"&&(g=s.eol),s.range&&typeof s.text=="string"&&C.push(s);return typeof g=="number"&&f.hasModel()&&f.getModel().pushEOL(g),C}static _isFullModelReplaceEdit(f,_){if(!f.hasModel())return!1;const g=f.getModel(),C=g.validateRange(_.range);return g.getFullModelRange().equalsRange(C)}static execute(f,_,g){g&&f.pushUndoStop();const C=y.StableEditorScrollState.capture(f),s=D._handleEolEdits(f,_);s.length===1&&D._isFullModelReplaceEdit(f,s[0])?f.executeEdits("formatEditsCommand",s.map(i=>L.EditOperation.replace(k.Range.lift(i.range),i.text))):f.executeEdits("formatEditsCommand",s.map(i=>L.EditOperation.replaceMove(k.Range.lift(i.range),i.text))),g&&f.pushUndoStop(),C.restoreRelativeVerticalPositionOfCursor(f)}}e.FormattingEdit=D}),define(ne[103],se([1,0]),function(Q,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.HoverParticipantRegistry=e.HoverForeignElementAnchor=e.HoverRangeAnchor=void 0;class L{constructor(D,S,f,_){this.priority=D,this.range=S,this.initialMousePosX=f,this.initialMousePosY=_,this.type=1}equals(D){return D.type===1&&this.range.equalsRange(D.range)}canAdoptVisibleHover(D,S){return D.type===1&&S.lineNumber===this.range.startLineNumber}}e.HoverRangeAnchor=L;class k{constructor(D,S,f,_,g,C){this.priority=D,this.owner=S,this.range=f,this.initialMousePosX=_,this.initialMousePosY=g,this.supportsMarkerHover=C,this.type=2}equals(D){return D.type===2&&this.owner===D.owner}canAdoptVisibleHover(D,S){return D.type===2&&this.owner===D.owner}}e.HoverForeignElementAnchor=k,e.HoverParticipantRegistry=new class{constructor(){this._participants=[]}register(D){this._participants.push(D)}getAll(){return this._participants}}}),define(ne[544],se([1,0,24]),function(Q,e,L){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.InPlaceReplaceCommand=void 0;class k{constructor(D,S,f){this._editRange=D,this._originalSelection=S,this._text=f}getEditOperations(D,S){S.addTrackedEditOperation(this._editRange,this._text)}computeCursorState(D,S){const _=S.getInverseEditOperations()[0].range;return this._originalSelection.isEmpty()?new L.Selection(_.endLineNumber,Math.min(this._originalSelection.positionColumn,_.endColumn),_.endLineNumber,Math.min(this._originalSelection.positionColumn,_.endColumn)):new L.Selection(_.endLineNumber,_.endColumn-this._text.length,_.endLineNumber,_.endColumn)}}e.InPlaceReplaceCommand=k}),define(ne[295],se([1,0]),function(Q,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.generateIndent=e.getSpaceCnt=void 0;function L(y,D){let S=0;for(let f=0;f<y.length;f++)y.charAt(f)==="	"?S+=D:S++;return S}e.getSpaceCnt=L;function k(y,D,S){y=y<0?0:y;let f="";if(!S){const _=Math.floor(y/D);y=y%D;for(let g=0;g<_;g++)f+="	"}for(let _=0;_<y;_++)f+=" ";return f}e.generateIndent=k}),define(ne[214],se([1,0]),function(Q,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.showNextInlineSuggestionActionId=e.showPreviousInlineSuggestionActionId=e.inlineSuggestCommitId=void 0,e.inlineSuggestCommitId="editor.action.inlineSuggest.commit",e.showPreviousInlineSuggestionActionId="editor.action.inlineSuggest.showPrevious",e.showNextInlineSuggestionActionId="editor.action.inlineSuggest.showNext"}),define(ne[151],se([1,0,9,2,42,12,5]),function(Q,e,L,k,y,D,S){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.lengthOfText=e.addPositions=e.applyObservableDecorations=e.ColumnRange=e.getReadonlyEmptyArray=e.applyEdits=void 0;function f(a,u){const h=new _(a),r=u.map(c=>{const o=S.Range.lift(c.range);return{startOffset:h.getOffset(o.getStartPosition()),endOffset:h.getOffset(o.getEndPosition()),text:c.text}});r.sort((c,o)=>o.startOffset-c.startOffset);for(const c of r)a=a.substring(0,c.startOffset)+c.text+a.substring(c.endOffset);return a}e.applyEdits=f;class _{constructor(u){this.lineStartOffsetByLineIdx=[],this.lineStartOffsetByLineIdx.push(0);for(let h=0;h<u.length;h++)u.charAt(h)===`
`&&this.lineStartOffsetByLineIdx.push(h+1)}getOffset(u){return this.lineStartOffsetByLineIdx[u.lineNumber-1]+u.column-1}}const g=[];function C(){return g}e.getReadonlyEmptyArray=C;class s{constructor(u,h){if(this.startColumn=u,this.endColumnExclusive=h,u>h)throw new L.BugIndicatingError(`startColumn ${u} cannot be after endColumnExclusive ${h}`)}toRange(u){return new S.Range(u,this.startColumn,u,this.endColumnExclusive)}equals(u){return this.startColumn===u.startColumn&&this.endColumnExclusive===u.endColumnExclusive}}e.ColumnRange=s;function i(a,u){const h=new k.DisposableStore,r=a.createDecorationsCollection();return h.add((0,y.autorunOpts)({debugName:()=>`Apply decorations from ${u.debugName}`},c=>{const o=u.read(c);r.set(o)})),h.add({dispose:()=>{r.clear()}}),h}e.applyObservableDecorations=i;function n(a,u){return new D.Position(a.lineNumber+u.lineNumber-1,u.lineNumber===1?a.column+u.column-1:u.column)}e.addPositions=n;function t(a){let u=1,h=1;for(const r of a)r===`
`?(u++,h=1):h++;return new D.Position(u,h)}e.lengthOfText=t}),define(ne[215],se([1,0,151]),function(Q,e,L){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ghostTextOrReplacementEquals=e.GhostTextReplacement=e.GhostTextPart=e.GhostText=void 0;class k{constructor(_,g){this.lineNumber=_,this.parts=g}equals(_){return this.lineNumber===_.lineNumber&&this.parts.length===_.parts.length&&this.parts.every((g,C)=>g.equals(_.parts[C]))}renderForScreenReader(_){if(this.parts.length===0)return"";const g=this.parts[this.parts.length-1],C=_.substr(0,g.column-1);return(0,L.applyEdits)(C,this.parts.map(i=>({range:{startLineNumber:1,endLineNumber:1,startColumn:i.column,endColumn:i.column},text:i.lines.join(`
`)}))).substring(this.parts[0].column-1)}isEmpty(){return this.parts.every(_=>_.lines.length===0)}get lineCount(){return 1+this.parts.reduce((_,g)=>_+g.lines.length-1,0)}}e.GhostText=k;class y{constructor(_,g,C){this.column=_,this.lines=g,this.preview=C}equals(_){return this.column===_.column&&this.lines.length===_.lines.length&&this.lines.every((g,C)=>g===_.lines[C])}}e.GhostTextPart=y;class D{constructor(_,g,C,s=0){this.lineNumber=_,this.columnRange=g,this.newLines=C,this.additionalReservedLineCount=s,this.parts=[new y(this.columnRange.endColumnExclusive,this.newLines,!1)]}renderForScreenReader(_){return this.newLines.join(`
`)}get lineCount(){return this.newLines.length}isEmpty(){return this.parts.every(_=>_.lines.length===0)}equals(_){return this.lineNumber===_.lineNumber&&this.columnRange.equals(_.columnRange)&&this.newLines.length===_.newLines.length&&this.newLines.every((g,C)=>g===_.newLines[C])&&this.additionalReservedLineCount===_.additionalReservedLineCount}}e.GhostTextReplacement=D;function S(f,_){return f===_?!0:!f||!_?!1:f instanceof k&&_ instanceof k||f instanceof D&&_ instanceof D?f.equals(_):!1}e.ghostTextOrReplacementEquals=S}),define(ne[296],se([1,0,168,11,5,215,151]),function(Q,e,L,k,y,D,S){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.SingleTextEdit=void 0;class f{constructor(t,a){this.range=t,this.text=a}removeCommonPrefix(t,a){const u=a?this.range.intersectRanges(a):this.range;if(!u)return this;const h=t.getValueInRange(u,1),r=(0,k.commonPrefixLength)(h,this.text),c=(0,S.addPositions)(this.range.getStartPosition(),(0,S.lengthOfText)(h.substring(0,r))),o=this.text.substring(r),d=y.Range.fromPositions(c,this.range.getEndPosition());return new f(d,o)}augments(t){return this.text.startsWith(t.text)&&_(this.range,t.range)}computeGhostText(t,a,u,h=0){let r=this.removeCommonPrefix(t);if(r.range.endLineNumber!==r.range.startLineNumber)return;const c=t.getLineContent(r.range.startLineNumber),o=(0,k.getLeadingWhitespace)(c).length;if(r.range.startColumn-1<=o){const w=(0,k.getLeadingWhitespace)(r.text).length,E=c.substring(r.range.startColumn-1,o),[I,M]=[r.range.getStartPosition(),r.range.getEndPosition()],P=I.column+E.length<=M.column?I.delta(0,E.length):M,x=y.Range.fromPositions(P,M),T=r.text.startsWith(E)?r.text.substring(E.length):r.text.substring(w);r=new f(x,T)}const l=t.getValueInRange(r.range),p=C(l,r.text);if(!p)return;const m=r.range.startLineNumber,v=new Array;if(a==="prefix"){const w=p.filter(E=>E.originalLength===0);if(w.length>1||w.length===1&&w[0].originalStart!==l.length)return}const b=r.text.length-h;for(const w of p){const E=r.range.startColumn+w.originalStart+w.originalLength;if(a==="subwordSmart"&&u&&u.lineNumber===r.range.startLineNumber&&E<u.column||w.originalLength>0)return;if(w.modifiedLength===0)continue;const I=w.modifiedStart+w.modifiedLength,M=Math.max(w.modifiedStart,Math.min(I,b)),P=r.text.substring(w.modifiedStart,M),x=r.text.substring(M,Math.max(w.modifiedStart,I));if(P.length>0){const T=(0,k.splitLines)(P);v.push(new D.GhostTextPart(E,T,!1))}if(x.length>0){const T=(0,k.splitLines)(x);v.push(new D.GhostTextPart(E,T,!0))}}return new D.GhostText(m,v)}}e.SingleTextEdit=f;function _(n,t){return t.getStartPosition().equals(n.getStartPosition())&&t.getEndPosition().isBeforeOrEqual(n.getEndPosition())}let g;function C(n,t){if(g?.originalValue===n&&g?.newValue===t)return g?.changes;{let a=i(n,t,!0);if(a){const u=s(a);if(u>0){const h=i(n,t,!1);h&&s(h)<u&&(a=h)}}return g={originalValue:n,newValue:t,changes:a},a}}function s(n){let t=0;for(const a of n)t+=a.originalLength;return t}function i(n,t,a){if(n.length>5e3||t.length>5e3)return;function u(l){let p=0;for(let m=0,v=l.length;m<v;m++){const b=l.charCodeAt(m);b>p&&(p=b)}return p}const h=Math.max(u(n),u(t));function r(l){if(l<0)throw new Error("unexpected");return h+l+1}function c(l){let p=0,m=0;const v=new Int32Array(l.length);for(let b=0,w=l.length;b<w;b++)if(a&&l[b]==="("){const E=m*100+p;v[b]=r(2*E),p++}else if(a&&l[b]===")"){p=Math.max(p-1,0);const E=m*100+p;v[b]=r(2*E+1),p===0&&m++}else v[b]=l.charCodeAt(b);return v}const o=c(n),d=c(t);return new L.LcsDiff({getElements:()=>o},{getElements:()=>d}).ComputeDiff(!1).changes}}),define(ne[545],se([1,0,5,24]),function(Q,e,L,k){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.CopyLinesCommand=void 0;class y{constructor(S,f,_){this._selection=S,this._isCopyingDown=f,this._noop=_||!1,this._selectionDirection=0,this._selectionId=null,this._startLineNumberDelta=0,this._endLineNumberDelta=0}getEditOperations(S,f){let _=this._selection;this._startLineNumberDelta=0,this._endLineNumberDelta=0,_.startLineNumber<_.endLineNumber&&_.endColumn===1&&(this._endLineNumberDelta=1,_=_.setEndPosition(_.endLineNumber-1,S.getLineMaxColumn(_.endLineNumber-1)));const g=[];for(let s=_.startLineNumber;s<=_.endLineNumber;s++)g.push(S.getLineContent(s));const C=g.join(`
`);C===""&&this._isCopyingDown&&(this._startLineNumberDelta++,this._endLineNumberDelta++),this._noop?f.addEditOperation(new L.Range(_.endLineNumber,S.getLineMaxColumn(_.endLineNumber),_.endLineNumber+1,1),_.endLineNumber===S.getLineCount()?"":`
`):this._isCopyingDown?f.addEditOperation(new L.Range(_.startLineNumber,1,_.startLineNumber,1),C+`
`):f.addEditOperation(new L.Range(_.endLineNumber,S.getLineMaxColumn(_.endLineNumber),_.endLineNumber,S.getLineMaxColumn(_.endLineNumber)),`
`+C),this._selectionId=f.trackSelection(_),this._selectionDirection=this._selection.getDirection()}computeCursorState(S,f){let _=f.getTrackedSelection(this._selectionId);if(this._startLineNumberDelta!==0||this._endLineNumberDelta!==0){let g=_.startLineNumber,C=_.startColumn,s=_.endLineNumber,i=_.endColumn;this._startLineNumberDelta!==0&&(g=g+this._startLineNumberDelta,C=1),this._endLineNumberDelta!==0&&(s=s+this._endLineNumberDelta,i=1),_=k.Selection.createWithDirection(g,C,s,i,this._selectionDirection)}return _}}e.CopyLinesCommand=y}),define(ne[546],se([1,0,73,5]),function(Q,e,L,k){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.SortLinesCommand=void 0;class y{static getCollator(){return y._COLLATOR||(y._COLLATOR=new Intl.Collator),y._COLLATOR}constructor(_,g){this.selection=_,this.descending=g,this.selectionId=null}getEditOperations(_,g){const C=S(_,this.selection,this.descending);C&&g.addEditOperation(C.range,C.text),this.selectionId=g.trackSelection(this.selection)}computeCursorState(_,g){return g.getTrackedSelection(this.selectionId)}static canRun(_,g,C){if(_===null)return!1;const s=D(_,g,C);if(!s)return!1;for(let i=0,n=s.before.length;i<n;i++)if(s.before[i]!==s.after[i])return!0;return!1}}e.SortLinesCommand=y,y._COLLATOR=null;function D(f,_,g){const C=_.startLineNumber;let s=_.endLineNumber;if(_.endColumn===1&&s--,C>=s)return null;const i=[];for(let t=C;t<=s;t++)i.push(f.getLineContent(t));let n=i.slice(0);return n.sort(y.getCollator().compare),g===!0&&(n=n.reverse()),{startLineNumber:C,endLineNumber:s,before:i,after:n}}function S(f,_,g){const C=D(f,_,g);return C?L.EditOperation.replace(new k.Range(C.startLineNumber,1,C.endLineNumber,f.getLineMaxColumn(C.endLineNumber)),C.after.join(`
`)):null}}),define(ne[297],se([1,0]),function(Q,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.isSemanticColoringEnabled=e.SEMANTIC_HIGHLIGHTING_SETTING_ID=void 0,e.SEMANTIC_HIGHLIGHTING_SETTING_ID="editor.semanticHighlighting";function L(k,y,D){var S;const f=(S=D.getValue(e.SEMANTIC_HIGHLIGHTING_SETTING_ID,{overrideIdentifier:k.getLanguageId(),resource:k.uri}))===null||S===void 0?void 0:S.enabled;return typeof f=="boolean"?f:y.getColorTheme().semanticHighlighting}e.isSemanticColoringEnabled=L}),define(ne[298],se([1,0,64,12,5]),function(Q,e,L,k,y){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.BracketSelectionRangeProvider=void 0;class D{provideSelectionRanges(f,_){return we(this,void 0,void 0,function*(){const g=[];for(const C of _){const s=[];g.push(s);const i=new Map;yield new Promise(n=>D._bracketsRightYield(n,0,f,C,i)),yield new Promise(n=>D._bracketsLeftYield(n,0,f,C,i,s))}return g})}static _bracketsRightYield(f,_,g,C,s){const i=new Map,n=Date.now();for(;;){if(_>=D._maxRounds){f();break}if(!C){f();break}const t=g.bracketPairs.findNextBracket(C);if(!t){f();break}if(Date.now()-n>D._maxDuration){setTimeout(()=>D._bracketsRightYield(f,_+1,g,C,s));break}if(t.bracketInfo.isOpeningBracket){const u=t.bracketInfo.bracketText,h=i.has(u)?i.get(u):0;i.set(u,h+1)}else{const u=t.bracketInfo.getOpeningBrackets()[0].bracketText;let h=i.has(u)?i.get(u):0;if(h-=1,i.set(u,Math.max(0,h)),h<0){let r=s.get(u);r||(r=new L.LinkedList,s.set(u,r)),r.push(t.range)}}C=t.range.getEndPosition()}}static _bracketsLeftYield(f,_,g,C,s,i){const n=new Map,t=Date.now();for(;;){if(_>=D._maxRounds&&s.size===0){f();break}if(!C){f();break}const a=g.bracketPairs.findPrevBracket(C);if(!a){f();break}if(Date.now()-t>D._maxDuration){setTimeout(()=>D._bracketsLeftYield(f,_+1,g,C,s,i));break}if(a.bracketInfo.isOpeningBracket){const h=a.bracketInfo.bracketText;let r=n.has(h)?n.get(h):0;if(r-=1,n.set(h,Math.max(0,r)),r<0){const c=s.get(h);if(c){const o=c.shift();c.size===0&&s.delete(h);const d=y.Range.fromPositions(a.range.getEndPosition(),o.getStartPosition()),l=y.Range.fromPositions(a.range.getStartPosition(),o.getEndPosition());i.push({range:d}),i.push({range:l}),D._addBracketLeading(g,l,i)}}}else{const h=a.bracketInfo.getOpeningBrackets()[0].bracketText,r=n.has(h)?n.get(h):0;n.set(h,r+1)}C=a.range.getStartPosition()}}static _addBracketLeading(f,_,g){if(_.startLineNumber===_.endLineNumber)return;const C=_.startLineNumber,s=f.getLineFirstNonWhitespaceColumn(C);s!==0&&s!==_.startColumn&&(g.push({range:y.Range.fromPositions(new k.Position(C,s),_.getEndPosition())}),g.push({range:y.Range.fromPositions(new k.Position(C,1),_.getEndPosition())}));const i=C-1;if(i>0){const n=f.getLineFirstNonWhitespaceColumn(i);n===_.startColumn&&n!==f.getLineLastNonWhitespaceColumn(i)&&(g.push({range:y.Range.fromPositions(new k.Position(i,n),_.getEndPosition())}),g.push({range:y.Range.fromPositions(new k.Position(i,1),_.getEndPosition())}))}}}e.BracketSelectionRangeProvider=D,D._maxDuration=30,D._maxRounds=2}),define(ne[547],se([1,0,11,5]),function(Q,e,L,k){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.WordSelectionRangeProvider=void 0;class y{constructor(S=!0){this.selectSubwords=S}provideSelectionRanges(S,f){const _=[];for(const g of f){const C=[];_.push(C),this.selectSubwords&&this._addInWordRanges(C,S,g),this._addWordRanges(C,S,g),this._addWhitespaceLine(C,S,g),C.push({range:S.getFullModelRange()})}return _}_addInWordRanges(S,f,_){const g=f.getWordAtPosition(_);if(!g)return;const{word:C,startColumn:s}=g,i=_.column-s;let n=i,t=i,a=0;for(;n>=0;n--){const u=C.charCodeAt(n);if(n!==i&&(u===95||u===45))break;if((0,L.isLowerAsciiLetter)(u)&&(0,L.isUpperAsciiLetter)(a))break;a=u}for(n+=1;t<C.length;t++){const u=C.charCodeAt(t);if((0,L.isUpperAsciiLetter)(u)&&(0,L.isLowerAsciiLetter)(a))break;if(u===95||u===45)break;a=u}n<t&&S.push({range:new k.Range(_.lineNumber,s+n,_.lineNumber,s+t)})}_addWordRanges(S,f,_){const g=f.getWordAtPosition(_);g&&S.push({range:new k.Range(_.lineNumber,g.startColumn,_.lineNumber,g.endColumn)})}_addWhitespaceLine(S,f,_){f.getLineLength(_.lineNumber)>0&&f.getLineFirstNonWhitespaceColumn(_.lineNumber)===0&&f.getLineLastNonWhitespaceColumn(_.lineNumber)===0&&S.push({range:new k.Range(_.lineNumber,1,_.lineNumber,f.getLineMaxColumn(_.lineNumber))})}}e.WordSelectionRangeProvider=y}),define(ne[128],se([1,0]),function(Q,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.SnippetParser=e.TextmateSnippet=e.Variable=e.FormatString=e.Transform=e.Choice=e.Placeholder=e.TransformableMarker=e.Text=e.Marker=e.Scanner=void 0;class L{constructor(){this.value="",this.pos=0}static isDigitCharacter(a){return a>=48&&a<=57}static isVariableCharacter(a){return a===95||a>=97&&a<=122||a>=65&&a<=90}text(a){this.value=a,this.pos=0}tokenText(a){return this.value.substr(a.pos,a.len)}next(){if(this.pos>=this.value.length)return{type:14,pos:this.pos,len:0};const a=this.pos;let u=0,h=this.value.charCodeAt(a),r;if(r=L._table[h],typeof r=="number")return this.pos+=1,{type:r,pos:a,len:1};if(L.isDigitCharacter(h)){r=8;do u+=1,h=this.value.charCodeAt(a+u);while(L.isDigitCharacter(h));return this.pos+=u,{type:r,pos:a,len:u}}if(L.isVariableCharacter(h)){r=9;do h=this.value.charCodeAt(a+ ++u);while(L.isVariableCharacter(h)||L.isDigitCharacter(h));return this.pos+=u,{type:r,pos:a,len:u}}r=10;do u+=1,h=this.value.charCodeAt(a+u);while(!isNaN(h)&&typeof L._table[h]>"u"&&!L.isDigitCharacter(h)&&!L.isVariableCharacter(h));return this.pos+=u,{type:r,pos:a,len:u}}}e.Scanner=L,L._table={[36]:0,[58]:1,[44]:2,[123]:3,[125]:4,[92]:5,[47]:6,[124]:7,[43]:11,[45]:12,[63]:13};class k{constructor(){this._children=[]}appendChild(a){return a instanceof y&&this._children[this._children.length-1]instanceof y?this._children[this._children.length-1].value+=a.value:(a.parent=this,this._children.push(a)),this}replace(a,u){const{parent:h}=a,r=h.children.indexOf(a),c=h.children.slice(0);c.splice(r,1,...u),h._children=c,function o(d,l){for(const p of d)p.parent=l,o(p.children,p)}(u,h)}get children(){return this._children}get rightMostDescendant(){return this._children.length>0?this._children[this._children.length-1].rightMostDescendant:this}get snippet(){let a=this;for(;;){if(!a)return;if(a instanceof i)return a;a=a.parent}}toString(){return this.children.reduce((a,u)=>a+u.toString(),"")}len(){return 0}}e.Marker=k;class y extends k{constructor(a){super(),this.value=a}toString(){return this.value}len(){return this.value.length}clone(){return new y(this.value)}}e.Text=y;class D extends k{}e.TransformableMarker=D;class S extends D{static compareByIndex(a,u){return a.index===u.index?0:a.isFinalTabstop?1:u.isFinalTabstop||a.index<u.index?-1:a.index>u.index?1:0}constructor(a){super(),this.index=a}get isFinalTabstop(){return this.index===0}get choice(){return this._children.length===1&&this._children[0]instanceof f?this._children[0]:void 0}clone(){const a=new S(this.index);return this.transform&&(a.transform=this.transform.clone()),a._children=this.children.map(u=>u.clone()),a}}e.Placeholder=S;class f extends k{constructor(){super(...arguments),this.options=[]}appendChild(a){return a instanceof y&&(a.parent=this,this.options.push(a)),this}toString(){return this.options[0].value}len(){return this.options[0].len()}clone(){const a=new f;return this.options.forEach(a.appendChild,a),a}}e.Choice=f;class _ extends k{constructor(){super(...arguments),this.regexp=new RegExp("")}resolve(a){const u=this;let h=!1,r=a.replace(this.regexp,function(){return h=!0,u._replace(Array.prototype.slice.call(arguments,0,-2))});return!h&&this._children.some(c=>c instanceof g&&!!c.elseValue)&&(r=this._replace([])),r}_replace(a){let u="";for(const h of this._children)if(h instanceof g){let r=a[h.index]||"";r=h.resolve(r),u+=r}else u+=h.toString();return u}toString(){return""}clone(){const a=new _;return a.regexp=new RegExp(this.regexp.source,(this.regexp.ignoreCase?"i":"")+(this.regexp.global?"g":"")),a._children=this.children.map(u=>u.clone()),a}}e.Transform=_;class g extends k{constructor(a,u,h,r){super(),this.index=a,this.shorthandName=u,this.ifValue=h,this.elseValue=r}resolve(a){return this.shorthandName==="upcase"?a?a.toLocaleUpperCase():"":this.shorthandName==="downcase"?a?a.toLocaleLowerCase():"":this.shorthandName==="capitalize"?a?a[0].toLocaleUpperCase()+a.substr(1):"":this.shorthandName==="pascalcase"?a?this._toPascalCase(a):"":this.shorthandName==="camelcase"?a?this._toCamelCase(a):"":a&&typeof this.ifValue=="string"?this.ifValue:!a&&typeof this.elseValue=="string"?this.elseValue:a||""}_toPascalCase(a){const u=a.match(/[a-z0-9]+/gi);return u?u.map(h=>h.charAt(0).toUpperCase()+h.substr(1)).join(""):a}_toCamelCase(a){const u=a.match(/[a-z0-9]+/gi);return u?u.map((h,r)=>r===0?h.charAt(0).toLowerCase()+h.substr(1):h.charAt(0).toUpperCase()+h.substr(1)).join(""):a}clone(){return new g(this.index,this.shorthandName,this.ifValue,this.elseValue)}}e.FormatString=g;class C extends D{constructor(a){super(),this.name=a}resolve(a){let u=a.resolve(this);return this.transform&&(u=this.transform.resolve(u||"")),u!==void 0?(this._children=[new y(u)],!0):!1}clone(){const a=new C(this.name);return this.transform&&(a.transform=this.transform.clone()),a._children=this.children.map(u=>u.clone()),a}}e.Variable=C;function s(t,a){const u=[...t];for(;u.length>0;){const h=u.shift();if(!a(h))break;u.unshift(...h.children)}}class i extends k{get placeholderInfo(){if(!this._placeholders){const a=[];let u;this.walk(function(h){return h instanceof S&&(a.push(h),u=!u||u.index<h.index?h:u),!0}),this._placeholders={all:a,last:u}}return this._placeholders}get placeholders(){const{all:a}=this.placeholderInfo;return a}offset(a){let u=0,h=!1;return this.walk(r=>r===a?(h=!0,!1):(u+=r.len(),!0)),h?u:-1}fullLen(a){let u=0;return s([a],h=>(u+=h.len(),!0)),u}enclosingPlaceholders(a){const u=[];let{parent:h}=a;for(;h;)h instanceof S&&u.push(h),h=h.parent;return u}resolveVariables(a){return this.walk(u=>(u instanceof C&&u.resolve(a)&&(this._placeholders=void 0),!0)),this}appendChild(a){return this._placeholders=void 0,super.appendChild(a)}replace(a,u){return this._placeholders=void 0,super.replace(a,u)}clone(){const a=new i;return this._children=this.children.map(u=>u.clone()),a}walk(a){s(this.children,a)}}e.TextmateSnippet=i;class n{constructor(){this._scanner=new L,this._token={type:14,pos:0,len:0}}static escape(a){return a.replace(/\$|}|\\/g,"\\$&")}static guessNeedsClipboard(a){return/\${?CLIPBOARD/.test(a)}parse(a,u,h){const r=new i;return this.parseFragment(a,r),this.ensureFinalTabstop(r,h??!1,u??!1),r}parseFragment(a,u){const h=u.children.length;for(this._scanner.text(a),this._token=this._scanner.next();this._parse(u););const r=new Map,c=[];u.walk(l=>(l instanceof S&&(l.isFinalTabstop?r.set(0,void 0):!r.has(l.index)&&l.children.length>0?r.set(l.index,l.children):c.push(l)),!0));const o=(l,p)=>{const m=r.get(l.index);if(!m)return;const v=new S(l.index);v.transform=l.transform;for(const b of m){const w=b.clone();v.appendChild(w),w instanceof S&&r.has(w.index)&&!p.has(w.index)&&(p.add(w.index),o(w,p),p.delete(w.index))}u.replace(l,[v])},d=new Set;for(const l of c)o(l,d);return u.children.slice(h)}ensureFinalTabstop(a,u,h){(u||h&&a.placeholders.length>0)&&(a.placeholders.find(c=>c.index===0)||a.appendChild(new S(0)))}_accept(a,u){if(a===void 0||this._token.type===a){const h=u?this._scanner.tokenText(this._token):!0;return this._token=this._scanner.next(),h}return!1}_backTo(a){return this._scanner.pos=a.pos+a.len,this._token=a,!1}_until(a){const u=this._token;for(;this._token.type!==a;){if(this._token.type===14)return!1;if(this._token.type===5){const r=this._scanner.next();if(r.type!==0&&r.type!==4&&r.type!==5)return!1}this._token=this._scanner.next()}const h=this._scanner.value.substring(u.pos,this._token.pos).replace(/\\(\$|}|\\)/g,"$1");return this._token=this._scanner.next(),h}_parse(a){return this._parseEscaped(a)||this._parseTabstopOrVariableName(a)||this._parseComplexPlaceholder(a)||this._parseComplexVariable(a)||this._parseAnything(a)}_parseEscaped(a){let u;return(u=this._accept(5,!0))?(u=this._accept(0,!0)||this._accept(4,!0)||this._accept(5,!0)||u,a.appendChild(new y(u)),!0):!1}_parseTabstopOrVariableName(a){let u;const h=this._token;return this._accept(0)&&(u=this._accept(9,!0)||this._accept(8,!0))?(a.appendChild(/^\d+$/.test(u)?new S(Number(u)):new C(u)),!0):this._backTo(h)}_parseComplexPlaceholder(a){let u;const h=this._token;if(!(this._accept(0)&&this._accept(3)&&(u=this._accept(8,!0))))return this._backTo(h);const c=new S(Number(u));if(this._accept(1))for(;;){if(this._accept(4))return a.appendChild(c),!0;if(!this._parse(c))return a.appendChild(new y("${"+u+":")),c.children.forEach(a.appendChild,a),!0}else if(c.index>0&&this._accept(7)){const o=new f;for(;;){if(this._parseChoiceElement(o)){if(this._accept(2))continue;if(this._accept(7)&&(c.appendChild(o),this._accept(4)))return a.appendChild(c),!0}return this._backTo(h),!1}}else return this._accept(6)?this._parseTransform(c)?(a.appendChild(c),!0):(this._backTo(h),!1):this._accept(4)?(a.appendChild(c),!0):this._backTo(h)}_parseChoiceElement(a){const u=this._token,h=[];for(;!(this._token.type===2||this._token.type===7);){let r;if((r=this._accept(5,!0))?r=this._accept(2,!0)||this._accept(7,!0)||this._accept(5,!0)||r:r=this._accept(void 0,!0),!r)return this._backTo(u),!1;h.push(r)}return h.length===0?(this._backTo(u),!1):(a.appendChild(new y(h.join(""))),!0)}_parseComplexVariable(a){let u;const h=this._token;if(!(this._accept(0)&&this._accept(3)&&(u=this._accept(9,!0))))return this._backTo(h);const c=new C(u);if(this._accept(1))for(;;){if(this._accept(4))return a.appendChild(c),!0;if(!this._parse(c))return a.appendChild(new y("${"+u+":")),c.children.forEach(a.appendChild,a),!0}else return this._accept(6)?this._parseTransform(c)?(a.appendChild(c),!0):(this._backTo(h),!1):this._accept(4)?(a.appendChild(c),!0):this._backTo(h)}_parseTransform(a){const u=new _;let h="",r="";for(;!this._accept(6);){let c;if(c=this._accept(5,!0)){c=this._accept(6,!0)||c,h+=c;continue}if(this._token.type!==14){h+=this._accept(void 0,!0);continue}return!1}for(;!this._accept(6);){let c;if(c=this._accept(5,!0)){c=this._accept(5,!0)||this._accept(6,!0)||c,u.appendChild(new y(c));continue}if(!(this._parseFormatString(u)||this._parseAnything(u)))return!1}for(;!this._accept(4);){if(this._token.type!==14){r+=this._accept(void 0,!0);continue}return!1}try{u.regexp=new RegExp(h,r)}catch{return!1}return a.transform=u,!0}_parseFormatString(a){const u=this._token;if(!this._accept(0))return!1;let h=!1;this._accept(3)&&(h=!0);const r=this._accept(8,!0);if(r)if(h){if(this._accept(4))return a.appendChild(new g(Number(r))),!0;if(!this._accept(1))return this._backTo(u),!1}else return a.appendChild(new g(Number(r))),!0;else return this._backTo(u),!1;if(this._accept(6)){const c=this._accept(9,!0);return!c||!this._accept(4)?(this._backTo(u),!1):(a.appendChild(new g(Number(r),c)),!0)}else if(this._accept(11)){const c=this._until(4);if(c)return a.appendChild(new g(Number(r),void 0,c,void 0)),!0}else if(this._accept(12)){const c=this._until(4);if(c)return a.appendChild(new g(Number(r),void 0,void 0,c)),!0}else if(this._accept(13)){const c=this._until(1);if(c){const o=this._until(4);if(o)return a.appendChild(new g(Number(r),void 0,c,o)),!0}}else{const c=this._until(4);if(c)return a.appendChild(new g(Number(r),void 0,void 0,c)),!0}return this._backTo(u),!1}_parseAnything(a){return this._token.type!==14?(a.appendChild(new y(this._scanner.tokenText(this._token))),this._accept(void 0),!0):!1}}e.SnippetParser=n}),define(ne[299],se([1,0]),function(Q,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.StickyModel=e.StickyElement=e.StickyRange=void 0;class L{constructor(S,f){this.startLineNumber=S,this.endLineNumber=f}}e.StickyRange=L;class k{constructor(S,f,_){this.range=S,this.children=f,this.parent=_}}e.StickyElement=k;class y{constructor(S,f,_,g){this.uri=S,this.version=f,this.element=_,this.outlineProviderId=g}}e.StickyModel=y}),define(ne[300],se([1,0,14,72,11]),function(Q,e,L,k,y){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.CompletionModel=e.LineContext=void 0;class D{constructor(_,g){this.leadingLineContent=_,this.characterCountDelta=g}}e.LineContext=D;class S{constructor(_,g,C,s,i,n,t=k.FuzzyScoreOptions.default,a=void 0){this.clipboardText=a,this._snippetCompareFn=S._compareCompletionItems,this._items=_,this._column=g,this._wordDistance=s,this._options=i,this._refilterKind=1,this._lineContext=C,this._fuzzyScoreOptions=t,n==="top"?this._snippetCompareFn=S._compareCompletionItemsSnippetsUp:n==="bottom"&&(this._snippetCompareFn=S._compareCompletionItemsSnippetsDown)}get lineContext(){return this._lineContext}set lineContext(_){(this._lineContext.leadingLineContent!==_.leadingLineContent||this._lineContext.characterCountDelta!==_.characterCountDelta)&&(this._refilterKind=this._lineContext.characterCountDelta<_.characterCountDelta&&this._filteredItems?2:1,this._lineContext=_)}get items(){return this._ensureCachedState(),this._filteredItems}getItemsByProvider(){return this._ensureCachedState(),this._itemsByProvider}getIncompleteProvider(){this._ensureCachedState();const _=new Set;for(const[g,C]of this.getItemsByProvider())C.length>0&&C[0].container.incomplete&&_.add(g);return _}get stats(){return this._ensureCachedState(),this._stats}_ensureCachedState(){this._refilterKind!==0&&this._createCachedState()}_createCachedState(){this._itemsByProvider=new Map;const _=[],{leadingLineContent:g,characterCountDelta:C}=this._lineContext;let s="",i="";const n=this._refilterKind===1?this._items:this._filteredItems,t=[],a=!this._options.filterGraceful||n.length>2e3?k.fuzzyScore:k.fuzzyScoreGracefulAggressive;for(let u=0;u<n.length;u++){const h=n[u];if(h.isInvalid)continue;const r=this._itemsByProvider.get(h.provider);r?r.push(h):this._itemsByProvider.set(h.provider,[h]);const c=h.position.column-h.editStart.column,o=c+C-(h.position.column-this._column);if(s.length!==o&&(s=o===0?"":g.slice(-o),i=s.toLowerCase()),h.word=s,o===0)h.score=k.FuzzyScore.Default;else{let d=0;for(;d<c;){const l=s.charCodeAt(d);if(l===32||l===9)d+=1;else break}if(d>=o)h.score=k.FuzzyScore.Default;else if(typeof h.completion.filterText=="string"){const l=a(s,i,d,h.completion.filterText,h.filterTextLow,0,this._fuzzyScoreOptions);if(!l)continue;(0,y.compareIgnoreCase)(h.completion.filterText,h.textLabel)===0?h.score=l:(h.score=(0,k.anyScore)(s,i,d,h.textLabel,h.labelLow,0),h.score[0]=l[0])}else{const l=a(s,i,d,h.textLabel,h.labelLow,0,this._fuzzyScoreOptions);if(!l)continue;h.score=l}}h.idx=u,h.distance=this._wordDistance.distance(h.position,h.completion),t.push(h),_.push(h.textLabel.length)}this._filteredItems=t.sort(this._snippetCompareFn),this._refilterKind=0,this._stats={pLabelLen:_.length?(0,L.quickSelect)(_.length-.85,_,(u,h)=>u-h):0}}static _compareCompletionItems(_,g){return _.score[0]>g.score[0]?-1:_.score[0]<g.score[0]?1:_.distance<g.distance?-1:_.distance>g.distance?1:_.idx<g.idx?-1:_.idx>g.idx?1:0}static _compareCompletionItemsSnippetsDown(_,g){if(_.completion.kind!==g.completion.kind){if(_.completion.kind===27)return 1;if(g.completion.kind===27)return-1}return S._compareCompletionItems(_,g)}static _compareCompletionItemsSnippetsUp(_,g){if(_.completion.kind!==g.completion.kind){if(_.completion.kind===27)return-1;if(g.completion.kind===27)return 1}return S._compareCompletionItems(_,g)}}e.CompletionModel=S}),define(ne[548],se([1,0,14,2,121]),function(Q,e,L,k,y){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.CommitCharacterController=void 0;class D{constructor(f,_,g,C){this._disposables=new k.DisposableStore,this._disposables.add(g.onDidSuggest(s=>{s.completionModel.items.length===0&&this.reset()})),this._disposables.add(g.onDidCancel(s=>{this.reset()})),this._disposables.add(_.onDidShow(()=>this._onItem(_.getFocusedItem()))),this._disposables.add(_.onDidFocus(this._onItem,this)),this._disposables.add(_.onDidHide(this.reset,this)),this._disposables.add(f.onWillType(s=>{if(this._active&&!_.isFrozen()&&g.state!==0){const i=s.charCodeAt(s.length-1);this._active.acceptCharacters.has(i)&&f.getOption(0)&&C(this._active.item)}}))}_onItem(f){if(!f||!(0,L.isNonEmptyArray)(f.item.completion.commitCharacters)){this.reset();return}if(this._active&&this._active.item.item===f.item)return;const _=new y.CharacterSet;for(const g of f.item.completion.commitCharacters)g.length>0&&_.add(g.charCodeAt(0));this._active={acceptCharacters:_,item:f}}reset(){this._active=void 0}dispose(){this._disposables.dispose()}}e.CommitCharacterController=D}),define(ne[549],se([1,0,2]),function(Q,e,L){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.OvertypingCapturer=void 0;class k{constructor(D,S){this._disposables=new L.DisposableStore,this._lastOvertyped=[],this._locked=!1,this._disposables.add(D.onWillType(()=>{if(this._locked||!D.hasModel())return;const f=D.getSelections(),_=f.length;let g=!1;for(let s=0;s<_;s++)if(!f[s].isEmpty()){g=!0;break}if(!g){this._lastOvertyped.length!==0&&(this._lastOvertyped.length=0);return}this._lastOvertyped=[];const C=D.getModel();for(let s=0;s<_;s++){const i=f[s];if(C.getValueLengthInRange(i)>k._maxSelectionLength)return;this._lastOvertyped[s]={value:C.getValueInRange(i),multiline:i.startLineNumber!==i.endLineNumber}}})),this._disposables.add(S.onDidTrigger(f=>{this._locked=!0})),this._disposables.add(S.onDidCancel(f=>{this._locked=!1}))}getLastOvertypedInfo(D){if(D>=0&&D<this._lastOvertyped.length)return this._lastOvertyped[D]}dispose(){this._disposables.dispose()}}e.OvertypingCapturer=k,k._maxSelectionLength=51200}),define(ne[301],se([1,0,14,5,298]),function(Q,e,L,k,y){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.WordDistance=void 0;class D{static create(f,_){return we(this,void 0,void 0,function*(){if(!_.getOption(116).localityBonus||!_.hasModel())return D.None;const g=_.getModel(),C=_.getPosition();if(!f.canComputeWordRanges(g.uri))return D.None;const[s]=yield new y.BracketSelectionRangeProvider().provideSelectionRanges(g,[C]);if(s.length===0)return D.None;const i=yield f.computeWordRanges(g.uri,s[0].range);if(!i)return D.None;const n=g.getWordUntilPosition(C);return delete i[n.word],new class extends D{distance(t,a){if(!C.equals(_.getPosition()))return 0;if(a.kind===17)return 2<<20;const u=typeof a.label=="string"?a.label:a.label.label,h=i[u];if((0,L.isFalsyOrEmpty)(h))return 2<<20;const r=(0,L.binarySearch)(h,k.Range.fromPositions(t),k.Range.compareRangesUsingStarts),c=r>=0?h[r]:h[Math.max(0,~r-1)];let o=s.length;for(const d of s){if(!k.Range.containsRange(d.range,c))break;o-=1}return o}}})}}e.WordDistance=D,D.None=new class extends D{distance(){return 0}}}),define(ne[302],se([1,0]),function(Q,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.stateExists=e.findRules=e.substituteMatches=e.createError=e.log=e.sanitize=e.fixCase=e.empty=e.isIAction=e.isString=e.isFuzzyAction=e.isFuzzyActionArr=void 0;function L(t){return Array.isArray(t)}e.isFuzzyActionArr=L;function k(t){return!L(t)}e.isFuzzyAction=k;function y(t){return typeof t=="string"}e.isString=y;function D(t){return!y(t)}e.isIAction=D;function S(t){return!t}e.empty=S;function f(t,a){return t.ignoreCase&&a?a.toLowerCase():a}e.fixCase=f;function _(t){return t.replace(/[&<>'"_]/g,"-")}e.sanitize=_;function g(t,a){console.log(`${t.languageId}: ${a}`)}e.log=g;function C(t,a){return new Error(`${t.languageId}: ${a}`)}e.createError=C;function s(t,a,u,h,r){const c=/\$((\$)|(#)|(\d\d?)|[sS](\d\d?)|@(\w+))/g;let o=null;return a.replace(c,function(d,l,p,m,v,b,w,E,I){return S(p)?S(m)?!S(v)&&v<h.length?f(t,h[v]):!S(w)&&t&&typeof t[w]=="string"?t[w]:(o===null&&(o=r.split("."),o.unshift(r)),!S(b)&&b<o.length?f(t,o[b]):""):f(t,u):"$"})}e.substituteMatches=s;function i(t,a){let u=a;for(;u&&u.length>0;){const h=t.tokenizer[u];if(h)return h;const r=u.lastIndexOf(".");r<0?u=null:u=u.substr(0,r)}return null}e.findRules=i;function n(t,a){let u=a;for(;u&&u.length>0;){if(t.stateNames[u])return!0;const r=u.lastIndexOf(".");r<0?u=null:u=u.substr(0,r)}return!1}e.stateExists=n}),define(ne[550],se([1,0,302]),function(Q,e,L){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.compile=void 0;function k(t,a){if(!a||!Array.isArray(a))return!1;for(const u of a)if(!t(u))return!1;return!0}function y(t,a){return typeof t=="boolean"?t:a}function D(t,a){return typeof t=="string"?t:a}function S(t){const a={};for(const u of t)a[u]=!0;return a}function f(t,a=!1){a&&(t=t.map(function(h){return h.toLowerCase()}));const u=S(t);return a?function(h){return u[h.toLowerCase()]!==void 0&&u.hasOwnProperty(h.toLowerCase())}:function(h){return u[h]!==void 0&&u.hasOwnProperty(h)}}function _(t,a){a=a.replace(/@@/g,"");let u=0,h;do h=!1,a=a.replace(/@(\w+)/g,function(c,o){h=!0;let d="";if(typeof t[o]=="string")d=t[o];else if(t[o]&&t[o]instanceof RegExp)d=t[o].source;else throw t[o]===void 0?L.createError(t,"language definition does not contain attribute '"+o+"', used at: "+a):L.createError(t,"attribute reference '"+o+"' must be a string, used at: "+a);return L.empty(d)?"":"(?:"+d+")"}),u++;while(h&&u<5);a=a.replace(/\x01/g,"@");const r=(t.ignoreCase?"i":"")+(t.unicode?"u":"");return new RegExp(a,r)}function g(t,a,u,h){if(h<0)return t;if(h<a.length)return a[h];if(h>=100){h=h-100;const r=u.split(".");if(r.unshift(u),h<r.length)return r[h]}return null}function C(t,a,u,h){let r=-1,c=u,o=u.match(/^\$(([sS]?)(\d\d?)|#)(.*)$/);o&&(o[3]&&(r=parseInt(o[3]),o[2]&&(r=r+100)),c=o[4]);let d="~",l=c;!c||c.length===0?(d="!=",l=""):/^\w*$/.test(l)?d="==":(o=c.match(/^(@|!@|~|!~|==|!=)(.*)$/),o&&(d=o[1],l=o[2]));let p;if((d==="~"||d==="!~")&&/^(\w|\|)*$/.test(l)){const m=f(l.split("|"),t.ignoreCase);p=function(v){return d==="~"?m(v):!m(v)}}else if(d==="@"||d==="!@"){const m=t[l];if(!m)throw L.createError(t,"the @ match target '"+l+"' is not defined, in rule: "+a);if(!k(function(b){return typeof b=="string"},m))throw L.createError(t,"the @ match target '"+l+"' must be an array of strings, in rule: "+a);const v=f(m,t.ignoreCase);p=function(b){return d==="@"?v(b):!v(b)}}else if(d==="~"||d==="!~")if(l.indexOf("$")<0){const m=_(t,"^"+l+"$");p=function(v){return d==="~"?m.test(v):!m.test(v)}}else p=function(m,v,b,w){return _(t,"^"+L.substituteMatches(t,l,v,b,w)+"$").test(m)};else if(l.indexOf("$")<0){const m=L.fixCase(t,l);p=function(v){return d==="=="?v===m:v!==m}}else{const m=L.fixCase(t,l);p=function(v,b,w,E,I){const M=L.substituteMatches(t,m,b,w,E);return d==="=="?v===M:v!==M}}return r===-1?{name:u,value:h,test:function(m,v,b,w){return p(m,m,v,b,w)}}:{name:u,value:h,test:function(m,v,b,w){const E=g(m,v,b,r);return p(E||"",m,v,b,w)}}}function s(t,a,u){if(u){if(typeof u=="string")return u;if(u.token||u.token===""){if(typeof u.token!="string")throw L.createError(t,"a 'token' attribute must be of type string, in rule: "+a);{const h={token:u.token};if(u.token.indexOf("$")>=0&&(h.tokenSubst=!0),typeof u.bracket=="string")if(u.bracket==="@open")h.bracket=1;else if(u.bracket==="@close")h.bracket=-1;else throw L.createError(t,"a 'bracket' attribute must be either '@open' or '@close', in rule: "+a);if(u.next){if(typeof u.next!="string")throw L.createError(t,"the next state must be a string value in rule: "+a);{let r=u.next;if(!/^(@pop|@push|@popall)$/.test(r)&&(r[0]==="@"&&(r=r.substr(1)),r.indexOf("$")<0&&!L.stateExists(t,L.substituteMatches(t,r,"",[],""))))throw L.createError(t,"the next state '"+u.next+"' is not defined in rule: "+a);h.next=r}}return typeof u.goBack=="number"&&(h.goBack=u.goBack),typeof u.switchTo=="string"&&(h.switchTo=u.switchTo),typeof u.log=="string"&&(h.log=u.log),typeof u.nextEmbedded=="string"&&(h.nextEmbedded=u.nextEmbedded,t.usesEmbedded=!0),h}}else if(Array.isArray(u)){const h=[];for(let r=0,c=u.length;r<c;r++)h[r]=s(t,a,u[r]);return{group:h}}else if(u.cases){const h=[];for(const c in u.cases)if(u.cases.hasOwnProperty(c)){const o=s(t,a,u.cases[c]);c==="@default"||c==="@"||c===""?h.push({test:void 0,value:o,name:c}):c==="@eos"?h.push({test:function(d,l,p,m){return m},value:o,name:c}):h.push(C(t,a,c,o))}const r=t.defaultToken;return{test:function(c,o,d,l){for(const p of h)if(!p.test||p.test(c,o,d,l))return p.value;return r}}}else throw L.createError(t,"an action must be a string, an object with a 'token' or 'cases' attribute, or an array of actions; in rule: "+a)}else return{token:""}}class i{constructor(a){this.regex=new RegExp(""),this.action={token:""},this.matchOnlyAtLineStart=!1,this.name="",this.name=a}setRegex(a,u){let h;if(typeof u=="string")h=u;else if(u instanceof RegExp)h=u.source;else throw L.createError(a,"rules must start with a match string or regular expression: "+this.name);this.matchOnlyAtLineStart=h.length>0&&h[0]==="^",this.name=this.name+": "+h,this.regex=_(a,"^(?:"+(this.matchOnlyAtLineStart?h.substr(1):h)+")")}setAction(a,u){this.action=s(a,this.name,u)}}function n(t,a){if(!a||typeof a!="object")throw new Error("Monarch: expecting a language definition object");const u={};u.languageId=t,u.includeLF=y(a.includeLF,!1),u.noThrow=!1,u.maxStack=100,u.start=typeof a.start=="string"?a.start:null,u.ignoreCase=y(a.ignoreCase,!1),u.unicode=y(a.unicode,!1),u.tokenPostfix=D(a.tokenPostfix,"."+u.languageId),u.defaultToken=D(a.defaultToken,"source"),u.usesEmbedded=!1;const h=a;h.languageId=t,h.includeLF=u.includeLF,h.ignoreCase=u.ignoreCase,h.unicode=u.unicode,h.noThrow=u.noThrow,h.usesEmbedded=u.usesEmbedded,h.stateNames=a.tokenizer,h.defaultToken=u.defaultToken;function r(o,d,l){for(const p of l){let m=p.include;if(m){if(typeof m!="string")throw L.createError(u,"an 'include' attribute must be a string at: "+o);if(m[0]==="@"&&(m=m.substr(1)),!a.tokenizer[m])throw L.createError(u,"include target '"+m+"' is not defined at: "+o);r(o+"."+m,d,a.tokenizer[m])}else{const v=new i(o);if(Array.isArray(p)&&p.length>=1&&p.length<=3)if(v.setRegex(h,p[0]),p.length>=3)if(typeof p[1]=="string")v.setAction(h,{token:p[1],next:p[2]});else if(typeof p[1]=="object"){const b=p[1];b.next=p[2],v.setAction(h,b)}else throw L.createError(u,"a next state as the last element of a rule can only be given if the action is either an object or a string, at: "+o);else v.setAction(h,p[1]);else{if(!p.regex)throw L.createError(u,"a rule must either be an array, or an object with a 'regex' or 'include' field at: "+o);p.name&&typeof p.name=="string"&&(v.name=p.name),p.matchOnlyAtStart&&(v.matchOnlyAtLineStart=y(p.matchOnlyAtLineStart,!1)),v.setRegex(h,p.regex),v.setAction(h,p.action)}d.push(v)}}}if(!a.tokenizer||typeof a.tokenizer!="object")throw L.createError(u,"a language definition must define the 'tokenizer' attribute as an object");u.tokenizer=[];for(const o in a.tokenizer)if(a.tokenizer.hasOwnProperty(o)){u.start||(u.start=o);const d=a.tokenizer[o];u.tokenizer[o]=new Array,r("tokenizer."+o,u.tokenizer[o],d)}if(u.usesEmbedded=h.usesEmbedded,a.brackets){if(!Array.isArray(a.brackets))throw L.createError(u,"the 'brackets' attribute must be defined as an array")}else a.brackets=[{open:"{",close:"}",token:"delimiter.curly"},{open:"[",close:"]",token:"delimiter.square"},{open:"(",close:")",token:"delimiter.parenthesis"},{open:"<",close:">",token:"delimiter.angle"}];const c=[];for(const o of a.brackets){let d=o;if(d&&Array.isArray(d)&&d.length===3&&(d={token:d[2],open:d[0],close:d[1]}),d.open===d.close)throw L.createError(u,"open and close brackets in a 'brackets' attribute must be different: "+d.open+`
 hint: use the 'bracket' attribute if matching on equal brackets is required.`);if(typeof d.open=="string"&&typeof d.token=="string"&&typeof d.close=="string")c.push({token:d.token+u.tokenPostfix,open:L.fixCase(u,d.open),close:L.fixCase(u,d.close)});else throw L.createError(u,"every element in the 'brackets' array must be a '{open,close,token}' object or array")}return u.brackets=c,u.noThrow=!0,u}e.compile=n}),define(ne[551],se([3,4]),function(Q,e){return Q.create("vs/base/browser/ui/actionbar/actionViewItems",e)}),define(ne[552],se([3,4]),function(Q,e){return Q.create("vs/base/browser/ui/findinput/findInput",e)}),define(ne[553],se([3,4]),function(Q,e){return Q.create("vs/base/browser/ui/findinput/findInputToggles",e)}),define(ne[554],se([3,4]),function(Q,e){return Q.create("vs/base/browser/ui/findinput/replaceInput",e)}),define(ne[555],se([3,4]),function(Q,e){return Q.create("vs/base/browser/ui/hover/hoverWidget",e)}),define(ne[556],se([3,4]),function(Q,e){return Q.create("vs/base/browser/ui/iconLabel/iconLabelHover",e)}),define(ne[557],se([3,4]),function(Q,e){return Q.create("vs/base/browser/ui/inputbox/inputBox",e)}),define(ne[558],se([3,4]),function(Q,e){return Q.create("vs/base/browser/ui/keybindingLabel/keybindingLabel",e)}),define(ne[559],se([3,4]),function(Q,e){return Q.create("vs/base/browser/ui/selectBox/selectBoxCustom",e)}),define(ne[560],se([3,4]),function(Q,e){return Q.create("vs/base/browser/ui/toolbar/toolbar",e)}),define(ne[561],se([3,4]),function(Q,e){return Q.create("vs/base/browser/ui/tree/abstractTree",e)}),define(ne[562],se([3,4]),function(Q,e){return Q.create("vs/base/common/actions",e)}),define(ne[39],se([1,0,6,2,562]),function(Q,e,L,k,y){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.toAction=e.EmptySubmenuAction=e.SubmenuAction=e.Separator=e.ActionRunner=e.Action=void 0;class D extends k.Disposable{constructor(i,n="",t="",a=!0,u){super(),this._onDidChange=this._register(new L.Emitter),this.onDidChange=this._onDidChange.event,this._enabled=!0,this._id=i,this._label=n,this._cssClass=t,this._enabled=a,this._actionCallback=u}get id(){return this._id}get label(){return this._label}set label(i){this._setLabel(i)}_setLabel(i){this._label!==i&&(this._label=i,this._onDidChange.fire({label:i}))}get tooltip(){return this._tooltip||""}set tooltip(i){this._setTooltip(i)}_setTooltip(i){this._tooltip!==i&&(this._tooltip=i,this._onDidChange.fire({tooltip:i}))}get class(){return this._cssClass}set class(i){this._setClass(i)}_setClass(i){this._cssClass!==i&&(this._cssClass=i,this._onDidChange.fire({class:i}))}get enabled(){return this._enabled}set enabled(i){this._setEnabled(i)}_setEnabled(i){this._enabled!==i&&(this._enabled=i,this._onDidChange.fire({enabled:i}))}get checked(){return this._checked}set checked(i){this._setChecked(i)}_setChecked(i){this._checked!==i&&(this._checked=i,this._onDidChange.fire({checked:i}))}run(i,n){return we(this,void 0,void 0,function*(){this._actionCallback&&(yield this._actionCallback(i))})}}e.Action=D;class S extends k.Disposable{constructor(){super(...arguments),this._onWillRun=this._register(new L.Emitter),this.onWillRun=this._onWillRun.event,this._onDidRun=this._register(new L.Emitter),this.onDidRun=this._onDidRun.event}run(i,n){return we(this,void 0,void 0,function*(){if(!i.enabled)return;this._onWillRun.fire({action:i});let t;try{yield this.runAction(i,n)}catch(a){t=a}this._onDidRun.fire({action:i,error:t})})}runAction(i,n){return we(this,void 0,void 0,function*(){yield i.run(n)})}}e.ActionRunner=S;class f{constructor(){this.id=f.ID,this.label="",this.tooltip="",this.class="separator",this.enabled=!1,this.checked=!1}static join(...i){let n=[];for(const t of i)t.length&&(n.length?n=[...n,new f,...t]:n=t);return n}run(){return we(this,void 0,void 0,function*(){})}}e.Separator=f,f.ID="vs.actions.separator";class _{get actions(){return this._actions}constructor(i,n,t,a){this.tooltip="",this.enabled=!0,this.checked=void 0,this.id=i,this.label=n,this.class=a,this._actions=t}run(){return we(this,void 0,void 0,function*(){})}}e.SubmenuAction=_;class g extends D{constructor(){super(g.ID,y.localize(0,null),void 0,!1)}}e.EmptySubmenuAction=g,g.ID="vs.actions.empty";function C(s){var i,n;return{id:s.id,label:s.label,class:void 0,enabled:(i=s.enabled)!==null&&i!==void 0?i:!0,checked:(n=s.checked)!==null&&n!==void 0?n:!1,run:()=>we(this,void 0,void 0,function*(){return s.run()}),tooltip:s.label}}e.toAction=C}),define(ne[563],se([3,4]),function(Q,e){return Q.create("vs/base/common/errorMessage",e)}),define(ne[564],se([1,0,14,20,563]),function(Q,e,L,k,y){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.toErrorMessage=void 0;function D(g,C){return C&&(g.stack||g.stacktrace)?y.localize(0,null,f(g),S(g.stack)||S(g.stacktrace)):f(g)}function S(g){return Array.isArray(g)?g.join(`
`):g}function f(g){return g.code==="ERR_UNC_HOST_NOT_ALLOWED"?`${g.message}. Please update the 'security.allowedUNCHosts' setting if you want to allow this host.`:typeof g.code=="string"&&typeof g.errno=="number"&&typeof g.syscall=="string"?y.localize(1,null,g.message):g.message||y.localize(2,null)}function _(g=null,C=!1){if(!g)return y.localize(3,null);if(Array.isArray(g)){const s=L.coalesce(g),i=_(s[0],C);return s.length>1?y.localize(4,null,i,s.length):i}if(k.isString(g))return g;if(g.detail){const s=g.detail;if(s.error)return D(s.error,C);if(s.exception)return D(s.exception,C)}return g.stack?D(g,C):g.message?g.message:y.localize(5,null)}e.toErrorMessage=_}),define(ne[565],se([3,4]),function(Q,e){return Q.create("vs/base/common/keybindingLabels",e)}),define(ne[216],se([1,0,565]),function(Q,e,L){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.UserSettingsLabelProvider=e.ElectronAcceleratorLabelProvider=e.AriaLabelProvider=e.UILabelProvider=e.ModifierLabelProvider=void 0;class k{constructor(S,f,_=f){this.modifierLabels=[null],this.modifierLabels[2]=S,this.modifierLabels[1]=f,this.modifierLabels[3]=_}toLabel(S,f,_){if(f.length===0)return null;const g=[];for(let C=0,s=f.length;C<s;C++){const i=f[C],n=_(i);if(n===null)return null;g[C]=y(i,n,this.modifierLabels[S])}return g.join(" ")}}e.ModifierLabelProvider=k,e.UILabelProvider=new k({ctrlKey:"\u2303",shiftKey:"\u21E7",altKey:"\u2325",metaKey:"\u2318",separator:""},{ctrlKey:L.localize(0,null),shiftKey:L.localize(1,null),altKey:L.localize(2,null),metaKey:L.localize(3,null),separator:"+"},{ctrlKey:L.localize(4,null),shiftKey:L.localize(5,null),altKey:L.localize(6,null),metaKey:L.localize(7,null),separator:"+"}),e.AriaLabelProvider=new k({ctrlKey:L.localize(8,null),shiftKey:L.localize(9,null),altKey:L.localize(10,null),metaKey:L.localize(11,null),separator:"+"},{ctrlKey:L.localize(12,null),shiftKey:L.localize(13,null),altKey:L.localize(14,null),metaKey:L.localize(15,null),separator:"+"},{ctrlKey:L.localize(16,null),shiftKey:L.localize(17,null),altKey:L.localize(18,null),metaKey:L.localize(19,null),separator:"+"}),e.ElectronAcceleratorLabelProvider=new k({ctrlKey:"Ctrl",shiftKey:"Shift",altKey:"Alt",metaKey:"Cmd",separator:"+"},{ctrlKey:"Ctrl",shiftKey:"Shift",altKey:"Alt",metaKey:"Super",separator:"+"}),e.UserSettingsLabelProvider=new k({ctrlKey:"ctrl",shiftKey:"shift",altKey:"alt",metaKey:"cmd",separator:"+"},{ctrlKey:"ctrl",shiftKey:"shift",altKey:"alt",metaKey:"win",separator:"+"},{ctrlKey:"ctrl",shiftKey:"shift",altKey:"alt",metaKey:"meta",separator:"+"});function y(D,S,f){if(S===null)return"";const _=[];return D.ctrlKey&&_.push(f.ctrlKey),D.shiftKey&&_.push(f.shiftKey),D.altKey&&_.push(f.altKey),D.metaKey&&_.push(f.metaKey),S!==""&&_.push(S),_.join(f.separator)}}),define(ne[566],se([3,4]),function(Q,e){return Q.create("vs/base/common/platform",e)}),define(ne[17],se([1,0,566]),function(Q,e,L){"use strict";var k;Object.defineProperty(e,"__esModule",{value:!0}),e.isAndroid=e.isEdge=e.isSafari=e.isFirefox=e.isChrome=e.isLittleEndian=e.OS=e.setTimeout0=e.setTimeout0IsFaster=e.language=e.userAgent=e.isMobile=e.isIOS=e.isWebWorker=e.isWeb=e.isNative=e.isLinux=e.isMacintosh=e.isWindows=e.globals=e.LANGUAGE_DEFAULT=void 0,e.LANGUAGE_DEFAULT="en";let y=!1,D=!1,S=!1,f=!1,_=!1,g=!1,C=!1,s=!1,i=!1,n=!1,t,a=e.LANGUAGE_DEFAULT,u=e.LANGUAGE_DEFAULT,h,r;e.globals=typeof self=="object"?self:typeof global=="object"?global:{};let c;typeof e.globals.vscode<"u"&&typeof e.globals.vscode.process<"u"?c=e.globals.vscode.process:typeof process<"u"&&(c=process);const o=typeof((k=c?.versions)===null||k===void 0?void 0:k.electron)=="string",d=o&&c?.type==="renderer";if(typeof navigator=="object"&&!d)r=navigator.userAgent,y=r.indexOf("Windows")>=0,D=r.indexOf("Macintosh")>=0,s=(r.indexOf("Macintosh")>=0||r.indexOf("iPad")>=0||r.indexOf("iPhone")>=0)&&!!navigator.maxTouchPoints&&navigator.maxTouchPoints>0,S=r.indexOf("Linux")>=0,n=r?.indexOf("Mobi")>=0,g=!0,t=L.getConfiguredDefaultLocale(L.localize(0,null))||e.LANGUAGE_DEFAULT,a=t,u=navigator.language;else if(typeof c=="object"){y=c.platform==="win32",D=c.platform==="darwin",S=c.platform==="linux",f=S&&!!c.env.SNAP&&!!c.env.SNAP_REVISION,C=o,i=!!c.env.CI||!!c.env.BUILD_ARTIFACTSTAGINGDIRECTORY,t=e.LANGUAGE_DEFAULT,a=e.LANGUAGE_DEFAULT;const b=c.env.VSCODE_NLS_CONFIG;if(b)try{const w=JSON.parse(b),E=w.availableLanguages["*"];t=w.locale,u=w.osLocale,a=E||e.LANGUAGE_DEFAULT,h=w._translationsConfigFile}catch{}_=!0}else console.error("Unable to resolve platform.");let l=0;D?l=1:y?l=3:S&&(l=2),e.isWindows=y,e.isMacintosh=D,e.isLinux=S,e.isNative=_,e.isWeb=g,e.isWebWorker=g&&typeof e.globals.importScripts=="function",e.isIOS=s,e.isMobile=n,e.userAgent=r,e.language=a,e.setTimeout0IsFaster=typeof e.globals.postMessage=="function"&&!e.globals.importScripts,e.setTimeout0=(()=>{if(e.setTimeout0IsFaster){const b=[];e.globals.addEventListener("message",E=>{if(E.data&&E.data.vscodeScheduleAsyncWork)for(let I=0,M=b.length;I<M;I++){const P=b[I];if(P.id===E.data.vscodeScheduleAsyncWork){b.splice(I,1),P.callback();return}}});let w=0;return E=>{const I=++w;b.push({id:I,callback:E}),e.globals.postMessage({vscodeScheduleAsyncWork:I},"*")}}return b=>setTimeout(b)})(),e.OS=D||s?2:y?1:3;let p=!0,m=!1;function v(){if(!m){m=!0;const b=new Uint8Array(2);b[0]=1,b[1]=2,p=new Uint16Array(b.buffer)[0]===(2<<8)+1}return p}e.isLittleEndian=v,e.isChrome=!!(e.userAgent&&e.userAgent.indexOf("Chrome")>=0),e.isFirefox=!!(e.userAgent&&e.userAgent.indexOf("Firefox")>=0),e.isSafari=!!(!e.isChrome&&e.userAgent&&e.userAgent.indexOf("Safari")>=0),e.isEdge=!!(e.userAgent&&e.userAgent.indexOf("Edg/")>=0),e.isAndroid=!!(e.userAgent&&e.userAgent.indexOf("Android")>=0)}),define(ne[217],se([1,0,52,17]),function(Q,e,L,k){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.BrowserFeatures=void 0,e.BrowserFeatures={clipboard:{writeText:k.isNative||document.queryCommandSupported&&document.queryCommandSupported("copy")||!!(navigator&&navigator.clipboard&&navigator.clipboard.writeText),readText:k.isNative||!!(navigator&&navigator.clipboard&&navigator.clipboard.readText)},keyboard:(()=>k.isNative||L.isStandalone()?0:navigator.keyboard||L.isSafari?1:2)(),touch:"ontouchstart"in window||navigator.maxTouchPoints>0,pointerEvents:window.PointerEvent&&("ontouchstart"in window||window.navigator.maxTouchPoints>0||navigator.maxTouchPoints>0)}}),define(ne[44],se([1,0,52,63,119,17]),function(Q,e,L,k,y,D){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.StandardKeyboardEvent=void 0;function S(i){if(i.charCode){const t=String.fromCharCode(i.charCode).toUpperCase();return k.KeyCodeUtils.fromString(t)}const n=i.keyCode;if(n===3)return 7;if(L.isFirefox)switch(n){case 59:return 85;case 60:if(D.isLinux)return 97;break;case 61:return 86;case 107:return 109;case 109:return 111;case 173:return 88;case 224:if(D.isMacintosh)return 57;break}else if(L.isWebKit){if(D.isMacintosh&&n===93)return 57;if(!D.isMacintosh&&n===92)return 57}return k.EVENT_KEY_CODE_MAP[n]||0}const f=D.isMacintosh?256:2048,_=512,g=1024,C=D.isMacintosh?2048:256;class s{constructor(n){this._standardKeyboardEventBrand=!0;const t=n;this.browserEvent=t,this.target=t.target,this.ctrlKey=t.ctrlKey,this.shiftKey=t.shiftKey,this.altKey=t.altKey,this.metaKey=t.metaKey,this.altGraphKey=t.getModifierState("AltGraph"),this.keyCode=S(t),this.code=t.code,this.ctrlKey=this.ctrlKey||this.keyCode===5,this.altKey=this.altKey||this.keyCode===6,this.shiftKey=this.shiftKey||this.keyCode===4,this.metaKey=this.metaKey||this.keyCode===57,this._asKeybinding=this._computeKeybinding(),this._asKeyCodeChord=this._computeKeyCodeChord()}preventDefault(){this.browserEvent&&this.browserEvent.preventDefault&&this.browserEvent.preventDefault()}stopPropagation(){this.browserEvent&&this.browserEvent.stopPropagation&&this.browserEvent.stopPropagation()}toKeyCodeChord(){return this._asKeyCodeChord}equals(n){return this._asKeybinding===n}_computeKeybinding(){let n=0;this.keyCode!==5&&this.keyCode!==4&&this.keyCode!==6&&this.keyCode!==57&&(n=this.keyCode);let t=0;return this.ctrlKey&&(t|=f),this.altKey&&(t|=_),this.shiftKey&&(t|=g),this.metaKey&&(t|=C),t|=n,t}_computeKeyCodeChord(){let n=0;return this.keyCode!==5&&this.keyCode!==4&&this.keyCode!==6&&this.keyCode!==57&&(n=this.keyCode),new y.KeyCodeChord(this.ctrlKey,this.shiftKey,this.altKey,this.metaKey,n)}}e.StandardKeyboardEvent=s}),define(ne[60],se([1,0,52,380,17]),function(Q,e,L,k,y){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.StandardWheelEvent=e.StandardMouseEvent=void 0;class D{constructor(_){this.timestamp=Date.now(),this.browserEvent=_,this.leftButton=_.button===0,this.middleButton=_.button===1,this.rightButton=_.button===2,this.buttons=_.buttons,this.target=_.target,this.detail=_.detail||1,_.type==="dblclick"&&(this.detail=2),this.ctrlKey=_.ctrlKey,this.shiftKey=_.shiftKey,this.altKey=_.altKey,this.metaKey=_.metaKey,typeof _.pageX=="number"?(this.posx=_.pageX,this.posy=_.pageY):(this.posx=_.clientX+document.body.scrollLeft+document.documentElement.scrollLeft,this.posy=_.clientY+document.body.scrollTop+document.documentElement.scrollTop);const g=k.IframeUtils.getPositionOfChildWindowRelativeToAncestorWindow(window,_.view);this.posx-=g.left,this.posy-=g.top}preventDefault(){this.browserEvent.preventDefault()}stopPropagation(){this.browserEvent.stopPropagation()}}e.StandardMouseEvent=D;class S{constructor(_,g=0,C=0){if(this.browserEvent=_||null,this.target=_?_.target||_.targetNode||_.srcElement:null,this.deltaY=C,this.deltaX=g,_){const s=_,i=_;if(typeof s.wheelDeltaY<"u")this.deltaY=s.wheelDeltaY/120;else if(typeof i.VERTICAL_AXIS<"u"&&i.axis===i.VERTICAL_AXIS)this.deltaY=-i.detail/3;else if(_.type==="wheel"){const n=_;n.deltaMode===n.DOM_DELTA_LINE?L.isFirefox&&!y.isMacintosh?this.deltaY=-_.deltaY/3:this.deltaY=-_.deltaY:this.deltaY=-_.deltaY/40}if(typeof s.wheelDeltaX<"u")L.isSafari&&y.isWindows?this.deltaX=-(s.wheelDeltaX/120):this.deltaX=s.wheelDeltaX/120;else if(typeof i.HORIZONTAL_AXIS<"u"&&i.axis===i.HORIZONTAL_AXIS)this.deltaX=-_.detail/3;else if(_.type==="wheel"){const n=_;n.deltaMode===n.DOM_DELTA_LINE?L.isFirefox&&!y.isMacintosh?this.deltaX=-_.deltaX/3:this.deltaX=-_.deltaX:this.deltaX=-_.deltaX/40}this.deltaY===0&&this.deltaX===0&&_.wheelDelta&&(this.deltaY=_.wheelDelta/120)}}preventDefault(){var _;(_=this.browserEvent)===null||_===void 0||_.preventDefault()}stopPropagation(){var _;(_=this.browserEvent)===null||_===void 0||_.stopPropagation()}}e.StandardWheelEvent=S});var Lt=this&&this.__asyncValues||function(Q){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var e=Q[Symbol.asyncIterator],L;return e?e.call(Q):(Q=typeof __values=="function"?__values(Q):Q[Symbol.iterator](),L={},k("next"),k("throw"),k("return"),L[Symbol.asyncIterator]=function(){return this},L);function k(D){L[D]=Q[D]&&function(S){return new Promise(function(f,_){S=Q[D](S),y(f,_,S.done,S.value)})}}function y(D,S,f,_){Promise.resolve(_).then(function(g){D({value:g,done:f})},S)}};define(ne[13],se([1,0,19,9,6,2,17,264]),function(Q,e,L,k,y,D,S,f){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.createCancelableAsyncIterable=e.CancelableAsyncIterableObject=e.AsyncIterableObject=e.Promises=e.DeferredPromise=e.IdleValue=e.runWhenIdle=e.RunOnceScheduler=e.IntervalTimer=e.TimeoutTimer=e.first=e.disposableTimeout=e.timeout=e.ThrottledDelayer=e.Delayer=e.Throttler=e.raceCancellation=e.createCancelablePromise=e.isThenable=void 0;function _(E){return!!E&&typeof E.then=="function"}e.isThenable=_;function g(E){const I=new L.CancellationTokenSource,M=E(I.token),P=new Promise((x,T)=>{const A=I.token.onCancellationRequested(()=>{A.dispose(),I.dispose(),T(new k.CancellationError)});Promise.resolve(M).then(N=>{A.dispose(),I.dispose(),x(N)},N=>{A.dispose(),I.dispose(),T(N)})});return new class{cancel(){I.cancel()}then(x,T){return P.then(x,T)}catch(x){return this.then(void 0,x)}finally(x){return P.finally(x)}}}e.createCancelablePromise=g;function C(E,I,M){return new Promise((P,x)=>{const T=I.onCancellationRequested(()=>{T.dispose(),P(M)});E.then(P,x).finally(()=>T.dispose())})}e.raceCancellation=C;class s{constructor(){this.isDisposed=!1,this.activePromise=null,this.queuedPromise=null,this.queuedPromiseFactory=null}queue(I){if(this.isDisposed)throw new Error("Throttler is disposed");if(this.activePromise){if(this.queuedPromiseFactory=I,!this.queuedPromise){const M=()=>{if(this.queuedPromise=null,this.isDisposed)return;const P=this.queue(this.queuedPromiseFactory);return this.queuedPromiseFactory=null,P};this.queuedPromise=new Promise(P=>{this.activePromise.then(M,M).then(P)})}return new Promise((M,P)=>{this.queuedPromise.then(M,P)})}return this.activePromise=I(),new Promise((M,P)=>{this.activePromise.then(x=>{this.activePromise=null,M(x)},x=>{this.activePromise=null,P(x)})})}dispose(){this.isDisposed=!0}}e.Throttler=s;const i=(E,I)=>{let M=!0;const P=setTimeout(()=>{M=!1,I()},E);return{isTriggered:()=>M,dispose:()=>{clearTimeout(P),M=!1}}},n=E=>{let I=!0;return queueMicrotask(()=>{I&&(I=!1,E())}),{isTriggered:()=>I,dispose:()=>{I=!1}}};class t{constructor(I){this.defaultDelay=I,this.deferred=null,this.completionPromise=null,this.doResolve=null,this.doReject=null,this.task=null}trigger(I,M=this.defaultDelay){this.task=I,this.cancelTimeout(),this.completionPromise||(this.completionPromise=new Promise((x,T)=>{this.doResolve=x,this.doReject=T}).then(()=>{if(this.completionPromise=null,this.doResolve=null,this.task){const x=this.task;return this.task=null,x()}}));const P=()=>{var x;this.deferred=null,(x=this.doResolve)===null||x===void 0||x.call(this,null)};return this.deferred=M===f.MicrotaskDelay?n(P):i(M,P),this.completionPromise}isTriggered(){var I;return!!(!((I=this.deferred)===null||I===void 0)&&I.isTriggered())}cancel(){var I;this.cancelTimeout(),this.completionPromise&&((I=this.doReject)===null||I===void 0||I.call(this,new k.CancellationError),this.completionPromise=null)}cancelTimeout(){var I;(I=this.deferred)===null||I===void 0||I.dispose(),this.deferred=null}dispose(){this.cancel()}}e.Delayer=t;class a{constructor(I){this.delayer=new t(I),this.throttler=new s}trigger(I,M){return this.delayer.trigger(()=>this.throttler.queue(I),M)}cancel(){this.delayer.cancel()}dispose(){this.delayer.dispose(),this.throttler.dispose()}}e.ThrottledDelayer=a;function u(E,I){return I?new Promise((M,P)=>{const x=setTimeout(()=>{T.dispose(),M()},E),T=I.onCancellationRequested(()=>{clearTimeout(x),T.dispose(),P(new k.CancellationError)})}):g(M=>u(E,M))}e.timeout=u;function h(E,I=0){const M=setTimeout(E,I);return(0,D.toDisposable)(()=>clearTimeout(M))}e.disposableTimeout=h;function r(E,I=P=>!!P,M=null){let P=0;const x=E.length,T=()=>{if(P>=x)return Promise.resolve(M);const A=E[P++];return Promise.resolve(A()).then(F=>I(F)?Promise.resolve(F):T())};return T()}e.first=r;class c{constructor(I,M){this._token=-1,typeof I=="function"&&typeof M=="number"&&this.setIfNotSet(I,M)}dispose(){this.cancel()}cancel(){this._token!==-1&&(clearTimeout(this._token),this._token=-1)}cancelAndSet(I,M){this.cancel(),this._token=setTimeout(()=>{this._token=-1,I()},M)}setIfNotSet(I,M){this._token===-1&&(this._token=setTimeout(()=>{this._token=-1,I()},M))}}e.TimeoutTimer=c;class o{constructor(){this._token=-1}dispose(){this.cancel()}cancel(){this._token!==-1&&(clearInterval(this._token),this._token=-1)}cancelAndSet(I,M){this.cancel(),this._token=setInterval(()=>{I()},M)}}e.IntervalTimer=o;class d{constructor(I,M){this.timeoutToken=-1,this.runner=I,this.timeout=M,this.timeoutHandler=this.onTimeout.bind(this)}dispose(){this.cancel(),this.runner=null}cancel(){this.isScheduled()&&(clearTimeout(this.timeoutToken),this.timeoutToken=-1)}schedule(I=this.timeout){this.cancel(),this.timeoutToken=setTimeout(this.timeoutHandler,I)}get delay(){return this.timeout}set delay(I){this.timeout=I}isScheduled(){return this.timeoutToken!==-1}onTimeout(){this.timeoutToken=-1,this.runner&&this.doRun()}doRun(){var I;(I=this.runner)===null||I===void 0||I.call(this)}}e.RunOnceScheduler=d,function(){typeof requestIdleCallback!="function"||typeof cancelIdleCallback!="function"?e.runWhenIdle=E=>{(0,S.setTimeout0)(()=>{if(I)return;const M=Date.now()+15;E(Object.freeze({didTimeout:!0,timeRemaining(){return Math.max(0,M-Date.now())}}))});let I=!1;return{dispose(){I||(I=!0)}}}:e.runWhenIdle=(E,I)=>{const M=requestIdleCallback(E,typeof I=="number"?{timeout:I}:void 0);let P=!1;return{dispose(){P||(P=!0,cancelIdleCallback(M))}}}}();class l{constructor(I){this._didRun=!1,this._executor=()=>{try{this._value=I()}catch(M){this._error=M}finally{this._didRun=!0}},this._handle=(0,e.runWhenIdle)(()=>this._executor())}dispose(){this._handle.dispose()}get value(){if(this._didRun||(this._handle.dispose(),this._executor()),this._error)throw this._error;return this._value}get isInitialized(){return this._didRun}}e.IdleValue=l;class p{get isRejected(){var I;return((I=this.outcome)===null||I===void 0?void 0:I.outcome)===1}get isSettled(){return!!this.outcome}constructor(){this.p=new Promise((I,M)=>{this.completeCallback=I,this.errorCallback=M})}complete(I){return new Promise(M=>{this.completeCallback(I),this.outcome={outcome:0,value:I},M()})}error(I){return new Promise(M=>{this.errorCallback(I),this.outcome={outcome:1,value:I},M()})}cancel(){return this.error(new k.CancellationError)}}e.DeferredPromise=p;var m;(function(E){function I(P){return we(this,void 0,void 0,function*(){let x;const T=yield Promise.all(P.map(A=>A.then(N=>N,N=>{x||(x=N)})));if(typeof x<"u")throw x;return T})}E.settled=I;function M(P){return new Promise((x,T)=>we(this,void 0,void 0,function*(){try{yield P(x,T)}catch(A){T(A)}}))}E.withAsyncBody=M})(m||(e.Promises=m={}));class v{static fromArray(I){return new v(M=>{M.emitMany(I)})}static fromPromise(I){return new v(M=>we(this,void 0,void 0,function*(){M.emitMany(yield I)}))}static fromPromises(I){return new v(M=>we(this,void 0,void 0,function*(){yield Promise.all(I.map(P=>we(this,void 0,void 0,function*(){return M.emitOne(yield P)})))}))}static merge(I){return new v(M=>we(this,void 0,void 0,function*(){yield Promise.all(I.map(P=>{var x,T,A;return we(this,void 0,void 0,function*(){var N,F,O,W;try{for(x=!0,T=Lt(P);A=yield T.next(),N=A.done,!N;x=!0){W=A.value,x=!1;const U=W;M.emitOne(U)}}catch(U){F={error:U}}finally{try{!x&&!N&&(O=T.return)&&(yield O.call(T))}finally{if(F)throw F.error}}})}))}))}constructor(I){this._state=0,this._results=[],this._error=null,this._onStateChanged=new y.Emitter,queueMicrotask(()=>we(this,void 0,void 0,function*(){const M={emitOne:P=>this.emitOne(P),emitMany:P=>this.emitMany(P),reject:P=>this.reject(P)};try{yield Promise.resolve(I(M)),this.resolve()}catch(P){this.reject(P)}finally{M.emitOne=void 0,M.emitMany=void 0,M.reject=void 0}}))}[Symbol.asyncIterator](){let I=0;return{next:()=>we(this,void 0,void 0,function*(){do{if(this._state===2)throw this._error;if(I<this._results.length)return{done:!1,value:this._results[I++]};if(this._state===1)return{done:!0,value:void 0};yield y.Event.toPromise(this._onStateChanged.event)}while(!0)})}}static map(I,M){return new v(P=>we(this,void 0,void 0,function*(){var x,T,A,N;try{for(var F=!0,O=Lt(I),W;W=yield O.next(),x=W.done,!x;F=!0){N=W.value,F=!1;const U=N;P.emitOne(M(U))}}catch(U){T={error:U}}finally{try{!F&&!x&&(A=O.return)&&(yield A.call(O))}finally{if(T)throw T.error}}}))}map(I){return v.map(this,I)}static filter(I,M){return new v(P=>we(this,void 0,void 0,function*(){var x,T,A,N;try{for(var F=!0,O=Lt(I),W;W=yield O.next(),x=W.done,!x;F=!0){N=W.value,F=!1;const U=N;M(U)&&P.emitOne(U)}}catch(U){T={error:U}}finally{try{!F&&!x&&(A=O.return)&&(yield A.call(O))}finally{if(T)throw T.error}}}))}filter(I){return v.filter(this,I)}static coalesce(I){return v.filter(I,M=>!!M)}coalesce(){return v.coalesce(this)}static toPromise(I){var M,P,x,T,A,N,F;return we(this,void 0,void 0,function*(){const O=[];try{for(M=!0,P=Lt(I);x=yield P.next(),T=x.done,!T;M=!0){F=x.value,M=!1;const W=F;O.push(W)}}catch(W){A={error:W}}finally{try{!M&&!T&&(N=P.return)&&(yield N.call(P))}finally{if(A)throw A.error}}return O})}toPromise(){return v.toPromise(this)}emitOne(I){this._state===0&&(this._results.push(I),this._onStateChanged.fire())}emitMany(I){this._state===0&&(this._results=this._results.concat(I),this._onStateChanged.fire())}resolve(){this._state===0&&(this._state=1,this._onStateChanged.fire())}reject(I){this._state===0&&(this._state=2,this._error=I,this._onStateChanged.fire())}}e.AsyncIterableObject=v,v.EMPTY=v.fromArray([]);class b extends v{constructor(I,M){super(M),this._source=I}cancel(){this._source.cancel()}}e.CancelableAsyncIterableObject=b;function w(E){const I=new L.CancellationTokenSource,M=E(I.token);return new b(I,P=>we(this,void 0,void 0,function*(){var x,T,A,N;const F=I.token.onCancellationRequested(()=>{F.dispose(),I.dispose(),P.reject(new k.CancellationError)});try{try{for(var O=!0,W=Lt(M),U;U=yield W.next(),x=U.done,!x;O=!0){N=U.value,O=!1;const j=N;if(I.token.isCancellationRequested)return;P.emitOne(j)}}catch(j){T={error:j}}finally{try{!O&&!x&&(A=W.return)&&(yield A.call(W))}finally{if(T)throw T.error}}F.dispose(),I.dispose()}catch(j){F.dispose(),I.dispose(),P.reject(j)}}))}e.createCancelableAsyncIterable=w}),define(ne[567],se([1,0,13,2]),function(Q,e,L,k){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ScrollbarVisibilityController=void 0;class y extends k.Disposable{constructor(S,f,_){super(),this._visibility=S,this._visibleClassName=f,this._invisibleClassName=_,this._domNode=null,this._isVisible=!1,this._isNeeded=!1,this._rawShouldBeVisible=!1,this._shouldBeVisible=!1,this._revealTimer=this._register(new L.TimeoutTimer)}setVisibility(S){this._visibility!==S&&(this._visibility=S,this._updateShouldBeVisible())}setShouldBeVisible(S){this._rawShouldBeVisible=S,this._updateShouldBeVisible()}_applyVisibilitySetting(){return this._visibility===2?!1:this._visibility===3?!0:this._rawShouldBeVisible}_updateShouldBeVisible(){const S=this._applyVisibilitySetting();this._shouldBeVisible!==S&&(this._shouldBeVisible=S,this.ensureVisibility())}setIsNeeded(S){this._isNeeded!==S&&(this._isNeeded=S,this.ensureVisibility())}setDomNode(S){this._domNode=S,this._domNode.setClassName(this._invisibleClassName),this.setShouldBeVisible(!1)}ensureVisibility(){if(!this._isNeeded){this._hide(!1);return}this._shouldBeVisible?this._reveal():this._hide(!0)}_reveal(){this._isVisible||(this._isVisible=!0,this._revealTimer.setIfNotSet(()=>{var S;(S=this._domNode)===null||S===void 0||S.setClassName(this._visibleClassName)},0))}_hide(S){var f;this._revealTimer.cancel(),this._isVisible&&(this._isVisible=!1,(f=this._domNode)===null||f===void 0||f.setClassName(this._invisibleClassName+(S?" fade":"")))}}e.ScrollbarVisibilityController=y}),define(ne[218],se([1,0,139,14,13,264,168,6,46]),function(Q,e,L,k,y,D,S,f,_){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.IndexTreeModel=e.getVisibleState=e.isFilterResult=void 0;function g(n){return typeof n=="object"&&"visibility"in n&&"data"in n}e.isFilterResult=g;function C(n){switch(n){case!0:return 1;case!1:return 0;default:return n}}e.getVisibleState=C;function s(n){return typeof n.collapsible=="boolean"}class i{constructor(t,a,u,h={}){this.user=t,this.list=a,this.rootRef=[],this.eventBufferer=new f.EventBufferer,this._onDidChangeCollapseState=new f.Emitter,this.onDidChangeCollapseState=this.eventBufferer.wrapEvent(this._onDidChangeCollapseState.event),this._onDidChangeRenderNodeCount=new f.Emitter,this.onDidChangeRenderNodeCount=this.eventBufferer.wrapEvent(this._onDidChangeRenderNodeCount.event),this._onDidSplice=new f.Emitter,this.onDidSplice=this._onDidSplice.event,this.refilterDelayer=new y.Delayer(D.MicrotaskDelay),this.collapseByDefault=typeof h.collapseByDefault>"u"?!1:h.collapseByDefault,this.filter=h.filter,this.autoExpandSingleChildren=typeof h.autoExpandSingleChildren>"u"?!1:h.autoExpandSingleChildren,this.root={parent:void 0,element:u,children:[],depth:0,visibleChildrenCount:0,visibleChildIndex:-1,collapsible:!1,collapsed:!1,renderNodeCount:0,visibility:1,visible:!0,filterData:void 0}}splice(t,a,u=_.Iterable.empty(),h={}){if(t.length===0)throw new L.TreeError(this.user,"Invalid tree location");h.diffIdentityProvider?this.spliceSmart(h.diffIdentityProvider,t,a,u,h):this.spliceSimple(t,a,u,h)}spliceSmart(t,a,u,h,r,c){var o;h===void 0&&(h=_.Iterable.empty()),c===void 0&&(c=(o=r.diffDepth)!==null&&o!==void 0?o:0);const{parentNode:d}=this.getParentNodeWithListIndex(a);if(!d.lastDiffIds)return this.spliceSimple(a,u,h,r);const l=[...h],p=a[a.length-1],m=new S.LcsDiff({getElements:()=>d.lastDiffIds},{getElements:()=>[...d.children.slice(0,p),...l,...d.children.slice(p+u)].map(I=>t.getId(I.element).toString())}).ComputeDiff(!1);if(m.quitEarly)return d.lastDiffIds=void 0,this.spliceSimple(a,u,l,r);const v=a.slice(0,-1),b=(I,M,P)=>{if(c>0)for(let x=0;x<P;x++)I--,M--,this.spliceSmart(t,[...v,I,0],Number.MAX_SAFE_INTEGER,l[M].children,r,c-1)};let w=Math.min(d.children.length,p+u),E=l.length;for(const I of m.changes.sort((M,P)=>P.originalStart-M.originalStart))b(w,E,w-(I.originalStart+I.originalLength)),w=I.originalStart,E=I.modifiedStart-p,this.spliceSimple([...v,w],I.originalLength,_.Iterable.slice(l,E,E+I.modifiedLength),r);b(w,E,w)}spliceSimple(t,a,u=_.Iterable.empty(),{onDidCreateNode:h,onDidDeleteNode:r,diffIdentityProvider:c}){const{parentNode:o,listIndex:d,revealed:l,visible:p}=this.getParentNodeWithListIndex(t),m=[],v=_.Iterable.map(u,F=>this.createTreeNode(F,o,o.visible?1:0,l,m,h)),b=t[t.length-1],w=o.children.length>0;let E=0;for(let F=b;F>=0&&F<o.children.length;F--){const O=o.children[F];if(O.visible){E=O.visibleChildIndex;break}}const I=[];let M=0,P=0;for(const F of v)I.push(F),P+=F.renderNodeCount,F.visible&&(F.visibleChildIndex=E+M++);const x=(0,k.splice)(o.children,b,a,I);c?o.lastDiffIds?(0,k.splice)(o.lastDiffIds,b,a,I.map(F=>c.getId(F.element).toString())):o.lastDiffIds=o.children.map(F=>c.getId(F.element).toString()):o.lastDiffIds=void 0;let T=0;for(const F of x)F.visible&&T++;if(T!==0)for(let F=b+I.length;F<o.children.length;F++){const O=o.children[F];O.visible&&(O.visibleChildIndex-=T)}if(o.visibleChildrenCount+=M-T,l&&p){const F=x.reduce((O,W)=>O+(W.visible?W.renderNodeCount:0),0);this._updateAncestorsRenderNodeCount(o,P-F),this.list.splice(d,F,m)}if(x.length>0&&r){const F=O=>{r(O),O.children.forEach(F)};x.forEach(F)}this._onDidSplice.fire({insertedNodes:I,deletedNodes:x});const A=o.children.length>0;w!==A&&this.setCollapsible(t.slice(0,-1),A);let N=o;for(;N;){if(N.visibility===2){this.refilterDelayer.trigger(()=>this.refilter());break}N=N.parent}}rerender(t){if(t.length===0)throw new L.TreeError(this.user,"Invalid tree location");const{node:a,listIndex:u,revealed:h}=this.getTreeNodeWithListIndex(t);a.visible&&h&&this.list.splice(u,1,[a])}has(t){return this.hasTreeNode(t)}getListIndex(t){const{listIndex:a,visible:u,revealed:h}=this.getTreeNodeWithListIndex(t);return u&&h?a:-1}getListRenderCount(t){return this.getTreeNode(t).renderNodeCount}isCollapsible(t){return this.getTreeNode(t).collapsible}setCollapsible(t,a){const u=this.getTreeNode(t);typeof a>"u"&&(a=!u.collapsible);const h={collapsible:a};return this.eventBufferer.bufferEvents(()=>this._setCollapseState(t,h))}isCollapsed(t){return this.getTreeNode(t).collapsed}setCollapsed(t,a,u){const h=this.getTreeNode(t);typeof a>"u"&&(a=!h.collapsed);const r={collapsed:a,recursive:u||!1};return this.eventBufferer.bufferEvents(()=>this._setCollapseState(t,r))}_setCollapseState(t,a){const{node:u,listIndex:h,revealed:r}=this.getTreeNodeWithListIndex(t),c=this._setListNodeCollapseState(u,h,r,a);if(u!==this.root&&this.autoExpandSingleChildren&&c&&!s(a)&&u.collapsible&&!u.collapsed&&!a.recursive){let o=-1;for(let d=0;d<u.children.length;d++)if(u.children[d].visible)if(o>-1){o=-1;break}else o=d;o>-1&&this._setCollapseState([...t,o],a)}return c}_setListNodeCollapseState(t,a,u,h){const r=this._setNodeCollapseState(t,h,!1);if(!u||!t.visible||!r)return r;const c=t.renderNodeCount,o=this.updateNodeAfterCollapseChange(t),d=c-(a===-1?0:1);return this.list.splice(a+1,d,o.slice(1)),r}_setNodeCollapseState(t,a,u){let h;if(t===this.root?h=!1:(s(a)?(h=t.collapsible!==a.collapsible,t.collapsible=a.collapsible):t.collapsible?(h=t.collapsed!==a.collapsed,t.collapsed=a.collapsed):h=!1,h&&this._onDidChangeCollapseState.fire({node:t,deep:u})),!s(a)&&a.recursive)for(const r of t.children)h=this._setNodeCollapseState(r,a,!0)||h;return h}expandTo(t){this.eventBufferer.bufferEvents(()=>{let a=this.getTreeNode(t);for(;a.parent;)a=a.parent,t=t.slice(0,t.length-1),a.collapsed&&this._setCollapseState(t,{collapsed:!1,recursive:!1})})}refilter(){const t=this.root.renderNodeCount,a=this.updateNodeAfterFilterChange(this.root);this.list.splice(0,t,a),this.refilterDelayer.cancel()}createTreeNode(t,a,u,h,r,c){const o={parent:a,element:t.element,children:[],depth:a.depth+1,visibleChildrenCount:0,visibleChildIndex:-1,collapsible:typeof t.collapsible=="boolean"?t.collapsible:typeof t.collapsed<"u",collapsed:typeof t.collapsed>"u"?this.collapseByDefault:t.collapsed,renderNodeCount:1,visibility:1,visible:!0,filterData:void 0},d=this._filterNode(o,u);o.visibility=d,h&&r.push(o);const l=t.children||_.Iterable.empty(),p=h&&d!==0&&!o.collapsed;let m=0,v=1;for(const b of l){const w=this.createTreeNode(b,o,d,p,r,c);o.children.push(w),v+=w.renderNodeCount,w.visible&&(w.visibleChildIndex=m++)}return o.collapsible=o.collapsible||o.children.length>0,o.visibleChildrenCount=m,o.visible=d===2?m>0:d===1,o.visible?o.collapsed||(o.renderNodeCount=v):(o.renderNodeCount=0,h&&r.pop()),c?.(o),o}updateNodeAfterCollapseChange(t){const a=t.renderNodeCount,u=[];return this._updateNodeAfterCollapseChange(t,u),this._updateAncestorsRenderNodeCount(t.parent,u.length-a),u}_updateNodeAfterCollapseChange(t,a){if(t.visible===!1)return 0;if(a.push(t),t.renderNodeCount=1,!t.collapsed)for(const u of t.children)t.renderNodeCount+=this._updateNodeAfterCollapseChange(u,a);return this._onDidChangeRenderNodeCount.fire(t),t.renderNodeCount}updateNodeAfterFilterChange(t){const a=t.renderNodeCount,u=[];return this._updateNodeAfterFilterChange(t,t.visible?1:0,u),this._updateAncestorsRenderNodeCount(t.parent,u.length-a),u}_updateNodeAfterFilterChange(t,a,u,h=!0){let r;if(t!==this.root){if(r=this._filterNode(t,a),r===0)return t.visible=!1,t.renderNodeCount=0,!1;h&&u.push(t)}const c=u.length;t.renderNodeCount=t===this.root?0:1;let o=!1;if(!t.collapsed||r!==0){let d=0;for(const l of t.children)o=this._updateNodeAfterFilterChange(l,r,u,h&&!t.collapsed)||o,l.visible&&(l.visibleChildIndex=d++);t.visibleChildrenCount=d}else t.visibleChildrenCount=0;return t!==this.root&&(t.visible=r===2?o:r===1,t.visibility=r),t.visible?t.collapsed||(t.renderNodeCount+=u.length-c):(t.renderNodeCount=0,h&&u.pop()),this._onDidChangeRenderNodeCount.fire(t),t.visible}_updateAncestorsRenderNodeCount(t,a){if(a!==0)for(;t;)t.renderNodeCount+=a,this._onDidChangeRenderNodeCount.fire(t),t=t.parent}_filterNode(t,a){const u=this.filter?this.filter.filter(t.element,a):1;return typeof u=="boolean"?(t.filterData=void 0,u?1:0):g(u)?(t.filterData=u.data,C(u.visibility)):(t.filterData=void 0,C(u))}hasTreeNode(t,a=this.root){if(!t||t.length===0)return!0;const[u,...h]=t;return u<0||u>a.children.length?!1:this.hasTreeNode(h,a.children[u])}getTreeNode(t,a=this.root){if(!t||t.length===0)return a;const[u,...h]=t;if(u<0||u>a.children.length)throw new L.TreeError(this.user,"Invalid tree location");return this.getTreeNode(h,a.children[u])}getTreeNodeWithListIndex(t){if(t.length===0)return{node:this.root,listIndex:-1,revealed:!0,visible:!1};const{parentNode:a,listIndex:u,revealed:h,visible:r}=this.getParentNodeWithListIndex(t),c=t[t.length-1];if(c<0||c>a.children.length)throw new L.TreeError(this.user,"Invalid tree location");const o=a.children[c];return{node:o,listIndex:u,revealed:h,visible:r&&o.visible}}getParentNodeWithListIndex(t,a=this.root,u=0,h=!0,r=!0){const[c,...o]=t;if(c<0||c>a.children.length)throw new L.TreeError(this.user,"Invalid tree location");for(let d=0;d<c;d++)u+=a.children[d].renderNodeCount;return h=h&&!a.collapsed,r=r&&a.visible,o.length===0?{parentNode:a,listIndex:u,revealed:h,visible:r}:this.getParentNodeWithListIndex(o,a.children[c],u+1,h,r)}getNode(t=[]){return this.getTreeNode(t)}getNodeLocation(t){const a=[];let u=t;for(;u.parent;)a.push(u.parent.children.indexOf(u)),u=u.parent;return a.reverse()}getParentNodeLocation(t){if(t.length!==0)return t.length===1?[]:(0,k.tail2)(t)[0]}getFirstElementChild(t){const a=this.getTreeNode(t);if(a.children.length!==0)return a.children[0].element}}e.IndexTreeModel=i}),define(ne[219],se([1,0,218,139,46]),function(Q,e,L,k,y){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ObjectTreeModel=void 0;class D{constructor(f,_,g={}){this.user=f,this.rootRef=null,this.nodes=new Map,this.nodesByIdentity=new Map,this.model=new L.IndexTreeModel(f,_,null,g),this.onDidSplice=this.model.onDidSplice,this.onDidChangeCollapseState=this.model.onDidChangeCollapseState,this.onDidChangeRenderNodeCount=this.model.onDidChangeRenderNodeCount,g.sorter&&(this.sorter={compare(C,s){return g.sorter.compare(C.element,s.element)}}),this.identityProvider=g.identityProvider}setChildren(f,_=y.Iterable.empty(),g={}){const C=this.getElementLocation(f);this._setChildren(C,this.preserveCollapseState(_),g)}_setChildren(f,_=y.Iterable.empty(),g){const C=new Set,s=new Set,i=t=>{var a;if(t.element===null)return;const u=t;if(C.add(u.element),this.nodes.set(u.element,u),this.identityProvider){const h=this.identityProvider.getId(u.element).toString();s.add(h),this.nodesByIdentity.set(h,u)}(a=g.onDidCreateNode)===null||a===void 0||a.call(g,u)},n=t=>{var a;if(t.element===null)return;const u=t;if(C.has(u.element)||this.nodes.delete(u.element),this.identityProvider){const h=this.identityProvider.getId(u.element).toString();s.has(h)||this.nodesByIdentity.delete(h)}(a=g.onDidDeleteNode)===null||a===void 0||a.call(g,u)};this.model.splice([...f,0],Number.MAX_VALUE,_,Object.assign(Object.assign({},g),{onDidCreateNode:i,onDidDeleteNode:n}))}preserveCollapseState(f=y.Iterable.empty()){return this.sorter&&(f=[...f].sort(this.sorter.compare.bind(this.sorter))),y.Iterable.map(f,_=>{let g=this.nodes.get(_.element);if(!g&&this.identityProvider){const i=this.identityProvider.getId(_.element).toString();g=this.nodesByIdentity.get(i)}if(!g){let i;return typeof _.collapsed>"u"?i=void 0:_.collapsed===k.ObjectTreeElementCollapseState.Collapsed||_.collapsed===k.ObjectTreeElementCollapseState.PreserveOrCollapsed?i=!0:_.collapsed===k.ObjectTreeElementCollapseState.Expanded||_.collapsed===k.ObjectTreeElementCollapseState.PreserveOrExpanded?i=!1:i=!!_.collapsed,Object.assign(Object.assign({},_),{children:this.preserveCollapseState(_.children),collapsed:i})}const C=typeof _.collapsible=="boolean"?_.collapsible:g.collapsible;let s;return typeof _.collapsed>"u"||_.collapsed===k.ObjectTreeElementCollapseState.PreserveOrCollapsed||_.collapsed===k.ObjectTreeElementCollapseState.PreserveOrExpanded?s=g.collapsed:_.collapsed===k.ObjectTreeElementCollapseState.Collapsed?s=!0:_.collapsed===k.ObjectTreeElementCollapseState.Expanded?s=!1:s=!!_.collapsed,Object.assign(Object.assign({},_),{collapsible:C,collapsed:s,children:this.preserveCollapseState(_.children)})})}rerender(f){const _=this.getElementLocation(f);this.model.rerender(_)}getFirstElementChild(f=null){const _=this.getElementLocation(f);return this.model.getFirstElementChild(_)}has(f){return this.nodes.has(f)}getListIndex(f){const _=this.getElementLocation(f);return this.model.getListIndex(_)}getListRenderCount(f){const _=this.getElementLocation(f);return this.model.getListRenderCount(_)}isCollapsible(f){const _=this.getElementLocation(f);return this.model.isCollapsible(_)}setCollapsible(f,_){const g=this.getElementLocation(f);return this.model.setCollapsible(g,_)}isCollapsed(f){const _=this.getElementLocation(f);return this.model.isCollapsed(_)}setCollapsed(f,_,g){const C=this.getElementLocation(f);return this.model.setCollapsed(C,_,g)}expandTo(f){const _=this.getElementLocation(f);this.model.expandTo(_)}refilter(){this.model.refilter()}getNode(f=null){if(f===null)return this.model.getNode(this.model.rootRef);const _=this.nodes.get(f);if(!_)throw new k.TreeError(this.user,`Tree element not found: ${f}`);return _}getNodeLocation(f){return f.element}getParentNodeLocation(f){if(f===null)throw new k.TreeError(this.user,"Invalid getParentNodeLocation call");const _=this.nodes.get(f);if(!_)throw new k.TreeError(this.user,`Tree element not found: ${f}`);const g=this.model.getNodeLocation(_),C=this.model.getParentNodeLocation(g);return this.model.getNode(C).element}getElementLocation(f){if(f===null)return[];const _=this.nodes.get(f);if(!_)throw new k.TreeError(this.user,`Tree element not found: ${f}`);return this.model.getNodeLocation(_)}}e.ObjectTreeModel=D}),define(ne[568],se([1,0,219,139,14,6,46]),function(Q,e,L,k,y,D,S){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.CompressibleObjectTreeModel=e.DefaultElementMapper=e.CompressedObjectTreeModel=e.decompress=e.compress=void 0;function f(c){const o=[c.element],d=c.incompressible||!1;return{element:{elements:o,incompressible:d},children:S.Iterable.map(S.Iterable.from(c.children),f),collapsible:c.collapsible,collapsed:c.collapsed}}function _(c){const o=[c.element],d=c.incompressible||!1;let l,p;for(;[p,l]=S.Iterable.consume(S.Iterable.from(c.children),2),!(p.length!==1||p[0].incompressible);)c=p[0],o.push(c.element);return{element:{elements:o,incompressible:d},children:S.Iterable.map(S.Iterable.concat(p,l),_),collapsible:c.collapsible,collapsed:c.collapsed}}e.compress=_;function g(c,o=0){let d;return o<c.element.elements.length-1?d=[g(c,o+1)]:d=S.Iterable.map(S.Iterable.from(c.children),l=>g(l,0)),o===0&&c.element.incompressible?{element:c.element.elements[o],children:d,incompressible:!0,collapsible:c.collapsible,collapsed:c.collapsed}:{element:c.element.elements[o],children:d,collapsible:c.collapsible,collapsed:c.collapsed}}function C(c){return g(c,0)}e.decompress=C;function s(c,o,d){return c.element===o?Object.assign(Object.assign({},c),{children:d}):Object.assign(Object.assign({},c),{children:S.Iterable.map(S.Iterable.from(c.children),l=>s(l,o,d))})}const i=c=>({getId(o){return o.elements.map(d=>c.getId(d).toString()).join("\0")}});class n{get onDidSplice(){return this.model.onDidSplice}get onDidChangeCollapseState(){return this.model.onDidChangeCollapseState}get onDidChangeRenderNodeCount(){return this.model.onDidChangeRenderNodeCount}constructor(o,d,l={}){this.user=o,this.rootRef=null,this.nodes=new Map,this.model=new L.ObjectTreeModel(o,d,l),this.enabled=typeof l.compressionEnabled>"u"?!0:l.compressionEnabled,this.identityProvider=l.identityProvider}setChildren(o,d=S.Iterable.empty(),l){const p=l.diffIdentityProvider&&i(l.diffIdentityProvider);if(o===null){const T=S.Iterable.map(d,this.enabled?_:f);this._setChildren(null,T,{diffIdentityProvider:p,diffDepth:1/0});return}const m=this.nodes.get(o);if(!m)throw new k.TreeError(this.user,"Unknown compressed tree node");const v=this.model.getNode(m),b=this.model.getParentNodeLocation(m),w=this.model.getNode(b),E=C(v),I=s(E,o,d),M=(this.enabled?_:f)(I),P=l.diffIdentityProvider?(T,A)=>l.diffIdentityProvider.getId(T)===l.diffIdentityProvider.getId(A):void 0;if((0,y.equals)(M.element.elements,v.element.elements,P)){this._setChildren(m,M.children||S.Iterable.empty(),{diffIdentityProvider:p,diffDepth:1});return}const x=w.children.map(T=>T===v?M:T);this._setChildren(w.element,x,{diffIdentityProvider:p,diffDepth:v.depth-w.depth})}setCompressionEnabled(o){if(o===this.enabled)return;this.enabled=o;const l=this.model.getNode().children,p=S.Iterable.map(l,C),m=S.Iterable.map(p,o?_:f);this._setChildren(null,m,{diffIdentityProvider:this.identityProvider,diffDepth:1/0})}_setChildren(o,d,l){const p=new Set,m=b=>{for(const w of b.element.elements)p.add(w),this.nodes.set(w,b.element)},v=b=>{for(const w of b.element.elements)p.has(w)||this.nodes.delete(w)};this.model.setChildren(o,d,Object.assign(Object.assign({},l),{onDidCreateNode:m,onDidDeleteNode:v}))}has(o){return this.nodes.has(o)}getListIndex(o){const d=this.getCompressedNode(o);return this.model.getListIndex(d)}getListRenderCount(o){const d=this.getCompressedNode(o);return this.model.getListRenderCount(d)}getNode(o){if(typeof o>"u")return this.model.getNode();const d=this.getCompressedNode(o);return this.model.getNode(d)}getNodeLocation(o){const d=this.model.getNodeLocation(o);return d===null?null:d.elements[d.elements.length-1]}getParentNodeLocation(o){const d=this.getCompressedNode(o),l=this.model.getParentNodeLocation(d);return l===null?null:l.elements[l.elements.length-1]}getFirstElementChild(o){const d=this.getCompressedNode(o);return this.model.getFirstElementChild(d)}isCollapsible(o){const d=this.getCompressedNode(o);return this.model.isCollapsible(d)}setCollapsible(o,d){const l=this.getCompressedNode(o);return this.model.setCollapsible(l,d)}isCollapsed(o){const d=this.getCompressedNode(o);return this.model.isCollapsed(d)}setCollapsed(o,d,l){const p=this.getCompressedNode(o);return this.model.setCollapsed(p,d,l)}expandTo(o){const d=this.getCompressedNode(o);this.model.expandTo(d)}rerender(o){const d=this.getCompressedNode(o);this.model.rerender(d)}refilter(){this.model.refilter()}getCompressedNode(o){if(o===null)return null;const d=this.nodes.get(o);if(!d)throw new k.TreeError(this.user,`Tree element not found: ${o}`);return d}}e.CompressedObjectTreeModel=n;const t=c=>c[c.length-1];e.DefaultElementMapper=t;class a{get element(){return this.node.element===null?null:this.unwrapper(this.node.element)}get children(){return this.node.children.map(o=>new a(this.unwrapper,o))}get depth(){return this.node.depth}get visibleChildrenCount(){return this.node.visibleChildrenCount}get visibleChildIndex(){return this.node.visibleChildIndex}get collapsible(){return this.node.collapsible}get collapsed(){return this.node.collapsed}get visible(){return this.node.visible}get filterData(){return this.node.filterData}constructor(o,d){this.unwrapper=o,this.node=d}}function u(c,o){return{splice(d,l,p){o.splice(d,l,p.map(m=>c.map(m)))},updateElementHeight(d,l){o.updateElementHeight(d,l)}}}function h(c,o){return Object.assign(Object.assign({},o),{identityProvider:o.identityProvider&&{getId(d){return o.identityProvider.getId(c(d))}},sorter:o.sorter&&{compare(d,l){return o.sorter.compare(d.elements[0],l.elements[0])}},filter:o.filter&&{filter(d,l){return o.filter.filter(c(d),l)}}})}class r{get onDidSplice(){return D.Event.map(this.model.onDidSplice,({insertedNodes:o,deletedNodes:d})=>({insertedNodes:o.map(l=>this.nodeMapper.map(l)),deletedNodes:d.map(l=>this.nodeMapper.map(l))}))}get onDidChangeCollapseState(){return D.Event.map(this.model.onDidChangeCollapseState,({node:o,deep:d})=>({node:this.nodeMapper.map(o),deep:d}))}get onDidChangeRenderNodeCount(){return D.Event.map(this.model.onDidChangeRenderNodeCount,o=>this.nodeMapper.map(o))}constructor(o,d,l={}){this.rootRef=null,this.elementMapper=l.elementMapper||e.DefaultElementMapper;const p=m=>this.elementMapper(m.elements);this.nodeMapper=new k.WeakMapper(m=>new a(p,m)),this.model=new n(o,u(this.nodeMapper,d),h(p,l))}setChildren(o,d=S.Iterable.empty(),l={}){this.model.setChildren(o,d,l)}setCompressionEnabled(o){this.model.setCompressionEnabled(o)}has(o){return this.model.has(o)}getListIndex(o){return this.model.getListIndex(o)}getListRenderCount(o){return this.model.getListRenderCount(o)}getNode(o){return this.nodeMapper.map(this.model.getNode(o))}getNodeLocation(o){return o.element}getParentNodeLocation(o){return this.model.getParentNodeLocation(o)}getFirstElementChild(o){const d=this.model.getFirstElementChild(o);return d===null||typeof d>"u"?d:this.elementMapper(d.elements)}isCollapsible(o){return this.model.isCollapsible(o)}setCollapsible(o,d){return this.model.setCollapsible(o,d)}isCollapsed(o){return this.model.isCollapsed(o)}setCollapsed(o,d,l){return this.model.setCollapsed(o,d,l)}expandTo(o){return this.model.expandTo(o)}rerender(o){return this.model.rerender(o)}refilter(){return this.model.refilter()}getCompressedTreeNode(o=null){return this.model.getNode(o)}}e.CompressibleObjectTreeModel=r}),define(ne[569],se([1,0,17]),function(Q,e,L){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.platform=e.env=e.cwd=void 0;let k;if(typeof L.globals.vscode<"u"&&typeof L.globals.vscode.process<"u"){const y=L.globals.vscode.process;k={get platform(){return y.platform},get arch(){return y.arch},get env(){return y.env},cwd(){return y.cwd()}}}else typeof process<"u"?k={get platform(){return process.platform},get arch(){return process.arch},get env(){return process.env},cwd(){return process.env.VSCODE_CWD||process.cwd()}}:k={get platform(){return L.isWindows?"win32":L.isMacintosh?"darwin":"linux"},get arch(){},get env(){return{}},cwd(){return"/"}};e.cwd=k.cwd,e.env=k.env,e.platform=k.platform}),define(ne[92],se([1,0,569]),function(Q,e,L){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.sep=e.extname=e.basename=e.dirname=e.relative=e.resolve=e.normalize=e.posix=e.win32=void 0;const k=65,y=97,D=90,S=122,f=46,_=47,g=92,C=58,s=63;class i extends Error{constructor(p,m,v){let b;typeof m=="string"&&m.indexOf("not ")===0?(b="must not be",m=m.replace(/^not /,"")):b="must be";const w=p.indexOf(".")!==-1?"property":"argument";let E=`The "${p}" ${w} ${b} of type ${m}`;E+=`. Received type ${typeof v}`,super(E),this.code="ERR_INVALID_ARG_TYPE"}}function n(l,p){if(l===null||typeof l!="object")throw new i(p,"Object",l)}function t(l,p){if(typeof l!="string")throw new i(p,"string",l)}const a=L.platform==="win32";function u(l){return l===_||l===g}function h(l){return l===_}function r(l){return l>=k&&l<=D||l>=y&&l<=S}function c(l,p,m,v){let b="",w=0,E=-1,I=0,M=0;for(let P=0;P<=l.length;++P){if(P<l.length)M=l.charCodeAt(P);else{if(v(M))break;M=_}if(v(M)){if(!(E===P-1||I===1))if(I===2){if(b.length<2||w!==2||b.charCodeAt(b.length-1)!==f||b.charCodeAt(b.length-2)!==f){if(b.length>2){const x=b.lastIndexOf(m);x===-1?(b="",w=0):(b=b.slice(0,x),w=b.length-1-b.lastIndexOf(m)),E=P,I=0;continue}else if(b.length!==0){b="",w=0,E=P,I=0;continue}}p&&(b+=b.length>0?`${m}..`:"..",w=2)}else b.length>0?b+=`${m}${l.slice(E+1,P)}`:b=l.slice(E+1,P),w=P-E-1;E=P,I=0}else M===f&&I!==-1?++I:I=-1}return b}function o(l,p){n(p,"pathObject");const m=p.dir||p.root,v=p.base||`${p.name||""}${p.ext||""}`;return m?m===p.root?`${m}${v}`:`${m}${l}${v}`:v}e.win32={resolve(...l){let p="",m="",v=!1;for(let b=l.length-1;b>=-1;b--){let w;if(b>=0){if(w=l[b],t(w,"path"),w.length===0)continue}else p.length===0?w=L.cwd():(w=L.env[`=${p}`]||L.cwd(),(w===void 0||w.slice(0,2).toLowerCase()!==p.toLowerCase()&&w.charCodeAt(2)===g)&&(w=`${p}\\`));const E=w.length;let I=0,M="",P=!1;const x=w.charCodeAt(0);if(E===1)u(x)&&(I=1,P=!0);else if(u(x))if(P=!0,u(w.charCodeAt(1))){let T=2,A=T;for(;T<E&&!u(w.charCodeAt(T));)T++;if(T<E&&T!==A){const N=w.slice(A,T);for(A=T;T<E&&u(w.charCodeAt(T));)T++;if(T<E&&T!==A){for(A=T;T<E&&!u(w.charCodeAt(T));)T++;(T===E||T!==A)&&(M=`\\\\${N}\\${w.slice(A,T)}`,I=T)}}}else I=1;else r(x)&&w.charCodeAt(1)===C&&(M=w.slice(0,2),I=2,E>2&&u(w.charCodeAt(2))&&(P=!0,I=3));if(M.length>0)if(p.length>0){if(M.toLowerCase()!==p.toLowerCase())continue}else p=M;if(v){if(p.length>0)break}else if(m=`${w.slice(I)}\\${m}`,v=P,P&&p.length>0)break}return m=c(m,!v,"\\",u),v?`${p}\\${m}`:`${p}${m}`||"."},normalize(l){t(l,"path");const p=l.length;if(p===0)return".";let m=0,v,b=!1;const w=l.charCodeAt(0);if(p===1)return h(w)?"\\":l;if(u(w))if(b=!0,u(l.charCodeAt(1))){let I=2,M=I;for(;I<p&&!u(l.charCodeAt(I));)I++;if(I<p&&I!==M){const P=l.slice(M,I);for(M=I;I<p&&u(l.charCodeAt(I));)I++;if(I<p&&I!==M){for(M=I;I<p&&!u(l.charCodeAt(I));)I++;if(I===p)return`\\\\${P}\\${l.slice(M)}\\`;I!==M&&(v=`\\\\${P}\\${l.slice(M,I)}`,m=I)}}}else m=1;else r(w)&&l.charCodeAt(1)===C&&(v=l.slice(0,2),m=2,p>2&&u(l.charCodeAt(2))&&(b=!0,m=3));let E=m<p?c(l.slice(m),!b,"\\",u):"";return E.length===0&&!b&&(E="."),E.length>0&&u(l.charCodeAt(p-1))&&(E+="\\"),v===void 0?b?`\\${E}`:E:b?`${v}\\${E}`:`${v}${E}`},isAbsolute(l){t(l,"path");const p=l.length;if(p===0)return!1;const m=l.charCodeAt(0);return u(m)||p>2&&r(m)&&l.charCodeAt(1)===C&&u(l.charCodeAt(2))},join(...l){if(l.length===0)return".";let p,m;for(let w=0;w<l.length;++w){const E=l[w];t(E,"path"),E.length>0&&(p===void 0?p=m=E:p+=`\\${E}`)}if(p===void 0)return".";let v=!0,b=0;if(typeof m=="string"&&u(m.charCodeAt(0))){++b;const w=m.length;w>1&&u(m.charCodeAt(1))&&(++b,w>2&&(u(m.charCodeAt(2))?++b:v=!1))}if(v){for(;b<p.length&&u(p.charCodeAt(b));)b++;b>=2&&(p=`\\${p.slice(b)}`)}return e.win32.normalize(p)},relative(l,p){if(t(l,"from"),t(p,"to"),l===p)return"";const m=e.win32.resolve(l),v=e.win32.resolve(p);if(m===v||(l=m.toLowerCase(),p=v.toLowerCase(),l===p))return"";let b=0;for(;b<l.length&&l.charCodeAt(b)===g;)b++;let w=l.length;for(;w-1>b&&l.charCodeAt(w-1)===g;)w--;const E=w-b;let I=0;for(;I<p.length&&p.charCodeAt(I)===g;)I++;let M=p.length;for(;M-1>I&&p.charCodeAt(M-1)===g;)M--;const P=M-I,x=E<P?E:P;let T=-1,A=0;for(;A<x;A++){const F=l.charCodeAt(b+A);if(F!==p.charCodeAt(I+A))break;F===g&&(T=A)}if(A!==x){if(T===-1)return v}else{if(P>x){if(p.charCodeAt(I+A)===g)return v.slice(I+A+1);if(A===2)return v.slice(I+A)}E>x&&(l.charCodeAt(b+A)===g?T=A:A===2&&(T=3)),T===-1&&(T=0)}let N="";for(A=b+T+1;A<=w;++A)(A===w||l.charCodeAt(A)===g)&&(N+=N.length===0?"..":"\\..");return I+=T,N.length>0?`${N}${v.slice(I,M)}`:(v.charCodeAt(I)===g&&++I,v.slice(I,M))},toNamespacedPath(l){if(typeof l!="string"||l.length===0)return l;const p=e.win32.resolve(l);if(p.length<=2)return l;if(p.charCodeAt(0)===g){if(p.charCodeAt(1)===g){const m=p.charCodeAt(2);if(m!==s&&m!==f)return`\\\\?\\UNC\\${p.slice(2)}`}}else if(r(p.charCodeAt(0))&&p.charCodeAt(1)===C&&p.charCodeAt(2)===g)return`\\\\?\\${p}`;return l},dirname(l){t(l,"path");const p=l.length;if(p===0)return".";let m=-1,v=0;const b=l.charCodeAt(0);if(p===1)return u(b)?l:".";if(u(b)){if(m=v=1,u(l.charCodeAt(1))){let I=2,M=I;for(;I<p&&!u(l.charCodeAt(I));)I++;if(I<p&&I!==M){for(M=I;I<p&&u(l.charCodeAt(I));)I++;if(I<p&&I!==M){for(M=I;I<p&&!u(l.charCodeAt(I));)I++;if(I===p)return l;I!==M&&(m=v=I+1)}}}}else r(b)&&l.charCodeAt(1)===C&&(m=p>2&&u(l.charCodeAt(2))?3:2,v=m);let w=-1,E=!0;for(let I=p-1;I>=v;--I)if(u(l.charCodeAt(I))){if(!E){w=I;break}}else E=!1;if(w===-1){if(m===-1)return".";w=m}return l.slice(0,w)},basename(l,p){p!==void 0&&t(p,"ext"),t(l,"path");let m=0,v=-1,b=!0,w;if(l.length>=2&&r(l.charCodeAt(0))&&l.charCodeAt(1)===C&&(m=2),p!==void 0&&p.length>0&&p.length<=l.length){if(p===l)return"";let E=p.length-1,I=-1;for(w=l.length-1;w>=m;--w){const M=l.charCodeAt(w);if(u(M)){if(!b){m=w+1;break}}else I===-1&&(b=!1,I=w+1),E>=0&&(M===p.charCodeAt(E)?--E===-1&&(v=w):(E=-1,v=I))}return m===v?v=I:v===-1&&(v=l.length),l.slice(m,v)}for(w=l.length-1;w>=m;--w)if(u(l.charCodeAt(w))){if(!b){m=w+1;break}}else v===-1&&(b=!1,v=w+1);return v===-1?"":l.slice(m,v)},extname(l){t(l,"path");let p=0,m=-1,v=0,b=-1,w=!0,E=0;l.length>=2&&l.charCodeAt(1)===C&&r(l.charCodeAt(0))&&(p=v=2);for(let I=l.length-1;I>=p;--I){const M=l.charCodeAt(I);if(u(M)){if(!w){v=I+1;break}continue}b===-1&&(w=!1,b=I+1),M===f?m===-1?m=I:E!==1&&(E=1):m!==-1&&(E=-1)}return m===-1||b===-1||E===0||E===1&&m===b-1&&m===v+1?"":l.slice(m,b)},format:o.bind(null,"\\"),parse(l){t(l,"path");const p={root:"",dir:"",base:"",ext:"",name:""};if(l.length===0)return p;const m=l.length;let v=0,b=l.charCodeAt(0);if(m===1)return u(b)?(p.root=p.dir=l,p):(p.base=p.name=l,p);if(u(b)){if(v=1,u(l.charCodeAt(1))){let T=2,A=T;for(;T<m&&!u(l.charCodeAt(T));)T++;if(T<m&&T!==A){for(A=T;T<m&&u(l.charCodeAt(T));)T++;if(T<m&&T!==A){for(A=T;T<m&&!u(l.charCodeAt(T));)T++;T===m?v=T:T!==A&&(v=T+1)}}}}else if(r(b)&&l.charCodeAt(1)===C){if(m<=2)return p.root=p.dir=l,p;if(v=2,u(l.charCodeAt(2))){if(m===3)return p.root=p.dir=l,p;v=3}}v>0&&(p.root=l.slice(0,v));let w=-1,E=v,I=-1,M=!0,P=l.length-1,x=0;for(;P>=v;--P){if(b=l.charCodeAt(P),u(b)){if(!M){E=P+1;break}continue}I===-1&&(M=!1,I=P+1),b===f?w===-1?w=P:x!==1&&(x=1):w!==-1&&(x=-1)}return I!==-1&&(w===-1||x===0||x===1&&w===I-1&&w===E+1?p.base=p.name=l.slice(E,I):(p.name=l.slice(E,w),p.base=l.slice(E,I),p.ext=l.slice(w,I))),E>0&&E!==v?p.dir=l.slice(0,E-1):p.dir=p.root,p},sep:"\\",delimiter:";",win32:null,posix:null};const d=(()=>{if(a){const l=/\\/g;return()=>{const p=L.cwd().replace(l,"/");return p.slice(p.indexOf("/"))}}return()=>L.cwd()})();e.posix={resolve(...l){let p="",m=!1;for(let v=l.length-1;v>=-1&&!m;v--){const b=v>=0?l[v]:d();t(b,"path"),b.length!==0&&(p=`${b}/${p}`,m=b.charCodeAt(0)===_)}return p=c(p,!m,"/",h),m?`/${p}`:p.length>0?p:"."},normalize(l){if(t(l,"path"),l.length===0)return".";const p=l.charCodeAt(0)===_,m=l.charCodeAt(l.length-1)===_;return l=c(l,!p,"/",h),l.length===0?p?"/":m?"./":".":(m&&(l+="/"),p?`/${l}`:l)},isAbsolute(l){return t(l,"path"),l.length>0&&l.charCodeAt(0)===_},join(...l){if(l.length===0)return".";let p;for(let m=0;m<l.length;++m){const v=l[m];t(v,"path"),v.length>0&&(p===void 0?p=v:p+=`/${v}`)}return p===void 0?".":e.posix.normalize(p)},relative(l,p){if(t(l,"from"),t(p,"to"),l===p||(l=e.posix.resolve(l),p=e.posix.resolve(p),l===p))return"";const m=1,v=l.length,b=v-m,w=1,E=p.length-w,I=b<E?b:E;let M=-1,P=0;for(;P<I;P++){const T=l.charCodeAt(m+P);if(T!==p.charCodeAt(w+P))break;T===_&&(M=P)}if(P===I)if(E>I){if(p.charCodeAt(w+P)===_)return p.slice(w+P+1);if(P===0)return p.slice(w+P)}else b>I&&(l.charCodeAt(m+P)===_?M=P:P===0&&(M=0));let x="";for(P=m+M+1;P<=v;++P)(P===v||l.charCodeAt(P)===_)&&(x+=x.length===0?"..":"/..");return`${x}${p.slice(w+M)}`},toNamespacedPath(l){return l},dirname(l){if(t(l,"path"),l.length===0)return".";const p=l.charCodeAt(0)===_;let m=-1,v=!0;for(let b=l.length-1;b>=1;--b)if(l.charCodeAt(b)===_){if(!v){m=b;break}}else v=!1;return m===-1?p?"/":".":p&&m===1?"//":l.slice(0,m)},basename(l,p){p!==void 0&&t(p,"ext"),t(l,"path");let m=0,v=-1,b=!0,w;if(p!==void 0&&p.length>0&&p.length<=l.length){if(p===l)return"";let E=p.length-1,I=-1;for(w=l.length-1;w>=0;--w){const M=l.charCodeAt(w);if(M===_){if(!b){m=w+1;break}}else I===-1&&(b=!1,I=w+1),E>=0&&(M===p.charCodeAt(E)?--E===-1&&(v=w):(E=-1,v=I))}return m===v?v=I:v===-1&&(v=l.length),l.slice(m,v)}for(w=l.length-1;w>=0;--w)if(l.charCodeAt(w)===_){if(!b){m=w+1;break}}else v===-1&&(b=!1,v=w+1);return v===-1?"":l.slice(m,v)},extname(l){t(l,"path");let p=-1,m=0,v=-1,b=!0,w=0;for(let E=l.length-1;E>=0;--E){const I=l.charCodeAt(E);if(I===_){if(!b){m=E+1;break}continue}v===-1&&(b=!1,v=E+1),I===f?p===-1?p=E:w!==1&&(w=1):p!==-1&&(w=-1)}return p===-1||v===-1||w===0||w===1&&p===v-1&&p===m+1?"":l.slice(p,v)},format:o.bind(null,"/"),parse(l){t(l,"path");const p={root:"",dir:"",base:"",ext:"",name:""};if(l.length===0)return p;const m=l.charCodeAt(0)===_;let v;m?(p.root="/",v=1):v=0;let b=-1,w=0,E=-1,I=!0,M=l.length-1,P=0;for(;M>=v;--M){const x=l.charCodeAt(M);if(x===_){if(!I){w=M+1;break}continue}E===-1&&(I=!1,E=M+1),x===f?b===-1?b=M:P!==1&&(P=1):b!==-1&&(P=-1)}if(E!==-1){const x=w===0&&m?1:w;b===-1||P===0||P===1&&b===E-1&&b===w+1?p.base=p.name=l.slice(x,E):(p.name=l.slice(x,b),p.base=l.slice(x,E),p.ext=l.slice(b,E))}return w>0?p.dir=l.slice(0,w-1):m&&(p.dir="/"),p},sep:"/",delimiter:":",win32:null,posix:null},e.posix.win32=e.win32.win32=e.win32,e.posix.posix=e.win32.posix=e.posix,e.normalize=a?e.win32.normalize:e.posix.normalize,e.resolve=a?e.win32.resolve:e.posix.resolve,e.relative=a?e.win32.relative:e.posix.relative,e.dirname=a?e.win32.dirname:e.posix.dirname,e.basename=a?e.win32.basename:e.posix.basename,e.extname=a?e.win32.extname:e.posix.extname,e.sep=a?e.win32.sep:e.posix.sep}),define(ne[220],se([1,0,92,17,11]),function(Q,e,L,k,y){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.hasDriveLetter=e.isWindowsDriveLetter=e.isEqualOrParent=e.getRoot=e.toPosixPath=e.toSlashes=e.isPathSeparator=void 0;function D(i){return i===47||i===92}e.isPathSeparator=D;function S(i){return i.replace(/[\\/]/g,L.posix.sep)}e.toSlashes=S;function f(i){return i.indexOf("/")===-1&&(i=S(i)),/^[a-zA-Z]:(\/|$)/.test(i)&&(i="/"+i),i}e.toPosixPath=f;function _(i,n=L.posix.sep){if(!i)return"";const t=i.length,a=i.charCodeAt(0);if(D(a)){if(D(i.charCodeAt(1))&&!D(i.charCodeAt(2))){let h=3;const r=h;for(;h<t&&!D(i.charCodeAt(h));h++);if(r!==h&&!D(i.charCodeAt(h+1))){for(h+=1;h<t;h++)if(D(i.charCodeAt(h)))return i.slice(0,h+1).replace(/[\\/]/g,n)}}return n}else if(C(a)&&i.charCodeAt(1)===58)return D(i.charCodeAt(2))?i.slice(0,2)+n:i.slice(0,2);let u=i.indexOf("://");if(u!==-1){for(u+=3;u<t;u++)if(D(i.charCodeAt(u)))return i.slice(0,u+1)}return""}e.getRoot=_;function g(i,n,t,a=L.sep){if(i===n)return!0;if(!i||!n||n.length>i.length)return!1;if(t){if(!(0,y.startsWithIgnoreCase)(i,n))return!1;if(n.length===i.length)return!0;let h=n.length;return n.charAt(n.length-1)===a&&h--,i.charAt(h)===a}return n.charAt(n.length-1)!==a&&(n+=a),i.indexOf(n)===0}e.isEqualOrParent=g;function C(i){return i>=65&&i<=90||i>=97&&i<=122}e.isWindowsDriveLetter=C;function s(i,n=k.isWindows){return n?C(i.charCodeAt(0))&&i.charCodeAt(1)===58:!1}e.hasDriveLetter=s}),define(ne[570],se([1,0,72,92,17,11]),function(Q,e,L,k,y,D){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.pieceToQuery=e.prepareQuery=e.scoreFuzzy2=void 0;const S=[void 0,[]];function f(r,c,o=0,d=0){const l=c;return l.values&&l.values.length>1?_(r,l.values,o,d):g(r,c,o,d)}e.scoreFuzzy2=f;function _(r,c,o,d){let l=0;const p=[];for(const m of c){const[v,b]=g(r,m,o,d);if(typeof v!="number")return S;l+=v,p.push(...b)}return[l,s(p)]}function g(r,c,o,d){const l=(0,L.fuzzyScore)(c.original,c.originalLowercase,o,r,r.toLowerCase(),d,{firstMatchCanBeWeak:!0,boostFullMatch:!0});return l?[l[0],(0,L.createMatches)(l)]:S}const C=Object.freeze({score:0});function s(r){const c=r.sort((l,p)=>l.start-p.start),o=[];let d;for(const l of c)!d||!i(d,l)?(d=l,o.push(l)):(d.start=Math.min(d.start,l.start),d.end=Math.max(d.end,l.end));return o}function i(r,c){return!(r.end<c.start||c.end<r.start)}function n(r){return r.startsWith('"')&&r.endsWith('"')}const t=" ";function a(r){typeof r!="string"&&(r="");const c=r.toLowerCase(),{pathNormalized:o,normalized:d,normalizedLowercase:l}=u(r),p=o.indexOf(k.sep)>=0,m=n(r);let v;const b=r.split(t);if(b.length>1)for(const w of b){const E=n(w),{pathNormalized:I,normalized:M,normalizedLowercase:P}=u(w);M&&(v||(v=[]),v.push({original:w,originalLowercase:w.toLowerCase(),pathNormalized:I,normalized:M,normalizedLowercase:P,expectContiguousMatch:E}))}return{original:r,originalLowercase:c,pathNormalized:o,normalized:d,normalizedLowercase:l,values:v,containsPathSeparator:p,expectContiguousMatch:m}}e.prepareQuery=a;function u(r){let c;y.isWindows?c=r.replace(/\//g,k.sep):c=r.replace(/\\/g,k.sep);const o=(0,D.stripWildcards)(c).replace(/\s|"/g,"");return{pathNormalized:c,normalized:o,normalizedLowercase:o.toLowerCase()}}function h(r){return Array.isArray(r)?a(r.map(c=>c.original).join(t)):a(r.original)}e.pieceToQuery=h}),define(ne[303],se([1,0,13,220,65,92,17,11]),function(Q,e,L,k,y,D,S,f){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.isRelativePattern=e.parse=e.match=e.splitGlobAware=e.GLOB_SPLIT=e.GLOBSTAR=void 0,e.GLOBSTAR="**",e.GLOB_SPLIT="/";const _="[/\\\\]",g="[^/\\\\]",C=/\//g;function s(O,W){switch(O){case 0:return"";case 1:return`${g}*?`;default:return`(?:${_}|${g}+${_}${W?`|${_}${g}+`:""})*?`}}function i(O,W){if(!O)return[];const U=[];let j=!1,R=!1,K="";for(const G of O){switch(G){case W:if(!j&&!R){U.push(K),K="";continue}break;case"{":j=!0;break;case"}":j=!1;break;case"[":R=!0;break;case"]":R=!1;break}K+=G}return K&&U.push(K),U}e.splitGlobAware=i;function n(O){if(!O)return"";let W="";const U=i(O,e.GLOB_SPLIT);if(U.every(j=>j===e.GLOBSTAR))W=".*";else{let j=!1;U.forEach((R,K)=>{if(R===e.GLOBSTAR){if(j)return;W+=s(2,K===U.length-1)}else{let G=!1,Z="",J=!1,X="";for(const H of R){if(H!=="}"&&G){Z+=H;continue}if(J&&(H!=="]"||!X)){let B;H==="-"?B=H:(H==="^"||H==="!")&&!X?B="^":H===e.GLOB_SPLIT?B="":B=(0,f.escapeRegExpCharacters)(H),X+=B;continue}switch(H){case"{":G=!0;continue;case"[":J=!0;continue;case"}":{const V=`(?:${i(Z,",").map(Y=>n(Y)).join("|")})`;W+=V,G=!1,Z="";break}case"]":{W+="["+X+"]",J=!1,X="";break}case"?":W+=g;continue;case"*":W+=s(1);continue;default:W+=(0,f.escapeRegExpCharacters)(H)}}K<U.length-1&&(U[K+1]!==e.GLOBSTAR||K+2<U.length)&&(W+=_)}j=R===e.GLOBSTAR})}return W}const t=/^\*\*\/\*\.[\w\.-]+$/,a=/^\*\*\/([\w\.-]+)\/?$/,u=/^{\*\*\/\*?[\w\.-]+\/?(,\*\*\/\*?[\w\.-]+\/?)*}$/,h=/^{\*\*\/\*?[\w\.-]+(\/(\*\*)?)?(,\*\*\/\*?[\w\.-]+(\/(\*\*)?)?)*}$/,r=/^\*\*((\/[\w\.-]+)+)\/?$/,c=/^([\w\.-]+(\/[\w\.-]+)*)\/?$/,o=new y.LRUCache(1e4),d=function(){return!1},l=function(){return null};function p(O,W){if(!O)return l;let U;typeof O!="string"?U=O.pattern:U=O,U=U.trim();const j=`${U}_${!!W.trimForExclusions}`;let R=o.get(j);if(R)return m(R,O);let K;return t.test(U)?R=b(U.substr(4),U):(K=a.exec(v(U,W)))?R=w(K[1],U):(W.trimForExclusions?h:u).test(U)?R=E(U,W):(K=r.exec(v(U,W)))?R=I(K[1].substr(1),U,!0):(K=c.exec(v(U,W)))?R=I(K[1],U,!1):R=M(U),o.set(j,R),m(R,O)}function m(O,W){if(typeof W=="string")return O;const U=function(j,R){return(0,k.isEqualOrParent)(j,W.base,!S.isLinux)?O((0,f.ltrim)(j.substr(W.base.length),D.sep),R):null};return U.allBasenames=O.allBasenames,U.allPaths=O.allPaths,U.basenames=O.basenames,U.patterns=O.patterns,U}function v(O,W){return W.trimForExclusions&&O.endsWith("/**")?O.substr(0,O.length-2):O}function b(O,W){return function(U,j){return typeof U=="string"&&U.endsWith(O)?W:null}}function w(O,W){const U=`/${O}`,j=`\\${O}`,R=function(G,Z){return typeof G!="string"?null:Z?Z===O?W:null:G===O||G.endsWith(U)||G.endsWith(j)?W:null},K=[O];return R.basenames=K,R.patterns=[W],R.allBasenames=K,R}function E(O,W){const U=F(O.slice(1,-1).split(",").map(Z=>p(Z,W)).filter(Z=>Z!==l),O),j=U.length;if(!j)return l;if(j===1)return U[0];const R=function(Z,J){for(let X=0,H=U.length;X<H;X++)if(U[X](Z,J))return O;return null},K=U.find(Z=>!!Z.allBasenames);K&&(R.allBasenames=K.allBasenames);const G=U.reduce((Z,J)=>J.allPaths?Z.concat(J.allPaths):Z,[]);return G.length&&(R.allPaths=G),R}function I(O,W,U){const j=D.sep===D.posix.sep,R=j?O:O.replace(C,D.sep),K=D.sep+R,G=D.posix.sep+O;let Z;return U?Z=function(J,X){return typeof J=="string"&&(J===R||J.endsWith(K)||!j&&(J===O||J.endsWith(G)))?W:null}:Z=function(J,X){return typeof J=="string"&&(J===R||!j&&J===O)?W:null},Z.allPaths=[(U?"*/":"./")+O],Z}function M(O){try{const W=new RegExp(`^${n(O)}$`);return function(U){return W.lastIndex=0,typeof U=="string"&&W.test(U)?O:null}}catch{return l}}function P(O,W,U){return!O||typeof W!="string"?!1:x(O)(W,void 0,U)}e.match=P;function x(O,W={}){if(!O)return d;if(typeof O=="string"||T(O)){const U=p(O,W);if(U===l)return d;const j=function(R,K){return!!U(R,K)};return U.allBasenames&&(j.allBasenames=U.allBasenames),U.allPaths&&(j.allPaths=U.allPaths),j}return A(O,W)}e.parse=x;function T(O){const W=O;return W?typeof W.base=="string"&&typeof W.pattern=="string":!1}e.isRelativePattern=T;function A(O,W){const U=F(Object.getOwnPropertyNames(O).map(Z=>N(Z,O[Z],W)).filter(Z=>Z!==l)),j=U.length;if(!j)return l;if(!U.some(Z=>!!Z.requiresSiblings)){if(j===1)return U[0];const Z=function(H,B){let V;for(let Y=0,ie=U.length;Y<ie;Y++){const ae=U[Y](H,B);if(typeof ae=="string")return ae;(0,L.isThenable)(ae)&&(V||(V=[]),V.push(ae))}return V?(()=>we(this,void 0,void 0,function*(){for(const Y of V){const ie=yield Y;if(typeof ie=="string")return ie}return null}))():null},J=U.find(H=>!!H.allBasenames);J&&(Z.allBasenames=J.allBasenames);const X=U.reduce((H,B)=>B.allPaths?H.concat(B.allPaths):H,[]);return X.length&&(Z.allPaths=X),Z}const R=function(Z,J,X){let H,B;for(let V=0,Y=U.length;V<Y;V++){const ie=U[V];ie.requiresSiblings&&X&&(J||(J=(0,D.basename)(Z)),H||(H=J.substr(0,J.length-(0,D.extname)(Z).length)));const ae=ie(Z,J,H,X);if(typeof ae=="string")return ae;(0,L.isThenable)(ae)&&(B||(B=[]),B.push(ae))}return B?(()=>we(this,void 0,void 0,function*(){for(const V of B){const Y=yield V;if(typeof Y=="string")return Y}return null}))():null},K=U.find(Z=>!!Z.allBasenames);K&&(R.allBasenames=K.allBasenames);const G=U.reduce((Z,J)=>J.allPaths?Z.concat(J.allPaths):Z,[]);return G.length&&(R.allPaths=G),R}function N(O,W,U){if(W===!1)return l;const j=p(O,U);if(j===l)return l;if(typeof W=="boolean")return j;if(W){const R=W.when;if(typeof R=="string"){const K=(G,Z,J,X)=>{if(!X||!j(G,Z))return null;const H=R.replace("$(basename)",()=>J),B=X(H);return(0,L.isThenable)(B)?B.then(V=>V?O:null):B?O:null};return K.requiresSiblings=!0,K}}return j}function F(O,W){const U=O.filter(Z=>!!Z.basenames);if(U.length<2)return O;const j=U.reduce((Z,J)=>{const X=J.basenames;return X?Z.concat(X):Z},[]);let R;if(W){R=[];for(let Z=0,J=j.length;Z<J;Z++)R.push(W)}else R=U.reduce((Z,J)=>{const X=J.patterns;return X?Z.concat(X):Z},[]);const K=function(Z,J){if(typeof Z!="string")return null;if(!J){let H;for(H=Z.length;H>0;H--){const B=Z.charCodeAt(H-1);if(B===47||B===92)break}J=Z.substr(H)}const X=j.indexOf(J);return X!==-1?R[X]:null};K.basenames=j,K.patterns=R,K.allBasenames=j;const G=O.filter(Z=>!Z.basenames);return G.push(K),G}}),define(ne[571],se([1,0,220,17]),function(Q,e,L,k){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.normalizeDriveLetter=void 0;function y(S,f=k.isWindows){return(0,L.hasDriveLetter)(S,f)?S.charAt(0).toUpperCase()+S.slice(1):S}e.normalizeDriveLetter=y;let D=Object.create(null)}),define(ne[22],se([1,0,92,17]),function(Q,e,L,k){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.uriToFsPath=e.URI=void 0;const y=/^\w[\w\d+.-]*$/,D=/^\//,S=/^\/\//;function f(m,v){if(!m.scheme&&v)throw new Error(`[UriError]: Scheme is missing: {scheme: "", authority: "${m.authority}", path: "${m.path}", query: "${m.query}", fragment: "${m.fragment}"}`);if(m.scheme&&!y.test(m.scheme))throw new Error("[UriError]: Scheme contains illegal characters.");if(m.path){if(m.authority){if(!D.test(m.path))throw new Error('[UriError]: If a URI contains an authority component, then the path component must either be empty or begin with a slash ("/") character')}else if(S.test(m.path))throw new Error('[UriError]: If a URI does not contain an authority component, then the path cannot begin with two slash characters ("//")')}}function _(m,v){return!m&&!v?"file":m}function g(m,v){switch(m){case"https":case"http":case"file":v?v[0]!==s&&(v=s+v):v=s;break}return v}const C="",s="/",i=/^(([^:/?#]+?):)?(\/\/([^/?#]*))?([^?#]*)(\?([^#]*))?(#(.*))?/;class n{static isUri(v){return v instanceof n?!0:v?typeof v.authority=="string"&&typeof v.fragment=="string"&&typeof v.path=="string"&&typeof v.query=="string"&&typeof v.scheme=="string"&&typeof v.fsPath=="string"&&typeof v.with=="function"&&typeof v.toString=="function":!1}constructor(v,b,w,E,I,M=!1){typeof v=="object"?(this.scheme=v.scheme||C,this.authority=v.authority||C,this.path=v.path||C,this.query=v.query||C,this.fragment=v.fragment||C):(this.scheme=_(v,M),this.authority=b||C,this.path=g(this.scheme,w||C),this.query=E||C,this.fragment=I||C,f(this,M))}get fsPath(){return c(this,!1)}with(v){if(!v)return this;let{scheme:b,authority:w,path:E,query:I,fragment:M}=v;return b===void 0?b=this.scheme:b===null&&(b=C),w===void 0?w=this.authority:w===null&&(w=C),E===void 0?E=this.path:E===null&&(E=C),I===void 0?I=this.query:I===null&&(I=C),M===void 0?M=this.fragment:M===null&&(M=C),b===this.scheme&&w===this.authority&&E===this.path&&I===this.query&&M===this.fragment?this:new a(b,w,E,I,M)}static parse(v,b=!1){const w=i.exec(v);return w?new a(w[2]||C,p(w[4]||C),p(w[5]||C),p(w[7]||C),p(w[9]||C),b):new a(C,C,C,C,C)}static file(v){let b=C;if(k.isWindows&&(v=v.replace(/\\/g,s)),v[0]===s&&v[1]===s){const w=v.indexOf(s,2);w===-1?(b=v.substring(2),v=s):(b=v.substring(2,w),v=v.substring(w)||s)}return new a("file",b,v,C,C)}static from(v,b){return new a(v.scheme,v.authority,v.path,v.query,v.fragment,b)}static joinPath(v,...b){if(!v.path)throw new Error("[UriError]: cannot call joinPath on URI without path");let w;return k.isWindows&&v.scheme==="file"?w=n.file(L.win32.join(c(v,!0),...b)).path:w=L.posix.join(v.path,...b),v.with({path:w})}toString(v=!1){return o(this,v)}toJSON(){return this}static revive(v){var b,w;if(v){if(v instanceof n)return v;{const E=new a(v);return E._formatted=(b=v.external)!==null&&b!==void 0?b:null,E._fsPath=v._sep===t&&(w=v.fsPath)!==null&&w!==void 0?w:null,E}}else return v}}e.URI=n;const t=k.isWindows?1:void 0;class a extends n{constructor(){super(...arguments),this._formatted=null,this._fsPath=null}get fsPath(){return this._fsPath||(this._fsPath=c(this,!1)),this._fsPath}toString(v=!1){return v?o(this,!0):(this._formatted||(this._formatted=o(this,!1)),this._formatted)}toJSON(){const v={$mid:1};return this._fsPath&&(v.fsPath=this._fsPath,v._sep=t),this._formatted&&(v.external=this._formatted),this.path&&(v.path=this.path),this.scheme&&(v.scheme=this.scheme),this.authority&&(v.authority=this.authority),this.query&&(v.query=this.query),this.fragment&&(v.fragment=this.fragment),v}}const u={[58]:"%3A",[47]:"%2F",[63]:"%3F",[35]:"%23",[91]:"%5B",[93]:"%5D",[64]:"%40",[33]:"%21",[36]:"%24",[38]:"%26",[39]:"%27",[40]:"%28",[41]:"%29",[42]:"%2A",[43]:"%2B",[44]:"%2C",[59]:"%3B",[61]:"%3D",[32]:"%20"};function h(m,v,b){let w,E=-1;for(let I=0;I<m.length;I++){const M=m.charCodeAt(I);if(M>=97&&M<=122||M>=65&&M<=90||M>=48&&M<=57||M===45||M===46||M===95||M===126||v&&M===47||b&&M===91||b&&M===93||b&&M===58)E!==-1&&(w+=encodeURIComponent(m.substring(E,I)),E=-1),w!==void 0&&(w+=m.charAt(I));else{w===void 0&&(w=m.substr(0,I));const P=u[M];P!==void 0?(E!==-1&&(w+=encodeURIComponent(m.substring(E,I)),E=-1),w+=P):E===-1&&(E=I)}}return E!==-1&&(w+=encodeURIComponent(m.substring(E))),w!==void 0?w:m}function r(m){let v;for(let b=0;b<m.length;b++){const w=m.charCodeAt(b);w===35||w===63?(v===void 0&&(v=m.substr(0,b)),v+=u[w]):v!==void 0&&(v+=m[b])}return v!==void 0?v:m}function c(m,v){let b;return m.authority&&m.path.length>1&&m.scheme==="file"?b=`//${m.authority}${m.path}`:m.path.charCodeAt(0)===47&&(m.path.charCodeAt(1)>=65&&m.path.charCodeAt(1)<=90||m.path.charCodeAt(1)>=97&&m.path.charCodeAt(1)<=122)&&m.path.charCodeAt(2)===58?v?b=m.path.substr(1):b=m.path[1].toLowerCase()+m.path.substr(2):b=m.path,k.isWindows&&(b=b.replace(/\//g,"\\")),b}e.uriToFsPath=c;function o(m,v){const b=v?r:h;let w="",{scheme:E,authority:I,path:M,query:P,fragment:x}=m;if(E&&(w+=E,w+=":"),(I||E==="file")&&(w+=s,w+=s),I){let T=I.indexOf("@");if(T!==-1){const A=I.substr(0,T);I=I.substr(T+1),T=A.lastIndexOf(":"),T===-1?w+=b(A,!1,!1):(w+=b(A.substr(0,T),!1,!1),w+=":",w+=b(A.substr(T+1),!1,!0)),w+="@"}I=I.toLowerCase(),T=I.lastIndexOf(":"),T===-1?w+=b(I,!1,!0):(w+=b(I.substr(0,T),!1,!0),w+=I.substr(T))}if(M){if(M.length>=3&&M.charCodeAt(0)===47&&M.charCodeAt(2)===58){const T=M.charCodeAt(1);T>=65&&T<=90&&(M=`/${String.fromCharCode(T+32)}:${M.substr(3)}`)}else if(M.length>=2&&M.charCodeAt(1)===58){const T=M.charCodeAt(0);T>=65&&T<=90&&(M=`${String.fromCharCode(T+32)}:${M.substr(2)}`)}w+=b(M,!0,!1)}return P&&(w+="?",w+=b(P,!1,!1)),x&&(w+="#",w+=v?x:h(x,!1,!1)),w}function d(m){try{return decodeURIComponent(m)}catch{return m.length>3?m.substr(0,3)+d(m.substr(3)):m}}const l=/(%[0-9A-Za-z][0-9A-Za-z])+/g;function p(m){return m.match(l)?m.replace(l,v=>d(v)):m}}),define(ne[221],se([1,0,140,22]),function(Q,e,L,k){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.revive=e.parse=e.stringify=void 0;function y(_){return JSON.stringify(_,S)}e.stringify=y;function D(_){let g=JSON.parse(_);return g=f(g),g}e.parse=D;function S(_,g){return g instanceof RegExp?{$mid:2,source:g.source,flags:g.flags}:g}function f(_,g=0){if(!_||g>200)return _;if(typeof _=="object"){switch(_.$mid){case 1:return k.URI.revive(_);case 2:return new RegExp(_.source,_.flags);case 16:return new Date(_.source)}if(_ instanceof L.VSBuffer||_ instanceof Uint8Array)return _;if(Array.isArray(_))for(let C=0;C<_.length;++C)_[C]=f(_[C],g+1);else for(const C in _)Object.hasOwnProperty.call(_,C)&&(_[C]=f(_[C],g+1))}return _}e.revive=f}),define(ne[54],se([1,0,9,17,22]),function(Q,e,L,k,y){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.COI=e.FileAccess=e.RemoteAuthorities=e.connectionTokenQueryName=e.Schemas=void 0;var D;(function(g){g.inMemory="inmemory",g.vscode="vscode",g.internal="private",g.walkThrough="walkThrough",g.walkThroughSnippet="walkThroughSnippet",g.http="http",g.https="https",g.file="file",g.mailto="mailto",g.untitled="untitled",g.data="data",g.command="command",g.vscodeRemote="vscode-remote",g.vscodeRemoteResource="vscode-remote-resource",g.vscodeManagedRemoteResource="vscode-managed-remote-resource",g.vscodeUserData="vscode-userdata",g.vscodeCustomEditor="vscode-custom-editor",g.vscodeNotebookCell="vscode-notebook-cell",g.vscodeNotebookCellMetadata="vscode-notebook-cell-metadata",g.vscodeNotebookCellOutput="vscode-notebook-cell-output",g.vscodeInteractiveInput="vscode-interactive-input",g.vscodeSettings="vscode-settings",g.vscodeWorkspaceTrust="vscode-workspace-trust",g.vscodeTerminal="vscode-terminal",g.vscodeChatSesssion="vscode-chat-editor",g.webviewPanel="webview-panel",g.vscodeWebview="vscode-webview",g.extension="extension",g.vscodeFileResource="vscode-file",g.tmp="tmp",g.vsls="vsls",g.vscodeSourceControl="vscode-scm"})(D||(e.Schemas=D={})),e.connectionTokenQueryName="tkn";class S{constructor(){this._hosts=Object.create(null),this._ports=Object.create(null),this._connectionTokens=Object.create(null),this._preferredWebSchema="http",this._delegate=null,this._remoteResourcesPath=`/${D.vscodeRemoteResource}`}setPreferredWebSchema(C){this._preferredWebSchema=C}rewrite(C){if(this._delegate)try{return this._delegate(C)}catch(u){return L.onUnexpectedError(u),C}const s=C.authority;let i=this._hosts[s];i&&i.indexOf(":")!==-1&&i.indexOf("[")===-1&&(i=`[${i}]`);const n=this._ports[s],t=this._connectionTokens[s];let a=`path=${encodeURIComponent(C.path)}`;return typeof t=="string"&&(a+=`&${e.connectionTokenQueryName}=${encodeURIComponent(t)}`),y.URI.from({scheme:k.isWeb?this._preferredWebSchema:D.vscodeRemoteResource,authority:`${i}:${n}`,path:this._remoteResourcesPath,query:a})}}e.RemoteAuthorities=new S;class f{uriToBrowserUri(C){return C.scheme===D.vscodeRemote?e.RemoteAuthorities.rewrite(C):C.scheme===D.file&&(k.isNative||k.isWebWorker&&k.globals.origin===`${D.vscodeFileResource}://${f.FALLBACK_AUTHORITY}`)?C.with({scheme:D.vscodeFileResource,authority:C.authority||f.FALLBACK_AUTHORITY,query:null,fragment:null}):C}}f.FALLBACK_AUTHORITY="vscode-app",e.FileAccess=new f;var _;(function(g){const C=new Map([["1",{"Cross-Origin-Opener-Policy":"same-origin"}],["2",{"Cross-Origin-Embedder-Policy":"require-corp"}],["3",{"Cross-Origin-Opener-Policy":"same-origin","Cross-Origin-Embedder-Policy":"require-corp"}]]);g.CoopAndCoep=Object.freeze(C.get("3"));const s="vscode-coi";function i(t){let a;typeof t=="string"?a=new URL(t).searchParams:t instanceof URL?a=t.searchParams:y.URI.isUri(t)&&(a=new URL(t.toString(!0)).searchParams);const u=a?.get(s);if(u)return C.get(u)}g.getHeadersFromQuery=i;function n(t,a,u){if(!globalThis.crossOriginIsolated)return;const h=a&&u?"3":u?"2":"1";t instanceof URLSearchParams?t.set(s,h):t[s]=h}g.addSearchParam=n})(_||(e.COI=_={}))}),define(ne[7],se([1,0,52,217,44,60,9,6,304,2,54,17]),function(Q,e,L,k,y,D,S,f,_,g,C,s){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.h=e.DragAndDropObserver=e.ModifierKeyEmitter=e.basicMarkupHtmlTags=e.hookDomPurifyHrefAndSrcSanitizer=e.asCssValueWithDefault=e.asCSSPropertyValue=e.asCSSUrl=e.animate=e.windowOpenNoOpener=e.computeScreenAwareSize=e.hide=e.show=e.setVisibility=e.$=e.Namespace=e.reset=e.prepend=e.append=e.trackFocus=e.restoreParentsScrollTop=e.saveParentsScrollTop=e.EventHelper=e.isEventLike=e.EventType=e.isHTMLElement=e.removeCSSRulesContainingSelector=e.createCSSRule=e.createStyleSheet=e.getActiveElement=e.getShadowRoot=e.isInShadowDOM=e.isShadowRoot=e.hasParentWithClass=e.findParentWithClass=e.isAncestor=e.getTotalHeight=e.getContentHeight=e.getContentWidth=e.getTotalWidth=e.getDomNodeZoomLevel=e.getDomNodePagePosition=e.size=e.getTopLeftOffset=e.Dimension=e.getClientArea=e.getComputedStyle=e.scheduleAtNextAnimationFrame=e.runAtThisOrScheduleAtNextAnimationFrame=e.addDisposableGenericMouseUpListener=e.addDisposableGenericMouseDownListener=e.addStandardDisposableGenericMouseUpListener=e.addStandardDisposableGenericMouseDownListener=e.addStandardDisposableListener=e.addDisposableListener=e.isInDOM=e.clearNode=void 0;function i(Ce){for(;Ce.firstChild;)Ce.firstChild.remove()}e.clearNode=i;function n(Ce){var be;return(be=Ce?.isConnected)!==null&&be!==void 0?be:!1}e.isInDOM=n;class t{constructor(be,Ie,Ne,Re){this._node=be,this._type=Ie,this._handler=Ne,this._options=Re||!1,this._node.addEventListener(this._type,this._handler,this._options)}dispose(){this._handler&&(this._node.removeEventListener(this._type,this._handler,this._options),this._node=null,this._handler=null)}}function a(Ce,be,Ie,Ne){return new t(Ce,be,Ie,Ne)}e.addDisposableListener=a;function u(Ce){return function(be){return Ce(new D.StandardMouseEvent(be))}}function h(Ce){return function(be){return Ce(new y.StandardKeyboardEvent(be))}}const r=function(be,Ie,Ne,Re){let Ve=Ne;return Ie==="click"||Ie==="mousedown"?Ve=u(Ne):(Ie==="keydown"||Ie==="keypress"||Ie==="keyup")&&(Ve=h(Ne)),a(be,Ie,Ve,Re)};e.addStandardDisposableListener=r;const c=function(be,Ie,Ne){const Re=u(Ie);return d(be,Re,Ne)};e.addStandardDisposableGenericMouseDownListener=c;const o=function(be,Ie,Ne){const Re=u(Ie);return l(be,Re,Ne)};e.addStandardDisposableGenericMouseUpListener=o;function d(Ce,be,Ie){return a(Ce,s.isIOS&&k.BrowserFeatures.pointerEvents?e.EventType.POINTER_DOWN:e.EventType.MOUSE_DOWN,be,Ie)}e.addDisposableGenericMouseDownListener=d;function l(Ce,be,Ie){return a(Ce,s.isIOS&&k.BrowserFeatures.pointerEvents?e.EventType.POINTER_UP:e.EventType.MOUSE_UP,be,Ie)}e.addDisposableGenericMouseUpListener=l;class p{constructor(be,Ie=0){this._runner=be,this.priority=Ie,this._canceled=!1}dispose(){this._canceled=!0}execute(){if(!this._canceled)try{this._runner()}catch(be){(0,S.onUnexpectedError)(be)}}static sort(be,Ie){return Ie.priority-be.priority}}(function(){let Ce=[],be=null,Ie=!1,Ne=!1;const Re=()=>{for(Ie=!1,be=Ce,Ce=[],Ne=!0;be.length>0;)be.sort(p.sort),be.shift().execute();Ne=!1};e.scheduleAtNextAnimationFrame=(Ve,ze=0)=>{const We=new p(Ve,ze);return Ce.push(We),Ie||(Ie=!0,requestAnimationFrame(Re)),We},e.runAtThisOrScheduleAtNextAnimationFrame=(Ve,ze)=>{if(Ne){const We=new p(Ve,ze);return be.push(We),We}else return(0,e.scheduleAtNextAnimationFrame)(Ve,ze)}})();function m(Ce){return document.defaultView.getComputedStyle(Ce,null)}e.getComputedStyle=m;function v(Ce){if(Ce!==document.body)return new w(Ce.clientWidth,Ce.clientHeight);if(s.isIOS&&window.visualViewport)return new w(window.visualViewport.width,window.visualViewport.height);if(window.innerWidth&&window.innerHeight)return new w(window.innerWidth,window.innerHeight);if(document.body&&document.body.clientWidth&&document.body.clientHeight)return new w(document.body.clientWidth,document.body.clientHeight);if(document.documentElement&&document.documentElement.clientWidth&&document.documentElement.clientHeight)return new w(document.documentElement.clientWidth,document.documentElement.clientHeight);throw new Error("Unable to figure out browser width and height")}e.getClientArea=v;class b{static convertToPixels(be,Ie){return parseFloat(Ie)||0}static getDimension(be,Ie,Ne){const Re=m(be),Ve=Re?Re.getPropertyValue(Ie):"0";return b.convertToPixels(be,Ve)}static getBorderLeftWidth(be){return b.getDimension(be,"border-left-width","borderLeftWidth")}static getBorderRightWidth(be){return b.getDimension(be,"border-right-width","borderRightWidth")}static getBorderTopWidth(be){return b.getDimension(be,"border-top-width","borderTopWidth")}static getBorderBottomWidth(be){return b.getDimension(be,"border-bottom-width","borderBottomWidth")}static getPaddingLeft(be){return b.getDimension(be,"padding-left","paddingLeft")}static getPaddingRight(be){return b.getDimension(be,"padding-right","paddingRight")}static getPaddingTop(be){return b.getDimension(be,"padding-top","paddingTop")}static getPaddingBottom(be){return b.getDimension(be,"padding-bottom","paddingBottom")}static getMarginLeft(be){return b.getDimension(be,"margin-left","marginLeft")}static getMarginTop(be){return b.getDimension(be,"margin-top","marginTop")}static getMarginRight(be){return b.getDimension(be,"margin-right","marginRight")}static getMarginBottom(be){return b.getDimension(be,"margin-bottom","marginBottom")}}class w{constructor(be,Ie){this.width=be,this.height=Ie}with(be=this.width,Ie=this.height){return be!==this.width||Ie!==this.height?new w(be,Ie):this}static is(be){return typeof be=="object"&&typeof be.height=="number"&&typeof be.width=="number"}static lift(be){return be instanceof w?be:new w(be.width,be.height)}static equals(be,Ie){return be===Ie?!0:!be||!Ie?!1:be.width===Ie.width&&be.height===Ie.height}}e.Dimension=w,w.None=new w(0,0);function E(Ce){let be=Ce.offsetParent,Ie=Ce.offsetTop,Ne=Ce.offsetLeft;for(;(Ce=Ce.parentNode)!==null&&Ce!==document.body&&Ce!==document.documentElement;){Ie-=Ce.scrollTop;const Re=U(Ce)?null:m(Ce);Re&&(Ne-=Re.direction!=="rtl"?Ce.scrollLeft:-Ce.scrollLeft),Ce===be&&(Ne+=b.getBorderLeftWidth(Ce),Ie+=b.getBorderTopWidth(Ce),Ie+=Ce.offsetTop,Ne+=Ce.offsetLeft,be=Ce.offsetParent)}return{left:Ne,top:Ie}}e.getTopLeftOffset=E;function I(Ce,be,Ie){typeof be=="number"&&(Ce.style.width=`${be}px`),typeof Ie=="number"&&(Ce.style.height=`${Ie}px`)}e.size=I;function M(Ce){const be=Ce.getBoundingClientRect();return{left:be.left+window.scrollX,top:be.top+window.scrollY,width:be.width,height:be.height}}e.getDomNodePagePosition=M;function P(Ce){let be=Ce,Ie=1;do{const Ne=m(be).zoom;Ne!=null&&Ne!=="1"&&(Ie*=Ne),be=be.parentElement}while(be!==null&&be!==document.documentElement);return Ie}e.getDomNodeZoomLevel=P;function x(Ce){const be=b.getMarginLeft(Ce)+b.getMarginRight(Ce);return Ce.offsetWidth+be}e.getTotalWidth=x;function T(Ce){const be=b.getBorderLeftWidth(Ce)+b.getBorderRightWidth(Ce),Ie=b.getPaddingLeft(Ce)+b.getPaddingRight(Ce);return Ce.offsetWidth-be-Ie}e.getContentWidth=T;function A(Ce){const be=b.getBorderTopWidth(Ce)+b.getBorderBottomWidth(Ce),Ie=b.getPaddingTop(Ce)+b.getPaddingBottom(Ce);return Ce.offsetHeight-be-Ie}e.getContentHeight=A;function N(Ce){const be=b.getMarginTop(Ce)+b.getMarginBottom(Ce);return Ce.offsetHeight+be}e.getTotalHeight=N;function F(Ce,be){for(;Ce;){if(Ce===be)return!0;Ce=Ce.parentNode}return!1}e.isAncestor=F;function O(Ce,be,Ie){for(;Ce&&Ce.nodeType===Ce.ELEMENT_NODE;){if(Ce.classList.contains(be))return Ce;if(Ie){if(typeof Ie=="string"){if(Ce.classList.contains(Ie))return null}else if(Ce===Ie)return null}Ce=Ce.parentNode}return null}e.findParentWithClass=O;function W(Ce,be,Ie){return!!O(Ce,be,Ie)}e.hasParentWithClass=W;function U(Ce){return Ce&&!!Ce.host&&!!Ce.mode}e.isShadowRoot=U;function j(Ce){return!!R(Ce)}e.isInShadowDOM=j;function R(Ce){for(;Ce.parentNode;){if(Ce===document.body)return null;Ce=Ce.parentNode}return U(Ce)?Ce:null}e.getShadowRoot=R;function K(){let Ce=document.activeElement;for(;Ce?.shadowRoot;)Ce=Ce.shadowRoot.activeElement;return Ce}e.getActiveElement=K;function G(Ce=document.getElementsByTagName("head")[0],be){const Ie=document.createElement("style");return Ie.type="text/css",Ie.media="screen",be?.(Ie),Ce.appendChild(Ie),Ie}e.createStyleSheet=G;let Z=null;function J(){return Z||(Z=G()),Z}function X(Ce){var be,Ie;return!((be=Ce?.sheet)===null||be===void 0)&&be.rules?Ce.sheet.rules:!((Ie=Ce?.sheet)===null||Ie===void 0)&&Ie.cssRules?Ce.sheet.cssRules:[]}function H(Ce,be,Ie=J()){!Ie||!be||Ie.sheet.insertRule(Ce+"{"+be+"}",0)}e.createCSSRule=H;function B(Ce,be=J()){if(!be)return;const Ie=X(be),Ne=[];for(let Re=0;Re<Ie.length;Re++)Ie[Re].selectorText.indexOf(Ce)!==-1&&Ne.push(Re);for(let Re=Ne.length-1;Re>=0;Re--)be.sheet.deleteRule(Ne[Re])}e.removeCSSRulesContainingSelector=B;function V(Ce){return typeof HTMLElement=="object"?Ce instanceof HTMLElement:Ce&&typeof Ce=="object"&&Ce.nodeType===1&&typeof Ce.nodeName=="string"}e.isHTMLElement=V,e.EventType={CLICK:"click",AUXCLICK:"auxclick",DBLCLICK:"dblclick",MOUSE_UP:"mouseup",MOUSE_DOWN:"mousedown",MOUSE_OVER:"mouseover",MOUSE_MOVE:"mousemove",MOUSE_OUT:"mouseout",MOUSE_ENTER:"mouseenter",MOUSE_LEAVE:"mouseleave",MOUSE_WHEEL:"wheel",POINTER_UP:"pointerup",POINTER_DOWN:"pointerdown",POINTER_MOVE:"pointermove",POINTER_LEAVE:"pointerleave",CONTEXT_MENU:"contextmenu",WHEEL:"wheel",KEY_DOWN:"keydown",KEY_PRESS:"keypress",KEY_UP:"keyup",LOAD:"load",BEFORE_UNLOAD:"beforeunload",UNLOAD:"unload",PAGE_SHOW:"pageshow",PAGE_HIDE:"pagehide",ABORT:"abort",ERROR:"error",RESIZE:"resize",SCROLL:"scroll",FULLSCREEN_CHANGE:"fullscreenchange",WK_FULLSCREEN_CHANGE:"webkitfullscreenchange",SELECT:"select",CHANGE:"change",SUBMIT:"submit",RESET:"reset",FOCUS:"focus",FOCUS_IN:"focusin",FOCUS_OUT:"focusout",BLUR:"blur",INPUT:"input",STORAGE:"storage",DRAG_START:"dragstart",DRAG:"drag",DRAG_ENTER:"dragenter",DRAG_LEAVE:"dragleave",DRAG_OVER:"dragover",DROP:"drop",DRAG_END:"dragend",ANIMATION_START:L.isWebKit?"webkitAnimationStart":"animationstart",ANIMATION_END:L.isWebKit?"webkitAnimationEnd":"animationend",ANIMATION_ITERATION:L.isWebKit?"webkitAnimationIteration":"animationiteration"};function Y(Ce){const be=Ce;return!!(be&&typeof be.preventDefault=="function"&&typeof be.stopPropagation=="function")}e.isEventLike=Y,e.EventHelper={stop:(Ce,be)=>(Ce.preventDefault(),be&&Ce.stopPropagation(),Ce)};function ie(Ce){const be=[];for(let Ie=0;Ce&&Ce.nodeType===Ce.ELEMENT_NODE;Ie++)be[Ie]=Ce.scrollTop,Ce=Ce.parentNode;return be}e.saveParentsScrollTop=ie;function ae(Ce,be){for(let Ie=0;Ce&&Ce.nodeType===Ce.ELEMENT_NODE;Ie++)Ce.scrollTop!==be[Ie]&&(Ce.scrollTop=be[Ie]),Ce=Ce.parentNode}e.restoreParentsScrollTop=ae;class ce extends g.Disposable{static hasFocusWithin(be){const Ie=R(be),Ne=Ie?Ie.activeElement:document.activeElement;return F(Ne,be)}constructor(be){super(),this._onDidFocus=this._register(new f.Emitter),this.onDidFocus=this._onDidFocus.event,this._onDidBlur=this._register(new f.Emitter),this.onDidBlur=this._onDidBlur.event;let Ie=ce.hasFocusWithin(be),Ne=!1;const Re=()=>{Ne=!1,Ie||(Ie=!0,this._onDidFocus.fire())},Ve=()=>{Ie&&(Ne=!0,window.setTimeout(()=>{Ne&&(Ne=!1,Ie=!1,this._onDidBlur.fire())},0))};this._refreshStateHandler=()=>{ce.hasFocusWithin(be)!==Ie&&(Ie?Ve():Re())},this._register(a(be,e.EventType.FOCUS,Re,!0)),this._register(a(be,e.EventType.BLUR,Ve,!0)),this._register(a(be,e.EventType.FOCUS_IN,()=>this._refreshStateHandler())),this._register(a(be,e.EventType.FOCUS_OUT,()=>this._refreshStateHandler()))}}function de(Ce){return new ce(Ce)}e.trackFocus=de;function he(Ce,...be){if(Ce.append(...be),be.length===1&&typeof be[0]!="string")return be[0]}e.append=he;function ue(Ce,be){return Ce.insertBefore(be,Ce.firstChild),be}e.prepend=ue;function te(Ce,...be){Ce.innerText="",he(Ce,...be)}e.reset=te;const q=/([\w\-]+)?(#([\w\-]+))?((\.([\w\-]+))*)/;var z;(function(Ce){Ce.HTML="http://www.w3.org/1999/xhtml",Ce.SVG="http://www.w3.org/2000/svg"})(z||(e.Namespace=z={}));function ee(Ce,be,Ie,...Ne){const Re=q.exec(be);if(!Re)throw new Error("Bad use of emmet");const Ve=Re[1]||"div";let ze;return Ce!==z.HTML?ze=document.createElementNS(Ce,Ve):ze=document.createElement(Ve),Re[3]&&(ze.id=Re[3]),Re[4]&&(ze.className=Re[4].replace(/\./g," ").trim()),Ie&&Object.entries(Ie).forEach(([We,qe])=>{typeof qe>"u"||(/^on\w+$/.test(We)?ze[We]=qe:We==="selected"?qe&&ze.setAttribute(We,"true"):ze.setAttribute(We,qe))}),ze.append(...Ne),ze}function $(Ce,be,...Ie){return ee(z.HTML,Ce,be,...Ie)}e.$=$,$.SVG=function(Ce,be,...Ie){return ee(z.SVG,Ce,be,...Ie)};function re(Ce,...be){Ce?oe(...be):ge(...be)}e.setVisibility=re;function oe(...Ce){for(const be of Ce)be.style.display="",be.removeAttribute("aria-hidden")}e.show=oe;function ge(...Ce){for(const be of Ce)be.style.display="none",be.setAttribute("aria-hidden","true")}e.hide=ge;function ve(Ce){const be=window.devicePixelRatio*Ce;return Math.max(1,Math.floor(be))/window.devicePixelRatio}e.computeScreenAwareSize=ve;function Se(Ce){window.open(Ce,"_blank","noopener")}e.windowOpenNoOpener=Se;function Le(Ce){const be=()=>{Ce(),Ie=(0,e.scheduleAtNextAnimationFrame)(be)};let Ie=(0,e.scheduleAtNextAnimationFrame)(be);return(0,g.toDisposable)(()=>Ie.dispose())}e.animate=Le,C.RemoteAuthorities.setPreferredWebSchema(/^https:/.test(window.location.href)?"https":"http");function De(Ce){return Ce?`url('${C.FileAccess.uriToBrowserUri(Ce).toString(!0).replace(/'/g,"%27")}')`:"url('')"}e.asCSSUrl=De;function ye(Ce){return`'${Ce.replace(/'/g,"%27")}'`}e.asCSSPropertyValue=ye;function Ee(Ce,be){if(Ce!==void 0){const Ie=Ce.match(/^\s*var\((.+)\)$/);if(Ie){const Ne=Ie[1].split(",",2);return Ne.length===2&&(be=Ee(Ne[1].trim(),be)),`var(${Ne[0]}, ${be})`}return Ce}return be}e.asCssValueWithDefault=Ee;function Me(Ce,be=!1){const Ie=document.createElement("a");return _.addHook("afterSanitizeAttributes",Ne=>{for(const Re of["href","src"])if(Ne.hasAttribute(Re)){const Ve=Ne.getAttribute(Re);if(Re==="href"&&Ve.startsWith("#"))continue;if(Ie.href=Ve,!Ce.includes(Ie.protocol.replace(/:$/,""))){if(be&&Re==="src"&&Ie.href.startsWith("data:"))continue;Ne.removeAttribute(Re)}}}),(0,g.toDisposable)(()=>{_.removeHook("afterSanitizeAttributes")})}e.hookDomPurifyHrefAndSrcSanitizer=Me,e.basicMarkupHtmlTags=Object.freeze(["a","abbr","b","bdo","blockquote","br","caption","cite","code","col","colgroup","dd","del","details","dfn","div","dl","dt","em","figcaption","figure","h1","h2","h3","h4","h5","h6","hr","i","img","ins","kbd","label","li","mark","ol","p","pre","q","rp","rt","ruby","samp","small","small","source","span","strike","strong","sub","summary","sup","table","tbody","td","tfoot","th","thead","time","tr","tt","u","ul","var","video","wbr"]);const Pe=Object.freeze({ALLOWED_TAGS:["a","button","blockquote","code","div","h1","h2","h3","h4","h5","h6","hr","input","label","li","p","pre","select","small","span","strong","textarea","ul","ol"],ALLOWED_ATTR:["href","data-href","data-command","target","title","name","src","alt","class","id","role","tabindex","style","data-code","width","height","align","x-dispatch","required","checked","placeholder","type","start"],RETURN_DOM:!1,RETURN_DOM_FRAGMENT:!1,RETURN_TRUSTED_TYPE:!0});class Fe extends f.Emitter{constructor(){super(),this._subscriptions=new g.DisposableStore,this._keyStatus={altKey:!1,shiftKey:!1,ctrlKey:!1,metaKey:!1},this._subscriptions.add(a(window,"keydown",be=>{if(be.defaultPrevented)return;const Ie=new y.StandardKeyboardEvent(be);if(!(Ie.keyCode===6&&be.repeat)){if(be.altKey&&!this._keyStatus.altKey)this._keyStatus.lastKeyPressed="alt";else if(be.ctrlKey&&!this._keyStatus.ctrlKey)this._keyStatus.lastKeyPressed="ctrl";else if(be.metaKey&&!this._keyStatus.metaKey)this._keyStatus.lastKeyPressed="meta";else if(be.shiftKey&&!this._keyStatus.shiftKey)this._keyStatus.lastKeyPressed="shift";else if(Ie.keyCode!==6)this._keyStatus.lastKeyPressed=void 0;else return;this._keyStatus.altKey=be.altKey,this._keyStatus.ctrlKey=be.ctrlKey,this._keyStatus.metaKey=be.metaKey,this._keyStatus.shiftKey=be.shiftKey,this._keyStatus.lastKeyPressed&&(this._keyStatus.event=be,this.fire(this._keyStatus))}},!0)),this._subscriptions.add(a(window,"keyup",be=>{be.defaultPrevented||(!be.altKey&&this._keyStatus.altKey?this._keyStatus.lastKeyReleased="alt":!be.ctrlKey&&this._keyStatus.ctrlKey?this._keyStatus.lastKeyReleased="ctrl":!be.metaKey&&this._keyStatus.metaKey?this._keyStatus.lastKeyReleased="meta":!be.shiftKey&&this._keyStatus.shiftKey?this._keyStatus.lastKeyReleased="shift":this._keyStatus.lastKeyReleased=void 0,this._keyStatus.lastKeyPressed!==this._keyStatus.lastKeyReleased&&(this._keyStatus.lastKeyPressed=void 0),this._keyStatus.altKey=be.altKey,this._keyStatus.ctrlKey=be.ctrlKey,this._keyStatus.metaKey=be.metaKey,this._keyStatus.shiftKey=be.shiftKey,this._keyStatus.lastKeyReleased&&(this._keyStatus.event=be,this.fire(this._keyStatus)))},!0)),this._subscriptions.add(a(document.body,"mousedown",()=>{this._keyStatus.lastKeyPressed=void 0},!0)),this._subscriptions.add(a(document.body,"mouseup",()=>{this._keyStatus.lastKeyPressed=void 0},!0)),this._subscriptions.add(a(document.body,"mousemove",be=>{be.buttons&&(this._keyStatus.lastKeyPressed=void 0)},!0)),this._subscriptions.add(a(window,"blur",()=>{this.resetKeyStatus()}))}get keyStatus(){return this._keyStatus}resetKeyStatus(){this.doResetKeyStatus(),this.fire(this._keyStatus)}doResetKeyStatus(){this._keyStatus={altKey:!1,shiftKey:!1,ctrlKey:!1,metaKey:!1}}static getInstance(){return Fe.instance||(Fe.instance=new Fe),Fe.instance}dispose(){super.dispose(),this._subscriptions.dispose()}}e.ModifierKeyEmitter=Fe;class _e extends g.Disposable{constructor(be,Ie){super(),this.element=be,this.callbacks=Ie,this.counter=0,this.dragStartTime=0,this.registerListeners()}registerListeners(){this._register(a(this.element,e.EventType.DRAG_ENTER,be=>{this.counter++,this.dragStartTime=be.timeStamp,this.callbacks.onDragEnter(be)})),this._register(a(this.element,e.EventType.DRAG_OVER,be=>{var Ie,Ne;be.preventDefault(),(Ne=(Ie=this.callbacks).onDragOver)===null||Ne===void 0||Ne.call(Ie,be,be.timeStamp-this.dragStartTime)})),this._register(a(this.element,e.EventType.DRAG_LEAVE,be=>{this.counter--,this.counter===0&&(this.dragStartTime=0,this.callbacks.onDragLeave(be))})),this._register(a(this.element,e.EventType.DRAG_END,be=>{this.counter=0,this.dragStartTime=0,this.callbacks.onDragEnd(be)})),this._register(a(this.element,e.EventType.DROP,be=>{this.counter=0,this.dragStartTime=0,this.callbacks.onDrop(be)}))}}e.DragAndDropObserver=_e;const me=/(?<tag>[\w\-]+)?(?:#(?<id>[\w\-]+))?(?<class>(?:\.(?:[\w\-]+))*)(?:@(?<name>(?:[\w\_])+))?/;function le(Ce,...be){let Ie,Ne;Array.isArray(be[0])?(Ie={},Ne=be[0]):(Ie=be[0]||{},Ne=be[1]);const Re=me.exec(Ce);if(!Re||!Re.groups)throw new Error("Bad use of h");const Ve=Re.groups.tag||"div",ze=document.createElement(Ve);Re.groups.id&&(ze.id=Re.groups.id);const We=[];if(Re.groups.class)for(const Oe of Re.groups.class.split("."))Oe!==""&&We.push(Oe);if(Ie.className!==void 0)for(const Oe of Ie.className.split("."))Oe!==""&&We.push(Oe);We.length>0&&(ze.className=We.join(" "));const qe={};if(Re.groups.name&&(qe[Re.groups.name]=ze),Ne)for(const Oe of Ne)Oe instanceof HTMLElement?ze.appendChild(Oe):typeof Oe=="string"?ze.append(Oe):"root"in Oe&&(Object.assign(qe,Oe),ze.appendChild(Oe.root));for(const[Oe,Ge]of Object.entries(Ie))if(Oe!=="className")if(Oe==="style")for(const[Qe,st]of Object.entries(Ge))ze.style.setProperty(pe(Qe),typeof st=="number"?st+"px":""+st);else Oe==="tabIndex"?ze.tabIndex=Ge:ze.setAttribute(pe(Oe),Ge.toString());return qe.root=ze,qe}e.h=le;function pe(Ce){return Ce.replace(/([a-z])([A-Z])/g,"$1-$2").toLowerCase()}}),define(ne[305],se([1,0,7]),function(Q,e,L){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.createElement=e.renderFormattedText=e.renderText=void 0;function k(s,i={}){const n=D(i);return n.textContent=s,n}e.renderText=k;function y(s,i={}){const n=D(i);return f(n,_(s,!!i.renderCodeSegments),i.actionHandler,i.renderCodeSegments),n}e.renderFormattedText=y;function D(s){const i=s.inline?"span":"div",n=document.createElement(i);return s.className&&(n.className=s.className),n}e.createElement=D;class S{constructor(i){this.source=i,this.index=0}eos(){return this.index>=this.source.length}next(){const i=this.peek();return this.advance(),i}peek(){return this.source[this.index]}advance(){this.index++}}function f(s,i,n,t){let a;if(i.type===2)a=document.createTextNode(i.content||"");else if(i.type===3)a=document.createElement("b");else if(i.type===4)a=document.createElement("i");else if(i.type===7&&t)a=document.createElement("code");else if(i.type===5&&n){const u=document.createElement("a");n.disposables.add(L.addStandardDisposableListener(u,"click",h=>{n.callback(String(i.index),h)})),a=u}else i.type===8?a=document.createElement("br"):i.type===1&&(a=s);a&&s!==a&&s.appendChild(a),a&&Array.isArray(i.children)&&i.children.forEach(u=>{f(a,u,n,t)})}function _(s,i){const n={type:1,children:[]};let t=0,a=n;const u=[],h=new S(s);for(;!h.eos();){let r=h.next();const c=r==="\\"&&C(h.peek(),i)!==0;if(c&&(r=h.next()),!c&&g(r,i)&&r===h.peek()){h.advance(),a.type===2&&(a=u.pop());const o=C(r,i);if(a.type===o||a.type===5&&o===6)a=u.pop();else{const d={type:o,children:[]};o===5&&(d.index=t,t++),a.children.push(d),u.push(a),a=d}}else if(r===`
`)a.type===2&&(a=u.pop()),a.children.push({type:8});else if(a.type!==2){const o={type:2,content:r};a.children.push(o),u.push(a),a=o}else a.content+=r}return a.type===2&&(a=u.pop()),u.length,n}function g(s,i){return C(s,i)!==0}function C(s,i){switch(s){case"*":return 3;case"_":return 4;case"[":return 5;case"]":return 6;case"`":return i?7:0;default:return 0}}}),define(ne[152],se([1,0,7,2]),function(Q,e,L,k){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.GlobalPointerMoveMonitor=void 0;class y{constructor(){this._hooks=new k.DisposableStore,this._pointerMoveCallback=null,this._onStopCallback=null}dispose(){this.stopMonitoring(!1),this._hooks.dispose()}stopMonitoring(S,f){if(!this.isMonitoring())return;this._hooks.clear(),this._pointerMoveCallback=null;const _=this._onStopCallback;this._onStopCallback=null,S&&_&&_(f)}isMonitoring(){return!!this._pointerMoveCallback}startMonitoring(S,f,_,g,C){this.isMonitoring()&&this.stopMonitoring(!1),this._pointerMoveCallback=g,this._onStopCallback=C;let s=S;try{S.setPointerCapture(f),this._hooks.add((0,k.toDisposable)(()=>{try{S.releasePointerCapture(f)}catch{}}))}catch{s=window}this._hooks.add(L.addDisposableListener(s,L.EventType.POINTER_MOVE,i=>{if(i.buttons!==_){this.stopMonitoring(!0);return}i.preventDefault(),this._pointerMoveCallback(i)})),this._hooks.add(L.addDisposableListener(s,L.EventType.POINTER_UP,i=>this.stopMonitoring(!0)))}}e.GlobalPointerMoveMonitor=y}),define(ne[61],se([1,0,7,14,106,2,64]),function(Q,e,L,k,y,D,S){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.Gesture=e.EventType=void 0;var f;(function(g){g.Tap="-monaco-gesturetap",g.Change="-monaco-gesturechange",g.Start="-monaco-gesturestart",g.End="-monaco-gesturesend",g.Contextmenu="-monaco-gesturecontextmenu"})(f||(e.EventType=f={}));class _ extends D.Disposable{constructor(){super(),this.dispatched=!1,this.targets=new S.LinkedList,this.ignoreTargets=new S.LinkedList,this.activeTouches={},this.handle=null,this._lastSetTapCountTime=0,this._register(L.addDisposableListener(document,"touchstart",C=>this.onTouchStart(C),{passive:!1})),this._register(L.addDisposableListener(document,"touchend",C=>this.onTouchEnd(C))),this._register(L.addDisposableListener(document,"touchmove",C=>this.onTouchMove(C),{passive:!1}))}static addTarget(C){if(!_.isTouchDevice())return D.Disposable.None;_.INSTANCE||(_.INSTANCE=new _);const s=_.INSTANCE.targets.push(C);return(0,D.toDisposable)(s)}static ignoreTarget(C){if(!_.isTouchDevice())return D.Disposable.None;_.INSTANCE||(_.INSTANCE=new _);const s=_.INSTANCE.ignoreTargets.push(C);return(0,D.toDisposable)(s)}static isTouchDevice(){return"ontouchstart"in window||navigator.maxTouchPoints>0}dispose(){this.handle&&(this.handle.dispose(),this.handle=null),super.dispose()}onTouchStart(C){const s=Date.now();this.handle&&(this.handle.dispose(),this.handle=null);for(let i=0,n=C.targetTouches.length;i<n;i++){const t=C.targetTouches.item(i);this.activeTouches[t.identifier]={id:t.identifier,initialTarget:t.target,initialTimeStamp:s,initialPageX:t.pageX,initialPageY:t.pageY,rollingTimestamps:[s],rollingPageX:[t.pageX],rollingPageY:[t.pageY]};const a=this.newGestureEvent(f.Start,t.target);a.pageX=t.pageX,a.pageY=t.pageY,this.dispatchEvent(a)}this.dispatched&&(C.preventDefault(),C.stopPropagation(),this.dispatched=!1)}onTouchEnd(C){const s=Date.now(),i=Object.keys(this.activeTouches).length;for(let n=0,t=C.changedTouches.length;n<t;n++){const a=C.changedTouches.item(n);if(!this.activeTouches.hasOwnProperty(String(a.identifier))){console.warn("move of an UNKNOWN touch",a);continue}const u=this.activeTouches[a.identifier],h=Date.now()-u.initialTimeStamp;if(h<_.HOLD_DELAY&&Math.abs(u.initialPageX-k.tail(u.rollingPageX))<30&&Math.abs(u.initialPageY-k.tail(u.rollingPageY))<30){const r=this.newGestureEvent(f.Tap,u.initialTarget);r.pageX=k.tail(u.rollingPageX),r.pageY=k.tail(u.rollingPageY),this.dispatchEvent(r)}else if(h>=_.HOLD_DELAY&&Math.abs(u.initialPageX-k.tail(u.rollingPageX))<30&&Math.abs(u.initialPageY-k.tail(u.rollingPageY))<30){const r=this.newGestureEvent(f.Contextmenu,u.initialTarget);r.pageX=k.tail(u.rollingPageX),r.pageY=k.tail(u.rollingPageY),this.dispatchEvent(r)}else if(i===1){const r=k.tail(u.rollingPageX),c=k.tail(u.rollingPageY),o=k.tail(u.rollingTimestamps)-u.rollingTimestamps[0],d=r-u.rollingPageX[0],l=c-u.rollingPageY[0],p=[...this.targets].filter(m=>u.initialTarget instanceof Node&&m.contains(u.initialTarget));this.inertia(p,s,Math.abs(d)/o,d>0?1:-1,r,Math.abs(l)/o,l>0?1:-1,c)}this.dispatchEvent(this.newGestureEvent(f.End,u.initialTarget)),delete this.activeTouches[a.identifier]}this.dispatched&&(C.preventDefault(),C.stopPropagation(),this.dispatched=!1)}newGestureEvent(C,s){const i=document.createEvent("CustomEvent");return i.initEvent(C,!1,!0),i.initialTarget=s,i.tapCount=0,i}dispatchEvent(C){if(C.type===f.Tap){const s=new Date().getTime();let i=0;s-this._lastSetTapCountTime>_.CLEAR_TAP_COUNT_TIME?i=1:i=2,this._lastSetTapCountTime=s,C.tapCount=i}else(C.type===f.Change||C.type===f.Contextmenu)&&(this._lastSetTapCountTime=0);if(C.initialTarget instanceof Node){for(const s of this.ignoreTargets)if(s.contains(C.initialTarget))return;for(const s of this.targets)s.contains(C.initialTarget)&&(s.dispatchEvent(C),this.dispatched=!0)}}inertia(C,s,i,n,t,a,u,h){this.handle=L.scheduleAtNextAnimationFrame(()=>{const r=Date.now(),c=r-s;let o=0,d=0,l=!0;i+=_.SCROLL_FRICTION*c,a+=_.SCROLL_FRICTION*c,i>0&&(l=!1,o=n*i*c),a>0&&(l=!1,d=u*a*c);const p=this.newGestureEvent(f.Change);p.translationX=o,p.translationY=d,C.forEach(m=>m.dispatchEvent(p)),l||this.inertia(C,r,i,n,t+o,a,u,h+d)})}onTouchMove(C){const s=Date.now();for(let i=0,n=C.changedTouches.length;i<n;i++){const t=C.changedTouches.item(i);if(!this.activeTouches.hasOwnProperty(String(t.identifier))){console.warn("end of an UNKNOWN touch",t);continue}const a=this.activeTouches[t.identifier],u=this.newGestureEvent(f.Change,a.initialTarget);u.translationX=t.pageX-k.tail(a.rollingPageX),u.translationY=t.pageY-k.tail(a.rollingPageY),u.pageX=t.pageX,u.pageY=t.pageY,this.dispatchEvent(u),a.rollingPageX.length>3&&(a.rollingPageX.shift(),a.rollingPageY.shift(),a.rollingTimestamps.shift()),a.rollingPageX.push(t.pageX),a.rollingPageY.push(t.pageY),a.rollingTimestamps.push(s)}this.dispatched&&(C.preventDefault(),C.stopPropagation(),this.dispatched=!1)}}e.Gesture=_,_.SCROLL_FRICTION=-.005,_.HOLD_DELAY=700,_.CLEAR_TAP_COUNT_TIME=400,ke([y.memoize],_,"isTouchDevice",null)}),define(ne[49],se([1,0,7,393]),function(Q,e,L){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.status=e.alert=e.setARIAContainer=void 0;const k=2e4;let y,D,S,f,_;function g(n){y=document.createElement("div"),y.className="monaco-aria-container";const t=()=>{const u=document.createElement("div");return u.className="monaco-alert",u.setAttribute("role","alert"),u.setAttribute("aria-atomic","true"),y.appendChild(u),u};D=t(),S=t();const a=()=>{const u=document.createElement("div");return u.className="monaco-status",u.setAttribute("aria-live","polite"),u.setAttribute("aria-atomic","true"),y.appendChild(u),u};f=a(),_=a(),n.appendChild(y)}e.setARIAContainer=g;function C(n){y&&(D.textContent!==n?(L.clearNode(S),i(D,n)):(L.clearNode(D),i(S,n)))}e.alert=C;function s(n){y&&(f.textContent!==n?(L.clearNode(_),i(f,n)):(L.clearNode(f),i(_,n)))}e.status=s;function i(n,t){L.clearNode(n),t.length>k&&(t=t.substr(0,k)),n.textContent=t,n.style.visibility="hidden",n.style.visibility="visible"}}),define(ne[306],se([1,0,217,7,2,17,166,397]),function(Q,e,L,k,y,D,S){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ContextView=e.layout=e.LayoutAnchorMode=e.isAnchor=void 0;function f(i){const n=i;return!!n&&typeof n.x=="number"&&typeof n.y=="number"}e.isAnchor=f;var _;(function(i){i[i.AVOID=0]="AVOID",i[i.ALIGN=1]="ALIGN"})(_||(e.LayoutAnchorMode=_={}));function g(i,n,t){const a=t.mode===_.ALIGN?t.offset:t.offset+t.size,u=t.mode===_.ALIGN?t.offset+t.size:t.offset;return t.position===0?n<=i-a?a:n<=u?u-n:Math.max(i-n,0):n<=u?u-n:n<=i-a?a:0}e.layout=g;class C extends y.Disposable{constructor(n,t){super(),this.container=null,this.delegate=null,this.toDisposeOnClean=y.Disposable.None,this.toDisposeOnSetContainer=y.Disposable.None,this.shadowRoot=null,this.shadowRootHostElement=null,this.view=k.$(".context-view"),this.useFixedPosition=!1,this.useShadowDOM=!1,k.hide(this.view),this.setContainer(n,t),this._register((0,y.toDisposable)(()=>this.setContainer(null,1)))}setContainer(n,t){var a;if(this.container&&(this.toDisposeOnSetContainer.dispose(),this.shadowRoot?(this.shadowRoot.removeChild(this.view),this.shadowRoot=null,(a=this.shadowRootHostElement)===null||a===void 0||a.remove(),this.shadowRootHostElement=null):this.container.removeChild(this.view),this.container=null),n){if(this.container=n,this.useFixedPosition=t!==1,this.useShadowDOM=t===3,this.useShadowDOM){this.shadowRootHostElement=k.$(".shadow-root-host"),this.container.appendChild(this.shadowRootHostElement),this.shadowRoot=this.shadowRootHostElement.attachShadow({mode:"open"});const h=document.createElement("style");h.textContent=s,this.shadowRoot.appendChild(h),this.shadowRoot.appendChild(this.view),this.shadowRoot.appendChild(k.$("slot"))}else this.container.appendChild(this.view);const u=new y.DisposableStore;C.BUBBLE_UP_EVENTS.forEach(h=>{u.add(k.addStandardDisposableListener(this.container,h,r=>{this.onDOMEvent(r,!1)}))}),C.BUBBLE_DOWN_EVENTS.forEach(h=>{u.add(k.addStandardDisposableListener(this.container,h,r=>{this.onDOMEvent(r,!0)},!0))}),this.toDisposeOnSetContainer=u}}show(n){var t,a;this.isVisible()&&this.hide(),k.clearNode(this.view),this.view.className="context-view",this.view.style.top="0px",this.view.style.left="0px",this.view.style.zIndex="2575",this.view.style.position=this.useFixedPosition?"fixed":"absolute",k.show(this.view),this.toDisposeOnClean=n.render(this.view)||y.Disposable.None,this.delegate=n,this.doLayout(),(a=(t=this.delegate).focus)===null||a===void 0||a.call(t)}getViewElement(){return this.view}layout(){if(this.isVisible()){if(this.delegate.canRelayout===!1&&!(D.isIOS&&L.BrowserFeatures.pointerEvents)){this.hide();return}this.delegate.layout&&this.delegate.layout(),this.doLayout()}}doLayout(){if(!this.isVisible())return;const n=this.delegate.getAnchor();let t;if(k.isHTMLElement(n)){const p=k.getDomNodePagePosition(n),m=k.getDomNodeZoomLevel(n);t={top:p.top*m,left:p.left*m,width:p.width*m,height:p.height*m}}else f(n)?t={top:n.y,left:n.x,width:n.width||1,height:n.height||2}:t={top:n.posy,left:n.posx,width:2,height:2};const a=k.getTotalWidth(this.view),u=k.getTotalHeight(this.view),h=this.delegate.anchorPosition||0,r=this.delegate.anchorAlignment||0,c=this.delegate.anchorAxisAlignment||0;let o,d;if(c===0){const p={offset:t.top-window.pageYOffset,size:t.height,position:h===0?0:1},m={offset:t.left,size:t.width,position:r===0?0:1,mode:_.ALIGN};o=g(window.innerHeight,u,p)+window.pageYOffset,S.Range.intersects({start:o,end:o+u},{start:p.offset,end:p.offset+p.size})&&(m.mode=_.AVOID),d=g(window.innerWidth,a,m)}else{const p={offset:t.left,size:t.width,position:r===0?0:1},m={offset:t.top,size:t.height,position:h===0?0:1,mode:_.ALIGN};d=g(window.innerWidth,a,p),S.Range.intersects({start:d,end:d+a},{start:p.offset,end:p.offset+p.size})&&(m.mode=_.AVOID),o=g(window.innerHeight,u,m)+window.pageYOffset}this.view.classList.remove("top","bottom","left","right"),this.view.classList.add(h===0?"bottom":"top"),this.view.classList.add(r===0?"left":"right"),this.view.classList.toggle("fixed",this.useFixedPosition);const l=k.getDomNodePagePosition(this.container);this.view.style.top=`${o-(this.useFixedPosition?k.getDomNodePagePosition(this.view).top:l.top)}px`,this.view.style.left=`${d-(this.useFixedPosition?k.getDomNodePagePosition(this.view).left:l.left)}px`,this.view.style.width="initial"}hide(n){const t=this.delegate;this.delegate=null,t?.onHide&&t.onHide(n),this.toDisposeOnClean.dispose(),k.hide(this.view)}isVisible(){return!!this.delegate}onDOMEvent(n,t){this.delegate&&(this.delegate.onDOMEvent?this.delegate.onDOMEvent(n,document.activeElement):t&&!k.isAncestor(n.target,this.container)&&this.hide())}dispose(){this.hide(),super.dispose()}}e.ContextView=C,C.BUBBLE_UP_EVENTS=["click","keydown","focus","blur"],C.BUBBLE_DOWN_EVENTS=["click"];const s=`
	:host {
		all: initial; /* 1st rule so subsequent properties are reset. */
	}

	.codicon[class*='codicon-'] {
		font: normal normal normal 16px/1 codicon;
		display: inline-block;
		text-decoration: none;
		text-rendering: auto;
		text-align: center;
		-webkit-font-smoothing: antialiased;
		-moz-osx-font-smoothing: grayscale;
		user-select: none;
		-webkit-user-select: none;
		-ms-user-select: none;
	}

	:host {
		font-family: -apple-system, BlinkMacSystemFont, "Segoe WPC", "Segoe UI", "HelveticaNeue-Light", system-ui, "Ubuntu", "Droid Sans", sans-serif;
	}

	:host-context(.mac) { font-family: -apple-system, BlinkMacSystemFont, sans-serif; }
	:host-context(.mac:lang(zh-Hans)) { font-family: -apple-system, BlinkMacSystemFont, "PingFang SC", "Hiragino Sans GB", sans-serif; }
	:host-context(.mac:lang(zh-Hant)) { font-family: -apple-system, BlinkMacSystemFont, "PingFang TC", sans-serif; }
	:host-context(.mac:lang(ja)) { font-family: -apple-system, BlinkMacSystemFont, "Hiragino Kaku Gothic Pro", sans-serif; }
	:host-context(.mac:lang(ko)) { font-family: -apple-system, BlinkMacSystemFont, "Nanum Gothic", "Apple SD Gothic Neo", "AppleGothic", sans-serif; }

	:host-context(.windows) { font-family: "Segoe WPC", "Segoe UI", sans-serif; }
	:host-context(.windows:lang(zh-Hans)) { font-family: "Segoe WPC", "Segoe UI", "Microsoft YaHei", sans-serif; }
	:host-context(.windows:lang(zh-Hant)) { font-family: "Segoe WPC", "Segoe UI", "Microsoft Jhenghei", sans-serif; }
	:host-context(.windows:lang(ja)) { font-family: "Segoe WPC", "Segoe UI", "Yu Gothic UI", "Meiryo UI", sans-serif; }
	:host-context(.windows:lang(ko)) { font-family: "Segoe WPC", "Segoe UI", "Malgun Gothic", "Dotom", sans-serif; }

	:host-context(.linux) { font-family: system-ui, "Ubuntu", "Droid Sans", sans-serif; }
	:host-context(.linux:lang(zh-Hans)) { font-family: system-ui, "Ubuntu", "Droid Sans", "Source Han Sans SC", "Source Han Sans CN", "Source Han Sans", sans-serif; }
	:host-context(.linux:lang(zh-Hant)) { font-family: system-ui, "Ubuntu", "Droid Sans", "Source Han Sans TC", "Source Han Sans TW", "Source Han Sans", sans-serif; }
	:host-context(.linux:lang(ja)) { font-family: system-ui, "Ubuntu", "Droid Sans", "Source Han Sans J", "Source Han Sans JP", "Source Han Sans", sans-serif; }
	:host-context(.linux:lang(ko)) { font-family: system-ui, "Ubuntu", "Droid Sans", "Source Han Sans K", "Source Han Sans JR", "Source Han Sans", "UnDotum", "FBaekmuk Gulim", sans-serif; }
`}),define(ne[307],se([1,0,7,11,398]),function(Q,e,L,k){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.CountBadge=void 0;class y{constructor(S,f,_){this.options=f,this.styles=_,this.count=0,this.element=(0,L.append)(S,(0,L.$)(".monaco-count-badge")),this.countFormat=this.options.countFormat||"{0}",this.titleFormat=this.options.titleFormat||"",this.setCount(this.options.count||0)}setCount(S){this.count=S,this.render()}setTitleFormat(S){this.titleFormat=S,this.render()}render(){var S,f;this.element.textContent=(0,k.format)(this.countFormat,this.count),this.element.title=(0,k.format)(this.titleFormat,this.count),this.element.style.backgroundColor=(S=this.styles.badgeBackground)!==null&&S!==void 0?S:"",this.element.style.color=(f=this.styles.badgeForeground)!==null&&f!==void 0?f:"",this.styles.badgeBorder&&(this.element.style.border=`1px solid ${this.styles.badgeBorder}`)}}e.CountBadge=y}),define(ne[572],se([1,0,7,44,61,39,6,266]),function(Q,e,L,k,y,D,S){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.DropdownMenu=void 0;class f extends D.ActionRunner{constructor(C,s){super(),this._onDidChangeVisibility=this._register(new S.Emitter),this.onDidChangeVisibility=this._onDidChangeVisibility.event,this._element=(0,L.append)(C,(0,L.$)(".monaco-dropdown")),this._label=(0,L.append)(this._element,(0,L.$)(".dropdown-label"));let i=s.labelRenderer;i||(i=t=>(t.textContent=s.label||"",null));for(const t of[L.EventType.CLICK,L.EventType.MOUSE_DOWN,y.EventType.Tap])this._register((0,L.addDisposableListener)(this.element,t,a=>L.EventHelper.stop(a,!0)));for(const t of[L.EventType.MOUSE_DOWN,y.EventType.Tap])this._register((0,L.addDisposableListener)(this._label,t,a=>{a instanceof MouseEvent&&(a.detail>1||a.button!==0)||(this.visible?this.hide():this.show())}));this._register((0,L.addDisposableListener)(this._label,L.EventType.KEY_UP,t=>{const a=new k.StandardKeyboardEvent(t);(a.equals(3)||a.equals(10))&&(L.EventHelper.stop(t,!0),this.visible?this.hide():this.show())}));const n=i(this._label);n&&this._register(n),this._register(y.Gesture.addTarget(this._label))}get element(){return this._element}show(){this.visible||(this.visible=!0,this._onDidChangeVisibility.fire(!0))}hide(){this.visible&&(this.visible=!1,this._onDidChangeVisibility.fire(!1))}dispose(){super.dispose(),this.hide(),this.boxContainer&&(this.boxContainer.remove(),this.boxContainer=void 0),this.contents&&(this.contents.remove(),this.contents=void 0),this._label&&(this._label.remove(),this._label=void 0)}}class _ extends f{constructor(C,s){super(C,s),this._options=s,this._actions=[],this.actions=s.actions||[]}set menuOptions(C){this._menuOptions=C}get menuOptions(){return this._menuOptions}get actions(){return this._options.actionProvider?this._options.actionProvider.getActions():this._actions}set actions(C){this._actions=C}show(){super.show(),this.element.classList.add("active"),this._options.contextMenuProvider.showContextMenu({getAnchor:()=>this.element,getActions:()=>this.actions,getActionsContext:()=>this.menuOptions?this.menuOptions.context:null,getActionViewItem:(C,s)=>this.menuOptions&&this.menuOptions.actionViewItemProvider?this.menuOptions.actionViewItemProvider(C,s):void 0,getKeyBinding:C=>this.menuOptions&&this.menuOptions.getKeyBinding?this.menuOptions.getKeyBinding(C):void 0,getMenuClassName:()=>this._options.menuClassName||"",onHide:()=>this.onHide(),actionRunner:this.menuOptions?this.menuOptions.actionRunner:void 0,anchorAlignment:this.menuOptions?this.menuOptions.anchorAlignment:0,domForShadowRoot:this._options.menuAsChild?this.element:void 0,skipTelemetry:this._options.skipTelemetry})}hide(){super.hide()}onHide(){this.hide(),this.element.classList.remove("active")}}e.DropdownMenu=_}),define(ne[129],se([1,0,7,26]),function(Q,e,L,k){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.renderIcon=e.renderLabelWithIcons=void 0;const y=new RegExp(`(\\\\)?\\$\\((${k.ThemeIcon.iconNameExpression}(?:${k.ThemeIcon.iconModifierExpression})?)\\)`,"g");function D(f){const _=new Array;let g,C=0,s=0;for(;(g=y.exec(f))!==null;){s=g.index||0,C<s&&_.push(f.substring(C,s)),C=(g.index||0)+g[0].length;const[,i,n]=g;_.push(i?`$(${n})`:S({id:n}))}return C<f.length&&_.push(f.substring(C)),_}e.renderLabelWithIcons=D;function S(f){const _=L.$("span");return _.classList.add(...k.ThemeIcon.asClassNameArray(f)),_}e.renderIcon=S}),define(ne[308],se([1,0,7,129,47]),function(Q,e,L,k,y){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.HighlightedLabel=void 0;class D{constructor(f,_){var g;this.text="",this.title="",this.highlights=[],this.didEverRender=!1,this.supportIcons=(g=_?.supportIcons)!==null&&g!==void 0?g:!1,this.domNode=L.append(f,L.$("span.monaco-highlighted-label"))}get element(){return this.domNode}set(f,_=[],g="",C){f||(f=""),C&&(f=D.escapeNewLines(f,_)),!(this.didEverRender&&this.text===f&&this.title===g&&y.equals(this.highlights,_))&&(this.text=f,this.title=g,this.highlights=_,this.render())}render(){const f=[];let _=0;for(const g of this.highlights){if(g.end===g.start)continue;if(_<g.start){const i=this.text.substring(_,g.start);this.supportIcons?f.push(...(0,k.renderLabelWithIcons)(i)):f.push(i),_=g.start}const C=this.text.substring(_,g.end),s=L.$("span.highlight",void 0,...this.supportIcons?(0,k.renderLabelWithIcons)(C):[C]);g.extraClasses&&s.classList.add(...g.extraClasses),f.push(s),_=g.end}if(_<this.text.length){const g=this.text.substring(_);this.supportIcons?f.push(...(0,k.renderLabelWithIcons)(g)):f.push(g)}L.reset(this.domNode,...f),this.title?this.domNode.title=this.title:this.domNode.removeAttribute("title"),this.didEverRender=!0}static escapeNewLines(f,_){let g=0,C=0;return f.replace(/\r\n|\r|\n/g,(s,i)=>{C=s===`\r
`?-1:0,i+=g;for(const n of _)n.end<=i||(n.start>=i&&(n.start+=C),n.end>=i&&(n.end+=C));return g+=C,"\u23CE"})}}e.HighlightedLabel=D}),define(ne[222],se([1,0,7,216,47,558,402]),function(Q,e,L,k,y,D){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.KeybindingLabel=e.unthemedKeybindingLabelOptions=void 0;const S=L.$;e.unthemedKeybindingLabelOptions={keybindingLabelBackground:void 0,keybindingLabelForeground:void 0,keybindingLabelBorder:void 0,keybindingLabelBottomBorder:void 0,keybindingLabelShadow:void 0};class f{constructor(g,C,s){this.os=C,this.keyElements=new Set,this.options=s||Object.create(null);const i=this.options.keybindingLabelForeground;this.domNode=L.append(g,S(".monaco-keybinding")),i&&(this.domNode.style.color=i),this.didEverRender=!1,g.appendChild(this.domNode)}get element(){return this.domNode}set(g,C){this.didEverRender&&this.keybinding===g&&f.areSame(this.matches,C)||(this.keybinding=g,this.matches=C,this.render())}render(){var g;if(this.clear(),this.keybinding){const C=this.keybinding.getChords();C[0]&&this.renderChord(this.domNode,C[0],this.matches?this.matches.firstPart:null);for(let i=1;i<C.length;i++)L.append(this.domNode,S("span.monaco-keybinding-key-chord-separator",void 0," ")),this.renderChord(this.domNode,C[i],this.matches?this.matches.chordPart:null);const s=(g=this.options.disableTitle)!==null&&g!==void 0&&g?void 0:this.keybinding.getAriaLabel()||void 0;s!==void 0?this.domNode.title=s:this.domNode.removeAttribute("title")}else this.options&&this.options.renderUnboundKeybindings&&this.renderUnbound(this.domNode);this.didEverRender=!0}clear(){L.clearNode(this.domNode),this.keyElements.clear()}renderChord(g,C,s){const i=k.UILabelProvider.modifierLabels[this.os];C.ctrlKey&&this.renderKey(g,i.ctrlKey,!!s?.ctrlKey,i.separator),C.shiftKey&&this.renderKey(g,i.shiftKey,!!s?.shiftKey,i.separator),C.altKey&&this.renderKey(g,i.altKey,!!s?.altKey,i.separator),C.metaKey&&this.renderKey(g,i.metaKey,!!s?.metaKey,i.separator);const n=C.keyLabel;n&&this.renderKey(g,n,!!s?.keyCode,"")}renderKey(g,C,s,i){L.append(g,this.createKeyElement(C,s?".highlight":"")),i&&L.append(g,S("span.monaco-keybinding-key-separator",void 0,i))}renderUnbound(g){L.append(g,this.createKeyElement((0,D.localize)(0,null)))}createKeyElement(g,C=""){const s=S("span.monaco-keybinding-key"+C,void 0,g);return this.keyElements.add(s),this.options.keybindingLabelBackground&&(s.style.backgroundColor=this.options.keybindingLabelBackground),this.options.keybindingLabelBorder&&(s.style.borderColor=this.options.keybindingLabelBorder),this.options.keybindingLabelBottomBorder&&(s.style.borderBottomColor=this.options.keybindingLabelBottomBorder),this.options.keybindingLabelShadow&&(s.style.boxShadow=`inset 0 -1px 0 ${this.options.keybindingLabelShadow}`),s}static areSame(g,C){return g===C||!g&&!C?!0:!!g&&!!C&&(0,y.equals)(g.firstPart,C.firstPart)&&(0,y.equals)(g.chordPart,C.chordPart)}}e.KeybindingLabel=f}),define(ne[573],se([1,0,7]),function(Q,e,L){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.RowCache=void 0;function k(D){var S;try{(S=D.parentElement)===null||S===void 0||S.removeChild(D)}catch{}}class y{constructor(S){this.renderers=S,this.cache=new Map,this.transactionNodesPendingRemoval=new Set,this.inTransaction=!1}alloc(S){let f=this.getTemplateCache(S).pop(),_=!1;if(f)_=this.transactionNodesPendingRemoval.has(f.domNode),_&&this.transactionNodesPendingRemoval.delete(f.domNode);else{const g=(0,L.$)(".monaco-list-row"),s=this.getRenderer(S).renderTemplate(g);f={domNode:g,templateId:S,templateData:s}}return{row:f,isReusingConnectedDomNode:_}}release(S){S&&this.releaseRow(S)}transact(S){if(this.inTransaction)throw new Error("Already in transaction");this.inTransaction=!0;try{S()}finally{for(const f of this.transactionNodesPendingRemoval)this.doRemoveNode(f);this.transactionNodesPendingRemoval.clear(),this.inTransaction=!1}}releaseRow(S){const{domNode:f,templateId:_}=S;f&&(this.inTransaction?this.transactionNodesPendingRemoval.add(f):this.doRemoveNode(f)),this.getTemplateCache(_).push(S)}doRemoveNode(S){S.classList.remove("scrolling"),k(S)}getTemplateCache(S){let f=this.cache.get(S);return f||(f=[],this.cache.set(S,f)),f}dispose(){this.cache.forEach((S,f)=>{for(const _ of S)this.getRenderer(f).disposeTemplate(_.templateData),_.templateData=null}),this.cache.clear(),this.transactionNodesPendingRemoval.clear()}getRenderer(S){const f=this.renderers.get(S);if(!f)throw new Error(`No renderer found for ${S}`);return f}}e.RowCache=y}),define(ne[574],se([1,0,7,13,2,404]),function(Q,e,L,k,y){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ProgressBar=void 0;const D="done",S="active",f="infinite",_="infinite-long-running",g="discrete";class C extends y.Disposable{constructor(i,n){super(),this.workedVal=0,this.showDelayedScheduler=this._register(new k.RunOnceScheduler(()=>(0,L.show)(this.element),0)),this.longRunningScheduler=this._register(new k.RunOnceScheduler(()=>this.infiniteLongRunning(),C.LONG_RUNNING_INFINITE_THRESHOLD)),this.create(i,n)}create(i,n){this.element=document.createElement("div"),this.element.classList.add("monaco-progress-container"),this.element.setAttribute("role","progressbar"),this.element.setAttribute("aria-valuemin","0"),i.appendChild(this.element),this.bit=document.createElement("div"),this.bit.classList.add("progress-bit"),this.bit.style.backgroundColor=n?.progressBarBackground||"#0E70C0",this.element.appendChild(this.bit)}off(){this.bit.style.width="inherit",this.bit.style.opacity="1",this.element.classList.remove(S,f,_,g),this.workedVal=0,this.totalWork=void 0,this.longRunningScheduler.cancel()}stop(){return this.doDone(!1)}doDone(i){return this.element.classList.add(D),this.element.classList.contains(f)?(this.bit.style.opacity="0",i?setTimeout(()=>this.off(),200):this.off()):(this.bit.style.width="inherit",i?setTimeout(()=>this.off(),200):this.off()),this}infinite(){return this.bit.style.width="2%",this.bit.style.opacity="1",this.element.classList.remove(g,D,_),this.element.classList.add(S,f),this.longRunningScheduler.schedule(),this}infiniteLongRunning(){this.element.classList.add(_)}getContainer(){return this.element}}e.ProgressBar=C,C.LONG_RUNNING_INFINITE_THRESHOLD=1e4}),define(ne[130],se([1,0,7,81,61,13,106,6,2,17,405]),function(Q,e,L,k,y,D,S,f,_,g){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.Sash=e.OrthogonalEdge=void 0;const C=!1;var s;(function(d){d.North="north",d.South="south",d.East="east",d.West="west"})(s||(e.OrthogonalEdge=s={}));let i=4;const n=new f.Emitter;let t=300;const a=new f.Emitter;class u{constructor(){this.disposables=new _.DisposableStore}get onPointerMove(){return this.disposables.add(new k.DomEmitter(window,"mousemove")).event}get onPointerUp(){return this.disposables.add(new k.DomEmitter(window,"mouseup")).event}dispose(){this.disposables.dispose()}}ke([S.memoize],u.prototype,"onPointerMove",null),ke([S.memoize],u.prototype,"onPointerUp",null);class h{get onPointerMove(){return this.disposables.add(new k.DomEmitter(this.el,y.EventType.Change)).event}get onPointerUp(){return this.disposables.add(new k.DomEmitter(this.el,y.EventType.End)).event}constructor(l){this.el=l,this.disposables=new _.DisposableStore}dispose(){this.disposables.dispose()}}ke([S.memoize],h.prototype,"onPointerMove",null),ke([S.memoize],h.prototype,"onPointerUp",null);class r{get onPointerMove(){return this.factory.onPointerMove}get onPointerUp(){return this.factory.onPointerUp}constructor(l){this.factory=l}dispose(){}}ke([S.memoize],r.prototype,"onPointerMove",null),ke([S.memoize],r.prototype,"onPointerUp",null);const c="pointer-events-disabled";class o extends _.Disposable{get state(){return this._state}get orthogonalStartSash(){return this._orthogonalStartSash}get orthogonalEndSash(){return this._orthogonalEndSash}set state(l){this._state!==l&&(this.el.classList.toggle("disabled",l===0),this.el.classList.toggle("minimum",l===1),this.el.classList.toggle("maximum",l===2),this._state=l,this.onDidEnablementChange.fire(l))}set orthogonalStartSash(l){if(this._orthogonalStartSash!==l){if(this.orthogonalStartDragHandleDisposables.clear(),this.orthogonalStartSashDisposables.clear(),l){const p=m=>{this.orthogonalStartDragHandleDisposables.clear(),m!==0&&(this._orthogonalStartDragHandle=(0,L.append)(this.el,(0,L.$)(".orthogonal-drag-handle.start")),this.orthogonalStartDragHandleDisposables.add((0,_.toDisposable)(()=>this._orthogonalStartDragHandle.remove())),this.orthogonalStartDragHandleDisposables.add(new k.DomEmitter(this._orthogonalStartDragHandle,"mouseenter")).event(()=>o.onMouseEnter(l),void 0,this.orthogonalStartDragHandleDisposables),this.orthogonalStartDragHandleDisposables.add(new k.DomEmitter(this._orthogonalStartDragHandle,"mouseleave")).event(()=>o.onMouseLeave(l),void 0,this.orthogonalStartDragHandleDisposables))};this.orthogonalStartSashDisposables.add(l.onDidEnablementChange.event(p,this)),p(l.state)}this._orthogonalStartSash=l}}set orthogonalEndSash(l){if(this._orthogonalEndSash!==l){if(this.orthogonalEndDragHandleDisposables.clear(),this.orthogonalEndSashDisposables.clear(),l){const p=m=>{this.orthogonalEndDragHandleDisposables.clear(),m!==0&&(this._orthogonalEndDragHandle=(0,L.append)(this.el,(0,L.$)(".orthogonal-drag-handle.end")),this.orthogonalEndDragHandleDisposables.add((0,_.toDisposable)(()=>this._orthogonalEndDragHandle.remove())),this.orthogonalEndDragHandleDisposables.add(new k.DomEmitter(this._orthogonalEndDragHandle,"mouseenter")).event(()=>o.onMouseEnter(l),void 0,this.orthogonalEndDragHandleDisposables),this.orthogonalEndDragHandleDisposables.add(new k.DomEmitter(this._orthogonalEndDragHandle,"mouseleave")).event(()=>o.onMouseLeave(l),void 0,this.orthogonalEndDragHandleDisposables))};this.orthogonalEndSashDisposables.add(l.onDidEnablementChange.event(p,this)),p(l.state)}this._orthogonalEndSash=l}}constructor(l,p,m){super(),this.hoverDelay=t,this.hoverDelayer=this._register(new D.Delayer(this.hoverDelay)),this._state=3,this.onDidEnablementChange=this._register(new f.Emitter),this._onDidStart=this._register(new f.Emitter),this._onDidChange=this._register(new f.Emitter),this._onDidReset=this._register(new f.Emitter),this._onDidEnd=this._register(new f.Emitter),this.orthogonalStartSashDisposables=this._register(new _.DisposableStore),this.orthogonalStartDragHandleDisposables=this._register(new _.DisposableStore),this.orthogonalEndSashDisposables=this._register(new _.DisposableStore),this.orthogonalEndDragHandleDisposables=this._register(new _.DisposableStore),this.onDidStart=this._onDidStart.event,this.onDidChange=this._onDidChange.event,this.onDidReset=this._onDidReset.event,this.onDidEnd=this._onDidEnd.event,this.linkedSash=void 0,this.el=(0,L.append)(l,(0,L.$)(".monaco-sash")),m.orthogonalEdge&&this.el.classList.add(`orthogonal-edge-${m.orthogonalEdge}`),g.isMacintosh&&this.el.classList.add("mac");const v=this._register(new k.DomEmitter(this.el,"mousedown")).event;this._register(v(x=>this.onPointerStart(x,new u),this));const b=this._register(new k.DomEmitter(this.el,"dblclick")).event;this._register(b(this.onPointerDoublePress,this));const w=this._register(new k.DomEmitter(this.el,"mouseenter")).event;this._register(w(()=>o.onMouseEnter(this)));const E=this._register(new k.DomEmitter(this.el,"mouseleave")).event;this._register(E(()=>o.onMouseLeave(this))),this._register(y.Gesture.addTarget(this.el));const I=this._register(new k.DomEmitter(this.el,y.EventType.Start)).event;this._register(I(x=>this.onPointerStart(x,new h(this.el)),this));const M=this._register(new k.DomEmitter(this.el,y.EventType.Tap)).event;let P;this._register(M(x=>{if(P){clearTimeout(P),P=void 0,this.onPointerDoublePress(x);return}clearTimeout(P),P=setTimeout(()=>P=void 0,250)},this)),typeof m.size=="number"?(this.size=m.size,m.orientation===0?this.el.style.width=`${this.size}px`:this.el.style.height=`${this.size}px`):(this.size=i,this._register(n.event(x=>{this.size=x,this.layout()}))),this._register(a.event(x=>this.hoverDelay=x)),this.layoutProvider=p,this.orthogonalStartSash=m.orthogonalStartSash,this.orthogonalEndSash=m.orthogonalEndSash,this.orientation=m.orientation||0,this.orientation===1?(this.el.classList.add("horizontal"),this.el.classList.remove("vertical")):(this.el.classList.remove("horizontal"),this.el.classList.add("vertical")),this.el.classList.toggle("debug",C),this.layout()}onPointerStart(l,p){L.EventHelper.stop(l);let m=!1;if(!l.__orthogonalSashEvent){const N=this.getOrthogonalSash(l);N&&(m=!0,l.__orthogonalSashEvent=!0,N.onPointerStart(l,new r(p)))}if(this.linkedSash&&!l.__linkedSashEvent&&(l.__linkedSashEvent=!0,this.linkedSash.onPointerStart(l,new r(p))),!this.state)return;const v=document.getElementsByTagName("iframe");for(const N of v)N.classList.add(c);const b=l.pageX,w=l.pageY,E=l.altKey,I={startX:b,currentX:b,startY:w,currentY:w,altKey:E};this.el.classList.add("active"),this._onDidStart.fire(I);const M=(0,L.createStyleSheet)(this.el),P=()=>{let N="";m?N="all-scroll":this.orientation===1?this.state===1?N="s-resize":this.state===2?N="n-resize":N=g.isMacintosh?"row-resize":"ns-resize":this.state===1?N="e-resize":this.state===2?N="w-resize":N=g.isMacintosh?"col-resize":"ew-resize",M.textContent=`* { cursor: ${N} !important; }`},x=new _.DisposableStore;P(),m||this.onDidEnablementChange.event(P,null,x);const T=N=>{L.EventHelper.stop(N,!1);const F={startX:b,currentX:N.pageX,startY:w,currentY:N.pageY,altKey:E};this._onDidChange.fire(F)},A=N=>{L.EventHelper.stop(N,!1),this.el.removeChild(M),this.el.classList.remove("active"),this._onDidEnd.fire(),x.dispose();for(const F of v)F.classList.remove(c)};p.onPointerMove(T,null,x),p.onPointerUp(A,null,x),x.add(p)}onPointerDoublePress(l){const p=this.getOrthogonalSash(l);p&&p._onDidReset.fire(),this.linkedSash&&this.linkedSash._onDidReset.fire(),this._onDidReset.fire()}static onMouseEnter(l,p=!1){l.el.classList.contains("active")?(l.hoverDelayer.cancel(),l.el.classList.add("hover")):l.hoverDelayer.trigger(()=>l.el.classList.add("hover"),l.hoverDelay).then(void 0,()=>{}),!p&&l.linkedSash&&o.onMouseEnter(l.linkedSash,!0)}static onMouseLeave(l,p=!1){l.hoverDelayer.cancel(),l.el.classList.remove("hover"),!p&&l.linkedSash&&o.onMouseLeave(l.linkedSash,!0)}clearSashHoverState(){o.onMouseLeave(this)}layout(){if(this.orientation===0){const l=this.layoutProvider;this.el.style.left=l.getVerticalSashLeft(this)-this.size/2+"px",l.getVerticalSashTop&&(this.el.style.top=l.getVerticalSashTop(this)+"px"),l.getVerticalSashHeight&&(this.el.style.height=l.getVerticalSashHeight(this)+"px")}else{const l=this.layoutProvider;this.el.style.top=l.getHorizontalSashTop(this)-this.size/2+"px",l.getHorizontalSashLeft&&(this.el.style.left=l.getHorizontalSashLeft(this)+"px"),l.getHorizontalSashWidth&&(this.el.style.width=l.getHorizontalSashWidth(this)+"px")}}getOrthogonalSash(l){var p;const m=(p=l.initialTarget)!==null&&p!==void 0?p:l.target;if(!(!m||!(m instanceof HTMLElement))&&m.classList.contains("orthogonal-drag-handle"))return m.classList.contains("start")?this.orthogonalStartSash:this.orthogonalEndSash}dispose(){super.dispose(),this.el.remove()}}e.Sash=o}),define(ne[223],se([1,0,7,130,6,2]),function(Q,e,L,k,y,D){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ResizableHTMLElement=void 0;class S{constructor(){this._onDidWillResize=new y.Emitter,this.onDidWillResize=this._onDidWillResize.event,this._onDidResize=new y.Emitter,this.onDidResize=this._onDidResize.event,this._sashListener=new D.DisposableStore,this._size=new L.Dimension(0,0),this._minSize=new L.Dimension(0,0),this._maxSize=new L.Dimension(Number.MAX_SAFE_INTEGER,Number.MAX_SAFE_INTEGER),this.domNode=document.createElement("div"),this._eastSash=new k.Sash(this.domNode,{getVerticalSashLeft:()=>this._size.width},{orientation:0}),this._westSash=new k.Sash(this.domNode,{getVerticalSashLeft:()=>0},{orientation:0}),this._northSash=new k.Sash(this.domNode,{getHorizontalSashTop:()=>0},{orientation:1,orthogonalEdge:k.OrthogonalEdge.North}),this._southSash=new k.Sash(this.domNode,{getHorizontalSashTop:()=>this._size.height},{orientation:1,orthogonalEdge:k.OrthogonalEdge.South}),this._northSash.orthogonalStartSash=this._westSash,this._northSash.orthogonalEndSash=this._eastSash,this._southSash.orthogonalStartSash=this._westSash,this._southSash.orthogonalEndSash=this._eastSash;let _,g=0,C=0;this._sashListener.add(y.Event.any(this._northSash.onDidStart,this._eastSash.onDidStart,this._southSash.onDidStart,this._westSash.onDidStart)(()=>{_===void 0&&(this._onDidWillResize.fire(),_=this._size,g=0,C=0)})),this._sashListener.add(y.Event.any(this._northSash.onDidEnd,this._eastSash.onDidEnd,this._southSash.onDidEnd,this._westSash.onDidEnd)(()=>{_!==void 0&&(_=void 0,g=0,C=0,this._onDidResize.fire({dimension:this._size,done:!0}))})),this._sashListener.add(this._eastSash.onDidChange(s=>{_&&(C=s.currentX-s.startX,this.layout(_.height+g,_.width+C),this._onDidResize.fire({dimension:this._size,done:!1,east:!0}))})),this._sashListener.add(this._westSash.onDidChange(s=>{_&&(C=-(s.currentX-s.startX),this.layout(_.height+g,_.width+C),this._onDidResize.fire({dimension:this._size,done:!1,west:!0}))})),this._sashListener.add(this._northSash.onDidChange(s=>{_&&(g=-(s.currentY-s.startY),this.layout(_.height+g,_.width+C),this._onDidResize.fire({dimension:this._size,done:!1,north:!0}))})),this._sashListener.add(this._southSash.onDidChange(s=>{_&&(g=s.currentY-s.startY,this.layout(_.height+g,_.width+C),this._onDidResize.fire({dimension:this._size,done:!1,south:!0}))})),this._sashListener.add(y.Event.any(this._eastSash.onDidReset,this._westSash.onDidReset)(s=>{this._preferredSize&&(this.layout(this._size.height,this._preferredSize.width),this._onDidResize.fire({dimension:this._size,done:!0}))})),this._sashListener.add(y.Event.any(this._northSash.onDidReset,this._southSash.onDidReset)(s=>{this._preferredSize&&(this.layout(this._preferredSize.height,this._size.width),this._onDidResize.fire({dimension:this._size,done:!0}))}))}dispose(){this._northSash.dispose(),this._southSash.dispose(),this._eastSash.dispose(),this._westSash.dispose(),this._sashListener.dispose(),this._onDidResize.dispose(),this._onDidWillResize.dispose(),this.domNode.remove()}enableSashes(_,g,C,s){this._northSash.state=_?3:0,this._eastSash.state=g?3:0,this._southSash.state=C?3:0,this._westSash.state=s?3:0}layout(_=this.size.height,g=this.size.width){const{height:C,width:s}=this._minSize,{height:i,width:n}=this._maxSize;_=Math.max(C,Math.min(i,_)),g=Math.max(s,Math.min(n,g));const t=new L.Dimension(g,_);L.Dimension.equals(t,this._size)||(this.domNode.style.height=_+"px",this.domNode.style.width=g+"px",this._size=t,this._northSash.layout(),this._eastSash.layout(),this._southSash.layout(),this._westSash.layout())}clearSashHoverState(){this._eastSash.clearSashHoverState(),this._westSash.clearSashHoverState(),this._northSash.clearSashHoverState(),this._southSash.clearSashHoverState()}get size(){return this._size}set maxSize(_){this._maxSize=_}get maxSize(){return this._maxSize}set minSize(_){this._minSize=_}get minSize(){return this._minSize}set preferredSize(_){this._preferredSize=_}get preferredSize(){return this._preferredSize}}e.ResizableHTMLElement=S}),define(ne[575],se([1,0,7,61,14,6,2,17]),function(Q,e,L,k,y,D,S,f){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.SelectBoxNative=void 0;class _ extends S.Disposable{constructor(C,s,i,n){super(),this.selected=0,this.selectBoxOptions=n||Object.create(null),this.options=[],this.selectElement=document.createElement("select"),this.selectElement.className="monaco-select-box",typeof this.selectBoxOptions.ariaLabel=="string"&&this.selectElement.setAttribute("aria-label",this.selectBoxOptions.ariaLabel),typeof this.selectBoxOptions.ariaDescription=="string"&&this.selectElement.setAttribute("aria-description",this.selectBoxOptions.ariaDescription),this._onDidSelect=this._register(new D.Emitter),this.styles=i,this.registerListeners(),this.setOptions(C,s)}registerListeners(){this._register(k.Gesture.addTarget(this.selectElement)),[k.EventType.Tap].forEach(C=>{this._register(L.addDisposableListener(this.selectElement,C,s=>{this.selectElement.focus()}))}),this._register(L.addStandardDisposableListener(this.selectElement,"click",C=>{L.EventHelper.stop(C,!0)})),this._register(L.addStandardDisposableListener(this.selectElement,"change",C=>{this.selectElement.title=C.target.value,this._onDidSelect.fire({index:C.target.selectedIndex,selected:C.target.value})})),this._register(L.addStandardDisposableListener(this.selectElement,"keydown",C=>{let s=!1;f.isMacintosh?(C.keyCode===18||C.keyCode===16||C.keyCode===10)&&(s=!0):(C.keyCode===18&&C.altKey||C.keyCode===10||C.keyCode===3)&&(s=!0),s&&C.stopPropagation()}))}get onDidSelect(){return this._onDidSelect.event}setOptions(C,s){(!this.options||!y.equals(this.options,C))&&(this.options=C,this.selectElement.options.length=0,this.options.forEach((i,n)=>{this.selectElement.add(this.createOption(i.text,n,i.isDisabled))})),s!==void 0&&this.select(s)}select(C){this.options.length===0?this.selected=0:C>=0&&C<this.options.length?this.selected=C:C>this.options.length-1?this.select(this.options.length-1):this.selected<0&&(this.selected=0),this.selectElement.selectedIndex=this.selected,this.selected<this.options.length&&typeof this.options[this.selected].text=="string"?this.selectElement.title=this.options[this.selected].text:this.selectElement.title=""}focus(){this.selectElement&&(this.selectElement.tabIndex=0,this.selectElement.focus())}blur(){this.selectElement&&(this.selectElement.tabIndex=-1,this.selectElement.blur())}setFocusable(C){this.selectElement.tabIndex=C?0:-1}render(C){C.classList.add("select-container"),C.appendChild(this.selectElement),this.setOptions(this.options,this.selected),this.applyStyles()}applyStyles(){var C,s,i;this.selectElement&&(this.selectElement.style.backgroundColor=(C=this.styles.selectBackground)!==null&&C!==void 0?C:"",this.selectElement.style.color=(s=this.styles.selectForeground)!==null&&s!==void 0?s:"",this.selectElement.style.borderColor=(i=this.styles.selectBorder)!==null&&i!==void 0?i:"")}createOption(C,s,i){const n=document.createElement("option");return n.value=C,n.text=C,n.disabled=!!i,n}}e.SelectBoxNative=_}),define(ne[83],se([1,0,7,44,60,61,2]),function(Q,e,L,k,y,D,S){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.Widget=void 0;class f extends S.Disposable{onclick(g,C){this._register(L.addDisposableListener(g,L.EventType.CLICK,s=>C(new y.StandardMouseEvent(s))))}onmousedown(g,C){this._register(L.addDisposableListener(g,L.EventType.MOUSE_DOWN,s=>C(new y.StandardMouseEvent(s))))}onmouseover(g,C){this._register(L.addDisposableListener(g,L.EventType.MOUSE_OVER,s=>C(new y.StandardMouseEvent(s))))}onmouseleave(g,C){this._register(L.addDisposableListener(g,L.EventType.MOUSE_LEAVE,s=>C(new y.StandardMouseEvent(s))))}onkeydown(g,C){this._register(L.addDisposableListener(g,L.EventType.KEY_DOWN,s=>C(new k.StandardKeyboardEvent(s))))}onkeyup(g,C){this._register(L.addDisposableListener(g,L.EventType.KEY_UP,s=>C(new k.StandardKeyboardEvent(s))))}oninput(g,C){this._register(L.addDisposableListener(g,L.EventType.INPUT,C))}onblur(g,C){this._register(L.addDisposableListener(g,L.EventType.BLUR,C))}onfocus(g,C){this._register(L.addDisposableListener(g,L.EventType.FOCUS,C))}ignoreGesture(g){return D.Gesture.ignoreTarget(g)}}e.Widget=f}),define(ne[224],se([1,0,152,83,13,26,7]),function(Q,e,L,k,y,D,S){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ScrollbarArrow=e.ARROW_IMG_SIZE=void 0,e.ARROW_IMG_SIZE=11;class f extends k.Widget{constructor(g){super(),this._onActivate=g.onActivate,this.bgDomNode=document.createElement("div"),this.bgDomNode.className="arrow-background",this.bgDomNode.style.position="absolute",this.bgDomNode.style.width=g.bgWidth+"px",this.bgDomNode.style.height=g.bgHeight+"px",typeof g.top<"u"&&(this.bgDomNode.style.top="0px"),typeof g.left<"u"&&(this.bgDomNode.style.left="0px"),typeof g.bottom<"u"&&(this.bgDomNode.style.bottom="0px"),typeof g.right<"u"&&(this.bgDomNode.style.right="0px"),this.domNode=document.createElement("div"),this.domNode.className=g.className,this.domNode.classList.add(...D.ThemeIcon.asClassNameArray(g.icon)),this.domNode.style.position="absolute",this.domNode.style.width=e.ARROW_IMG_SIZE+"px",this.domNode.style.height=e.ARROW_IMG_SIZE+"px",typeof g.top<"u"&&(this.domNode.style.top=g.top+"px"),typeof g.left<"u"&&(this.domNode.style.left=g.left+"px"),typeof g.bottom<"u"&&(this.domNode.style.bottom=g.bottom+"px"),typeof g.right<"u"&&(this.domNode.style.right=g.right+"px"),this._pointerMoveMonitor=this._register(new L.GlobalPointerMoveMonitor),this._register(S.addStandardDisposableListener(this.bgDomNode,S.EventType.POINTER_DOWN,C=>this._arrowPointerDown(C))),this._register(S.addStandardDisposableListener(this.domNode,S.EventType.POINTER_DOWN,C=>this._arrowPointerDown(C))),this._pointerdownRepeatTimer=this._register(new y.IntervalTimer),this._pointerdownScheduleRepeatTimer=this._register(new y.TimeoutTimer)}_arrowPointerDown(g){if(!g.target||!(g.target instanceof Element))return;const C=()=>{this._pointerdownRepeatTimer.cancelAndSet(()=>this._onActivate(),1e3/24)};this._onActivate(),this._pointerdownRepeatTimer.cancel(),this._pointerdownScheduleRepeatTimer.cancelAndSet(C,200),this._pointerMoveMonitor.startMonitoring(g.target,g.pointerId,g.buttons,s=>{},()=>{this._pointerdownRepeatTimer.cancel(),this._pointerdownScheduleRepeatTimer.cancel()}),g.preventDefault()}}e.ScrollbarArrow=f}),define(ne[309],se([1,0,7,35,152,224,567,83,17]),function(Q,e,L,k,y,D,S,f,_){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.AbstractScrollbar=void 0;const g=140;class C extends f.Widget{constructor(i){super(),this._lazyRender=i.lazyRender,this._host=i.host,this._scrollable=i.scrollable,this._scrollByPage=i.scrollByPage,this._scrollbarState=i.scrollbarState,this._visibilityController=this._register(new S.ScrollbarVisibilityController(i.visibility,"visible scrollbar "+i.extraScrollbarClassName,"invisible scrollbar "+i.extraScrollbarClassName)),this._visibilityController.setIsNeeded(this._scrollbarState.isNeeded()),this._pointerMoveMonitor=this._register(new y.GlobalPointerMoveMonitor),this._shouldRender=!0,this.domNode=(0,k.createFastDomNode)(document.createElement("div")),this.domNode.setAttribute("role","presentation"),this.domNode.setAttribute("aria-hidden","true"),this._visibilityController.setDomNode(this.domNode),this.domNode.setPosition("absolute"),this._register(L.addDisposableListener(this.domNode.domNode,L.EventType.POINTER_DOWN,n=>this._domNodePointerDown(n)))}_createArrow(i){const n=this._register(new D.ScrollbarArrow(i));this.domNode.domNode.appendChild(n.bgDomNode),this.domNode.domNode.appendChild(n.domNode)}_createSlider(i,n,t,a){this.slider=(0,k.createFastDomNode)(document.createElement("div")),this.slider.setClassName("slider"),this.slider.setPosition("absolute"),this.slider.setTop(i),this.slider.setLeft(n),typeof t=="number"&&this.slider.setWidth(t),typeof a=="number"&&this.slider.setHeight(a),this.slider.setLayerHinting(!0),this.slider.setContain("strict"),this.domNode.domNode.appendChild(this.slider.domNode),this._register(L.addDisposableListener(this.slider.domNode,L.EventType.POINTER_DOWN,u=>{u.button===0&&(u.preventDefault(),this._sliderPointerDown(u))})),this.onclick(this.slider.domNode,u=>{u.leftButton&&u.stopPropagation()})}_onElementSize(i){return this._scrollbarState.setVisibleSize(i)&&(this._visibilityController.setIsNeeded(this._scrollbarState.isNeeded()),this._shouldRender=!0,this._lazyRender||this.render()),this._shouldRender}_onElementScrollSize(i){return this._scrollbarState.setScrollSize(i)&&(this._visibilityController.setIsNeeded(this._scrollbarState.isNeeded()),this._shouldRender=!0,this._lazyRender||this.render()),this._shouldRender}_onElementScrollPosition(i){return this._scrollbarState.setScrollPosition(i)&&(this._visibilityController.setIsNeeded(this._scrollbarState.isNeeded()),this._shouldRender=!0,this._lazyRender||this.render()),this._shouldRender}beginReveal(){this._visibilityController.setShouldBeVisible(!0)}beginHide(){this._visibilityController.setShouldBeVisible(!1)}render(){this._shouldRender&&(this._shouldRender=!1,this._renderDomNode(this._scrollbarState.getRectangleLargeSize(),this._scrollbarState.getRectangleSmallSize()),this._updateSlider(this._scrollbarState.getSliderSize(),this._scrollbarState.getArrowSize()+this._scrollbarState.getSliderPosition()))}_domNodePointerDown(i){i.target===this.domNode.domNode&&this._onPointerDown(i)}delegatePointerDown(i){const n=this.domNode.domNode.getClientRects()[0].top,t=n+this._scrollbarState.getSliderPosition(),a=n+this._scrollbarState.getSliderPosition()+this._scrollbarState.getSliderSize(),u=this._sliderPointerPosition(i);t<=u&&u<=a?i.button===0&&(i.preventDefault(),this._sliderPointerDown(i)):this._onPointerDown(i)}_onPointerDown(i){let n,t;if(i.target===this.domNode.domNode&&typeof i.offsetX=="number"&&typeof i.offsetY=="number")n=i.offsetX,t=i.offsetY;else{const u=L.getDomNodePagePosition(this.domNode.domNode);n=i.pageX-u.left,t=i.pageY-u.top}const a=this._pointerDownRelativePosition(n,t);this._setDesiredScrollPositionNow(this._scrollByPage?this._scrollbarState.getDesiredScrollPositionFromOffsetPaged(a):this._scrollbarState.getDesiredScrollPositionFromOffset(a)),i.button===0&&(i.preventDefault(),this._sliderPointerDown(i))}_sliderPointerDown(i){if(!i.target||!(i.target instanceof Element))return;const n=this._sliderPointerPosition(i),t=this._sliderOrthogonalPointerPosition(i),a=this._scrollbarState.clone();this.slider.toggleClassName("active",!0),this._pointerMoveMonitor.startMonitoring(i.target,i.pointerId,i.buttons,u=>{const h=this._sliderOrthogonalPointerPosition(u),r=Math.abs(h-t);if(_.isWindows&&r>g){this._setDesiredScrollPositionNow(a.getScrollPosition());return}const o=this._sliderPointerPosition(u)-n;this._setDesiredScrollPositionNow(a.getDesiredScrollPositionFromDelta(o))},()=>{this.slider.toggleClassName("active",!1),this._host.onDragEnd()}),this._host.onDragStart()}_setDesiredScrollPositionNow(i){const n={};this.writeScrollPosition(n,i),this._scrollable.setScrollPositionNow(n)}updateScrollbarSize(i){this._updateScrollbarSize(i),this._scrollbarState.setScrollbarSize(i),this._shouldRender=!0,this._lazyRender||this.render()}isNeeded(){return this._scrollbarState.isNeeded()}}e.AbstractScrollbar=C}),define(ne[576],se([1,0,60,309,224,195,25]),function(Q,e,L,k,y,D,S){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.HorizontalScrollbar=void 0;class f extends k.AbstractScrollbar{constructor(g,C,s){const i=g.getScrollDimensions(),n=g.getCurrentScrollPosition();if(super({lazyRender:C.lazyRender,host:s,scrollbarState:new D.ScrollbarState(C.horizontalHasArrows?C.arrowSize:0,C.horizontal===2?0:C.horizontalScrollbarSize,C.vertical===2?0:C.verticalScrollbarSize,i.width,i.scrollWidth,n.scrollLeft),visibility:C.horizontal,extraScrollbarClassName:"horizontal",scrollable:g,scrollByPage:C.scrollByPage}),C.horizontalHasArrows){const t=(C.arrowSize-y.ARROW_IMG_SIZE)/2,a=(C.horizontalScrollbarSize-y.ARROW_IMG_SIZE)/2;this._createArrow({className:"scra",icon:S.Codicon.scrollbarButtonLeft,top:a,left:t,bottom:void 0,right:void 0,bgWidth:C.arrowSize,bgHeight:C.horizontalScrollbarSize,onActivate:()=>this._host.onMouseWheel(new L.StandardWheelEvent(null,1,0))}),this._createArrow({className:"scra",icon:S.Codicon.scrollbarButtonRight,top:a,left:void 0,bottom:void 0,right:t,bgWidth:C.arrowSize,bgHeight:C.horizontalScrollbarSize,onActivate:()=>this._host.onMouseWheel(new L.StandardWheelEvent(null,-1,0))})}this._createSlider(Math.floor((C.horizontalScrollbarSize-C.horizontalSliderSize)/2),0,void 0,C.horizontalSliderSize)}_updateSlider(g,C){this.slider.setWidth(g),this.slider.setLeft(C)}_renderDomNode(g,C){this.domNode.setWidth(g),this.domNode.setHeight(C),this.domNode.setLeft(0),this.domNode.setBottom(0)}onDidScroll(g){return this._shouldRender=this._onElementScrollSize(g.scrollWidth)||this._shouldRender,this._shouldRender=this._onElementScrollPosition(g.scrollLeft)||this._shouldRender,this._shouldRender=this._onElementSize(g.width)||this._shouldRender,this._shouldRender}_pointerDownRelativePosition(g,C){return g}_sliderPointerPosition(g){return g.pageX}_sliderOrthogonalPointerPosition(g){return g.pageY}_updateScrollbarSize(g){this.slider.setHeight(g)}writeScrollPosition(g,C){g.scrollLeft=C}updateOptions(g){this.updateScrollbarSize(g.horizontal===2?0:g.horizontalScrollbarSize),this._scrollbarState.setOppositeScrollbarSize(g.vertical===2?0:g.verticalScrollbarSize),this._visibilityController.setVisibility(g.horizontal),this._scrollByPage=g.scrollByPage}}e.HorizontalScrollbar=f}),define(ne[577],se([1,0,60,309,224,195,25]),function(Q,e,L,k,y,D,S){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.VerticalScrollbar=void 0;class f extends k.AbstractScrollbar{constructor(g,C,s){const i=g.getScrollDimensions(),n=g.getCurrentScrollPosition();if(super({lazyRender:C.lazyRender,host:s,scrollbarState:new D.ScrollbarState(C.verticalHasArrows?C.arrowSize:0,C.vertical===2?0:C.verticalScrollbarSize,0,i.height,i.scrollHeight,n.scrollTop),visibility:C.vertical,extraScrollbarClassName:"vertical",scrollable:g,scrollByPage:C.scrollByPage}),C.verticalHasArrows){const t=(C.arrowSize-y.ARROW_IMG_SIZE)/2,a=(C.verticalScrollbarSize-y.ARROW_IMG_SIZE)/2;this._createArrow({className:"scra",icon:S.Codicon.scrollbarButtonUp,top:t,left:a,bottom:void 0,right:void 0,bgWidth:C.verticalScrollbarSize,bgHeight:C.arrowSize,onActivate:()=>this._host.onMouseWheel(new L.StandardWheelEvent(null,0,1))}),this._createArrow({className:"scra",icon:S.Codicon.scrollbarButtonDown,top:void 0,left:a,bottom:t,right:void 0,bgWidth:C.verticalScrollbarSize,bgHeight:C.arrowSize,onActivate:()=>this._host.onMouseWheel(new L.StandardWheelEvent(null,0,-1))})}this._createSlider(0,Math.floor((C.verticalScrollbarSize-C.verticalSliderSize)/2),C.verticalSliderSize,void 0)}_updateSlider(g,C){this.slider.setHeight(g),this.slider.setTop(C)}_renderDomNode(g,C){this.domNode.setWidth(C),this.domNode.setHeight(g),this.domNode.setRight(0),this.domNode.setTop(0)}onDidScroll(g){return this._shouldRender=this._onElementScrollSize(g.scrollHeight)||this._shouldRender,this._shouldRender=this._onElementScrollPosition(g.scrollTop)||this._shouldRender,this._shouldRender=this._onElementSize(g.height)||this._shouldRender,this._shouldRender}_pointerDownRelativePosition(g,C){return C}_sliderPointerPosition(g){return g.pageY}_sliderOrthogonalPointerPosition(g){return g.pageX}_updateScrollbarSize(g){this.slider.setWidth(g)}writeScrollPosition(g,C){g.scrollTop=C}updateOptions(g){this.updateScrollbarSize(g.vertical===2?0:g.verticalScrollbarSize),this._scrollbarState.setOppositeScrollbarSize(0),this._visibilityController.setVisibility(g.vertical),this._scrollByPage=g.scrollByPage}}e.VerticalScrollbar=f}),define(ne[75],se([1,0,52,7,35,60,576,577,83,13,6,2,17,167,406]),function(Q,e,L,k,y,D,S,f,_,g,C,s,i,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.DomScrollableElement=e.SmoothScrollableElement=e.ScrollableElement=e.AbstractScrollableElement=e.MouseWheelClassifier=void 0;const t=500,a=50,u=!0;class h{constructor(v,b,w){this.timestamp=v,this.deltaX=b,this.deltaY=w,this.score=0}}class r{constructor(){this._capacity=5,this._memory=[],this._front=-1,this._rear=-1}isPhysicalMouseWheel(){if(this._front===-1&&this._rear===-1)return!1;let v=1,b=0,w=1,E=this._rear;do{const I=E===this._front?v:Math.pow(2,-w);if(v-=I,b+=this._memory[E].score*I,E===this._front)break;E=(this._capacity+E-1)%this._capacity,w++}while(!0);return b<=.5}acceptStandardWheelEvent(v){const b=window.devicePixelRatio/(0,L.getZoomFactor)();i.isWindows||i.isLinux?this.accept(Date.now(),v.deltaX/b,v.deltaY/b):this.accept(Date.now(),v.deltaX,v.deltaY)}accept(v,b,w){const E=new h(v,b,w);E.score=this._computeScore(E),this._front===-1&&this._rear===-1?(this._memory[0]=E,this._front=0,this._rear=0):(this._rear=(this._rear+1)%this._capacity,this._rear===this._front&&(this._front=(this._front+1)%this._capacity),this._memory[this._rear]=E)}_computeScore(v){if(Math.abs(v.deltaX)>0&&Math.abs(v.deltaY)>0)return 1;let b=.5;const w=this._front===-1&&this._rear===-1?null:this._memory[this._rear];return(!this._isAlmostInt(v.deltaX)||!this._isAlmostInt(v.deltaY))&&(b+=.25),Math.min(Math.max(b,0),1)}_isAlmostInt(v){return Math.abs(Math.round(v)-v)<.01}}e.MouseWheelClassifier=r,r.INSTANCE=new r;class c extends _.Widget{get options(){return this._options}constructor(v,b,w){super(),this._onScroll=this._register(new C.Emitter),this.onScroll=this._onScroll.event,this._onWillScroll=this._register(new C.Emitter),v.style.overflow="hidden",this._options=p(b),this._scrollable=w,this._register(this._scrollable.onScroll(I=>{this._onWillScroll.fire(I),this._onDidScroll(I),this._onScroll.fire(I)}));const E={onMouseWheel:I=>this._onMouseWheel(I),onDragStart:()=>this._onDragStart(),onDragEnd:()=>this._onDragEnd()};this._verticalScrollbar=this._register(new f.VerticalScrollbar(this._scrollable,this._options,E)),this._horizontalScrollbar=this._register(new S.HorizontalScrollbar(this._scrollable,this._options,E)),this._domNode=document.createElement("div"),this._domNode.className="monaco-scrollable-element "+this._options.className,this._domNode.setAttribute("role","presentation"),this._domNode.style.position="relative",this._domNode.style.overflow="hidden",this._domNode.appendChild(v),this._domNode.appendChild(this._horizontalScrollbar.domNode.domNode),this._domNode.appendChild(this._verticalScrollbar.domNode.domNode),this._options.useShadows?(this._leftShadowDomNode=(0,y.createFastDomNode)(document.createElement("div")),this._leftShadowDomNode.setClassName("shadow"),this._domNode.appendChild(this._leftShadowDomNode.domNode),this._topShadowDomNode=(0,y.createFastDomNode)(document.createElement("div")),this._topShadowDomNode.setClassName("shadow"),this._domNode.appendChild(this._topShadowDomNode.domNode),this._topLeftShadowDomNode=(0,y.createFastDomNode)(document.createElement("div")),this._topLeftShadowDomNode.setClassName("shadow"),this._domNode.appendChild(this._topLeftShadowDomNode.domNode)):(this._leftShadowDomNode=null,this._topShadowDomNode=null,this._topLeftShadowDomNode=null),this._listenOnDomNode=this._options.listenOnDomNode||this._domNode,this._mouseWheelToDispose=[],this._setListeningToMouseWheel(this._options.handleMouseWheel),this.onmouseover(this._listenOnDomNode,I=>this._onMouseOver(I)),this.onmouseleave(this._listenOnDomNode,I=>this._onMouseLeave(I)),this._hideTimeout=this._register(new g.TimeoutTimer),this._isDragging=!1,this._mouseIsOver=!1,this._shouldRender=!0,this._revealOnScroll=!0}dispose(){this._mouseWheelToDispose=(0,s.dispose)(this._mouseWheelToDispose),super.dispose()}getDomNode(){return this._domNode}getOverviewRulerLayoutInfo(){return{parent:this._domNode,insertBefore:this._verticalScrollbar.domNode.domNode}}delegateVerticalScrollbarPointerDown(v){this._verticalScrollbar.delegatePointerDown(v)}getScrollDimensions(){return this._scrollable.getScrollDimensions()}setScrollDimensions(v){this._scrollable.setScrollDimensions(v,!1)}updateClassName(v){this._options.className=v,i.isMacintosh&&(this._options.className+=" mac"),this._domNode.className="monaco-scrollable-element "+this._options.className}updateOptions(v){typeof v.handleMouseWheel<"u"&&(this._options.handleMouseWheel=v.handleMouseWheel,this._setListeningToMouseWheel(this._options.handleMouseWheel)),typeof v.mouseWheelScrollSensitivity<"u"&&(this._options.mouseWheelScrollSensitivity=v.mouseWheelScrollSensitivity),typeof v.fastScrollSensitivity<"u"&&(this._options.fastScrollSensitivity=v.fastScrollSensitivity),typeof v.scrollPredominantAxis<"u"&&(this._options.scrollPredominantAxis=v.scrollPredominantAxis),typeof v.horizontal<"u"&&(this._options.horizontal=v.horizontal),typeof v.vertical<"u"&&(this._options.vertical=v.vertical),typeof v.horizontalScrollbarSize<"u"&&(this._options.horizontalScrollbarSize=v.horizontalScrollbarSize),typeof v.verticalScrollbarSize<"u"&&(this._options.verticalScrollbarSize=v.verticalScrollbarSize),typeof v.scrollByPage<"u"&&(this._options.scrollByPage=v.scrollByPage),this._horizontalScrollbar.updateOptions(this._options),this._verticalScrollbar.updateOptions(this._options),this._options.lazyRender||this._render()}delegateScrollFromMouseWheelEvent(v){this._onMouseWheel(new D.StandardWheelEvent(v))}_setListeningToMouseWheel(v){if(this._mouseWheelToDispose.length>0!==v&&(this._mouseWheelToDispose=(0,s.dispose)(this._mouseWheelToDispose),v)){const w=E=>{this._onMouseWheel(new D.StandardWheelEvent(E))};this._mouseWheelToDispose.push(k.addDisposableListener(this._listenOnDomNode,k.EventType.MOUSE_WHEEL,w,{passive:!1}))}}_onMouseWheel(v){var b;if(!((b=v.browserEvent)===null||b===void 0)&&b.defaultPrevented)return;const w=r.INSTANCE;u&&w.acceptStandardWheelEvent(v);let E=!1;if(v.deltaY||v.deltaX){let M=v.deltaY*this._options.mouseWheelScrollSensitivity,P=v.deltaX*this._options.mouseWheelScrollSensitivity;this._options.scrollPredominantAxis&&(this._options.scrollYToX&&P+M===0?P=M=0:Math.abs(M)>=Math.abs(P)?P=0:M=0),this._options.flipAxes&&([M,P]=[P,M]);const x=!i.isMacintosh&&v.browserEvent&&v.browserEvent.shiftKey;(this._options.scrollYToX||x)&&!P&&(P=M,M=0),v.browserEvent&&v.browserEvent.altKey&&(P=P*this._options.fastScrollSensitivity,M=M*this._options.fastScrollSensitivity);const T=this._scrollable.getFutureScrollPosition();let A={};if(M){const N=a*M,F=T.scrollTop-(N<0?Math.floor(N):Math.ceil(N));this._verticalScrollbar.writeScrollPosition(A,F)}if(P){const N=a*P,F=T.scrollLeft-(N<0?Math.floor(N):Math.ceil(N));this._horizontalScrollbar.writeScrollPosition(A,F)}A=this._scrollable.validateScrollPosition(A),(T.scrollLeft!==A.scrollLeft||T.scrollTop!==A.scrollTop)&&(u&&this._options.mouseWheelSmoothScroll&&w.isPhysicalMouseWheel()?this._scrollable.setScrollPositionSmooth(A):this._scrollable.setScrollPositionNow(A),E=!0)}let I=E;!I&&this._options.alwaysConsumeMouseWheel&&(I=!0),!I&&this._options.consumeMouseWheelIfScrollbarIsNeeded&&(this._verticalScrollbar.isNeeded()||this._horizontalScrollbar.isNeeded())&&(I=!0),I&&(v.preventDefault(),v.stopPropagation())}_onDidScroll(v){this._shouldRender=this._horizontalScrollbar.onDidScroll(v)||this._shouldRender,this._shouldRender=this._verticalScrollbar.onDidScroll(v)||this._shouldRender,this._options.useShadows&&(this._shouldRender=!0),this._revealOnScroll&&this._reveal(),this._options.lazyRender||this._render()}renderNow(){if(!this._options.lazyRender)throw new Error("Please use `lazyRender` together with `renderNow`!");this._render()}_render(){if(this._shouldRender&&(this._shouldRender=!1,this._horizontalScrollbar.render(),this._verticalScrollbar.render(),this._options.useShadows)){const v=this._scrollable.getCurrentScrollPosition(),b=v.scrollTop>0,w=v.scrollLeft>0,E=w?" left":"",I=b?" top":"",M=w||b?" top-left-corner":"";this._leftShadowDomNode.setClassName(`shadow${E}`),this._topShadowDomNode.setClassName(`shadow${I}`),this._topLeftShadowDomNode.setClassName(`shadow${M}${I}${E}`)}}_onDragStart(){this._isDragging=!0,this._reveal()}_onDragEnd(){this._isDragging=!1,this._hide()}_onMouseLeave(v){this._mouseIsOver=!1,this._hide()}_onMouseOver(v){this._mouseIsOver=!0,this._reveal()}_reveal(){this._verticalScrollbar.beginReveal(),this._horizontalScrollbar.beginReveal(),this._scheduleHide()}_hide(){!this._mouseIsOver&&!this._isDragging&&(this._verticalScrollbar.beginHide(),this._horizontalScrollbar.beginHide())}_scheduleHide(){!this._mouseIsOver&&!this._isDragging&&this._hideTimeout.cancelAndSet(()=>this._hide(),t)}}e.AbstractScrollableElement=c;class o extends c{constructor(v,b){b=b||{},b.mouseWheelSmoothScroll=!1;const w=new n.Scrollable({forceIntegerValues:!0,smoothScrollDuration:0,scheduleAtNextAnimationFrame:E=>k.scheduleAtNextAnimationFrame(E)});super(v,b,w),this._register(w)}setScrollPosition(v){this._scrollable.setScrollPositionNow(v)}}e.ScrollableElement=o;class d extends c{constructor(v,b,w){super(v,b,w)}setScrollPosition(v){v.reuseAnimation?this._scrollable.setScrollPositionSmooth(v,v.reuseAnimation):this._scrollable.setScrollPositionNow(v)}getScrollPosition(){return this._scrollable.getCurrentScrollPosition()}}e.SmoothScrollableElement=d;class l extends c{constructor(v,b){b=b||{},b.mouseWheelSmoothScroll=!1;const w=new n.Scrollable({forceIntegerValues:!1,smoothScrollDuration:0,scheduleAtNextAnimationFrame:E=>k.scheduleAtNextAnimationFrame(E)});super(v,b,w),this._register(w),this._element=v,this.onScroll(E=>{E.scrollTopChanged&&(this._element.scrollTop=E.scrollTop),E.scrollLeftChanged&&(this._element.scrollLeft=E.scrollLeft)}),this.scanDomNode()}setScrollPosition(v){this._scrollable.setScrollPositionNow(v)}getScrollPosition(){return this._scrollable.getCurrentScrollPosition()}scanDomNode(){this.setScrollDimensions({width:this._element.clientWidth,scrollWidth:this._element.scrollWidth,height:this._element.clientHeight,scrollHeight:this._element.scrollHeight}),this.setScrollPosition({scrollLeft:this._element.scrollLeft,scrollTop:this._element.scrollTop})}}e.DomScrollableElement=l;function p(m){const v={lazyRender:typeof m.lazyRender<"u"?m.lazyRender:!1,className:typeof m.className<"u"?m.className:"",useShadows:typeof m.useShadows<"u"?m.useShadows:!0,handleMouseWheel:typeof m.handleMouseWheel<"u"?m.handleMouseWheel:!0,flipAxes:typeof m.flipAxes<"u"?m.flipAxes:!1,consumeMouseWheelIfScrollbarIsNeeded:typeof m.consumeMouseWheelIfScrollbarIsNeeded<"u"?m.consumeMouseWheelIfScrollbarIsNeeded:!1,alwaysConsumeMouseWheel:typeof m.alwaysConsumeMouseWheel<"u"?m.alwaysConsumeMouseWheel:!1,scrollYToX:typeof m.scrollYToX<"u"?m.scrollYToX:!1,mouseWheelScrollSensitivity:typeof m.mouseWheelScrollSensitivity<"u"?m.mouseWheelScrollSensitivity:1,fastScrollSensitivity:typeof m.fastScrollSensitivity<"u"?m.fastScrollSensitivity:5,scrollPredominantAxis:typeof m.scrollPredominantAxis<"u"?m.scrollPredominantAxis:!0,mouseWheelSmoothScroll:typeof m.mouseWheelSmoothScroll<"u"?m.mouseWheelSmoothScroll:!0,arrowSize:typeof m.arrowSize<"u"?m.arrowSize:11,listenOnDomNode:typeof m.listenOnDomNode<"u"?m.listenOnDomNode:null,horizontal:typeof m.horizontal<"u"?m.horizontal:1,horizontalScrollbarSize:typeof m.horizontalScrollbarSize<"u"?m.horizontalScrollbarSize:10,horizontalSliderSize:typeof m.horizontalSliderSize<"u"?m.horizontalSliderSize:0,horizontalHasArrows:typeof m.horizontalHasArrows<"u"?m.horizontalHasArrows:!1,vertical:typeof m.vertical<"u"?m.vertical:1,verticalScrollbarSize:typeof m.verticalScrollbarSize<"u"?m.verticalScrollbarSize:10,verticalHasArrows:typeof m.verticalHasArrows<"u"?m.verticalHasArrows:!1,verticalSliderSize:typeof m.verticalSliderSize<"u"?m.verticalSliderSize:0,scrollByPage:typeof m.scrollByPage<"u"?m.scrollByPage:!1};return v.horizontalSliderSize=typeof m.horizontalSliderSize<"u"?m.horizontalSliderSize:v.horizontalScrollbarSize,v.verticalSliderSize=typeof m.verticalSliderSize<"u"?m.verticalSliderSize:v.verticalScrollbarSize,i.isMacintosh&&(v.className+=" mac"),v}}),define(ne[310],se([1,0,7,44,75,2,555,399]),function(Q,e,L,k,y,D,S){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.getHoverAccessibleViewHint=e.HoverAction=e.HoverWidget=void 0;const f=L.$;class _ extends D.Disposable{constructor(){super(),this.containerDomNode=document.createElement("div"),this.containerDomNode.className="monaco-hover",this.containerDomNode.tabIndex=0,this.containerDomNode.setAttribute("role","tooltip"),this.contentsDomNode=document.createElement("div"),this.contentsDomNode.className="monaco-hover-content",this.scrollbar=this._register(new y.DomScrollableElement(this.contentsDomNode,{consumeMouseWheelIfScrollbarIsNeeded:!0})),this.containerDomNode.appendChild(this.scrollbar.getDomNode())}onContentsChanged(){this.scrollbar.scanDomNode()}}e.HoverWidget=_;class g extends D.Disposable{static render(i,n,t){return new g(i,n,t)}constructor(i,n,t){super(),this.actionContainer=L.append(i,f("div.action-container")),this.actionContainer.setAttribute("tabindex","0"),this.action=L.append(this.actionContainer,f("a.action")),this.action.setAttribute("role","button"),n.iconClass&&L.append(this.action,f(`span.icon.${n.iconClass}`));const a=L.append(this.action,f("span"));a.textContent=t?`${n.label} (${t})`:n.label,this._register(L.addDisposableListener(this.actionContainer,L.EventType.CLICK,u=>{u.stopPropagation(),u.preventDefault(),n.run(this.actionContainer)})),this._register(L.addDisposableListener(this.actionContainer,L.EventType.KEY_DOWN,u=>{const h=new k.StandardKeyboardEvent(u);(h.equals(3)||h.equals(10))&&(u.stopPropagation(),u.preventDefault(),n.run(this.actionContainer))})),this.setEnabled(!0)}setEnabled(i){i?(this.actionContainer.classList.remove("disabled"),this.actionContainer.removeAttribute("aria-disabled")):(this.actionContainer.classList.add("disabled"),this.actionContainer.setAttribute("aria-disabled","true"))}}e.HoverAction=g;function C(s,i){return s&&i?(0,S.localize)(0,null,i):s?(0,S.localize)(1,null):""}e.getHoverAccessibleViewHint=C}),define(ne[225],se([1,0,197,7,81,61,75,14,13,106,6,2,166,167,391,573,9]),function(Q,e,L,k,y,D,S,f,_,g,C,s,i,n,t,a,u){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ListView=e.NativeDragAndDropData=e.ExternalElementsDragAndDropData=e.ElementsDragAndDropData=void 0;const h={CurrentDragAndDropData:void 0},r={useShadows:!0,verticalScrollMode:1,setRowLineHeight:!0,setRowHeight:!0,supportDynamicHeights:!1,dnd:{getDragElements(v){return[v]},getDragURI(){return null},onDragStart(){},onDragOver(){return!1},drop(){}},horizontalScrolling:!1,transformOptimization:!0,alwaysConsumeMouseWheel:!0};class c{constructor(b){this.elements=b}update(){}getData(){return this.elements}}e.ElementsDragAndDropData=c;class o{constructor(b){this.elements=b}update(){}getData(){return this.elements}}e.ExternalElementsDragAndDropData=o;class d{constructor(){this.types=[],this.files=[]}update(b){if(b.types&&this.types.splice(0,this.types.length,...b.types),b.files){this.files.splice(0,this.files.length);for(let w=0;w<b.files.length;w++){const E=b.files.item(w);E&&(E.size||E.type)&&this.files.push(E)}}}getData(){return{types:this.types,files:this.files}}}e.NativeDragAndDropData=d;function l(v,b){return Array.isArray(v)&&Array.isArray(b)?(0,f.equals)(v,b):v===b}class p{constructor(b){b?.getSetSize?this.getSetSize=b.getSetSize.bind(b):this.getSetSize=(w,E,I)=>I,b?.getPosInSet?this.getPosInSet=b.getPosInSet.bind(b):this.getPosInSet=(w,E)=>E+1,b?.getRole?this.getRole=b.getRole.bind(b):this.getRole=w=>"listitem",b?.isChecked?this.isChecked=b.isChecked.bind(b):this.isChecked=w=>{}}}class m{get contentHeight(){return this.rangeMap.size}get onDidScroll(){return this.scrollableElement.onScroll}get horizontalScrolling(){return this._horizontalScrolling}set horizontalScrolling(b){if(b!==this._horizontalScrolling){if(b&&this.supportDynamicHeights)throw new Error("Horizontal scrolling and dynamic heights not supported simultaneously");if(this._horizontalScrolling=b,this.domNode.classList.toggle("horizontal-scrolling",this._horizontalScrolling),this._horizontalScrolling){for(const w of this.items)this.measureItemWidth(w);this.updateScrollWidth(),this.scrollableElement.setScrollDimensions({width:(0,k.getContentWidth)(this.domNode)}),this.rowsContainer.style.width=`${Math.max(this.scrollWidth||0,this.renderWidth)}px`}else this.scrollableElementWidthDelayer.cancel(),this.scrollableElement.setScrollDimensions({width:this.renderWidth,scrollWidth:this.renderWidth}),this.rowsContainer.style.width=""}}constructor(b,w,E,I=r){var M,P,x,T,A,N,F,O,W,U,j,R,K;if(this.virtualDelegate=w,this.domId=`list_id_${++m.InstanceCount}`,this.renderers=new Map,this.renderWidth=0,this._scrollHeight=0,this.scrollableElementUpdateDisposable=null,this.scrollableElementWidthDelayer=new _.Delayer(50),this.splicing=!1,this.dragOverAnimationStopDisposable=s.Disposable.None,this.dragOverMouseY=0,this.canDrop=!1,this.currentDragFeedbackDisposable=s.Disposable.None,this.onDragLeaveTimeout=s.Disposable.None,this.disposables=new s.DisposableStore,this._onDidChangeContentHeight=new C.Emitter,this._onDidChangeContentWidth=new C.Emitter,this._horizontalScrolling=!1,I.horizontalScrolling&&I.supportDynamicHeights)throw new Error("Horizontal scrolling and dynamic heights not supported simultaneously");this.items=[],this.itemId=0,this.rangeMap=new t.RangeMap((M=I.paddingTop)!==null&&M!==void 0?M:0);for(const Z of E)this.renderers.set(Z.templateId,Z);this.cache=this.disposables.add(new a.RowCache(this.renderers)),this.lastRenderTop=0,this.lastRenderHeight=0,this.domNode=document.createElement("div"),this.domNode.className="monaco-list",this.domNode.classList.add(this.domId),this.domNode.tabIndex=0,this.domNode.classList.toggle("mouse-support",typeof I.mouseSupport=="boolean"?I.mouseSupport:!0),this._horizontalScrolling=(P=I.horizontalScrolling)!==null&&P!==void 0?P:r.horizontalScrolling,this.domNode.classList.toggle("horizontal-scrolling",this._horizontalScrolling),this.paddingBottom=typeof I.paddingBottom>"u"?0:I.paddingBottom,this.accessibilityProvider=new p(I.accessibilityProvider),this.rowsContainer=document.createElement("div"),this.rowsContainer.className="monaco-list-rows",((x=I.transformOptimization)!==null&&x!==void 0?x:r.transformOptimization)&&(this.rowsContainer.style.transform="translate3d(0px, 0px, 0px)",this.rowsContainer.style.overflow="hidden",this.rowsContainer.style.contain="strict"),this.disposables.add(D.Gesture.addTarget(this.rowsContainer)),this.scrollable=new n.Scrollable({forceIntegerValues:!0,smoothScrollDuration:(T=I.smoothScrolling)!==null&&T!==void 0&&T?125:0,scheduleAtNextAnimationFrame:Z=>(0,k.scheduleAtNextAnimationFrame)(Z)}),this.scrollableElement=this.disposables.add(new S.SmoothScrollableElement(this.rowsContainer,{alwaysConsumeMouseWheel:(A=I.alwaysConsumeMouseWheel)!==null&&A!==void 0?A:r.alwaysConsumeMouseWheel,horizontal:1,vertical:(N=I.verticalScrollMode)!==null&&N!==void 0?N:r.verticalScrollMode,useShadows:(F=I.useShadows)!==null&&F!==void 0?F:r.useShadows,mouseWheelScrollSensitivity:I.mouseWheelScrollSensitivity,fastScrollSensitivity:I.fastScrollSensitivity,scrollByPage:I.scrollByPage},this.scrollable)),this.domNode.appendChild(this.scrollableElement.getDomNode()),b.appendChild(this.domNode),this.scrollableElement.onScroll(this.onScroll,this,this.disposables),this.disposables.add((0,k.addDisposableListener)(this.rowsContainer,D.EventType.Change,Z=>this.onTouchChange(Z))),this.disposables.add((0,k.addDisposableListener)(this.scrollableElement.getDomNode(),"scroll",Z=>Z.target.scrollTop=0)),this.disposables.add((0,k.addDisposableListener)(this.domNode,"dragover",Z=>this.onDragOver(this.toDragEvent(Z)))),this.disposables.add((0,k.addDisposableListener)(this.domNode,"drop",Z=>this.onDrop(this.toDragEvent(Z)))),this.disposables.add((0,k.addDisposableListener)(this.domNode,"dragleave",Z=>this.onDragLeave(this.toDragEvent(Z)))),this.disposables.add((0,k.addDisposableListener)(this.domNode,"dragend",Z=>this.onDragEnd(Z))),this.setRowLineHeight=(O=I.setRowLineHeight)!==null&&O!==void 0?O:r.setRowLineHeight,this.setRowHeight=(W=I.setRowHeight)!==null&&W!==void 0?W:r.setRowHeight,this.supportDynamicHeights=(U=I.supportDynamicHeights)!==null&&U!==void 0?U:r.supportDynamicHeights,this.dnd=(j=I.dnd)!==null&&j!==void 0?j:r.dnd,this.layout((R=I.initialSize)===null||R===void 0?void 0:R.height,(K=I.initialSize)===null||K===void 0?void 0:K.width)}updateOptions(b){b.paddingBottom!==void 0&&(this.paddingBottom=b.paddingBottom,this.scrollableElement.setScrollDimensions({scrollHeight:this.scrollHeight})),b.smoothScrolling!==void 0&&this.scrollable.setSmoothScrollDuration(b.smoothScrolling?125:0),b.horizontalScrolling!==void 0&&(this.horizontalScrolling=b.horizontalScrolling);let w;if(b.scrollByPage!==void 0&&(w=Object.assign(Object.assign({},w??{}),{scrollByPage:b.scrollByPage})),b.mouseWheelScrollSensitivity!==void 0&&(w=Object.assign(Object.assign({},w??{}),{mouseWheelScrollSensitivity:b.mouseWheelScrollSensitivity})),b.fastScrollSensitivity!==void 0&&(w=Object.assign(Object.assign({},w??{}),{fastScrollSensitivity:b.fastScrollSensitivity})),w&&this.scrollableElement.updateOptions(w),b.paddingTop!==void 0&&b.paddingTop!==this.rangeMap.paddingTop){const E=this.getRenderRange(this.lastRenderTop,this.lastRenderHeight),I=b.paddingTop-this.rangeMap.paddingTop;this.rangeMap.paddingTop=b.paddingTop,this.render(E,Math.max(0,this.lastRenderTop+I),this.lastRenderHeight,void 0,void 0,!0),this.setScrollTop(this.lastRenderTop),this.eventuallyUpdateScrollDimensions(),this.supportDynamicHeights&&this._rerender(this.lastRenderTop,this.lastRenderHeight)}}splice(b,w,E=[]){if(this.splicing)throw new Error("Can't run recursive splices.");this.splicing=!0;try{return this._splice(b,w,E)}finally{this.splicing=!1,this._onDidChangeContentHeight.fire(this.contentHeight)}}_splice(b,w,E=[]){const I=this.getRenderRange(this.lastRenderTop,this.lastRenderHeight),M={start:b,end:b+w},P=i.Range.intersect(I,M),x=new Map;for(let H=P.end-1;H>=P.start;H--){const B=this.items[H];if(B.dragStartDisposable.dispose(),B.checkedDisposable.dispose(),B.row){let V=x.get(B.templateId);V||(V=[],x.set(B.templateId,V));const Y=this.renderers.get(B.templateId);Y&&Y.disposeElement&&Y.disposeElement(B.element,H,B.row.templateData,B.size),V.push(B.row)}B.row=null}const T={start:b+w,end:this.items.length},A=i.Range.intersect(T,I),N=i.Range.relativeComplement(T,I),F=E.map(H=>({id:String(this.itemId++),element:H,templateId:this.virtualDelegate.getTemplateId(H),size:this.virtualDelegate.getHeight(H),width:void 0,hasDynamicHeight:!!this.virtualDelegate.hasDynamicHeight&&this.virtualDelegate.hasDynamicHeight(H),lastDynamicHeightWidth:void 0,row:null,uri:void 0,dropTarget:!1,dragStartDisposable:s.Disposable.None,checkedDisposable:s.Disposable.None}));let O;b===0&&w>=this.items.length?(this.rangeMap=new t.RangeMap(this.rangeMap.paddingTop),this.rangeMap.splice(0,0,F),O=this.items,this.items=F):(this.rangeMap.splice(b,w,F),O=this.items.splice(b,w,...F));const W=E.length-w,U=this.getRenderRange(this.lastRenderTop,this.lastRenderHeight),j=(0,t.shift)(A,W),R=i.Range.intersect(U,j);for(let H=R.start;H<R.end;H++)this.updateItemInDOM(this.items[H],H);const K=i.Range.relativeComplement(j,U);for(const H of K)for(let B=H.start;B<H.end;B++)this.removeItemFromDOM(B);const G=N.map(H=>(0,t.shift)(H,W)),J=[{start:b,end:b+E.length},...G].map(H=>i.Range.intersect(U,H)),X=this.getNextToLastElement(J);for(const H of J)for(let B=H.start;B<H.end;B++){const V=this.items[B],Y=x.get(V.templateId),ie=Y?.pop();this.insertItemInDOM(B,X,ie)}for(const H of x.values())for(const B of H)this.cache.release(B);return this.eventuallyUpdateScrollDimensions(),this.supportDynamicHeights&&this._rerender(this.scrollTop,this.renderHeight),O.map(H=>H.element)}eventuallyUpdateScrollDimensions(){this._scrollHeight=this.contentHeight,this.rowsContainer.style.height=`${this._scrollHeight}px`,this.scrollableElementUpdateDisposable||(this.scrollableElementUpdateDisposable=(0,k.scheduleAtNextAnimationFrame)(()=>{this.scrollableElement.setScrollDimensions({scrollHeight:this.scrollHeight}),this.updateScrollWidth(),this.scrollableElementUpdateDisposable=null}))}eventuallyUpdateScrollWidth(){if(!this.horizontalScrolling){this.scrollableElementWidthDelayer.cancel();return}this.scrollableElementWidthDelayer.trigger(()=>this.updateScrollWidth())}updateScrollWidth(){if(!this.horizontalScrolling)return;let b=0;for(const w of this.items)typeof w.width<"u"&&(b=Math.max(b,w.width));this.scrollWidth=b,this.scrollableElement.setScrollDimensions({scrollWidth:b===0?0:b+10}),this._onDidChangeContentWidth.fire(this.scrollWidth)}rerender(){if(this.supportDynamicHeights){for(const b of this.items)b.lastDynamicHeightWidth=void 0;this._rerender(this.lastRenderTop,this.lastRenderHeight)}}get length(){return this.items.length}get renderHeight(){return this.scrollableElement.getScrollDimensions().height}get firstVisibleIndex(){const b=this.getRenderRange(this.lastRenderTop,this.lastRenderHeight),w=this.rangeMap.positionAt(b.start),E=this.rangeMap.positionAt(b.start+1);return E!==-1&&(E-w)/2+w<this.scrollTop?b.start+1:b.start}element(b){return this.items[b].element}domElement(b){const w=this.items[b].row;return w&&w.domNode}elementHeight(b){return this.items[b].size}elementTop(b){return this.rangeMap.positionAt(b)}indexAt(b){return this.rangeMap.indexAt(b)}indexAfter(b){return this.rangeMap.indexAfter(b)}layout(b,w){const E={height:typeof b=="number"?b:(0,k.getContentHeight)(this.domNode)};this.scrollableElementUpdateDisposable&&(this.scrollableElementUpdateDisposable.dispose(),this.scrollableElementUpdateDisposable=null,E.scrollHeight=this.scrollHeight),this.scrollableElement.setScrollDimensions(E),typeof w<"u"&&(this.renderWidth=w,this.supportDynamicHeights&&this._rerender(this.scrollTop,this.renderHeight)),this.horizontalScrolling&&this.scrollableElement.setScrollDimensions({width:typeof w=="number"?w:(0,k.getContentWidth)(this.domNode)})}render(b,w,E,I,M,P=!1){const x=this.getRenderRange(w,E),T=i.Range.relativeComplement(x,b),A=i.Range.relativeComplement(b,x),N=this.getNextToLastElement(T);if(P){const F=i.Range.intersect(b,x);for(let O=F.start;O<F.end;O++)this.updateItemInDOM(this.items[O],O)}this.cache.transact(()=>{for(const F of A)for(let O=F.start;O<F.end;O++)this.removeItemFromDOM(O);for(const F of T)for(let O=F.start;O<F.end;O++)this.insertItemInDOM(O,N)}),I!==void 0&&(this.rowsContainer.style.left=`-${I}px`),this.rowsContainer.style.top=`-${w}px`,this.horizontalScrolling&&M!==void 0&&(this.rowsContainer.style.width=`${Math.max(M,this.renderWidth)}px`),this.lastRenderTop=w,this.lastRenderHeight=E}insertItemInDOM(b,w,E){const I=this.items[b];let M=!1;if(!I.row)if(E)I.row=E;else{const N=this.cache.alloc(I.templateId);I.row=N.row,M=N.isReusingConnectedDomNode}const P=this.accessibilityProvider.getRole(I.element)||"listitem";I.row.domNode.setAttribute("role",P);const x=this.accessibilityProvider.isChecked(I.element);if(typeof x=="boolean")I.row.domNode.setAttribute("aria-checked",String(!!x));else if(x){const N=F=>I.row.domNode.setAttribute("aria-checked",String(!!F));N(x.value),I.checkedDisposable=x.onDidChange(N)}(M||!I.row.domNode.parentElement)&&(w?this.rowsContainer.insertBefore(I.row.domNode,w):this.rowsContainer.appendChild(I.row.domNode)),this.updateItemInDOM(I,b);const T=this.renderers.get(I.templateId);if(!T)throw new Error(`No renderer found for template id ${I.templateId}`);T?.renderElement(I.element,b,I.row.templateData,I.size);const A=this.dnd.getDragURI(I.element);I.dragStartDisposable.dispose(),I.row.domNode.draggable=!!A,A&&(I.dragStartDisposable=(0,k.addDisposableListener)(I.row.domNode,"dragstart",N=>this.onDragStart(I.element,A,N))),this.horizontalScrolling&&(this.measureItemWidth(I),this.eventuallyUpdateScrollWidth())}measureItemWidth(b){if(!b.row||!b.row.domNode)return;b.row.domNode.style.width="fit-content",b.width=(0,k.getContentWidth)(b.row.domNode);const w=window.getComputedStyle(b.row.domNode);w.paddingLeft&&(b.width+=parseFloat(w.paddingLeft)),w.paddingRight&&(b.width+=parseFloat(w.paddingRight)),b.row.domNode.style.width=""}updateItemInDOM(b,w){b.row.domNode.style.top=`${this.elementTop(w)}px`,this.setRowHeight&&(b.row.domNode.style.height=`${b.size}px`),this.setRowLineHeight&&(b.row.domNode.style.lineHeight=`${b.size}px`),b.row.domNode.setAttribute("data-index",`${w}`),b.row.domNode.setAttribute("data-last-element",w===this.length-1?"true":"false"),b.row.domNode.setAttribute("data-parity",w%2===0?"even":"odd"),b.row.domNode.setAttribute("aria-setsize",String(this.accessibilityProvider.getSetSize(b.element,w,this.length))),b.row.domNode.setAttribute("aria-posinset",String(this.accessibilityProvider.getPosInSet(b.element,w))),b.row.domNode.setAttribute("id",this.getElementDomId(w)),b.row.domNode.classList.toggle("drop-target",b.dropTarget)}removeItemFromDOM(b){const w=this.items[b];if(w.dragStartDisposable.dispose(),w.checkedDisposable.dispose(),w.row){const E=this.renderers.get(w.templateId);E&&E.disposeElement&&E.disposeElement(w.element,b,w.row.templateData,w.size),this.cache.release(w.row),w.row=null}this.horizontalScrolling&&this.eventuallyUpdateScrollWidth()}getScrollTop(){return this.scrollableElement.getScrollPosition().scrollTop}setScrollTop(b,w){this.scrollableElementUpdateDisposable&&(this.scrollableElementUpdateDisposable.dispose(),this.scrollableElementUpdateDisposable=null,this.scrollableElement.setScrollDimensions({scrollHeight:this.scrollHeight})),this.scrollableElement.setScrollPosition({scrollTop:b,reuseAnimation:w})}get scrollTop(){return this.getScrollTop()}set scrollTop(b){this.setScrollTop(b)}get scrollHeight(){return this._scrollHeight+(this.horizontalScrolling?10:0)+this.paddingBottom}get onMouseClick(){return C.Event.map(this.disposables.add(new y.DomEmitter(this.domNode,"click")).event,b=>this.toMouseEvent(b),this.disposables)}get onMouseDblClick(){return C.Event.map(this.disposables.add(new y.DomEmitter(this.domNode,"dblclick")).event,b=>this.toMouseEvent(b),this.disposables)}get onMouseMiddleClick(){return C.Event.filter(C.Event.map(this.disposables.add(new y.DomEmitter(this.domNode,"auxclick")).event,b=>this.toMouseEvent(b),this.disposables),b=>b.browserEvent.button===1,this.disposables)}get onMouseDown(){return C.Event.map(this.disposables.add(new y.DomEmitter(this.domNode,"mousedown")).event,b=>this.toMouseEvent(b),this.disposables)}get onMouseOver(){return C.Event.map(this.disposables.add(new y.DomEmitter(this.domNode,"mouseover")).event,b=>this.toMouseEvent(b),this.disposables)}get onMouseOut(){return C.Event.map(this.disposables.add(new y.DomEmitter(this.domNode,"mouseout")).event,b=>this.toMouseEvent(b),this.disposables)}get onContextMenu(){return C.Event.any(C.Event.map(this.disposables.add(new y.DomEmitter(this.domNode,"contextmenu")).event,b=>this.toMouseEvent(b),this.disposables),C.Event.map(this.disposables.add(new y.DomEmitter(this.domNode,D.EventType.Contextmenu)).event,b=>this.toGestureEvent(b),this.disposables))}get onTouchStart(){return C.Event.map(this.disposables.add(new y.DomEmitter(this.domNode,"touchstart")).event,b=>this.toTouchEvent(b),this.disposables)}get onTap(){return C.Event.map(this.disposables.add(new y.DomEmitter(this.rowsContainer,D.EventType.Tap)).event,b=>this.toGestureEvent(b),this.disposables)}toMouseEvent(b){const w=this.getItemIndexFromEventTarget(b.target||null),E=typeof w>"u"?void 0:this.items[w],I=E&&E.element;return{browserEvent:b,index:w,element:I}}toTouchEvent(b){const w=this.getItemIndexFromEventTarget(b.target||null),E=typeof w>"u"?void 0:this.items[w],I=E&&E.element;return{browserEvent:b,index:w,element:I}}toGestureEvent(b){const w=this.getItemIndexFromEventTarget(b.initialTarget||null),E=typeof w>"u"?void 0:this.items[w],I=E&&E.element;return{browserEvent:b,index:w,element:I}}toDragEvent(b){const w=this.getItemIndexFromEventTarget(b.target||null),E=typeof w>"u"?void 0:this.items[w],I=E&&E.element;return{browserEvent:b,index:w,element:I}}onScroll(b){try{const w=this.getRenderRange(this.lastRenderTop,this.lastRenderHeight);this.render(w,b.scrollTop,b.height,b.scrollLeft,b.scrollWidth),this.supportDynamicHeights&&this._rerender(b.scrollTop,b.height,b.inSmoothScrolling)}catch(w){throw console.error("Got bad scroll event:",b),w}}onTouchChange(b){b.preventDefault(),b.stopPropagation(),this.scrollTop-=b.translationY}onDragStart(b,w,E){var I,M;if(!E.dataTransfer)return;const P=this.dnd.getDragElements(b);if(E.dataTransfer.effectAllowed="copyMove",E.dataTransfer.setData(L.DataTransfers.TEXT,w),E.dataTransfer.setDragImage){let x;this.dnd.getDragLabel&&(x=this.dnd.getDragLabel(P,E)),typeof x>"u"&&(x=String(P.length));const T=(0,k.$)(".monaco-drag-image");T.textContent=x;const N=(F=>{for(;F&&!F.classList.contains("monaco-workbench");)F=F.parentElement;return F||document.body})(this.domNode);N.appendChild(T),E.dataTransfer.setDragImage(T,-10,-10),setTimeout(()=>N.removeChild(T),0)}this.domNode.classList.add("dragging"),this.currentDragData=new c(P),h.CurrentDragAndDropData=new o(P),(M=(I=this.dnd).onDragStart)===null||M===void 0||M.call(I,this.currentDragData,E)}onDragOver(b){var w;if(b.browserEvent.preventDefault(),this.onDragLeaveTimeout.dispose(),h.CurrentDragAndDropData&&h.CurrentDragAndDropData.getData()==="vscode-ui"||(this.setupDragAndDropScrollTopAnimation(b.browserEvent),!b.browserEvent.dataTransfer))return!1;if(!this.currentDragData)if(h.CurrentDragAndDropData)this.currentDragData=h.CurrentDragAndDropData;else{if(!b.browserEvent.dataTransfer.types)return!1;this.currentDragData=new d}const E=this.dnd.onDragOver(this.currentDragData,b.element,b.index,b.browserEvent);if(this.canDrop=typeof E=="boolean"?E:E.accept,!this.canDrop)return this.currentDragFeedback=void 0,this.currentDragFeedbackDisposable.dispose(),!1;b.browserEvent.dataTransfer.dropEffect=typeof E!="boolean"&&E.effect===0?"copy":"move";let I;if(typeof E!="boolean"&&E.feedback?I=E.feedback:typeof b.index>"u"?I=[-1]:I=[b.index],I=(0,f.distinct)(I).filter(M=>M>=-1&&M<this.length).sort((M,P)=>M-P),I=I[0]===-1?[-1]:I,l(this.currentDragFeedback,I))return!0;if(this.currentDragFeedback=I,this.currentDragFeedbackDisposable.dispose(),I[0]===-1)this.domNode.classList.add("drop-target"),this.rowsContainer.classList.add("drop-target"),this.currentDragFeedbackDisposable=(0,s.toDisposable)(()=>{this.domNode.classList.remove("drop-target"),this.rowsContainer.classList.remove("drop-target")});else{for(const M of I){const P=this.items[M];P.dropTarget=!0,(w=P.row)===null||w===void 0||w.domNode.classList.add("drop-target")}this.currentDragFeedbackDisposable=(0,s.toDisposable)(()=>{var M;for(const P of I){const x=this.items[P];x.dropTarget=!1,(M=x.row)===null||M===void 0||M.domNode.classList.remove("drop-target")}})}return!0}onDragLeave(b){var w,E;this.onDragLeaveTimeout.dispose(),this.onDragLeaveTimeout=(0,_.disposableTimeout)(()=>this.clearDragOverFeedback(),100),this.currentDragData&&((E=(w=this.dnd).onDragLeave)===null||E===void 0||E.call(w,this.currentDragData,b.element,b.index,b.browserEvent))}onDrop(b){if(!this.canDrop)return;const w=this.currentDragData;this.teardownDragAndDropScrollTopAnimation(),this.clearDragOverFeedback(),this.domNode.classList.remove("dragging"),this.currentDragData=void 0,h.CurrentDragAndDropData=void 0,!(!w||!b.browserEvent.dataTransfer)&&(b.browserEvent.preventDefault(),w.update(b.browserEvent.dataTransfer),this.dnd.drop(w,b.element,b.index,b.browserEvent))}onDragEnd(b){var w,E;this.canDrop=!1,this.teardownDragAndDropScrollTopAnimation(),this.clearDragOverFeedback(),this.domNode.classList.remove("dragging"),this.currentDragData=void 0,h.CurrentDragAndDropData=void 0,(E=(w=this.dnd).onDragEnd)===null||E===void 0||E.call(w,b)}clearDragOverFeedback(){this.currentDragFeedback=void 0,this.currentDragFeedbackDisposable.dispose(),this.currentDragFeedbackDisposable=s.Disposable.None}setupDragAndDropScrollTopAnimation(b){if(!this.dragOverAnimationDisposable){const w=(0,k.getTopLeftOffset)(this.domNode).top;this.dragOverAnimationDisposable=(0,k.animate)(this.animateDragAndDropScrollTop.bind(this,w))}this.dragOverAnimationStopDisposable.dispose(),this.dragOverAnimationStopDisposable=(0,_.disposableTimeout)(()=>{this.dragOverAnimationDisposable&&(this.dragOverAnimationDisposable.dispose(),this.dragOverAnimationDisposable=void 0)},1e3),this.dragOverMouseY=b.pageY}animateDragAndDropScrollTop(b){if(this.dragOverMouseY===void 0)return;const w=this.dragOverMouseY-b,E=this.renderHeight-35;w<35?this.scrollTop+=Math.max(-14,Math.floor(.3*(w-35))):w>E&&(this.scrollTop+=Math.min(14,Math.floor(.3*(w-E))))}teardownDragAndDropScrollTopAnimation(){this.dragOverAnimationStopDisposable.dispose(),this.dragOverAnimationDisposable&&(this.dragOverAnimationDisposable.dispose(),this.dragOverAnimationDisposable=void 0)}getItemIndexFromEventTarget(b){const w=this.scrollableElement.getDomNode();let E=b;for(;E instanceof HTMLElement&&E!==this.rowsContainer&&w.contains(E);){const I=E.getAttribute("data-index");if(I){const M=Number(I);if(!isNaN(M))return M}E=E.parentElement}}getRenderRange(b,w){return{start:this.rangeMap.indexAt(b),end:this.rangeMap.indexAfter(b+w-1)}}_rerender(b,w,E){const I=this.getRenderRange(b,w);let M,P;b===this.elementTop(I.start)?(M=I.start,P=0):I.end-I.start>1&&(M=I.start+1,P=this.elementTop(M)-b);let x=0;for(;;){const T=this.getRenderRange(b,w);let A=!1;for(let N=T.start;N<T.end;N++){const F=this.probeDynamicHeight(N);F!==0&&this.rangeMap.splice(N,1,[this.items[N]]),x+=F,A=A||F!==0}if(!A){x!==0&&this.eventuallyUpdateScrollDimensions();const N=i.Range.relativeComplement(I,T);for(const O of N)for(let W=O.start;W<O.end;W++)this.items[W].row&&this.removeItemFromDOM(W);const F=i.Range.relativeComplement(T,I);for(const O of F)for(let W=O.start;W<O.end;W++){const U=W+1,j=U<this.items.length?this.items[U].row:null,R=j?j.domNode:null;this.insertItemInDOM(W,R)}for(let O=T.start;O<T.end;O++)this.items[O].row&&this.updateItemInDOM(this.items[O],O);if(typeof M=="number"){const O=this.scrollable.getFutureScrollPosition().scrollTop-b,W=this.elementTop(M)-P+O;this.setScrollTop(W,E)}this._onDidChangeContentHeight.fire(this.contentHeight);return}}}probeDynamicHeight(b){var w,E,I;const M=this.items[b];if(this.virtualDelegate.getDynamicHeight){const A=this.virtualDelegate.getDynamicHeight(M.element);if(A!==null){const N=M.size;return M.size=A,M.lastDynamicHeightWidth=this.renderWidth,A-N}}if(!M.hasDynamicHeight||M.lastDynamicHeightWidth===this.renderWidth||this.virtualDelegate.hasDynamicHeight&&!this.virtualDelegate.hasDynamicHeight(M.element))return 0;const P=M.size;if(M.row)return M.row.domNode.style.height="",M.size=M.row.domNode.offsetHeight,M.lastDynamicHeightWidth=this.renderWidth,M.size-P;const{row:x}=this.cache.alloc(M.templateId);x.domNode.style.height="",this.rowsContainer.appendChild(x.domNode);const T=this.renderers.get(M.templateId);if(!T)throw new u.BugIndicatingError("Missing renderer for templateId: "+M.templateId);return T.renderElement(M.element,b,x.templateData,void 0),M.size=x.domNode.offsetHeight,(w=T.disposeElement)===null||w===void 0||w.call(T,M.element,b,x.templateData,void 0),(I=(E=this.virtualDelegate).setDynamicHeight)===null||I===void 0||I.call(E,M.element,M.size),M.lastDynamicHeightWidth=this.renderWidth,this.rowsContainer.removeChild(x.domNode),this.cache.release(x),M.size-P}getNextToLastElement(b){const w=b[b.length-1];if(!w)return null;const E=this.items[w.end];return!E||!E.row?null:E.row.domNode}getElementDomId(b){return`${this.domId}_${b}`}dispose(){var b;if(this.items){for(const w of this.items)if(w.row){const E=this.renderers.get(w.row.templateId);E&&((b=E.disposeElement)===null||b===void 0||b.call(E,w.element,-1,w.row.templateData,void 0),E.disposeTemplate(w.row.templateData))}this.items=[]}this.domNode&&this.domNode.parentNode&&this.domNode.parentNode.removeChild(this.domNode),(0,s.dispose)(this.disposables)}}e.ListView=m,m.InstanceCount=0,ke([g.memoize],m.prototype,"onMouseClick",null),ke([g.memoize],m.prototype,"onMouseDblClick",null),ke([g.memoize],m.prototype,"onMouseMiddleClick",null),ke([g.memoize],m.prototype,"onMouseDown",null),ke([g.memoize],m.prototype,"onMouseOver",null),ke([g.memoize],m.prototype,"onMouseOut",null),ke([g.memoize],m.prototype,"onContextMenu",null),ke([g.memoize],m.prototype,"onTouchStart",null),ke([g.memoize],m.prototype,"onTap",null)}),define(ne[114],se([1,0,7,81,44,61,49,382,14,13,38,106,6,72,2,141,17,20,381,225,60,268]),function(Q,e,L,k,y,D,S,f,_,g,C,s,i,n,t,a,u,h,r,c,o){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.List=e.unthemedListStyles=e.DefaultStyleController=e.MouseController=e.isSelectionRangeChangeEvent=e.isSelectionSingleChangeEvent=e.DefaultKeyboardNavigationDelegate=e.TypeNavigationMode=e.isButton=e.isMonacoEditor=e.isInputElement=void 0;class d{constructor(V){this.trait=V,this.renderedElements=[]}get templateId(){return`template:${this.trait.name}`}renderTemplate(V){return V}renderElement(V,Y,ie){const ae=this.renderedElements.findIndex(ce=>ce.templateData===ie);if(ae>=0){const ce=this.renderedElements[ae];this.trait.unrender(ie),ce.index=Y}else{const ce={index:Y,templateData:ie};this.renderedElements.push(ce)}this.trait.renderIndex(Y,ie)}splice(V,Y,ie){const ae=[];for(const ce of this.renderedElements)ce.index<V?ae.push(ce):ce.index>=V+Y&&ae.push({index:ce.index+ie-Y,templateData:ce.templateData});this.renderedElements=ae}renderIndexes(V){for(const{index:Y,templateData:ie}of this.renderedElements)V.indexOf(Y)>-1&&this.trait.renderIndex(Y,ie)}disposeTemplate(V){const Y=this.renderedElements.findIndex(ie=>ie.templateData===V);Y<0||this.renderedElements.splice(Y,1)}}class l{get name(){return this._trait}get renderer(){return new d(this)}constructor(V){this._trait=V,this.length=0,this.indexes=[],this.sortedIndexes=[],this._onChange=new i.Emitter,this.onChange=this._onChange.event}splice(V,Y,ie){var ae;Y=Math.max(0,Math.min(Y,this.length-V));const ce=ie.length-Y,de=V+Y,he=[];let ue=0;for(;ue<this.sortedIndexes.length&&this.sortedIndexes[ue]<V;)he.push(this.sortedIndexes[ue++]);for(let q=0;q<ie.length;q++)ie[q]&&he.push(q+V);for(;ue<this.sortedIndexes.length&&this.sortedIndexes[ue]>=de;)he.push(this.sortedIndexes[ue++]+ce);const te=this.length+ce;if(this.sortedIndexes.length>0&&he.length===0&&te>0){const q=(ae=this.sortedIndexes.find(z=>z>=V))!==null&&ae!==void 0?ae:te-1;he.push(Math.min(q,te-1))}this.renderer.splice(V,Y,ie.length),this._set(he,he),this.length=te}renderIndex(V,Y){Y.classList.toggle(this._trait,this.contains(V))}unrender(V){V.classList.remove(this._trait)}set(V,Y){return this._set(V,[...V].sort(G),Y)}_set(V,Y,ie){const ae=this.indexes,ce=this.sortedIndexes;this.indexes=V,this.sortedIndexes=Y;const de=R(ce,V);return this.renderer.renderIndexes(de),this._onChange.fire({indexes:V,browserEvent:ie}),ae}get(){return this.indexes}contains(V){return(0,_.binarySearch)(this.sortedIndexes,V,G)>=0}dispose(){(0,t.dispose)(this._onChange)}}ke([s.memoize],l.prototype,"renderer",null);class p extends l{constructor(V){super("selected"),this.setAriaSelected=V}renderIndex(V,Y){super.renderIndex(V,Y),this.setAriaSelected&&(this.contains(V)?Y.setAttribute("aria-selected","true"):Y.setAttribute("aria-selected","false"))}}class m{constructor(V,Y,ie){this.trait=V,this.view=Y,this.identityProvider=ie}splice(V,Y,ie){if(!this.identityProvider)return this.trait.splice(V,Y,new Array(ie.length).fill(!1));const ae=this.trait.get().map(he=>this.identityProvider.getId(this.view.element(he)).toString());if(ae.length===0)return this.trait.splice(V,Y,new Array(ie.length).fill(!1));const ce=new Set(ae),de=ie.map(he=>ce.has(this.identityProvider.getId(he).toString()));this.trait.splice(V,Y,de)}}function v(B){return B.tagName==="INPUT"||B.tagName==="TEXTAREA"}e.isInputElement=v;function b(B){return B.classList.contains("monaco-editor")?!0:B.classList.contains("monaco-list")||!B.parentElement?!1:b(B.parentElement)}e.isMonacoEditor=b;function w(B){return B.tagName==="A"&&B.classList.contains("monaco-button")||B.tagName==="DIV"&&B.classList.contains("monaco-button-dropdown")?!0:B.classList.contains("monaco-list")||!B.parentElement?!1:w(B.parentElement)}e.isButton=w;class E{get onKeyDown(){return this.disposables.add(i.Event.chain(this.disposables.add(new k.DomEmitter(this.view.domNode,"keydown")).event).filter(V=>!v(V.target)).map(V=>new y.StandardKeyboardEvent(V)))}constructor(V,Y,ie){this.list=V,this.view=Y,this.disposables=new t.DisposableStore,this.multipleSelectionDisposables=new t.DisposableStore,this.onKeyDown.filter(ae=>ae.keyCode===3).on(this.onEnter,this,this.disposables),this.onKeyDown.filter(ae=>ae.keyCode===16).on(this.onUpArrow,this,this.disposables),this.onKeyDown.filter(ae=>ae.keyCode===18).on(this.onDownArrow,this,this.disposables),this.onKeyDown.filter(ae=>ae.keyCode===11).on(this.onPageUpArrow,this,this.disposables),this.onKeyDown.filter(ae=>ae.keyCode===12).on(this.onPageDownArrow,this,this.disposables),this.onKeyDown.filter(ae=>ae.keyCode===9).on(this.onEscape,this,this.disposables),ie.multipleSelectionSupport!==!1&&this.onKeyDown.filter(ae=>(u.isMacintosh?ae.metaKey:ae.ctrlKey)&&ae.keyCode===31).on(this.onCtrlA,this,this.multipleSelectionDisposables)}updateOptions(V){V.multipleSelectionSupport!==void 0&&(this.multipleSelectionDisposables.clear(),V.multipleSelectionSupport&&this.onKeyDown.filter(Y=>(u.isMacintosh?Y.metaKey:Y.ctrlKey)&&Y.keyCode===31).on(this.onCtrlA,this,this.multipleSelectionDisposables))}onEnter(V){V.preventDefault(),V.stopPropagation(),this.list.setSelection(this.list.getFocus(),V.browserEvent)}onUpArrow(V){V.preventDefault(),V.stopPropagation(),this.list.focusPrevious(1,!1,V.browserEvent);const Y=this.list.getFocus()[0];this.list.setAnchor(Y),this.list.reveal(Y),this.view.domNode.focus()}onDownArrow(V){V.preventDefault(),V.stopPropagation(),this.list.focusNext(1,!1,V.browserEvent);const Y=this.list.getFocus()[0];this.list.setAnchor(Y),this.list.reveal(Y),this.view.domNode.focus()}onPageUpArrow(V){V.preventDefault(),V.stopPropagation(),this.list.focusPreviousPage(V.browserEvent);const Y=this.list.getFocus()[0];this.list.setAnchor(Y),this.list.reveal(Y),this.view.domNode.focus()}onPageDownArrow(V){V.preventDefault(),V.stopPropagation(),this.list.focusNextPage(V.browserEvent);const Y=this.list.getFocus()[0];this.list.setAnchor(Y),this.list.reveal(Y),this.view.domNode.focus()}onCtrlA(V){V.preventDefault(),V.stopPropagation(),this.list.setSelection((0,_.range)(this.list.length),V.browserEvent),this.list.setAnchor(void 0),this.view.domNode.focus()}onEscape(V){this.list.getSelection().length&&(V.preventDefault(),V.stopPropagation(),this.list.setSelection([],V.browserEvent),this.list.setAnchor(void 0),this.view.domNode.focus())}dispose(){this.disposables.dispose(),this.multipleSelectionDisposables.dispose()}}ke([s.memoize],E.prototype,"onKeyDown",null);var I;(function(B){B[B.Automatic=0]="Automatic",B[B.Trigger=1]="Trigger"})(I||(e.TypeNavigationMode=I={}));var M;(function(B){B[B.Idle=0]="Idle",B[B.Typing=1]="Typing"})(M||(M={})),e.DefaultKeyboardNavigationDelegate=new class{mightProducePrintableCharacter(B){return B.ctrlKey||B.metaKey||B.altKey?!1:B.keyCode>=31&&B.keyCode<=56||B.keyCode>=21&&B.keyCode<=30||B.keyCode>=98&&B.keyCode<=107||B.keyCode>=85&&B.keyCode<=95}};class P{constructor(V,Y,ie,ae,ce){this.list=V,this.view=Y,this.keyboardNavigationLabelProvider=ie,this.keyboardNavigationEventFilter=ae,this.delegate=ce,this.enabled=!1,this.state=M.Idle,this.mode=I.Automatic,this.triggered=!1,this.previouslyFocused=-1,this.enabledDisposables=new t.DisposableStore,this.disposables=new t.DisposableStore,this.updateOptions(V.options)}updateOptions(V){var Y,ie;!((Y=V.typeNavigationEnabled)!==null&&Y!==void 0)||Y?this.enable():this.disable(),this.mode=(ie=V.typeNavigationMode)!==null&&ie!==void 0?ie:I.Automatic}enable(){if(this.enabled)return;let V=!1;const Y=this.enabledDisposables.add(i.Event.chain(this.enabledDisposables.add(new k.DomEmitter(this.view.domNode,"keydown")).event)).filter(ce=>!v(ce.target)).filter(()=>this.mode===I.Automatic||this.triggered).map(ce=>new y.StandardKeyboardEvent(ce)).filter(ce=>V||this.keyboardNavigationEventFilter(ce)).filter(ce=>this.delegate.mightProducePrintableCharacter(ce)).forEach(ce=>L.EventHelper.stop(ce,!0)).map(ce=>ce.browserEvent.key).event,ie=i.Event.debounce(Y,()=>null,800,void 0,void 0,void 0,this.enabledDisposables);i.Event.reduce(i.Event.any(Y,ie),(ce,de)=>de===null?null:(ce||"")+de,void 0,this.enabledDisposables)(this.onInput,this,this.enabledDisposables),ie(this.onClear,this,this.enabledDisposables),Y(()=>V=!0,void 0,this.enabledDisposables),ie(()=>V=!1,void 0,this.enabledDisposables),this.enabled=!0,this.triggered=!1}disable(){this.enabled&&(this.enabledDisposables.clear(),this.enabled=!1,this.triggered=!1)}onClear(){var V;const Y=this.list.getFocus();if(Y.length>0&&Y[0]===this.previouslyFocused){const ie=(V=this.list.options.accessibilityProvider)===null||V===void 0?void 0:V.getAriaLabel(this.list.element(Y[0]));ie&&(0,S.alert)(ie)}this.previouslyFocused=-1}onInput(V){if(!V){this.state=M.Idle,this.triggered=!1;return}const Y=this.list.getFocus(),ie=Y.length>0?Y[0]:0,ae=this.state===M.Idle?1:0;this.state=M.Typing;for(let ce=0;ce<this.list.length;ce++){const de=(ie+ce+ae)%this.list.length,he=this.keyboardNavigationLabelProvider.getKeyboardNavigationLabel(this.view.element(de)),ue=he&&he.toString();if(this.list.options.typeNavigationEnabled){if(typeof ue<"u"){const te=(0,n.matchesPrefix)(V,ue),q=(0,n.matchesFuzzy2)(V,ue);if(q){const z=q[0].end-q[0].start;if(te||z>1&&q.length===1){this.previouslyFocused=ie,this.list.setFocus([de]),this.list.reveal(de);return}}}}else if(typeof ue>"u"||(0,n.matchesPrefix)(V,ue)){this.previouslyFocused=ie,this.list.setFocus([de]),this.list.reveal(de);return}}}dispose(){this.disable(),this.enabledDisposables.dispose(),this.disposables.dispose()}}class x{constructor(V,Y){this.list=V,this.view=Y,this.disposables=new t.DisposableStore,this.disposables.add(i.Event.chain(this.disposables.add(new k.DomEmitter(Y.domNode,"keydown")).event)).filter(ae=>!v(ae.target)).map(ae=>new y.StandardKeyboardEvent(ae)).filter(ae=>ae.keyCode===2&&!ae.ctrlKey&&!ae.metaKey&&!ae.shiftKey&&!ae.altKey).on(this.onTab,this,this.disposables)}onTab(V){if(V.target!==this.view.domNode)return;const Y=this.list.getFocus();if(Y.length===0)return;const ie=this.view.domElement(Y[0]);if(!ie)return;const ae=ie.querySelector("[tabIndex]");if(!ae||!(ae instanceof HTMLElement)||ae.tabIndex===-1)return;const ce=window.getComputedStyle(ae);ce.visibility==="hidden"||ce.display==="none"||(V.preventDefault(),V.stopPropagation(),ae.focus())}dispose(){this.disposables.dispose()}}function T(B){return u.isMacintosh?B.browserEvent.metaKey:B.browserEvent.ctrlKey}e.isSelectionSingleChangeEvent=T;function A(B){return B.browserEvent.shiftKey}e.isSelectionRangeChangeEvent=A;function N(B){return B instanceof MouseEvent&&B.button===2}const F={isSelectionSingleChangeEvent:T,isSelectionRangeChangeEvent:A};class O{constructor(V){this.list=V,this.disposables=new t.DisposableStore,this._onPointer=new i.Emitter,this.onPointer=this._onPointer.event,V.options.multipleSelectionSupport!==!1&&(this.multipleSelectionController=this.list.options.multipleSelectionController||F),this.mouseSupport=typeof V.options.mouseSupport>"u"||!!V.options.mouseSupport,this.mouseSupport&&(V.onMouseDown(this.onMouseDown,this,this.disposables),V.onContextMenu(this.onContextMenu,this,this.disposables),V.onMouseDblClick(this.onDoubleClick,this,this.disposables),V.onTouchStart(this.onMouseDown,this,this.disposables),this.disposables.add(D.Gesture.addTarget(V.getHTMLElement()))),i.Event.any(V.onMouseClick,V.onMouseMiddleClick,V.onTap)(this.onViewPointer,this,this.disposables)}updateOptions(V){V.multipleSelectionSupport!==void 0&&(this.multipleSelectionController=void 0,V.multipleSelectionSupport&&(this.multipleSelectionController=this.list.options.multipleSelectionController||F))}isSelectionSingleChangeEvent(V){return this.multipleSelectionController?this.multipleSelectionController.isSelectionSingleChangeEvent(V):!1}isSelectionRangeChangeEvent(V){return this.multipleSelectionController?this.multipleSelectionController.isSelectionRangeChangeEvent(V):!1}isSelectionChangeEvent(V){return this.isSelectionSingleChangeEvent(V)||this.isSelectionRangeChangeEvent(V)}onMouseDown(V){b(V.browserEvent.target)||document.activeElement!==V.browserEvent.target&&this.list.domFocus()}onContextMenu(V){if(v(V.browserEvent.target)||b(V.browserEvent.target))return;const Y=typeof V.index>"u"?[]:[V.index];this.list.setFocus(Y,V.browserEvent)}onViewPointer(V){if(!this.mouseSupport||v(V.browserEvent.target)||b(V.browserEvent.target)||V.browserEvent.isHandledByList)return;V.browserEvent.isHandledByList=!0;const Y=V.index;if(typeof Y>"u"){this.list.setFocus([],V.browserEvent),this.list.setSelection([],V.browserEvent),this.list.setAnchor(void 0);return}if(this.isSelectionChangeEvent(V))return this.changeSelection(V);this.list.setFocus([Y],V.browserEvent),this.list.setAnchor(Y),N(V.browserEvent)||this.list.setSelection([Y],V.browserEvent),this._onPointer.fire(V)}onDoubleClick(V){if(v(V.browserEvent.target)||b(V.browserEvent.target)||this.isSelectionChangeEvent(V)||V.browserEvent.isHandledByList)return;V.browserEvent.isHandledByList=!0;const Y=this.list.getFocus();this.list.setSelection(Y,V.browserEvent)}changeSelection(V){const Y=V.index;let ie=this.list.getAnchor();if(this.isSelectionRangeChangeEvent(V)){if(typeof ie>"u"){const q=this.list.getFocus()[0];ie=q??Y,this.list.setAnchor(ie)}const ae=Math.min(ie,Y),ce=Math.max(ie,Y),de=(0,_.range)(ae,ce+1),he=this.list.getSelection(),ue=j(R(he,[ie]),ie);if(ue.length===0)return;const te=R(de,K(he,ue));this.list.setSelection(te,V.browserEvent),this.list.setFocus([Y],V.browserEvent)}else if(this.isSelectionSingleChangeEvent(V)){const ae=this.list.getSelection(),ce=ae.filter(de=>de!==Y);this.list.setFocus([Y]),this.list.setAnchor(Y),ae.length===ce.length?this.list.setSelection([...ce,Y],V.browserEvent):this.list.setSelection(ce,V.browserEvent)}}dispose(){this.disposables.dispose()}}e.MouseController=O;class W{constructor(V,Y){this.styleElement=V,this.selectorSuffix=Y}style(V){var Y,ie;const ae=this.selectorSuffix&&`.${this.selectorSuffix}`,ce=[];V.listBackground&&ce.push(`.monaco-list${ae} .monaco-list-rows { background: ${V.listBackground}; }`),V.listFocusBackground&&(ce.push(`.monaco-list${ae}:focus .monaco-list-row.focused { background-color: ${V.listFocusBackground}; }`),ce.push(`.monaco-list${ae}:focus .monaco-list-row.focused:hover { background-color: ${V.listFocusBackground}; }`)),V.listFocusForeground&&ce.push(`.monaco-list${ae}:focus .monaco-list-row.focused { color: ${V.listFocusForeground}; }`),V.listActiveSelectionBackground&&(ce.push(`.monaco-list${ae}:focus .monaco-list-row.selected { background-color: ${V.listActiveSelectionBackground}; }`),ce.push(`.monaco-list${ae}:focus .monaco-list-row.selected:hover { background-color: ${V.listActiveSelectionBackground}; }`)),V.listActiveSelectionForeground&&ce.push(`.monaco-list${ae}:focus .monaco-list-row.selected { color: ${V.listActiveSelectionForeground}; }`),V.listActiveSelectionIconForeground&&ce.push(`.monaco-list${ae}:focus .monaco-list-row.selected .codicon { color: ${V.listActiveSelectionIconForeground}; }`),V.listFocusAndSelectionBackground&&ce.push(`
				.monaco-drag-image,
				.monaco-list${ae}:focus .monaco-list-row.selected.focused { background-color: ${V.listFocusAndSelectionBackground}; }
			`),V.listFocusAndSelectionForeground&&ce.push(`
				.monaco-drag-image,
				.monaco-list${ae}:focus .monaco-list-row.selected.focused { color: ${V.listFocusAndSelectionForeground}; }
			`),V.listInactiveFocusForeground&&(ce.push(`.monaco-list${ae} .monaco-list-row.focused { color:  ${V.listInactiveFocusForeground}; }`),ce.push(`.monaco-list${ae} .monaco-list-row.focused:hover { color:  ${V.listInactiveFocusForeground}; }`)),V.listInactiveSelectionIconForeground&&ce.push(`.monaco-list${ae} .monaco-list-row.focused .codicon { color:  ${V.listInactiveSelectionIconForeground}; }`),V.listInactiveFocusBackground&&(ce.push(`.monaco-list${ae} .monaco-list-row.focused { background-color:  ${V.listInactiveFocusBackground}; }`),ce.push(`.monaco-list${ae} .monaco-list-row.focused:hover { background-color:  ${V.listInactiveFocusBackground}; }`)),V.listInactiveSelectionBackground&&(ce.push(`.monaco-list${ae} .monaco-list-row.selected { background-color:  ${V.listInactiveSelectionBackground}; }`),ce.push(`.monaco-list${ae} .monaco-list-row.selected:hover { background-color:  ${V.listInactiveSelectionBackground}; }`)),V.listInactiveSelectionForeground&&ce.push(`.monaco-list${ae} .monaco-list-row.selected { color: ${V.listInactiveSelectionForeground}; }`),V.listHoverBackground&&ce.push(`.monaco-list${ae}:not(.drop-target):not(.dragging) .monaco-list-row:hover:not(.selected):not(.focused) { background-color: ${V.listHoverBackground}; }`),V.listHoverForeground&&ce.push(`.monaco-list${ae}:not(.drop-target):not(.dragging) .monaco-list-row:hover:not(.selected):not(.focused) { color:  ${V.listHoverForeground}; }`);const de=(0,L.asCssValueWithDefault)(V.listFocusAndSelectionOutline,(0,L.asCssValueWithDefault)(V.listSelectionOutline,(Y=V.listFocusOutline)!==null&&Y!==void 0?Y:""));de&&ce.push(`.monaco-list${ae}:focus .monaco-list-row.focused.selected { outline: 1px solid ${de}; outline-offset: -1px;}`),V.listFocusOutline&&ce.push(`
				.monaco-drag-image,
				.monaco-list${ae}:focus .monaco-list-row.focused { outline: 1px solid ${V.listFocusOutline}; outline-offset: -1px; }
				.monaco-workbench.context-menu-visible .monaco-list${ae}.last-focused .monaco-list-row.focused { outline: 1px solid ${V.listFocusOutline}; outline-offset: -1px; }
			`);const he=(0,L.asCssValueWithDefault)(V.listSelectionOutline,(ie=V.listInactiveFocusOutline)!==null&&ie!==void 0?ie:"");he&&ce.push(`.monaco-list${ae} .monaco-list-row.focused.selected { outline: 1px dotted ${he}; outline-offset: -1px; }`),V.listSelectionOutline&&ce.push(`.monaco-list${ae} .monaco-list-row.selected { outline: 1px dotted ${V.listSelectionOutline}; outline-offset: -1px; }`),V.listInactiveFocusOutline&&ce.push(`.monaco-list${ae} .monaco-list-row.focused { outline: 1px dotted ${V.listInactiveFocusOutline}; outline-offset: -1px; }`),V.listHoverOutline&&ce.push(`.monaco-list${ae} .monaco-list-row:hover { outline: 1px dashed ${V.listHoverOutline}; outline-offset: -1px; }`),V.listDropBackground&&ce.push(`
				.monaco-list${ae}.drop-target,
				.monaco-list${ae} .monaco-list-rows.drop-target,
				.monaco-list${ae} .monaco-list-row.drop-target { background-color: ${V.listDropBackground} !important; color: inherit !important; }
			`),V.tableColumnsBorder&&ce.push(`
				.monaco-table > .monaco-split-view2,
				.monaco-table > .monaco-split-view2 .monaco-sash.vertical::before,
				.monaco-workbench:not(.reduce-motion) .monaco-table:hover > .monaco-split-view2,
				.monaco-workbench:not(.reduce-motion) .monaco-table:hover > .monaco-split-view2 .monaco-sash.vertical::before {
					border-color: ${V.tableColumnsBorder};
				}

				.monaco-workbench:not(.reduce-motion) .monaco-table > .monaco-split-view2,
				.monaco-workbench:not(.reduce-motion) .monaco-table > .monaco-split-view2 .monaco-sash.vertical::before {
					border-color: transparent;
				}
			`),V.tableOddRowsBackgroundColor&&ce.push(`
				.monaco-table .monaco-list-row[data-parity=odd]:not(.focused):not(.selected):not(:hover) .monaco-table-tr,
				.monaco-table .monaco-list:not(:focus) .monaco-list-row[data-parity=odd].focused:not(.selected):not(:hover) .monaco-table-tr,
				.monaco-table .monaco-list:not(.focused) .monaco-list-row[data-parity=odd].focused:not(.selected):not(:hover) .monaco-table-tr {
					background-color: ${V.tableOddRowsBackgroundColor};
				}
			`),this.styleElement.textContent=ce.join(`
`)}}e.DefaultStyleController=W,e.unthemedListStyles={listFocusBackground:"#7FB0D0",listActiveSelectionBackground:"#0E639C",listActiveSelectionForeground:"#FFFFFF",listActiveSelectionIconForeground:"#FFFFFF",listFocusAndSelectionOutline:"#90C2F9",listFocusAndSelectionBackground:"#094771",listFocusAndSelectionForeground:"#FFFFFF",listInactiveSelectionBackground:"#3F3F46",listInactiveSelectionIconForeground:"#FFFFFF",listHoverBackground:"#2A2D2E",listDropBackground:"#383B3D",treeIndentGuidesStroke:"#a9a9a9",treeInactiveIndentGuidesStroke:C.Color.fromHex("#a9a9a9").transparent(.4).toString(),tableColumnsBorder:C.Color.fromHex("#cccccc").transparent(.2).toString(),tableOddRowsBackgroundColor:C.Color.fromHex("#cccccc").transparent(.04).toString(),listBackground:void 0,listFocusForeground:void 0,listInactiveSelectionForeground:void 0,listInactiveFocusForeground:void 0,listInactiveFocusBackground:void 0,listHoverForeground:void 0,listFocusOutline:void 0,listInactiveFocusOutline:void 0,listSelectionOutline:void 0,listHoverOutline:void 0};const U={keyboardSupport:!0,mouseSupport:!0,multipleSelectionSupport:!0,dnd:{getDragURI(){return null},onDragStart(){},onDragOver(){return!1},drop(){}}};function j(B,V){const Y=B.indexOf(V);if(Y===-1)return[];const ie=[];let ae=Y-1;for(;ae>=0&&B[ae]===V-(Y-ae);)ie.push(B[ae--]);for(ie.reverse(),ae=Y;ae<B.length&&B[ae]===V+(ae-Y);)ie.push(B[ae++]);return ie}function R(B,V){const Y=[];let ie=0,ae=0;for(;ie<B.length||ae<V.length;)if(ie>=B.length)Y.push(V[ae++]);else if(ae>=V.length)Y.push(B[ie++]);else if(B[ie]===V[ae]){Y.push(B[ie]),ie++,ae++;continue}else B[ie]<V[ae]?Y.push(B[ie++]):Y.push(V[ae++]);return Y}function K(B,V){const Y=[];let ie=0,ae=0;for(;ie<B.length||ae<V.length;)if(ie>=B.length)Y.push(V[ae++]);else if(ae>=V.length)Y.push(B[ie++]);else if(B[ie]===V[ae]){ie++,ae++;continue}else B[ie]<V[ae]?Y.push(B[ie++]):ae++;return Y}const G=(B,V)=>B-V;class Z{constructor(V,Y){this._templateId=V,this.renderers=Y}get templateId(){return this._templateId}renderTemplate(V){return this.renderers.map(Y=>Y.renderTemplate(V))}renderElement(V,Y,ie,ae){let ce=0;for(const de of this.renderers)de.renderElement(V,Y,ie[ce++],ae)}disposeElement(V,Y,ie,ae){var ce;let de=0;for(const he of this.renderers)(ce=he.disposeElement)===null||ce===void 0||ce.call(he,V,Y,ie[de],ae),de+=1}disposeTemplate(V){let Y=0;for(const ie of this.renderers)ie.disposeTemplate(V[Y++])}}class J{constructor(V){this.accessibilityProvider=V,this.templateId="a18n"}renderTemplate(V){return V}renderElement(V,Y,ie){const ae=this.accessibilityProvider.getAriaLabel(V);ae?ie.setAttribute("aria-label",ae):ie.removeAttribute("aria-label");const ce=this.accessibilityProvider.getAriaLevel&&this.accessibilityProvider.getAriaLevel(V);typeof ce=="number"?ie.setAttribute("aria-level",`${ce}`):ie.removeAttribute("aria-level")}disposeTemplate(V){}}class X{constructor(V,Y){this.list=V,this.dnd=Y}getDragElements(V){const Y=this.list.getSelectedElements();return Y.indexOf(V)>-1?Y:[V]}getDragURI(V){return this.dnd.getDragURI(V)}getDragLabel(V,Y){if(this.dnd.getDragLabel)return this.dnd.getDragLabel(V,Y)}onDragStart(V,Y){var ie,ae;(ae=(ie=this.dnd).onDragStart)===null||ae===void 0||ae.call(ie,V,Y)}onDragOver(V,Y,ie,ae){return this.dnd.onDragOver(V,Y,ie,ae)}onDragLeave(V,Y,ie,ae){var ce,de;(de=(ce=this.dnd).onDragLeave)===null||de===void 0||de.call(ce,V,Y,ie,ae)}onDragEnd(V){var Y,ie;(ie=(Y=this.dnd).onDragEnd)===null||ie===void 0||ie.call(Y,V)}drop(V,Y,ie,ae){this.dnd.drop(V,Y,ie,ae)}}class H{get onDidChangeFocus(){return i.Event.map(this.eventBufferer.wrapEvent(this.focus.onChange),V=>this.toListEvent(V),this.disposables)}get onDidChangeSelection(){return i.Event.map(this.eventBufferer.wrapEvent(this.selection.onChange),V=>this.toListEvent(V),this.disposables)}get domId(){return this.view.domId}get onDidScroll(){return this.view.onDidScroll}get onMouseClick(){return this.view.onMouseClick}get onMouseDblClick(){return this.view.onMouseDblClick}get onMouseMiddleClick(){return this.view.onMouseMiddleClick}get onPointer(){return this.mouseController.onPointer}get onMouseDown(){return this.view.onMouseDown}get onMouseOver(){return this.view.onMouseOver}get onMouseOut(){return this.view.onMouseOut}get onTouchStart(){return this.view.onTouchStart}get onTap(){return this.view.onTap}get onContextMenu(){let V=!1;const Y=this.disposables.add(i.Event.chain(this.disposables.add(new k.DomEmitter(this.view.domNode,"keydown")).event)).map(ce=>new y.StandardKeyboardEvent(ce)).filter(ce=>V=ce.keyCode===58||ce.shiftKey&&ce.keyCode===68).map(ce=>L.EventHelper.stop(ce,!0)).filter(()=>!1).event,ie=this.disposables.add(i.Event.chain(this.disposables.add(new k.DomEmitter(this.view.domNode,"keyup")).event)).forEach(()=>V=!1).map(ce=>new y.StandardKeyboardEvent(ce)).filter(ce=>ce.keyCode===58||ce.shiftKey&&ce.keyCode===68).map(ce=>L.EventHelper.stop(ce,!0)).map(({browserEvent:ce})=>{const de=this.getFocus(),he=de.length?de[0]:void 0,ue=typeof he<"u"?this.view.element(he):void 0,te=typeof he<"u"?this.view.domElement(he):this.view.domNode;return{index:he,element:ue,anchor:te,browserEvent:ce}}).event,ae=this.disposables.add(i.Event.chain(this.view.onContextMenu)).filter(ce=>!V).map(({element:ce,index:de,browserEvent:he})=>({element:ce,index:de,anchor:new o.StandardMouseEvent(he),browserEvent:he})).event;return i.Event.any(Y,ie,ae)}get onKeyDown(){return this.disposables.add(new k.DomEmitter(this.view.domNode,"keydown")).event}get onDidFocus(){return i.Event.signal(this.disposables.add(new k.DomEmitter(this.view.domNode,"focus",!0)).event)}constructor(V,Y,ie,ae,ce=U){var de,he,ue,te;this.user=V,this._options=ce,this.focus=new l("focused"),this.anchor=new l("anchor"),this.eventBufferer=new i.EventBufferer,this._ariaLabel="",this.disposables=new t.DisposableStore,this._onDidDispose=new i.Emitter,this.onDidDispose=this._onDidDispose.event;const q=this._options.accessibilityProvider&&this._options.accessibilityProvider.getWidgetRole?(de=this._options.accessibilityProvider)===null||de===void 0?void 0:de.getWidgetRole():"list";this.selection=new p(q!=="listbox");const z=[this.focus.renderer,this.selection.renderer];this.accessibilityProvider=ce.accessibilityProvider,this.accessibilityProvider&&(z.push(new J(this.accessibilityProvider)),(ue=(he=this.accessibilityProvider).onDidChangeActiveDescendant)===null||ue===void 0||ue.call(he,this.onDidChangeActiveDescendant,this,this.disposables)),ae=ae.map($=>new Z($.templateId,[...z,$]));const ee=Object.assign(Object.assign({},ce),{dnd:ce.dnd&&new X(this,ce.dnd)});if(this.view=this.createListView(Y,ie,ae,ee),this.view.domNode.setAttribute("role",q),ce.styleController)this.styleController=ce.styleController(this.view.domId);else{const $=(0,L.createStyleSheet)(this.view.domNode);this.styleController=new W($,this.view.domId)}if(this.spliceable=new f.CombinedSpliceable([new m(this.focus,this.view,ce.identityProvider),new m(this.selection,this.view,ce.identityProvider),new m(this.anchor,this.view,ce.identityProvider),this.view]),this.disposables.add(this.focus),this.disposables.add(this.selection),this.disposables.add(this.anchor),this.disposables.add(this.view),this.disposables.add(this._onDidDispose),this.disposables.add(new x(this,this.view)),(typeof ce.keyboardSupport!="boolean"||ce.keyboardSupport)&&(this.keyboardController=new E(this,this.view,ce),this.disposables.add(this.keyboardController)),ce.keyboardNavigationLabelProvider){const $=ce.keyboardNavigationDelegate||e.DefaultKeyboardNavigationDelegate;this.typeNavigationController=new P(this,this.view,ce.keyboardNavigationLabelProvider,(te=ce.keyboardNavigationEventFilter)!==null&&te!==void 0?te:()=>!0,$),this.disposables.add(this.typeNavigationController)}this.mouseController=this.createMouseController(ce),this.disposables.add(this.mouseController),this.onDidChangeFocus(this._onFocusChange,this,this.disposables),this.onDidChangeSelection(this._onSelectionChange,this,this.disposables),this.accessibilityProvider&&(this.ariaLabel=this.accessibilityProvider.getWidgetAriaLabel()),this._options.multipleSelectionSupport!==!1&&this.view.domNode.setAttribute("aria-multiselectable","true")}createListView(V,Y,ie,ae){return new c.ListView(V,Y,ie,ae)}createMouseController(V){return new O(this)}updateOptions(V={}){var Y,ie;this._options=Object.assign(Object.assign({},this._options),V),(Y=this.typeNavigationController)===null||Y===void 0||Y.updateOptions(this._options),this._options.multipleSelectionController!==void 0&&(this._options.multipleSelectionSupport?this.view.domNode.setAttribute("aria-multiselectable","true"):this.view.domNode.removeAttribute("aria-multiselectable")),this.mouseController.updateOptions(V),(ie=this.keyboardController)===null||ie===void 0||ie.updateOptions(V),this.view.updateOptions(V)}get options(){return this._options}splice(V,Y,ie=[]){if(V<0||V>this.view.length)throw new r.ListError(this.user,`Invalid start index: ${V}`);if(Y<0)throw new r.ListError(this.user,`Invalid delete count: ${Y}`);Y===0&&ie.length===0||this.eventBufferer.bufferEvents(()=>this.spliceable.splice(V,Y,ie))}rerender(){this.view.rerender()}element(V){return this.view.element(V)}get length(){return this.view.length}get contentHeight(){return this.view.contentHeight}get scrollTop(){return this.view.getScrollTop()}set scrollTop(V){this.view.setScrollTop(V)}get scrollHeight(){return this.view.scrollHeight}get renderHeight(){return this.view.renderHeight}get firstVisibleIndex(){return this.view.firstVisibleIndex}get ariaLabel(){return this._ariaLabel}set ariaLabel(V){this._ariaLabel=V,this.view.domNode.setAttribute("aria-label",V)}domFocus(){this.view.domNode.focus({preventScroll:!0})}layout(V,Y){this.view.layout(V,Y)}setSelection(V,Y){for(const ie of V)if(ie<0||ie>=this.length)throw new r.ListError(this.user,`Invalid index ${ie}`);this.selection.set(V,Y)}getSelection(){return this.selection.get()}getSelectedElements(){return this.getSelection().map(V=>this.view.element(V))}setAnchor(V){if(typeof V>"u"){this.anchor.set([]);return}if(V<0||V>=this.length)throw new r.ListError(this.user,`Invalid index ${V}`);this.anchor.set([V])}getAnchor(){return(0,_.firstOrDefault)(this.anchor.get(),void 0)}getAnchorElement(){const V=this.getAnchor();return typeof V>"u"?void 0:this.element(V)}setFocus(V,Y){for(const ie of V)if(ie<0||ie>=this.length)throw new r.ListError(this.user,`Invalid index ${ie}`);this.focus.set(V,Y)}focusNext(V=1,Y=!1,ie,ae){if(this.length===0)return;const ce=this.focus.get(),de=this.findNextIndex(ce.length>0?ce[0]+V:0,Y,ae);de>-1&&this.setFocus([de],ie)}focusPrevious(V=1,Y=!1,ie,ae){if(this.length===0)return;const ce=this.focus.get(),de=this.findPreviousIndex(ce.length>0?ce[0]-V:0,Y,ae);de>-1&&this.setFocus([de],ie)}focusNextPage(V,Y){return we(this,void 0,void 0,function*(){let ie=this.view.indexAt(this.view.getScrollTop()+this.view.renderHeight);ie=ie===0?0:ie-1;const ae=this.getFocus()[0];if(ae!==ie&&(ae===void 0||ie>ae)){const ce=this.findPreviousIndex(ie,!1,Y);ce>-1&&ae!==ce?this.setFocus([ce],V):this.setFocus([ie],V)}else{const ce=this.view.getScrollTop();let de=ce+this.view.renderHeight;ie>ae&&(de-=this.view.elementHeight(ie)),this.view.setScrollTop(de),this.view.getScrollTop()!==ce&&(this.setFocus([]),yield(0,g.timeout)(0),yield this.focusNextPage(V,Y))}})}focusPreviousPage(V,Y){return we(this,void 0,void 0,function*(){let ie;const ae=this.view.getScrollTop();ae===0?ie=this.view.indexAt(ae):ie=this.view.indexAfter(ae-1);const ce=this.getFocus()[0];if(ce!==ie&&(ce===void 0||ce>=ie)){const de=this.findNextIndex(ie,!1,Y);de>-1&&ce!==de?this.setFocus([de],V):this.setFocus([ie],V)}else{const de=ae;this.view.setScrollTop(ae-this.view.renderHeight),this.view.getScrollTop()!==de&&(this.setFocus([]),yield(0,g.timeout)(0),yield this.focusPreviousPage(V,Y))}})}focusLast(V,Y){if(this.length===0)return;const ie=this.findPreviousIndex(this.length-1,!1,Y);ie>-1&&this.setFocus([ie],V)}focusFirst(V,Y){this.focusNth(0,V,Y)}focusNth(V,Y,ie){if(this.length===0)return;const ae=this.findNextIndex(V,!1,ie);ae>-1&&this.setFocus([ae],Y)}findNextIndex(V,Y=!1,ie){for(let ae=0;ae<this.length;ae++){if(V>=this.length&&!Y)return-1;if(V=V%this.length,!ie||ie(this.element(V)))return V;V++}return-1}findPreviousIndex(V,Y=!1,ie){for(let ae=0;ae<this.length;ae++){if(V<0&&!Y)return-1;if(V=(this.length+V%this.length)%this.length,!ie||ie(this.element(V)))return V;V--}return-1}getFocus(){return this.focus.get()}getFocusedElements(){return this.getFocus().map(V=>this.view.element(V))}reveal(V,Y){if(V<0||V>=this.length)throw new r.ListError(this.user,`Invalid index ${V}`);const ie=this.view.getScrollTop(),ae=this.view.elementTop(V),ce=this.view.elementHeight(V);if((0,h.isNumber)(Y)){const de=ce-this.view.renderHeight;this.view.setScrollTop(de*(0,a.clamp)(Y,0,1)+ae)}else{const de=ae+ce,he=ie+this.view.renderHeight;ae<ie&&de>=he||(ae<ie||de>=he&&ce>=this.view.renderHeight?this.view.setScrollTop(ae):de>=he&&this.view.setScrollTop(de-this.view.renderHeight))}}getHTMLElement(){return this.view.domNode}getElementID(V){return this.view.getElementDomId(V)}style(V){this.styleController.style(V)}toListEvent({indexes:V,browserEvent:Y}){return{indexes:V,elements:V.map(ie=>this.view.element(ie)),browserEvent:Y}}_onFocusChange(){const V=this.focus.get();this.view.domNode.classList.toggle("element-focused",V.length>0),this.onDidChangeActiveDescendant()}onDidChangeActiveDescendant(){var V;const Y=this.focus.get();if(Y.length>0){let ie;!((V=this.accessibilityProvider)===null||V===void 0)&&V.getActiveDescendantId&&(ie=this.accessibilityProvider.getActiveDescendantId(this.view.element(Y[0]))),this.view.domNode.setAttribute("aria-activedescendant",ie||this.view.getElementDomId(Y[0]))}else this.view.domNode.removeAttribute("aria-activedescendant")}_onSelectionChange(){const V=this.selection.get();this.view.domNode.classList.toggle("selection-none",V.length===0),this.view.domNode.classList.toggle("selection-single",V.length===1),this.view.domNode.classList.toggle("selection-multiple",V.length>1)}dispose(){this._onDidDispose.fire(),this.disposables.dispose(),this._onDidDispose.dispose()}}e.List=H,ke([s.memoize],H.prototype,"onDidChangeFocus",null),ke([s.memoize],H.prototype,"onDidChangeSelection",null),ke([s.memoize],H.prototype,"onContextMenu",null),ke([s.memoize],H.prototype,"onKeyDown",null),ke([s.memoize],H.prototype,"onDidFocus",null)}),define(ne[578],se([1,0,14,19,6,2,114,268]),function(Q,e,L,k,y,D,S){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.PagedList=void 0;class f{get templateId(){return this.renderer.templateId}constructor(i,n){this.renderer=i,this.modelProvider=n}renderTemplate(i){return{data:this.renderer.renderTemplate(i),disposable:D.Disposable.None}}renderElement(i,n,t,a){var u;if((u=t.disposable)===null||u===void 0||u.dispose(),!t.data)return;const h=this.modelProvider();if(h.isResolved(i))return this.renderer.renderElement(h.get(i),i,t.data,a);const r=new k.CancellationTokenSource,c=h.resolve(i,r.token);t.disposable={dispose:()=>r.cancel()},this.renderer.renderPlaceholder(i,t.data),c.then(o=>this.renderer.renderElement(o,i,t.data,a))}disposeTemplate(i){i.disposable&&(i.disposable.dispose(),i.disposable=void 0),i.data&&(this.renderer.disposeTemplate(i.data),i.data=void 0)}}class _{constructor(i,n){this.modelProvider=i,this.accessibilityProvider=n}getWidgetAriaLabel(){return this.accessibilityProvider.getWidgetAriaLabel()}getAriaLabel(i){const n=this.modelProvider();return n.isResolved(i)?this.accessibilityProvider.getAriaLabel(n.get(i)):null}}function g(s,i){return Object.assign(Object.assign({},i),{accessibilityProvider:i.accessibilityProvider&&new _(s,i.accessibilityProvider)})}class C{constructor(i,n,t,a,u={}){const h=()=>this.model,r=a.map(c=>new f(c,h));this.list=new S.List(i,n,t,r,g(h,u))}updateOptions(i){this.list.updateOptions(i)}getHTMLElement(){return this.list.getHTMLElement()}get onDidFocus(){return this.list.onDidFocus}get widget(){return this.list}get onDidDispose(){return this.list.onDidDispose}get onMouseDblClick(){return y.Event.map(this.list.onMouseDblClick,({element:i,index:n,browserEvent:t})=>({element:i===void 0?void 0:this._model.get(i),index:n,browserEvent:t}))}get onPointer(){return y.Event.map(this.list.onPointer,({element:i,index:n,browserEvent:t})=>({element:i===void 0?void 0:this._model.get(i),index:n,browserEvent:t}))}get onDidChangeSelection(){return y.Event.map(this.list.onDidChangeSelection,({elements:i,indexes:n,browserEvent:t})=>({elements:i.map(a=>this._model.get(a)),indexes:n,browserEvent:t}))}get model(){return this._model}set model(i){this._model=i,this.list.splice(0,this.list.length,(0,L.range)(i.length))}getFocus(){return this.list.getFocus()}getSelection(){return this.list.getSelection()}getSelectedElements(){return this.getSelection().map(i=>this.model.get(i))}style(i){this.list.style(i)}dispose(){this.list.dispose()}}e.PagedList=C}),define(ne[311],se([1,0,7,81,130,75,14,38,6,2,141,167,20,409]),function(Q,e,L,k,y,D,S,f,_,g,C,s,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.SplitView=e.Sizing=void 0;const n={separatorBorder:f.Color.transparent};class t{set size(d){this._size=d}get size(){return this._size}get visible(){return typeof this._cachedVisibleSize>"u"}setVisible(d,l){var p,m;d!==this.visible&&(d?(this.size=(0,C.clamp)(this._cachedVisibleSize,this.viewMinimumSize,this.viewMaximumSize),this._cachedVisibleSize=void 0):(this._cachedVisibleSize=typeof l=="number"?l:this.size,this.size=0),this.container.classList.toggle("visible",d),(m=(p=this.view).setVisible)===null||m===void 0||m.call(p,d))}get minimumSize(){return this.visible?this.view.minimumSize:0}get viewMinimumSize(){return this.view.minimumSize}get maximumSize(){return this.visible?this.view.maximumSize:0}get viewMaximumSize(){return this.view.maximumSize}get priority(){return this.view.priority}get proportionalLayout(){var d;return(d=this.view.proportionalLayout)!==null&&d!==void 0?d:!0}get snap(){return!!this.view.snap}set enabled(d){this.container.style.pointerEvents=d?"":"none"}constructor(d,l,p,m){this.container=d,this.view=l,this.disposable=m,this._cachedVisibleSize=void 0,typeof p=="number"?(this._size=p,this._cachedVisibleSize=void 0,d.classList.add("visible")):(this._size=0,this._cachedVisibleSize=p.cachedVisibleSize)}layout(d,l){this.layoutContainer(d),this.view.layout(this.size,d,l)}dispose(){this.disposable.dispose()}}class a extends t{layoutContainer(d){this.container.style.top=`${d}px`,this.container.style.height=`${this.size}px`}}class u extends t{layoutContainer(d){this.container.style.left=`${d}px`,this.container.style.width=`${this.size}px`}}var h;(function(o){o[o.Idle=0]="Idle",o[o.Busy=1]="Busy"})(h||(h={}));var r;(function(o){o.Distribute={type:"distribute"};function d(m){return{type:"split",index:m}}o.Split=d;function l(m){return{type:"auto",index:m}}o.Auto=l;function p(m){return{type:"invisible",cachedVisibleSize:m}}o.Invisible=p})(r||(e.Sizing=r={}));class c extends g.Disposable{get orthogonalStartSash(){return this._orthogonalStartSash}get orthogonalEndSash(){return this._orthogonalEndSash}get startSnappingEnabled(){return this._startSnappingEnabled}get endSnappingEnabled(){return this._endSnappingEnabled}set orthogonalStartSash(d){for(const l of this.sashItems)l.sash.orthogonalStartSash=d;this._orthogonalStartSash=d}set orthogonalEndSash(d){for(const l of this.sashItems)l.sash.orthogonalEndSash=d;this._orthogonalEndSash=d}set startSnappingEnabled(d){this._startSnappingEnabled!==d&&(this._startSnappingEnabled=d,this.updateSashEnablement())}set endSnappingEnabled(d){this._endSnappingEnabled!==d&&(this._endSnappingEnabled=d,this.updateSashEnablement())}constructor(d,l={}){var p,m,v,b,w;super(),this.size=0,this.contentSize=0,this.proportions=void 0,this.viewItems=[],this.sashItems=[],this.state=h.Idle,this._onDidSashChange=this._register(new _.Emitter),this._onDidSashReset=this._register(new _.Emitter),this._startSnappingEnabled=!0,this._endSnappingEnabled=!0,this.onDidSashChange=this._onDidSashChange.event,this.onDidSashReset=this._onDidSashReset.event,this.orientation=(p=l.orientation)!==null&&p!==void 0?p:0,this.inverseAltBehavior=(m=l.inverseAltBehavior)!==null&&m!==void 0?m:!1,this.proportionalLayout=(v=l.proportionalLayout)!==null&&v!==void 0?v:!0,this.getSashOrthogonalSize=l.getSashOrthogonalSize,this.el=document.createElement("div"),this.el.classList.add("monaco-split-view2"),this.el.classList.add(this.orientation===0?"vertical":"horizontal"),d.appendChild(this.el),this.sashContainer=(0,L.append)(this.el,(0,L.$)(".sash-container")),this.viewContainer=(0,L.$)(".split-view-container"),this.scrollable=this._register(new s.Scrollable({forceIntegerValues:!0,smoothScrollDuration:125,scheduleAtNextAnimationFrame:L.scheduleAtNextAnimationFrame})),this.scrollableElement=this._register(new D.SmoothScrollableElement(this.viewContainer,{vertical:this.orientation===0?(b=l.scrollbarVisibility)!==null&&b!==void 0?b:1:2,horizontal:this.orientation===1?(w=l.scrollbarVisibility)!==null&&w!==void 0?w:1:2},this.scrollable));const E=this._register(new k.DomEmitter(this.viewContainer,"scroll")).event;this._register(E(I=>{const M=this.scrollableElement.getScrollPosition(),P=Math.abs(this.viewContainer.scrollLeft-M.scrollLeft)<=1?void 0:this.viewContainer.scrollLeft,x=Math.abs(this.viewContainer.scrollTop-M.scrollTop)<=1?void 0:this.viewContainer.scrollTop;(P!==void 0||x!==void 0)&&this.scrollableElement.setScrollPosition({scrollLeft:P,scrollTop:x})})),this.onDidScroll=this.scrollableElement.onScroll,this._register(this.onDidScroll(I=>{I.scrollTopChanged&&(this.viewContainer.scrollTop=I.scrollTop),I.scrollLeftChanged&&(this.viewContainer.scrollLeft=I.scrollLeft)})),(0,L.append)(this.el,this.scrollableElement.getDomNode()),this.style(l.styles||n),l.descriptor&&(this.size=l.descriptor.size,l.descriptor.views.forEach((I,M)=>{const P=i.isUndefined(I.visible)||I.visible?I.size:{type:"invisible",cachedVisibleSize:I.size},x=I.view;this.doAddView(x,P,M,!0)}),this.contentSize=this.viewItems.reduce((I,M)=>I+M.size,0),this.saveProportions())}style(d){d.separatorBorder.isTransparent()?(this.el.classList.remove("separator-border"),this.el.style.removeProperty("--separator-border")):(this.el.classList.add("separator-border"),this.el.style.setProperty("--separator-border",d.separatorBorder.toString()))}addView(d,l,p=this.viewItems.length,m){this.doAddView(d,l,p,m)}layout(d,l){const p=Math.max(this.size,this.contentSize);if(this.size=d,this.layoutContext=l,this.proportions){let m=0;for(let v=0;v<this.viewItems.length;v++){const b=this.viewItems[v],w=this.proportions[v];typeof w=="number"?m+=w:d-=b.size}for(let v=0;v<this.viewItems.length;v++){const b=this.viewItems[v],w=this.proportions[v];typeof w=="number"&&(b.size=(0,C.clamp)(Math.round(w*d/m),b.minimumSize,b.maximumSize))}}else{const m=(0,S.range)(this.viewItems.length),v=m.filter(w=>this.viewItems[w].priority===1),b=m.filter(w=>this.viewItems[w].priority===2);this.resize(this.viewItems.length-1,d-p,void 0,v,b)}this.distributeEmptySpace(),this.layoutViews()}saveProportions(){this.proportionalLayout&&this.contentSize>0&&(this.proportions=this.viewItems.map(d=>d.proportionalLayout?d.size/this.contentSize:void 0))}onSashStart({sash:d,start:l,alt:p}){for(const w of this.viewItems)w.enabled=!1;const m=this.sashItems.findIndex(w=>w.sash===d),v=(0,g.combinedDisposable)((0,L.addDisposableListener)(document.body,"keydown",w=>b(this.sashDragState.current,w.altKey)),(0,L.addDisposableListener)(document.body,"keyup",()=>b(this.sashDragState.current,!1))),b=(w,E)=>{const I=this.viewItems.map(A=>A.size);let M=Number.NEGATIVE_INFINITY,P=Number.POSITIVE_INFINITY;if(this.inverseAltBehavior&&(E=!E),E)if(m===this.sashItems.length-1){const N=this.viewItems[m];M=(N.minimumSize-N.size)/2,P=(N.maximumSize-N.size)/2}else{const N=this.viewItems[m+1];M=(N.size-N.maximumSize)/2,P=(N.size-N.minimumSize)/2}let x,T;if(!E){const A=(0,S.range)(m,-1),N=(0,S.range)(m+1,this.viewItems.length),F=A.reduce((Z,J)=>Z+(this.viewItems[J].minimumSize-I[J]),0),O=A.reduce((Z,J)=>Z+(this.viewItems[J].viewMaximumSize-I[J]),0),W=N.length===0?Number.POSITIVE_INFINITY:N.reduce((Z,J)=>Z+(I[J]-this.viewItems[J].minimumSize),0),U=N.length===0?Number.NEGATIVE_INFINITY:N.reduce((Z,J)=>Z+(I[J]-this.viewItems[J].viewMaximumSize),0),j=Math.max(F,U),R=Math.min(W,O),K=this.findFirstSnapIndex(A),G=this.findFirstSnapIndex(N);if(typeof K=="number"){const Z=this.viewItems[K],J=Math.floor(Z.viewMinimumSize/2);x={index:K,limitDelta:Z.visible?j-J:j+J,size:Z.size}}if(typeof G=="number"){const Z=this.viewItems[G],J=Math.floor(Z.viewMinimumSize/2);T={index:G,limitDelta:Z.visible?R+J:R-J,size:Z.size}}}this.sashDragState={start:w,current:w,index:m,sizes:I,minDelta:M,maxDelta:P,alt:E,snapBefore:x,snapAfter:T,disposable:v}};b(l,p)}onSashChange({current:d}){const{index:l,start:p,sizes:m,alt:v,minDelta:b,maxDelta:w,snapBefore:E,snapAfter:I}=this.sashDragState;this.sashDragState.current=d;const M=d-p,P=this.resize(l,M,m,void 0,void 0,b,w,E,I);if(v){const x=l===this.sashItems.length-1,T=this.viewItems.map(U=>U.size),A=x?l:l+1,N=this.viewItems[A],F=N.size-N.maximumSize,O=N.size-N.minimumSize,W=x?l-1:l+1;this.resize(W,-P,T,void 0,void 0,F,O)}this.distributeEmptySpace(),this.layoutViews()}onSashEnd(d){this._onDidSashChange.fire(d),this.sashDragState.disposable.dispose(),this.saveProportions();for(const l of this.viewItems)l.enabled=!0}onViewChange(d,l){const p=this.viewItems.indexOf(d);p<0||p>=this.viewItems.length||(l=typeof l=="number"?l:d.size,l=(0,C.clamp)(l,d.minimumSize,d.maximumSize),this.inverseAltBehavior&&p>0?(this.resize(p-1,Math.floor((d.size-l)/2)),this.distributeEmptySpace(),this.layoutViews()):(d.size=l,this.relayout([p],void 0)))}resizeView(d,l){if(this.state!==h.Idle)throw new Error("Cant modify splitview");if(this.state=h.Busy,d<0||d>=this.viewItems.length)return;const p=(0,S.range)(this.viewItems.length).filter(w=>w!==d),m=[...p.filter(w=>this.viewItems[w].priority===1),d],v=p.filter(w=>this.viewItems[w].priority===2),b=this.viewItems[d];l=Math.round(l),l=(0,C.clamp)(l,b.minimumSize,Math.min(b.maximumSize,this.size)),b.size=l,this.relayout(m,v),this.state=h.Idle}distributeViewSizes(){const d=[];let l=0;for(const w of this.viewItems)w.maximumSize-w.minimumSize>0&&(d.push(w),l+=w.size);const p=Math.floor(l/d.length);for(const w of d)w.size=(0,C.clamp)(p,w.minimumSize,w.maximumSize);const m=(0,S.range)(this.viewItems.length),v=m.filter(w=>this.viewItems[w].priority===1),b=m.filter(w=>this.viewItems[w].priority===2);this.relayout(v,b)}getViewSize(d){return d<0||d>=this.viewItems.length?-1:this.viewItems[d].size}doAddView(d,l,p=this.viewItems.length,m){if(this.state!==h.Idle)throw new Error("Cant modify splitview");this.state=h.Busy;const v=(0,L.$)(".split-view-view");p===this.viewItems.length?this.viewContainer.appendChild(v):this.viewContainer.insertBefore(v,this.viewContainer.children.item(p));const b=d.onDidChange(x=>this.onViewChange(M,x)),w=(0,g.toDisposable)(()=>this.viewContainer.removeChild(v)),E=(0,g.combinedDisposable)(b,w);let I;typeof l=="number"?I=l:(l.type==="auto"&&(this.areViewsDistributed()?l={type:"distribute"}:l={type:"split",index:l.index}),l.type==="split"?I=this.getViewSize(l.index)/2:l.type==="invisible"?I={cachedVisibleSize:l.cachedVisibleSize}:I=d.minimumSize);const M=this.orientation===0?new a(v,d,I,E):new u(v,d,I,E);if(this.viewItems.splice(p,0,M),this.viewItems.length>1){const x={orthogonalStartSash:this.orthogonalStartSash,orthogonalEndSash:this.orthogonalEndSash},T=this.orientation===0?new y.Sash(this.sashContainer,{getHorizontalSashTop:Z=>this.getSashPosition(Z),getHorizontalSashWidth:this.getSashOrthogonalSize},Object.assign(Object.assign({},x),{orientation:1})):new y.Sash(this.sashContainer,{getVerticalSashLeft:Z=>this.getSashPosition(Z),getVerticalSashHeight:this.getSashOrthogonalSize},Object.assign(Object.assign({},x),{orientation:0})),A=this.orientation===0?Z=>({sash:T,start:Z.startY,current:Z.currentY,alt:Z.altKey}):Z=>({sash:T,start:Z.startX,current:Z.currentX,alt:Z.altKey}),F=_.Event.map(T.onDidStart,A)(this.onSashStart,this),W=_.Event.map(T.onDidChange,A)(this.onSashChange,this),j=_.Event.map(T.onDidEnd,()=>this.sashItems.findIndex(Z=>Z.sash===T))(this.onSashEnd,this),R=T.onDidReset(()=>{const Z=this.sashItems.findIndex(V=>V.sash===T),J=(0,S.range)(Z,-1),X=(0,S.range)(Z+1,this.viewItems.length),H=this.findFirstSnapIndex(J),B=this.findFirstSnapIndex(X);typeof H=="number"&&!this.viewItems[H].visible||typeof B=="number"&&!this.viewItems[B].visible||this._onDidSashReset.fire(Z)}),K=(0,g.combinedDisposable)(F,W,j,R,T),G={sash:T,disposable:K};this.sashItems.splice(p-1,0,G)}v.appendChild(d.element);let P;typeof l!="number"&&l.type==="split"&&(P=[l.index]),m||this.relayout([p],P),this.state=h.Idle,!m&&typeof l!="number"&&l.type==="distribute"&&this.distributeViewSizes()}relayout(d,l){const p=this.viewItems.reduce((m,v)=>m+v.size,0);this.resize(this.viewItems.length-1,this.size-p,void 0,d,l),this.distributeEmptySpace(),this.layoutViews(),this.saveProportions()}resize(d,l,p=this.viewItems.map(M=>M.size),m,v,b=Number.NEGATIVE_INFINITY,w=Number.POSITIVE_INFINITY,E,I){if(d<0||d>=this.viewItems.length)return 0;const M=(0,S.range)(d,-1),P=(0,S.range)(d+1,this.viewItems.length);if(v)for(const G of v)(0,S.pushToStart)(M,G),(0,S.pushToStart)(P,G);if(m)for(const G of m)(0,S.pushToEnd)(M,G),(0,S.pushToEnd)(P,G);const x=M.map(G=>this.viewItems[G]),T=M.map(G=>p[G]),A=P.map(G=>this.viewItems[G]),N=P.map(G=>p[G]),F=M.reduce((G,Z)=>G+(this.viewItems[Z].minimumSize-p[Z]),0),O=M.reduce((G,Z)=>G+(this.viewItems[Z].maximumSize-p[Z]),0),W=P.length===0?Number.POSITIVE_INFINITY:P.reduce((G,Z)=>G+(p[Z]-this.viewItems[Z].minimumSize),0),U=P.length===0?Number.NEGATIVE_INFINITY:P.reduce((G,Z)=>G+(p[Z]-this.viewItems[Z].maximumSize),0),j=Math.max(F,U,b),R=Math.min(W,O,w);let K=!1;if(E){const G=this.viewItems[E.index],Z=l>=E.limitDelta;K=Z!==G.visible,G.setVisible(Z,E.size)}if(!K&&I){const G=this.viewItems[I.index],Z=l<I.limitDelta;K=Z!==G.visible,G.setVisible(Z,I.size)}if(K)return this.resize(d,l,p,m,v,b,w);l=(0,C.clamp)(l,j,R);for(let G=0,Z=l;G<x.length;G++){const J=x[G],X=(0,C.clamp)(T[G]+Z,J.minimumSize,J.maximumSize),H=X-T[G];Z-=H,J.size=X}for(let G=0,Z=l;G<A.length;G++){const J=A[G],X=(0,C.clamp)(N[G]-Z,J.minimumSize,J.maximumSize),H=X-N[G];Z+=H,J.size=X}return l}distributeEmptySpace(d){const l=this.viewItems.reduce((w,E)=>w+E.size,0);let p=this.size-l;const m=(0,S.range)(this.viewItems.length-1,-1),v=m.filter(w=>this.viewItems[w].priority===1),b=m.filter(w=>this.viewItems[w].priority===2);for(const w of b)(0,S.pushToStart)(m,w);for(const w of v)(0,S.pushToEnd)(m,w);typeof d=="number"&&(0,S.pushToEnd)(m,d);for(let w=0;p!==0&&w<m.length;w++){const E=this.viewItems[m[w]],I=(0,C.clamp)(E.size+p,E.minimumSize,E.maximumSize),M=I-E.size;p-=M,E.size=I}}layoutViews(){this.contentSize=this.viewItems.reduce((l,p)=>l+p.size,0);let d=0;for(const l of this.viewItems)l.layout(d,this.layoutContext),d+=l.size;this.sashItems.forEach(l=>l.sash.layout()),this.updateSashEnablement(),this.updateScrollableElement()}updateScrollableElement(){this.orientation===0?this.scrollableElement.setScrollDimensions({height:this.size,scrollHeight:this.contentSize}):this.scrollableElement.setScrollDimensions({width:this.size,scrollWidth:this.contentSize})}updateSashEnablement(){let d=!1;const l=this.viewItems.map(E=>d=E.size-E.minimumSize>0||d);d=!1;const p=this.viewItems.map(E=>d=E.maximumSize-E.size>0||d),m=[...this.viewItems].reverse();d=!1;const v=m.map(E=>d=E.size-E.minimumSize>0||d).reverse();d=!1;const b=m.map(E=>d=E.maximumSize-E.size>0||d).reverse();let w=0;for(let E=0;E<this.sashItems.length;E++){const{sash:I}=this.sashItems[E],M=this.viewItems[E];w+=M.size;const P=!(l[E]&&b[E+1]),x=!(p[E]&&v[E+1]);if(P&&x){const T=(0,S.range)(E,-1),A=(0,S.range)(E+1,this.viewItems.length),N=this.findFirstSnapIndex(T),F=this.findFirstSnapIndex(A),O=typeof N=="number"&&!this.viewItems[N].visible,W=typeof F=="number"&&!this.viewItems[F].visible;O&&v[E]&&(w>0||this.startSnappingEnabled)?I.state=1:W&&l[E]&&(w<this.contentSize||this.endSnappingEnabled)?I.state=2:I.state=0}else P&&!x?I.state=1:!P&&x?I.state=2:I.state=3}}getSashPosition(d){let l=0;for(let p=0;p<this.sashItems.length;p++)if(l+=this.viewItems[p].size,this.sashItems[p].sash===d)return l;return 0}findFirstSnapIndex(d){for(const l of d){const p=this.viewItems[l];if(p.visible&&p.snap)return l}for(const l of d){const p=this.viewItems[l];if(p.visible&&p.maximumSize-p.minimumSize>0)return;if(!p.visible&&p.snap)return l}}areViewsDistributed(){let d,l;for(const p of this.viewItems)if(d=d===void 0?p.size:Math.min(d,p.size),l=l===void 0?p.size:Math.max(l,p.size),l-d>2)return!1;return!0}dispose(){var d;(d=this.sashDragState)===null||d===void 0||d.disposable.dispose(),(0,g.dispose)(this.viewItems),this.viewItems=[],this.sashItems.forEach(l=>l.disposable.dispose()),this.sashItems=[],super.dispose()}}e.SplitView=c}),define(ne[579],se([1,0,7,114,311,6,2,410]),function(Q,e,L,k,y,D,S){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.Table=void 0;class f{constructor(i,n,t){this.columns=i,this.getColumnSize=t,this.templateId=f.TemplateId,this.renderedTemplates=new Set;const a=new Map(n.map(u=>[u.templateId,u]));this.renderers=[];for(const u of i){const h=a.get(u.templateId);if(!h)throw new Error(`Table cell renderer for template id ${u.templateId} not found.`);this.renderers.push(h)}}renderTemplate(i){const n=(0,L.append)(i,(0,L.$)(".monaco-table-tr")),t=[],a=[];for(let h=0;h<this.columns.length;h++){const r=this.renderers[h],c=(0,L.append)(n,(0,L.$)(".monaco-table-td",{"data-col-index":h}));c.style.width=`${this.getColumnSize(h)}px`,t.push(c),a.push(r.renderTemplate(c))}const u={container:i,cellContainers:t,cellTemplateData:a};return this.renderedTemplates.add(u),u}renderElement(i,n,t,a){for(let u=0;u<this.columns.length;u++){const r=this.columns[u].project(i);this.renderers[u].renderElement(r,n,t.cellTemplateData[u],a)}}disposeElement(i,n,t,a){for(let u=0;u<this.columns.length;u++){const h=this.renderers[u];if(h.disposeElement){const c=this.columns[u].project(i);h.disposeElement(c,n,t.cellTemplateData[u],a)}}}disposeTemplate(i){for(let n=0;n<this.columns.length;n++)this.renderers[n].disposeTemplate(i.cellTemplateData[n]);(0,L.clearNode)(i.container),this.renderedTemplates.delete(i)}layoutColumn(i,n){for(const{cellContainers:t}of this.renderedTemplates)t[i].style.width=`${n}px`}}f.TemplateId="row";function _(s){return{getHeight(i){return s.getHeight(i)},getTemplateId(){return f.TemplateId}}}class g{get minimumSize(){var i;return(i=this.column.minimumWidth)!==null&&i!==void 0?i:120}get maximumSize(){var i;return(i=this.column.maximumWidth)!==null&&i!==void 0?i:Number.POSITIVE_INFINITY}get onDidChange(){var i;return(i=this.column.onDidChangeWidthConstraints)!==null&&i!==void 0?i:D.Event.None}constructor(i,n){this.column=i,this.index=n,this._onDidLayout=new D.Emitter,this.onDidLayout=this._onDidLayout.event,this.element=(0,L.$)(".monaco-table-th",{"data-col-index":n,title:i.tooltip},i.label)}layout(i){this._onDidLayout.fire([this.index,i])}}class C{get onDidChangeFocus(){return this.list.onDidChangeFocus}get onDidChangeSelection(){return this.list.onDidChangeSelection}get onDidScroll(){return this.list.onDidScroll}get onMouseDblClick(){return this.list.onMouseDblClick}get onPointer(){return this.list.onPointer}get onDidFocus(){return this.list.onDidFocus}get scrollTop(){return this.list.scrollTop}set scrollTop(i){this.list.scrollTop=i}get scrollHeight(){return this.list.scrollHeight}get renderHeight(){return this.list.renderHeight}get onDidDispose(){return this.list.onDidDispose}constructor(i,n,t,a,u,h){this.virtualDelegate=t,this.domId=`table_id_${++C.InstanceCount}`,this.disposables=new S.DisposableStore,this.cachedWidth=0,this.cachedHeight=0,this.domNode=(0,L.append)(n,(0,L.$)(`.monaco-table.${this.domId}`));const r=a.map((d,l)=>new g(d,l)),c={size:r.reduce((d,l)=>d+l.column.weight,0),views:r.map(d=>({size:d.column.weight,view:d}))};this.splitview=this.disposables.add(new y.SplitView(this.domNode,{orientation:1,scrollbarVisibility:2,getSashOrthogonalSize:()=>this.cachedHeight,descriptor:c})),this.splitview.el.style.height=`${t.headerRowHeight}px`,this.splitview.el.style.lineHeight=`${t.headerRowHeight}px`;const o=new f(a,u,d=>this.splitview.getViewSize(d));this.list=this.disposables.add(new k.List(i,this.domNode,_(t),[o],h)),D.Event.any(...r.map(d=>d.onDidLayout))(([d,l])=>o.layoutColumn(d,l),null,this.disposables),this.splitview.onDidSashReset(d=>{const l=a.reduce((m,v)=>m+v.weight,0),p=a[d].weight/l*this.cachedWidth;this.splitview.resizeView(d,p)},null,this.disposables),this.styleElement=(0,L.createStyleSheet)(this.domNode),this.style(k.unthemedListStyles)}updateOptions(i){this.list.updateOptions(i)}splice(i,n,t=[]){this.list.splice(i,n,t)}getHTMLElement(){return this.domNode}style(i){const n=[];n.push(`.monaco-table.${this.domId} > .monaco-split-view2 .monaco-sash.vertical::before {
			top: ${this.virtualDelegate.headerRowHeight+1}px;
			height: calc(100% - ${this.virtualDelegate.headerRowHeight}px);
		}`),this.styleElement.textContent=n.join(`
`),this.list.style(i)}getSelectedElements(){return this.list.getSelectedElements()}getSelection(){return this.list.getSelection()}getFocus(){return this.list.getFocus()}dispose(){this.disposables.dispose()}}e.Table=C,C.InstanceCount=0}),define(ne[153],se([1,0,83,26,6,411]),function(Q,e,L,k,y){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.Toggle=e.unthemedToggleStyles=void 0,e.unthemedToggleStyles={inputActiveOptionBorder:"#007ACC00",inputActiveOptionForeground:"#FFFFFF",inputActiveOptionBackground:"#0E639C50"};class D extends L.Widget{constructor(f){super(),this._onChange=this._register(new y.Emitter),this.onChange=this._onChange.event,this._onKeyDown=this._register(new y.Emitter),this.onKeyDown=this._onKeyDown.event,this._opts=f,this._checked=this._opts.isChecked;const _=["monaco-custom-toggle"];this._opts.icon&&(this._icon=this._opts.icon,_.push(...k.ThemeIcon.asClassNameArray(this._icon))),this._opts.actionClassName&&_.push(...this._opts.actionClassName.split(" ")),this._checked&&_.push("checked"),this.domNode=document.createElement("div"),this.domNode.title=this._opts.title,this.domNode.classList.add(..._),this._opts.notFocusable||(this.domNode.tabIndex=0),this.domNode.setAttribute("role","checkbox"),this.domNode.setAttribute("aria-checked",String(this._checked)),this.domNode.setAttribute("aria-label",this._opts.title),this.applyStyles(),this.onclick(this.domNode,g=>{this.enabled&&(this.checked=!this._checked,this._onChange.fire(!1),g.preventDefault())}),this._register(this.ignoreGesture(this.domNode)),this.onkeydown(this.domNode,g=>{if(g.keyCode===10||g.keyCode===3){this.checked=!this._checked,this._onChange.fire(!0),g.preventDefault(),g.stopPropagation();return}this._onKeyDown.fire(g)})}get enabled(){return this.domNode.getAttribute("aria-disabled")!=="true"}focus(){this.domNode.focus()}get checked(){return this._checked}set checked(f){this._checked=f,this.domNode.setAttribute("aria-checked",String(this._checked)),this.domNode.classList.toggle("checked",this._checked),this.applyStyles()}width(){return 2+2+2+16}applyStyles(){this.domNode&&(this.domNode.style.borderColor=this._checked&&this._opts.inputActiveOptionBorder||"",this.domNode.style.color=this._checked&&this._opts.inputActiveOptionForeground||"inherit",this.domNode.style.backgroundColor=this._checked&&this._opts.inputActiveOptionBackground||"")}enable(){this.domNode.setAttribute("aria-disabled",String(!1))}disable(){this.domNode.setAttribute("aria-disabled",String(!0))}}e.Toggle=D}),define(ne[312],se([1,0,153,25,553]),function(Q,e,L,k,y){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.RegexToggle=e.WholeWordsToggle=e.CaseSensitiveToggle=void 0;const D=y.localize(0,null),S=y.localize(1,null),f=y.localize(2,null);class _ extends L.Toggle{constructor(i){super({icon:k.Codicon.caseSensitive,title:D+i.appendTitle,isChecked:i.isChecked,inputActiveOptionBorder:i.inputActiveOptionBorder,inputActiveOptionForeground:i.inputActiveOptionForeground,inputActiveOptionBackground:i.inputActiveOptionBackground})}}e.CaseSensitiveToggle=_;class g extends L.Toggle{constructor(i){super({icon:k.Codicon.wholeWord,title:S+i.appendTitle,isChecked:i.isChecked,inputActiveOptionBorder:i.inputActiveOptionBorder,inputActiveOptionForeground:i.inputActiveOptionForeground,inputActiveOptionBackground:i.inputActiveOptionBackground})}}e.WholeWordsToggle=g;class C extends L.Toggle{constructor(i){super({icon:k.Codicon.regex,title:f+i.appendTitle,isChecked:i.isChecked,inputActiveOptionBorder:i.inputActiveOptionBorder,inputActiveOptionForeground:i.inputActiveOptionForeground,inputActiveOptionBackground:i.inputActiveOptionBackground})}}e.RegexToggle=C}),define(ne[45],se([1,0,220,54,92,17,11,22]),function(Q,e,L,k,y,D,S,f){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.DataUri=e.addTrailingPathSeparator=e.removeTrailingPathSeparator=e.hasTrailingPathSeparator=e.isEqualAuthority=e.isAbsolutePath=e.resolvePath=e.relativePath=e.normalizePath=e.joinPath=e.dirname=e.extname=e.basename=e.basenameOrAuthority=e.getComparisonKey=e.isEqualOrParent=e.isEqual=e.extUriIgnorePathCase=e.extUriBiasedIgnorePathCase=e.extUri=e.ExtUri=e.originalFSPath=void 0;function _(s){return(0,f.uriToFsPath)(s,!0)}e.originalFSPath=_;class g{constructor(i){this._ignorePathCasing=i}compare(i,n,t=!1){return i===n?0:(0,S.compare)(this.getComparisonKey(i,t),this.getComparisonKey(n,t))}isEqual(i,n,t=!1){return i===n?!0:!i||!n?!1:this.getComparisonKey(i,t)===this.getComparisonKey(n,t)}getComparisonKey(i,n=!1){return i.with({path:this._ignorePathCasing(i)?i.path.toLowerCase():void 0,fragment:n?null:void 0}).toString()}isEqualOrParent(i,n,t=!1){if(i.scheme===n.scheme){if(i.scheme===k.Schemas.file)return L.isEqualOrParent(_(i),_(n),this._ignorePathCasing(i))&&i.query===n.query&&(t||i.fragment===n.fragment);if((0,e.isEqualAuthority)(i.authority,n.authority))return L.isEqualOrParent(i.path,n.path,this._ignorePathCasing(i),"/")&&i.query===n.query&&(t||i.fragment===n.fragment)}return!1}joinPath(i,...n){return f.URI.joinPath(i,...n)}basenameOrAuthority(i){return(0,e.basename)(i)||i.authority}basename(i){return y.posix.basename(i.path)}extname(i){return y.posix.extname(i.path)}dirname(i){if(i.path.length===0)return i;let n;return i.scheme===k.Schemas.file?n=f.URI.file(y.dirname(_(i))).path:(n=y.posix.dirname(i.path),i.authority&&n.length&&n.charCodeAt(0)!==47&&(console.error(`dirname("${i.toString})) resulted in a relative path`),n="/")),i.with({path:n})}normalizePath(i){if(!i.path.length)return i;let n;return i.scheme===k.Schemas.file?n=f.URI.file(y.normalize(_(i))).path:n=y.posix.normalize(i.path),i.with({path:n})}relativePath(i,n){if(i.scheme!==n.scheme||!(0,e.isEqualAuthority)(i.authority,n.authority))return;if(i.scheme===k.Schemas.file){const u=y.relative(_(i),_(n));return D.isWindows?L.toSlashes(u):u}let t=i.path||"/";const a=n.path||"/";if(this._ignorePathCasing(i)){let u=0;for(const h=Math.min(t.length,a.length);u<h&&!(t.charCodeAt(u)!==a.charCodeAt(u)&&t.charAt(u).toLowerCase()!==a.charAt(u).toLowerCase());u++);t=a.substr(0,u)+t.substr(u)}return y.posix.relative(t,a)}resolvePath(i,n){if(i.scheme===k.Schemas.file){const t=f.URI.file(y.resolve(_(i),n));return i.with({authority:t.authority,path:t.path})}return n=L.toPosixPath(n),i.with({path:y.posix.resolve(i.path,n)})}isAbsolutePath(i){return!!i.path&&i.path[0]==="/"}isEqualAuthority(i,n){return i===n||i!==void 0&&n!==void 0&&(0,S.equalsIgnoreCase)(i,n)}hasTrailingPathSeparator(i,n=y.sep){if(i.scheme===k.Schemas.file){const t=_(i);return t.length>L.getRoot(t).length&&t[t.length-1]===n}else{const t=i.path;return t.length>1&&t.charCodeAt(t.length-1)===47&&!/^[a-zA-Z]:(\/$|\\$)/.test(i.fsPath)}}removeTrailingPathSeparator(i,n=y.sep){return(0,e.hasTrailingPathSeparator)(i,n)?i.with({path:i.path.substr(0,i.path.length-1)}):i}addTrailingPathSeparator(i,n=y.sep){let t=!1;if(i.scheme===k.Schemas.file){const a=_(i);t=a!==void 0&&a.length===L.getRoot(a).length&&a[a.length-1]===n}else{n="/";const a=i.path;t=a.length===1&&a.charCodeAt(a.length-1)===47}return!t&&!(0,e.hasTrailingPathSeparator)(i,n)?i.with({path:i.path+"/"}):i}}e.ExtUri=g,e.extUri=new g(()=>!1),e.extUriBiasedIgnorePathCase=new g(s=>s.scheme===k.Schemas.file?!D.isLinux:!0),e.extUriIgnorePathCase=new g(s=>!0),e.isEqual=e.extUri.isEqual.bind(e.extUri),e.isEqualOrParent=e.extUri.isEqualOrParent.bind(e.extUri),e.getComparisonKey=e.extUri.getComparisonKey.bind(e.extUri),e.basenameOrAuthority=e.extUri.basenameOrAuthority.bind(e.extUri),e.basename=e.extUri.basename.bind(e.extUri),e.extname=e.extUri.extname.bind(e.extUri),e.dirname=e.extUri.dirname.bind(e.extUri),e.joinPath=e.extUri.joinPath.bind(e.extUri),e.normalizePath=e.extUri.normalizePath.bind(e.extUri),e.relativePath=e.extUri.relativePath.bind(e.extUri),e.resolvePath=e.extUri.resolvePath.bind(e.extUri),e.isAbsolutePath=e.extUri.isAbsolutePath.bind(e.extUri),e.isEqualAuthority=e.extUri.isEqualAuthority.bind(e.extUri),e.hasTrailingPathSeparator=e.extUri.hasTrailingPathSeparator.bind(e.extUri),e.removeTrailingPathSeparator=e.extUri.removeTrailingPathSeparator.bind(e.extUri),e.addTrailingPathSeparator=e.extUri.addTrailingPathSeparator.bind(e.extUri);var C;(function(s){s.META_DATA_LABEL="label",s.META_DATA_DESCRIPTION="description",s.META_DATA_SIZE="size",s.META_DATA_MIME="mime";function i(n){const t=new Map;n.path.substring(n.path.indexOf(";")+1,n.path.lastIndexOf(";")).split(";").forEach(h=>{const[r,c]=h.split(":");r&&c&&t.set(r,c)});const u=n.path.substring(0,n.path.indexOf(";"));return u&&t.set(s.META_DATA_MIME,u),t}s.parseMetaData=i})(C||(e.DataUri=C={}))}),define(ne[55],se([1,0,9,120,45,11,22]),function(Q,e,L,k,y,D,S){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.parseHrefAndDimensions=e.removeMarkdownEscapes=e.escapeDoubleQuotes=e.escapeMarkdownSyntaxTokens=e.markdownStringEqual=e.isMarkdownString=e.isEmptyMarkdownString=e.MarkdownString=void 0;class f{constructor(u="",h=!1){var r,c,o;if(this.value=u,typeof this.value!="string")throw(0,L.illegalArgument)("value");typeof h=="boolean"?(this.isTrusted=h,this.supportThemeIcons=!1,this.supportHtml=!1):(this.isTrusted=(r=h.isTrusted)!==null&&r!==void 0?r:void 0,this.supportThemeIcons=(c=h.supportThemeIcons)!==null&&c!==void 0?c:!1,this.supportHtml=(o=h.supportHtml)!==null&&o!==void 0?o:!1)}appendText(u,h=0){return this.value+=s(this.supportThemeIcons?(0,k.escapeIcons)(u):u).replace(/([ \t]+)/g,(r,c)=>"&nbsp;".repeat(c.length)).replace(/\>/gm,"\\>").replace(/\n/g,h===1?`\\
`:`

`),this}appendMarkdown(u){return this.value+=u,this}appendCodeblock(u,h){return this.value+="\n```",this.value+=u,this.value+=`
`,this.value+=h,this.value+="\n```\n",this}appendLink(u,h,r){return this.value+="[",this.value+=this._escape(h,"]"),this.value+="](",this.value+=this._escape(String(u),")"),r&&(this.value+=` "${this._escape(this._escape(r,'"'),")")}"`),this.value+=")",this}_escape(u,h){const r=new RegExp((0,D.escapeRegExpCharacters)(h),"g");return u.replace(r,(c,o)=>u.charAt(o-1)!=="\\"?`\\${c}`:c)}}e.MarkdownString=f;function _(a){return g(a)?!a.value:Array.isArray(a)?a.every(_):!0}e.isEmptyMarkdownString=_;function g(a){return a instanceof f?!0:a&&typeof a=="object"?typeof a.value=="string"&&(typeof a.isTrusted=="boolean"||typeof a.isTrusted=="object"||a.isTrusted===void 0)&&(typeof a.supportThemeIcons=="boolean"||a.supportThemeIcons===void 0):!1}e.isMarkdownString=g;function C(a,u){return a===u?!0:!a||!u?!1:a.value===u.value&&a.isTrusted===u.isTrusted&&a.supportThemeIcons===u.supportThemeIcons&&a.supportHtml===u.supportHtml&&(a.baseUri===u.baseUri||!!a.baseUri&&!!u.baseUri&&(0,y.isEqual)(S.URI.from(a.baseUri),S.URI.from(u.baseUri)))}e.markdownStringEqual=C;function s(a){return a.replace(/[\\`*_{}[\]()#+\-!~]/g,"\\$&")}e.escapeMarkdownSyntaxTokens=s;function i(a){return a.replace(/"/g,"&quot;")}e.escapeDoubleQuotes=i;function n(a){return a&&a.replace(/\\([\\`*_{}[\]()#+\-.!~])/g,"$1")}e.removeMarkdownEscapes=n;function t(a){const u=[],h=a.split("|").map(c=>c.trim());a=h[0];const r=h[1];if(r){const c=/height=(\d+)/.exec(r),o=/width=(\d+)/.exec(r),d=c?c[1]:"",l=o?o[1]:"",p=isFinite(parseInt(l)),m=isFinite(parseInt(d));p&&u.push(`width="${l}"`),m&&u.push(`height="${d}"`)}return{href:a,dimensions:u}}e.parseHrefAndDimensions=t}),define(ne[183],se([1,0,7,304,81,305,44,60,129,9,6,55,120,164,100,2,386,221,54,47,45,11,22]),function(Q,e,L,k,y,D,S,f,_,g,C,s,i,n,t,a,u,h,r,c,o,d,l){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.fillInIncompleteTokens=e.renderMarkdownAsPlaintext=e.renderStringAsPlaintext=e.allowedMarkdownAttr=e.renderMarkdown=void 0;const p=Object.freeze({image:(X,H,B)=>{let V=[],Y=[];return X&&({href:X,dimensions:V}=(0,s.parseHrefAndDimensions)(X),Y.push(`src="${(0,s.escapeDoubleQuotes)(X)}"`)),B&&Y.push(`alt="${(0,s.escapeDoubleQuotes)(B)}"`),H&&Y.push(`title="${(0,s.escapeDoubleQuotes)(H)}"`),V.length&&(Y=Y.concat(V)),"<img "+Y.join(" ")+">"},paragraph:X=>`<p>${X}</p>`,link:(X,H,B)=>typeof X!="string"?"":(X===B&&(B=(0,s.removeMarkdownEscapes)(B)),H=typeof H=="string"?(0,s.escapeDoubleQuotes)((0,s.removeMarkdownEscapes)(H)):"",X=(0,s.removeMarkdownEscapes)(X),X=X.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/'/g,"&#39;"),`<a href="${X}" title="${H||X}">${B}</a>`)});function m(X,H={},B={}){var V,Y;const ie=new a.DisposableStore;let ae=!1;const ce=(0,D.createElement)(H),de=function(oe){let ge;try{ge=(0,h.parse)(decodeURIComponent(oe))}catch{}return ge?(ge=(0,c.cloneAndChange)(ge,ve=>{if(X.uris&&X.uris[ve])return l.URI.revive(X.uris[ve])}),encodeURIComponent(JSON.stringify(ge))):oe},he=function(oe,ge){const ve=X.uris&&X.uris[oe];let Se=l.URI.revive(ve);return ge?oe.startsWith(r.Schemas.data+":")?oe:(Se||(Se=l.URI.parse(oe)),r.FileAccess.uriToBrowserUri(Se).toString(!0)):!Se||l.URI.parse(oe).toString()===Se.toString()?oe:(Se.query&&(Se=Se.with({query:de(Se.query)})),Se.toString())},ue=new u.marked.Renderer;ue.image=p.image,ue.link=p.link,ue.paragraph=p.paragraph;const te=[],q=[];if(H.codeBlockRendererSync?ue.code=(oe,ge)=>{const ve=n.defaultGenerator.nextId(),Se=H.codeBlockRendererSync(v(ge),oe);return q.push([ve,Se]),`<div class="code" data-code="${ve}">${(0,d.escape)(oe)}</div>`}:H.codeBlockRenderer&&(ue.code=(oe,ge)=>{const ve=n.defaultGenerator.nextId(),Se=H.codeBlockRenderer(v(ge),oe);return te.push(Se.then(Le=>[ve,Le])),`<div class="code" data-code="${ve}">${(0,d.escape)(oe)}</div>`}),H.actionHandler){const oe=function(Se){let Le=Se.target;if(!(Le.tagName!=="A"&&(Le=Le.parentElement,!Le||Le.tagName!=="A")))try{let De=Le.dataset.href;De&&(X.baseUri&&(De=b(l.URI.from(X.baseUri),De)),H.actionHandler.callback(De,Se))}catch(De){(0,g.onUnexpectedError)(De)}finally{Se.preventDefault()}},ge=H.actionHandler.disposables.add(new y.DomEmitter(ce,"click")),ve=H.actionHandler.disposables.add(new y.DomEmitter(ce,"auxclick"));H.actionHandler.disposables.add(C.Event.any(ge.event,ve.event)(Se=>{const Le=new f.StandardMouseEvent(Se);!Le.leftButton&&!Le.middleButton||oe(Le)})),H.actionHandler.disposables.add(L.addDisposableListener(ce,"keydown",Se=>{const Le=new S.StandardKeyboardEvent(Se);!Le.equals(10)&&!Le.equals(3)||oe(Le)}))}X.supportHtml||(B.sanitizer=oe=>(X.isTrusted?oe.match(/^(<span[^>]+>)|(<\/\s*span>)$/):void 0)?oe:"",B.sanitize=!0,B.silent=!0),B.renderer=ue;let z=(V=X.value)!==null&&V!==void 0?V:"";z.length>1e5&&(z=`${z.substr(0,1e5)}\u2026`),X.supportThemeIcons&&(z=(0,i.markdownEscapeEscapedIcons)(z));let ee;if(H.fillInIncompleteTokens){const oe=Object.assign(Object.assign({},u.marked.defaults),B),ge=u.marked.lexer(z,oe),ve=N(ge);ee=u.marked.parser(ve,oe)}else ee=u.marked.parse(z,B);X.supportThemeIcons&&(ee=(0,_.renderLabelWithIcons)(ee).map(ge=>typeof ge=="string"?ge:ge.outerHTML).join(""));const re=new DOMParser().parseFromString(w(X,ee),"text/html");if(re.body.querySelectorAll("img").forEach(oe=>{const ge=oe.getAttribute("src");if(ge){let ve=ge;try{X.baseUri&&(ve=b(l.URI.from(X.baseUri),ve))}catch{}oe.src=he(ve,!0)}}),re.body.querySelectorAll("a").forEach(oe=>{const ge=oe.getAttribute("href");if(oe.setAttribute("href",""),!ge||/^data:|javascript:/i.test(ge)||/^command:/i.test(ge)&&!X.isTrusted||/^command:(\/\/\/)?_workbench\.downloadResource/i.test(ge))oe.replaceWith(...oe.childNodes);else{let ve=he(ge,!1);X.baseUri&&(ve=b(l.URI.from(X.baseUri),ge)),oe.dataset.href=ve}}),ce.innerHTML=w(X,re.body.innerHTML),te.length>0)Promise.all(te).then(oe=>{var ge,ve;if(ae)return;const Se=new Map(oe),Le=ce.querySelectorAll("div[data-code]");for(const De of Le){const ye=Se.get((ge=De.dataset.code)!==null&&ge!==void 0?ge:"");ye&&L.reset(De,ye)}(ve=H.asyncRenderCallback)===null||ve===void 0||ve.call(H)});else if(q.length>0){const oe=new Map(q),ge=ce.querySelectorAll("div[data-code]");for(const ve of ge){const Se=oe.get((Y=ve.dataset.code)!==null&&Y!==void 0?Y:"");Se&&L.reset(ve,Se)}}if(H.asyncRenderCallback)for(const oe of ce.getElementsByTagName("img")){const ge=ie.add(L.addDisposableListener(oe,"load",()=>{ge.dispose(),H.asyncRenderCallback()}))}return{element:ce,dispose:()=>{ae=!0,ie.dispose()}}}e.renderMarkdown=m;function v(X){if(!X)return"";const H=X.split(/[\s+|:|,|\{|\?]/,1);return H.length?H[0]:X}function b(X,H){return/^\w[\w\d+.-]*:/.test(H)?H:X.path.endsWith("/")?(0,o.resolvePath)(X,H).toString():(0,o.resolvePath)((0,o.dirname)(X),H).toString()}function w(X,H){const{config:B,allowedSchemes:V}=E(X);k.addHook("uponSanitizeAttribute",(ie,ae)=>{if(ae.attrName==="style"||ae.attrName==="class"){if(ie.tagName==="SPAN"){if(ae.attrName==="style"){ae.keepAttr=/^(color\:(#[0-9a-fA-F]+|var\(--vscode(-[a-zA-Z]+)+\));)?(background-color\:(#[0-9a-fA-F]+|var\(--vscode(-[a-zA-Z]+)+\));)?$/.test(ae.attrValue);return}else if(ae.attrName==="class"){ae.keepAttr=/^codicon codicon-[a-z\-]+( codicon-modifier-[a-z\-]+)?$/.test(ae.attrValue);return}}ae.keepAttr=!1;return}});const Y=L.hookDomPurifyHrefAndSrcSanitizer(V);try{return k.sanitize(H,Object.assign(Object.assign({},B),{RETURN_TRUSTED_TYPE:!0}))}finally{k.removeHook("uponSanitizeAttribute"),Y.dispose()}}e.allowedMarkdownAttr=["align","autoplay","alt","class","controls","data-code","data-href","height","href","loop","muted","playsinline","poster","src","style","target","title","width","start"];function E(X){const H=[r.Schemas.http,r.Schemas.https,r.Schemas.mailto,r.Schemas.data,r.Schemas.file,r.Schemas.vscodeFileResource,r.Schemas.vscodeRemote,r.Schemas.vscodeRemoteResource];return X.isTrusted&&H.push(r.Schemas.command),{config:{ALLOWED_TAGS:[...L.basicMarkupHtmlTags],ALLOWED_ATTR:e.allowedMarkdownAttr,ALLOW_UNKNOWN_PROTOCOLS:!0},allowedSchemes:H}}function I(X){return typeof X=="string"?X:M(X)}e.renderStringAsPlaintext=I;function M(X){var H;let B=(H=X.value)!==null&&H!==void 0?H:"";B.length>1e5&&(B=`${B.substr(0,1e5)}\u2026`);const V=u.marked.parse(B,{renderer:x.value}).replace(/&(#\d+|[a-zA-Z]+);/g,Y=>{var ie;return(ie=P.get(Y))!==null&&ie!==void 0?ie:Y});return w({isTrusted:!1},V).toString()}e.renderMarkdownAsPlaintext=M;const P=new Map([["&quot;",'"'],["&nbsp;"," "],["&amp;","&"],["&#39;","'"],["&lt;","<"],["&gt;",">"]]),x=new t.Lazy(()=>{const X=new u.marked.Renderer;return X.code=H=>H,X.blockquote=H=>H,X.html=H=>"",X.heading=(H,B,V)=>H+`
`,X.hr=()=>"",X.list=(H,B)=>H,X.listitem=H=>H+`
`,X.paragraph=H=>H+`
`,X.table=(H,B)=>H+B+`
`,X.tablerow=H=>H,X.tablecell=(H,B)=>H+" ",X.strong=H=>H,X.em=H=>H,X.codespan=H=>H,X.br=()=>`
`,X.del=H=>H,X.image=(H,B,V)=>"",X.text=H=>H,X.link=(H,B,V)=>V,X});function T(X){let H="";return X.forEach(B=>{H+=B.raw}),H}function A(X){for(const H of X.tokens)if(H.type==="text"){const B=H.raw.split(`
`),V=B[B.length-1];if(V.includes("`"))return O(X);if(V.includes("**"))return K(X);if(V.match(/\*\w/))return W(X);if(V.match(/(^|\s)__\w/))return G(X);if(V.match(/(^|\s)_\w/))return U(X);if(V.match(/(^|\s)\[.*\]\(\w*/))return j(X);if(V.match(/(^|\s)\[\w/))return R(X)}}function N(X){let H,B;for(H=0;H<X.length;H++){const V=X[H];if(V.type==="paragraph"&&V.raw.match(/(\n|^)```/)){B=F(X.slice(H));break}if(V.type==="paragraph"&&V.raw.match(/(\n|^)\|/)){B=J(X.slice(H));break}if(H===X.length-1&&V.type==="paragraph"){const Y=A(V);if(Y){B=[Y];break}}}if(B){const V=[...X.slice(0,H),...B];return V.links=X.links,V}return X}e.fillInIncompleteTokens=N;function F(X){const H=T(X);return u.marked.lexer(H+"\n```")}function O(X){return Z(X,"`")}function W(X){return Z(X,"*")}function U(X){return Z(X,"_")}function j(X){return Z(X,")")}function R(X){return Z(X,"](about:blank)")}function K(X){return Z(X,"**")}function G(X){return Z(X,"__")}function Z(X,H){const B=T(Array.isArray(X)?X:[X]);return u.marked.lexer(B+H)[0]}function J(X){const H=T(X),B=H.split(`
`);let V,Y=!1;for(let ie=0;ie<B.length;ie++){const ae=B[ie].trim();if(typeof V>"u"&&ae.match(/^\s*\|/)){const ce=ae.match(/(\|[^\|]+)(?=\||$)/g);ce&&(V=ce.length)}else if(typeof V=="number")if(ae.match(/^\s*\|/)){if(ie!==B.length-1)return;Y=!0}else return}if(typeof V=="number"&&V>0){const ie=Y?B.slice(0,-1).join(`
`):H,ae=!!ie.match(/\|\s*$/),ce=ie+(ae?"":"|")+`
|${" --- |".repeat(V)}`;return u.marked.lexer(ce)}}}),define(ne[313],se([1,0,7,304,44,183,61,129,38,6,55,2,394]),function(Q,e,L,k,y,D,S,f,_,g,C,s){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.Button=e.unthemedButtonStyles=void 0,e.unthemedButtonStyles={buttonBackground:"#0E639C",buttonHoverBackground:"#006BB3",buttonSeparator:_.Color.white.toString(),buttonForeground:_.Color.white.toString(),buttonBorder:void 0,buttonSecondaryBackground:void 0,buttonSecondaryForeground:void 0,buttonSecondaryHoverBackground:void 0};class i extends s.Disposable{get onDidClick(){return this._onDidClick.event}constructor(t,a){super(),this._label="",this._onDidClick=this._register(new g.Emitter),this.options=a,this._element=document.createElement("a"),this._element.classList.add("monaco-button"),this._element.tabIndex=0,this._element.setAttribute("role","button"),this._element.classList.toggle("secondary",!!a.secondary);const u=a.secondary?a.buttonSecondaryBackground:a.buttonBackground,h=a.secondary?a.buttonSecondaryForeground:a.buttonForeground;this._element.style.color=h||"",this._element.style.backgroundColor=u||"",a.supportShortLabel&&(this._labelShortElement=document.createElement("div"),this._labelShortElement.classList.add("monaco-button-label-short"),this._element.appendChild(this._labelShortElement),this._labelElement=document.createElement("div"),this._labelElement.classList.add("monaco-button-label"),this._element.appendChild(this._labelElement),this._element.classList.add("monaco-text-button-with-short-label")),t.appendChild(this._element),this._register(S.Gesture.addTarget(this._element)),[L.EventType.CLICK,S.EventType.Tap].forEach(r=>{this._register((0,L.addDisposableListener)(this._element,r,c=>{if(!this.enabled){L.EventHelper.stop(c);return}this._onDidClick.fire(c)}))}),this._register((0,L.addDisposableListener)(this._element,L.EventType.KEY_DOWN,r=>{const c=new y.StandardKeyboardEvent(r);let o=!1;this.enabled&&(c.equals(3)||c.equals(10))?(this._onDidClick.fire(r),o=!0):c.equals(9)&&(this._element.blur(),o=!0),o&&L.EventHelper.stop(c,!0)})),this._register((0,L.addDisposableListener)(this._element,L.EventType.MOUSE_OVER,r=>{this._element.classList.contains("disabled")||this.updateBackground(!0)})),this._register((0,L.addDisposableListener)(this._element,L.EventType.MOUSE_OUT,r=>{this.updateBackground(!1)})),this.focusTracker=this._register((0,L.trackFocus)(this._element)),this._register(this.focusTracker.onDidFocus(()=>{this.enabled&&this.updateBackground(!0)})),this._register(this.focusTracker.onDidBlur(()=>{this.enabled&&this.updateBackground(!1)}))}dispose(){super.dispose(),this._element.remove()}getContentElements(t){const a=[];for(let u of(0,f.renderLabelWithIcons)(t))if(typeof u=="string"){if(u=u.trim(),u==="")continue;const h=document.createElement("span");h.textContent=u,a.push(h)}else a.push(u);return a}updateBackground(t){let a;this.options.secondary?a=t?this.options.buttonSecondaryHoverBackground:this.options.buttonSecondaryBackground:a=t?this.options.buttonHoverBackground:this.options.buttonBackground,a&&(this._element.style.backgroundColor=a)}get element(){return this._element}set label(t){var a;if(this._label===t||(0,C.isMarkdownString)(this._label)&&(0,C.isMarkdownString)(t)&&(0,C.markdownStringEqual)(this._label,t))return;this._element.classList.add("monaco-text-button");const u=this.options.supportShortLabel?this._labelElement:this._element;if((0,C.isMarkdownString)(t)){const h=(0,D.renderMarkdown)(t,{inline:!0});h.dispose();const r=(a=h.element.querySelector("p"))===null||a===void 0?void 0:a.innerHTML;if(r){const c=(0,k.sanitize)(r,{ADD_TAGS:["b","i","u","code","span"],ALLOWED_ATTR:["class"],RETURN_TRUSTED_TYPE:!0});u.innerHTML=c}else(0,L.reset)(u)}else this.options.supportIcons?(0,L.reset)(u,...this.getContentElements(t)):u.textContent=t;typeof this.options.title=="string"?this._element.title=this.options.title:this.options.title&&(this._element.title=(0,D.renderStringAsPlaintext)(t)),this._label=t}get label(){return this._label}set enabled(t){t?(this._element.classList.remove("disabled"),this._element.setAttribute("aria-disabled",String(!1)),this._element.tabIndex=0):(this._element.classList.add("disabled"),this._element.setAttribute("aria-disabled",String(!0)))}get enabled(){return!this._element.classList.contains("disabled")}}e.Button=i}),define(ne[314],se([1,0,7,13,19,55,120,2,20,556]),function(Q,e,L,k,y,D,S,f,_,g){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.setupCustomHover=e.setupNativeHover=void 0;function C(n,t){(0,_.isString)(t)?n.title=(0,S.stripIcons)(t):t?.markdownNotSupportedFallback?n.title=t.markdownNotSupportedFallback:n.removeAttribute("title")}e.setupNativeHover=C;class s{constructor(t,a,u){this.hoverDelegate=t,this.target=a,this.fadeInAnimation=u}update(t,a,u){var h;return we(this,void 0,void 0,function*(){if(this._cancellationTokenSource&&(this._cancellationTokenSource.dispose(!0),this._cancellationTokenSource=void 0),this.isDisposed)return;let r;if(t===void 0||(0,_.isString)(t)||t instanceof HTMLElement)r=t;else if(!(0,_.isFunction)(t.markdown))r=(h=t.markdown)!==null&&h!==void 0?h:t.markdownNotSupportedFallback;else{this._hoverWidget||this.show((0,g.localize)(0,null),a),this._cancellationTokenSource=new y.CancellationTokenSource;const c=this._cancellationTokenSource.token;if(r=yield t.markdown(c),r===void 0&&(r=t.markdownNotSupportedFallback),this.isDisposed||c.isCancellationRequested)return}this.show(r,a,u)})}show(t,a,u){const h=this._hoverWidget;if(this.hasContent(t)){const r=Object.assign({content:t,target:this.target,showPointer:this.hoverDelegate.placement==="element",hoverPosition:2,skipFadeInAnimation:!this.fadeInAnimation||!!h},u);this._hoverWidget=this.hoverDelegate.showHover(r,a)}h?.dispose()}hasContent(t){return t?(0,D.isMarkdownString)(t)?!!t.value:!0:!1}get isDisposed(){var t;return(t=this._hoverWidget)===null||t===void 0?void 0:t.isDisposed}dispose(){var t,a;(t=this._hoverWidget)===null||t===void 0||t.dispose(),(a=this._cancellationTokenSource)===null||a===void 0||a.dispose(!0),this._cancellationTokenSource=void 0}}function i(n,t,a,u){let h,r;const c=(m,v)=>{var b;const w=r!==void 0;m&&(r?.dispose(),r=void 0),v&&(h?.dispose(),h=void 0),w&&((b=n.onDidHideHover)===null||b===void 0||b.call(n))},o=(m,v,b)=>new k.TimeoutTimer(()=>we(this,void 0,void 0,function*(){(!r||r.isDisposed)&&(r=new s(n,b||t,m>0),yield r.update(a,v,u))}),m),d=()=>{if(h)return;const m=new f.DisposableStore,v=E=>c(!1,E.fromElement===t);m.add(L.addDisposableListener(t,L.EventType.MOUSE_LEAVE,v,!0));const b=()=>c(!0,!0);m.add(L.addDisposableListener(t,L.EventType.MOUSE_DOWN,b,!0));const w={targetElements:[t],dispose:()=>{}};if(n.placement===void 0||n.placement==="mouse"){const E=I=>{w.x=I.x+10,I.target instanceof HTMLElement&&I.target.classList.contains("action-label")&&c(!0,!0)};m.add(L.addDisposableListener(t,L.EventType.MOUSE_MOVE,E,!0))}m.add(o(n.delay,!1,w)),h=m},l=L.addDisposableListener(t,L.EventType.MOUSE_OVER,d,!0);return{show:m=>{c(!1,!0),o(0,m)},hide:()=>{c(!0,!0)},update:(m,v)=>we(this,void 0,void 0,function*(){a=m,yield r?.update(a,void 0,v)}),dispose:()=>{l.dispose(),c(!0,!0)}}}e.setupCustomHover=i}),define(ne[226],se([1,0,7,308,314,2,47,166,400]),function(Q,e,L,k,y,D,S,f){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.IconLabel=void 0;class _{constructor(t){this._element=t}get element(){return this._element}set textContent(t){this.disposed||t===this._textContent||(this._textContent=t,this._element.textContent=t)}set className(t){this.disposed||t===this._className||(this._className=t,this._element.className=t)}set empty(t){this.disposed||t===this._empty||(this._empty=t,this._element.style.marginLeft=t?"0":"")}dispose(){this.disposed=!0}}class g extends D.Disposable{constructor(t,a){super(),this.customHovers=new Map,this.creationOptions=a,this.domNode=this._register(new _(L.append(t,L.$(".monaco-icon-label")))),this.labelContainer=L.append(this.domNode.element,L.$(".monaco-icon-label-container"));const u=L.append(this.labelContainer,L.$("span.monaco-icon-name-container"));a?.supportHighlights||a?.supportIcons?this.nameNode=new i(u,!!a.supportIcons):this.nameNode=new C(u),this.hoverDelegate=a?.hoverDelegate}get element(){return this.domNode.element}setLabel(t,a,u){const h=["monaco-icon-label"],r=["monaco-icon-label-container"];let c="";if(u&&(u.extraClasses&&h.push(...u.extraClasses),u.italic&&h.push("italic"),u.strikethrough&&h.push("strikethrough"),u.disabledCommand&&r.push("disabled"),u.title&&(c+=u.title)),this.domNode.className=h.join(" "),this.domNode.element.setAttribute("aria-label",c),this.labelContainer.className=r.join(" "),this.setupHover(u?.descriptionTitle?this.labelContainer:this.element,u?.title),this.nameNode.setLabel(t,u),a||this.descriptionNode){const o=this.getOrCreateDescriptionNode();o instanceof k.HighlightedLabel?(o.set(a||"",u?u.descriptionMatches:void 0,void 0,u?.labelEscapeNewLines),this.setupHover(o.element,u?.descriptionTitle)):(o.textContent=a&&u?.labelEscapeNewLines?k.HighlightedLabel.escapeNewLines(a,[]):a||"",this.setupHover(o.element,u?.descriptionTitle||""),o.empty=!a)}}setupHover(t,a){const u=this.customHovers.get(t);if(u&&(u.dispose(),this.customHovers.delete(t)),!a){t.removeAttribute("title");return}if(!this.hoverDelegate)(0,y.setupNativeHover)(t,a);else{const h=(0,y.setupCustomHover)(this.hoverDelegate,t,a);h&&this.customHovers.set(t,h)}}dispose(){super.dispose();for(const t of this.customHovers.values())t.dispose();this.customHovers.clear()}getOrCreateDescriptionNode(){var t;if(!this.descriptionNode){const a=this._register(new _(L.append(this.labelContainer,L.$("span.monaco-icon-description-container"))));!((t=this.creationOptions)===null||t===void 0)&&t.supportDescriptionHighlights?this.descriptionNode=new k.HighlightedLabel(L.append(a.element,L.$("span.label-description")),{supportIcons:!!this.creationOptions.supportIcons}):this.descriptionNode=this._register(new _(L.append(a.element,L.$("span.label-description"))))}return this.descriptionNode}}e.IconLabel=g;class C{constructor(t){this.container=t,this.label=void 0,this.singleLabel=void 0}setLabel(t,a){if(!(this.label===t&&(0,S.equals)(this.options,a)))if(this.label=t,this.options=a,typeof t=="string")this.singleLabel||(this.container.innerText="",this.container.classList.remove("multiple"),this.singleLabel=L.append(this.container,L.$("a.label-name",{id:a?.domId}))),this.singleLabel.textContent=t;else{this.container.innerText="",this.container.classList.add("multiple"),this.singleLabel=void 0;for(let u=0;u<t.length;u++){const h=t[u],r=a?.domId&&`${a?.domId}_${u}`;L.append(this.container,L.$("a.label-name",{id:r,"data-icon-label-count":t.length,"data-icon-label-index":u,role:"treeitem"},h)),u<t.length-1&&L.append(this.container,L.$("span.label-separator",void 0,a?.separator||"/"))}}}}function s(n,t,a){if(!a)return;let u=0;return n.map(h=>{const r={start:u,end:u+h.length},c=a.map(o=>f.Range.intersect(r,o)).filter(o=>!f.Range.isEmpty(o)).map(({start:o,end:d})=>({start:o-u,end:d-u}));return u=r.end+t.length,c})}class i{constructor(t,a){this.container=t,this.supportIcons=a,this.label=void 0,this.singleLabel=void 0}setLabel(t,a){if(!(this.label===t&&(0,S.equals)(this.options,a)))if(this.label=t,this.options=a,typeof t=="string")this.singleLabel||(this.container.innerText="",this.container.classList.remove("multiple"),this.singleLabel=new k.HighlightedLabel(L.append(this.container,L.$("a.label-name",{id:a?.domId})),{supportIcons:this.supportIcons})),this.singleLabel.set(t,a?.matches,void 0,a?.labelEscapeNewLines);else{this.container.innerText="",this.container.classList.add("multiple"),this.singleLabel=void 0;const u=a?.separator||"/",h=s(t,u,a?.matches);for(let r=0;r<t.length;r++){const c=t[r],o=h?h[r]:void 0,d=a?.domId&&`${a?.domId}_${r}`,l=L.$("a.label-name",{id:d,"data-icon-label-count":t.length,"data-icon-label-index":r,role:"treeitem"});new k.HighlightedLabel(L.append(this.container,l),{supportIcons:this.supportIcons}).set(c,o,void 0,a?.labelEscapeNewLines),r<t.length-1&&L.append(l,L.$("span.label-separator",void 0,u))}}}}}),define(ne[580],se([1,0,7,81,44,183,114,14,6,63,2,17,559,408]),function(Q,e,L,k,y,D,S,f,_,g,C,s,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.SelectBoxList=void 0;const n=L.$,t="selectOption.entry.template";class a{get templateId(){return t}renderTemplate(r){const c=Object.create(null);return c.root=r,c.text=L.append(r,n(".option-text")),c.detail=L.append(r,n(".option-detail")),c.decoratorRight=L.append(r,n(".option-decorator-right")),c}renderElement(r,c,o){const d=o,l=r.text,p=r.detail,m=r.decoratorRight,v=r.isDisabled;d.text.textContent=l,d.detail.textContent=p||"",d.decoratorRight.innerText=m||"",v?d.root.classList.add("option-disabled"):d.root.classList.remove("option-disabled")}disposeTemplate(r){}}class u extends C.Disposable{constructor(r,c,o,d,l){super(),this.options=[],this._currentSelection=0,this._hasDetails=!1,this._skipLayout=!1,this._sticky=!1,this._isVisible=!1,this.styles=d,this.selectBoxOptions=l||Object.create(null),typeof this.selectBoxOptions.minBottomMargin!="number"?this.selectBoxOptions.minBottomMargin=u.DEFAULT_DROPDOWN_MINIMUM_BOTTOM_MARGIN:this.selectBoxOptions.minBottomMargin<0&&(this.selectBoxOptions.minBottomMargin=0),this.selectElement=document.createElement("select"),this.selectElement.className="monaco-select-box monaco-select-box-dropdown-padding",typeof this.selectBoxOptions.ariaLabel=="string"&&this.selectElement.setAttribute("aria-label",this.selectBoxOptions.ariaLabel),typeof this.selectBoxOptions.ariaDescription=="string"&&this.selectElement.setAttribute("aria-description",this.selectBoxOptions.ariaDescription),this._onDidSelect=new _.Emitter,this._register(this._onDidSelect),this.registerListeners(),this.constructSelectDropDown(o),this.selected=c||0,r&&this.setOptions(r,c),this.initStyleSheet()}getHeight(){return 22}getTemplateId(){return t}constructSelectDropDown(r){this.contextViewProvider=r,this.selectDropDownContainer=L.$(".monaco-select-box-dropdown-container"),this.selectDropDownContainer.classList.add("monaco-select-box-dropdown-padding"),this.selectionDetailsPane=L.append(this.selectDropDownContainer,n(".select-box-details-pane"));const c=L.append(this.selectDropDownContainer,n(".select-box-dropdown-container-width-control")),o=L.append(c,n(".width-control-div"));this.widthControlElement=document.createElement("span"),this.widthControlElement.className="option-text-width-control",L.append(o,this.widthControlElement),this._dropDownPosition=0,this.styleElement=L.createStyleSheet(this.selectDropDownContainer),this.selectDropDownContainer.setAttribute("draggable","true"),this._register(L.addDisposableListener(this.selectDropDownContainer,L.EventType.DRAG_START,d=>{L.EventHelper.stop(d,!0)}))}registerListeners(){this._register(L.addStandardDisposableListener(this.selectElement,"change",c=>{this.selected=c.target.selectedIndex,this._onDidSelect.fire({index:c.target.selectedIndex,selected:c.target.value}),this.options[this.selected]&&this.options[this.selected].text&&(this.selectElement.title=this.options[this.selected].text)})),this._register(L.addDisposableListener(this.selectElement,L.EventType.CLICK,c=>{L.EventHelper.stop(c),this._isVisible?this.hideSelectDropDown(!0):this.showSelectDropDown()})),this._register(L.addDisposableListener(this.selectElement,L.EventType.MOUSE_DOWN,c=>{L.EventHelper.stop(c)}));let r;this._register(L.addDisposableListener(this.selectElement,"touchstart",c=>{r=this._isVisible})),this._register(L.addDisposableListener(this.selectElement,"touchend",c=>{L.EventHelper.stop(c),r?this.hideSelectDropDown(!0):this.showSelectDropDown()})),this._register(L.addDisposableListener(this.selectElement,L.EventType.KEY_DOWN,c=>{const o=new y.StandardKeyboardEvent(c);let d=!1;s.isMacintosh?(o.keyCode===18||o.keyCode===16||o.keyCode===10||o.keyCode===3)&&(d=!0):(o.keyCode===18&&o.altKey||o.keyCode===16&&o.altKey||o.keyCode===10||o.keyCode===3)&&(d=!0),d&&(this.showSelectDropDown(),L.EventHelper.stop(c,!0))}))}get onDidSelect(){return this._onDidSelect.event}setOptions(r,c){f.equals(this.options,r)||(this.options=r,this.selectElement.options.length=0,this._hasDetails=!1,this._cachedMaxDetailsHeight=void 0,this.options.forEach((o,d)=>{this.selectElement.add(this.createOption(o.text,d,o.isDisabled)),typeof o.description=="string"&&(this._hasDetails=!0)})),c!==void 0&&(this.select(c),this._currentSelection=this.selected)}setOptionsList(){var r;(r=this.selectList)===null||r===void 0||r.splice(0,this.selectList.length,this.options)}select(r){r>=0&&r<this.options.length?this.selected=r:r>this.options.length-1?this.select(this.options.length-1):this.selected<0&&(this.selected=0),this.selectElement.selectedIndex=this.selected,this.options[this.selected]&&this.options[this.selected].text&&(this.selectElement.title=this.options[this.selected].text)}focus(){this.selectElement&&(this.selectElement.tabIndex=0,this.selectElement.focus())}blur(){this.selectElement&&(this.selectElement.tabIndex=-1,this.selectElement.blur())}setFocusable(r){this.selectElement.tabIndex=r?0:-1}render(r){this.container=r,r.classList.add("select-container"),r.appendChild(this.selectElement),this.styleSelectElement()}initStyleSheet(){const r=[];this.styles.listFocusBackground&&r.push(`.monaco-select-box-dropdown-container > .select-box-dropdown-list-container .monaco-list .monaco-list-row.focused { background-color: ${this.styles.listFocusBackground} !important; }`),this.styles.listFocusForeground&&r.push(`.monaco-select-box-dropdown-container > .select-box-dropdown-list-container .monaco-list .monaco-list-row.focused { color: ${this.styles.listFocusForeground} !important; }`),this.styles.decoratorRightForeground&&r.push(`.monaco-select-box-dropdown-container > .select-box-dropdown-list-container .monaco-list .monaco-list-row:not(.focused) .option-decorator-right { color: ${this.styles.decoratorRightForeground}; }`),this.styles.selectBackground&&this.styles.selectBorder&&this.styles.selectBorder!==this.styles.selectBackground?(r.push(`.monaco-select-box-dropdown-container { border: 1px solid ${this.styles.selectBorder} } `),r.push(`.monaco-select-box-dropdown-container > .select-box-details-pane.border-top { border-top: 1px solid ${this.styles.selectBorder} } `),r.push(`.monaco-select-box-dropdown-container > .select-box-details-pane.border-bottom { border-bottom: 1px solid ${this.styles.selectBorder} } `)):this.styles.selectListBorder&&(r.push(`.monaco-select-box-dropdown-container > .select-box-details-pane.border-top { border-top: 1px solid ${this.styles.selectListBorder} } `),r.push(`.monaco-select-box-dropdown-container > .select-box-details-pane.border-bottom { border-bottom: 1px solid ${this.styles.selectListBorder} } `)),this.styles.listHoverForeground&&r.push(`.monaco-select-box-dropdown-container > .select-box-dropdown-list-container .monaco-list .monaco-list-row:not(.option-disabled):not(.focused):hover { color: ${this.styles.listHoverForeground} !important; }`),this.styles.listHoverBackground&&r.push(`.monaco-select-box-dropdown-container > .select-box-dropdown-list-container .monaco-list .monaco-list-row:not(.option-disabled):not(.focused):hover { background-color: ${this.styles.listHoverBackground} !important; }`),this.styles.listFocusOutline&&r.push(`.monaco-select-box-dropdown-container > .select-box-dropdown-list-container .monaco-list .monaco-list-row.focused { outline: 1.6px dotted ${this.styles.listFocusOutline} !important; outline-offset: -1.6px !important; }`),this.styles.listHoverOutline&&r.push(`.monaco-select-box-dropdown-container > .select-box-dropdown-list-container .monaco-list .monaco-list-row:not(.option-disabled):not(.focused):hover { outline: 1.6px dashed ${this.styles.listHoverOutline} !important; outline-offset: -1.6px !important; }`),r.push(".monaco-select-box-dropdown-container > .select-box-dropdown-list-container .monaco-list .monaco-list-row.option-disabled.focused { background-color: transparent !important; color: inherit !important; outline: none !important; }"),r.push(".monaco-select-box-dropdown-container > .select-box-dropdown-list-container .monaco-list .monaco-list-row.option-disabled:hover { background-color: transparent !important; color: inherit !important; outline: none !important; }"),this.styleElement.textContent=r.join(`
`)}styleSelectElement(){var r,c,o;const d=(r=this.styles.selectBackground)!==null&&r!==void 0?r:"",l=(c=this.styles.selectForeground)!==null&&c!==void 0?c:"",p=(o=this.styles.selectBorder)!==null&&o!==void 0?o:"";this.selectElement.style.backgroundColor=d,this.selectElement.style.color=l,this.selectElement.style.borderColor=p}styleList(){var r,c;const o=(r=this.styles.selectBackground)!==null&&r!==void 0?r:"",d=L.asCssValueWithDefault(this.styles.selectListBackground,o);this.selectDropDownListContainer.style.backgroundColor=d,this.selectionDetailsPane.style.backgroundColor=d;const l=(c=this.styles.focusBorder)!==null&&c!==void 0?c:"";this.selectDropDownContainer.style.outlineColor=l,this.selectDropDownContainer.style.outlineOffset="-1px",this.selectList.style(this.styles)}createOption(r,c,o){const d=document.createElement("option");return d.value=r,d.text=r,d.disabled=!!o,d}showSelectDropDown(){this.selectionDetailsPane.innerText="",!(!this.contextViewProvider||this._isVisible)&&(this.createSelectList(this.selectDropDownContainer),this.setOptionsList(),this.contextViewProvider.showContextView({getAnchor:()=>this.selectElement,render:r=>this.renderSelectDropDown(r,!0),layout:()=>{this.layoutSelectDropDown()},onHide:()=>{this.selectDropDownContainer.classList.remove("visible"),this.selectElement.classList.remove("synthetic-focus")},anchorPosition:this._dropDownPosition},this.selectBoxOptions.optionsAsChildren?this.container:void 0),this._isVisible=!0,this.hideSelectDropDown(!1),this.contextViewProvider.showContextView({getAnchor:()=>this.selectElement,render:r=>this.renderSelectDropDown(r),layout:()=>this.layoutSelectDropDown(),onHide:()=>{this.selectDropDownContainer.classList.remove("visible"),this.selectElement.classList.remove("synthetic-focus")},anchorPosition:this._dropDownPosition},this.selectBoxOptions.optionsAsChildren?this.container:void 0),this._currentSelection=this.selected,this._isVisible=!0,this.selectElement.setAttribute("aria-expanded","true"))}hideSelectDropDown(r){!this.contextViewProvider||!this._isVisible||(this._isVisible=!1,this.selectElement.setAttribute("aria-expanded","false"),r&&this.selectElement.focus(),this.contextViewProvider.hideContextView())}renderSelectDropDown(r,c){return r.appendChild(this.selectDropDownContainer),this.layoutSelectDropDown(c),{dispose:()=>{try{r.removeChild(this.selectDropDownContainer)}catch{}}}}measureMaxDetailsHeight(){let r=0;return this.options.forEach((c,o)=>{this.updateDetail(o),this.selectionDetailsPane.offsetHeight>r&&(r=this.selectionDetailsPane.offsetHeight)}),r}layoutSelectDropDown(r){if(this._skipLayout)return!1;if(this.selectList){this.selectDropDownContainer.classList.add("visible");const c=L.getDomNodePagePosition(this.selectElement),o=getComputedStyle(this.selectElement),d=parseFloat(o.getPropertyValue("--dropdown-padding-top"))+parseFloat(o.getPropertyValue("--dropdown-padding-bottom")),l=window.innerHeight-c.top-c.height-(this.selectBoxOptions.minBottomMargin||0),p=c.top-u.DEFAULT_DROPDOWN_MINIMUM_TOP_MARGIN,m=this.selectElement.offsetWidth,v=this.setWidthControlElement(this.widthControlElement),b=Math.max(v,Math.round(m)).toString()+"px";this.selectDropDownContainer.style.width=b,this.selectList.getHTMLElement().style.height="",this.selectList.layout();let w=this.selectList.contentHeight;this._hasDetails&&this._cachedMaxDetailsHeight===void 0&&(this._cachedMaxDetailsHeight=this.measureMaxDetailsHeight());const E=this._hasDetails?this._cachedMaxDetailsHeight:0,I=w+d+E,M=Math.floor((l-d-E)/this.getHeight()),P=Math.floor((p-d-E)/this.getHeight());if(r)return c.top+c.height>window.innerHeight-22||c.top<u.DEFAULT_DROPDOWN_MINIMUM_TOP_MARGIN||M<1&&P<1?!1:(M<u.DEFAULT_MINIMUM_VISIBLE_OPTIONS&&P>M&&this.options.length>M?(this._dropDownPosition=1,this.selectDropDownContainer.removeChild(this.selectDropDownListContainer),this.selectDropDownContainer.removeChild(this.selectionDetailsPane),this.selectDropDownContainer.appendChild(this.selectionDetailsPane),this.selectDropDownContainer.appendChild(this.selectDropDownListContainer),this.selectionDetailsPane.classList.remove("border-top"),this.selectionDetailsPane.classList.add("border-bottom")):(this._dropDownPosition=0,this.selectDropDownContainer.removeChild(this.selectDropDownListContainer),this.selectDropDownContainer.removeChild(this.selectionDetailsPane),this.selectDropDownContainer.appendChild(this.selectDropDownListContainer),this.selectDropDownContainer.appendChild(this.selectionDetailsPane),this.selectionDetailsPane.classList.remove("border-bottom"),this.selectionDetailsPane.classList.add("border-top")),!0);if(c.top+c.height>window.innerHeight-22||c.top<u.DEFAULT_DROPDOWN_MINIMUM_TOP_MARGIN||this._dropDownPosition===0&&M<1||this._dropDownPosition===1&&P<1)return this.hideSelectDropDown(!0),!1;if(this._dropDownPosition===0){if(this._isVisible&&M+P<1)return this.hideSelectDropDown(!0),!1;I>l&&(w=M*this.getHeight())}else I>p&&(w=P*this.getHeight());return this.selectList.layout(w),this.selectList.domFocus(),this.selectList.length>0&&(this.selectList.setFocus([this.selected||0]),this.selectList.reveal(this.selectList.getFocus()[0]||0)),this._hasDetails?(this.selectList.getHTMLElement().style.height=w+d+"px",this.selectDropDownContainer.style.height=""):this.selectDropDownContainer.style.height=w+d+"px",this.updateDetail(this.selected),this.selectDropDownContainer.style.width=b,this.selectDropDownListContainer.setAttribute("tabindex","0"),this.selectElement.classList.add("synthetic-focus"),this.selectDropDownContainer.classList.add("synthetic-focus"),!0}else return!1}setWidthControlElement(r){let c=0;if(r){let o=0,d=0;this.options.forEach((l,p)=>{const m=l.detail?l.detail.length:0,v=l.decoratorRight?l.decoratorRight.length:0,b=l.text.length+m+v;b>d&&(o=p,d=b)}),r.textContent=this.options[o].text+(this.options[o].decoratorRight?this.options[o].decoratorRight+" ":""),c=L.getTotalWidth(r)}return c}createSelectList(r){if(this.selectList)return;this.selectDropDownListContainer=L.append(r,n(".select-box-dropdown-list-container")),this.listRenderer=new a,this.selectList=new S.List("SelectBoxCustom",this.selectDropDownListContainer,this,[this.listRenderer],{useShadows:!1,verticalScrollMode:3,keyboardSupport:!1,mouseSupport:!1,accessibilityProvider:{getAriaLabel:d=>{let l=d.text;return d.detail&&(l+=`. ${d.detail}`),d.decoratorRight&&(l+=`. ${d.decoratorRight}`),d.description&&(l+=`. ${d.description}`),l},getWidgetAriaLabel:()=>(0,i.localize)(0,null),getRole:()=>s.isMacintosh?"":"option",getWidgetRole:()=>"listbox"}}),this.selectBoxOptions.ariaLabel&&(this.selectList.ariaLabel=this.selectBoxOptions.ariaLabel);const c=this._register(new k.DomEmitter(this.selectDropDownListContainer,"keydown")),o=_.Event.chain(c.event).filter(()=>this.selectList.length>0).map(d=>new y.StandardKeyboardEvent(d));this._register(o.filter(d=>d.keyCode===3).on(d=>this.onEnter(d),this)),this._register(o.filter(d=>d.keyCode===2).on(d=>this.onEnter(d),this)),this._register(o.filter(d=>d.keyCode===9).on(d=>this.onEscape(d),this)),this._register(o.filter(d=>d.keyCode===16).on(d=>this.onUpArrow(d),this)),this._register(o.filter(d=>d.keyCode===18).on(d=>this.onDownArrow(d),this)),this._register(o.filter(d=>d.keyCode===12).on(this.onPageDown,this)),this._register(o.filter(d=>d.keyCode===11).on(this.onPageUp,this)),this._register(o.filter(d=>d.keyCode===14).on(this.onHome,this)),this._register(o.filter(d=>d.keyCode===13).on(this.onEnd,this)),this._register(o.filter(d=>d.keyCode>=21&&d.keyCode<=56||d.keyCode>=85&&d.keyCode<=113).on(this.onCharacter,this)),this._register(L.addDisposableListener(this.selectList.getHTMLElement(),L.EventType.POINTER_UP,d=>this.onPointerUp(d))),this._register(this.selectList.onMouseOver(d=>typeof d.index<"u"&&this.selectList.setFocus([d.index]))),this._register(this.selectList.onDidChangeFocus(d=>this.onListFocus(d))),this._register(L.addDisposableListener(this.selectDropDownContainer,L.EventType.FOCUS_OUT,d=>{!this._isVisible||L.isAncestor(d.relatedTarget,this.selectDropDownContainer)||this.onListBlur()})),this.selectList.getHTMLElement().setAttribute("aria-label",this.selectBoxOptions.ariaLabel||""),this.selectList.getHTMLElement().setAttribute("aria-expanded","true"),this.styleList()}onPointerUp(r){if(!this.selectList.length)return;L.EventHelper.stop(r);const c=r.target;if(!c||c.classList.contains("slider"))return;const o=c.closest(".monaco-list-row");if(!o)return;const d=Number(o.getAttribute("data-index")),l=o.classList.contains("option-disabled");d>=0&&d<this.options.length&&!l&&(this.selected=d,this.select(this.selected),this.selectList.setFocus([this.selected]),this.selectList.reveal(this.selectList.getFocus()[0]),this.selected!==this._currentSelection&&(this._currentSelection=this.selected,this._onDidSelect.fire({index:this.selectElement.selectedIndex,selected:this.options[this.selected].text}),this.options[this.selected]&&this.options[this.selected].text&&(this.selectElement.title=this.options[this.selected].text)),this.hideSelectDropDown(!0))}onListBlur(){this._sticky||(this.selected!==this._currentSelection&&this.select(this._currentSelection),this.hideSelectDropDown(!1))}renderDescriptionMarkdown(r,c){const o=l=>{for(let p=0;p<l.childNodes.length;p++){const m=l.childNodes.item(p);(m.tagName&&m.tagName.toLowerCase())==="img"?l.removeChild(m):o(m)}},d=(0,D.renderMarkdown)({value:r,supportThemeIcons:!0},{actionHandler:c});return d.element.classList.add("select-box-description-markdown"),o(d.element),d.element}onListFocus(r){!this._isVisible||!this._hasDetails||this.updateDetail(r.indexes[0])}updateDetail(r){var c,o;this.selectionDetailsPane.innerText="";const d=this.options[r],l=(c=d?.description)!==null&&c!==void 0?c:"",p=(o=d?.descriptionIsMarkdown)!==null&&o!==void 0?o:!1;if(l){if(p){const m=d.descriptionMarkdownActionHandler;this.selectionDetailsPane.appendChild(this.renderDescriptionMarkdown(l,m))}else this.selectionDetailsPane.innerText=l;this.selectionDetailsPane.style.display="block"}else this.selectionDetailsPane.style.display="none";this._skipLayout=!0,this.contextViewProvider.layout(),this._skipLayout=!1}onEscape(r){L.EventHelper.stop(r),this.select(this._currentSelection),this.hideSelectDropDown(!0)}onEnter(r){L.EventHelper.stop(r),this.selected!==this._currentSelection&&(this._currentSelection=this.selected,this._onDidSelect.fire({index:this.selectElement.selectedIndex,selected:this.options[this.selected].text}),this.options[this.selected]&&this.options[this.selected].text&&(this.selectElement.title=this.options[this.selected].text)),this.hideSelectDropDown(!0)}onDownArrow(r){if(this.selected<this.options.length-1){L.EventHelper.stop(r,!0);const c=this.options[this.selected+1].isDisabled;if(c&&this.options.length>this.selected+2)this.selected+=2;else{if(c)return;this.selected++}this.select(this.selected),this.selectList.setFocus([this.selected]),this.selectList.reveal(this.selectList.getFocus()[0])}}onUpArrow(r){this.selected>0&&(L.EventHelper.stop(r,!0),this.options[this.selected-1].isDisabled&&this.selected>1?this.selected-=2:this.selected--,this.select(this.selected),this.selectList.setFocus([this.selected]),this.selectList.reveal(this.selectList.getFocus()[0]))}onPageUp(r){L.EventHelper.stop(r),this.selectList.focusPreviousPage(),setTimeout(()=>{this.selected=this.selectList.getFocus()[0],this.options[this.selected].isDisabled&&this.selected<this.options.length-1&&(this.selected++,this.selectList.setFocus([this.selected])),this.selectList.reveal(this.selected),this.select(this.selected)},1)}onPageDown(r){L.EventHelper.stop(r),this.selectList.focusNextPage(),setTimeout(()=>{this.selected=this.selectList.getFocus()[0],this.options[this.selected].isDisabled&&this.selected>0&&(this.selected--,this.selectList.setFocus([this.selected])),this.selectList.reveal(this.selected),this.select(this.selected)},1)}onHome(r){L.EventHelper.stop(r),!(this.options.length<2)&&(this.selected=0,this.options[this.selected].isDisabled&&this.selected>1&&this.selected++,this.selectList.setFocus([this.selected]),this.selectList.reveal(this.selected),this.select(this.selected))}onEnd(r){L.EventHelper.stop(r),!(this.options.length<2)&&(this.selected=this.options.length-1,this.options[this.selected].isDisabled&&this.selected>1&&this.selected--,this.selectList.setFocus([this.selected]),this.selectList.reveal(this.selected),this.select(this.selected))}onCharacter(r){const c=g.KeyCodeUtils.toString(r.keyCode);let o=-1;for(let d=0;d<this.options.length-1;d++)if(o=(d+this.selected+1)%this.options.length,this.options[o].text.charAt(0).toUpperCase()===c&&!this.options[o].isDisabled){this.select(o),this.selectList.setFocus([o]),this.selectList.reveal(this.selectList.getFocus()[0]),L.EventHelper.stop(r);break}}dispose(){this.hideSelectDropDown(!1),super.dispose()}}e.SelectBoxList=u,u.DEFAULT_DROPDOWN_MINIMUM_BOTTOM_MARGIN=32,u.DEFAULT_DROPDOWN_MINIMUM_TOP_MARGIN=2,u.DEFAULT_MINIMUM_VISIBLE_OPTIONS=3}),define(ne[581],se([1,0,580,575,83,17,407]),function(Q,e,L,k,y,D){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.SelectBox=void 0;class S extends y.Widget{constructor(_,g,C,s,i){super(),D.isMacintosh&&!i?.useCustomDrawn?this.selectBoxDelegate=new k.SelectBoxNative(_,g,s,i):this.selectBoxDelegate=new L.SelectBoxList(_,g,C,s,i),this._register(this.selectBoxDelegate)}get onDidSelect(){return this.selectBoxDelegate.onDidSelect}setOptions(_,g){this.selectBoxDelegate.setOptions(_,g)}select(_){this.selectBoxDelegate.select(_)}focus(){this.selectBoxDelegate.focus()}blur(){this.selectBoxDelegate.blur()}setFocusable(_){this.selectBoxDelegate.setFocusable(_)}render(_){this.selectBoxDelegate.render(_)}}e.SelectBox=S}),define(ne[131],se([1,0,52,197,7,61,314,581,39,2,17,20,551,265]),function(Q,e,L,k,y,D,S,f,_,g,C,s,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.SelectActionViewItem=e.ActionViewItem=e.BaseActionViewItem=void 0;class n extends g.Disposable{get action(){return this._action}constructor(h,r,c={}){super(),this.options=c,this._context=h||this,this._action=r,r instanceof _.Action&&this._register(r.onDidChange(o=>{this.element&&this.handleActionChangeEvent(o)}))}handleActionChangeEvent(h){h.enabled!==void 0&&this.updateEnabled(),h.checked!==void 0&&this.updateChecked(),h.class!==void 0&&this.updateClass(),h.label!==void 0&&(this.updateLabel(),this.updateTooltip()),h.tooltip!==void 0&&this.updateTooltip()}get actionRunner(){return this._actionRunner||(this._actionRunner=this._register(new _.ActionRunner)),this._actionRunner}set actionRunner(h){this._actionRunner=h}isEnabled(){return this._action.enabled}setActionContext(h){this._context=h}render(h){const r=this.element=h;this._register(D.Gesture.addTarget(h));const c=this.options&&this.options.draggable;c&&(h.draggable=!0,L.isFirefox&&this._register((0,y.addDisposableListener)(h,y.EventType.DRAG_START,o=>{var d;return(d=o.dataTransfer)===null||d===void 0?void 0:d.setData(k.DataTransfers.TEXT,this._action.label)}))),this._register((0,y.addDisposableListener)(r,D.EventType.Tap,o=>this.onClick(o,!0))),this._register((0,y.addDisposableListener)(r,y.EventType.MOUSE_DOWN,o=>{c||y.EventHelper.stop(o,!0),this._action.enabled&&o.button===0&&r.classList.add("active")})),C.isMacintosh&&this._register((0,y.addDisposableListener)(r,y.EventType.CONTEXT_MENU,o=>{o.button===0&&o.ctrlKey===!0&&this.onClick(o)})),this._register((0,y.addDisposableListener)(r,y.EventType.CLICK,o=>{y.EventHelper.stop(o,!0),this.options&&this.options.isMenu||this.onClick(o)})),this._register((0,y.addDisposableListener)(r,y.EventType.DBLCLICK,o=>{y.EventHelper.stop(o,!0)})),[y.EventType.MOUSE_UP,y.EventType.MOUSE_OUT].forEach(o=>{this._register((0,y.addDisposableListener)(r,o,d=>{y.EventHelper.stop(d),r.classList.remove("active")}))})}onClick(h,r=!1){var c;y.EventHelper.stop(h,!0);const o=s.isUndefinedOrNull(this._context)?!((c=this.options)===null||c===void 0)&&c.useEventAsContext?h:{preserveFocus:r}:this._context;this.actionRunner.run(this._action,o)}focus(){this.element&&(this.element.tabIndex=0,this.element.focus(),this.element.classList.add("focused"))}blur(){this.element&&(this.element.blur(),this.element.tabIndex=-1,this.element.classList.remove("focused"))}setFocusable(h){this.element&&(this.element.tabIndex=h?0:-1)}get trapsArrowNavigation(){return!1}updateEnabled(){}updateLabel(){}getTooltip(){return this.action.tooltip}updateTooltip(){var h;if(!this.element)return;const r=(h=this.getTooltip())!==null&&h!==void 0?h:"";this.updateAriaLabel(),this.options.hoverDelegate?(this.element.title="",this.customHover?this.customHover.update(r):(this.customHover=(0,S.setupCustomHover)(this.options.hoverDelegate,this.element,r),this._store.add(this.customHover))):this.element.title=r}updateAriaLabel(){var h;if(this.element){const r=(h=this.getTooltip())!==null&&h!==void 0?h:"";this.element.setAttribute("aria-label",r)}}updateClass(){}updateChecked(){}dispose(){this.element&&(this.element.remove(),this.element=void 0),this._context=void 0,super.dispose()}}e.BaseActionViewItem=n;class t extends n{constructor(h,r,c){super(h,r,c),this.options=c,this.options.icon=c.icon!==void 0?c.icon:!1,this.options.label=c.label!==void 0?c.label:!0,this.cssClass=""}render(h){super.render(h),this.element&&(this.label=(0,y.append)(this.element,(0,y.$)("a.action-label"))),this.label&&this.label.setAttribute("role",this.getDefaultAriaRole()),this.options.label&&this.options.keybinding&&this.element&&((0,y.append)(this.element,(0,y.$)("span.keybinding")).textContent=this.options.keybinding),this.updateClass(),this.updateLabel(),this.updateTooltip(),this.updateEnabled(),this.updateChecked()}getDefaultAriaRole(){return this._action.id===_.Separator.ID?"presentation":this.options.isMenu?"menuitem":"button"}focus(){this.label&&(this.label.tabIndex=0,this.label.focus())}blur(){this.label&&(this.label.tabIndex=-1)}setFocusable(h){this.label&&(this.label.tabIndex=h?0:-1)}updateLabel(){this.options.label&&this.label&&(this.label.textContent=this.action.label)}getTooltip(){let h=null;return this.action.tooltip?h=this.action.tooltip:!this.options.label&&this.action.label&&this.options.icon&&(h=this.action.label,this.options.keybinding&&(h=i.localize(0,null,h,this.options.keybinding))),h??void 0}updateClass(){var h;this.cssClass&&this.label&&this.label.classList.remove(...this.cssClass.split(" ")),this.options.icon?(this.cssClass=this.action.class,this.label&&(this.label.classList.add("codicon"),this.cssClass&&this.label.classList.add(...this.cssClass.split(" "))),this.updateEnabled()):(h=this.label)===null||h===void 0||h.classList.remove("codicon")}updateEnabled(){var h,r;this.action.enabled?(this.label&&(this.label.removeAttribute("aria-disabled"),this.label.classList.remove("disabled")),(h=this.element)===null||h===void 0||h.classList.remove("disabled")):(this.label&&(this.label.setAttribute("aria-disabled","true"),this.label.classList.add("disabled")),(r=this.element)===null||r===void 0||r.classList.add("disabled"))}updateAriaLabel(){var h;if(this.label){const r=(h=this.getTooltip())!==null&&h!==void 0?h:"";this.label.setAttribute("aria-label",r)}}updateChecked(){this.label&&(this.action.checked!==void 0?(this.label.classList.toggle("checked",this.action.checked),this.label.setAttribute("aria-checked",this.action.checked?"true":"false"),this.label.setAttribute("role","checkbox")):(this.label.classList.remove("checked"),this.label.setAttribute("aria-checked",""),this.label.setAttribute("role",this.getDefaultAriaRole())))}}e.ActionViewItem=t;class a extends n{constructor(h,r,c,o,d,l,p){super(h,r),this.selectBox=new f.SelectBox(c,o,d,l,p),this.selectBox.setFocusable(!1),this._register(this.selectBox),this.registerListeners()}select(h){this.selectBox.select(h)}registerListeners(){this._register(this.selectBox.onDidSelect(h=>this.runAction(h.selected,h.index)))}runAction(h,r){this.actionRunner.run(this._action,this.getActionContext(h,r))}getActionContext(h,r){return h}setFocusable(h){this.selectBox.setFocusable(h)}focus(){var h;(h=this.selectBox)===null||h===void 0||h.focus()}blur(){var h;(h=this.selectBox)===null||h===void 0||h.blur()}render(h){this.selectBox.render(h)}}e.SelectActionViewItem=a}),define(ne[68],se([1,0,7,44,131,39,6,2,20,265]),function(Q,e,L,k,y,D,S,f,_){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ActionBar=void 0;class g extends f.Disposable{constructor(s,i={}){var n,t,a,u,h,r;super(),this._actionRunnerDisposables=this._register(new f.DisposableStore),this.viewItemDisposables=this._register(new f.DisposableMap),this.triggerKeyDown=!1,this.focusable=!0,this._onDidBlur=this._register(new S.Emitter),this.onDidBlur=this._onDidBlur.event,this._onDidCancel=this._register(new S.Emitter({onWillAddFirstListener:()=>this.cancelHasListener=!0})),this.onDidCancel=this._onDidCancel.event,this.cancelHasListener=!1,this._onDidRun=this._register(new S.Emitter),this.onDidRun=this._onDidRun.event,this._onWillRun=this._register(new S.Emitter),this.onWillRun=this._onWillRun.event,this.options=i,this._context=(n=i.context)!==null&&n!==void 0?n:null,this._orientation=(t=this.options.orientation)!==null&&t!==void 0?t:0,this._triggerKeys={keyDown:(u=(a=this.options.triggerKeys)===null||a===void 0?void 0:a.keyDown)!==null&&u!==void 0?u:!1,keys:(r=(h=this.options.triggerKeys)===null||h===void 0?void 0:h.keys)!==null&&r!==void 0?r:[3,10]},this.options.actionRunner?this._actionRunner=this.options.actionRunner:(this._actionRunner=new D.ActionRunner,this._actionRunnerDisposables.add(this._actionRunner)),this._actionRunnerDisposables.add(this._actionRunner.onDidRun(d=>this._onDidRun.fire(d))),this._actionRunnerDisposables.add(this._actionRunner.onWillRun(d=>this._onWillRun.fire(d))),this.viewItems=[],this.focusedItem=void 0,this.domNode=document.createElement("div"),this.domNode.className="monaco-action-bar",i.animated!==!1&&this.domNode.classList.add("animated");let c,o;switch(this._orientation){case 0:c=[15],o=[17];break;case 1:c=[16],o=[18],this.domNode.className+=" vertical";break}this._register(L.addDisposableListener(this.domNode,L.EventType.KEY_DOWN,d=>{const l=new k.StandardKeyboardEvent(d);let p=!0;const m=typeof this.focusedItem=="number"?this.viewItems[this.focusedItem]:void 0;c&&(l.equals(c[0])||l.equals(c[1]))?p=this.focusPrevious():o&&(l.equals(o[0])||l.equals(o[1]))?p=this.focusNext():l.equals(9)&&this.cancelHasListener?this._onDidCancel.fire():l.equals(14)?p=this.focusFirst():l.equals(13)?p=this.focusLast():l.equals(2)&&m instanceof y.BaseActionViewItem&&m.trapsArrowNavigation?p=this.focusNext():this.isTriggerKeyEvent(l)?this._triggerKeys.keyDown?this.doTrigger(l):this.triggerKeyDown=!0:p=!1,p&&(l.preventDefault(),l.stopPropagation())})),this._register(L.addDisposableListener(this.domNode,L.EventType.KEY_UP,d=>{const l=new k.StandardKeyboardEvent(d);this.isTriggerKeyEvent(l)?(!this._triggerKeys.keyDown&&this.triggerKeyDown&&(this.triggerKeyDown=!1,this.doTrigger(l)),l.preventDefault(),l.stopPropagation()):(l.equals(2)||l.equals(1026))&&this.updateFocusedItem()})),this.focusTracker=this._register(L.trackFocus(this.domNode)),this._register(this.focusTracker.onDidBlur(()=>{(L.getActiveElement()===this.domNode||!L.isAncestor(L.getActiveElement(),this.domNode))&&(this._onDidBlur.fire(),this.previouslyFocusedItem=this.focusedItem,this.focusedItem=void 0,this.triggerKeyDown=!1)})),this._register(this.focusTracker.onDidFocus(()=>this.updateFocusedItem())),this.actionsList=document.createElement("ul"),this.actionsList.className="actions-container",this.options.highlightToggledItems&&this.actionsList.classList.add("highlight-toggled"),this.actionsList.setAttribute("role",this.options.ariaRole||"toolbar"),this.options.ariaLabel&&this.actionsList.setAttribute("aria-label",this.options.ariaLabel),this.domNode.appendChild(this.actionsList),s.appendChild(this.domNode)}refreshRole(){this.length()>=2?this.actionsList.setAttribute("role",this.options.ariaRole||"toolbar"):this.actionsList.setAttribute("role","presentation")}setFocusable(s){if(this.focusable=s,this.focusable){const i=this.viewItems.find(n=>n instanceof y.BaseActionViewItem&&n.isEnabled());i instanceof y.BaseActionViewItem&&i.setFocusable(!0)}else this.viewItems.forEach(i=>{i instanceof y.BaseActionViewItem&&i.setFocusable(!1)})}isTriggerKeyEvent(s){let i=!1;return this._triggerKeys.keys.forEach(n=>{i=i||s.equals(n)}),i}updateFocusedItem(){for(let s=0;s<this.actionsList.children.length;s++){const i=this.actionsList.children[s];if(L.isAncestor(L.getActiveElement(),i)){this.focusedItem=s;break}}}get context(){return this._context}set context(s){this._context=s,this.viewItems.forEach(i=>i.setActionContext(s))}get actionRunner(){return this._actionRunner}set actionRunner(s){this._actionRunner=s,this._actionRunnerDisposables.clear(),this._actionRunnerDisposables.add(this._actionRunner.onDidRun(i=>this._onDidRun.fire(i))),this._actionRunnerDisposables.add(this._actionRunner.onWillRun(i=>this._onWillRun.fire(i))),this.viewItems.forEach(i=>i.actionRunner=s)}getContainer(){return this.domNode}getAction(s){var i;if(typeof s=="number")return(i=this.viewItems[s])===null||i===void 0?void 0:i.action;if(s instanceof HTMLElement){for(;s.parentElement!==this.actionsList;){if(!s.parentElement)return;s=s.parentElement}for(let n=0;n<this.actionsList.childNodes.length;n++)if(this.actionsList.childNodes[n]===s)return this.viewItems[n].action}}push(s,i={}){const n=Array.isArray(s)?s:[s];let t=_.isNumber(i.index)?i.index:null;n.forEach(a=>{const u=document.createElement("li");u.className="action-item",u.setAttribute("role","presentation");let h;const r=Object.assign({hoverDelegate:this.options.hoverDelegate},i);this.options.actionViewItemProvider&&(h=this.options.actionViewItemProvider(a,r)),h||(h=new y.ActionViewItem(this.context,a,r)),this.options.allowContextMenu||this.viewItemDisposables.set(h,L.addDisposableListener(u,L.EventType.CONTEXT_MENU,c=>{L.EventHelper.stop(c,!0)})),h.actionRunner=this._actionRunner,h.setActionContext(this.context),h.render(u),this.focusable&&h instanceof y.BaseActionViewItem&&this.viewItems.length===0&&h.setFocusable(!0),t===null||t<0||t>=this.actionsList.children.length?(this.actionsList.appendChild(u),this.viewItems.push(h)):(this.actionsList.insertBefore(u,this.actionsList.children[t]),this.viewItems.splice(t,0,h),t++)}),typeof this.focusedItem=="number"&&this.focus(this.focusedItem),this.refreshRole()}clear(){this.isEmpty()||(this.viewItems=(0,f.dispose)(this.viewItems),this.viewItemDisposables.clearAndDisposeAll(),L.clearNode(this.actionsList),this.refreshRole())}length(){return this.viewItems.length}isEmpty(){return this.viewItems.length===0}focus(s){let i=!1,n;if(s===void 0?i=!0:typeof s=="number"?n=s:typeof s=="boolean"&&(i=s),i&&typeof this.focusedItem>"u"){const t=this.viewItems.findIndex(a=>a.isEnabled());this.focusedItem=t===-1?void 0:t,this.updateFocus(void 0,void 0,!0)}else n!==void 0&&(this.focusedItem=n),this.updateFocus(void 0,void 0,!0)}focusFirst(){return this.focusedItem=this.length()-1,this.focusNext(!0)}focusLast(){return this.focusedItem=0,this.focusPrevious(!0)}focusNext(s){if(typeof this.focusedItem>"u")this.focusedItem=this.viewItems.length-1;else if(this.viewItems.length<=1)return!1;const i=this.focusedItem;let n;do{if(!s&&this.options.preventLoopNavigation&&this.focusedItem+1>=this.viewItems.length)return this.focusedItem=i,!1;this.focusedItem=(this.focusedItem+1)%this.viewItems.length,n=this.viewItems[this.focusedItem]}while(this.focusedItem!==i&&(this.options.focusOnlyEnabledItems&&!n.isEnabled()||n.action.id===D.Separator.ID));return this.updateFocus(),!0}focusPrevious(s){if(typeof this.focusedItem>"u")this.focusedItem=0;else if(this.viewItems.length<=1)return!1;const i=this.focusedItem;let n;do{if(this.focusedItem=this.focusedItem-1,this.focusedItem<0){if(!s&&this.options.preventLoopNavigation)return this.focusedItem=i,!1;this.focusedItem=this.viewItems.length-1}n=this.viewItems[this.focusedItem]}while(this.focusedItem!==i&&(this.options.focusOnlyEnabledItems&&!n.isEnabled()||n.action.id===D.Separator.ID));return this.updateFocus(!0),!0}updateFocus(s,i,n=!1){var t;typeof this.focusedItem>"u"&&this.actionsList.focus({preventScroll:i}),this.previouslyFocusedItem!==void 0&&this.previouslyFocusedItem!==this.focusedItem&&((t=this.viewItems[this.previouslyFocusedItem])===null||t===void 0||t.blur());const a=this.focusedItem!==void 0&&this.viewItems[this.focusedItem];if(a){let u=!0;_.isFunction(a.focus)||(u=!1),this.options.focusOnlyEnabledItems&&_.isFunction(a.isEnabled)&&!a.isEnabled()&&(u=!1),a.action.id===D.Separator.ID&&(u=!1),u?(n||this.previouslyFocusedItem!==this.focusedItem)&&(a.focus(s),this.previouslyFocusedItem=this.focusedItem):(this.actionsList.focus({preventScroll:i}),this.previouslyFocusedItem=void 0)}}doTrigger(s){if(typeof this.focusedItem>"u")return;const i=this.viewItems[this.focusedItem];if(i instanceof y.BaseActionViewItem){const n=i._context===null||i._context===void 0?s:i._context;this.run(i._action,n)}}run(s,i){return we(this,void 0,void 0,function*(){yield this._actionRunner.run(s,i)})}dispose(){this._context=void 0,this.viewItems=(0,f.dispose)(this.viewItems),this.getContainer().remove(),super.dispose()}}e.ActionBar=g}),define(ne[315],se([1,0,7,131,572,6,266]),function(Q,e,L,k,y,D){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.DropdownMenuActionViewItem=void 0;class S extends k.BaseActionViewItem{constructor(_,g,C,s=Object.create(null)){super(null,_,s),this.actionItem=null,this._onDidChangeVisibility=this._register(new D.Emitter),this.onDidChangeVisibility=this._onDidChangeVisibility.event,this.menuActionsOrProvider=g,this.contextMenuProvider=C,this.options=s,this.options.actionRunner&&(this.actionRunner=this.options.actionRunner)}render(_){this.actionItem=_;const g=i=>{this.element=(0,L.append)(i,(0,L.$)("a.action-label"));let n=[];return typeof this.options.classNames=="string"?n=this.options.classNames.split(/\s+/g).filter(t=>!!t):this.options.classNames&&(n=this.options.classNames),n.find(t=>t==="icon")||n.push("codicon"),this.element.classList.add(...n),this.element.setAttribute("role","button"),this.element.setAttribute("aria-haspopup","true"),this.element.setAttribute("aria-expanded","false"),this.element.title=this._action.label||"",this.element.ariaLabel=this._action.label||"",null},C=Array.isArray(this.menuActionsOrProvider),s={contextMenuProvider:this.contextMenuProvider,labelRenderer:g,menuAsChild:this.options.menuAsChild,actions:C?this.menuActionsOrProvider:void 0,actionProvider:C?void 0:this.menuActionsOrProvider,skipTelemetry:this.options.skipTelemetry};if(this.dropdownMenu=this._register(new y.DropdownMenu(_,s)),this._register(this.dropdownMenu.onDidChangeVisibility(i=>{var n;(n=this.element)===null||n===void 0||n.setAttribute("aria-expanded",`${i}`),this._onDidChangeVisibility.fire(i)})),this.dropdownMenu.menuOptions={actionViewItemProvider:this.options.actionViewItemProvider,actionRunner:this.actionRunner,getKeyBinding:this.options.keybindingProvider,context:this._context},this.options.anchorAlignmentProvider){const i=this;this.dropdownMenu.menuOptions=Object.assign(Object.assign({},this.dropdownMenu.menuOptions),{get anchorAlignment(){return i.options.anchorAlignmentProvider()}})}this.updateTooltip(),this.updateEnabled()}getTooltip(){let _=null;return this.action.tooltip?_=this.action.tooltip:this.action.label&&(_=this.action.label),_??void 0}setActionContext(_){super.setActionContext(_),this.dropdownMenu&&(this.dropdownMenu.menuOptions?this.dropdownMenu.menuOptions.context=_:this.dropdownMenu.menuOptions={context:_})}show(){var _;(_=this.dropdownMenu)===null||_===void 0||_.show()}updateEnabled(){var _,g;const C=!this.action.enabled;(_=this.actionItem)===null||_===void 0||_.classList.toggle("disabled",C),(g=this.element)===null||g===void 0||g.classList.toggle("disabled",C)}}e.DropdownMenuActionViewItem=S}),define(ne[227],se([1,0,7,81,305,68,49,75,83,6,388,47,557,401]),function(Q,e,L,k,y,D,S,f,_,g,C,s,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.HistoryInputBox=e.InputBox=e.unthemedInboxStyles=void 0;const n=L.$;e.unthemedInboxStyles={inputBackground:"#3C3C3C",inputForeground:"#CCCCCC",inputValidationInfoBorder:"#55AAFF",inputValidationInfoBackground:"#063B49",inputValidationWarningBorder:"#B89500",inputValidationWarningBackground:"#352A05",inputValidationErrorBorder:"#BE1100",inputValidationErrorBackground:"#5A1D1D",inputBorder:void 0,inputValidationErrorForeground:void 0,inputValidationInfoForeground:void 0,inputValidationWarningForeground:void 0};class t extends _.Widget{constructor(h,r,c){var o;super(),this.state="idle",this.maxHeight=Number.POSITIVE_INFINITY,this._onDidChange=this._register(new g.Emitter),this.onDidChange=this._onDidChange.event,this._onDidHeightChange=this._register(new g.Emitter),this.onDidHeightChange=this._onDidHeightChange.event,this.contextViewProvider=r,this.options=c,this.message=null,this.placeholder=this.options.placeholder||"",this.tooltip=(o=this.options.tooltip)!==null&&o!==void 0?o:this.placeholder||"",this.ariaLabel=this.options.ariaLabel||"",this.options.validationOptions&&(this.validation=this.options.validationOptions.validation),this.element=L.append(h,n(".monaco-inputbox.idle"));const d=this.options.flexibleHeight?"textarea":"input",l=L.append(this.element,n(".ibwrapper"));if(this.input=L.append(l,n(d+".input.empty")),this.input.setAttribute("autocorrect","off"),this.input.setAttribute("autocapitalize","off"),this.input.setAttribute("spellcheck","false"),this.onfocus(this.input,()=>this.element.classList.add("synthetic-focus")),this.onblur(this.input,()=>this.element.classList.remove("synthetic-focus")),this.options.flexibleHeight){this.maxHeight=typeof this.options.flexibleMaxHeight=="number"?this.options.flexibleMaxHeight:Number.POSITIVE_INFINITY,this.mirror=L.append(l,n("div.mirror")),this.mirror.innerText="\xA0",this.scrollableElement=new f.ScrollableElement(this.element,{vertical:1}),this.options.flexibleWidth&&(this.input.setAttribute("wrap","off"),this.mirror.style.whiteSpace="pre",this.mirror.style.wordWrap="initial"),L.append(h,this.scrollableElement.getDomNode()),this._register(this.scrollableElement),this._register(this.scrollableElement.onScroll(v=>this.input.scrollTop=v.scrollTop));const p=this._register(new k.DomEmitter(document,"selectionchange")),m=g.Event.filter(p.event,()=>{const v=document.getSelection();return v?.anchorNode===l});this._register(m(this.updateScrollDimensions,this)),this._register(this.onDidHeightChange(this.updateScrollDimensions,this))}else this.input.type=this.options.type||"text",this.input.setAttribute("wrap","off");this.ariaLabel&&this.input.setAttribute("aria-label",this.ariaLabel),this.placeholder&&!this.options.showPlaceholderOnFocus&&this.setPlaceHolder(this.placeholder),this.tooltip&&this.setTooltip(this.tooltip),this.oninput(this.input,()=>this.onValueChange()),this.onblur(this.input,()=>this.onBlur()),this.onfocus(this.input,()=>this.onFocus()),this._register(this.ignoreGesture(this.input)),setTimeout(()=>this.updateMirror(),0),this.options.actions&&(this.actionbar=this._register(new D.ActionBar(this.element)),this.actionbar.push(this.options.actions,{icon:!0,label:!1})),this.applyStyles()}onBlur(){this._hideMessage(),this.options.showPlaceholderOnFocus&&this.input.setAttribute("placeholder","")}onFocus(){this._showMessage(),this.options.showPlaceholderOnFocus&&this.input.setAttribute("placeholder",this.placeholder||"")}setPlaceHolder(h){this.placeholder=h,this.input.setAttribute("placeholder",h)}setTooltip(h){this.tooltip=h,this.input.title=h}get inputElement(){return this.input}get value(){return this.input.value}set value(h){this.input.value!==h&&(this.input.value=h,this.onValueChange())}get height(){return typeof this.cachedHeight=="number"?this.cachedHeight:L.getTotalHeight(this.element)}focus(){this.input.focus()}blur(){this.input.blur()}hasFocus(){return document.activeElement===this.input}select(h=null){this.input.select(),h&&(this.input.setSelectionRange(h.start,h.end),h.end===this.input.value.length&&(this.input.scrollLeft=this.input.scrollWidth))}isSelectionAtEnd(){return this.input.selectionEnd===this.input.value.length&&this.input.selectionStart===this.input.selectionEnd}enable(){this.input.removeAttribute("disabled")}disable(){this.blur(),this.input.disabled=!0,this._hideMessage()}set paddingRight(h){this.input.style.width=`calc(100% - ${h}px)`,this.mirror&&(this.mirror.style.paddingRight=h+"px")}updateScrollDimensions(){if(typeof this.cachedContentHeight!="number"||typeof this.cachedHeight!="number"||!this.scrollableElement)return;const h=this.cachedContentHeight,r=this.cachedHeight,c=this.input.scrollTop;this.scrollableElement.setScrollDimensions({scrollHeight:h,height:r}),this.scrollableElement.setScrollPosition({scrollTop:c})}showMessage(h,r){if(this.state==="open"&&(0,s.equals)(this.message,h))return;this.message=h,this.element.classList.remove("idle"),this.element.classList.remove("info"),this.element.classList.remove("warning"),this.element.classList.remove("error"),this.element.classList.add(this.classForType(h.type));const c=this.stylesForType(this.message.type);this.element.style.border=`1px solid ${L.asCssValueWithDefault(c.border,"transparent")}`,this.message.content&&(this.hasFocus()||r)&&this._showMessage()}hideMessage(){this.message=null,this.element.classList.remove("info"),this.element.classList.remove("warning"),this.element.classList.remove("error"),this.element.classList.add("idle"),this._hideMessage(),this.applyStyles()}validate(){let h=null;return this.validation&&(h=this.validation(this.value),h?(this.inputElement.setAttribute("aria-invalid","true"),this.showMessage(h)):this.inputElement.hasAttribute("aria-invalid")&&(this.inputElement.removeAttribute("aria-invalid"),this.hideMessage())),h?.type}stylesForType(h){const r=this.options.inputBoxStyles;switch(h){case 1:return{border:r.inputValidationInfoBorder,background:r.inputValidationInfoBackground,foreground:r.inputValidationInfoForeground};case 2:return{border:r.inputValidationWarningBorder,background:r.inputValidationWarningBackground,foreground:r.inputValidationWarningForeground};default:return{border:r.inputValidationErrorBorder,background:r.inputValidationErrorBackground,foreground:r.inputValidationErrorForeground}}}classForType(h){switch(h){case 1:return"info";case 2:return"warning";default:return"error"}}_showMessage(){if(!this.contextViewProvider||!this.message)return;let h;const r=()=>h.style.width=L.getTotalWidth(this.element)+"px";this.contextViewProvider.showContextView({getAnchor:()=>this.element,anchorAlignment:1,render:o=>{var d,l;if(!this.message)return null;h=L.append(o,n(".monaco-inputbox-container")),r();const p={inline:!0,className:"monaco-inputbox-message"},m=this.message.formatContent?(0,y.renderFormattedText)(this.message.content,p):(0,y.renderText)(this.message.content,p);m.classList.add(this.classForType(this.message.type));const v=this.stylesForType(this.message.type);return m.style.backgroundColor=(d=v.background)!==null&&d!==void 0?d:"",m.style.color=(l=v.foreground)!==null&&l!==void 0?l:"",m.style.border=v.border?`1px solid ${v.border}`:"",L.append(h,m),null},onHide:()=>{this.state="closed"},layout:r});let c;this.message.type===3?c=i.localize(0,null,this.message.content):this.message.type===2?c=i.localize(1,null,this.message.content):c=i.localize(2,null,this.message.content),S.alert(c),this.state="open"}_hideMessage(){this.contextViewProvider&&(this.state==="open"&&this.contextViewProvider.hideContextView(),this.state="idle")}onValueChange(){this._onDidChange.fire(this.value),this.validate(),this.updateMirror(),this.input.classList.toggle("empty",!this.value),this.state==="open"&&this.contextViewProvider&&this.contextViewProvider.layout()}updateMirror(){if(!this.mirror)return;const h=this.value,c=h.charCodeAt(h.length-1)===10?" ":"";(h+c).replace(/\u000c/g,"")?this.mirror.textContent=h+c:this.mirror.innerText="\xA0",this.layout()}applyStyles(){var h,r,c;const o=this.options.inputBoxStyles,d=(h=o.inputBackground)!==null&&h!==void 0?h:"",l=(r=o.inputForeground)!==null&&r!==void 0?r:"",p=(c=o.inputBorder)!==null&&c!==void 0?c:"";this.element.style.backgroundColor=d,this.element.style.color=l,this.input.style.backgroundColor="inherit",this.input.style.color=l,this.element.style.border=`1px solid ${L.asCssValueWithDefault(p,"transparent")}`}layout(){if(!this.mirror)return;const h=this.cachedContentHeight;this.cachedContentHeight=L.getTotalHeight(this.mirror),h!==this.cachedContentHeight&&(this.cachedHeight=Math.min(this.cachedContentHeight,this.maxHeight),this.input.style.height=this.cachedHeight+"px",this._onDidHeightChange.fire(this.cachedContentHeight))}insertAtCursor(h){const r=this.inputElement,c=r.selectionStart,o=r.selectionEnd,d=r.value;c!==null&&o!==null&&(this.value=d.substr(0,c)+h+d.substr(o),r.setSelectionRange(c+1,c+1),this.layout())}dispose(){var h;this._hideMessage(),this.message=null,(h=this.actionbar)===null||h===void 0||h.dispose(),super.dispose()}}e.InputBox=t;class a extends t{constructor(h,r,c){const o=i.localize(3,null),d=` or \u21C5 ${o}`,l=` (\u21C5 ${o})`;super(h,r,c),this._onDidFocus=this._register(new g.Emitter),this.onDidFocus=this._onDidFocus.event,this._onDidBlur=this._register(new g.Emitter),this.onDidBlur=this._onDidBlur.event,this.history=new C.HistoryNavigator(c.history,100);const p=()=>{if(c.showHistoryHint&&c.showHistoryHint()&&!this.placeholder.endsWith(d)&&!this.placeholder.endsWith(l)&&this.history.getHistory().length){const m=this.placeholder.endsWith(")")?d:l,v=this.placeholder+m;c.showPlaceholderOnFocus&&document.activeElement!==this.input?this.placeholder=v:this.setPlaceHolder(v)}};this.observer=new MutationObserver((m,v)=>{m.forEach(b=>{b.target.textContent||p()})}),this.observer.observe(this.input,{attributeFilter:["class"]}),this.onfocus(this.input,()=>p()),this.onblur(this.input,()=>{const m=v=>{if(this.placeholder.endsWith(v)){const b=this.placeholder.slice(0,this.placeholder.length-v.length);return c.showPlaceholderOnFocus?this.placeholder=b:this.setPlaceHolder(b),!0}else return!1};m(l)||m(d)})}dispose(){super.dispose(),this.observer&&(this.observer.disconnect(),this.observer=void 0)}addToHistory(h){this.value&&(h||this.value!==this.getCurrentValue())&&this.history.add(this.value)}isAtLastInHistory(){return this.history.isLast()}isNowhereInHistory(){return this.history.isNowhere()}showNextValue(){this.history.has(this.value)||this.addToHistory();let h=this.getNextValue();h&&(h=h===this.value?this.getNextValue():h),this.value=h??"",S.status(this.value?this.value:i.localize(4,null))}showPreviousValue(){this.history.has(this.value)||this.addToHistory();let h=this.getPreviousValue();h&&(h=h===this.value?this.getPreviousValue():h),h&&(this.value=h,S.status(this.value))}onBlur(){super.onBlur(),this._onDidBlur.fire()}onFocus(){super.onFocus(),this._onDidFocus.fire()}getCurrentValue(){let h=this.history.current();return h||(h=this.history.last(),this.history.next()),h}getPreviousValue(){return this.history.previous()||this.history.first()}getNextValue(){return this.history.next()}}e.HistoryInputBox=a}),define(ne[228],se([1,0,7,312,227,83,6,552,2,267]),function(Q,e,L,k,y,D,S,f,_){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.FindInput=void 0;const g=f.localize(0,null);class C extends D.Widget{constructor(i,n,t){super(),this.fixFocusOnOptionClickEnabled=!0,this.imeSessionInProgress=!1,this.additionalTogglesDisposables=new _.DisposableStore,this.additionalToggles=[],this._onDidOptionChange=this._register(new S.Emitter),this.onDidOptionChange=this._onDidOptionChange.event,this._onKeyDown=this._register(new S.Emitter),this.onKeyDown=this._onKeyDown.event,this._onMouseDown=this._register(new S.Emitter),this.onMouseDown=this._onMouseDown.event,this._onInput=this._register(new S.Emitter),this._onKeyUp=this._register(new S.Emitter),this._onCaseSensitiveKeyDown=this._register(new S.Emitter),this.onCaseSensitiveKeyDown=this._onCaseSensitiveKeyDown.event,this._onRegexKeyDown=this._register(new S.Emitter),this.onRegexKeyDown=this._onRegexKeyDown.event,this._lastHighlightFindOptions=0,this.placeholder=t.placeholder||"",this.validation=t.validation,this.label=t.label||g,this.showCommonFindToggles=!!t.showCommonFindToggles;const a=t.appendCaseSensitiveLabel||"",u=t.appendWholeWordsLabel||"",h=t.appendRegexLabel||"",r=t.history||[],c=!!t.flexibleHeight,o=!!t.flexibleWidth,d=t.flexibleMaxHeight;if(this.domNode=document.createElement("div"),this.domNode.classList.add("monaco-findInput"),this.inputBox=this._register(new y.HistoryInputBox(this.domNode,n,{placeholder:this.placeholder||"",ariaLabel:this.label||"",validationOptions:{validation:this.validation},history:r,showHistoryHint:t.showHistoryHint,flexibleHeight:c,flexibleWidth:o,flexibleMaxHeight:d,inputBoxStyles:t.inputBoxStyles})),this.showCommonFindToggles){this.regex=this._register(new k.RegexToggle(Object.assign({appendTitle:h,isChecked:!1},t.toggleStyles))),this._register(this.regex.onChange(p=>{this._onDidOptionChange.fire(p),!p&&this.fixFocusOnOptionClickEnabled&&this.inputBox.focus(),this.validate()})),this._register(this.regex.onKeyDown(p=>{this._onRegexKeyDown.fire(p)})),this.wholeWords=this._register(new k.WholeWordsToggle(Object.assign({appendTitle:u,isChecked:!1},t.toggleStyles))),this._register(this.wholeWords.onChange(p=>{this._onDidOptionChange.fire(p),!p&&this.fixFocusOnOptionClickEnabled&&this.inputBox.focus(),this.validate()})),this.caseSensitive=this._register(new k.CaseSensitiveToggle(Object.assign({appendTitle:a,isChecked:!1},t.toggleStyles))),this._register(this.caseSensitive.onChange(p=>{this._onDidOptionChange.fire(p),!p&&this.fixFocusOnOptionClickEnabled&&this.inputBox.focus(),this.validate()})),this._register(this.caseSensitive.onKeyDown(p=>{this._onCaseSensitiveKeyDown.fire(p)}));const l=[this.caseSensitive.domNode,this.wholeWords.domNode,this.regex.domNode];this.onkeydown(this.domNode,p=>{if(p.equals(15)||p.equals(17)||p.equals(9)){const m=l.indexOf(document.activeElement);if(m>=0){let v=-1;p.equals(17)?v=(m+1)%l.length:p.equals(15)&&(m===0?v=l.length-1:v=m-1),p.equals(9)?(l[m].blur(),this.inputBox.focus()):v>=0&&l[v].focus(),L.EventHelper.stop(p,!0)}}})}this.controls=document.createElement("div"),this.controls.className="controls",this.controls.style.display=this.showCommonFindToggles?"":"none",this.caseSensitive&&this.controls.append(this.caseSensitive.domNode),this.wholeWords&&this.controls.appendChild(this.wholeWords.domNode),this.regex&&this.controls.appendChild(this.regex.domNode),this.setAdditionalToggles(t?.additionalToggles),this.controls&&this.domNode.appendChild(this.controls),i?.appendChild(this.domNode),this._register(L.addDisposableListener(this.inputBox.inputElement,"compositionstart",l=>{this.imeSessionInProgress=!0})),this._register(L.addDisposableListener(this.inputBox.inputElement,"compositionend",l=>{this.imeSessionInProgress=!1,this._onInput.fire()})),this.onkeydown(this.inputBox.inputElement,l=>this._onKeyDown.fire(l)),this.onkeyup(this.inputBox.inputElement,l=>this._onKeyUp.fire(l)),this.oninput(this.inputBox.inputElement,l=>this._onInput.fire()),this.onmousedown(this.inputBox.inputElement,l=>this._onMouseDown.fire(l))}get onDidChange(){return this.inputBox.onDidChange}layout(i){this.inputBox.layout(),this.updateInputBoxPadding(i.collapsedFindWidget)}enable(){var i,n,t;this.domNode.classList.remove("disabled"),this.inputBox.enable(),(i=this.regex)===null||i===void 0||i.enable(),(n=this.wholeWords)===null||n===void 0||n.enable(),(t=this.caseSensitive)===null||t===void 0||t.enable();for(const a of this.additionalToggles)a.enable()}disable(){var i,n,t;this.domNode.classList.add("disabled"),this.inputBox.disable(),(i=this.regex)===null||i===void 0||i.disable(),(n=this.wholeWords)===null||n===void 0||n.disable(),(t=this.caseSensitive)===null||t===void 0||t.disable();for(const a of this.additionalToggles)a.disable()}setFocusInputOnOptionClick(i){this.fixFocusOnOptionClickEnabled=i}setEnabled(i){i?this.enable():this.disable()}setAdditionalToggles(i){for(const n of this.additionalToggles)n.domNode.remove();this.additionalToggles=[],this.additionalTogglesDisposables.dispose(),this.additionalTogglesDisposables=new _.DisposableStore;for(const n of i??[])this.additionalTogglesDisposables.add(n),this.controls.appendChild(n.domNode),this.additionalTogglesDisposables.add(n.onChange(t=>{this._onDidOptionChange.fire(t),!t&&this.fixFocusOnOptionClickEnabled&&this.inputBox.focus()})),this.additionalToggles.push(n);this.additionalToggles.length>0&&(this.controls.style.display=""),this.updateInputBoxPadding()}updateInputBoxPadding(i=!1){var n,t,a,u,h,r;i?this.inputBox.paddingRight=0:this.inputBox.paddingRight=((t=(n=this.caseSensitive)===null||n===void 0?void 0:n.width())!==null&&t!==void 0?t:0)+((u=(a=this.wholeWords)===null||a===void 0?void 0:a.width())!==null&&u!==void 0?u:0)+((r=(h=this.regex)===null||h===void 0?void 0:h.width())!==null&&r!==void 0?r:0)+this.additionalToggles.reduce((c,o)=>c+o.width(),0)}getValue(){return this.inputBox.value}setValue(i){this.inputBox.value!==i&&(this.inputBox.value=i)}select(){this.inputBox.select()}focus(){this.inputBox.focus()}getCaseSensitive(){var i,n;return(n=(i=this.caseSensitive)===null||i===void 0?void 0:i.checked)!==null&&n!==void 0?n:!1}setCaseSensitive(i){this.caseSensitive&&(this.caseSensitive.checked=i)}getWholeWords(){var i,n;return(n=(i=this.wholeWords)===null||i===void 0?void 0:i.checked)!==null&&n!==void 0?n:!1}setWholeWords(i){this.wholeWords&&(this.wholeWords.checked=i)}getRegex(){var i,n;return(n=(i=this.regex)===null||i===void 0?void 0:i.checked)!==null&&n!==void 0?n:!1}setRegex(i){this.regex&&(this.regex.checked=i,this.validate())}focusOnCaseSensitive(){var i;(i=this.caseSensitive)===null||i===void 0||i.focus()}highlightFindOptions(){this.domNode.classList.remove("highlight-"+this._lastHighlightFindOptions),this._lastHighlightFindOptions=1-this._lastHighlightFindOptions,this.domNode.classList.add("highlight-"+this._lastHighlightFindOptions)}validate(){this.inputBox.validate()}showMessage(i){this.inputBox.showMessage(i)}clearMessage(){this.inputBox.hideMessage()}}e.FindInput=C}),define(ne[582],se([1,0,7,153,227,83,25,6,554,267]),function(Q,e,L,k,y,D,S,f,_){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ReplaceInput=void 0;const g=_.localize(0,null),C=_.localize(1,null);class s extends k.Toggle{constructor(t){super({icon:S.Codicon.preserveCase,title:C+t.appendTitle,isChecked:t.isChecked,inputActiveOptionBorder:t.inputActiveOptionBorder,inputActiveOptionForeground:t.inputActiveOptionForeground,inputActiveOptionBackground:t.inputActiveOptionBackground})}}class i extends D.Widget{constructor(t,a,u,h){super(),this._showOptionButtons=u,this.fixFocusOnOptionClickEnabled=!0,this.cachedOptionsWidth=0,this._onDidOptionChange=this._register(new f.Emitter),this.onDidOptionChange=this._onDidOptionChange.event,this._onKeyDown=this._register(new f.Emitter),this.onKeyDown=this._onKeyDown.event,this._onMouseDown=this._register(new f.Emitter),this._onInput=this._register(new f.Emitter),this._onKeyUp=this._register(new f.Emitter),this._onPreserveCaseKeyDown=this._register(new f.Emitter),this.onPreserveCaseKeyDown=this._onPreserveCaseKeyDown.event,this.contextViewProvider=a,this.placeholder=h.placeholder||"",this.validation=h.validation,this.label=h.label||g;const r=h.appendPreserveCaseLabel||"",c=h.history||[],o=!!h.flexibleHeight,d=!!h.flexibleWidth,l=h.flexibleMaxHeight;this.domNode=document.createElement("div"),this.domNode.classList.add("monaco-findInput"),this.inputBox=this._register(new y.HistoryInputBox(this.domNode,this.contextViewProvider,{ariaLabel:this.label||"",placeholder:this.placeholder||"",validationOptions:{validation:this.validation},history:c,showHistoryHint:h.showHistoryHint,flexibleHeight:o,flexibleWidth:d,flexibleMaxHeight:l,inputBoxStyles:h.inputBoxStyles})),this.preserveCase=this._register(new s(Object.assign({appendTitle:r,isChecked:!1},h.toggleStyles))),this._register(this.preserveCase.onChange(v=>{this._onDidOptionChange.fire(v),!v&&this.fixFocusOnOptionClickEnabled&&this.inputBox.focus(),this.validate()})),this._register(this.preserveCase.onKeyDown(v=>{this._onPreserveCaseKeyDown.fire(v)})),this._showOptionButtons?this.cachedOptionsWidth=this.preserveCase.width():this.cachedOptionsWidth=0;const p=[this.preserveCase.domNode];this.onkeydown(this.domNode,v=>{if(v.equals(15)||v.equals(17)||v.equals(9)){const b=p.indexOf(document.activeElement);if(b>=0){let w=-1;v.equals(17)?w=(b+1)%p.length:v.equals(15)&&(b===0?w=p.length-1:w=b-1),v.equals(9)?(p[b].blur(),this.inputBox.focus()):w>=0&&p[w].focus(),L.EventHelper.stop(v,!0)}}});const m=document.createElement("div");m.className="controls",m.style.display=this._showOptionButtons?"block":"none",m.appendChild(this.preserveCase.domNode),this.domNode.appendChild(m),t?.appendChild(this.domNode),this.onkeydown(this.inputBox.inputElement,v=>this._onKeyDown.fire(v)),this.onkeyup(this.inputBox.inputElement,v=>this._onKeyUp.fire(v)),this.oninput(this.inputBox.inputElement,v=>this._onInput.fire()),this.onmousedown(this.inputBox.inputElement,v=>this._onMouseDown.fire(v))}enable(){this.domNode.classList.remove("disabled"),this.inputBox.enable(),this.preserveCase.enable()}disable(){this.domNode.classList.add("disabled"),this.inputBox.disable(),this.preserveCase.disable()}setEnabled(t){t?this.enable():this.disable()}select(){this.inputBox.select()}focus(){this.inputBox.focus()}getPreserveCase(){return this.preserveCase.checked}setPreserveCase(t){this.preserveCase.checked=t}focusOnPreserve(){this.preserveCase.focus()}validate(){var t;(t=this.inputBox)===null||t===void 0||t.validate()}set width(t){this.inputBox.paddingRight=this.cachedOptionsWidth,this.domNode.style.width=t+"px"}dispose(){super.dispose()}}e.ReplaceInput=i}),define(ne[583],se([1,0,52,61,7,44,60,68,131,306,75,39,13,25,26,120,2,17,11]),function(Q,e,L,k,y,D,S,f,_,g,C,s,i,n,t,a,u,h,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.formatRule=e.cleanMnemonic=e.Menu=e.Direction=e.MENU_ESCAPED_MNEMONIC_REGEX=e.MENU_MNEMONIC_REGEX=void 0,e.MENU_MNEMONIC_REGEX=/\(&([^\s&])\)|(^|[^&])&([^\s&])/,e.MENU_ESCAPED_MNEMONIC_REGEX=/(&amp;)?(&amp;)([^\s&])/g;var c;(function(w){w[w.Right=0]="Right",w[w.Left=1]="Left"})(c||(e.Direction=c={}));class o extends f.ActionBar{constructor(E,I,M,P){E.classList.add("monaco-menu-container"),E.setAttribute("role","presentation");const x=document.createElement("div");x.classList.add("monaco-menu"),x.setAttribute("role","presentation"),super(x,{orientation:1,actionViewItemProvider:N=>this.doGetActionViewItem(N,M,T),context:M.context,actionRunner:M.actionRunner,ariaLabel:M.ariaLabel,ariaRole:"menu",focusOnlyEnabledItems:!0,triggerKeys:{keys:[3,...h.isMacintosh||h.isLinux?[10]:[]],keyDown:!0}}),this.menuStyles=P,this.menuElement=x,this.actionsList.tabIndex=0,this.menuDisposables=this._register(new u.DisposableStore),this.initializeOrUpdateStyleSheet(E,P),this._register(k.Gesture.addTarget(x)),(0,y.addDisposableListener)(x,y.EventType.KEY_DOWN,N=>{new D.StandardKeyboardEvent(N).equals(2)&&N.preventDefault()}),M.enableMnemonics&&this.menuDisposables.add((0,y.addDisposableListener)(x,y.EventType.KEY_DOWN,N=>{const F=N.key.toLocaleLowerCase();if(this.mnemonics.has(F)){y.EventHelper.stop(N,!0);const O=this.mnemonics.get(F);if(O.length===1&&(O[0]instanceof l&&O[0].container&&this.focusItemByElement(O[0].container),O[0].onClick(N)),O.length>1){const W=O.shift();W&&W.container&&(this.focusItemByElement(W.container),O.push(W)),this.mnemonics.set(F,O)}}})),h.isLinux&&this._register((0,y.addDisposableListener)(x,y.EventType.KEY_DOWN,N=>{const F=new D.StandardKeyboardEvent(N);F.equals(14)||F.equals(11)?(this.focusedItem=this.viewItems.length-1,this.focusNext(),y.EventHelper.stop(N,!0)):(F.equals(13)||F.equals(12))&&(this.focusedItem=0,this.focusPrevious(),y.EventHelper.stop(N,!0))})),this._register((0,y.addDisposableListener)(this.domNode,y.EventType.MOUSE_OUT,N=>{const F=N.relatedTarget;(0,y.isAncestor)(F,this.domNode)||(this.focusedItem=void 0,this.updateFocus(),N.stopPropagation())})),this._register((0,y.addDisposableListener)(this.actionsList,y.EventType.MOUSE_OVER,N=>{let F=N.target;if(!(!F||!(0,y.isAncestor)(F,this.actionsList)||F===this.actionsList)){for(;F.parentElement!==this.actionsList&&F.parentElement!==null;)F=F.parentElement;if(F.classList.contains("action-item")){const O=this.focusedItem;this.setFocusedItem(F),O!==this.focusedItem&&this.updateFocus()}}})),this._register(k.Gesture.addTarget(this.actionsList)),this._register((0,y.addDisposableListener)(this.actionsList,k.EventType.Tap,N=>{let F=N.initialTarget;if(!(!F||!(0,y.isAncestor)(F,this.actionsList)||F===this.actionsList)){for(;F.parentElement!==this.actionsList&&F.parentElement!==null;)F=F.parentElement;if(F.classList.contains("action-item")){const O=this.focusedItem;this.setFocusedItem(F),O!==this.focusedItem&&this.updateFocus()}}}));const T={parent:this};this.mnemonics=new Map,this.scrollableElement=this._register(new C.DomScrollableElement(x,{alwaysConsumeMouseWheel:!0,horizontal:2,vertical:3,verticalScrollbarSize:7,handleMouseWheel:!0,useShadows:!0}));const A=this.scrollableElement.getDomNode();A.style.position="",this.styleScrollElement(A,P),this._register((0,y.addDisposableListener)(x,k.EventType.Change,N=>{y.EventHelper.stop(N,!0);const F=this.scrollableElement.getScrollPosition().scrollTop;this.scrollableElement.setScrollPosition({scrollTop:F-N.translationY})})),this._register((0,y.addDisposableListener)(A,y.EventType.MOUSE_UP,N=>{N.preventDefault()})),x.style.maxHeight=`${Math.max(10,window.innerHeight-E.getBoundingClientRect().top-35)}px`,I=I.filter(N=>{var F;return!((F=M.submenuIds)===null||F===void 0)&&F.has(N.id)?(console.warn(`Found submenu cycle: ${N.id}`),!1):!0}),this.push(I,{icon:!0,label:!0,isMenu:!0}),E.appendChild(this.scrollableElement.getDomNode()),this.scrollableElement.scanDomNode(),this.viewItems.filter(N=>!(N instanceof p)).forEach((N,F,O)=>{N.updatePositionInSet(F+1,O.length)})}initializeOrUpdateStyleSheet(E,I){this.styleSheet||((0,y.isInShadowDOM)(E)?this.styleSheet=(0,y.createStyleSheet)(E):(o.globalStyleSheet||(o.globalStyleSheet=(0,y.createStyleSheet)()),this.styleSheet=o.globalStyleSheet)),this.styleSheet.textContent=b(I,(0,y.isInShadowDOM)(E))}styleScrollElement(E,I){var M,P;const x=(M=I.foregroundColor)!==null&&M!==void 0?M:"",T=(P=I.backgroundColor)!==null&&P!==void 0?P:"",A=I.borderColor?`1px solid ${I.borderColor}`:"",N="5px",F=I.shadowColor?`0 2px 8px ${I.shadowColor}`:"";E.style.outline=A,E.style.borderRadius=N,E.style.color=x,E.style.backgroundColor=T,E.style.boxShadow=F}getContainer(){return this.scrollableElement.getDomNode()}get onScroll(){return this.scrollableElement.onScroll}focusItemByElement(E){const I=this.focusedItem;this.setFocusedItem(E),I!==this.focusedItem&&this.updateFocus()}setFocusedItem(E){for(let I=0;I<this.actionsList.children.length;I++){const M=this.actionsList.children[I];if(E===M){this.focusedItem=I;break}}}updateFocus(E){super.updateFocus(E,!0,!0),typeof this.focusedItem<"u"&&this.scrollableElement.setScrollPosition({scrollTop:Math.round(this.menuElement.scrollTop)})}doGetActionViewItem(E,I,M){if(E instanceof s.Separator)return new p(I.context,E,{icon:!0},this.menuStyles);if(E instanceof s.SubmenuAction){const P=new l(E,E.actions,M,Object.assign(Object.assign({},I),{submenuIds:new Set([...I.submenuIds||[],E.id])}),this.menuStyles);if(I.enableMnemonics){const x=P.getMnemonic();if(x&&P.isEnabled()){let T=[];this.mnemonics.has(x)&&(T=this.mnemonics.get(x)),T.push(P),this.mnemonics.set(x,T)}}return P}else{const P={enableMnemonics:I.enableMnemonics,useEventAsContext:I.useEventAsContext};if(I.getKeyBinding){const T=I.getKeyBinding(E);if(T){const A=T.getLabel();A&&(P.keybinding=A)}}const x=new d(I.context,E,P,this.menuStyles);if(I.enableMnemonics){const T=x.getMnemonic();if(T&&x.isEnabled()){let A=[];this.mnemonics.has(T)&&(A=this.mnemonics.get(T)),A.push(x),this.mnemonics.set(T,A)}}return x}}}e.Menu=o;class d extends _.BaseActionViewItem{constructor(E,I,M,P){if(M.isMenu=!0,super(I,I,M),this.menuStyle=P,this.options=M,this.options.icon=M.icon!==void 0?M.icon:!1,this.options.label=M.label!==void 0?M.label:!0,this.cssClass="",this.options.label&&M.enableMnemonics){const x=this.action.label;if(x){const T=e.MENU_MNEMONIC_REGEX.exec(x);T&&(this.mnemonic=(T[1]?T[1]:T[3]).toLocaleLowerCase())}}this.runOnceToEnableMouseUp=new i.RunOnceScheduler(()=>{this.element&&(this._register((0,y.addDisposableListener)(this.element,y.EventType.MOUSE_UP,x=>{if(y.EventHelper.stop(x,!0),L.isFirefox){if(new S.StandardMouseEvent(x).rightButton)return;this.onClick(x)}else setTimeout(()=>{this.onClick(x)},0)})),this._register((0,y.addDisposableListener)(this.element,y.EventType.CONTEXT_MENU,x=>{y.EventHelper.stop(x,!0)})))},100),this._register(this.runOnceToEnableMouseUp)}render(E){super.render(E),this.element&&(this.container=E,this.item=(0,y.append)(this.element,(0,y.$)("a.action-menu-item")),this._action.id===s.Separator.ID?this.item.setAttribute("role","presentation"):(this.item.setAttribute("role","menuitem"),this.mnemonic&&this.item.setAttribute("aria-keyshortcuts",`${this.mnemonic}`)),this.check=(0,y.append)(this.item,(0,y.$)("span.menu-item-check"+t.ThemeIcon.asCSSSelector(n.Codicon.menuSelection))),this.check.setAttribute("role","none"),this.label=(0,y.append)(this.item,(0,y.$)("span.action-label")),this.options.label&&this.options.keybinding&&((0,y.append)(this.item,(0,y.$)("span.keybinding")).textContent=this.options.keybinding),this.runOnceToEnableMouseUp.schedule(),this.updateClass(),this.updateLabel(),this.updateTooltip(),this.updateEnabled(),this.updateChecked(),this.applyStyle())}blur(){super.blur(),this.applyStyle()}focus(){var E;super.focus(),(E=this.item)===null||E===void 0||E.focus(),this.applyStyle()}updatePositionInSet(E,I){this.item&&(this.item.setAttribute("aria-posinset",`${E}`),this.item.setAttribute("aria-setsize",`${I}`))}updateLabel(){var E;if(this.label&&this.options.label){(0,y.clearNode)(this.label);let I=(0,a.stripIcons)(this.action.label);if(I){const M=m(I);this.options.enableMnemonics||(I=M),this.label.setAttribute("aria-label",M.replace(/&&/g,"&"));const P=e.MENU_MNEMONIC_REGEX.exec(I);if(P){I=r.escape(I),e.MENU_ESCAPED_MNEMONIC_REGEX.lastIndex=0;let x=e.MENU_ESCAPED_MNEMONIC_REGEX.exec(I);for(;x&&x[1];)x=e.MENU_ESCAPED_MNEMONIC_REGEX.exec(I);const T=A=>A.replace(/&amp;&amp;/g,"&amp;");x?this.label.append(r.ltrim(T(I.substr(0,x.index))," "),(0,y.$)("u",{"aria-hidden":"true"},x[3]),r.rtrim(T(I.substr(x.index+x[0].length))," ")):this.label.innerText=T(I).trim(),(E=this.item)===null||E===void 0||E.setAttribute("aria-keyshortcuts",(P[1]?P[1]:P[3]).toLocaleLowerCase())}else this.label.innerText=I.replace(/&&/g,"&").trim()}}}updateTooltip(){}updateClass(){this.cssClass&&this.item&&this.item.classList.remove(...this.cssClass.split(" ")),this.options.icon&&this.label?(this.cssClass=this.action.class||"",this.label.classList.add("icon"),this.cssClass&&this.label.classList.add(...this.cssClass.split(" ")),this.updateEnabled()):this.label&&this.label.classList.remove("icon")}updateEnabled(){this.action.enabled?(this.element&&(this.element.classList.remove("disabled"),this.element.removeAttribute("aria-disabled")),this.item&&(this.item.classList.remove("disabled"),this.item.removeAttribute("aria-disabled"),this.item.tabIndex=0)):(this.element&&(this.element.classList.add("disabled"),this.element.setAttribute("aria-disabled","true")),this.item&&(this.item.classList.add("disabled"),this.item.setAttribute("aria-disabled","true")))}updateChecked(){if(!this.item)return;const E=this.action.checked;this.item.classList.toggle("checked",!!E),E!==void 0?(this.item.setAttribute("role","menuitemcheckbox"),this.item.setAttribute("aria-checked",E?"true":"false")):(this.item.setAttribute("role","menuitem"),this.item.setAttribute("aria-checked",""))}getMnemonic(){return this.mnemonic}applyStyle(){const E=this.element&&this.element.classList.contains("focused"),I=E&&this.menuStyle.selectionForegroundColor?this.menuStyle.selectionForegroundColor:this.menuStyle.foregroundColor,M=E&&this.menuStyle.selectionBackgroundColor?this.menuStyle.selectionBackgroundColor:void 0,P=E&&this.menuStyle.selectionBorderColor?`1px solid ${this.menuStyle.selectionBorderColor}`:"",x=E&&this.menuStyle.selectionBorderColor?"-1px":"";this.item&&(this.item.style.color=I??"",this.item.style.backgroundColor=M??"",this.item.style.outline=P,this.item.style.outlineOffset=x),this.check&&(this.check.style.color=I??"")}}class l extends d{constructor(E,I,M,P,x){super(E,E,P,x),this.submenuActions=I,this.parentData=M,this.submenuOptions=P,this.mysubmenu=null,this.submenuDisposables=this._register(new u.DisposableStore),this.mouseOver=!1,this.expandDirection=P&&P.expandDirection!==void 0?P.expandDirection:c.Right,this.showScheduler=new i.RunOnceScheduler(()=>{this.mouseOver&&(this.cleanupExistingSubmenu(!1),this.createSubmenu(!1))},250),this.hideScheduler=new i.RunOnceScheduler(()=>{this.element&&!(0,y.isAncestor)((0,y.getActiveElement)(),this.element)&&this.parentData.submenu===this.mysubmenu&&(this.parentData.parent.focus(!1),this.cleanupExistingSubmenu(!0))},750)}render(E){super.render(E),this.element&&(this.item&&(this.item.classList.add("monaco-submenu-item"),this.item.tabIndex=0,this.item.setAttribute("aria-haspopup","true"),this.updateAriaExpanded("false"),this.submenuIndicator=(0,y.append)(this.item,(0,y.$)("span.submenu-indicator"+t.ThemeIcon.asCSSSelector(n.Codicon.menuSubmenu))),this.submenuIndicator.setAttribute("aria-hidden","true")),this._register((0,y.addDisposableListener)(this.element,y.EventType.KEY_UP,I=>{const M=new D.StandardKeyboardEvent(I);(M.equals(17)||M.equals(3))&&(y.EventHelper.stop(I,!0),this.createSubmenu(!0))})),this._register((0,y.addDisposableListener)(this.element,y.EventType.KEY_DOWN,I=>{const M=new D.StandardKeyboardEvent(I);(0,y.getActiveElement)()===this.item&&(M.equals(17)||M.equals(3))&&y.EventHelper.stop(I,!0)})),this._register((0,y.addDisposableListener)(this.element,y.EventType.MOUSE_OVER,I=>{this.mouseOver||(this.mouseOver=!0,this.showScheduler.schedule())})),this._register((0,y.addDisposableListener)(this.element,y.EventType.MOUSE_LEAVE,I=>{this.mouseOver=!1})),this._register((0,y.addDisposableListener)(this.element,y.EventType.FOCUS_OUT,I=>{this.element&&!(0,y.isAncestor)((0,y.getActiveElement)(),this.element)&&this.hideScheduler.schedule()})),this._register(this.parentData.parent.onScroll(()=>{this.parentData.submenu===this.mysubmenu&&(this.parentData.parent.focus(!1),this.cleanupExistingSubmenu(!0))})))}updateEnabled(){}onClick(E){y.EventHelper.stop(E,!0),this.cleanupExistingSubmenu(!1),this.createSubmenu(!0)}cleanupExistingSubmenu(E){if(this.parentData.submenu&&(E||this.parentData.submenu!==this.mysubmenu)){try{this.parentData.submenu.dispose()}catch{}this.parentData.submenu=void 0,this.updateAriaExpanded("false"),this.submenuContainer&&(this.submenuDisposables.clear(),this.submenuContainer=void 0)}}calculateSubmenuMenuLayout(E,I,M,P){const x={top:0,left:0};return x.left=(0,g.layout)(E.width,I.width,{position:P===c.Right?0:1,offset:M.left,size:M.width}),x.left>=M.left&&x.left<M.left+M.width&&(M.left+10+I.width<=E.width&&(x.left=M.left+10),M.top+=10,M.height=0),x.top=(0,g.layout)(E.height,I.height,{position:0,offset:M.top,size:0}),x.top+I.height===M.top&&x.top+M.height+I.height<=E.height&&(x.top+=M.height),x}createSubmenu(E=!0){if(this.element)if(this.parentData.submenu)this.parentData.submenu.focus(!1);else{this.updateAriaExpanded("true"),this.submenuContainer=(0,y.append)(this.element,(0,y.$)("div.monaco-submenu")),this.submenuContainer.classList.add("menubar-menu-items-holder","context-view");const I=getComputedStyle(this.parentData.parent.domNode),M=parseFloat(I.paddingTop||"0")||0;this.submenuContainer.style.zIndex="1",this.submenuContainer.style.position="fixed",this.submenuContainer.style.top="0",this.submenuContainer.style.left="0",this.parentData.submenu=new o(this.submenuContainer,this.submenuActions.length?this.submenuActions:[new s.EmptySubmenuAction],this.submenuOptions,this.menuStyle);const P=this.element.getBoundingClientRect(),x={top:P.top-M,left:P.left,height:P.height+2*M,width:P.width},T=this.submenuContainer.getBoundingClientRect(),{top:A,left:N}=this.calculateSubmenuMenuLayout(new y.Dimension(window.innerWidth,window.innerHeight),y.Dimension.lift(T),x,this.expandDirection);this.submenuContainer.style.left=`${N-T.left}px`,this.submenuContainer.style.top=`${A-T.top}px`,this.submenuDisposables.add((0,y.addDisposableListener)(this.submenuContainer,y.EventType.KEY_UP,F=>{new D.StandardKeyboardEvent(F).equals(15)&&(y.EventHelper.stop(F,!0),this.parentData.parent.focus(),this.cleanupExistingSubmenu(!0))})),this.submenuDisposables.add((0,y.addDisposableListener)(this.submenuContainer,y.EventType.KEY_DOWN,F=>{new D.StandardKeyboardEvent(F).equals(15)&&y.EventHelper.stop(F,!0)})),this.submenuDisposables.add(this.parentData.submenu.onDidCancel(()=>{this.parentData.parent.focus(),this.cleanupExistingSubmenu(!0)})),this.parentData.submenu.focus(E),this.mysubmenu=this.parentData.submenu}}updateAriaExpanded(E){var I;this.item&&((I=this.item)===null||I===void 0||I.setAttribute("aria-expanded",E))}applyStyle(){super.applyStyle();const I=this.element&&this.element.classList.contains("focused")&&this.menuStyle.selectionForegroundColor?this.menuStyle.selectionForegroundColor:this.menuStyle.foregroundColor;this.submenuIndicator&&(this.submenuIndicator.style.color=I??"")}dispose(){super.dispose(),this.hideScheduler.dispose(),this.mysubmenu&&(this.mysubmenu.dispose(),this.mysubmenu=null),this.submenuContainer&&(this.submenuContainer=void 0)}}class p extends _.ActionViewItem{constructor(E,I,M,P){super(E,I,M),this.menuStyles=P}render(E){super.render(E),this.label&&(this.label.style.borderBottomColor=this.menuStyles.separatorColor?`${this.menuStyles.separatorColor}`:"")}}function m(w){const E=e.MENU_MNEMONIC_REGEX,I=E.exec(w);if(!I)return w;const M=!I[1];return w.replace(E,M?"$2$3":"").trim()}e.cleanMnemonic=m;function v(w){const E=(0,n.getCodiconFontCharacters)()[w.id];return`.codicon-${w.id}:before { content: '\\${E.toString(16)}'; }`}e.formatRule=v;function b(w,E){let I=`
.monaco-menu {
	font-size: 13px;
	border-radius: 5px;
	min-width: 160px;
}

${v(n.Codicon.menuSelection)}
${v(n.Codicon.menuSubmenu)}

.monaco-menu .monaco-action-bar {
	text-align: right;
	overflow: hidden;
	white-space: nowrap;
}

.monaco-menu .monaco-action-bar .actions-container {
	display: flex;
	margin: 0 auto;
	padding: 0;
	width: 100%;
	justify-content: flex-end;
}

.monaco-menu .monaco-action-bar.vertical .actions-container {
	display: inline-block;
}

.monaco-menu .monaco-action-bar.reverse .actions-container {
	flex-direction: row-reverse;
}

.monaco-menu .monaco-action-bar .action-item {
	cursor: pointer;
	display: inline-block;
	transition: transform 50ms ease;
	position: relative;  /* DO NOT REMOVE - this is the key to preventing the ghosting icon bug in Chrome 42 */
}

.monaco-menu .monaco-action-bar .action-item.disabled {
	cursor: default;
}

.monaco-menu .monaco-action-bar.animated .action-item.active {
	transform: scale(1.272019649, 1.272019649); /* 1.272019649 = \u221A\u03C6 */
}

.monaco-menu .monaco-action-bar .action-item .icon,
.monaco-menu .monaco-action-bar .action-item .codicon {
	display: inline-block;
}

.monaco-menu .monaco-action-bar .action-item .codicon {
	display: flex;
	align-items: center;
}

.monaco-menu .monaco-action-bar .action-label {
	font-size: 11px;
	margin-right: 4px;
}

.monaco-menu .monaco-action-bar .action-item.disabled .action-label,
.monaco-menu .monaco-action-bar .action-item.disabled .action-label:hover {
	color: var(--vscode-disabledForeground);
}

/* Vertical actions */

.monaco-menu .monaco-action-bar.vertical {
	text-align: left;
}

.monaco-menu .monaco-action-bar.vertical .action-item {
	display: block;
}

.monaco-menu .monaco-action-bar.vertical .action-label.separator {
	display: block;
	border-bottom: 1px solid var(--vscode-menu-separatorBackground);
	padding-top: 1px;
	padding: 30px;
}

.monaco-menu .secondary-actions .monaco-action-bar .action-label {
	margin-left: 6px;
}

/* Action Items */
.monaco-menu .monaco-action-bar .action-item.select-container {
	overflow: hidden; /* somehow the dropdown overflows its container, we prevent it here to not push */
	flex: 1;
	max-width: 170px;
	min-width: 60px;
	display: flex;
	align-items: center;
	justify-content: center;
	margin-right: 10px;
}

.monaco-menu .monaco-action-bar.vertical {
	margin-left: 0;
	overflow: visible;
}

.monaco-menu .monaco-action-bar.vertical .actions-container {
	display: block;
}

.monaco-menu .monaco-action-bar.vertical .action-item {
	padding: 0;
	transform: none;
	display: flex;
}

.monaco-menu .monaco-action-bar.vertical .action-item.active {
	transform: none;
}

.monaco-menu .monaco-action-bar.vertical .action-menu-item {
	flex: 1 1 auto;
	display: flex;
	height: 2em;
	align-items: center;
	position: relative;
	margin: 0 4px;
	border-radius: 4px;
}

.monaco-menu .monaco-action-bar.vertical .action-menu-item:hover .keybinding,
.monaco-menu .monaco-action-bar.vertical .action-menu-item:focus .keybinding {
	opacity: unset;
}

.monaco-menu .monaco-action-bar.vertical .action-label {
	flex: 1 1 auto;
	text-decoration: none;
	padding: 0 1em;
	background: none;
	font-size: 12px;
	line-height: 1;
}

.monaco-menu .monaco-action-bar.vertical .keybinding,
.monaco-menu .monaco-action-bar.vertical .submenu-indicator {
	display: inline-block;
	flex: 2 1 auto;
	padding: 0 1em;
	text-align: right;
	font-size: 12px;
	line-height: 1;
}

.monaco-menu .monaco-action-bar.vertical .submenu-indicator {
	height: 100%;
}

.monaco-menu .monaco-action-bar.vertical .submenu-indicator.codicon {
	font-size: 16px !important;
	display: flex;
	align-items: center;
}

.monaco-menu .monaco-action-bar.vertical .submenu-indicator.codicon::before {
	margin-left: auto;
	margin-right: -20px;
}

.monaco-menu .monaco-action-bar.vertical .action-item.disabled .keybinding,
.monaco-menu .monaco-action-bar.vertical .action-item.disabled .submenu-indicator {
	opacity: 0.4;
}

.monaco-menu .monaco-action-bar.vertical .action-label:not(.separator) {
	display: inline-block;
	box-sizing: border-box;
	margin: 0;
}

.monaco-menu .monaco-action-bar.vertical .action-item {
	position: static;
	overflow: visible;
}

.monaco-menu .monaco-action-bar.vertical .action-item .monaco-submenu {
	position: absolute;
}

.monaco-menu .monaco-action-bar.vertical .action-label.separator {
	width: 100%;
	height: 0px !important;
	opacity: 1;
}

.monaco-menu .monaco-action-bar.vertical .action-label.separator.text {
	padding: 0.7em 1em 0.1em 1em;
	font-weight: bold;
	opacity: 1;
}

.monaco-menu .monaco-action-bar.vertical .action-label:hover {
	color: inherit;
}

.monaco-menu .monaco-action-bar.vertical .menu-item-check {
	position: absolute;
	visibility: hidden;
	width: 1em;
	height: 100%;
}

.monaco-menu .monaco-action-bar.vertical .action-menu-item.checked .menu-item-check {
	visibility: visible;
	display: flex;
	align-items: center;
	justify-content: center;
}

/* Context Menu */

.context-view.monaco-menu-container {
	outline: 0;
	border: none;
	animation: fadeIn 0.083s linear;
	-webkit-app-region: no-drag;
}

.context-view.monaco-menu-container :focus,
.context-view.monaco-menu-container .monaco-action-bar.vertical:focus,
.context-view.monaco-menu-container .monaco-action-bar.vertical :focus {
	outline: 0;
}

.hc-black .context-view.monaco-menu-container,
.hc-light .context-view.monaco-menu-container,
:host-context(.hc-black) .context-view.monaco-menu-container,
:host-context(.hc-light) .context-view.monaco-menu-container {
	box-shadow: none;
}

.hc-black .monaco-menu .monaco-action-bar.vertical .action-item.focused,
.hc-light .monaco-menu .monaco-action-bar.vertical .action-item.focused,
:host-context(.hc-black) .monaco-menu .monaco-action-bar.vertical .action-item.focused,
:host-context(.hc-light) .monaco-menu .monaco-action-bar.vertical .action-item.focused {
	background: none;
}

/* Vertical Action Bar Styles */

.monaco-menu .monaco-action-bar.vertical {
	padding: 4px 0;
}

.monaco-menu .monaco-action-bar.vertical .action-menu-item {
	height: 2em;
}

.monaco-menu .monaco-action-bar.vertical .action-label:not(.separator),
.monaco-menu .monaco-action-bar.vertical .keybinding {
	font-size: inherit;
	padding: 0 2em;
}

.monaco-menu .monaco-action-bar.vertical .menu-item-check {
	font-size: inherit;
	width: 2em;
}

.monaco-menu .monaco-action-bar.vertical .action-label.separator {
	font-size: inherit;
	margin: 5px 0 !important;
	padding: 0;
	border-radius: 0;
}

.linux .monaco-menu .monaco-action-bar.vertical .action-label.separator,
:host-context(.linux) .monaco-menu .monaco-action-bar.vertical .action-label.separator {
	margin-left: 0;
	margin-right: 0;
}

.monaco-menu .monaco-action-bar.vertical .submenu-indicator {
	font-size: 60%;
	padding: 0 1.8em;
}

.linux .monaco-menu .monaco-action-bar.vertical .submenu-indicator,
:host-context(.linux) .monaco-menu .monaco-action-bar.vertical .submenu-indicator {
	height: 100%;
	mask-size: 10px 10px;
	-webkit-mask-size: 10px 10px;
}

.monaco-menu .action-item {
	cursor: default;
}`;if(E){I+=`
			/* Arrows */
			.monaco-scrollable-element > .scrollbar > .scra {
				cursor: pointer;
				font-size: 11px !important;
			}

			.monaco-scrollable-element > .visible {
				opacity: 1;

				/* Background rule added for IE9 - to allow clicks on dom node */
				background:rgba(0,0,0,0);

				transition: opacity 100ms linear;
			}
			.monaco-scrollable-element > .invisible {
				opacity: 0;
				pointer-events: none;
			}
			.monaco-scrollable-element > .invisible.fade {
				transition: opacity 800ms linear;
			}

			/* Scrollable Content Inset Shadow */
			.monaco-scrollable-element > .shadow {
				position: absolute;
				display: none;
			}
			.monaco-scrollable-element > .shadow.top {
				display: block;
				top: 0;
				left: 3px;
				height: 3px;
				width: 100%;
			}
			.monaco-scrollable-element > .shadow.left {
				display: block;
				top: 3px;
				left: 0;
				height: 100%;
				width: 3px;
			}
			.monaco-scrollable-element > .shadow.top-left-corner {
				display: block;
				top: 0;
				left: 0;
				height: 3px;
				width: 3px;
			}
		`;const M=w.scrollbarShadow;M&&(I+=`
				.monaco-scrollable-element > .shadow.top {
					box-shadow: ${M} 0 6px 6px -6px inset;
				}

				.monaco-scrollable-element > .shadow.left {
					box-shadow: ${M} 6px 0 6px -6px inset;
				}

				.monaco-scrollable-element > .shadow.top.left {
					box-shadow: ${M} 6px 6px 6px -6px inset;
				}
			`);const P=w.scrollbarSliderBackground;P&&(I+=`
				.monaco-scrollable-element > .scrollbar > .slider {
					background: ${P};
				}
			`);const x=w.scrollbarSliderHoverBackground;x&&(I+=`
				.monaco-scrollable-element > .scrollbar > .slider:hover {
					background: ${x};
				}
			`);const T=w.scrollbarSliderActiveBackground;T&&(I+=`
				.monaco-scrollable-element > .scrollbar > .slider.active {
					background: ${T};
				}
			`)}return I}}),define(ne[584],se([1,0,68,315,39,25,26,6,2,560,412]),function(Q,e,L,k,y,D,S,f,_,g){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ToggleMenuAction=e.ToolBar=void 0;class C extends _.Disposable{constructor(n,t,a={orientation:0}){super(),this.submenuActionViewItems=[],this.hasSecondaryActions=!1,this._onDidChangeDropdownVisibility=this._register(new f.EventMultiplexer),this.onDidChangeDropdownVisibility=this._onDidChangeDropdownVisibility.event,this.disposables=this._register(new _.DisposableStore),this.options=a,this.lookupKeybindings=typeof this.options.getKeyBinding=="function",this.toggleMenuAction=this._register(new s(()=>{var u;return(u=this.toggleMenuActionViewItem)===null||u===void 0?void 0:u.show()},a.toggleMenuTitle)),this.element=document.createElement("div"),this.element.className="monaco-toolbar",n.appendChild(this.element),this.actionBar=this._register(new L.ActionBar(this.element,{orientation:a.orientation,ariaLabel:a.ariaLabel,actionRunner:a.actionRunner,allowContextMenu:a.allowContextMenu,highlightToggledItems:a.highlightToggledItems,actionViewItemProvider:(u,h)=>{var r;if(u.id===s.ID)return this.toggleMenuActionViewItem=new k.DropdownMenuActionViewItem(u,u.menuActions,t,{actionViewItemProvider:this.options.actionViewItemProvider,actionRunner:this.actionRunner,keybindingProvider:this.options.getKeyBinding,classNames:S.ThemeIcon.asClassNameArray((r=a.moreIcon)!==null&&r!==void 0?r:D.Codicon.toolBarMore),anchorAlignmentProvider:this.options.anchorAlignmentProvider,menuAsChild:!!this.options.renderDropdownAsChildElement,skipTelemetry:this.options.skipTelemetry}),this.toggleMenuActionViewItem.setActionContext(this.actionBar.context),this.disposables.add(this._onDidChangeDropdownVisibility.add(this.toggleMenuActionViewItem.onDidChangeVisibility)),this.toggleMenuActionViewItem;if(a.actionViewItemProvider){const c=a.actionViewItemProvider(u,h);if(c)return c}if(u instanceof y.SubmenuAction){const c=new k.DropdownMenuActionViewItem(u,u.actions,t,{actionViewItemProvider:this.options.actionViewItemProvider,actionRunner:this.actionRunner,keybindingProvider:this.options.getKeyBinding,classNames:u.class,anchorAlignmentProvider:this.options.anchorAlignmentProvider,menuAsChild:!!this.options.renderDropdownAsChildElement,skipTelemetry:this.options.skipTelemetry});return c.setActionContext(this.actionBar.context),this.submenuActionViewItems.push(c),this.disposables.add(this._onDidChangeDropdownVisibility.add(c.onDidChangeVisibility)),c}}}))}set actionRunner(n){this.actionBar.actionRunner=n}get actionRunner(){return this.actionBar.actionRunner}getElement(){return this.element}getItemAction(n){return this.actionBar.getAction(n)}setActions(n,t){this.clear();const a=n?n.slice(0):[];this.hasSecondaryActions=!!(t&&t.length>0),this.hasSecondaryActions&&t&&(this.toggleMenuAction.menuActions=t.slice(0),a.push(this.toggleMenuAction)),a.forEach(u=>{this.actionBar.push(u,{icon:!0,label:!1,keybinding:this.getKeybindingLabel(u)})})}getKeybindingLabel(n){var t,a,u;const h=this.lookupKeybindings?(a=(t=this.options).getKeyBinding)===null||a===void 0?void 0:a.call(t,n):void 0;return(u=h?.getLabel())!==null&&u!==void 0?u:void 0}clear(){this.submenuActionViewItems=[],this.disposables.clear(),this.actionBar.clear()}dispose(){this.clear(),super.dispose()}}e.ToolBar=C;class s extends y.Action{constructor(n,t){t=t||g.localize(0,null),super(s.ID,t,void 0,!0),this._menuActions=[],this.toggleDropdownMenu=n}run(){return we(this,void 0,void 0,function*(){this.toggleDropdownMenu()})}get menuActions(){return this._menuActions}set menuActions(n){this._menuActions=n}}e.ToggleMenuAction=s,s.ID="toolbar.toggle.more"}),define(ne[184],se([1,0,7,81,44,68,228,227,225,114,153,218,139,39,14,13,25,26,196,6,72,2,141,20,561,413]),function(Q,e,L,k,y,D,S,f,_,g,C,s,i,n,t,a,u,h,r,c,o,d,l,p,m){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.AbstractTree=e.TreeFindMatchType=e.TreeFindMode=e.FuzzyToggle=e.ModeToggle=e.RenderIndentGuides=e.ComposedTreeDelegate=void 0;class v extends _.ElementsDragAndDropData{constructor(B){super(B.elements.map(V=>V.element)),this.data=B}}function b(H){return H instanceof _.ElementsDragAndDropData?new v(H):H}class w{constructor(B,V){this.modelProvider=B,this.dnd=V,this.autoExpandDisposable=d.Disposable.None}getDragURI(B){return this.dnd.getDragURI(B.element)}getDragLabel(B,V){if(this.dnd.getDragLabel)return this.dnd.getDragLabel(B.map(Y=>Y.element),V)}onDragStart(B,V){var Y,ie;(ie=(Y=this.dnd).onDragStart)===null||ie===void 0||ie.call(Y,b(B),V)}onDragOver(B,V,Y,ie,ae=!0){const ce=this.dnd.onDragOver(b(B),V&&V.element,Y,ie),de=this.autoExpandNode!==V;if(de&&(this.autoExpandDisposable.dispose(),this.autoExpandNode=V),typeof V>"u")return ce;if(de&&typeof ce!="boolean"&&ce.autoExpand&&(this.autoExpandDisposable=(0,a.disposableTimeout)(()=>{const z=this.modelProvider(),ee=z.getNodeLocation(V);z.isCollapsed(ee)&&z.setCollapsed(ee,!1),this.autoExpandNode=void 0},500)),typeof ce=="boolean"||!ce.accept||typeof ce.bubble>"u"||ce.feedback){if(!ae){const z=typeof ce=="boolean"?ce:ce.accept,ee=typeof ce=="boolean"?void 0:ce.effect;return{accept:z,effect:ee,feedback:[Y]}}return ce}if(ce.bubble===1){const z=this.modelProvider(),ee=z.getNodeLocation(V),$=z.getParentNodeLocation(ee),re=z.getNode($),oe=$&&z.getListIndex($);return this.onDragOver(B,re,oe,ie,!1)}const he=this.modelProvider(),ue=he.getNodeLocation(V),te=he.getListIndex(ue),q=he.getListRenderCount(ue);return Object.assign(Object.assign({},ce),{feedback:(0,t.range)(te,te+q)})}drop(B,V,Y,ie){this.autoExpandDisposable.dispose(),this.autoExpandNode=void 0,this.dnd.drop(b(B),V&&V.element,Y,ie)}onDragEnd(B){var V,Y;(Y=(V=this.dnd).onDragEnd)===null||Y===void 0||Y.call(V,B)}}function E(H,B){return B&&Object.assign(Object.assign({},B),{identityProvider:B.identityProvider&&{getId(V){return B.identityProvider.getId(V.element)}},dnd:B.dnd&&new w(H,B.dnd),multipleSelectionController:B.multipleSelectionController&&{isSelectionSingleChangeEvent(V){return B.multipleSelectionController.isSelectionSingleChangeEvent(Object.assign(Object.assign({},V),{element:V.element}))},isSelectionRangeChangeEvent(V){return B.multipleSelectionController.isSelectionRangeChangeEvent(Object.assign(Object.assign({},V),{element:V.element}))}},accessibilityProvider:B.accessibilityProvider&&Object.assign(Object.assign({},B.accessibilityProvider),{getSetSize(V){const Y=H(),ie=Y.getNodeLocation(V),ae=Y.getParentNodeLocation(ie);return Y.getNode(ae).visibleChildrenCount},getPosInSet(V){return V.visibleChildIndex+1},isChecked:B.accessibilityProvider&&B.accessibilityProvider.isChecked?V=>B.accessibilityProvider.isChecked(V.element):void 0,getRole:B.accessibilityProvider&&B.accessibilityProvider.getRole?V=>B.accessibilityProvider.getRole(V.element):()=>"treeitem",getAriaLabel(V){return B.accessibilityProvider.getAriaLabel(V.element)},getWidgetAriaLabel(){return B.accessibilityProvider.getWidgetAriaLabel()},getWidgetRole:B.accessibilityProvider&&B.accessibilityProvider.getWidgetRole?()=>B.accessibilityProvider.getWidgetRole():()=>"tree",getAriaLevel:B.accessibilityProvider&&B.accessibilityProvider.getAriaLevel?V=>B.accessibilityProvider.getAriaLevel(V.element):V=>V.depth,getActiveDescendantId:B.accessibilityProvider.getActiveDescendantId&&(V=>B.accessibilityProvider.getActiveDescendantId(V.element))}),keyboardNavigationLabelProvider:B.keyboardNavigationLabelProvider&&Object.assign(Object.assign({},B.keyboardNavigationLabelProvider),{getKeyboardNavigationLabel(V){return B.keyboardNavigationLabelProvider.getKeyboardNavigationLabel(V.element)}})})}class I{constructor(B){this.delegate=B}getHeight(B){return this.delegate.getHeight(B.element)}getTemplateId(B){return this.delegate.getTemplateId(B.element)}hasDynamicHeight(B){return!!this.delegate.hasDynamicHeight&&this.delegate.hasDynamicHeight(B.element)}setDynamicHeight(B,V){var Y,ie;(ie=(Y=this.delegate).setDynamicHeight)===null||ie===void 0||ie.call(Y,B.element,V)}}e.ComposedTreeDelegate=I;var M;(function(H){H.None="none",H.OnHover="onHover",H.Always="always"})(M||(e.RenderIndentGuides=M={}));class P{get elements(){return this._elements}constructor(B,V=[]){this._elements=V,this.disposables=new d.DisposableStore,this.onDidChange=c.Event.forEach(B,Y=>this._elements=Y,this.disposables)}dispose(){this.disposables.dispose()}}class x{constructor(B,V,Y,ie,ae,ce={}){var de;this.renderer=B,this.modelProvider=V,this.activeNodes=ie,this.renderedIndentGuides=ae,this.renderedElements=new Map,this.renderedNodes=new Map,this.indent=x.DefaultIndent,this.hideTwistiesOfChildlessElements=!1,this.shouldRenderIndentGuides=!1,this.activeIndentNodes=new Set,this.indentGuidesDisposable=d.Disposable.None,this.disposables=new d.DisposableStore,this.templateId=B.templateId,this.updateOptions(ce),c.Event.map(Y,he=>he.node)(this.onDidChangeNodeTwistieState,this,this.disposables),(de=B.onDidChangeTwistieState)===null||de===void 0||de.call(B,this.onDidChangeTwistieState,this,this.disposables)}updateOptions(B={}){if(typeof B.indent<"u"){const V=(0,l.clamp)(B.indent,0,40);if(V!==this.indent){this.indent=V;for(const[Y,ie]of this.renderedNodes)this.renderTreeElement(Y,ie)}}if(typeof B.renderIndentGuides<"u"){const V=B.renderIndentGuides!==M.None;if(V!==this.shouldRenderIndentGuides){this.shouldRenderIndentGuides=V;for(const[Y,ie]of this.renderedNodes)this._renderIndentGuides(Y,ie);if(this.indentGuidesDisposable.dispose(),V){const Y=new d.DisposableStore;this.activeNodes.onDidChange(this._onDidChangeActiveNodes,this,Y),this.indentGuidesDisposable=Y,this._onDidChangeActiveNodes(this.activeNodes.elements)}}}typeof B.hideTwistiesOfChildlessElements<"u"&&(this.hideTwistiesOfChildlessElements=B.hideTwistiesOfChildlessElements)}renderTemplate(B){const V=(0,L.append)(B,(0,L.$)(".monaco-tl-row")),Y=(0,L.append)(V,(0,L.$)(".monaco-tl-indent")),ie=(0,L.append)(V,(0,L.$)(".monaco-tl-twistie")),ae=(0,L.append)(V,(0,L.$)(".monaco-tl-contents")),ce=this.renderer.renderTemplate(ae);return{container:B,indent:Y,twistie:ie,indentGuidesDisposable:d.Disposable.None,templateData:ce}}renderElement(B,V,Y,ie){this.renderedNodes.set(B,Y),this.renderedElements.set(B.element,B),this.renderTreeElement(B,Y),this.renderer.renderElement(B,V,Y.templateData,ie)}disposeElement(B,V,Y,ie){var ae,ce;Y.indentGuidesDisposable.dispose(),(ce=(ae=this.renderer).disposeElement)===null||ce===void 0||ce.call(ae,B,V,Y.templateData,ie),typeof ie=="number"&&(this.renderedNodes.delete(B),this.renderedElements.delete(B.element))}disposeTemplate(B){this.renderer.disposeTemplate(B.templateData)}onDidChangeTwistieState(B){const V=this.renderedElements.get(B);V&&this.onDidChangeNodeTwistieState(V)}onDidChangeNodeTwistieState(B){const V=this.renderedNodes.get(B);V&&(this._onDidChangeActiveNodes(this.activeNodes.elements),this.renderTreeElement(B,V))}renderTreeElement(B,V){const Y=x.DefaultIndent+(B.depth-1)*this.indent;V.twistie.style.paddingLeft=`${Y}px`,V.indent.style.width=`${Y+this.indent-16}px`,B.collapsible?V.container.setAttribute("aria-expanded",String(!B.collapsed)):V.container.removeAttribute("aria-expanded"),V.twistie.classList.remove(...h.ThemeIcon.asClassNameArray(u.Codicon.treeItemExpanded));let ie=!1;this.renderer.renderTwistie&&(ie=this.renderer.renderTwistie(B.element,V.twistie)),B.collapsible&&(!this.hideTwistiesOfChildlessElements||B.visibleChildrenCount>0)?(ie||V.twistie.classList.add(...h.ThemeIcon.asClassNameArray(u.Codicon.treeItemExpanded)),V.twistie.classList.add("collapsible"),V.twistie.classList.toggle("collapsed",B.collapsed)):V.twistie.classList.remove("collapsible","collapsed"),this._renderIndentGuides(B,V)}_renderIndentGuides(B,V){if((0,L.clearNode)(V.indent),V.indentGuidesDisposable.dispose(),!this.shouldRenderIndentGuides)return;const Y=new d.DisposableStore,ie=this.modelProvider();for(;;){const ae=ie.getNodeLocation(B),ce=ie.getParentNodeLocation(ae);if(!ce)break;const de=ie.getNode(ce),he=(0,L.$)(".indent-guide",{style:`width: ${this.indent}px`});this.activeIndentNodes.has(de)&&he.classList.add("active"),V.indent.childElementCount===0?V.indent.appendChild(he):V.indent.insertBefore(he,V.indent.firstElementChild),this.renderedIndentGuides.add(de,he),Y.add((0,d.toDisposable)(()=>this.renderedIndentGuides.delete(de,he))),B=de}V.indentGuidesDisposable=Y}_onDidChangeActiveNodes(B){if(!this.shouldRenderIndentGuides)return;const V=new Set,Y=this.modelProvider();B.forEach(ie=>{const ae=Y.getNodeLocation(ie);try{const ce=Y.getParentNodeLocation(ae);ie.collapsible&&ie.children.length>0&&!ie.collapsed?V.add(ie):ce&&V.add(Y.getNode(ce))}catch{}}),this.activeIndentNodes.forEach(ie=>{V.has(ie)||this.renderedIndentGuides.forEach(ie,ae=>ae.classList.remove("active"))}),V.forEach(ie=>{this.activeIndentNodes.has(ie)||this.renderedIndentGuides.forEach(ie,ae=>ae.classList.add("active"))}),this.activeIndentNodes=V}dispose(){this.renderedNodes.clear(),this.renderedElements.clear(),this.indentGuidesDisposable.dispose(),(0,d.dispose)(this.disposables)}}x.DefaultIndent=8;class T{get totalCount(){return this._totalCount}get matchCount(){return this._matchCount}constructor(B,V,Y){this.tree=B,this.keyboardNavigationLabelProvider=V,this._filter=Y,this._totalCount=0,this._matchCount=0,this._pattern="",this._lowercasePattern="",this.disposables=new d.DisposableStore,B.onWillRefilter(this.reset,this,this.disposables)}filter(B,V){let Y=1;if(this._filter){const ce=this._filter.filter(B,V);if(typeof ce=="boolean"?Y=ce?1:0:(0,s.isFilterResult)(ce)?Y=(0,s.getVisibleState)(ce.visibility):Y=ce,Y===0)return!1}if(this._totalCount++,!this._pattern)return this._matchCount++,{data:o.FuzzyScore.Default,visibility:Y};const ie=this.keyboardNavigationLabelProvider.getKeyboardNavigationLabel(B),ae=Array.isArray(ie)?ie:[ie];for(const ce of ae){const de=ce&&ce.toString();if(typeof de>"u")return{data:o.FuzzyScore.Default,visibility:Y};let he;if(this.tree.findMatchType===W.Contiguous){const ue=de.toLowerCase().indexOf(this._lowercasePattern);if(ue>-1){he=[Number.MAX_SAFE_INTEGER,0];for(let te=this._lowercasePattern.length;te>0;te--)he.push(ue+te-1)}}else he=(0,o.fuzzyScore)(this._pattern,this._lowercasePattern,0,de,de.toLowerCase(),0,{firstMatchCanBeWeak:!0,boostFullMatch:!0});if(he)return this._matchCount++,ae.length===1?{data:he,visibility:Y}:{data:{label:de,score:he},visibility:Y}}return this.tree.findMode===O.Filter?typeof this.tree.options.defaultFindVisibility=="number"?this.tree.options.defaultFindVisibility:this.tree.options.defaultFindVisibility?this.tree.options.defaultFindVisibility(B):2:{data:o.FuzzyScore.Default,visibility:Y}}reset(){this._totalCount=0,this._matchCount=0}dispose(){(0,d.dispose)(this.disposables)}}class A extends C.Toggle{constructor(B){var V;super({icon:u.Codicon.listFilter,title:(0,m.localize)(0,null),isChecked:(V=B.isChecked)!==null&&V!==void 0?V:!1,inputActiveOptionBorder:B.inputActiveOptionBorder,inputActiveOptionForeground:B.inputActiveOptionForeground,inputActiveOptionBackground:B.inputActiveOptionBackground})}}e.ModeToggle=A;class N extends C.Toggle{constructor(B){var V;super({icon:u.Codicon.searchFuzzy,title:(0,m.localize)(1,null),isChecked:(V=B.isChecked)!==null&&V!==void 0?V:!1,inputActiveOptionBorder:B.inputActiveOptionBorder,inputActiveOptionForeground:B.inputActiveOptionForeground,inputActiveOptionBackground:B.inputActiveOptionBackground})}}e.FuzzyToggle=N;const F={inputBoxStyles:f.unthemedInboxStyles,toggleStyles:C.unthemedToggleStyles,listFilterWidgetBackground:void 0,listFilterWidgetNoMatchesOutline:void 0,listFilterWidgetOutline:void 0,listFilterWidgetShadow:void 0};var O;(function(H){H[H.Highlight=0]="Highlight",H[H.Filter=1]="Filter"})(O||(e.TreeFindMode=O={}));var W;(function(H){H[H.Fuzzy=0]="Fuzzy",H[H.Contiguous=1]="Contiguous"})(W||(e.TreeFindMatchType=W={}));class U extends d.Disposable{set mode(B){this.modeToggle.checked=B===O.Filter,this.findInput.inputBox.setPlaceHolder(B===O.Filter?(0,m.localize)(2,null):(0,m.localize)(3,null))}set matchType(B){this.matchTypeToggle.checked=B===W.Fuzzy}constructor(B,V,Y,ie,ae,ce){var de;super(),this.tree=V,this.elements=(0,L.h)(".monaco-tree-type-filter",[(0,L.h)(".monaco-tree-type-filter-grab.codicon.codicon-debug-gripper@grab",{tabIndex:0}),(0,L.h)(".monaco-tree-type-filter-input@findInput"),(0,L.h)(".monaco-tree-type-filter-actionbar@actionbar")]),this.width=0,this.right=0,this.top=0,this._onDidDisable=new c.Emitter,B.appendChild(this.elements.root),this._register((0,d.toDisposable)(()=>B.removeChild(this.elements.root)));const he=(de=ce?.styles)!==null&&de!==void 0?de:F;he.listFilterWidgetBackground&&(this.elements.root.style.backgroundColor=he.listFilterWidgetBackground),he.listFilterWidgetShadow&&(this.elements.root.style.boxShadow=`0 0 8px 2px ${he.listFilterWidgetShadow}`),this.modeToggle=this._register(new A(Object.assign(Object.assign({},he.toggleStyles),{isChecked:ie===O.Filter}))),this.matchTypeToggle=this._register(new N(Object.assign(Object.assign({},he.toggleStyles),{isChecked:ae===W.Fuzzy}))),this.onDidChangeMode=c.Event.map(this.modeToggle.onChange,()=>this.modeToggle.checked?O.Filter:O.Highlight,this._store),this.onDidChangeMatchType=c.Event.map(this.matchTypeToggle.onChange,()=>this.matchTypeToggle.checked?W.Fuzzy:W.Contiguous,this._store),this.findInput=this._register(new S.FindInput(this.elements.findInput,Y,{label:(0,m.localize)(4,null),additionalToggles:[this.modeToggle,this.matchTypeToggle],showCommonFindToggles:!1,inputBoxStyles:he.inputBoxStyles,toggleStyles:he.toggleStyles,history:ce?.history})),this.actionbar=this._register(new D.ActionBar(this.elements.actionbar)),this.mode=ie;const ue=this._register(new k.DomEmitter(this.findInput.inputBox.inputElement,"keydown")),te=this._register(c.Event.chain(ue.event)).map($=>new y.StandardKeyboardEvent($)).event;this._register(te($=>{if($.equals(3)){$.preventDefault(),$.stopPropagation(),this.findInput.inputBox.addToHistory(),this.tree.domFocus();return}if($.equals(18)){$.preventDefault(),$.stopPropagation(),this.findInput.inputBox.isAtLastInHistory()||this.findInput.inputBox.isNowhereInHistory()?(this.findInput.inputBox.addToHistory(),this.tree.domFocus()):this.findInput.inputBox.showNextValue();return}if($.equals(16)){$.preventDefault(),$.stopPropagation(),this.findInput.inputBox.showPreviousValue();return}}));const q=this._register(new n.Action("close",(0,m.localize)(5,null),"codicon codicon-close",!0,()=>this.dispose()));this.actionbar.push(q,{icon:!0,label:!1});const z=this._register(new k.DomEmitter(this.elements.grab,"mousedown"));this._register(z.event($=>{const re=new d.DisposableStore,oe=re.add(new k.DomEmitter(window,"mousemove")),ge=re.add(new k.DomEmitter(window,"mouseup")),ve=this.right,Se=$.pageX,Le=this.top,De=$.pageY;this.elements.grab.classList.add("grabbing");const ye=this.elements.root.style.transition;this.elements.root.style.transition="unset";const Ee=Me=>{const Pe=Me.pageX-Se;this.right=ve-Pe;const Fe=Me.pageY-De;this.top=Le+Fe,this.layout()};re.add(oe.event(Ee)),re.add(ge.event(Me=>{Ee(Me),this.elements.grab.classList.remove("grabbing"),this.elements.root.style.transition=ye,re.dispose()}))}));const ee=this._register(c.Event.chain(this._register(new k.DomEmitter(this.elements.grab,"keydown")).event)).map($=>new y.StandardKeyboardEvent($)).event;this._register(ee($=>{let re,oe;if($.keyCode===15?re=Number.POSITIVE_INFINITY:$.keyCode===17?re=0:$.keyCode===10&&(re=this.right===0?Number.POSITIVE_INFINITY:0),$.keyCode===16?oe=0:$.keyCode===18&&(oe=Number.POSITIVE_INFINITY),re!==void 0&&($.preventDefault(),$.stopPropagation(),this.right=re,this.layout()),oe!==void 0){$.preventDefault(),$.stopPropagation(),this.top=oe;const ge=this.elements.root.style.transition;this.elements.root.style.transition="unset",this.layout(),setTimeout(()=>{this.elements.root.style.transition=ge},0)}})),this.onDidChangeValue=this.findInput.onDidChange}layout(B=this.width){this.width=B,this.right=(0,l.clamp)(this.right,0,Math.max(0,B-212)),this.elements.root.style.right=`${this.right}px`,this.top=(0,l.clamp)(this.top,0,24),this.elements.root.style.top=`${this.top}px`}showMessage(B){this.findInput.showMessage(B)}clearMessage(){this.findInput.clearMessage()}dispose(){const B=Object.create(null,{dispose:{get:()=>super.dispose}});return we(this,void 0,void 0,function*(){this._onDidDisable.fire(),this.elements.root.classList.add("disabled"),yield(0,a.timeout)(300),B.dispose.call(this)})}}class j{get pattern(){return this._pattern}get mode(){return this._mode}set mode(B){B!==this._mode&&(this._mode=B,this.widget&&(this.widget.mode=this._mode),this.tree.refilter(),this.render(),this._onDidChangeMode.fire(B))}get matchType(){return this._matchType}set matchType(B){B!==this._matchType&&(this._matchType=B,this.widget&&(this.widget.matchType=this._matchType),this.tree.refilter(),this.render(),this._onDidChangeMatchType.fire(B))}constructor(B,V,Y,ie,ae,ce={}){var de,he;this.tree=B,this.view=Y,this.filter=ie,this.contextViewProvider=ae,this.options=ce,this._pattern="",this.width=0,this._onDidChangeMode=new c.Emitter,this.onDidChangeMode=this._onDidChangeMode.event,this._onDidChangeMatchType=new c.Emitter,this.onDidChangeMatchType=this._onDidChangeMatchType.event,this._onDidChangePattern=new c.Emitter,this._onDidChangeOpenState=new c.Emitter,this.onDidChangeOpenState=this._onDidChangeOpenState.event,this.enabledDisposables=new d.DisposableStore,this.disposables=new d.DisposableStore,this._mode=(de=B.options.defaultFindMode)!==null&&de!==void 0?de:O.Highlight,this._matchType=(he=B.options.defaultFindMatchType)!==null&&he!==void 0?he:W.Fuzzy,V.onDidSplice(this.onDidSpliceModel,this,this.disposables)}updateOptions(B={}){B.defaultFindMode!==void 0&&(this.mode=B.defaultFindMode),B.defaultFindMatchType!==void 0&&(this.matchType=B.defaultFindMatchType)}onDidSpliceModel(){!this.widget||this.pattern.length===0||(this.tree.refilter(),this.render())}render(){var B,V,Y,ie;const ae=this.filter.totalCount>0&&this.filter.matchCount===0;this.pattern&&ae?!((B=this.tree.options.showNotFoundMessage)!==null&&B!==void 0)||B?(V=this.widget)===null||V===void 0||V.showMessage({type:2,content:(0,m.localize)(6,null)}):(Y=this.widget)===null||Y===void 0||Y.showMessage({type:2}):(ie=this.widget)===null||ie===void 0||ie.clearMessage()}shouldAllowFocus(B){return!this.widget||!this.pattern||this._mode===O.Filter||this.filter.totalCount>0&&this.filter.matchCount<=1?!0:!o.FuzzyScore.isDefault(B.filterData)}layout(B){var V;this.width=B,(V=this.widget)===null||V===void 0||V.layout(B)}dispose(){this._history=void 0,this._onDidChangePattern.dispose(),this.enabledDisposables.dispose(),this.disposables.dispose()}}function R(H){let B=i.TreeMouseEventTarget.Unknown;return(0,L.hasParentWithClass)(H.browserEvent.target,"monaco-tl-twistie","monaco-tl-row")?B=i.TreeMouseEventTarget.Twistie:(0,L.hasParentWithClass)(H.browserEvent.target,"monaco-tl-contents","monaco-tl-row")?B=i.TreeMouseEventTarget.Element:(0,L.hasParentWithClass)(H.browserEvent.target,"monaco-tree-type-filter","monaco-list")&&(B=i.TreeMouseEventTarget.Filter),{browserEvent:H.browserEvent,element:H.element?H.element.element:null,target:B}}function K(H,B){B(H),H.children.forEach(V=>K(V,B))}class G{get nodeSet(){return this._nodeSet||(this._nodeSet=this.createNodeSet()),this._nodeSet}constructor(B,V){this.getFirstViewElementWithTrait=B,this.identityProvider=V,this.nodes=[],this._onDidChange=new c.Emitter,this.onDidChange=this._onDidChange.event}set(B,V){!V?.__forceEvent&&(0,t.equals)(this.nodes,B)||this._set(B,!1,V)}_set(B,V,Y){if(this.nodes=[...B],this.elements=void 0,this._nodeSet=void 0,!V){const ie=this;this._onDidChange.fire({get elements(){return ie.get()},browserEvent:Y})}}get(){return this.elements||(this.elements=this.nodes.map(B=>B.element)),[...this.elements]}getNodes(){return this.nodes}has(B){return this.nodeSet.has(B)}onDidModelSplice({insertedNodes:B,deletedNodes:V}){if(!this.identityProvider){const he=this.createNodeSet(),ue=te=>he.delete(te);V.forEach(te=>K(te,ue)),this.set([...he.values()]);return}const Y=new Set,ie=he=>Y.add(this.identityProvider.getId(he.element).toString());V.forEach(he=>K(he,ie));const ae=new Map,ce=he=>ae.set(this.identityProvider.getId(he.element).toString(),he);B.forEach(he=>K(he,ce));const de=[];for(const he of this.nodes){const ue=this.identityProvider.getId(he.element).toString();if(!Y.has(ue))de.push(he);else{const q=ae.get(ue);q&&q.visible&&de.push(q)}}if(this.nodes.length>0&&de.length===0){const he=this.getFirstViewElementWithTrait();he&&de.push(he)}this._set(de,!0)}createNodeSet(){const B=new Set;for(const V of this.nodes)B.add(V);return B}}class Z extends g.MouseController{constructor(B,V){super(B),this.tree=V}onViewPointer(B){if((0,g.isButton)(B.browserEvent.target)||(0,g.isInputElement)(B.browserEvent.target)||(0,g.isMonacoEditor)(B.browserEvent.target)||B.browserEvent.isHandledByList)return;const V=B.element;if(!V)return super.onViewPointer(B);if(this.isSelectionRangeChangeEvent(B)||this.isSelectionSingleChangeEvent(B))return super.onViewPointer(B);const Y=B.browserEvent.target,ie=Y.classList.contains("monaco-tl-twistie")||Y.classList.contains("monaco-icon-label")&&Y.classList.contains("folder-icon")&&B.browserEvent.offsetX<16;let ae=!1;if(typeof this.tree.expandOnlyOnTwistieClick=="function"?ae=this.tree.expandOnlyOnTwistieClick(V.element):ae=!!this.tree.expandOnlyOnTwistieClick,ae&&!ie&&B.browserEvent.detail!==2)return super.onViewPointer(B);if(!this.tree.expandOnDoubleClick&&B.browserEvent.detail===2)return super.onViewPointer(B);if(V.collapsible){const ce=this.tree.getNodeLocation(V),de=B.browserEvent.altKey;if(this.tree.setFocus([ce]),this.tree.toggleCollapsed(ce,de),ae&&ie){B.browserEvent.isHandledByList=!0;return}}super.onViewPointer(B)}onDoubleClick(B){B.browserEvent.target.classList.contains("monaco-tl-twistie")||!this.tree.expandOnDoubleClick||B.browserEvent.isHandledByList||super.onDoubleClick(B)}}class J extends g.List{constructor(B,V,Y,ie,ae,ce,de,he){super(B,V,Y,ie,he),this.focusTrait=ae,this.selectionTrait=ce,this.anchorTrait=de}createMouseController(B){return new Z(this,B.tree)}splice(B,V,Y=[]){if(super.splice(B,V,Y),Y.length===0)return;const ie=[],ae=[];let ce;Y.forEach((de,he)=>{this.focusTrait.has(de)&&ie.push(B+he),this.selectionTrait.has(de)&&ae.push(B+he),this.anchorTrait.has(de)&&(ce=B+he)}),ie.length>0&&super.setFocus((0,t.distinct)([...super.getFocus(),...ie])),ae.length>0&&super.setSelection((0,t.distinct)([...super.getSelection(),...ae])),typeof ce=="number"&&super.setAnchor(ce)}setFocus(B,V,Y=!1){super.setFocus(B,V),Y||this.focusTrait.set(B.map(ie=>this.element(ie)),V)}setSelection(B,V,Y=!1){super.setSelection(B,V),Y||this.selectionTrait.set(B.map(ie=>this.element(ie)),V)}setAnchor(B,V=!1){super.setAnchor(B),V||(typeof B>"u"?this.anchorTrait.set([]):this.anchorTrait.set([this.element(B)]))}}class X{get onDidScroll(){return this.view.onDidScroll}get onDidChangeFocus(){return this.eventBufferer.wrapEvent(this.focus.onDidChange)}get onDidChangeSelection(){return this.eventBufferer.wrapEvent(this.selection.onDidChange)}get onMouseDblClick(){return c.Event.filter(c.Event.map(this.view.onMouseDblClick,R),B=>B.target!==i.TreeMouseEventTarget.Filter)}get onPointer(){return c.Event.map(this.view.onPointer,R)}get onDidFocus(){return this.view.onDidFocus}get onDidChangeModel(){return c.Event.signal(this.model.onDidSplice)}get onDidChangeCollapseState(){return this.model.onDidChangeCollapseState}get findMode(){var B,V;return(V=(B=this.findController)===null||B===void 0?void 0:B.mode)!==null&&V!==void 0?V:O.Highlight}set findMode(B){this.findController&&(this.findController.mode=B)}get findMatchType(){var B,V;return(V=(B=this.findController)===null||B===void 0?void 0:B.matchType)!==null&&V!==void 0?V:W.Fuzzy}set findMatchType(B){this.findController&&(this.findController.matchType=B)}get expandOnDoubleClick(){return typeof this._options.expandOnDoubleClick>"u"?!0:this._options.expandOnDoubleClick}get expandOnlyOnTwistieClick(){return typeof this._options.expandOnlyOnTwistieClick>"u"?!0:this._options.expandOnlyOnTwistieClick}get onDidDispose(){return this.view.onDidDispose}constructor(B,V,Y,ie,ae={}){var ce;this._user=B,this._options=ae,this.eventBufferer=new c.EventBufferer,this.onDidChangeFindOpenState=c.Event.None,this.disposables=new d.DisposableStore,this._onWillRefilter=new c.Emitter,this.onWillRefilter=this._onWillRefilter.event,this._onDidUpdateOptions=new c.Emitter;const de=new I(Y),he=new c.Relay,ue=new c.Relay,te=this.disposables.add(new P(ue.event)),q=new r.SetMap;this.renderers=ie.map($=>new x($,()=>this.model,he.event,te,q,ae));for(const $ of this.renderers)this.disposables.add($);let z;ae.keyboardNavigationLabelProvider&&(z=new T(this,ae.keyboardNavigationLabelProvider,ae.filter),ae=Object.assign(Object.assign({},ae),{filter:z}),this.disposables.add(z)),this.focus=new G(()=>this.view.getFocusedElements()[0],ae.identityProvider),this.selection=new G(()=>this.view.getSelectedElements()[0],ae.identityProvider),this.anchor=new G(()=>this.view.getAnchorElement(),ae.identityProvider),this.view=new J(B,V,de,this.renderers,this.focus,this.selection,this.anchor,Object.assign(Object.assign({},E(()=>this.model,ae)),{tree:this})),this.model=this.createModel(B,this.view,ae),he.input=this.model.onDidChangeCollapseState;const ee=c.Event.forEach(this.model.onDidSplice,$=>{this.eventBufferer.bufferEvents(()=>{this.focus.onDidModelSplice($),this.selection.onDidModelSplice($)})},this.disposables);if(ee(()=>null,null,this.disposables),ue.input=c.Event.chain(c.Event.any(ee,this.focus.onDidChange,this.selection.onDidChange)).debounce(()=>null,0).map(()=>{const $=new Set;for(const re of this.focus.getNodes())$.add(re);for(const re of this.selection.getNodes())$.add(re);return[...$.values()]}).event,ae.keyboardSupport!==!1){const $=c.Event.chain(this.view.onKeyDown).filter(re=>!(0,g.isInputElement)(re.target)).map(re=>new y.StandardKeyboardEvent(re));$.filter(re=>re.keyCode===15).on(this.onLeftArrow,this,this.disposables),$.filter(re=>re.keyCode===17).on(this.onRightArrow,this,this.disposables),$.filter(re=>re.keyCode===10).on(this.onSpace,this,this.disposables)}if((!((ce=ae.findWidgetEnabled)!==null&&ce!==void 0)||ce)&&ae.keyboardNavigationLabelProvider&&ae.contextViewProvider){const $=this.options.findWidgetStyles?{styles:this.options.findWidgetStyles}:void 0;this.findController=new j(this,this.model,this.view,z,ae.contextViewProvider,$),this.focusNavigationFilter=re=>this.findController.shouldAllowFocus(re),this.onDidChangeFindOpenState=this.findController.onDidChangeOpenState,this.disposables.add(this.findController),this.onDidChangeFindMode=this.findController.onDidChangeMode,this.onDidChangeFindMatchType=this.findController.onDidChangeMatchType}else this.onDidChangeFindMode=c.Event.None,this.onDidChangeFindMatchType=c.Event.None;this.styleElement=(0,L.createStyleSheet)(this.view.getHTMLElement()),this.getHTMLElement().classList.toggle("always",this._options.renderIndentGuides===M.Always)}updateOptions(B={}){var V;this._options=Object.assign(Object.assign({},this._options),B);for(const Y of this.renderers)Y.updateOptions(B);this.view.updateOptions(this._options),(V=this.findController)===null||V===void 0||V.updateOptions(B),this._onDidUpdateOptions.fire(this._options),this.getHTMLElement().classList.toggle("always",this._options.renderIndentGuides===M.Always)}get options(){return this._options}getHTMLElement(){return this.view.getHTMLElement()}get scrollTop(){return this.view.scrollTop}set scrollTop(B){this.view.scrollTop=B}get scrollHeight(){return this.view.scrollHeight}get renderHeight(){return this.view.renderHeight}domFocus(){this.view.domFocus()}layout(B,V){var Y;this.view.layout(B,V),(0,p.isNumber)(V)&&((Y=this.findController)===null||Y===void 0||Y.layout(V))}style(B){const V=`.${this.view.domId}`,Y=[];B.treeIndentGuidesStroke&&(Y.push(`.monaco-list${V}:hover .monaco-tl-indent > .indent-guide, .monaco-list${V}.always .monaco-tl-indent > .indent-guide  { border-color: ${B.treeInactiveIndentGuidesStroke}; }`),Y.push(`.monaco-list${V} .monaco-tl-indent > .indent-guide.active { border-color: ${B.treeIndentGuidesStroke}; }`)),this.styleElement.textContent=Y.join(`
`),this.view.style(B)}getParentElement(B){const V=this.model.getParentNodeLocation(B);return this.model.getNode(V).element}getFirstElementChild(B){return this.model.getFirstElementChild(B)}getNode(B){return this.model.getNode(B)}getNodeLocation(B){return this.model.getNodeLocation(B)}collapse(B,V=!1){return this.model.setCollapsed(B,!0,V)}expand(B,V=!1){return this.model.setCollapsed(B,!1,V)}toggleCollapsed(B,V=!1){return this.model.setCollapsed(B,void 0,V)}isCollapsible(B){return this.model.isCollapsible(B)}setCollapsible(B,V){return this.model.setCollapsible(B,V)}isCollapsed(B){return this.model.isCollapsed(B)}refilter(){this._onWillRefilter.fire(void 0),this.model.refilter()}setSelection(B,V){const Y=B.map(ae=>this.model.getNode(ae));this.selection.set(Y,V);const ie=B.map(ae=>this.model.getListIndex(ae)).filter(ae=>ae>-1);this.view.setSelection(ie,V,!0)}getSelection(){return this.selection.get()}setFocus(B,V){const Y=B.map(ae=>this.model.getNode(ae));this.focus.set(Y,V);const ie=B.map(ae=>this.model.getListIndex(ae)).filter(ae=>ae>-1);this.view.setFocus(ie,V,!0)}getFocus(){return this.focus.get()}reveal(B,V){this.model.expandTo(B);const Y=this.model.getListIndex(B);Y!==-1&&this.view.reveal(Y,V)}onLeftArrow(B){B.preventDefault(),B.stopPropagation();const V=this.view.getFocusedElements();if(V.length===0)return;const Y=V[0],ie=this.model.getNodeLocation(Y);if(!this.model.setCollapsed(ie,!0)){const ce=this.model.getParentNodeLocation(ie);if(!ce)return;const de=this.model.getListIndex(ce);this.view.reveal(de),this.view.setFocus([de])}}onRightArrow(B){B.preventDefault(),B.stopPropagation();const V=this.view.getFocusedElements();if(V.length===0)return;const Y=V[0],ie=this.model.getNodeLocation(Y);if(!this.model.setCollapsed(ie,!1)){if(!Y.children.some(he=>he.visible))return;const[ce]=this.view.getFocus(),de=ce+1;this.view.reveal(de),this.view.setFocus([de])}}onSpace(B){B.preventDefault(),B.stopPropagation();const V=this.view.getFocusedElements();if(V.length===0)return;const Y=V[0],ie=this.model.getNodeLocation(Y),ae=B.browserEvent.altKey;this.model.setCollapsed(ie,void 0,ae)}dispose(){(0,d.dispose)(this.disposables),this.view.dispose()}}e.AbstractTree=X}),define(ne[585],se([1,0,184,219]),function(Q,e,L,k){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.DataTree=void 0;class y extends L.AbstractTree{constructor(S,f,_,g,C,s={}){super(S,f,_,g,s),this.user=S,this.dataSource=C,this.identityProvider=s.identityProvider}createModel(S,f,_){return new k.ObjectTreeModel(S,f,_)}}e.DataTree=y}),define(ne[316],se([1,0,184,568,219,106,46]),function(Q,e,L,k,y,D,S){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.CompressibleObjectTree=e.ObjectTree=void 0;class f extends L.AbstractTree{get onDidChangeCollapseState(){return this.model.onDidChangeCollapseState}constructor(i,n,t,a,u={}){super(i,n,t,a,u),this.user=i}setChildren(i,n=S.Iterable.empty(),t){this.model.setChildren(i,n,t)}rerender(i){if(i===void 0){this.view.rerender();return}this.model.rerender(i)}hasElement(i){return this.model.has(i)}createModel(i,n,t){return new y.ObjectTreeModel(i,n,t)}}e.ObjectTree=f;class _{get compressedTreeNodeProvider(){return this._compressedTreeNodeProvider()}constructor(i,n){this._compressedTreeNodeProvider=i,this.renderer=n,this.templateId=n.templateId,n.onDidChangeTwistieState&&(this.onDidChangeTwistieState=n.onDidChangeTwistieState)}renderTemplate(i){return{compressedTreeNode:void 0,data:this.renderer.renderTemplate(i)}}renderElement(i,n,t,a){const u=this.compressedTreeNodeProvider.getCompressedTreeNode(i.element);u.element.elements.length===1?(t.compressedTreeNode=void 0,this.renderer.renderElement(i,n,t.data,a)):(t.compressedTreeNode=u,this.renderer.renderCompressedElements(u,n,t.data,a))}disposeElement(i,n,t,a){var u,h,r,c;t.compressedTreeNode?(h=(u=this.renderer).disposeCompressedElements)===null||h===void 0||h.call(u,t.compressedTreeNode,n,t.data,a):(c=(r=this.renderer).disposeElement)===null||c===void 0||c.call(r,i,n,t.data,a)}disposeTemplate(i){this.renderer.disposeTemplate(i.data)}renderTwistie(i,n){return this.renderer.renderTwistie?this.renderer.renderTwistie(i,n):!1}}ke([D.memoize],_.prototype,"compressedTreeNodeProvider",null);function g(s,i){return i&&Object.assign(Object.assign({},i),{keyboardNavigationLabelProvider:i.keyboardNavigationLabelProvider&&{getKeyboardNavigationLabel(n){let t;try{t=s().getCompressedTreeNode(n)}catch{return i.keyboardNavigationLabelProvider.getKeyboardNavigationLabel(n)}return t.element.elements.length===1?i.keyboardNavigationLabelProvider.getKeyboardNavigationLabel(n):i.keyboardNavigationLabelProvider.getCompressedNodeKeyboardNavigationLabel(t.element.elements)}}})}class C extends f{constructor(i,n,t,a,u={}){const h=()=>this,r=a.map(c=>new _(h,c));super(i,n,t,r,g(h,u))}setChildren(i,n=S.Iterable.empty(),t){this.model.setChildren(i,n,t)}createModel(i,n,t){return new k.CompressibleObjectTreeModel(i,n,t)}updateOptions(i={}){super.updateOptions(i),typeof i.compressionEnabled<"u"&&this.model.setCompressionEnabled(i.compressionEnabled)}getCompressedTreeNode(i=null){return this.model.getCompressedTreeNode(i)}}e.CompressibleObjectTree=C}),define(ne[586],se([1,0,225,184,218,316,139,13,25,26,9,6,46,2,20]),function(Q,e,L,k,y,D,S,f,_,g,C,s,i,n,t){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.CompressibleAsyncDataTree=e.AsyncDataTree=void 0;function a(T){return Object.assign(Object.assign({},T),{children:[],refreshPromise:void 0,stale:!0,slow:!1,collapsedByDefault:void 0})}function u(T,A){return A.parent?A.parent===T?!0:u(T,A.parent):!1}function h(T,A){return T===A||u(T,A)||u(A,T)}class r{get element(){return this.node.element.element}get children(){return this.node.children.map(A=>new r(A))}get depth(){return this.node.depth}get visibleChildrenCount(){return this.node.visibleChildrenCount}get visibleChildIndex(){return this.node.visibleChildIndex}get collapsible(){return this.node.collapsible}get collapsed(){return this.node.collapsed}get visible(){return this.node.visible}get filterData(){return this.node.filterData}constructor(A){this.node=A}}class c{constructor(A,N,F){this.renderer=A,this.nodeMapper=N,this.onDidChangeTwistieState=F,this.renderedNodes=new Map,this.templateId=A.templateId}renderTemplate(A){return{templateData:this.renderer.renderTemplate(A)}}renderElement(A,N,F,O){this.renderer.renderElement(this.nodeMapper.map(A),N,F.templateData,O)}renderTwistie(A,N){return A.slow?(N.classList.add(...g.ThemeIcon.asClassNameArray(_.Codicon.treeItemLoading)),!0):(N.classList.remove(...g.ThemeIcon.asClassNameArray(_.Codicon.treeItemLoading)),!1)}disposeElement(A,N,F,O){var W,U;(U=(W=this.renderer).disposeElement)===null||U===void 0||U.call(W,this.nodeMapper.map(A),N,F.templateData,O)}disposeTemplate(A){this.renderer.disposeTemplate(A.templateData)}dispose(){this.renderedNodes.clear()}}function o(T){return{browserEvent:T.browserEvent,elements:T.elements.map(A=>A.element)}}function d(T){return{browserEvent:T.browserEvent,element:T.element&&T.element.element,target:T.target}}class l extends L.ElementsDragAndDropData{constructor(A){super(A.elements.map(N=>N.element)),this.data=A}}function p(T){return T instanceof L.ElementsDragAndDropData?new l(T):T}class m{constructor(A){this.dnd=A}getDragURI(A){return this.dnd.getDragURI(A.element)}getDragLabel(A,N){if(this.dnd.getDragLabel)return this.dnd.getDragLabel(A.map(F=>F.element),N)}onDragStart(A,N){var F,O;(O=(F=this.dnd).onDragStart)===null||O===void 0||O.call(F,p(A),N)}onDragOver(A,N,F,O,W=!0){return this.dnd.onDragOver(p(A),N&&N.element,F,O)}drop(A,N,F,O){this.dnd.drop(p(A),N&&N.element,F,O)}onDragEnd(A){var N,F;(F=(N=this.dnd).onDragEnd)===null||F===void 0||F.call(N,A)}}function v(T){return T&&Object.assign(Object.assign({},T),{collapseByDefault:!0,identityProvider:T.identityProvider&&{getId(A){return T.identityProvider.getId(A.element)}},dnd:T.dnd&&new m(T.dnd),multipleSelectionController:T.multipleSelectionController&&{isSelectionSingleChangeEvent(A){return T.multipleSelectionController.isSelectionSingleChangeEvent(Object.assign(Object.assign({},A),{element:A.element}))},isSelectionRangeChangeEvent(A){return T.multipleSelectionController.isSelectionRangeChangeEvent(Object.assign(Object.assign({},A),{element:A.element}))}},accessibilityProvider:T.accessibilityProvider&&Object.assign(Object.assign({},T.accessibilityProvider),{getPosInSet:void 0,getSetSize:void 0,getRole:T.accessibilityProvider.getRole?A=>T.accessibilityProvider.getRole(A.element):()=>"treeitem",isChecked:T.accessibilityProvider.isChecked?A=>{var N;return!!(!((N=T.accessibilityProvider)===null||N===void 0)&&N.isChecked(A.element))}:void 0,getAriaLabel(A){return T.accessibilityProvider.getAriaLabel(A.element)},getWidgetAriaLabel(){return T.accessibilityProvider.getWidgetAriaLabel()},getWidgetRole:T.accessibilityProvider.getWidgetRole?()=>T.accessibilityProvider.getWidgetRole():()=>"tree",getAriaLevel:T.accessibilityProvider.getAriaLevel&&(A=>T.accessibilityProvider.getAriaLevel(A.element)),getActiveDescendantId:T.accessibilityProvider.getActiveDescendantId&&(A=>T.accessibilityProvider.getActiveDescendantId(A.element))}),filter:T.filter&&{filter(A,N){return T.filter.filter(A.element,N)}},keyboardNavigationLabelProvider:T.keyboardNavigationLabelProvider&&Object.assign(Object.assign({},T.keyboardNavigationLabelProvider),{getKeyboardNavigationLabel(A){return T.keyboardNavigationLabelProvider.getKeyboardNavigationLabel(A.element)}}),sorter:void 0,expandOnlyOnTwistieClick:typeof T.expandOnlyOnTwistieClick>"u"?void 0:typeof T.expandOnlyOnTwistieClick!="function"?T.expandOnlyOnTwistieClick:A=>T.expandOnlyOnTwistieClick(A.element),defaultFindVisibility:A=>A.hasChildren&&A.stale?1:typeof T.defaultFindVisibility=="number"?T.defaultFindVisibility:typeof T.defaultFindVisibility>"u"?2:T.defaultFindVisibility(A.element)})}function b(T,A){A(T),T.children.forEach(N=>b(N,A))}class w{get onDidScroll(){return this.tree.onDidScroll}get onDidChangeFocus(){return s.Event.map(this.tree.onDidChangeFocus,o)}get onDidChangeSelection(){return s.Event.map(this.tree.onDidChangeSelection,o)}get onMouseDblClick(){return s.Event.map(this.tree.onMouseDblClick,d)}get onPointer(){return s.Event.map(this.tree.onPointer,d)}get onDidFocus(){return this.tree.onDidFocus}get onDidChangeModel(){return this.tree.onDidChangeModel}get onDidChangeCollapseState(){return this.tree.onDidChangeCollapseState}get onDidChangeFindOpenState(){return this.tree.onDidChangeFindOpenState}get onDidDispose(){return this.tree.onDidDispose}constructor(A,N,F,O,W,U={}){this.user=A,this.dataSource=W,this.nodes=new Map,this.subTreeRefreshPromises=new Map,this.refreshPromises=new Map,this._onDidRender=new s.Emitter,this._onDidChangeNodeSlowState=new s.Emitter,this.nodeMapper=new S.WeakMapper(j=>new r(j)),this.disposables=new n.DisposableStore,this.identityProvider=U.identityProvider,this.autoExpandSingleChildren=typeof U.autoExpandSingleChildren>"u"?!1:U.autoExpandSingleChildren,this.sorter=U.sorter,this.collapseByDefault=U.collapseByDefault,this.tree=this.createTree(A,N,F,O,U),this.onDidChangeFindMode=this.tree.onDidChangeFindMode,this.root=a({element:void 0,parent:null,hasChildren:!0}),this.identityProvider&&(this.root=Object.assign(Object.assign({},this.root),{id:null})),this.nodes.set(null,this.root),this.tree.onDidChangeCollapseState(this._onDidChangeCollapseState,this,this.disposables)}createTree(A,N,F,O,W){const U=new k.ComposedTreeDelegate(F),j=O.map(K=>new c(K,this.nodeMapper,this._onDidChangeNodeSlowState.event)),R=v(W)||{};return new D.ObjectTree(A,N,U,j,R)}updateOptions(A={}){this.tree.updateOptions(A)}getHTMLElement(){return this.tree.getHTMLElement()}get scrollTop(){return this.tree.scrollTop}set scrollTop(A){this.tree.scrollTop=A}get scrollHeight(){return this.tree.scrollHeight}get renderHeight(){return this.tree.renderHeight}domFocus(){this.tree.domFocus()}layout(A,N){this.tree.layout(A,N)}style(A){this.tree.style(A)}getInput(){return this.root.element}setInput(A,N){return we(this,void 0,void 0,function*(){this.refreshPromises.forEach(O=>O.cancel()),this.refreshPromises.clear(),this.root.element=A;const F=N&&{viewState:N,focus:[],selection:[]};yield this._updateChildren(A,!0,!1,F),F&&(this.tree.setFocus(F.focus),this.tree.setSelection(F.selection)),N&&typeof N.scrollTop=="number"&&(this.scrollTop=N.scrollTop)})}_updateChildren(A=this.root.element,N=!0,F=!1,O,W){return we(this,void 0,void 0,function*(){if(typeof this.root.element>"u")throw new S.TreeError(this.user,"Tree input not set");this.root.refreshPromise&&(yield this.root.refreshPromise,yield s.Event.toPromise(this._onDidRender.event));const U=this.getDataNode(A);if(yield this.refreshAndRenderNode(U,N,O,W),F)try{this.tree.rerender(U)}catch{}})}rerender(A){if(A===void 0||A===this.root.element){this.tree.rerender();return}const N=this.getDataNode(A);this.tree.rerender(N)}getNode(A=this.root.element){const N=this.getDataNode(A),F=this.tree.getNode(N===this.root?null:N);return this.nodeMapper.map(F)}collapse(A,N=!1){const F=this.getDataNode(A);return this.tree.collapse(F===this.root?null:F,N)}expand(A,N=!1){return we(this,void 0,void 0,function*(){if(typeof this.root.element>"u")throw new S.TreeError(this.user,"Tree input not set");this.root.refreshPromise&&(yield this.root.refreshPromise,yield s.Event.toPromise(this._onDidRender.event));const F=this.getDataNode(A);if(this.tree.hasElement(F)&&!this.tree.isCollapsible(F)||(F.refreshPromise&&(yield this.root.refreshPromise,yield s.Event.toPromise(this._onDidRender.event)),F!==this.root&&!F.refreshPromise&&!this.tree.isCollapsed(F)))return!1;const O=this.tree.expand(F===this.root?null:F,N);return F.refreshPromise&&(yield this.root.refreshPromise,yield s.Event.toPromise(this._onDidRender.event)),O})}setSelection(A,N){const F=A.map(O=>this.getDataNode(O));this.tree.setSelection(F,N)}getSelection(){return this.tree.getSelection().map(N=>N.element)}setFocus(A,N){const F=A.map(O=>this.getDataNode(O));this.tree.setFocus(F,N)}getFocus(){return this.tree.getFocus().map(N=>N.element)}reveal(A,N){this.tree.reveal(this.getDataNode(A),N)}getParentElement(A){const N=this.tree.getParentElement(this.getDataNode(A));return N&&N.element}getFirstElementChild(A=this.root.element){const N=this.getDataNode(A),F=this.tree.getFirstElementChild(N===this.root?null:N);return F&&F.element}getDataNode(A){const N=this.nodes.get(A===this.root.element?null:A);if(!N)throw new S.TreeError(this.user,`Data tree node not found: ${A}`);return N}refreshAndRenderNode(A,N,F,O){return we(this,void 0,void 0,function*(){yield this.refreshNode(A,N,F),this.render(A,F,O)})}refreshNode(A,N,F){return we(this,void 0,void 0,function*(){let O;if(this.subTreeRefreshPromises.forEach((W,U)=>{!O&&h(U,A)&&(O=W.then(()=>this.refreshNode(A,N,F)))}),O)return O;if(A!==this.root&&this.tree.getNode(A).collapsed){A.hasChildren=!!this.dataSource.hasChildren(A.element),A.stale=!0;return}return this.doRefreshSubTree(A,N,F)})}doRefreshSubTree(A,N,F){return we(this,void 0,void 0,function*(){let O;A.refreshPromise=new Promise(W=>O=W),this.subTreeRefreshPromises.set(A,A.refreshPromise),A.refreshPromise.finally(()=>{A.refreshPromise=void 0,this.subTreeRefreshPromises.delete(A)});try{const W=yield this.doRefreshNode(A,N,F);A.stale=!1,yield f.Promises.settled(W.map(U=>this.doRefreshSubTree(U,N,F)))}finally{O()}})}doRefreshNode(A,N,F){return we(this,void 0,void 0,function*(){A.hasChildren=!!this.dataSource.hasChildren(A.element);let O;if(!A.hasChildren)O=Promise.resolve(i.Iterable.empty());else{const W=this.doGetChildren(A);if((0,t.isIterable)(W))O=Promise.resolve(W);else{const U=(0,f.timeout)(800);U.then(()=>{A.slow=!0,this._onDidChangeNodeSlowState.fire(A)},j=>null),O=W.finally(()=>U.cancel())}}try{const W=yield O;return this.setChildren(A,W,N,F)}catch(W){if(A!==this.root&&this.tree.hasElement(A)&&this.tree.collapse(A),(0,C.isCancellationError)(W))return[];throw W}finally{A.slow&&(A.slow=!1,this._onDidChangeNodeSlowState.fire(A))}})}doGetChildren(A){let N=this.refreshPromises.get(A);if(N)return N;const F=this.dataSource.getChildren(A.element);return(0,t.isIterable)(F)?this.processChildren(F):(N=(0,f.createCancelablePromise)(()=>we(this,void 0,void 0,function*(){return this.processChildren(yield F)})),this.refreshPromises.set(A,N),N.finally(()=>{this.refreshPromises.delete(A)}))}_onDidChangeCollapseState({node:A,deep:N}){A.element!==null&&!A.collapsed&&A.element.stale&&(N?this.collapse(A.element.element):this.refreshAndRenderNode(A.element,!1).catch(C.onUnexpectedError))}setChildren(A,N,F,O){const W=[...N];if(A.children.length===0&&W.length===0)return[];const U=new Map,j=new Map;for(const G of A.children)if(U.set(G.element,G),this.identityProvider){const Z=this.tree.isCollapsed(G);j.set(G.id,{node:G,collapsed:Z})}const R=[],K=W.map(G=>{const Z=!!this.dataSource.hasChildren(G);if(!this.identityProvider){const B=a({element:G,parent:A,hasChildren:Z});return Z&&this.collapseByDefault&&!this.collapseByDefault(G)&&(B.collapsedByDefault=!1,R.push(B)),B}const J=this.identityProvider.getId(G).toString(),X=j.get(J);if(X){const B=X.node;return U.delete(B.element),this.nodes.delete(B.element),this.nodes.set(G,B),B.element=G,B.hasChildren=Z,F?X.collapsed?(B.children.forEach(V=>b(V,Y=>this.nodes.delete(Y.element))),B.children.splice(0,B.children.length),B.stale=!0):R.push(B):Z&&this.collapseByDefault&&!this.collapseByDefault(G)&&(B.collapsedByDefault=!1,R.push(B)),B}const H=a({element:G,parent:A,id:J,hasChildren:Z});return O&&O.viewState.focus&&O.viewState.focus.indexOf(J)>-1&&O.focus.push(H),O&&O.viewState.selection&&O.viewState.selection.indexOf(J)>-1&&O.selection.push(H),O&&O.viewState.expanded&&O.viewState.expanded.indexOf(J)>-1?R.push(H):Z&&this.collapseByDefault&&!this.collapseByDefault(G)&&(H.collapsedByDefault=!1,R.push(H)),H});for(const G of U.values())b(G,Z=>this.nodes.delete(Z.element));for(const G of K)this.nodes.set(G.element,G);return A.children.splice(0,A.children.length,...K),A!==this.root&&this.autoExpandSingleChildren&&K.length===1&&R.length===0&&(K[0].collapsedByDefault=!1,R.push(K[0])),R}render(A,N,F){const O=A.children.map(U=>this.asTreeElement(U,N)),W=F&&Object.assign(Object.assign({},F),{diffIdentityProvider:F.diffIdentityProvider&&{getId(U){return F.diffIdentityProvider.getId(U.element)}}});this.tree.setChildren(A===this.root?null:A,O,W),A!==this.root&&this.tree.setCollapsible(A,A.hasChildren),this._onDidRender.fire()}asTreeElement(A,N){if(A.stale)return{element:A,collapsible:A.hasChildren,collapsed:!0};let F;return N&&N.viewState.expanded&&A.id&&N.viewState.expanded.indexOf(A.id)>-1?F=!1:F=A.collapsedByDefault,A.collapsedByDefault=void 0,{element:A,children:A.hasChildren?i.Iterable.map(A.children,O=>this.asTreeElement(O,N)):[],collapsible:A.hasChildren,collapsed:F}}processChildren(A){return this.sorter&&(A=[...A].sort(this.sorter.compare.bind(this.sorter))),A}dispose(){this.disposables.dispose()}}e.AsyncDataTree=w;class E{get element(){return{elements:this.node.element.elements.map(A=>A.element),incompressible:this.node.element.incompressible}}get children(){return this.node.children.map(A=>new E(A))}get depth(){return this.node.depth}get visibleChildrenCount(){return this.node.visibleChildrenCount}get visibleChildIndex(){return this.node.visibleChildIndex}get collapsible(){return this.node.collapsible}get collapsed(){return this.node.collapsed}get visible(){return this.node.visible}get filterData(){return this.node.filterData}constructor(A){this.node=A}}class I{constructor(A,N,F,O){this.renderer=A,this.nodeMapper=N,this.compressibleNodeMapperProvider=F,this.onDidChangeTwistieState=O,this.renderedNodes=new Map,this.disposables=[],this.templateId=A.templateId}renderTemplate(A){return{templateData:this.renderer.renderTemplate(A)}}renderElement(A,N,F,O){this.renderer.renderElement(this.nodeMapper.map(A),N,F.templateData,O)}renderCompressedElements(A,N,F,O){this.renderer.renderCompressedElements(this.compressibleNodeMapperProvider().map(A),N,F.templateData,O)}renderTwistie(A,N){return A.slow?(N.classList.add(...g.ThemeIcon.asClassNameArray(_.Codicon.treeItemLoading)),!0):(N.classList.remove(...g.ThemeIcon.asClassNameArray(_.Codicon.treeItemLoading)),!1)}disposeElement(A,N,F,O){var W,U;(U=(W=this.renderer).disposeElement)===null||U===void 0||U.call(W,this.nodeMapper.map(A),N,F.templateData,O)}disposeCompressedElements(A,N,F,O){var W,U;(U=(W=this.renderer).disposeCompressedElements)===null||U===void 0||U.call(W,this.compressibleNodeMapperProvider().map(A),N,F.templateData,O)}disposeTemplate(A){this.renderer.disposeTemplate(A.templateData)}dispose(){this.renderedNodes.clear(),this.disposables=(0,n.dispose)(this.disposables)}}function M(T){const A=T&&v(T);return A&&Object.assign(Object.assign({},A),{keyboardNavigationLabelProvider:A.keyboardNavigationLabelProvider&&Object.assign(Object.assign({},A.keyboardNavigationLabelProvider),{getCompressedNodeKeyboardNavigationLabel(N){return T.keyboardNavigationLabelProvider.getCompressedNodeKeyboardNavigationLabel(N.map(F=>F.element))}})})}class P extends w{constructor(A,N,F,O,W,U,j={}){super(A,N,F,W,U,j),this.compressionDelegate=O,this.compressibleNodeMapper=new S.WeakMapper(R=>new E(R)),this.filter=j.filter}createTree(A,N,F,O,W){const U=new k.ComposedTreeDelegate(F),j=O.map(K=>new I(K,this.nodeMapper,()=>this.compressibleNodeMapper,this._onDidChangeNodeSlowState.event)),R=M(W)||{};return new D.CompressibleObjectTree(A,N,U,j,R)}asTreeElement(A,N){return Object.assign({incompressible:this.compressionDelegate.isIncompressible(A.element)},super.asTreeElement(A,N))}updateOptions(A={}){this.tree.updateOptions(A)}render(A,N){if(!this.identityProvider)return super.render(A,N);const F=J=>this.identityProvider.getId(J).toString(),O=J=>{const X=new Set;for(const H of J){const B=this.tree.getCompressedTreeNode(H===this.root?null:H);if(B.element)for(const V of B.element.elements)X.add(F(V.element))}return X},W=O(this.tree.getSelection()),U=O(this.tree.getFocus());super.render(A,N);const j=this.getSelection();let R=!1;const K=this.getFocus();let G=!1;const Z=J=>{const X=J.element;if(X)for(let H=0;H<X.elements.length;H++){const B=F(X.elements[H].element),V=X.elements[X.elements.length-1].element;W.has(B)&&j.indexOf(V)===-1&&(j.push(V),R=!0),U.has(B)&&K.indexOf(V)===-1&&(K.push(V),G=!0)}J.children.forEach(Z)};Z(this.tree.getCompressedTreeNode(A===this.root?null:A)),R&&this.setSelection(j),G&&this.setFocus(K)}processChildren(A){return this.filter&&(A=i.Iterable.filter(A,N=>{const F=this.filter.filter(N,1),O=x(F);if(O===2)throw new Error("Recursive tree visibility not supported in async data compressed trees");return O===1})),super.processChildren(A)}}e.CompressibleAsyncDataTree=P;function x(T){return typeof T=="boolean"?T?1:0:(0,y.isFilterResult)(T)?(0,y.getVisibleState)(T.visibility):(0,y.getVisibleState)(T)}}),define(ne[317],se([1,0,9,6,2,47,17,11]),function(Q,e,L,k,y,D,S,f){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.create=e.SimpleWorkerServer=e.SimpleWorkerClient=e.logOnceWebWorkerWarning=void 0;const _="$initialize";let g=!1;function C(p){S.isWeb&&(g||(g=!0,console.warn("Could not create web worker(s). Falling back to loading web worker code in main thread, which might cause UI freezes. Please see https://github.com/microsoft/monaco-editor#faq")),console.warn(p.message))}e.logOnceWebWorkerWarning=C;class s{constructor(m,v,b,w){this.vsWorker=m,this.req=v,this.method=b,this.args=w,this.type=0}}class i{constructor(m,v,b,w){this.vsWorker=m,this.seq=v,this.res=b,this.err=w,this.type=1}}class n{constructor(m,v,b,w){this.vsWorker=m,this.req=v,this.eventName=b,this.arg=w,this.type=2}}class t{constructor(m,v,b){this.vsWorker=m,this.req=v,this.event=b,this.type=3}}class a{constructor(m,v){this.vsWorker=m,this.req=v,this.type=4}}class u{constructor(m){this._workerId=-1,this._handler=m,this._lastSentReq=0,this._pendingReplies=Object.create(null),this._pendingEmitters=new Map,this._pendingEvents=new Map}setWorkerId(m){this._workerId=m}sendMessage(m,v){const b=String(++this._lastSentReq);return new Promise((w,E)=>{this._pendingReplies[b]={resolve:w,reject:E},this._send(new s(this._workerId,b,m,v))})}listen(m,v){let b=null;const w=new k.Emitter({onWillAddFirstListener:()=>{b=String(++this._lastSentReq),this._pendingEmitters.set(b,w),this._send(new n(this._workerId,b,m,v))},onDidRemoveLastListener:()=>{this._pendingEmitters.delete(b),this._send(new a(this._workerId,b)),b=null}});return w.event}handleMessage(m){!m||!m.vsWorker||this._workerId!==-1&&m.vsWorker!==this._workerId||this._handleMessage(m)}_handleMessage(m){switch(m.type){case 1:return this._handleReplyMessage(m);case 0:return this._handleRequestMessage(m);case 2:return this._handleSubscribeEventMessage(m);case 3:return this._handleEventMessage(m);case 4:return this._handleUnsubscribeEventMessage(m)}}_handleReplyMessage(m){if(!this._pendingReplies[m.seq]){console.warn("Got reply to unknown seq");return}const v=this._pendingReplies[m.seq];if(delete this._pendingReplies[m.seq],m.err){let b=m.err;m.err.$isError&&(b=new Error,b.name=m.err.name,b.message=m.err.message,b.stack=m.err.stack),v.reject(b);return}v.resolve(m.res)}_handleRequestMessage(m){const v=m.req;this._handler.handleMessage(m.method,m.args).then(w=>{this._send(new i(this._workerId,v,w,void 0))},w=>{w.detail instanceof Error&&(w.detail=(0,L.transformErrorForSerialization)(w.detail)),this._send(new i(this._workerId,v,void 0,(0,L.transformErrorForSerialization)(w)))})}_handleSubscribeEventMessage(m){const v=m.req,b=this._handler.handleEvent(m.eventName,m.arg)(w=>{this._send(new t(this._workerId,v,w))});this._pendingEvents.set(v,b)}_handleEventMessage(m){if(!this._pendingEmitters.has(m.req)){console.warn("Got event for unknown req");return}this._pendingEmitters.get(m.req).fire(m.event)}_handleUnsubscribeEventMessage(m){if(!this._pendingEvents.has(m.req)){console.warn("Got unsubscribe for unknown req");return}this._pendingEvents.get(m.req).dispose(),this._pendingEvents.delete(m.req)}_send(m){const v=[];if(m.type===0)for(let b=0;b<m.args.length;b++)m.args[b]instanceof ArrayBuffer&&v.push(m.args[b]);else m.type===1&&m.res instanceof ArrayBuffer&&v.push(m.res);this._handler.sendMessage(m,v)}}class h extends y.Disposable{constructor(m,v,b){super();let w=null;this._worker=this._register(m.create("vs/base/common/worker/simpleWorker",T=>{this._protocol.handleMessage(T)},T=>{w?.(T)})),this._protocol=new u({sendMessage:(T,A)=>{this._worker.postMessage(T,A)},handleMessage:(T,A)=>{if(typeof b[T]!="function")return Promise.reject(new Error("Missing method "+T+" on main thread host."));try{return Promise.resolve(b[T].apply(b,A))}catch(N){return Promise.reject(N)}},handleEvent:(T,A)=>{if(c(T)){const N=b[T].call(b,A);if(typeof N!="function")throw new Error(`Missing dynamic event ${T} on main thread host.`);return N}if(r(T)){const N=b[T];if(typeof N!="function")throw new Error(`Missing event ${T} on main thread host.`);return N}throw new Error(`Malformed event name ${T}`)}}),this._protocol.setWorkerId(this._worker.getId());let E=null;const I=globalThis.require;typeof I<"u"&&typeof I.getConfig=="function"?E=I.getConfig():typeof globalThis.requirejs<"u"&&(E=globalThis.requirejs.s.contexts._.config);const M=(0,D.getAllMethodNames)(b);this._onModuleLoaded=this._protocol.sendMessage(_,[this._worker.getId(),JSON.parse(JSON.stringify(E)),v,M]);const P=(T,A)=>this._request(T,A),x=(T,A)=>this._protocol.listen(T,A);this._lazyProxy=new Promise((T,A)=>{w=A,this._onModuleLoaded.then(N=>{T(o(N,P,x))},N=>{A(N),this._onError("Worker failed to load "+v,N)})})}getProxyObject(){return this._lazyProxy}_request(m,v){return new Promise((b,w)=>{this._onModuleLoaded.then(()=>{this._protocol.sendMessage(m,v).then(b,w)},w)})}_onError(m,v){console.error(m),console.info(v)}}e.SimpleWorkerClient=h;function r(p){return p[0]==="o"&&p[1]==="n"&&f.isUpperAsciiLetter(p.charCodeAt(2))}function c(p){return/^onDynamic/.test(p)&&f.isUpperAsciiLetter(p.charCodeAt(9))}function o(p,m,v){const b=I=>function(){const M=Array.prototype.slice.call(arguments,0);return m(I,M)},w=I=>function(M){return v(I,M)},E={};for(const I of p){if(c(I)){E[I]=w(I);continue}if(r(I)){E[I]=v(I,void 0);continue}E[I]=b(I)}return E}class d{constructor(m,v){this._requestHandlerFactory=v,this._requestHandler=null,this._protocol=new u({sendMessage:(b,w)=>{m(b,w)},handleMessage:(b,w)=>this._handleMessage(b,w),handleEvent:(b,w)=>this._handleEvent(b,w)})}onmessage(m){this._protocol.handleMessage(m)}_handleMessage(m,v){if(m===_)return this.initialize(v[0],v[1],v[2],v[3]);if(!this._requestHandler||typeof this._requestHandler[m]!="function")return Promise.reject(new Error("Missing requestHandler or method: "+m));try{return Promise.resolve(this._requestHandler[m].apply(this._requestHandler,v))}catch(b){return Promise.reject(b)}}_handleEvent(m,v){if(!this._requestHandler)throw new Error("Missing requestHandler");if(c(m)){const b=this._requestHandler[m].call(this._requestHandler,v);if(typeof b!="function")throw new Error(`Missing dynamic event ${m} on request handler.`);return b}if(r(m)){const b=this._requestHandler[m];if(typeof b!="function")throw new Error(`Missing event ${m} on request handler.`);return b}throw new Error(`Malformed event name ${m}`)}initialize(m,v,b,w){this._protocol.setWorkerId(m);const M=o(w,(P,x)=>this._protocol.sendMessage(P,x),(P,x)=>this._protocol.listen(P,x));return this._requestHandlerFactory?(this._requestHandler=this._requestHandlerFactory(M),Promise.resolve((0,D.getAllMethodNames)(this._requestHandler))):(v&&(typeof v.baseUrl<"u"&&delete v.baseUrl,typeof v.paths<"u"&&typeof v.paths.vs<"u"&&delete v.paths.vs,typeof v.trustedTypesPolicy!==void 0&&delete v.trustedTypesPolicy,v.catchError=!0,globalThis.require.config(v)),new Promise((P,x)=>{(globalThis.require||Q)([b],A=>{if(this._requestHandler=A.create(M),!this._requestHandler){x(new Error("No RequestHandler!"));return}P((0,D.getAllMethodNames)(this._requestHandler))},x)}))}}e.SimpleWorkerServer=d;function l(p){return new d(p,null)}e.create=l}),define(ne[587],se([1,0,89,9,54,317]),function(Q,e,L,k,y,D){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.DefaultWorkerFactory=e.getWorkerBootstrapUrl=void 0;const S=(0,L.createTrustedTypesPolicy)("defaultWorkerFactory",{createScriptURL:i=>i});function f(i){const n=globalThis.MonacoEnvironment;if(n){if(typeof n.getWorker=="function")return n.getWorker("workerMain.js",i);if(typeof n.getWorkerUrl=="function"){const t=n.getWorkerUrl("workerMain.js",i);return new Worker(S?S.createScriptURL(t):t,{name:i})}}if(typeof Q=="function"){const t=Q.toUrl("vs/base/worker/workerMain.js"),a=_(t,i);return new Worker(S?S.createScriptURL(a):a,{name:i})}throw new Error("You must define a function MonacoEnvironment.getWorkerUrl or MonacoEnvironment.getWorker")}function _(i,n){if(/^((http:)|(https:)|(file:))/.test(i)&&i.substring(0,globalThis.origin.length)!==globalThis.origin){const r="vs/base/worker/defaultWorkerFactory.js",c=Q.toUrl(r).slice(0,-r.length),o=`/*${n}*/globalThis.MonacoEnvironment={baseUrl: '${c}'};const ttPolicy = globalThis.trustedTypes?.createPolicy('defaultWorkerFactory', { createScriptURL: value => value });importScripts(ttPolicy?.createScriptURL('${i}') ?? '${i}');/*${n}*/`,d=new Blob([o],{type:"application/javascript"});return URL.createObjectURL(d)}const t=i.lastIndexOf("?"),a=i.lastIndexOf("#",t),u=t>0?new URLSearchParams(i.substring(t+1,~a?a:void 0)):new URLSearchParams;return y.COI.addSearchParam(u,!0,!0),u.toString()?`${i}?${u.toString()}#${n}`:`${i}#${n}`}e.getWorkerBootstrapUrl=_;function g(i){return typeof i.then=="function"}class C{constructor(n,t,a,u,h){this.id=t,this.label=a;const r=f(a);g(r)?this.worker=r:this.worker=Promise.resolve(r),this.postMessage(n,[]),this.worker.then(c=>{c.onmessage=function(o){u(o.data)},c.onmessageerror=h,typeof c.addEventListener=="function"&&c.addEventListener("error",h)})}getId(){return this.id}postMessage(n,t){var a;(a=this.worker)===null||a===void 0||a.then(u=>{try{u.postMessage(n,t)}catch(h){(0,k.onUnexpectedError)(h),(0,k.onUnexpectedError)(new Error(`FAILED to post message to '${this.label}'-worker`,{cause:h}))}})}dispose(){var n;(n=this.worker)===null||n===void 0||n.then(t=>t.terminate()),this.worker=null}}class s{constructor(n){this._label=n,this._webWorkerFailedBeforeError=!1}create(n,t,a){const u=++s.LAST_WORKER_ID;if(this._webWorkerFailedBeforeError)throw this._webWorkerFailedBeforeError;return new C(n,u,this._label||"anonymous"+u,t,h=>{(0,D.logOnceWebWorkerWarning)(h),this._webWorkerFailedBeforeError=h,a(h)})}}e.DefaultWorkerFactory=s,s.LAST_WORKER_ID=0}),define(ne[588],se([1,0,13,6,2,221,20]),function(Q,e,L,k,y,D,S){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.InMemoryStorageDatabase=e.Storage=e.StorageState=e.StorageHint=void 0;var f;(function(s){s[s.STORAGE_DOES_NOT_EXIST=0]="STORAGE_DOES_NOT_EXIST",s[s.STORAGE_IN_MEMORY=1]="STORAGE_IN_MEMORY"})(f||(e.StorageHint=f={}));var _;(function(s){s[s.None=0]="None",s[s.Initialized=1]="Initialized",s[s.Closed=2]="Closed"})(_||(e.StorageState=_={}));class g extends y.Disposable{constructor(i,n=Object.create(null)){super(),this.database=i,this.options=n,this._onDidChangeStorage=this._register(new k.PauseableEmitter),this.onDidChangeStorage=this._onDidChangeStorage.event,this.state=_.None,this.cache=new Map,this.flushDelayer=new L.ThrottledDelayer(g.DEFAULT_FLUSH_DELAY),this.pendingDeletes=new Set,this.pendingInserts=new Map,this.whenFlushedCallbacks=[],this.registerListeners()}registerListeners(){this._register(this.database.onDidChangeItemsExternal(i=>this.onDidChangeItemsExternal(i)))}onDidChangeItemsExternal(i){var n,t;this._onDidChangeStorage.pause();try{(n=i.changed)===null||n===void 0||n.forEach((a,u)=>this.acceptExternal(u,a)),(t=i.deleted)===null||t===void 0||t.forEach(a=>this.acceptExternal(a,void 0))}finally{this._onDidChangeStorage.resume()}}acceptExternal(i,n){if(this.state===_.Closed)return;let t=!1;(0,S.isUndefinedOrNull)(n)?t=this.cache.delete(i):this.cache.get(i)!==n&&(this.cache.set(i,n),t=!0),t&&this._onDidChangeStorage.fire({key:i,external:!0})}get(i,n){const t=this.cache.get(i);return(0,S.isUndefinedOrNull)(t)?n:t}getBoolean(i,n){const t=this.get(i);return(0,S.isUndefinedOrNull)(t)?n:t==="true"}getNumber(i,n){const t=this.get(i);return(0,S.isUndefinedOrNull)(t)?n:parseInt(t,10)}set(i,n,t=!1){return we(this,void 0,void 0,function*(){if(this.state===_.Closed)return;if((0,S.isUndefinedOrNull)(n))return this.delete(i,t);const a=(0,S.isObject)(n)||Array.isArray(n)?(0,D.stringify)(n):String(n);if(this.cache.get(i)!==a)return this.cache.set(i,a),this.pendingInserts.set(i,a),this.pendingDeletes.delete(i),this._onDidChangeStorage.fire({key:i,external:t}),this.doFlush()})}delete(i,n=!1){return we(this,void 0,void 0,function*(){if(!(this.state===_.Closed||!this.cache.delete(i)))return this.pendingDeletes.has(i)||this.pendingDeletes.add(i),this.pendingInserts.delete(i),this._onDidChangeStorage.fire({key:i,external:n}),this.doFlush()})}get hasPending(){return this.pendingInserts.size>0||this.pendingDeletes.size>0}flushPending(){return we(this,void 0,void 0,function*(){if(!this.hasPending)return;const i={insert:this.pendingInserts,delete:this.pendingDeletes};return this.pendingDeletes=new Set,this.pendingInserts=new Map,this.database.updateItems(i).finally(()=>{var n;if(!this.hasPending)for(;this.whenFlushedCallbacks.length;)(n=this.whenFlushedCallbacks.pop())===null||n===void 0||n()})})}doFlush(i){return we(this,void 0,void 0,function*(){return this.flushDelayer.trigger(()=>this.flushPending(),i)})}dispose(){this.flushDelayer.dispose(),super.dispose()}}e.Storage=g,g.DEFAULT_FLUSH_DELAY=100;class C{constructor(){this.onDidChangeItemsExternal=k.Event.None,this.items=new Map}updateItems(i){var n,t;return we(this,void 0,void 0,function*(){(n=i.insert)===null||n===void 0||n.forEach((a,u)=>this.items.set(u,a)),(t=i.delete)===null||t===void 0||t.forEach(a=>this.items.delete(a))})}}e.InMemoryStorageDatabase=C}),define(ne[185],se([1,0,52,7,81,44,260,13,6,2,107,11,273,24]),function(Q,e,L,k,y,D,S,f,_,g,C,s,i,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.TextAreaWrapper=e.ClipboardEventUtils=e.TextAreaInput=e.InMemoryClipboardMetadataManager=e.CopyOptions=e.TextAreaSyntethicEvents=void 0;var t;(function(c){c.Tap="-monaco-textarea-synthetic-tap"})(t||(e.TextAreaSyntethicEvents=t={})),e.CopyOptions={forceCopyWithSyntaxHighlighting:!1};class a{constructor(){this._lastState=null}set(o,d){this._lastState={lastCopiedValue:o,data:d}}get(o){return this._lastState&&this._lastState.lastCopiedValue===o?this._lastState.data:(this._lastState=null,null)}}e.InMemoryClipboardMetadataManager=a,a.INSTANCE=new a;class u{constructor(){this._lastTypeTextLength=0}handleCompositionUpdate(o){o=o||"";const d={text:o,replacePrevCharCnt:this._lastTypeTextLength,replaceNextCharCnt:0,positionDelta:0};return this._lastTypeTextLength=o.length,d}}class h extends g.Disposable{get textAreaState(){return this._textAreaState}constructor(o,d,l,p){super(),this._host=o,this._textArea=d,this._OS=l,this._browser=p,this._onFocus=this._register(new _.Emitter),this.onFocus=this._onFocus.event,this._onBlur=this._register(new _.Emitter),this.onBlur=this._onBlur.event,this._onKeyDown=this._register(new _.Emitter),this.onKeyDown=this._onKeyDown.event,this._onKeyUp=this._register(new _.Emitter),this.onKeyUp=this._onKeyUp.event,this._onCut=this._register(new _.Emitter),this.onCut=this._onCut.event,this._onPaste=this._register(new _.Emitter),this.onPaste=this._onPaste.event,this._onType=this._register(new _.Emitter),this.onType=this._onType.event,this._onCompositionStart=this._register(new _.Emitter),this.onCompositionStart=this._onCompositionStart.event,this._onCompositionUpdate=this._register(new _.Emitter),this.onCompositionUpdate=this._onCompositionUpdate.event,this._onCompositionEnd=this._register(new _.Emitter),this.onCompositionEnd=this._onCompositionEnd.event,this._onSelectionChangeRequest=this._register(new _.Emitter),this.onSelectionChangeRequest=this._onSelectionChangeRequest.event,this._asyncTriggerCut=this._register(new f.RunOnceScheduler(()=>this._onCut.fire(),0)),this._asyncFocusGainWriteScreenReaderContent=this._register(new f.RunOnceScheduler(()=>this.writeScreenReaderContent("asyncFocusGain"),0)),this._textAreaState=i.TextAreaState.EMPTY,this._selectionChangeListener=null,this.writeScreenReaderContent("ctor"),this._hasFocus=!1,this._currentComposition=null;let m=null;this._register(this._textArea.onKeyDown(v=>{const b=new D.StandardKeyboardEvent(v);(b.keyCode===114||this._currentComposition&&b.keyCode===1)&&b.stopPropagation(),b.equals(9)&&b.preventDefault(),m=b,this._onKeyDown.fire(b)})),this._register(this._textArea.onKeyUp(v=>{const b=new D.StandardKeyboardEvent(v);this._onKeyUp.fire(b)})),this._register(this._textArea.onCompositionStart(v=>{i._debugComposition&&console.log("[compositionstart]",v);const b=new u;if(this._currentComposition){this._currentComposition=b;return}if(this._currentComposition=b,this._OS===2&&m&&m.equals(114)&&this._textAreaState.selectionStart===this._textAreaState.selectionEnd&&this._textAreaState.selectionStart>0&&this._textAreaState.value.substr(this._textAreaState.selectionStart-1,1)===v.data&&(m.code==="ArrowRight"||m.code==="ArrowLeft")){i._debugComposition&&console.log("[compositionstart] Handling long press case on macOS + arrow key",v),b.handleCompositionUpdate("x"),this._onCompositionStart.fire({data:v.data});return}if(this._browser.isAndroid){this._onCompositionStart.fire({data:v.data});return}this._onCompositionStart.fire({data:v.data})})),this._register(this._textArea.onCompositionUpdate(v=>{i._debugComposition&&console.log("[compositionupdate]",v);const b=this._currentComposition;if(!b)return;if(this._browser.isAndroid){const E=i.TextAreaState.readFromTextArea(this._textArea,this._textAreaState),I=i.TextAreaState.deduceAndroidCompositionInput(this._textAreaState,E);this._textAreaState=E,this._onType.fire(I),this._onCompositionUpdate.fire(v);return}const w=b.handleCompositionUpdate(v.data);this._textAreaState=i.TextAreaState.readFromTextArea(this._textArea,this._textAreaState),this._onType.fire(w),this._onCompositionUpdate.fire(v)})),this._register(this._textArea.onCompositionEnd(v=>{i._debugComposition&&console.log("[compositionend]",v);const b=this._currentComposition;if(!b)return;if(this._currentComposition=null,this._browser.isAndroid){const E=i.TextAreaState.readFromTextArea(this._textArea,this._textAreaState),I=i.TextAreaState.deduceAndroidCompositionInput(this._textAreaState,E);this._textAreaState=E,this._onType.fire(I),this._onCompositionEnd.fire();return}const w=b.handleCompositionUpdate(v.data);this._textAreaState=i.TextAreaState.readFromTextArea(this._textArea,this._textAreaState),this._onType.fire(w),this._onCompositionEnd.fire()})),this._register(this._textArea.onInput(v=>{if(i._debugComposition&&console.log("[input]",v),this._textArea.setIgnoreSelectionChangeTime("received input event"),this._currentComposition)return;const b=i.TextAreaState.readFromTextArea(this._textArea,this._textAreaState),w=i.TextAreaState.deduceInput(this._textAreaState,b,this._OS===2);w.replacePrevCharCnt===0&&w.text.length===1&&(s.isHighSurrogate(w.text.charCodeAt(0))||w.text.charCodeAt(0)===127)||(this._textAreaState=b,(w.text!==""||w.replacePrevCharCnt!==0||w.replaceNextCharCnt!==0||w.positionDelta!==0)&&this._onType.fire(w))})),this._register(this._textArea.onCut(v=>{this._textArea.setIgnoreSelectionChangeTime("received cut event"),this._ensureClipboardGetsEditorSelection(v),this._asyncTriggerCut.schedule()})),this._register(this._textArea.onCopy(v=>{this._ensureClipboardGetsEditorSelection(v)})),this._register(this._textArea.onPaste(v=>{if(this._textArea.setIgnoreSelectionChangeTime("received paste event"),v.preventDefault(),!v.clipboardData)return;let[b,w]=e.ClipboardEventUtils.getTextData(v.clipboardData);b&&(w=w||a.INSTANCE.get(b),this._onPaste.fire({text:b,metadata:w}))})),this._register(this._textArea.onFocus(()=>{const v=this._hasFocus;this._setHasFocus(!0),this._browser.isSafari&&!v&&this._hasFocus&&this._asyncFocusGainWriteScreenReaderContent.schedule()})),this._register(this._textArea.onBlur(()=>{this._currentComposition&&(this._currentComposition=null,this.writeScreenReaderContent("blurWithoutCompositionEnd"),this._onCompositionEnd.fire()),this._setHasFocus(!1)})),this._register(this._textArea.onSyntheticTap(()=>{this._browser.isAndroid&&this._currentComposition&&(this._currentComposition=null,this.writeScreenReaderContent("tapWithoutCompositionEnd"),this._onCompositionEnd.fire())}))}_installSelectionChangeListener(){let o=0;return k.addDisposableListener(document,"selectionchange",d=>{if(S.inputLatency.onSelectionChange(),!this._hasFocus||this._currentComposition||!this._browser.isChrome)return;const l=Date.now(),p=l-o;if(o=l,p<5)return;const m=l-this._textArea.getIgnoreSelectionChangeTime();if(this._textArea.resetSelectionChangeTime(),m<100||!this._textAreaState.selection)return;const v=this._textArea.getValue();if(this._textAreaState.value!==v)return;const b=this._textArea.getSelectionStart(),w=this._textArea.getSelectionEnd();if(this._textAreaState.selectionStart===b&&this._textAreaState.selectionEnd===w)return;const E=this._textAreaState.deduceEditorPosition(b),I=this._host.deduceModelPosition(E[0],E[1],E[2]),M=this._textAreaState.deduceEditorPosition(w),P=this._host.deduceModelPosition(M[0],M[1],M[2]),x=new n.Selection(I.lineNumber,I.column,P.lineNumber,P.column);this._onSelectionChangeRequest.fire(x)})}dispose(){super.dispose(),this._selectionChangeListener&&(this._selectionChangeListener.dispose(),this._selectionChangeListener=null)}focusTextArea(){this._setHasFocus(!0),this.refreshFocusState()}isFocused(){return this._hasFocus}refreshFocusState(){this._setHasFocus(this._textArea.hasFocus())}_setHasFocus(o){this._hasFocus!==o&&(this._hasFocus=o,this._selectionChangeListener&&(this._selectionChangeListener.dispose(),this._selectionChangeListener=null),this._hasFocus&&(this._selectionChangeListener=this._installSelectionChangeListener()),this._hasFocus&&this.writeScreenReaderContent("focusgain"),this._hasFocus?this._onFocus.fire():this._onBlur.fire())}_setAndWriteTextAreaState(o,d){this._hasFocus||(d=d.collapseSelection()),d.writeToTextArea(o,this._textArea,this._hasFocus),this._textAreaState=d}writeScreenReaderContent(o){this._currentComposition||this._setAndWriteTextAreaState(o,this._host.getScreenReaderContent())}_ensureClipboardGetsEditorSelection(o){const d=this._host.getDataToCopy(),l={version:1,isFromEmptySelection:d.isFromEmptySelection,multicursorText:d.multicursorText,mode:d.mode};a.INSTANCE.set(this._browser.isFirefox?d.text.replace(/\r\n/g,`
`):d.text,l),o.preventDefault(),o.clipboardData&&e.ClipboardEventUtils.setTextData(o.clipboardData,d.text,d.html,l)}}e.TextAreaInput=h,e.ClipboardEventUtils={getTextData(c){const o=c.getData(C.Mimes.text);let d=null;const l=c.getData("vscode-editor-data");if(typeof l=="string")try{d=JSON.parse(l),d.version!==1&&(d=null)}catch{}return o.length===0&&d===null&&c.files.length>0?[Array.prototype.slice.call(c.files,0).map(m=>m.name).join(`
`),null]:[o,d]},setTextData(c,o,d,l){c.setData(C.Mimes.text,o),typeof d=="string"&&c.setData("text/html",d),c.setData("vscode-editor-data",JSON.stringify(l))}};class r extends g.Disposable{constructor(o){super(),this._actual=o,this.onKeyDown=this._register(new y.DomEmitter(this._actual,"keydown")).event,this.onKeyUp=this._register(new y.DomEmitter(this._actual,"keyup")).event,this.onCompositionStart=this._register(new y.DomEmitter(this._actual,"compositionstart")).event,this.onCompositionUpdate=this._register(new y.DomEmitter(this._actual,"compositionupdate")).event,this.onCompositionEnd=this._register(new y.DomEmitter(this._actual,"compositionend")).event,this.onBeforeInput=this._register(new y.DomEmitter(this._actual,"beforeinput")).event,this.onInput=this._register(new y.DomEmitter(this._actual,"input")).event,this.onCut=this._register(new y.DomEmitter(this._actual,"cut")).event,this.onCopy=this._register(new y.DomEmitter(this._actual,"copy")).event,this.onPaste=this._register(new y.DomEmitter(this._actual,"paste")).event,this.onFocus=this._register(new y.DomEmitter(this._actual,"focus")).event,this.onBlur=this._register(new y.DomEmitter(this._actual,"blur")).event,this._onSyntheticTap=this._register(new _.Emitter),this.onSyntheticTap=this._onSyntheticTap.event,this._ignoreSelectionChangeTime=0,this._register(this.onKeyDown(()=>S.inputLatency.onKeyDown())),this._register(this.onBeforeInput(()=>S.inputLatency.onBeforeInput())),this._register(this.onInput(()=>S.inputLatency.onInput())),this._register(this.onKeyUp(()=>S.inputLatency.onKeyUp())),this._register(k.addDisposableListener(this._actual,t.Tap,()=>this._onSyntheticTap.fire()))}hasFocus(){const o=k.getShadowRoot(this._actual);return o?o.activeElement===this._actual:k.isInDOM(this._actual)?document.activeElement===this._actual:!1}setIgnoreSelectionChangeTime(o){this._ignoreSelectionChangeTime=Date.now()}getIgnoreSelectionChangeTime(){return this._ignoreSelectionChangeTime}resetSelectionChangeTime(){this._ignoreSelectionChangeTime=0}getValue(){return this._actual.value}setValue(o,d){const l=this._actual;l.value!==d&&(this.setIgnoreSelectionChangeTime("setValue"),l.value=d)}getSelectionStart(){return this._actual.selectionDirection==="backward"?this._actual.selectionEnd:this._actual.selectionStart}getSelectionEnd(){return this._actual.selectionDirection==="backward"?this._actual.selectionStart:this._actual.selectionEnd}setSelectionRange(o,d,l){const p=this._actual;let m=null;const v=k.getShadowRoot(p);v?m=v.activeElement:m=document.activeElement;const b=m===p,w=p.selectionStart,E=p.selectionEnd;if(b&&w===d&&E===l){L.isFirefox&&window.parent!==window&&p.focus();return}if(b){this.setIgnoreSelectionChangeTime("setSelectionRange"),p.setSelectionRange(d,l),L.isFirefox&&window.parent!==window&&p.focus();return}try{const I=k.saveParentsScrollTop(p);this.setIgnoreSelectionChangeTime("setSelectionRange"),p.focus(),p.setSelectionRange(d,l),k.restoreParentsScrollTop(p,I)}catch{}}}e.TextAreaWrapper=r}),define(ne[589],se([1,0,7,35,53]),function(Q,e,L,k,y){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ViewContentWidgets=void 0;class D extends y.ViewPart{constructor(i,n){super(i),this._viewDomNode=n,this._widgets={},this.domNode=(0,k.createFastDomNode)(document.createElement("div")),y.PartFingerprints.write(this.domNode,1),this.domNode.setClassName("contentWidgets"),this.domNode.setPosition("absolute"),this.domNode.setTop(0),this.overflowingContentWidgetsDomNode=(0,k.createFastDomNode)(document.createElement("div")),y.PartFingerprints.write(this.overflowingContentWidgetsDomNode,2),this.overflowingContentWidgetsDomNode.setClassName("overflowingContentWidgets")}dispose(){super.dispose(),this._widgets={}}onConfigurationChanged(i){const n=Object.keys(this._widgets);for(const t of n)this._widgets[t].onConfigurationChanged(i);return!0}onDecorationsChanged(i){return!0}onFlushed(i){return!0}onLineMappingChanged(i){return this._updateAnchorsViewPositions(),!0}onLinesChanged(i){return this._updateAnchorsViewPositions(),!0}onLinesDeleted(i){return this._updateAnchorsViewPositions(),!0}onLinesInserted(i){return this._updateAnchorsViewPositions(),!0}onScrollChanged(i){return!0}onZonesChanged(i){return!0}_updateAnchorsViewPositions(){const i=Object.keys(this._widgets);for(const n of i)this._widgets[n].updateAnchorViewPosition()}addWidget(i){const n=new S(this._context,this._viewDomNode,i);this._widgets[n.id]=n,n.allowEditorOverflow?this.overflowingContentWidgetsDomNode.appendChild(n.domNode):this.domNode.appendChild(n.domNode),this.setShouldRender()}setWidgetPosition(i,n,t,a,u){this._widgets[i.getId()].setPosition(n,t,a,u),this.setShouldRender()}removeWidget(i){const n=i.getId();if(this._widgets.hasOwnProperty(n)){const t=this._widgets[n];delete this._widgets[n];const a=t.domNode.domNode;a.parentNode.removeChild(a),a.removeAttribute("monaco-visible-content-widget"),this.setShouldRender()}}shouldSuppressMouseDownOnWidget(i){return this._widgets.hasOwnProperty(i)?this._widgets[i].suppressMouseDown:!1}onBeforeRender(i){const n=Object.keys(this._widgets);for(const t of n)this._widgets[t].onBeforeRender(i)}prepareRender(i){const n=Object.keys(this._widgets);for(const t of n)this._widgets[t].prepareRender(i)}render(i){const n=Object.keys(this._widgets);for(const t of n)this._widgets[t].render(i)}}e.ViewContentWidgets=D;class S{constructor(i,n,t){this._primaryAnchor=new f(null,null),this._secondaryAnchor=new f(null,null),this._context=i,this._viewDomNode=n,this._actual=t,this.domNode=(0,k.createFastDomNode)(this._actual.getDomNode()),this.id=this._actual.getId(),this.allowEditorOverflow=this._actual.allowEditorOverflow||!1,this.suppressMouseDown=this._actual.suppressMouseDown||!1;const a=this._context.configuration.options,u=a.get(142);this._fixedOverflowWidgets=a.get(41),this._contentWidth=u.contentWidth,this._contentLeft=u.contentLeft,this._lineHeight=a.get(65),this._affinity=null,this._preference=[],this._cachedDomNodeOffsetWidth=-1,this._cachedDomNodeOffsetHeight=-1,this._maxWidth=this._getMaxWidth(),this._isVisible=!1,this._renderData=null,this.domNode.setPosition(this._fixedOverflowWidgets&&this.allowEditorOverflow?"fixed":"absolute"),this.domNode.setDisplay("none"),this.domNode.setVisibility("hidden"),this.domNode.setAttribute("widgetId",this.id),this.domNode.setMaxWidth(this._maxWidth)}onConfigurationChanged(i){const n=this._context.configuration.options;if(this._lineHeight=n.get(65),i.hasChanged(142)){const t=n.get(142);this._contentLeft=t.contentLeft,this._contentWidth=t.contentWidth,this._maxWidth=this._getMaxWidth()}}updateAnchorViewPosition(){this._setPosition(this._affinity,this._primaryAnchor.modelPosition,this._secondaryAnchor.modelPosition)}_setPosition(i,n,t){this._affinity=i,this._primaryAnchor=a(n,this._context.viewModel,this._affinity),this._secondaryAnchor=a(t,this._context.viewModel,this._affinity);function a(u,h,r){if(!u)return new f(null,null);const c=h.model.validatePosition(u);if(h.coordinatesConverter.modelPositionIsVisible(c)){const o=h.coordinatesConverter.convertModelPositionToViewPosition(c,r??void 0);return new f(u,o)}return new f(u,null)}}_getMaxWidth(){return this.allowEditorOverflow?window.innerWidth||document.documentElement.offsetWidth||document.body.offsetWidth:this._contentWidth}setPosition(i,n,t,a){this._setPosition(a,i,n),this._preference=t,this._primaryAnchor.viewPosition&&this._preference&&this._preference.length>0?this.domNode.setDisplay("block"):this.domNode.setDisplay("none"),this._cachedDomNodeOffsetWidth=-1,this._cachedDomNodeOffsetHeight=-1}_layoutBoxInViewport(i,n,t,a){const u=i.top,h=u,r=i.top+i.height,c=a.viewportHeight-r,o=u-t,d=h>=t,l=r,p=c>=t;let m=i.left;return m+n>a.scrollLeft+a.viewportWidth&&(m=a.scrollLeft+a.viewportWidth-n),m<a.scrollLeft&&(m=a.scrollLeft),{fitsAbove:d,aboveTop:o,fitsBelow:p,belowTop:l,left:m}}_layoutHorizontalSegmentInPage(i,n,t,a){const r=Math.max(15,n.left-a),c=Math.min(n.left+n.width+a,i.width-15);let o=n.left+t-window.scrollX;if(o+a>c){const d=o-(c-a);o-=d,t-=d}if(o<r){const d=o-r;o-=d,t-=d}return[t,o]}_layoutBoxInPage(i,n,t,a){const u=i.top-t,h=i.top+i.height,r=L.getDomNodePagePosition(this._viewDomNode.domNode),c=r.top+u-window.scrollY,o=r.top+h-window.scrollY,d=L.getClientArea(document.body),[l,p]=this._layoutHorizontalSegmentInPage(d,r,i.left-a.scrollLeft+this._contentLeft,n),m=22,v=22,b=c>=m,w=o+t<=d.height-v;return this._fixedOverflowWidgets?{fitsAbove:b,aboveTop:Math.max(c,m),fitsBelow:w,belowTop:o,left:p}:{fitsAbove:b,aboveTop:u,fitsBelow:w,belowTop:h,left:l}}_prepareRenderWidgetAtExactPositionOverflowing(i){return new _(i.top,i.left+this._contentLeft)}_getAnchorsCoordinates(i){var n,t;const a=r(this._primaryAnchor.viewPosition,this._affinity,this._lineHeight),u=((n=this._secondaryAnchor.viewPosition)===null||n===void 0?void 0:n.lineNumber)===((t=this._primaryAnchor.viewPosition)===null||t===void 0?void 0:t.lineNumber)?this._secondaryAnchor.viewPosition:null,h=r(u,this._affinity,this._lineHeight);return{primary:a,secondary:h};function r(c,o,d){if(!c)return null;const l=i.visibleRangeForPosition(c);if(!l)return null;const p=c.column===1&&o===3?0:l.left,m=i.getVerticalOffsetForLineNumber(c.lineNumber)-i.scrollTop;return new g(m,p,d)}}_reduceAnchorCoordinates(i,n,t){if(!n)return i;const a=this._context.configuration.options.get(49);let u=n.left;return u<i.left?u=Math.max(u,i.left-t+a.typicalFullwidthCharacterWidth):u=Math.min(u,i.left+t-a.typicalFullwidthCharacterWidth),new g(i.top,u,i.height)}_prepareRenderWidget(i){if(!this._preference||this._preference.length===0)return null;const{primary:n,secondary:t}=this._getAnchorsCoordinates(i);if(!n)return null;if(this._cachedDomNodeOffsetWidth===-1||this._cachedDomNodeOffsetHeight===-1){let h=null;if(typeof this._actual.beforeRender=="function"&&(h=C(this._actual.beforeRender,this._actual)),h)this._cachedDomNodeOffsetWidth=h.width,this._cachedDomNodeOffsetHeight=h.height;else{const c=this.domNode.domNode.getBoundingClientRect();this._cachedDomNodeOffsetWidth=Math.round(c.width),this._cachedDomNodeOffsetHeight=Math.round(c.height)}}const a=this._reduceAnchorCoordinates(n,t,this._cachedDomNodeOffsetWidth);let u;this.allowEditorOverflow?u=this._layoutBoxInPage(a,this._cachedDomNodeOffsetWidth,this._cachedDomNodeOffsetHeight,i):u=this._layoutBoxInViewport(a,this._cachedDomNodeOffsetWidth,this._cachedDomNodeOffsetHeight,i);for(let h=1;h<=2;h++)for(const r of this._preference)if(r===1){if(!u)return null;if(h===2||u.fitsAbove)return{coordinate:new _(u.aboveTop,u.left),position:1}}else if(r===2){if(!u)return null;if(h===2||u.fitsBelow)return{coordinate:new _(u.belowTop,u.left),position:2}}else return this.allowEditorOverflow?{coordinate:this._prepareRenderWidgetAtExactPositionOverflowing(new _(a.top,a.left)),position:0}:{coordinate:new _(a.top,a.left),position:0};return null}onBeforeRender(i){!this._primaryAnchor.viewPosition||!this._preference||this._primaryAnchor.viewPosition.lineNumber<i.startLineNumber||this._primaryAnchor.viewPosition.lineNumber>i.endLineNumber||this.domNode.setMaxWidth(this._maxWidth)}prepareRender(i){this._renderData=this._prepareRenderWidget(i)}render(i){if(!this._renderData){this._isVisible&&(this.domNode.removeAttribute("monaco-visible-content-widget"),this._isVisible=!1,this.domNode.setVisibility("hidden")),typeof this._actual.afterRender=="function"&&C(this._actual.afterRender,this._actual,null);return}this.allowEditorOverflow?(this.domNode.setTop(this._renderData.coordinate.top),this.domNode.setLeft(this._renderData.coordinate.left)):(this.domNode.setTop(this._renderData.coordinate.top+i.scrollTop-i.bigNumbersDelta),this.domNode.setLeft(this._renderData.coordinate.left)),this._isVisible||(this.domNode.setVisibility("inherit"),this.domNode.setAttribute("monaco-visible-content-widget","true"),this._isVisible=!0),typeof this._actual.afterRender=="function"&&C(this._actual.afterRender,this._actual,this._renderData.position)}}class f{constructor(i,n){this.modelPosition=i,this.viewPosition=n}}class _{constructor(i,n){this.top=i,this.left=n,this._coordinateBrand=void 0}}class g{constructor(i,n,t){this.top=i,this.left=n,this.height=t,this._anchorCoordinateBrand=void 0}}function C(s,i,...n){try{return s.call(i,...n)}catch{return null}}}),define(ne[590],se([1,0,130,2,42]),function(Q,e,L,k,y){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.DiffEditorSash=void 0;class D extends k.Disposable{constructor(f,_,g){super(),this._options=f,this._domNode=_,this._dimensions=g,this._sashRatio=(0,y.observableValue)("sashRatio",void 0),this.sashLeft=(0,y.derived)(C=>{var s;const i=(s=this._sashRatio.read(C))!==null&&s!==void 0?s:this._options.splitViewDefaultRatio.read(C);return this._computeSashLeft(i,C)}),this._sash=this._register(new L.Sash(this._domNode,{getVerticalSashTop:C=>0,getVerticalSashLeft:C=>this.sashLeft.get(),getVerticalSashHeight:C=>this._dimensions.height.get()},{orientation:0})),this._startSashPosition=void 0,this._register(this._sash.onDidStart(()=>{this._startSashPosition=this.sashLeft.get()})),this._register(this._sash.onDidChange(C=>{const s=this._dimensions.width.get(),i=this._computeSashLeft((this._startSashPosition+(C.currentX-C.startX))/s,void 0);this._sashRatio.set(i/s,void 0)})),this._register(this._sash.onDidEnd(()=>this._sash.layout())),this._register(this._sash.onDidReset(()=>this._sashRatio.set(void 0,void 0))),this._register((0,y.autorun)(C=>{const s=this._options.enableSplitViewResizing.read(C);this._sash.state=s?3:0,this.sashLeft.read(C),this._sash.layout()}))}setBoundarySashes(f){this._sash.orthogonalEndSash=f.bottom}_computeSashLeft(f,_){const g=this._dimensions.width.read(_),C=Math.floor(this._options.splitViewDefaultRatio.read(_)*g),s=this._options.enableSplitViewResizing.read(_)?Math.floor(f*g):C,i=100;return g<=i*2?C:s<i?i:s>g-i?g-i:s}}e.DiffEditorSash=D}),define(ne[318],se([1,0,13,19,2,42,102,66,276,109,179,278]),function(Q,e,L,k,y,D,S,f,_,g,C,s){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.UnchangedRegion=e.DiffMapping=e.DiffState=e.DiffEditorViewModel=void 0;class i extends y.Disposable{setActiveMovedText(c){this._activeMovedText.set(c,void 0)}constructor(c,o,d){super(),this.model=c,this._options=o,this._isDiffUpToDate=(0,D.observableValue)("isDiffUpToDate",!1),this.isDiffUpToDate=this._isDiffUpToDate,this._diff=(0,D.observableValue)("diff",void 0),this.diff=this._diff,this._unchangedRegions=(0,D.observableValue)("unchangedRegion",{regions:[],originalDecorationIds:[],modifiedDecorationIds:[]}),this.unchangedRegions=(0,D.derived)(b=>this._options.hideUnchangedRegions.read(b)?this._unchangedRegions.read(b).regions:((0,D.transaction)(w=>{for(const E of this._unchangedRegions.get().regions)E.collapseAll(w)}),[])),this.movedTextToCompare=(0,D.observableValue)("movedTextToCompare",void 0),this._activeMovedText=(0,D.observableValue)("activeMovedText",void 0),this._hoveredMovedText=(0,D.observableValue)("hoveredMovedText",void 0),this.activeMovedText=(0,D.derived)(b=>{var w,E;return(E=(w=this.movedTextToCompare.read(b))!==null&&w!==void 0?w:this._hoveredMovedText.read(b))!==null&&E!==void 0?E:this._activeMovedText.read(b)}),this._cancellationTokenSource=new k.CancellationTokenSource,this._register((0,y.toDisposable)(()=>this._cancellationTokenSource.cancel()));const l=(0,D.observableSignal)("contentChangedSignal"),p=this._register(new L.RunOnceScheduler(()=>l.trigger(void 0),200)),m=(b,w,E)=>{const I=a.fromDiffs(b.changes,c.original.getLineCount(),c.modified.getLineCount(),this._options.hideUnchangedRegionsminimumLineCount.read(E),this._options.hideUnchangedRegionsContextLineCount.read(E)),M=this._unchangedRegions.get(),P=M.originalDecorationIds.map(N=>c.original.getDecorationRange(N)).filter(N=>!!N).map(N=>f.LineRange.fromRange(N)),x=M.modifiedDecorationIds.map(N=>c.modified.getDecorationRange(N)).filter(N=>!!N).map(N=>f.LineRange.fromRange(N)),T=c.original.deltaDecorations(M.originalDecorationIds,I.map(N=>({range:N.originalRange.toInclusiveRange(),options:{description:"unchanged"}}))),A=c.modified.deltaDecorations(M.modifiedDecorationIds,I.map(N=>({range:N.modifiedRange.toInclusiveRange(),options:{description:"unchanged"}})));for(const N of I)for(let F=0;F<M.regions.length;F++)if(N.originalRange.intersectsStrict(P[F])&&N.modifiedRange.intersectsStrict(x[F])){N.setHiddenModifiedRange(M.regions[F].getHiddenModifiedRange(void 0),w);break}this._unchangedRegions.set({regions:I,originalDecorationIds:T,modifiedDecorationIds:A},w)};this._register(c.modified.onDidChangeContent(b=>{if(this._diff.get()){const E=C.TextEditInfo.fromModelContentChanges(b.changes),I=(this._lastDiff,c.original,c.modified,void 0);I&&(this._lastDiff=I,(0,D.transaction)(M=>{this._diff.set(n.fromDiffResult(this._lastDiff),M),m(I,M);const P=this.movedTextToCompare.get();this.movedTextToCompare.set(P?this._lastDiff.moves.find(x=>x.lineRangeMapping.modified.intersect(P.lineRangeMapping.modified)):void 0,M)}))}p.schedule()})),this._register(c.original.onDidChangeContent(b=>{if(this._diff.get()){const E=C.TextEditInfo.fromModelContentChanges(b.changes),I=(this._lastDiff,c.original,c.modified,void 0);I&&(this._lastDiff=I,(0,D.transaction)(M=>{this._diff.set(n.fromDiffResult(this._lastDiff),M),m(I,M);const P=this.movedTextToCompare.get();this.movedTextToCompare.set(P?this._lastDiff.moves.find(x=>x.lineRangeMapping.modified.intersect(P.lineRangeMapping.modified)):void 0,M)}))}p.schedule()}));const v=(0,D.observableSignalFromEvent)("documentDiffProviderOptionChanged",d.onDidChange);this._register((0,D.autorunWithStore)((b,w)=>we(this,void 0,void 0,function*(){var E,I;this._options.hideUnchangedRegionsminimumLineCount.read(b),this._options.hideUnchangedRegionsContextLineCount.read(b),p.cancel(),l.read(b),v.read(b),(0,S.readHotReloadableExport)(_.AdvancedLinesDiffComputer,b),this._isDiffUpToDate.set(!1,void 0);let M=[];w.add(c.original.onDidChangeContent(T=>{const A=C.TextEditInfo.fromModelContentChanges(T.changes);M=(0,s.combineTextEditInfos)(M,A)}));let P=[];w.add(c.modified.onDidChangeContent(T=>{const A=C.TextEditInfo.fromModelContentChanges(T.changes);P=(0,s.combineTextEditInfos)(P,A)}));let x=yield d.computeDiff(c.original,c.modified,{ignoreTrimWhitespace:this._options.ignoreTrimWhitespace.read(b),maxComputationTimeMs:this._options.maxComputationTimeMs.read(b),computeMoves:this._options.showMoves.read(b)},this._cancellationTokenSource.token);this._cancellationTokenSource.token.isCancellationRequested||(x=(E=(c.original,c.modified,void 0))!==null&&E!==void 0?E:x,x=(I=(c.original,c.modified,void 0))!==null&&I!==void 0?I:x,(0,D.transaction)(T=>{m(x,T),this._lastDiff=x;const A=n.fromDiffResult(x);this._diff.set(A,T),this._isDiffUpToDate.set(!0,T);const N=this.movedTextToCompare.get();this.movedTextToCompare.set(N?this._lastDiff.moves.find(F=>F.lineRangeMapping.modified.intersect(N.lineRangeMapping.modified)):void 0,T)}))})))}ensureModifiedLineIsVisible(c,o){var d;if(((d=this.diff.get())===null||d===void 0?void 0:d.mappings.length)===0)return;const l=this._unchangedRegions.get().regions;for(const p of l)if(p.getHiddenModifiedRange(void 0).contains(c)){p.showModifiedLine(c,o);return}}ensureOriginalLineIsVisible(c,o){var d;if(((d=this.diff.get())===null||d===void 0?void 0:d.mappings.length)===0)return;const l=this._unchangedRegions.get().regions;for(const p of l)if(p.getHiddenOriginalRange(void 0).contains(c)){p.showOriginalLine(c,o);return}}waitForDiff(){return we(this,void 0,void 0,function*(){yield(0,D.waitForState)(this.isDiffUpToDate,c=>c)})}serializeState(){return{collapsedRegions:this._unchangedRegions.get().regions.map(o=>({range:o.getHiddenModifiedRange(void 0).serialize()}))}}restoreSerializedState(c){const o=c.collapsedRegions.map(l=>f.LineRange.deserialize(l.range)),d=this._unchangedRegions.get();(0,D.transaction)(l=>{for(const p of d.regions)for(const m of o)if(p.modifiedRange.intersect(m)){p.setHiddenModifiedRange(m,l);break}})}}e.DiffEditorViewModel=i;class n{static fromDiffResult(c){return new n(c.changes.map(o=>new t(o)),c.moves||[],c.identical,c.quitEarly)}constructor(c,o,d,l){this.mappings=c,this.movedTexts=o,this.identical=d,this.quitEarly=l}}e.DiffState=n;class t{constructor(c){this.lineRangeMapping=c}}e.DiffMapping=t;class a{static fromDiffs(c,o,d,l,p){const m=g.LineRangeMapping.inverse(c,o,d),v=[];for(const b of m){let w=b.originalRange.startLineNumber,E=b.modifiedRange.startLineNumber,I=b.originalRange.length;const M=w===1&&E===1,P=w+I===o+1&&E+I===d+1;(M||P)&&I>=p+l?(M&&!P&&(I-=p),P&&!M&&(w+=p,E+=p,I-=p),v.push(new a(w,E,I,0,0))):I>=p*2+l&&(w+=p,E+=p,I-=p*2,v.push(new a(w,E,I,0,0)))}return v}get originalRange(){return f.LineRange.ofLength(this.originalLineNumber,this.lineCount)}get modifiedRange(){return f.LineRange.ofLength(this.modifiedLineNumber,this.lineCount)}constructor(c,o,d,l,p){this.originalLineNumber=c,this.modifiedLineNumber=o,this.lineCount=d,this._visibleLineCountTop=(0,D.observableValue)("visibleLineCountTop",0),this.visibleLineCountTop=this._visibleLineCountTop,this._visibleLineCountBottom=(0,D.observableValue)("visibleLineCountBottom",0),this.visibleLineCountBottom=this._visibleLineCountBottom,this._shouldHideControls=(0,D.derived)(m=>this.visibleLineCountTop.read(m)+this.visibleLineCountBottom.read(m)===this.lineCount&&!this.isDragged.read(m)),this.isDragged=(0,D.observableValue)("isDragged",!1),this._visibleLineCountTop.set(l,void 0),this._visibleLineCountBottom.set(p,void 0)}shouldHideControls(c){return this._shouldHideControls.read(c)}getHiddenOriginalRange(c){return f.LineRange.ofLength(this.originalLineNumber+this._visibleLineCountTop.read(c),this.lineCount-this._visibleLineCountTop.read(c)-this._visibleLineCountBottom.read(c))}getHiddenModifiedRange(c){return f.LineRange.ofLength(this.modifiedLineNumber+this._visibleLineCountTop.read(c),this.lineCount-this._visibleLineCountTop.read(c)-this._visibleLineCountBottom.read(c))}setHiddenModifiedRange(c,o){const d=c.startLineNumber-this.modifiedLineNumber,l=this.modifiedLineNumber+this.lineCount-c.endLineNumberExclusive;this.setState(d,l,o)}getMaxVisibleLineCountTop(){return this.lineCount-this._visibleLineCountBottom.get()}getMaxVisibleLineCountBottom(){return this.lineCount-this._visibleLineCountTop.get()}showMoreAbove(c=10,o){const d=this.getMaxVisibleLineCountTop();this._visibleLineCountTop.set(Math.min(this._visibleLineCountTop.get()+c,d),o)}showMoreBelow(c=10,o){const d=this.lineCount-this._visibleLineCountTop.get();this._visibleLineCountBottom.set(Math.min(this._visibleLineCountBottom.get()+c,d),o)}showAll(c){this._visibleLineCountBottom.set(this.lineCount-this._visibleLineCountTop.get(),c)}showModifiedLine(c,o){const d=c+1-(this.modifiedLineNumber+this._visibleLineCountTop.get()),l=this.modifiedLineNumber-this._visibleLineCountBottom.get()+this.lineCount-c;d<l?this._visibleLineCountTop.set(this._visibleLineCountTop.get()+d,o):this._visibleLineCountBottom.set(this._visibleLineCountBottom.get()+l,o)}showOriginalLine(c,o){const d=c-this.originalLineNumber,l=this.originalLineNumber+this.lineCount-c;d<l?this._visibleLineCountTop.set(Math.min(this._visibleLineCountTop.get()+l-d,this.getMaxVisibleLineCountTop()),o):this._visibleLineCountBottom.set(Math.min(this._visibleLineCountBottom.get()+d-l,this.getMaxVisibleLineCountBottom()),o)}collapseAll(c){this._visibleLineCountTop.set(0,c),this._visibleLineCountBottom.set(0,c)}setState(c,o,d){c=Math.max(Math.min(c,this.lineCount),0),o=Math.max(Math.min(o,this.lineCount-c),0),this._visibleLineCountTop.set(c,d),this._visibleLineCountBottom.set(o,d)}}e.UnchangedRegion=a;function u(r,c,o,d){}function h(r,c,o,d){}}),define(ne[93],se([1,0,11,17,140]),function(Q,e,L,k,y){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.StringBuilder=e.decodeUTF16LE=e.getPlatformTextDecoder=void 0;let D;function S(){return D||(D=new TextDecoder("UTF-16LE")),D}let f;function _(){return f||(f=new TextDecoder("UTF-16BE")),f}let g;function C(){return g||(g=k.isLittleEndian()?S():_()),g}e.getPlatformTextDecoder=C;function s(t,a,u){const h=new Uint16Array(t.buffer,a,u);return u>0&&(h[0]===65279||h[0]===65534)?i(t,a,u):S().decode(h)}e.decodeUTF16LE=s;function i(t,a,u){const h=[];let r=0;for(let c=0;c<u;c++){const o=y.readUInt16LE(t,a);a+=2,h[r++]=String.fromCharCode(o)}return h.join("")}class n{constructor(a){this._capacity=a|0,this._buffer=new Uint16Array(this._capacity),this._completedStrings=null,this._bufferLength=0}reset(){this._completedStrings=null,this._bufferLength=0}build(){return this._completedStrings!==null?(this._flushBuffer(),this._completedStrings.join("")):this._buildBuffer()}_buildBuffer(){if(this._bufferLength===0)return"";const a=new Uint16Array(this._buffer.buffer,0,this._bufferLength);return C().decode(a)}_flushBuffer(){const a=this._buildBuffer();this._bufferLength=0,this._completedStrings===null?this._completedStrings=[a]:this._completedStrings[this._completedStrings.length]=a}appendCharCode(a){const u=this._capacity-this._bufferLength;u<=1&&(u===0||L.isHighSurrogate(a))&&this._flushBuffer(),this._buffer[this._bufferLength++]=a}appendASCIICharCode(a){this._bufferLength===this._capacity&&this._flushBuffer(),this._buffer[this._bufferLength++]=a}appendString(a){const u=a.length;if(this._bufferLength+u>=this._capacity){this._flushBuffer(),this._completedStrings[this._completedStrings.length]=a;return}for(let h=0;h<u;h++)this._buffer[this._bufferLength++]=a.charCodeAt(h)}}e.StringBuilder=n}),define(ne[591],se([1,0,89,11,59,93,284,111]),function(Q,e,L,k,y,D,S,f){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.DOMLineBreaksComputerFactory=void 0;const _=(0,L.createTrustedTypesPolicy)("domLineBreaksComputer",{createHTML:a=>a});class g{static create(){return new g}constructor(){}createLineBreaksComputer(u,h,r,c,o){const d=[],l=[];return{addRequest:(p,m,v)=>{d.push(p),l.push(m)},finalize:()=>C(d,u,h,r,c,o,l)}}}e.DOMLineBreaksComputerFactory=g;function C(a,u,h,r,c,o,d){var l;function p(j){const R=d[j];if(R){const K=f.LineInjectedText.applyInjectedText(a[j],R),G=R.map(J=>J.options),Z=R.map(J=>J.column-1);return new S.ModelLineProjectionData(Z,G,[K.length],[],0)}else return null}if(r===-1){const j=[];for(let R=0,K=a.length;R<K;R++)j[R]=p(R);return j}const m=Math.round(r*u.typicalHalfwidthCharacterWidth),b=Math.round(h*(c===3?2:c===2?1:0)),w=Math.ceil(u.spaceWidth*b),E=document.createElement("div");(0,y.applyFontInfo)(E,u);const I=new D.StringBuilder(1e4),M=[],P=[],x=[],T=[],A=[];for(let j=0;j<a.length;j++){const R=f.LineInjectedText.applyInjectedText(a[j],d[j]);let K=0,G=0,Z=m;if(c!==0)if(K=k.firstNonWhitespaceIndex(R),K===-1)K=0;else{for(let B=0;B<K;B++){const V=R.charCodeAt(B)===9?h-G%h:1;G+=V}const H=Math.ceil(u.spaceWidth*G);H+u.typicalFullwidthCharacterWidth>m?(K=0,G=0):Z=m-H}const J=R.substr(K),X=s(J,G,h,Z,I,w);M[j]=K,P[j]=G,x[j]=J,T[j]=X[0],A[j]=X[1]}const N=I.build(),F=(l=_?.createHTML(N))!==null&&l!==void 0?l:N;E.innerHTML=F,E.style.position="absolute",E.style.top="10000",o==="keepAll"?(E.style.wordBreak="keep-all",E.style.overflowWrap="anywhere"):(E.style.wordBreak="inherit",E.style.overflowWrap="break-word"),document.body.appendChild(E);const O=document.createRange(),W=Array.prototype.slice.call(E.children,0),U=[];for(let j=0;j<a.length;j++){const R=W[j],K=i(O,R,x[j],T[j]);if(K===null){U[j]=p(j);continue}const G=M[j],Z=P[j]+b,J=A[j],X=[];for(let Y=0,ie=K.length;Y<ie;Y++)X[Y]=J[K[Y]];if(G!==0)for(let Y=0,ie=K.length;Y<ie;Y++)K[Y]+=G;let H,B;const V=d[j];V?(H=V.map(Y=>Y.options),B=V.map(Y=>Y.column-1)):(H=null,B=null),U[j]=new S.ModelLineProjectionData(B,H,K,X,Z)}return document.body.removeChild(E),U}function s(a,u,h,r,c,o){if(o!==0){const w=String(o);c.appendString('<div style="text-indent: -'),c.appendString(w),c.appendString("px; padding-left: "),c.appendString(w),c.appendString("px; box-sizing: border-box; width:")}else c.appendString('<div style="width:');c.appendString(String(r)),c.appendString('px;">');const d=a.length;let l=u,p=0;const m=[],v=[];let b=0<d?a.charCodeAt(0):0;c.appendString("<span>");for(let w=0;w<d;w++){w!==0&&w%16384===0&&c.appendString("</span><span>"),m[w]=p,v[w]=l;const E=b;b=w+1<d?a.charCodeAt(w+1):0;let I=1,M=1;switch(E){case 9:I=h-l%h,M=I;for(let P=1;P<=I;P++)P<I?c.appendCharCode(160):c.appendASCIICharCode(32);break;case 32:b===32?c.appendCharCode(160):c.appendASCIICharCode(32);break;case 60:c.appendString("&lt;");break;case 62:c.appendString("&gt;");break;case 38:c.appendString("&amp;");break;case 0:c.appendString("&#00;");break;case 65279:case 8232:case 8233:case 133:c.appendCharCode(65533);break;default:k.isFullWidthCharacter(E)&&M++,E<32?c.appendCharCode(9216+E):c.appendCharCode(E)}p+=I,l+=M}return c.appendString("</span>"),m[a.length]=p,v[a.length]=l,c.appendString("</div>"),[m,v]}function i(a,u,h,r){if(h.length<=1)return null;const c=Array.prototype.slice.call(u.children,0),o=[];try{n(a,c,r,0,null,h.length-1,null,o)}catch(d){return console.log(d),null}return o.length===0?null:(o.push(h.length),o)}function n(a,u,h,r,c,o,d,l){if(r===o||(c=c||t(a,u,h[r],h[r+1]),d=d||t(a,u,h[o],h[o+1]),Math.abs(c[0].top-d[0].top)<=.1))return;if(r+1===o){l.push(o);return}const p=r+(o-r)/2|0,m=t(a,u,h[p],h[p+1]);n(a,u,h,r,c,p,m,l),n(a,u,h,p,m,o,d,l)}function t(a,u,h,r){return a.setStart(u[h/16384|0].firstChild,h%16384),a.setEnd(u[r/16384|0].firstChild,r%16384),a.getClientRects()}}),define(ne[229],se([1,0,35,89,9,93]),function(Q,e,L,k,y,D){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.VisibleLinesCollection=e.RenderedLinesCollection=void 0;class S{constructor(C){this._createLine=C,this._set(1,[])}flush(){this._set(1,[])}_set(C,s){this._lines=s,this._rendLineNumberStart=C}_get(){return{rendLineNumberStart:this._rendLineNumberStart,lines:this._lines}}getStartLineNumber(){return this._rendLineNumberStart}getEndLineNumber(){return this._rendLineNumberStart+this._lines.length-1}getCount(){return this._lines.length}getLine(C){const s=C-this._rendLineNumberStart;if(s<0||s>=this._lines.length)throw new y.BugIndicatingError("Illegal value for lineNumber");return this._lines[s]}onLinesDeleted(C,s){if(this.getCount()===0)return null;const i=this.getStartLineNumber(),n=this.getEndLineNumber();if(s<i){const h=s-C+1;return this._rendLineNumberStart-=h,null}if(C>n)return null;let t=0,a=0;for(let h=i;h<=n;h++){const r=h-this._rendLineNumberStart;C<=h&&h<=s&&(a===0?(t=r,a=1):a++)}if(C<i){let h=0;s<i?h=s-C+1:h=i-C,this._rendLineNumberStart-=h}return this._lines.splice(t,a)}onLinesChanged(C,s){const i=C+s-1;if(this.getCount()===0)return!1;const n=this.getStartLineNumber(),t=this.getEndLineNumber();let a=!1;for(let u=C;u<=i;u++)u>=n&&u<=t&&(this._lines[u-this._rendLineNumberStart].onContentChanged(),a=!0);return a}onLinesInserted(C,s){if(this.getCount()===0)return null;const i=s-C+1,n=this.getStartLineNumber(),t=this.getEndLineNumber();if(C<=n)return this._rendLineNumberStart+=i,null;if(C>t)return null;if(i+C>t)return this._lines.splice(C-this._rendLineNumberStart,t-C+1);const a=[];for(let o=0;o<i;o++)a[o]=this._createLine();const u=C-this._rendLineNumberStart,h=this._lines.slice(0,u),r=this._lines.slice(u,this._lines.length-i),c=this._lines.slice(this._lines.length-i,this._lines.length);return this._lines=h.concat(a).concat(r),c}onTokensChanged(C){if(this.getCount()===0)return!1;const s=this.getStartLineNumber(),i=this.getEndLineNumber();let n=!1;for(let t=0,a=C.length;t<a;t++){const u=C[t];if(u.toLineNumber<s||u.fromLineNumber>i)continue;const h=Math.max(s,u.fromLineNumber),r=Math.min(i,u.toLineNumber);for(let c=h;c<=r;c++){const o=c-this._rendLineNumberStart;this._lines[o].onTokensChanged(),n=!0}}return n}}e.RenderedLinesCollection=S;class f{constructor(C){this._host=C,this.domNode=this._createDomNode(),this._linesCollection=new S(()=>this._host.createVisibleLine())}_createDomNode(){const C=(0,L.createFastDomNode)(document.createElement("div"));return C.setClassName("view-layer"),C.setPosition("absolute"),C.domNode.setAttribute("role","presentation"),C.domNode.setAttribute("aria-hidden","true"),C}onConfigurationChanged(C){return!!C.hasChanged(142)}onFlushed(C){return this._linesCollection.flush(),!0}onLinesChanged(C){return this._linesCollection.onLinesChanged(C.fromLineNumber,C.count)}onLinesDeleted(C){const s=this._linesCollection.onLinesDeleted(C.fromLineNumber,C.toLineNumber);if(s)for(let i=0,n=s.length;i<n;i++){const t=s[i].getDomNode();t&&this.domNode.domNode.removeChild(t)}return!0}onLinesInserted(C){const s=this._linesCollection.onLinesInserted(C.fromLineNumber,C.toLineNumber);if(s)for(let i=0,n=s.length;i<n;i++){const t=s[i].getDomNode();t&&this.domNode.domNode.removeChild(t)}return!0}onScrollChanged(C){return C.scrollTopChanged}onTokensChanged(C){return this._linesCollection.onTokensChanged(C.ranges)}onZonesChanged(C){return!0}getStartLineNumber(){return this._linesCollection.getStartLineNumber()}getEndLineNumber(){return this._linesCollection.getEndLineNumber()}getVisibleLine(C){return this._linesCollection.getLine(C)}renderLines(C){const s=this._linesCollection._get(),i=new _(this.domNode.domNode,this._host,C),n={rendLineNumberStart:s.rendLineNumberStart,lines:s.lines,linesLength:s.lines.length},t=i.render(n,C.startLineNumber,C.endLineNumber,C.relativeVerticalOffset);this._linesCollection._set(t.rendLineNumberStart,t.lines)}}e.VisibleLinesCollection=f;class _{constructor(C,s,i){this.domNode=C,this.host=s,this.viewportData=i}render(C,s,i,n){const t={rendLineNumberStart:C.rendLineNumberStart,lines:C.lines.slice(0),linesLength:C.linesLength};if(t.rendLineNumberStart+t.linesLength-1<s||i<t.rendLineNumberStart){t.rendLineNumberStart=s,t.linesLength=i-s+1,t.lines=[];for(let a=s;a<=i;a++)t.lines[a-s]=this.host.createVisibleLine();return this._finishRendering(t,!0,n),t}if(this._renderUntouchedLines(t,Math.max(s-t.rendLineNumberStart,0),Math.min(i-t.rendLineNumberStart,t.linesLength-1),n,s),t.rendLineNumberStart>s){const a=s,u=Math.min(i,t.rendLineNumberStart-1);a<=u&&(this._insertLinesBefore(t,a,u,n,s),t.linesLength+=u-a+1)}else if(t.rendLineNumberStart<s){const a=Math.min(t.linesLength,s-t.rendLineNumberStart);a>0&&(this._removeLinesBefore(t,a),t.linesLength-=a)}if(t.rendLineNumberStart=s,t.rendLineNumberStart+t.linesLength-1<i){const a=t.rendLineNumberStart+t.linesLength,u=i;a<=u&&(this._insertLinesAfter(t,a,u,n,s),t.linesLength+=u-a+1)}else if(t.rendLineNumberStart+t.linesLength-1>i){const a=Math.max(0,i-t.rendLineNumberStart+1),h=t.linesLength-1-a+1;h>0&&(this._removeLinesAfter(t,h),t.linesLength-=h)}return this._finishRendering(t,!1,n),t}_renderUntouchedLines(C,s,i,n,t){const a=C.rendLineNumberStart,u=C.lines;for(let h=s;h<=i;h++){const r=a+h;u[h].layoutLine(r,n[r-t])}}_insertLinesBefore(C,s,i,n,t){const a=[];let u=0;for(let h=s;h<=i;h++)a[u++]=this.host.createVisibleLine();C.lines=a.concat(C.lines)}_removeLinesBefore(C,s){for(let i=0;i<s;i++){const n=C.lines[i].getDomNode();n&&this.domNode.removeChild(n)}C.lines.splice(0,s)}_insertLinesAfter(C,s,i,n,t){const a=[];let u=0;for(let h=s;h<=i;h++)a[u++]=this.host.createVisibleLine();C.lines=C.lines.concat(a)}_removeLinesAfter(C,s){const i=C.linesLength-s;for(let n=0;n<s;n++){const t=C.lines[i+n].getDomNode();t&&this.domNode.removeChild(t)}C.lines.splice(i,s)}_finishRenderingNewLines(C,s,i,n){_._ttPolicy&&(i=_._ttPolicy.createHTML(i));const t=this.domNode.lastChild;s||!t?this.domNode.innerHTML=i:t.insertAdjacentHTML("afterend",i);let a=this.domNode.lastChild;for(let u=C.linesLength-1;u>=0;u--){const h=C.lines[u];n[u]&&(h.setDomNode(a),a=a.previousSibling)}}_finishRenderingInvalidLines(C,s,i){const n=document.createElement("div");_._ttPolicy&&(s=_._ttPolicy.createHTML(s)),n.innerHTML=s;for(let t=0;t<C.linesLength;t++){const a=C.lines[t];if(i[t]){const u=n.firstChild,h=a.getDomNode();h.parentNode.replaceChild(u,h),a.setDomNode(u)}}}_finishRendering(C,s,i){const n=_._sb,t=C.linesLength,a=C.lines,u=C.rendLineNumberStart,h=[];{n.reset();let r=!1;for(let c=0;c<t;c++){const o=a[c];h[c]=!1,!(o.getDomNode()||!o.renderLine(c+u,i[c],this.viewportData,n))&&(h[c]=!0,r=!0)}r&&this._finishRenderingNewLines(C,s,n.build(),h)}{n.reset();let r=!1;const c=[];for(let o=0;o<t;o++){const d=a[o];c[o]=!1,!(h[o]||!d.renderLine(o+u,i[o],this.viewportData,n))&&(c[o]=!0,r=!0)}r&&this._finishRenderingInvalidLines(C,n.build(),c)}}}_._ttPolicy=(0,k.createTrustedTypesPolicy)("editorViewLayer",{createHTML:g=>g}),_._sb=new D.StringBuilder(1e5)}),define(ne[592],se([1,0,35,59,229,53]),function(Q,e,L,k,y,D){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.MarginViewOverlays=e.ContentViewOverlays=e.ViewOverlayLine=e.ViewOverlays=void 0;class S extends D.ViewPart{constructor(s){super(s),this._visibleLines=new y.VisibleLinesCollection(this),this.domNode=this._visibleLines.domNode;const n=this._context.configuration.options.get(49);(0,k.applyFontInfo)(this.domNode,n),this._dynamicOverlays=[],this._isFocused=!1,this.domNode.setClassName("view-overlays")}shouldRender(){if(super.shouldRender())return!0;for(let s=0,i=this._dynamicOverlays.length;s<i;s++)if(this._dynamicOverlays[s].shouldRender())return!0;return!1}dispose(){super.dispose();for(let s=0,i=this._dynamicOverlays.length;s<i;s++)this._dynamicOverlays[s].dispose();this._dynamicOverlays=[]}getDomNode(){return this.domNode}createVisibleLine(){return new f(this._context.configuration,this._dynamicOverlays)}addDynamicOverlay(s){this._dynamicOverlays.push(s)}onConfigurationChanged(s){this._visibleLines.onConfigurationChanged(s);const i=this._visibleLines.getStartLineNumber(),n=this._visibleLines.getEndLineNumber();for(let u=i;u<=n;u++)this._visibleLines.getVisibleLine(u).onConfigurationChanged(s);const a=this._context.configuration.options.get(49);return(0,k.applyFontInfo)(this.domNode,a),!0}onFlushed(s){return this._visibleLines.onFlushed(s)}onFocusChanged(s){return this._isFocused=s.isFocused,!0}onLinesChanged(s){return this._visibleLines.onLinesChanged(s)}onLinesDeleted(s){return this._visibleLines.onLinesDeleted(s)}onLinesInserted(s){return this._visibleLines.onLinesInserted(s)}onScrollChanged(s){return this._visibleLines.onScrollChanged(s)||!0}onTokensChanged(s){return this._visibleLines.onTokensChanged(s)}onZonesChanged(s){return this._visibleLines.onZonesChanged(s)}prepareRender(s){const i=this._dynamicOverlays.filter(n=>n.shouldRender());for(let n=0,t=i.length;n<t;n++){const a=i[n];a.prepareRender(s),a.onDidRender()}}render(s){this._viewOverlaysRender(s),this.domNode.toggleClassName("focused",this._isFocused)}_viewOverlaysRender(s){this._visibleLines.renderLines(s.viewportData)}}e.ViewOverlays=S;class f{constructor(s,i){this._configuration=s,this._lineHeight=this._configuration.options.get(65),this._dynamicOverlays=i,this._domNode=null,this._renderedContent=null}getDomNode(){return this._domNode?this._domNode.domNode:null}setDomNode(s){this._domNode=(0,L.createFastDomNode)(s)}onContentChanged(){}onTokensChanged(){}onConfigurationChanged(s){this._lineHeight=this._configuration.options.get(65)}renderLine(s,i,n,t){let a="";for(let u=0,h=this._dynamicOverlays.length;u<h;u++){const r=this._dynamicOverlays[u];a+=r.render(n.startLineNumber,s)}return this._renderedContent===a?!1:(this._renderedContent=a,t.appendString('<div style="position:absolute;top:'),t.appendString(String(i)),t.appendString("px;width:100%;height:"),t.appendString(String(this._lineHeight)),t.appendString('px;">'),t.appendString(a),t.appendString("</div>"),!0)}layoutLine(s,i){this._domNode&&(this._domNode.setTop(i),this._domNode.setHeight(this._lineHeight))}}e.ViewOverlayLine=f;class _ extends S{constructor(s){super(s);const n=this._context.configuration.options.get(142);this._contentWidth=n.contentWidth,this.domNode.setHeight(0)}onConfigurationChanged(s){const n=this._context.configuration.options.get(142);return this._contentWidth=n.contentWidth,super.onConfigurationChanged(s)||!0}onScrollChanged(s){return super.onScrollChanged(s)||s.scrollWidthChanged}_viewOverlaysRender(s){super._viewOverlaysRender(s),this.domNode.setWidth(Math.max(s.scrollWidth,this._contentWidth))}}e.ContentViewOverlays=_;class g extends S{constructor(s){super(s);const i=this._context.configuration.options,n=i.get(142);this._contentLeft=n.contentLeft,this.domNode.setClassName("margin-view-overlays"),this.domNode.setWidth(1),(0,k.applyFontInfo)(this.domNode,i.get(49))}onConfigurationChanged(s){const i=this._context.configuration.options;(0,k.applyFontInfo)(this.domNode,i.get(49));const n=i.get(142);return this._contentLeft=n.contentLeft,super.onConfigurationChanged(s)||!0}onScrollChanged(s){return super.onScrollChanged(s)||s.scrollHeightChanged}_viewOverlaysRender(s){super._viewOverlaysRender(s);const i=Math.min(s.scrollHeight,1e6);this.domNode.setHeight(i),this.domNode.setWidth(this._contentLeft)}}e.MarginViewOverlays=g}),define(ne[319],se([1,0,140,93]),function(Q,e,L,k){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.compressConsecutiveTextChanges=e.TextChange=void 0;function y(_){return _.replace(/\n/g,"\\n").replace(/\r/g,"\\r")}class D{get oldLength(){return this.oldText.length}get oldEnd(){return this.oldPosition+this.oldText.length}get newLength(){return this.newText.length}get newEnd(){return this.newPosition+this.newText.length}constructor(g,C,s,i){this.oldPosition=g,this.oldText=C,this.newPosition=s,this.newText=i}toString(){return this.oldText.length===0?`(insert@${this.oldPosition} "${y(this.newText)}")`:this.newText.length===0?`(delete@${this.oldPosition} "${y(this.oldText)}")`:`(replace@${this.oldPosition} "${y(this.oldText)}" with "${y(this.newText)}")`}static _writeStringSize(g){return 4+2*g.length}static _writeString(g,C,s){const i=C.length;L.writeUInt32BE(g,i,s),s+=4;for(let n=0;n<i;n++)L.writeUInt16LE(g,C.charCodeAt(n),s),s+=2;return s}static _readString(g,C){const s=L.readUInt32BE(g,C);return C+=4,(0,k.decodeUTF16LE)(g,C,s)}writeSize(){return 4+4+D._writeStringSize(this.oldText)+D._writeStringSize(this.newText)}write(g,C){return L.writeUInt32BE(g,this.oldPosition,C),C+=4,L.writeUInt32BE(g,this.newPosition,C),C+=4,C=D._writeString(g,this.oldText,C),C=D._writeString(g,this.newText,C),C}static read(g,C,s){const i=L.readUInt32BE(g,C);C+=4;const n=L.readUInt32BE(g,C);C+=4;const t=D._readString(g,C);C+=D._writeStringSize(t);const a=D._readString(g,C);return C+=D._writeStringSize(a),s.push(new D(i,t,n,a)),C}}e.TextChange=D;function S(_,g){return _===null||_.length===0?g:new f(_,g).compress()}e.compressConsecutiveTextChanges=S;class f{constructor(g,C){this._prevEdits=g,this._currEdits=C,this._result=[],this._resultLen=0,this._prevLen=this._prevEdits.length,this._prevDeltaOffset=0,this._currLen=this._currEdits.length,this._currDeltaOffset=0}compress(){let g=0,C=0,s=this._getPrev(g),i=this._getCurr(C);for(;g<this._prevLen||C<this._currLen;){if(s===null){this._acceptCurr(i),i=this._getCurr(++C);continue}if(i===null){this._acceptPrev(s),s=this._getPrev(++g);continue}if(i.oldEnd<=s.newPosition){this._acceptCurr(i),i=this._getCurr(++C);continue}if(s.newEnd<=i.oldPosition){this._acceptPrev(s),s=this._getPrev(++g);continue}if(i.oldPosition<s.newPosition){const[h,r]=f._splitCurr(i,s.newPosition-i.oldPosition);this._acceptCurr(h),i=r;continue}if(s.newPosition<i.oldPosition){const[h,r]=f._splitPrev(s,i.oldPosition-s.newPosition);this._acceptPrev(h),s=r;continue}let a,u;if(i.oldEnd===s.newEnd)a=s,u=i,s=this._getPrev(++g),i=this._getCurr(++C);else if(i.oldEnd<s.newEnd){const[h,r]=f._splitPrev(s,i.oldLength);a=h,u=i,s=r,i=this._getCurr(++C)}else{const[h,r]=f._splitCurr(i,s.newLength);a=s,u=h,s=this._getPrev(++g),i=r}this._result[this._resultLen++]=new D(a.oldPosition,a.oldText,u.newPosition,u.newText),this._prevDeltaOffset+=a.newLength-a.oldLength,this._currDeltaOffset+=u.newLength-u.oldLength}const n=f._merge(this._result);return f._removeNoOps(n)}_acceptCurr(g){this._result[this._resultLen++]=f._rebaseCurr(this._prevDeltaOffset,g),this._currDeltaOffset+=g.newLength-g.oldLength}_getCurr(g){return g<this._currLen?this._currEdits[g]:null}_acceptPrev(g){this._result[this._resultLen++]=f._rebasePrev(this._currDeltaOffset,g),this._prevDeltaOffset+=g.newLength-g.oldLength}_getPrev(g){return g<this._prevLen?this._prevEdits[g]:null}static _rebaseCurr(g,C){return new D(C.oldPosition-g,C.oldText,C.newPosition,C.newText)}static _rebasePrev(g,C){return new D(C.oldPosition,C.oldText,C.newPosition+g,C.newText)}static _splitPrev(g,C){const s=g.newText.substr(0,C),i=g.newText.substr(C);return[new D(g.oldPosition,g.oldText,g.newPosition,s),new D(g.oldEnd,"",g.newPosition+C,i)]}static _splitCurr(g,C){const s=g.oldText.substr(0,C),i=g.oldText.substr(C);return[new D(g.oldPosition,s,g.newPosition,g.newText),new D(g.oldPosition+C,i,g.newEnd,"")]}static _merge(g){if(g.length===0)return g;const C=[];let s=0,i=g[0];for(let n=1;n<g.length;n++){const t=g[n];i.oldEnd===t.oldPosition?i=new D(i.oldPosition,i.oldText+t.oldText,i.newPosition,i.newText+t.newText):(C[s++]=i,i=t)}return C[s++]=i,C}static _removeNoOps(g){if(g.length===0)return g;const C=[];let s=0;for(let i=0;i<g.length;i++){const n=g[i];n.oldText!==n.newText&&(C[s++]=n)}return C}}}),define(ne[593],se([1,0,303,92]),function(Q,e,L,k){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.score=void 0;function y(D,S,f,_,g,C){if(Array.isArray(D)){let s=0;for(const i of D){const n=y(i,S,f,_,g,C);if(n===10)return n;n>s&&(s=n)}return s}else{if(typeof D=="string")return _?D==="*"?5:D===f?10:0:0;if(D){const{language:s,pattern:i,scheme:n,hasAccessToAllModels:t,notebookType:a}=D;if(!_&&!t)return 0;a&&g&&(S=g);let u=0;if(n)if(n===S.scheme)u=10;else if(n==="*")u=5;else return 0;if(s)if(s===f)u=10;else if(s==="*")u=Math.max(u,5);else return 0;if(a)if(a===C)u=10;else if(a==="*"&&C!==void 0)u=Math.max(u,5);else return 0;if(i){let h;if(typeof i=="string"?h=i:h=Object.assign(Object.assign({},i),{base:(0,k.normalize)(i.base)}),h===S.fsPath||(0,L.match)(h,S.fsPath))u=10;else return 0}return u}else return 0}}e.score=y}),define(ne[594],se([1,0,6,2,48,593]),function(Q,e,L,k,y,D){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.LanguageFeatureRegistry=void 0;function S(C){return typeof C=="string"?!1:Array.isArray(C)?C.every(S):!!C.exclusive}class f{constructor(s,i,n,t){this.uri=s,this.languageId=i,this.notebookUri=n,this.notebookType=t}equals(s){var i,n;return this.notebookType===s.notebookType&&this.languageId===s.languageId&&this.uri.toString()===s.uri.toString()&&((i=this.notebookUri)===null||i===void 0?void 0:i.toString())===((n=s.notebookUri)===null||n===void 0?void 0:n.toString())}}class _{constructor(s){this._notebookInfoResolver=s,this._clock=0,this._entries=[],this._onDidChange=new L.Emitter,this.onDidChange=this._onDidChange.event}register(s,i){let n={selector:s,provider:i,_score:-1,_time:this._clock++};return this._entries.push(n),this._lastCandidate=void 0,this._onDidChange.fire(this._entries.length),(0,k.toDisposable)(()=>{if(n){const t=this._entries.indexOf(n);t>=0&&(this._entries.splice(t,1),this._lastCandidate=void 0,this._onDidChange.fire(this._entries.length),n=void 0)}})}has(s){return this.all(s).length>0}all(s){if(!s)return[];this._updateScores(s);const i=[];for(const n of this._entries)n._score>0&&i.push(n.provider);return i}ordered(s){const i=[];return this._orderedForEach(s,n=>i.push(n.provider)),i}orderedGroups(s){const i=[];let n,t;return this._orderedForEach(s,a=>{n&&t===a._score?n.push(a.provider):(t=a._score,n=[a.provider],i.push(n))}),i}_orderedForEach(s,i){this._updateScores(s);for(const n of this._entries)n._score>0&&i(n)}_updateScores(s){var i,n;const t=(i=this._notebookInfoResolver)===null||i===void 0?void 0:i.call(this,s.uri),a=t?new f(s.uri,s.getLanguageId(),t.uri,t.type):new f(s.uri,s.getLanguageId(),void 0,void 0);if(!(!((n=this._lastCandidate)===null||n===void 0)&&n.equals(a))){this._lastCandidate=a;for(const u of this._entries)if(u._score=(0,D.score)(u.selector,a.uri,a.languageId,(0,y.shouldSynchronizeModel)(s),a.notebookUri,a.notebookType),S(u.selector)&&u._score>0){for(const h of this._entries)h._score=0;u._score=1e3;break}this._entries.sort(_._compareByScoreAndTime)}}static _compareByScoreAndTime(s,i){return s._score<i._score?1:s._score>i._score?-1:g(s.selector)&&!g(i.selector)?1:!g(s.selector)&&g(i.selector)?-1:s._time<i._time?1:s._time>i._time?-1:0}}e.LanguageFeatureRegistry=_;function g(C){return typeof C=="string"?!1:Array.isArray(C)?C.some(g):!!C.isBuiltin}}),define(ne[230],se([1,0,11,93,5]),function(Q,e,L,k,y){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.BracketsUtils=e.RichEditBrackets=e.RichEditBracket=void 0;class D{constructor(o,d,l,p,m,v){this._richEditBracketBrand=void 0,this.languageId=o,this.index=d,this.open=l,this.close=p,this.forwardRegex=m,this.reversedRegex=v,this._openSet=D._toSet(this.open),this._closeSet=D._toSet(this.close)}isOpen(o){return this._openSet.has(o)}isClose(o){return this._closeSet.has(o)}static _toSet(o){const d=new Set;for(const l of o)d.add(l);return d}}e.RichEditBracket=D;function S(c){const o=c.length;c=c.map(v=>[v[0].toLowerCase(),v[1].toLowerCase()]);const d=[];for(let v=0;v<o;v++)d[v]=v;const l=(v,b)=>{const[w,E]=v,[I,M]=b;return w===I||w===M||E===I||E===M},p=(v,b)=>{const w=Math.min(v,b),E=Math.max(v,b);for(let I=0;I<o;I++)d[I]===E&&(d[I]=w)};for(let v=0;v<o;v++){const b=c[v];for(let w=v+1;w<o;w++){const E=c[w];l(b,E)&&p(d[v],d[w])}}const m=[];for(let v=0;v<o;v++){const b=[],w=[];for(let E=0;E<o;E++)if(d[E]===v){const[I,M]=c[E];b.push(I),w.push(M)}b.length>0&&m.push({open:b,close:w})}return m}class f{constructor(o,d){this._richEditBracketsBrand=void 0;const l=S(d);this.brackets=l.map((p,m)=>new D(o,m,p.open,p.close,s(p.open,p.close,l,m),i(p.open,p.close,l,m))),this.forwardRegex=n(this.brackets),this.reversedRegex=t(this.brackets),this.textIsBracket={},this.textIsOpenBracket={},this.maxBracketLength=0;for(const p of this.brackets){for(const m of p.open)this.textIsBracket[m]=p,this.textIsOpenBracket[m]=!0,this.maxBracketLength=Math.max(this.maxBracketLength,m.length);for(const m of p.close)this.textIsBracket[m]=p,this.textIsOpenBracket[m]=!1,this.maxBracketLength=Math.max(this.maxBracketLength,m.length)}}}e.RichEditBrackets=f;function _(c,o,d,l){for(let p=0,m=o.length;p<m;p++){if(p===d)continue;const v=o[p];for(const b of v.open)b.indexOf(c)>=0&&l.push(b);for(const b of v.close)b.indexOf(c)>=0&&l.push(b)}}function g(c,o){return c.length-o.length}function C(c){if(c.length<=1)return c;const o=[],d=new Set;for(const l of c)d.has(l)||(o.push(l),d.add(l));return o}function s(c,o,d,l){let p=[];p=p.concat(c),p=p.concat(o);for(let m=0,v=p.length;m<v;m++)_(p[m],d,l,p);return p=C(p),p.sort(g),p.reverse(),u(p)}function i(c,o,d,l){let p=[];p=p.concat(c),p=p.concat(o);for(let m=0,v=p.length;m<v;m++)_(p[m],d,l,p);return p=C(p),p.sort(g),p.reverse(),u(p.map(h))}function n(c){let o=[];for(const d of c){for(const l of d.open)o.push(l);for(const l of d.close)o.push(l)}return o=C(o),u(o)}function t(c){let o=[];for(const d of c){for(const l of d.open)o.push(l);for(const l of d.close)o.push(l)}return o=C(o),u(o.map(h))}function a(c){const o=/^[\w ]+$/.test(c);return c=L.escapeRegExpCharacters(c),o?`\\b${c}\\b`:c}function u(c){const o=`(${c.map(a).join(")|(")})`;return L.createRegExp(o,!0)}const h=function(){function c(l){const p=new Uint16Array(l.length);let m=0;for(let v=l.length-1;v>=0;v--)p[m++]=l.charCodeAt(v);return k.getPlatformTextDecoder().decode(p)}let o=null,d=null;return function(p){return o!==p&&(o=p,d=c(o)),d}}();class r{static _findPrevBracketInText(o,d,l,p){const m=l.match(o);if(!m)return null;const v=l.length-(m.index||0),b=m[0].length,w=p+v;return new y.Range(d,w-b+1,d,w+1)}static findPrevBracketInRange(o,d,l,p,m){const b=h(l).substring(l.length-m,l.length-p);return this._findPrevBracketInText(o,d,b,p)}static findNextBracketInText(o,d,l,p){const m=l.match(o);if(!m)return null;const v=m.index||0,b=m[0].length;if(b===0)return null;const w=p+v;return new y.Range(d,w+1,d,w+1+b)}static findNextBracketInRange(o,d,l,p,m){const v=l.substring(p,m);return this.findNextBracketInText(o,d,v,p)}}e.BracketsUtils=r}),define(ne[595],se([1,0,14,125,230]),function(Q,e,L,k,y){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.BracketElectricCharacterSupport=void 0;class D{constructor(f){this._richEditBrackets=f}getElectricCharacters(){const f=[];if(this._richEditBrackets)for(const _ of this._richEditBrackets.brackets)for(const g of _.close){const C=g.charAt(g.length-1);f.push(C)}return(0,L.distinct)(f)}onElectricCharacter(f,_,g){if(!this._richEditBrackets||this._richEditBrackets.brackets.length===0)return null;const C=_.findTokenIndexAtOffset(g-1);if((0,k.ignoreBracketsInToken)(_.getStandardTokenType(C)))return null;const s=this._richEditBrackets.reversedRegex,i=_.getLineContent().substring(0,g-1)+f,n=y.BracketsUtils.findPrevBracketInRange(s,1,i,0,i.length);if(!n)return null;const t=i.substring(n.startColumn-1,n.endColumn-1).toLowerCase();if(this._richEditBrackets.textIsOpenBracket[t])return null;const u=_.getActualLineContentBefore(n.startColumn-1);return/^\s*$/.test(u)?{matchOpenBracket:t}:null}}e.BracketElectricCharacterSupport=D}),define(ne[596],se([1,0,14,6,2,5,125,230,514]),function(Q,e,L,k,y,D,S,f,_){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.BracketPairsTextModelPart=void 0;class g extends y.Disposable{get canBuildAST(){return this.textModel.getValueLength()<=5e6}constructor(a,u){super(),this.textModel=a,this.languageConfigurationService=u,this.bracketPairsTree=this._register(new y.MutableDisposable),this.onDidChangeEmitter=new k.Emitter,this.onDidChange=this.onDidChangeEmitter.event,this.bracketsRequested=!1,this._register(this.languageConfigurationService.onDidChange(h=>{var r;(!h.languageId||!((r=this.bracketPairsTree.value)===null||r===void 0)&&r.object.didLanguageChange(h.languageId))&&(this.bracketPairsTree.clear(),this.updateBracketPairsTree())}))}handleDidChangeOptions(a){this.bracketPairsTree.clear(),this.updateBracketPairsTree()}handleDidChangeLanguage(a){this.bracketPairsTree.clear(),this.updateBracketPairsTree()}handleDidChangeContent(a){var u;(u=this.bracketPairsTree.value)===null||u===void 0||u.object.handleContentChanged(a)}handleDidChangeBackgroundTokenizationState(){var a;(a=this.bracketPairsTree.value)===null||a===void 0||a.object.handleDidChangeBackgroundTokenizationState()}handleDidChangeTokens(a){var u;(u=this.bracketPairsTree.value)===null||u===void 0||u.object.handleDidChangeTokens(a)}updateBracketPairsTree(){if(this.bracketsRequested&&this.canBuildAST){if(!this.bracketPairsTree.value){const a=new y.DisposableStore;this.bracketPairsTree.value=C(a.add(new _.BracketPairsTree(this.textModel,u=>this.languageConfigurationService.getLanguageConfiguration(u))),a),a.add(this.bracketPairsTree.value.object.onDidChange(u=>this.onDidChangeEmitter.fire(u))),this.onDidChangeEmitter.fire()}}else this.bracketPairsTree.value&&(this.bracketPairsTree.clear(),this.onDidChangeEmitter.fire())}getBracketPairsInRange(a){var u;return this.bracketsRequested=!0,this.updateBracketPairsTree(),((u=this.bracketPairsTree.value)===null||u===void 0?void 0:u.object.getBracketPairsInRange(a,!1))||L.CallbackIterable.empty}getBracketPairsInRangeWithMinIndentation(a){var u;return this.bracketsRequested=!0,this.updateBracketPairsTree(),((u=this.bracketPairsTree.value)===null||u===void 0?void 0:u.object.getBracketPairsInRange(a,!0))||L.CallbackIterable.empty}getBracketsInRange(a,u=!1){var h;return this.bracketsRequested=!0,this.updateBracketPairsTree(),((h=this.bracketPairsTree.value)===null||h===void 0?void 0:h.object.getBracketsInRange(a,u))||L.CallbackIterable.empty}findMatchingBracketUp(a,u,h){const r=this.textModel.validatePosition(u),c=this.textModel.getLanguageIdAtPosition(r.lineNumber,r.column);if(this.canBuildAST){const o=this.languageConfigurationService.getLanguageConfiguration(c).bracketsNew.getClosingBracketInfo(a);if(!o)return null;const d=this.getBracketPairsInRange(D.Range.fromPositions(u,u)).findLast(l=>o.closes(l.openingBracketInfo));return d?d.openingBracketRange:null}else{const o=a.toLowerCase(),d=this.languageConfigurationService.getLanguageConfiguration(c).brackets;if(!d)return null;const l=d.textIsBracket[o];return l?n(this._findMatchingBracketUp(l,r,s(h))):null}}matchBracket(a,u){if(this.canBuildAST){const h=this.getBracketPairsInRange(D.Range.fromPositions(a,a)).filter(r=>r.closingBracketRange!==void 0&&(r.openingBracketRange.containsPosition(a)||r.closingBracketRange.containsPosition(a))).findLastMaxBy((0,L.compareBy)(r=>r.openingBracketRange.containsPosition(a)?r.openingBracketRange:r.closingBracketRange,D.Range.compareRangesUsingStarts));return h?[h.openingBracketRange,h.closingBracketRange]:null}else{const h=s(u);return this._matchBracket(this.textModel.validatePosition(a),h)}}_establishBracketSearchOffsets(a,u,h,r){const c=u.getCount(),o=u.getLanguageId(r);let d=Math.max(0,a.column-1-h.maxBracketLength);for(let p=r-1;p>=0;p--){const m=u.getEndOffset(p);if(m<=d)break;if((0,S.ignoreBracketsInToken)(u.getStandardTokenType(p))||u.getLanguageId(p)!==o){d=m;break}}let l=Math.min(u.getLineContent().length,a.column-1+h.maxBracketLength);for(let p=r+1;p<c;p++){const m=u.getStartOffset(p);if(m>=l)break;if((0,S.ignoreBracketsInToken)(u.getStandardTokenType(p))||u.getLanguageId(p)!==o){l=m;break}}return{searchStartOffset:d,searchEndOffset:l}}_matchBracket(a,u){const h=a.lineNumber,r=this.textModel.tokenization.getLineTokens(h),c=this.textModel.getLineContent(h),o=r.findTokenIndexAtOffset(a.column-1);if(o<0)return null;const d=this.languageConfigurationService.getLanguageConfiguration(r.getLanguageId(o)).brackets;if(d&&!(0,S.ignoreBracketsInToken)(r.getStandardTokenType(o))){let{searchStartOffset:l,searchEndOffset:p}=this._establishBracketSearchOffsets(a,r,d,o),m=null;for(;;){const v=f.BracketsUtils.findNextBracketInRange(d.forwardRegex,h,c,l,p);if(!v)break;if(v.startColumn<=a.column&&a.column<=v.endColumn){const b=c.substring(v.startColumn-1,v.endColumn-1).toLowerCase(),w=this._matchFoundBracket(v,d.textIsBracket[b],d.textIsOpenBracket[b],u);if(w){if(w instanceof i)return null;m=w}}l=v.endColumn-1}if(m)return m}if(o>0&&r.getStartOffset(o)===a.column-1){const l=o-1,p=this.languageConfigurationService.getLanguageConfiguration(r.getLanguageId(l)).brackets;if(p&&!(0,S.ignoreBracketsInToken)(r.getStandardTokenType(l))){const{searchStartOffset:m,searchEndOffset:v}=this._establishBracketSearchOffsets(a,r,p,l),b=f.BracketsUtils.findPrevBracketInRange(p.reversedRegex,h,c,m,v);if(b&&b.startColumn<=a.column&&a.column<=b.endColumn){const w=c.substring(b.startColumn-1,b.endColumn-1).toLowerCase(),E=this._matchFoundBracket(b,p.textIsBracket[w],p.textIsOpenBracket[w],u);if(E)return E instanceof i?null:E}}}return null}_matchFoundBracket(a,u,h,r){if(!u)return null;const c=h?this._findMatchingBracketDown(u,a.getEndPosition(),r):this._findMatchingBracketUp(u,a.getStartPosition(),r);return c?c instanceof i?c:[a,c]:null}_findMatchingBracketUp(a,u,h){const r=a.languageId,c=a.reversedRegex;let o=-1,d=0;const l=(p,m,v,b)=>{for(;;){if(h&&++d%100===0&&!h())return i.INSTANCE;const w=f.BracketsUtils.findPrevBracketInRange(c,p,m,v,b);if(!w)break;const E=m.substring(w.startColumn-1,w.endColumn-1).toLowerCase();if(a.isOpen(E)?o++:a.isClose(E)&&o--,o===0)return w;b=w.startColumn-1}return null};for(let p=u.lineNumber;p>=1;p--){const m=this.textModel.tokenization.getLineTokens(p),v=m.getCount(),b=this.textModel.getLineContent(p);let w=v-1,E=b.length,I=b.length;p===u.lineNumber&&(w=m.findTokenIndexAtOffset(u.column-1),E=u.column-1,I=u.column-1);let M=!0;for(;w>=0;w--){const P=m.getLanguageId(w)===r&&!(0,S.ignoreBracketsInToken)(m.getStandardTokenType(w));if(P)M?E=m.getStartOffset(w):(E=m.getStartOffset(w),I=m.getEndOffset(w));else if(M&&E!==I){const x=l(p,b,E,I);if(x)return x}M=P}if(M&&E!==I){const P=l(p,b,E,I);if(P)return P}}return null}_findMatchingBracketDown(a,u,h){const r=a.languageId,c=a.forwardRegex;let o=1,d=0;const l=(m,v,b,w)=>{for(;;){if(h&&++d%100===0&&!h())return i.INSTANCE;const E=f.BracketsUtils.findNextBracketInRange(c,m,v,b,w);if(!E)break;const I=v.substring(E.startColumn-1,E.endColumn-1).toLowerCase();if(a.isOpen(I)?o++:a.isClose(I)&&o--,o===0)return E;b=E.endColumn-1}return null},p=this.textModel.getLineCount();for(let m=u.lineNumber;m<=p;m++){const v=this.textModel.tokenization.getLineTokens(m),b=v.getCount(),w=this.textModel.getLineContent(m);let E=0,I=0,M=0;m===u.lineNumber&&(E=v.findTokenIndexAtOffset(u.column-1),I=u.column-1,M=u.column-1);let P=!0;for(;E<b;E++){const x=v.getLanguageId(E)===r&&!(0,S.ignoreBracketsInToken)(v.getStandardTokenType(E));if(x)P||(I=v.getStartOffset(E)),M=v.getEndOffset(E);else if(P&&I!==M){const T=l(m,w,I,M);if(T)return T}P=x}if(P&&I!==M){const x=l(m,w,I,M);if(x)return x}}return null}findPrevBracket(a){var u;const h=this.textModel.validatePosition(a);if(this.canBuildAST)return this.bracketsRequested=!0,this.updateBracketPairsTree(),((u=this.bracketPairsTree.value)===null||u===void 0?void 0:u.object.getFirstBracketBefore(h))||null;let r=null,c=null,o=null;for(let d=h.lineNumber;d>=1;d--){const l=this.textModel.tokenization.getLineTokens(d),p=l.getCount(),m=this.textModel.getLineContent(d);let v=p-1,b=m.length,w=m.length;if(d===h.lineNumber){v=l.findTokenIndexAtOffset(h.column-1),b=h.column-1,w=h.column-1;const I=l.getLanguageId(v);r!==I&&(r=I,c=this.languageConfigurationService.getLanguageConfiguration(r).brackets,o=this.languageConfigurationService.getLanguageConfiguration(r).bracketsNew)}let E=!0;for(;v>=0;v--){const I=l.getLanguageId(v);if(r!==I){if(c&&o&&E&&b!==w){const P=f.BracketsUtils.findPrevBracketInRange(c.reversedRegex,d,m,b,w);if(P)return this._toFoundBracket(o,P);E=!1}r=I,c=this.languageConfigurationService.getLanguageConfiguration(r).brackets,o=this.languageConfigurationService.getLanguageConfiguration(r).bracketsNew}const M=!!c&&!(0,S.ignoreBracketsInToken)(l.getStandardTokenType(v));if(M)E?b=l.getStartOffset(v):(b=l.getStartOffset(v),w=l.getEndOffset(v));else if(o&&c&&E&&b!==w){const P=f.BracketsUtils.findPrevBracketInRange(c.reversedRegex,d,m,b,w);if(P)return this._toFoundBracket(o,P)}E=M}if(o&&c&&E&&b!==w){const I=f.BracketsUtils.findPrevBracketInRange(c.reversedRegex,d,m,b,w);if(I)return this._toFoundBracket(o,I)}}return null}findNextBracket(a){var u;const h=this.textModel.validatePosition(a);if(this.canBuildAST)return this.bracketsRequested=!0,this.updateBracketPairsTree(),((u=this.bracketPairsTree.value)===null||u===void 0?void 0:u.object.getFirstBracketAfter(h))||null;const r=this.textModel.getLineCount();let c=null,o=null,d=null;for(let l=h.lineNumber;l<=r;l++){const p=this.textModel.tokenization.getLineTokens(l),m=p.getCount(),v=this.textModel.getLineContent(l);let b=0,w=0,E=0;if(l===h.lineNumber){b=p.findTokenIndexAtOffset(h.column-1),w=h.column-1,E=h.column-1;const M=p.getLanguageId(b);c!==M&&(c=M,o=this.languageConfigurationService.getLanguageConfiguration(c).brackets,d=this.languageConfigurationService.getLanguageConfiguration(c).bracketsNew)}let I=!0;for(;b<m;b++){const M=p.getLanguageId(b);if(c!==M){if(d&&o&&I&&w!==E){const x=f.BracketsUtils.findNextBracketInRange(o.forwardRegex,l,v,w,E);if(x)return this._toFoundBracket(d,x);I=!1}c=M,o=this.languageConfigurationService.getLanguageConfiguration(c).brackets,d=this.languageConfigurationService.getLanguageConfiguration(c).bracketsNew}const P=!!o&&!(0,S.ignoreBracketsInToken)(p.getStandardTokenType(b));if(P)I||(w=p.getStartOffset(b)),E=p.getEndOffset(b);else if(d&&o&&I&&w!==E){const x=f.BracketsUtils.findNextBracketInRange(o.forwardRegex,l,v,w,E);if(x)return this._toFoundBracket(d,x)}I=P}if(d&&o&&I&&w!==E){const M=f.BracketsUtils.findNextBracketInRange(o.forwardRegex,l,v,w,E);if(M)return this._toFoundBracket(d,M)}}return null}findEnclosingBrackets(a,u){const h=this.textModel.validatePosition(a);if(this.canBuildAST){const w=D.Range.fromPositions(h),E=this.getBracketPairsInRange(D.Range.fromPositions(h,h)).findLast(I=>I.closingBracketRange!==void 0&&I.range.strictContainsRange(w));return E?[E.openingBracketRange,E.closingBracketRange]:null}const r=s(u),c=this.textModel.getLineCount(),o=new Map;let d=[];const l=(w,E)=>{if(!o.has(w)){const I=[];for(let M=0,P=E?E.brackets.length:0;M<P;M++)I[M]=0;o.set(w,I)}d=o.get(w)};let p=0;const m=(w,E,I,M,P)=>{for(;;){if(r&&++p%100===0&&!r())return i.INSTANCE;const x=f.BracketsUtils.findNextBracketInRange(w.forwardRegex,E,I,M,P);if(!x)break;const T=I.substring(x.startColumn-1,x.endColumn-1).toLowerCase(),A=w.textIsBracket[T];if(A&&(A.isOpen(T)?d[A.index]++:A.isClose(T)&&d[A.index]--,d[A.index]===-1))return this._matchFoundBracket(x,A,!1,r);M=x.endColumn-1}return null};let v=null,b=null;for(let w=h.lineNumber;w<=c;w++){const E=this.textModel.tokenization.getLineTokens(w),I=E.getCount(),M=this.textModel.getLineContent(w);let P=0,x=0,T=0;if(w===h.lineNumber){P=E.findTokenIndexAtOffset(h.column-1),x=h.column-1,T=h.column-1;const N=E.getLanguageId(P);v!==N&&(v=N,b=this.languageConfigurationService.getLanguageConfiguration(v).brackets,l(v,b))}let A=!0;for(;P<I;P++){const N=E.getLanguageId(P);if(v!==N){if(b&&A&&x!==T){const O=m(b,w,M,x,T);if(O)return n(O);A=!1}v=N,b=this.languageConfigurationService.getLanguageConfiguration(v).brackets,l(v,b)}const F=!!b&&!(0,S.ignoreBracketsInToken)(E.getStandardTokenType(P));if(F)A||(x=E.getStartOffset(P)),T=E.getEndOffset(P);else if(b&&A&&x!==T){const O=m(b,w,M,x,T);if(O)return n(O)}A=F}if(b&&A&&x!==T){const N=m(b,w,M,x,T);if(N)return n(N)}}return null}_toFoundBracket(a,u){if(!u)return null;let h=this.textModel.getValueInRange(u);h=h.toLowerCase();const r=a.getBracketInfo(h);return r?{range:u,bracketInfo:r}:null}}e.BracketPairsTextModelPart=g;function C(t,a){return{object:t,dispose:()=>a?.dispose()}}function s(t){if(typeof t>"u")return()=>!0;{const a=Date.now();return()=>Date.now()-a<=t}}class i{constructor(){this._searchCanceledBrand=void 0}}i.INSTANCE=new i;function n(t){return t instanceof i?null:t}}),define(ne[320],se([1,0,6,11,5,48,283,122,319,2]),function(Q,e,L,k,y,D,S,f,_,g){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.PieceTreeTextBuffer=void 0;class C extends g.Disposable{constructor(i,n,t,a,u,h,r){super(),this._onDidChangeContent=this._register(new L.Emitter),this._BOM=n,this._mightContainNonBasicASCII=!h,this._mightContainRTL=a,this._mightContainUnusualLineTerminators=u,this._pieceTree=new S.PieceTreeBase(i,t,r)}mightContainRTL(){return this._mightContainRTL}mightContainUnusualLineTerminators(){return this._mightContainUnusualLineTerminators}resetMightContainUnusualLineTerminators(){this._mightContainUnusualLineTerminators=!1}mightContainNonBasicASCII(){return this._mightContainNonBasicASCII}getBOM(){return this._BOM}getEOL(){return this._pieceTree.getEOL()}createSnapshot(i){return this._pieceTree.createSnapshot(i?this._BOM:"")}getOffsetAt(i,n){return this._pieceTree.getOffsetAt(i,n)}getPositionAt(i){return this._pieceTree.getPositionAt(i)}getRangeAt(i,n){const t=i+n,a=this.getPositionAt(i),u=this.getPositionAt(t);return new y.Range(a.lineNumber,a.column,u.lineNumber,u.column)}getValueInRange(i,n=0){if(i.isEmpty())return"";const t=this._getEndOfLine(n);return this._pieceTree.getValueInRange(i,t)}getValueLengthInRange(i,n=0){if(i.isEmpty())return 0;if(i.startLineNumber===i.endLineNumber)return i.endColumn-i.startColumn;const t=this.getOffsetAt(i.startLineNumber,i.startColumn),a=this.getOffsetAt(i.endLineNumber,i.endColumn);let u=0;const h=this._getEndOfLine(n),r=this.getEOL();if(h.length!==r.length){const c=h.length-r.length,o=i.endLineNumber-i.startLineNumber;u=c*o}return a-t+u}getCharacterCountInRange(i,n=0){if(this._mightContainNonBasicASCII){let t=0;const a=i.startLineNumber,u=i.endLineNumber;for(let h=a;h<=u;h++){const r=this.getLineContent(h),c=h===a?i.startColumn-1:0,o=h===u?i.endColumn-1:r.length;for(let d=c;d<o;d++)k.isHighSurrogate(r.charCodeAt(d))?(t=t+1,d=d+1):t=t+1}return t+=this._getEndOfLine(n).length*(u-a),t}return this.getValueLengthInRange(i,n)}getLength(){return this._pieceTree.getLength()}getLineCount(){return this._pieceTree.getLineCount()}getLinesContent(){return this._pieceTree.getLinesContent()}getLineContent(i){return this._pieceTree.getLineContent(i)}getLineCharCode(i,n){return this._pieceTree.getLineCharCode(i,n)}getLineLength(i){return this._pieceTree.getLineLength(i)}getLineFirstNonWhitespaceColumn(i){const n=k.firstNonWhitespaceIndex(this.getLineContent(i));return n===-1?0:n+1}getLineLastNonWhitespaceColumn(i){const n=k.lastNonWhitespaceIndex(this.getLineContent(i));return n===-1?0:n+2}_getEndOfLine(i){switch(i){case 1:return`
`;case 2:return`\r
`;case 0:return this.getEOL();default:throw new Error("Unknown EOL preference")}}setEOL(i){this._pieceTree.setEOL(i)}applyEdits(i,n,t){let a=this._mightContainRTL,u=this._mightContainUnusualLineTerminators,h=this._mightContainNonBasicASCII,r=!0,c=[];for(let b=0;b<i.length;b++){const w=i[b];r&&w._isTracked&&(r=!1);const E=w.range;if(w.text){let T=!0;h||(T=!k.isBasicASCII(w.text),h=T),!a&&T&&(a=k.containsRTL(w.text)),!u&&T&&(u=k.containsUnusualLineTerminators(w.text))}let I="",M=0,P=0,x=0;if(w.text){let T;[M,P,x,T]=(0,f.countEOL)(w.text);const A=this.getEOL();T===0||T===(A===`\r
`?2:1)?I=w.text:I=w.text.replace(/\r\n|\r|\n/g,A)}c[b]={sortIndex:b,identifier:w.identifier||null,range:E,rangeOffset:this.getOffsetAt(E.startLineNumber,E.startColumn),rangeLength:this.getValueLengthInRange(E),text:I,eolCount:M,firstLineLength:P,lastLineLength:x,forceMoveMarkers:!!w.forceMoveMarkers,isAutoWhitespaceEdit:w.isAutoWhitespaceEdit||!1}}c.sort(C._sortOpsAscending);let o=!1;for(let b=0,w=c.length-1;b<w;b++){const E=c[b].range.getEndPosition(),I=c[b+1].range.getStartPosition();if(I.isBeforeOrEqual(E)){if(I.isBefore(E))throw new Error("Overlapping ranges are not allowed!");o=!0}}r&&(c=this._reduceOperations(c));const d=t||n?C._getInverseEditRanges(c):[],l=[];if(n)for(let b=0;b<c.length;b++){const w=c[b],E=d[b];if(w.isAutoWhitespaceEdit&&w.range.isEmpty())for(let I=E.startLineNumber;I<=E.endLineNumber;I++){let M="";I===E.startLineNumber&&(M=this.getLineContent(w.range.startLineNumber),k.firstNonWhitespaceIndex(M)!==-1)||l.push({lineNumber:I,oldContent:M})}}let p=null;if(t){let b=0;p=[];for(let w=0;w<c.length;w++){const E=c[w],I=d[w],M=this.getValueInRange(E.range),P=E.rangeOffset+b;b+=E.text.length-M.length,p[w]={sortIndex:E.sortIndex,identifier:E.identifier,range:I,text:M,textChange:new _.TextChange(E.rangeOffset,M,P,E.text)}}o||p.sort((w,E)=>w.sortIndex-E.sortIndex)}this._mightContainRTL=a,this._mightContainUnusualLineTerminators=u,this._mightContainNonBasicASCII=h;const m=this._doApplyEdits(c);let v=null;if(n&&l.length>0){l.sort((b,w)=>w.lineNumber-b.lineNumber),v=[];for(let b=0,w=l.length;b<w;b++){const E=l[b].lineNumber;if(b>0&&l[b-1].lineNumber===E)continue;const I=l[b].oldContent,M=this.getLineContent(E);M.length===0||M===I||k.firstNonWhitespaceIndex(M)!==-1||v.push(E)}}return this._onDidChangeContent.fire(),new D.ApplyEditsResult(p,m,v)}_reduceOperations(i){return i.length<1e3?i:[this._toSingleEditOperation(i)]}_toSingleEditOperation(i){let n=!1;const t=i[0].range,a=i[i.length-1].range,u=new y.Range(t.startLineNumber,t.startColumn,a.endLineNumber,a.endColumn);let h=t.startLineNumber,r=t.startColumn;const c=[];for(let m=0,v=i.length;m<v;m++){const b=i[m],w=b.range;n=n||b.forceMoveMarkers,c.push(this.getValueInRange(new y.Range(h,r,w.startLineNumber,w.startColumn))),b.text.length>0&&c.push(b.text),h=w.endLineNumber,r=w.endColumn}const o=c.join(""),[d,l,p]=(0,f.countEOL)(o);return{sortIndex:0,identifier:i[0].identifier,range:u,rangeOffset:this.getOffsetAt(u.startLineNumber,u.startColumn),rangeLength:this.getValueLengthInRange(u,0),text:o,eolCount:d,firstLineLength:l,lastLineLength:p,forceMoveMarkers:n,isAutoWhitespaceEdit:!1}}_doApplyEdits(i){i.sort(C._sortOpsDescending);const n=[];for(let t=0;t<i.length;t++){const a=i[t],u=a.range.startLineNumber,h=a.range.startColumn,r=a.range.endLineNumber,c=a.range.endColumn;if(u===r&&h===c&&a.text.length===0)continue;a.text?(this._pieceTree.delete(a.rangeOffset,a.rangeLength),this._pieceTree.insert(a.rangeOffset,a.text,!0)):this._pieceTree.delete(a.rangeOffset,a.rangeLength);const o=new y.Range(u,h,r,c);n.push({range:o,rangeLength:a.rangeLength,text:a.text,rangeOffset:a.rangeOffset,forceMoveMarkers:a.forceMoveMarkers})}return n}findMatchesLineByLine(i,n,t,a){return this._pieceTree.findMatchesLineByLine(i,n,t,a)}static _getInverseEditRanges(i){const n=[];let t=0,a=0,u=null;for(let h=0,r=i.length;h<r;h++){const c=i[h];let o,d;u?u.range.endLineNumber===c.range.startLineNumber?(o=t,d=a+(c.range.startColumn-u.range.endColumn)):(o=t+(c.range.startLineNumber-u.range.endLineNumber),d=c.range.startColumn):(o=c.range.startLineNumber,d=c.range.startColumn);let l;if(c.text.length>0){const p=c.eolCount+1;p===1?l=new y.Range(o,d,o,d+c.firstLineLength):l=new y.Range(o,d,o+p-1,c.lastLineLength+1)}else l=new y.Range(o,d,o,d);t=l.endLineNumber,a=l.endColumn,n.push(l),u=c}return n}static _sortOpsAscending(i,n){const t=y.Range.compareRangesUsingEnds(i.range,n.range);return t===0?i.sortIndex-n.sortIndex:t}static _sortOpsDescending(i,n){const t=y.Range.compareRangesUsingEnds(i.range,n.range);return t===0?n.sortIndex-i.sortIndex:-t}}e.PieceTreeTextBuffer=C}),define(ne[597],se([1,0,11,283,320]),function(Q,e,L,k,y){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.PieceTreeTextBufferBuilder=void 0;class D{constructor(_,g,C,s,i,n,t,a,u){this._chunks=_,this._bom=g,this._cr=C,this._lf=s,this._crlf=i,this._containsRTL=n,this._containsUnusualLineTerminators=t,this._isBasicASCII=a,this._normalizeEOL=u}_getEOL(_){const g=this._cr+this._lf+this._crlf,C=this._cr+this._crlf;return g===0?_===1?`
`:`\r
`:C>g/2?`\r
`:`
`}create(_){const g=this._getEOL(_),C=this._chunks;if(this._normalizeEOL&&(g===`\r
`&&(this._cr>0||this._lf>0)||g===`
`&&(this._cr>0||this._crlf>0)))for(let i=0,n=C.length;i<n;i++){const t=C[i].buffer.replace(/\r\n|\r|\n/g,g),a=(0,k.createLineStartsFast)(t);C[i]=new k.StringBuffer(t,a)}const s=new y.PieceTreeTextBuffer(C,this._bom,g,this._containsRTL,this._containsUnusualLineTerminators,this._isBasicASCII,this._normalizeEOL);return{textBuffer:s,disposable:s}}}class S{constructor(){this.chunks=[],this.BOM="",this._hasPreviousChar=!1,this._previousChar=0,this._tmpLineStarts=[],this.cr=0,this.lf=0,this.crlf=0,this.containsRTL=!1,this.containsUnusualLineTerminators=!1,this.isBasicASCII=!0}acceptChunk(_){if(_.length===0)return;this.chunks.length===0&&L.startsWithUTF8BOM(_)&&(this.BOM=L.UTF8_BOM_CHARACTER,_=_.substr(1));const g=_.charCodeAt(_.length-1);g===13||g>=55296&&g<=56319?(this._acceptChunk1(_.substr(0,_.length-1),!1),this._hasPreviousChar=!0,this._previousChar=g):(this._acceptChunk1(_,!1),this._hasPreviousChar=!1,this._previousChar=g)}_acceptChunk1(_,g){!g&&_.length===0||(this._hasPreviousChar?this._acceptChunk2(String.fromCharCode(this._previousChar)+_):this._acceptChunk2(_))}_acceptChunk2(_){const g=(0,k.createLineStarts)(this._tmpLineStarts,_);this.chunks.push(new k.StringBuffer(_,g.lineStarts)),this.cr+=g.cr,this.lf+=g.lf,this.crlf+=g.crlf,g.isBasicASCII||(this.isBasicASCII=!1,this.containsRTL||(this.containsRTL=L.containsRTL(_)),this.containsUnusualLineTerminators||(this.containsUnusualLineTerminators=L.containsUnusualLineTerminators(_)))}finish(_=!0){return this._finish(),new D(this.chunks,this.BOM,this.cr,this.lf,this.crlf,this.containsRTL,this.containsUnusualLineTerminators,this.isBasicASCII,_)}_finish(){if(this.chunks.length===0&&this._acceptChunk1("",!0),this._hasPreviousChar){this._hasPreviousChar=!1;const _=this.chunks[this.chunks.length-1];_.buffer+=String.fromCharCode(this._previousChar);const g=(0,k.createLineStartsFast)(_.buffer);_.lineStarts=g,this._previousChar===13&&this.cr++}}}e.PieceTreeTextBufferBuilder=S}),define(ne[598],se([1,0,140,17]),function(Q,e,L,k){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.encodeSemanticTokensDto=void 0;function y(_){for(let g=0,C=_.length;g<C;g+=4){const s=_[g+0],i=_[g+1],n=_[g+2],t=_[g+3];_[g+0]=t,_[g+1]=n,_[g+2]=i,_[g+3]=s}}function D(_){const g=new Uint8Array(_.buffer,_.byteOffset,_.length*4);return k.isLittleEndian()||y(g),L.VSBuffer.wrap(g)}function S(_){const g=new Uint32Array(f(_));let C=0;if(g[C++]=_.id,_.type==="full")g[C++]=1,g[C++]=_.data.length,g.set(_.data,C),C+=_.data.length;else{g[C++]=2,g[C++]=_.deltas.length;for(const s of _.deltas)g[C++]=s.start,g[C++]=s.deleteCount,s.data?(g[C++]=s.data.length,g.set(s.data,C),C+=s.data.length):g[C++]=0}return D(g)}e.encodeSemanticTokensDto=S;function f(_){let g=0;if(g+=1+1,_.type==="full")g+=1+_.data.length;else{g+=1,g+=(1+1+1)*_.deltas.length;for(const C of _.deltas)C.data&&(g+=C.data.length)}return g}}),define(ne[186],se([1,0,6,2,17]),function(Q,e,L,k,y){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ClickLinkGesture=e.ClickLinkOptions=e.ClickLinkKeyboardEvent=e.ClickLinkMouseEvent=void 0;function D(s,i){return!!s[i]}class S{constructor(i,n){this.target=i.target,this.isLeftClick=i.event.leftButton,this.isMiddleClick=i.event.middleButton,this.isRightClick=i.event.rightButton,this.hasTriggerModifier=D(i.event,n.triggerModifier),this.hasSideBySideModifier=D(i.event,n.triggerSideBySideModifier),this.isNoneOrSingleMouseDown=i.event.detail<=1}}e.ClickLinkMouseEvent=S;class f{constructor(i,n){this.keyCodeIsTriggerKey=i.keyCode===n.triggerKey,this.keyCodeIsSideBySideKey=i.keyCode===n.triggerSideBySideKey,this.hasTriggerModifier=D(i,n.triggerModifier)}}e.ClickLinkKeyboardEvent=f;class _{constructor(i,n,t,a){this.triggerKey=i,this.triggerModifier=n,this.triggerSideBySideKey=t,this.triggerSideBySideModifier=a}equals(i){return this.triggerKey===i.triggerKey&&this.triggerModifier===i.triggerModifier&&this.triggerSideBySideKey===i.triggerSideBySideKey&&this.triggerSideBySideModifier===i.triggerSideBySideModifier}}e.ClickLinkOptions=_;function g(s){return s==="altKey"?y.isMacintosh?new _(57,"metaKey",6,"altKey"):new _(5,"ctrlKey",6,"altKey"):y.isMacintosh?new _(6,"altKey",57,"metaKey"):new _(6,"altKey",5,"ctrlKey")}class C extends k.Disposable{constructor(i,n){var t;super(),this._onMouseMoveOrRelevantKeyDown=this._register(new L.Emitter),this.onMouseMoveOrRelevantKeyDown=this._onMouseMoveOrRelevantKeyDown.event,this._onExecute=this._register(new L.Emitter),this.onExecute=this._onExecute.event,this._onCancel=this._register(new L.Emitter),this.onCancel=this._onCancel.event,this._editor=i,this._extractLineNumberFromMouseEvent=(t=n?.extractLineNumberFromMouseEvent)!==null&&t!==void 0?t:a=>a.target.position?a.target.position.lineNumber:0,this._opts=g(this._editor.getOption(76)),this._lastMouseMoveEvent=null,this._hasTriggerKeyOnMouseDown=!1,this._lineNumberOnMouseDown=0,this._register(this._editor.onDidChangeConfiguration(a=>{if(a.hasChanged(76)){const u=g(this._editor.getOption(76));if(this._opts.equals(u))return;this._opts=u,this._lastMouseMoveEvent=null,this._hasTriggerKeyOnMouseDown=!1,this._lineNumberOnMouseDown=0,this._onCancel.fire()}})),this._register(this._editor.onMouseMove(a=>this._onEditorMouseMove(new S(a,this._opts)))),this._register(this._editor.onMouseDown(a=>this._onEditorMouseDown(new S(a,this._opts)))),this._register(this._editor.onMouseUp(a=>this._onEditorMouseUp(new S(a,this._opts)))),this._register(this._editor.onKeyDown(a=>this._onEditorKeyDown(new f(a,this._opts)))),this._register(this._editor.onKeyUp(a=>this._onEditorKeyUp(new f(a,this._opts)))),this._register(this._editor.onMouseDrag(()=>this._resetHandler())),this._register(this._editor.onDidChangeCursorSelection(a=>this._onDidChangeCursorSelection(a))),this._register(this._editor.onDidChangeModel(a=>this._resetHandler())),this._register(this._editor.onDidChangeModelContent(()=>this._resetHandler())),this._register(this._editor.onDidScrollChange(a=>{(a.scrollTopChanged||a.scrollLeftChanged)&&this._resetHandler()}))}_onDidChangeCursorSelection(i){i.selection&&i.selection.startColumn!==i.selection.endColumn&&this._resetHandler()}_onEditorMouseMove(i){this._lastMouseMoveEvent=i,this._onMouseMoveOrRelevantKeyDown.fire([i,null])}_onEditorMouseDown(i){this._hasTriggerKeyOnMouseDown=i.hasTriggerModifier,this._lineNumberOnMouseDown=this._extractLineNumberFromMouseEvent(i)}_onEditorMouseUp(i){const n=this._extractLineNumberFromMouseEvent(i);this._hasTriggerKeyOnMouseDown&&this._lineNumberOnMouseDown&&this._lineNumberOnMouseDown===n&&this._onExecute.fire(i)}_onEditorKeyDown(i){this._lastMouseMoveEvent&&(i.keyCodeIsTriggerKey||i.keyCodeIsSideBySideKey&&i.hasTriggerModifier)?this._onMouseMoveOrRelevantKeyDown.fire([this._lastMouseMoveEvent,i]):i.hasTriggerModifier&&this._onCancel.fire()}_onEditorKeyUp(i){i.keyCodeIsTriggerKey&&this._onCancel.fire()}_resetHandler(){this._lastMouseMoveEvent=null,this._hasTriggerKeyOnMouseDown=!1,this._onCancel.fire()}}e.ClickLinkGesture=C});var Lt=this&&this.__asyncValues||function(Q){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var e=Q[Symbol.asyncIterator],L;return e?e.call(Q):(Q=typeof __values=="function"?__values(Q):Q[Symbol.iterator](),L={},k("next"),k("throw"),k("return"),L[Symbol.asyncIterator]=function(){return this},L);function k(D){L[D]=Q[D]&&function(S){return new Promise(function(f,_){S=Q[D](S),y(f,_,S.done,S.value)})}}function y(D,S,f,_){Promise.resolve(_).then(function(g){D({value:g,done:f})},S)}};define(ne[321],se([1,0,13,9,6,2]),function(Q,e,L,k,y,D){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.HoverOperation=e.HoverResult=void 0;class S{constructor(g,C,s){this.value=g,this.isComplete=C,this.hasLoadingMessage=s}}e.HoverResult=S;class f extends D.Disposable{constructor(g,C){super(),this._editor=g,this._computer=C,this._onResult=this._register(new y.Emitter),this.onResult=this._onResult.event,this._firstWaitScheduler=this._register(new L.RunOnceScheduler(()=>this._triggerAsyncComputation(),0)),this._secondWaitScheduler=this._register(new L.RunOnceScheduler(()=>this._triggerSyncComputation(),0)),this._loadingMessageScheduler=this._register(new L.RunOnceScheduler(()=>this._triggerLoadingMessage(),0)),this._state=0,this._asyncIterable=null,this._asyncIterableDone=!1,this._result=[]}dispose(){this._asyncIterable&&(this._asyncIterable.cancel(),this._asyncIterable=null),super.dispose()}get _hoverTime(){return this._editor.getOption(59).delay}get _firstWaitTime(){return this._hoverTime/2}get _secondWaitTime(){return this._hoverTime-this._firstWaitTime}get _loadingMessageTime(){return 3*this._hoverTime}_setState(g,C=!0){this._state=g,C&&this._fireResult()}_triggerAsyncComputation(){this._setState(2),this._secondWaitScheduler.schedule(this._secondWaitTime),this._computer.computeAsync?(this._asyncIterableDone=!1,this._asyncIterable=(0,L.createCancelableAsyncIterable)(g=>this._computer.computeAsync(g)),we(this,void 0,void 0,function*(){var g,C,s,i;try{try{for(var n=!0,t=Lt(this._asyncIterable),a;a=yield t.next(),g=a.done,!g;n=!0){i=a.value,n=!1;const u=i;u&&(this._result.push(u),this._fireResult())}}catch(u){C={error:u}}finally{try{!n&&!g&&(s=t.return)&&(yield s.call(t))}finally{if(C)throw C.error}}this._asyncIterableDone=!0,(this._state===3||this._state===4)&&this._setState(0)}catch(u){(0,k.onUnexpectedError)(u)}})):this._asyncIterableDone=!0}_triggerSyncComputation(){this._computer.computeSync&&(this._result=this._result.concat(this._computer.computeSync())),this._setState(this._asyncIterableDone?0:3)}_triggerLoadingMessage(){this._state===3&&this._setState(4)}_fireResult(){if(this._state===1||this._state===2)return;const g=this._state===0,C=this._state===4;this._onResult.fire(new S(this._result.slice(0),g,C))}start(g){if(g===0)this._state===0&&(this._setState(1),this._firstWaitScheduler.schedule(this._firstWaitTime),this._loadingMessageScheduler.schedule(this._loadingMessageTime));else switch(this._state){case 0:this._triggerAsyncComputation(),this._secondWaitScheduler.cancel(),this._triggerSyncComputation();break;case 2:this._secondWaitScheduler.cancel(),this._triggerSyncComputation();break}}cancel(){this._firstWaitScheduler.cancel(),this._secondWaitScheduler.cancel(),this._loadingMessageScheduler.cancel(),this._asyncIterable&&(this._asyncIterable.cancel(),this._asyncIterable=null),this._result=[],this._setState(0,!1)}}e.HoverOperation=f}),define(ne[599],se([1,0,223,2,12,7]),function(Q,e,L,k,y,D){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ResizableContentWidget=void 0;const S=30,f=24;class _ extends k.Disposable{constructor(C,s=new D.Dimension(10,10)){super(),this._editor=C,this.allowEditorOverflow=!0,this.suppressMouseDown=!1,this._resizableNode=this._register(new L.ResizableHTMLElement),this._contentPosition=null,this._isResizing=!1,this._resizableNode.domNode.style.position="absolute",this._resizableNode.minSize=D.Dimension.lift(s),this._resizableNode.layout(s.height,s.width),this._resizableNode.enableSashes(!0,!0,!0,!0),this._register(this._resizableNode.onDidResize(i=>{this._resize(new D.Dimension(i.dimension.width,i.dimension.height)),i.done&&(this._isResizing=!1)})),this._register(this._resizableNode.onDidWillResize(()=>{this._isResizing=!0}))}get isResizing(){return this._isResizing}getDomNode(){return this._resizableNode.domNode}getPosition(){return this._contentPosition}get position(){var C;return!((C=this._contentPosition)===null||C===void 0)&&C.position?y.Position.lift(this._contentPosition.position):void 0}_availableVerticalSpaceAbove(C){const s=this._editor.getDomNode(),i=this._editor.getScrolledVisiblePosition(C);return!s||!i?void 0:D.getDomNodePagePosition(s).top+i.top-S}_availableVerticalSpaceBelow(C){const s=this._editor.getDomNode(),i=this._editor.getScrolledVisiblePosition(C);if(!s||!i)return;const n=D.getDomNodePagePosition(s),t=D.getClientArea(document.body),a=n.top+i.top+i.height;return t.height-a-f}_findPositionPreference(C,s){var i,n;const t=Math.min((i=this._availableVerticalSpaceBelow(s))!==null&&i!==void 0?i:1/0,C),a=Math.min((n=this._availableVerticalSpaceAbove(s))!==null&&n!==void 0?n:1/0,C),u=Math.min(Math.max(a,t),C),h=Math.min(C,u);let r;return this._editor.getOption(59).above?r=h<=a?1:2:r=h<=t?2:1,r===1?this._resizableNode.enableSashes(!0,!0,!1,!1):this._resizableNode.enableSashes(!1,!0,!0,!1),r}_resize(C){this._resizableNode.layout(C.height,C.width)}}e.ResizableContentWidget=_}),define(ne[322],se([1,0,9,2,12,5,54,22]),function(Q,e,L,k,y,D,S,f){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.asCommandLink=e.InlayHintsFragments=e.InlayHintItem=e.InlayHintAnchor=void 0;class _{constructor(n,t){this.range=n,this.direction=t}}e.InlayHintAnchor=_;class g{constructor(n,t,a){this.hint=n,this.anchor=t,this.provider=a,this._isResolved=!1}with(n){const t=new g(this.hint,n.anchor,this.provider);return t._isResolved=this._isResolved,t._currentResolve=this._currentResolve,t}resolve(n){return we(this,void 0,void 0,function*(){if(typeof this.provider.resolveInlayHint=="function"){if(this._currentResolve)return yield this._currentResolve,n.isCancellationRequested?void 0:this.resolve(n);this._isResolved||(this._currentResolve=this._doResolve(n).finally(()=>this._currentResolve=void 0)),yield this._currentResolve}})}_doResolve(n){var t,a;return we(this,void 0,void 0,function*(){try{const u=yield Promise.resolve(this.provider.resolveInlayHint(this.hint,n));this.hint.tooltip=(t=u?.tooltip)!==null&&t!==void 0?t:this.hint.tooltip,this.hint.label=(a=u?.label)!==null&&a!==void 0?a:this.hint.label,this._isResolved=!0}catch(u){(0,L.onUnexpectedExternalError)(u),this._isResolved=!1}})}}e.InlayHintItem=g;class C{static create(n,t,a,u){return we(this,void 0,void 0,function*(){const h=[],r=n.ordered(t).reverse().map(c=>a.map(o=>we(this,void 0,void 0,function*(){try{const d=yield c.provideInlayHints(t,o,u);d?.hints.length&&h.push([d,c])}catch(d){(0,L.onUnexpectedExternalError)(d)}})));if(yield Promise.all(r.flat()),u.isCancellationRequested||t.isDisposed())throw new L.CancellationError;return new C(a,h,t)})}constructor(n,t,a){this._disposables=new k.DisposableStore,this.ranges=n,this.provider=new Set;const u=[];for(const[h,r]of t){this._disposables.add(h),this.provider.add(r);for(const c of h.hints){const o=a.validatePosition(c.position);let d="before";const l=C._getRangeAtPosition(a,o);let p;l.getStartPosition().isBefore(o)?(p=D.Range.fromPositions(l.getStartPosition(),o),d="after"):(p=D.Range.fromPositions(o,l.getEndPosition()),d="before"),u.push(new g(c,new _(p,d),r))}}this.items=u.sort((h,r)=>y.Position.compare(h.hint.position,r.hint.position))}dispose(){this._disposables.dispose()}static _getRangeAtPosition(n,t){const a=t.lineNumber,u=n.getWordAtPosition(t);if(u)return new D.Range(a,u.startColumn,a,u.endColumn);n.tokenization.tokenizeIfCheap(a);const h=n.tokenization.getLineTokens(a),r=t.column-1,c=h.findTokenIndexAtOffset(r);let o=h.getStartOffset(c),d=h.getEndOffset(c);return d-o===1&&(o===r&&c>1?(o=h.getStartOffset(c-1),d=h.getEndOffset(c-1)):d===r&&c<h.getCount()-1&&(o=h.getStartOffset(c+1),d=h.getEndOffset(c+1))),new D.Range(a,o+1,a,d+1)}}e.InlayHintsFragments=C;function s(i){return f.URI.from({scheme:S.Schemas.command,path:i.id,query:i.arguments&&encodeURIComponent(JSON.stringify(i.arguments))}).toString()}e.asCommandLink=s}),define(ne[600],se([1,0,85,13,19,196,9,5,507,151,128]),function(Q,e,L,k,y,D,S,f,_,g,C){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.InlineCompletionItem=e.InlineCompletionList=e.InlineCompletionProviderResult=e.provideInlineCompletions=void 0;function s(h,r,c,o,d=y.CancellationToken.None,l){return we(this,void 0,void 0,function*(){const p=a(r,c),m=h.all(c),v=new D.SetMap;for(const A of m)A.groupId&&v.add(A.groupId,A);function b(A){if(!A.yieldsToGroupIds)return[];const N=[];for(const F of A.yieldsToGroupIds||[]){const O=v.get(F);for(const W of O)N.push(W)}return N}const w=new Map,E=new Set;function I(A,N){if(N=[...N,A],E.has(A))return N;E.add(A);try{const F=b(A);for(const O of F){const W=I(O,N);if(W)return W}}finally{E.delete(A)}}function M(A){const N=w.get(A);if(N)return N;const F=I(A,[]);F&&(0,S.onUnexpectedExternalError)(new Error(`Inline completions: cyclic yield-to dependency detected. Path: ${F.map(W=>W.toString?W.toString():""+W).join(" -> ")}`));const O=new k.DeferredPromise;return w.set(A,O.p),(()=>we(this,void 0,void 0,function*(){if(!F){const W=b(A);for(const U of W){const j=yield M(U);if(j&&j.items.length>0)return}}try{return yield A.provideInlineCompletions(c,r,o,d)}catch(W){(0,S.onUnexpectedExternalError)(W);return}}))().then(W=>O.complete(W),W=>O.error(W)),O.p}const P=yield Promise.all(m.map(A=>we(this,void 0,void 0,function*(){return{provider:A,completions:yield M(A)}}))),x=new Map,T=[];for(const A of P){const N=A.completions;if(!N)continue;const F=new n(N,A.provider);T.push(F);for(const O of N.items){const W=t.from(O,F,p,c,l);x.set(W.hash(),W)}}return new i(Array.from(x.values()),new Set(x.keys()),T)})}e.provideInlineCompletions=s;class i{constructor(r,c,o){this.completions=r,this.hashs=c,this.providerResults=o}has(r){return this.hashs.has(r.hash())}dispose(){for(const r of this.providerResults)r.removeRef()}}e.InlineCompletionProviderResult=i;class n{constructor(r,c){this.inlineCompletions=r,this.provider=c,this.refCount=1}addRef(){this.refCount++}removeRef(){this.refCount--,this.refCount===0&&this.provider.freeInlineCompletions(this.inlineCompletions)}}e.InlineCompletionList=n;class t{static from(r,c,o,d,l){let p,m,v=r.range?f.Range.lift(r.range):o;if(typeof r.insertText=="string"){if(p=r.insertText,l&&r.completeBracketPairs){p=u(p,v.getStartPosition(),d,l);const b=p.length-r.insertText.length;b!==0&&(v=new f.Range(v.startLineNumber,v.startColumn,v.endLineNumber,v.endColumn+b))}m=void 0}else if("snippet"in r.insertText){const b=r.insertText.snippet.length;if(l&&r.completeBracketPairs){r.insertText.snippet=u(r.insertText.snippet,v.getStartPosition(),d,l);const E=r.insertText.snippet.length-b;E!==0&&(v=new f.Range(v.startLineNumber,v.startColumn,v.endLineNumber,v.endColumn+E))}const w=new C.SnippetParser().parse(r.insertText.snippet);w.children.length===1&&w.children[0]instanceof C.Text?(p=w.children[0].value,m=void 0):(p=w.toString(),m={snippet:r.insertText.snippet,range:v})}else(0,L.assertNever)(r.insertText);return new t(p,r.command,v,p,m,r.additionalTextEdits||(0,g.getReadonlyEmptyArray)(),r,c)}constructor(r,c,o,d,l,p,m,v){this.filterText=r,this.command=c,this.range=o,this.insertText=d,this.snippetInfo=l,this.additionalTextEdits=p,this.sourceInlineCompletion=m,this.source=v,r=r.replace(/\r\n|\r/g,`
`),d=r.replace(/\r\n|\r/g,`
`)}withRange(r){return new t(this.filterText,this.command,r,this.insertText,this.snippetInfo,this.additionalTextEdits,this.sourceInlineCompletion,this.source)}hash(){return JSON.stringify({insertText:this.insertText,range:this.range.toString()})}}e.InlineCompletionItem=t;function a(h,r){const c=r.getWordAtPosition(h),o=r.getLineMaxColumn(h.lineNumber);return c?new f.Range(h.lineNumber,c.startColumn,h.lineNumber,o):f.Range.fromPositions(h,h.with(void 0,o))}function u(h,r,c,o){const l=c.getLineContent(r.lineNumber).substring(0,r.column-1)+h,p=c.tokenization.tokenizeLineWithEdit(r,l.length-(r.column-1),h),m=p?.sliceAndInflate(r.column-1,l.length,0);return m?(0,_.fixBracketsInLine)(m,o):h}}),define(ne[601],se([3,4]),function(Q,e){return Q.create("vs/editor/browser/controller/textAreaHandler",e)}),define(ne[602],se([3,4]),function(Q,e){return Q.create("vs/editor/browser/coreCommands",e)}),define(ne[603],se([3,4]),function(Q,e){return Q.create("vs/editor/browser/editorExtensions",e)}),define(ne[604],se([3,4]),function(Q,e){return Q.create("vs/editor/browser/widget/codeEditorWidget",e)}),define(ne[605],se([3,4]),function(Q,e){return Q.create("vs/editor/browser/widget/diffEditor.contribution",e)}),define(ne[606],se([3,4]),function(Q,e){return Q.create("vs/editor/browser/widget/diffEditorWidget",e)}),define(ne[607],se([3,4]),function(Q,e){return Q.create("vs/editor/browser/widget/diffEditorWidget2/accessibleDiffViewer",e)}),define(ne[608],se([3,4]),function(Q,e){return Q.create("vs/editor/browser/widget/diffEditorWidget2/colors",e)}),define(ne[609],se([3,4]),function(Q,e){return Q.create("vs/editor/browser/widget/diffEditorWidget2/decorations",e)}),define(ne[610],se([3,4]),function(Q,e){return Q.create("vs/editor/browser/widget/diffEditorWidget2/diffEditorEditors",e)}),define(ne[611],se([3,4]),function(Q,e){return Q.create("vs/editor/browser/widget/diffEditorWidget2/inlineDiffDeletedCodeMargin",e)}),define(ne[612],se([1,0,7,39,25,2,17,26,611]),function(Q,e,L,k,y,D,S,f,_){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.InlineDiffDeletedCodeMargin=void 0;class g extends D.Disposable{get visibility(){return this._visibility}set visibility(s){this._visibility!==s&&(this._visibility=s,this._diffActions.style.visibility=s?"visible":"hidden")}constructor(s,i,n,t,a,u,h,r,c){super(),this._getViewZoneId=s,this._marginDomNode=i,this._modifiedEditor=n,this._diff=t,this._editor=a,this._viewLineCounts=u,this._originalTextModel=h,this._contextMenuService=r,this._clipboardService=c,this._visibility=!1,this._marginDomNode.style.zIndex="10",this._diffActions=document.createElement("div"),this._diffActions.className=f.ThemeIcon.asClassName(y.Codicon.lightBulb)+" lightbulb-glyph",this._diffActions.style.position="absolute";const o=this._modifiedEditor.getOption(65);this._diffActions.style.right="0px",this._diffActions.style.visibility="hidden",this._diffActions.style.height=`${o}px`,this._diffActions.style.lineHeight=`${o}px`,this._marginDomNode.appendChild(this._diffActions);let d=0;const l=n.getOption(125)&&!S.isIOS,p=(m,v)=>{var b;this._contextMenuService.showContextMenu({domForShadowRoot:l&&(b=n.getDomNode())!==null&&b!==void 0?b:void 0,getAnchor:()=>({x:m,y:v}),getActions:()=>{const w=[],E=t.modifiedRange.isEmpty;return w.push(new k.Action("diff.clipboard.copyDeletedContent",E?t.originalRange.length>1?(0,_.localize)(0,null):(0,_.localize)(1,null):t.originalRange.length>1?(0,_.localize)(2,null):(0,_.localize)(3,null),void 0,!0,()=>we(this,void 0,void 0,function*(){const M=this._originalTextModel.getValueInRange(t.originalRange.toExclusiveRange());yield this._clipboardService.writeText(M)}))),t.originalRange.length>1&&w.push(new k.Action("diff.clipboard.copyDeletedLineContent",E?(0,_.localize)(4,null,t.originalRange.startLineNumber+d):(0,_.localize)(5,null,t.originalRange.startLineNumber+d),void 0,!0,()=>we(this,void 0,void 0,function*(){let M=this._originalTextModel.getLineContent(t.originalRange.startLineNumber+d);M===""&&(M=this._originalTextModel.getEndOfLineSequence()===0?`
`:`\r
`),yield this._clipboardService.writeText(M)}))),n.getOption(89)||w.push(new k.Action("diff.inline.revertChange",(0,_.localize)(6,null),void 0,!0,()=>we(this,void 0,void 0,function*(){this._editor.revert(this._diff)}))),w},autoSelectFirstItem:!0})};this._register((0,L.addStandardDisposableListener)(this._diffActions,"mousedown",m=>{const{top:v,height:b}=(0,L.getDomNodePagePosition)(this._diffActions),w=Math.floor(o/3);m.preventDefault(),p(m.posx,v+b+w)})),this._register(n.onMouseMove(m=>{(m.target.type===8||m.target.type===5)&&m.target.detail.viewZoneId===this._getViewZoneId()?(d=this._updateLightBulbPosition(this._marginDomNode,m.event.browserEvent.y,o),this.visibility=!0):this.visibility=!1})),this._register(n.onMouseDown(m=>{m.event.rightButton&&(m.target.type===8||m.target.type===5)&&m.target.detail.viewZoneId===this._getViewZoneId()&&(m.event.preventDefault(),d=this._updateLightBulbPosition(this._marginDomNode,m.event.browserEvent.y,o),p(m.event.posx,m.event.posy+o))}))}_updateLightBulbPosition(s,i,n){const{top:t}=(0,L.getDomNodePagePosition)(s),a=i-t,u=Math.floor(a/n),h=u*n;if(this._diffActions.style.top=`${h}px`,this._viewLineCounts){let r=0;for(let c=0;c<this._viewLineCounts.length;c++)if(r+=this._viewLineCounts[c],u<r)return c}return u}}e.InlineDiffDeletedCodeMargin=g}),define(ne[613],se([3,4]),function(Q,e){return Q.create("vs/editor/browser/widget/diffEditorWidget2/movedBlocksLines",e)}),define(ne[323],se([1,0,7,68,39,14,25,2,42,26,102,90,613]),function(Q,e,L,k,y,D,S,f,_,g,C,s,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.MovedBlocksLinesPart=void 0;class n extends f.Disposable{constructor(h,r,c,o,d){super(),this._rootElement=h,this._diffModel=r,this._originalEditorLayoutInfo=c,this._modifiedEditorLayoutInfo=o,this._editors=d,this._originalScrollTop=(0,_.observableFromEvent)(this._editors.original.onDidScrollChange,()=>this._editors.original.getScrollTop()),this._modifiedScrollTop=(0,_.observableFromEvent)(this._editors.modified.onDidScrollChange,()=>this._editors.modified.getScrollTop()),this._viewZonesChanged=(0,_.observableSignalFromEvent)("onDidChangeViewZones",this._editors.modified.onDidChangeViewZones),this.width=(0,_.observableValue)("width",0),this._modifiedViewZonesChangedSignal=(0,_.observableSignalFromEvent)("modified.onDidChangeViewZones",this._editors.modified.onDidChangeViewZones),this._originalViewZonesChangedSignal=(0,_.observableSignalFromEvent)("original.onDidChangeViewZones",this._editors.original.onDidChangeViewZones),this._state=(0,_.derivedWithStore)("state",(E,I)=>{var M;this._element.replaceChildren();const P=this._diffModel.read(E),x=(M=P?.diff.read(E))===null||M===void 0?void 0:M.movedTexts;if(!x||x.length===0){this.width.set(0,void 0);return}this._viewZonesChanged.read(E);const T=this._originalEditorLayoutInfo.read(E),A=this._modifiedEditorLayoutInfo.read(E);if(!T||!A){this.width.set(0,void 0);return}this._modifiedViewZonesChangedSignal.read(E),this._originalViewZonesChangedSignal.read(E);const N=x.map(K=>{function G(ae,ce){const de=ce.getTopForLineNumber(ae.startLineNumber,!0),he=ce.getTopForLineNumber(ae.endLineNumberExclusive,!0);return(de+he)/2}const Z=G(K.lineRangeMapping.original,this._editors.original),J=this._originalScrollTop.read(E),X=G(K.lineRangeMapping.modified,this._editors.modified),H=this._modifiedScrollTop.read(E),B=Z-J,V=X-H,Y=Math.min(Z,X),ie=Math.max(Z,X);return{range:new s.OffsetRange(Y,ie),from:B,to:V,fromWithoutScroll:Z,toWithoutScroll:X,move:K}});N.sort((0,D.tieBreakComparators)((0,D.compareBy)(K=>K.fromWithoutScroll>K.toWithoutScroll,D.booleanComparator),(0,D.compareBy)(K=>K.fromWithoutScroll>K.toWithoutScroll?K.fromWithoutScroll:-K.toWithoutScroll,D.numberComparator)));const F=t.compute(N.map(K=>K.range)),O=10,W=T.verticalScrollbarWidth,U=(F.getTrackCount()-1)*10+O*2,j=W+U+(A.contentLeft-n.movedCodeBlockPadding);let R=0;for(const K of N){const G=F.getTrack(R),Z=W+O+G*10,J=15,X=15,H=j,B=A.glyphMarginWidth+A.lineNumbersWidth,V=18,Y=document.createElementNS("http://www.w3.org/2000/svg","rect");Y.classList.add("arrow-rectangle"),Y.setAttribute("x",`${H-B}`),Y.setAttribute("y",`${K.to-V/2}`),Y.setAttribute("width",`${B}`),Y.setAttribute("height",`${V}`),this._element.appendChild(Y);const ie=document.createElementNS("http://www.w3.org/2000/svg","g"),ae=document.createElementNS("http://www.w3.org/2000/svg","path");ae.setAttribute("d",`M 0 ${K.from} L ${Z} ${K.from} L ${Z} ${K.to} L ${H-X} ${K.to}`),ae.setAttribute("fill","none"),ie.appendChild(ae);const ce=document.createElementNS("http://www.w3.org/2000/svg","polygon");ce.classList.add("arrow"),I.add((0,_.autorun)(de=>{ae.classList.toggle("currentMove",K.move===P.activeMovedText.read(de)),ce.classList.toggle("currentMove",K.move===P.activeMovedText.read(de))})),ce.setAttribute("points",`${H-X},${K.to-J/2} ${H},${K.to} ${H-X},${K.to+J/2}`),ie.appendChild(ce),this._element.appendChild(ie),R++}this.width.set(U,void 0)}),this._element=document.createElementNS("http://www.w3.org/2000/svg","svg"),this._element.setAttribute("class","moved-blocks-lines"),this._rootElement.appendChild(this._element),this._register((0,f.toDisposable)(()=>this._element.remove())),this._register((0,_.autorun)(E=>{const I=this._originalEditorLayoutInfo.read(E),M=this._modifiedEditorLayoutInfo.read(E);!I||!M||(this._element.style.left=`${I.width-I.verticalScrollbarWidth}px`,this._element.style.height=`${I.height}px`,this._element.style.width=`${I.verticalScrollbarWidth+I.contentLeft-n.movedCodeBlockPadding+this.width.read(E)}px`)})),this._register((0,_.keepAlive)(this._state,!0));const l=(0,_.derived)(E=>{const I=this._diffModel.read(E),M=I?.diff.read(E);return M?M.movedTexts.map(P=>({move:P,original:new C.PlaceholderViewZone((0,_.constObservable)(P.lineRangeMapping.original.startLineNumber-1),18),modified:new C.PlaceholderViewZone((0,_.constObservable)(P.lineRangeMapping.modified.startLineNumber-1),18)})):[]});this._register((0,C.applyViewZones)(this._editors.original,l.map(E=>E.map(I=>I.original)))),this._register((0,C.applyViewZones)(this._editors.modified,l.map(E=>E.map(I=>I.modified)))),this._register((0,_.autorunWithStore)((E,I)=>{const M=l.read(E);for(const P of M)I.add(new a(this._editors.original,P.original,P.move,"original",this._diffModel.get())),I.add(new a(this._editors.modified,P.modified,P.move,"modified",this._diffModel.get()))}));const p=(0,_.observableFromEvent)(this._editors.original.onDidChangeCursorPosition,()=>this._editors.original.getPosition()),m=(0,_.observableFromEvent)(this._editors.modified.onDidChangeCursorPosition,()=>this._editors.modified.getPosition()),v=(0,_.observableSignalFromEvent)("original.onDidFocusEditorWidget",E=>this._editors.original.onDidFocusEditorWidget(()=>setTimeout(()=>E(void 0),0))),b=(0,_.observableSignalFromEvent)("modified.onDidFocusEditorWidget",E=>this._editors.modified.onDidFocusEditorWidget(()=>setTimeout(()=>E(void 0),0)));let w="modified";this._register((0,_.autorunHandleChanges)({createEmptyChangeSummary:()=>{},handleChange:(E,I)=>(E.didChange(v)&&(w="original"),E.didChange(b)&&(w="modified"),!0)},E=>{v.read(E),b.read(E);const I=this._diffModel.read(E);if(!I)return;const M=I.diff.read(E);let P;if(M&&w==="original"){const x=p.read(E);x&&(P=M.movedTexts.find(T=>T.lineRangeMapping.original.contains(x.lineNumber)))}if(M&&w==="modified"){const x=m.read(E);x&&(P=M.movedTexts.find(T=>T.lineRangeMapping.modified.contains(x.lineNumber)))}P!==I.movedTextToCompare.get()&&I.movedTextToCompare.set(void 0,void 0),I.setActiveMovedText(P)}))}}e.MovedBlocksLinesPart=n,n.movedCodeBlockPadding=4;class t{static compute(h){const r=[],c=[];for(const o of h){let d=r.findIndex(l=>!l.intersectsStrict(o));d===-1&&(r.length>=6?d=(0,D.findMaxIdxBy)(r,(0,D.compareBy)(p=>p.intersectWithRangeLength(o),D.numberComparator)):(d=r.length,r.push(new s.OffsetRangeSet))),r[d].addRange(o),c.push(d)}return new t(r.length,c)}constructor(h,r){this._trackCount=h,this.trackPerLineIdx=r}getTrack(h){return this.trackPerLineIdx[h]}getTrackCount(){return this._trackCount}}class a extends C.ViewZoneOverlayWidget{constructor(h,r,c,o,d){const l=(0,L.h)("div.diff-hidden-lines-widget");super(h,r,l.root),this._editor=h,this._move=c,this._kind=o,this._diffModel=d,this._nodes=(0,L.h)("div.diff-moved-code-block",{style:{marginRight:"4px"}},[(0,L.h)("div.text-content@textContent"),(0,L.h)("div.action-bar@actionBar")]),l.root.appendChild(this._nodes.root);const p=(0,_.observableFromEvent)(this._editor.onDidLayoutChange,()=>this._editor.getLayoutInfo());this._register((0,C.applyStyle)(this._nodes.root,{paddingRight:p.map(E=>E.verticalScrollbarWidth)}));let m;c.changes.length>0?m=this._kind==="original"?(0,i.localize)(0,null,this._move.lineRangeMapping.modified.startLineNumber,this._move.lineRangeMapping.modified.endLineNumberExclusive):(0,i.localize)(1,null,this._move.lineRangeMapping.original.startLineNumber,this._move.lineRangeMapping.original.endLineNumberExclusive):m=this._kind==="original"?(0,i.localize)(2,null,this._move.lineRangeMapping.modified.startLineNumber,this._move.lineRangeMapping.modified.endLineNumberExclusive):(0,i.localize)(3,null,this._move.lineRangeMapping.original.startLineNumber,this._move.lineRangeMapping.original.endLineNumberExclusive);const v=this._register(new k.ActionBar(this._nodes.actionBar,{highlightToggledItems:!0})),b=new y.Action("",m,"",!1);v.push(b,{icon:!1,label:!0});const w=new y.Action("","Compare",g.ThemeIcon.asClassName(S.Codicon.compareChanges),!0,()=>{this._editor.focus(),this._diffModel.movedTextToCompare.set(this._diffModel.movedTextToCompare.get()===c?void 0:this._move,void 0)});this._register((0,_.autorun)(E=>{const I=this._diffModel.movedTextToCompare.read(E)===c;w.checked=I})),v.push(w,{icon:!1,label:!0})}}}),define(ne[614],se([3,4]),function(Q,e){return Q.create("vs/editor/browser/widget/diffEditorWidget2/unchangedRanges",e)}),define(ne[615],se([3,4]),function(Q,e){return Q.create("vs/editor/browser/widget/diffReview",e)}),define(ne[616],se([3,4]),function(Q,e){return Q.create("vs/editor/browser/widget/inlineDiffMargin",e)}),define(ne[617],se([1,0,616,7,39,2,5,25,26,17]),function(Q,e,L,k,y,D,S,f,_,g){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.InlineDiffMargin=void 0;class C extends D.Disposable{get visibility(){return this._visibility}set visibility(i){this._visibility!==i&&(this._visibility=i,i?this._diffActions.style.visibility="visible":this._diffActions.style.visibility="hidden")}constructor(i,n,t,a,u,h){super(),this._viewZoneId=i,this._marginDomNode=n,this.editor=t,this.diff=a,this._contextMenuService=u,this._clipboardService=h,this._visibility=!1,this._marginDomNode.style.zIndex="10",this._diffActions=document.createElement("div"),this._diffActions.className=_.ThemeIcon.asClassName(f.Codicon.lightBulb)+" lightbulb-glyph",this._diffActions.style.position="absolute";const r=t.getOption(65),c=t.getModel().getEOL();this._diffActions.style.right="0px",this._diffActions.style.visibility="hidden",this._diffActions.style.height=`${r}px`,this._diffActions.style.lineHeight=`${r}px`,this._marginDomNode.appendChild(this._diffActions);const o=[],d=a.modifiedEndLineNumber===0;o.push(new y.Action("diff.clipboard.copyDeletedContent",d?a.originalEndLineNumber>a.modifiedStartLineNumber?L.localize(0,null):L.localize(1,null):a.originalEndLineNumber>a.modifiedStartLineNumber?L.localize(2,null):L.localize(3,null),void 0,!0,()=>we(this,void 0,void 0,function*(){const w=new S.Range(a.originalStartLineNumber,1,a.originalEndLineNumber+1,1),E=a.originalModel.getValueInRange(w);yield this._clipboardService.writeText(E)})));let l=0,p;a.originalEndLineNumber>a.modifiedStartLineNumber&&(p=new y.Action("diff.clipboard.copyDeletedLineContent",d?L.localize(4,null,a.originalStartLineNumber):L.localize(5,null,a.originalStartLineNumber),void 0,!0,()=>we(this,void 0,void 0,function*(){const w=a.originalModel.getLineContent(a.originalStartLineNumber+l);if(w===""){const E=a.originalModel.getEndOfLineSequence();yield this._clipboardService.writeText(E===0?`
`:`\r
`)}else yield this._clipboardService.writeText(w)})),o.push(p)),t.getOption(89)||o.push(new y.Action("diff.inline.revertChange",L.localize(6,null),void 0,!0,()=>we(this,void 0,void 0,function*(){const w=new S.Range(a.originalStartLineNumber,1,a.originalEndLineNumber,a.originalModel.getLineMaxColumn(a.originalEndLineNumber)),E=a.originalModel.getValueInRange(w);if(a.modifiedEndLineNumber===0){const I=t.getModel().getLineMaxColumn(a.modifiedStartLineNumber);t.executeEdits("diffEditor",[{range:new S.Range(a.modifiedStartLineNumber,I,a.modifiedStartLineNumber,I),text:c+E}])}else{const I=t.getModel().getLineMaxColumn(a.modifiedEndLineNumber);t.executeEdits("diffEditor",[{range:new S.Range(a.modifiedStartLineNumber,1,a.modifiedEndLineNumber,I),text:E}])}})));const v=t.getOption(125)&&!g.isIOS,b=(w,E)=>{var I;this._contextMenuService.showContextMenu({domForShadowRoot:v&&(I=t.getDomNode())!==null&&I!==void 0?I:void 0,getAnchor:()=>({x:w,y:E}),getActions:()=>(p&&(p.label=d?L.localize(7,null,a.originalStartLineNumber+l):L.localize(8,null,a.originalStartLineNumber+l)),o),autoSelectFirstItem:!0})};this._register(k.addStandardDisposableListener(this._diffActions,"mousedown",w=>{const{top:E,height:I}=k.getDomNodePagePosition(this._diffActions),M=Math.floor(r/3);w.preventDefault(),b(w.posx,E+I+M)})),this._register(t.onMouseMove(w=>{w.target.type===8||w.target.type===5?w.target.detail.viewZoneId===this._viewZoneId?(this.visibility=!0,l=this._updateLightBulbPosition(this._marginDomNode,w.event.browserEvent.y,r)):this.visibility=!1:this.visibility=!1})),this._register(t.onMouseDown(w=>{w.event.rightButton&&(w.target.type===8||w.target.type===5)&&w.target.detail.viewZoneId===this._viewZoneId&&(w.event.preventDefault(),l=this._updateLightBulbPosition(this._marginDomNode,w.event.browserEvent.y,r),b(w.event.posx,w.event.posy+r))}))}_updateLightBulbPosition(i,n,t){const{top:a}=k.getDomNodePagePosition(i),u=n-a,h=Math.floor(u/t),r=h*t;if(this._diffActions.style.top=`${r}px`,this.diff.viewLineCounts){let c=0;for(let o=0;o<this.diff.viewLineCounts.length;o++)if(c+=this.diff.viewLineCounts[o],h<c)return o}return h}}e.InlineDiffMargin=C}),define(ne[618],se([3,4]),function(Q,e){return Q.create("vs/editor/common/config/editorConfigurationSchema",e)}),define(ne[619],se([3,4]),function(Q,e){return Q.create("vs/editor/common/config/editorOptions",e)}),define(ne[36],se([1,0,14,47,17,175,147,619]),function(Q,e,L,k,y,D,S,f){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.EditorOptions=e.editorOptionsRegistry=e.EDITOR_FONT_DEFAULTS=e.unicodeHighlightConfigKeys=e.inUntrustedWorkspace=e.filterValidationDecorations=e.EditorLayoutInfoComputer=e.EditorFontVariations=e.EditorFontLigatures=e.TextEditorCursorStyle=e.stringSet=e.clampedFloat=e.clampedInt=e.boolean=e.ApplyUpdateResult=e.ComputeOptionsMemory=e.ConfigurationChangedEvent=e.MINIMAP_GUTTER_WIDTH=void 0,e.MINIMAP_GUTTER_WIDTH=8;class _{constructor(le){this._values=le}hasChanged(le){return this._values[le]}}e.ConfigurationChangedEvent=_;class g{constructor(){this.stableMinimapLayoutInput=null,this.stableFitMaxMinimapScale=0,this.stableFitRemainingWidth=0}}e.ComputeOptionsMemory=g;class C{constructor(le,pe,Ce,be){this.id=le,this.name=pe,this.defaultValue=Ce,this.schema=be}applyUpdate(le,pe){return i(le,pe)}compute(le,pe,Ce){return Ce}}class s{constructor(le,pe){this.newValue=le,this.didChange=pe}}e.ApplyUpdateResult=s;function i(me,le){if(typeof me!="object"||typeof le!="object"||!me||!le)return new s(le,me!==le);if(Array.isArray(me)||Array.isArray(le)){const Ce=Array.isArray(me)&&Array.isArray(le)&&L.equals(me,le);return new s(le,!Ce)}let pe=!1;for(const Ce in le)if(le.hasOwnProperty(Ce)){const be=i(me[Ce],le[Ce]);be.didChange&&(me[Ce]=be.newValue,pe=!0)}return new s(me,pe)}class n{constructor(le){this.schema=void 0,this.id=le,this.name="_never_",this.defaultValue=void 0}applyUpdate(le,pe){return i(le,pe)}validate(le){return this.defaultValue}}class t{constructor(le,pe,Ce,be){this.id=le,this.name=pe,this.defaultValue=Ce,this.schema=be}applyUpdate(le,pe){return i(le,pe)}validate(le){return typeof le>"u"?this.defaultValue:le}compute(le,pe,Ce){return Ce}}function a(me,le){return typeof me>"u"?le:me==="false"?!1:!!me}e.boolean=a;class u extends t{constructor(le,pe,Ce,be=void 0){typeof be<"u"&&(be.type="boolean",be.default=Ce),super(le,pe,Ce,be)}validate(le){return a(le,this.defaultValue)}}function h(me,le,pe,Ce){if(typeof me>"u")return le;let be=parseInt(me,10);return isNaN(be)?le:(be=Math.max(pe,be),be=Math.min(Ce,be),be|0)}e.clampedInt=h;class r extends t{static clampedInt(le,pe,Ce,be){return h(le,pe,Ce,be)}constructor(le,pe,Ce,be,Ie,Ne=void 0){typeof Ne<"u"&&(Ne.type="integer",Ne.default=Ce,Ne.minimum=be,Ne.maximum=Ie),super(le,pe,Ce,Ne),this.minimum=be,this.maximum=Ie}validate(le){return r.clampedInt(le,this.defaultValue,this.minimum,this.maximum)}}function c(me,le,pe,Ce){if(typeof me>"u")return le;const be=o.float(me,le);return o.clamp(be,pe,Ce)}e.clampedFloat=c;class o extends t{static clamp(le,pe,Ce){return le<pe?pe:le>Ce?Ce:le}static float(le,pe){if(typeof le=="number")return le;if(typeof le>"u")return pe;const Ce=parseFloat(le);return isNaN(Ce)?pe:Ce}constructor(le,pe,Ce,be,Ie){typeof Ie<"u"&&(Ie.type="number",Ie.default=Ce),super(le,pe,Ce,Ie),this.validationFn=be}validate(le){return this.validationFn(o.float(le,this.defaultValue))}}class d extends t{static string(le,pe){return typeof le!="string"?pe:le}constructor(le,pe,Ce,be=void 0){typeof be<"u"&&(be.type="string",be.default=Ce),super(le,pe,Ce,be)}validate(le){return d.string(le,this.defaultValue)}}function l(me,le,pe,Ce){return typeof me!="string"?le:Ce&&me in Ce?Ce[me]:pe.indexOf(me)===-1?le:me}e.stringSet=l;class p extends t{constructor(le,pe,Ce,be,Ie=void 0){typeof Ie<"u"&&(Ie.type="string",Ie.enum=be,Ie.default=Ce),super(le,pe,Ce,Ie),this._allowedValues=be}validate(le){return l(le,this.defaultValue,this._allowedValues)}}class m extends C{constructor(le,pe,Ce,be,Ie,Ne,Re=void 0){typeof Re<"u"&&(Re.type="string",Re.enum=Ie,Re.default=be),super(le,pe,Ce,Re),this._allowedValues=Ie,this._convert=Ne}validate(le){return typeof le!="string"?this.defaultValue:this._allowedValues.indexOf(le)===-1?this.defaultValue:this._convert(le)}}function v(me){switch(me){case"none":return 0;case"keep":return 1;case"brackets":return 2;case"advanced":return 3;case"full":return 4}}class b extends C{constructor(){super(2,"accessibilitySupport",0,{type:"string",enum:["auto","on","off"],enumDescriptions:[f.localize(0,null),f.localize(1,null),f.localize(2,null)],default:"auto",tags:["accessibility"],description:f.localize(3,null)})}validate(le){switch(le){case"auto":return 0;case"off":return 1;case"on":return 2}return this.defaultValue}compute(le,pe,Ce){return Ce===0?le.accessibilitySupport:Ce}}class w extends C{constructor(){const le={insertSpace:!0,ignoreEmptyLines:!0};super(22,"comments",le,{"editor.comments.insertSpace":{type:"boolean",default:le.insertSpace,description:f.localize(4,null)},"editor.comments.ignoreEmptyLines":{type:"boolean",default:le.ignoreEmptyLines,description:f.localize(5,null)}})}validate(le){if(!le||typeof le!="object")return this.defaultValue;const pe=le;return{insertSpace:a(pe.insertSpace,this.defaultValue.insertSpace),ignoreEmptyLines:a(pe.ignoreEmptyLines,this.defaultValue.ignoreEmptyLines)}}}function E(me){switch(me){case"blink":return 1;case"smooth":return 2;case"phase":return 3;case"expand":return 4;case"solid":return 5}}var I;(function(me){me[me.Line=1]="Line",me[me.Block=2]="Block",me[me.Underline=3]="Underline",me[me.LineThin=4]="LineThin",me[me.BlockOutline=5]="BlockOutline",me[me.UnderlineThin=6]="UnderlineThin"})(I||(e.TextEditorCursorStyle=I={}));function M(me){switch(me){case"line":return I.Line;case"block":return I.Block;case"underline":return I.Underline;case"line-thin":return I.LineThin;case"block-outline":return I.BlockOutline;case"underline-thin":return I.UnderlineThin}}class P extends n{constructor(){super(139)}compute(le,pe,Ce){const be=["monaco-editor"];return pe.get(38)&&be.push(pe.get(38)),le.extraEditorClassName&&be.push(le.extraEditorClassName),pe.get(72)==="default"?be.push("mouse-default"):pe.get(72)==="copy"&&be.push("mouse-copy"),pe.get(109)&&be.push("showUnused"),pe.get(137)&&be.push("showDeprecated"),be.join(" ")}}class x extends u{constructor(){super(36,"emptySelectionClipboard",!0,{description:f.localize(6,null)})}compute(le,pe,Ce){return Ce&&le.emptySelectionClipboard}}class T extends C{constructor(){const le={cursorMoveOnType:!0,seedSearchStringFromSelection:"always",autoFindInSelection:"never",globalFindClipboard:!1,addExtraSpaceOnTop:!0,loop:!0};super(40,"find",le,{"editor.find.cursorMoveOnType":{type:"boolean",default:le.cursorMoveOnType,description:f.localize(7,null)},"editor.find.seedSearchStringFromSelection":{type:"string",enum:["never","always","selection"],default:le.seedSearchStringFromSelection,enumDescriptions:[f.localize(8,null),f.localize(9,null),f.localize(10,null)],description:f.localize(11,null)},"editor.find.autoFindInSelection":{type:"string",enum:["never","always","multiline"],default:le.autoFindInSelection,enumDescriptions:[f.localize(12,null),f.localize(13,null),f.localize(14,null)],description:f.localize(15,null)},"editor.find.globalFindClipboard":{type:"boolean",default:le.globalFindClipboard,description:f.localize(16,null),included:y.isMacintosh},"editor.find.addExtraSpaceOnTop":{type:"boolean",default:le.addExtraSpaceOnTop,description:f.localize(17,null)},"editor.find.loop":{type:"boolean",default:le.loop,description:f.localize(18,null)}})}validate(le){if(!le||typeof le!="object")return this.defaultValue;const pe=le;return{cursorMoveOnType:a(pe.cursorMoveOnType,this.defaultValue.cursorMoveOnType),seedSearchStringFromSelection:typeof le.seedSearchStringFromSelection=="boolean"?le.seedSearchStringFromSelection?"always":"never":l(pe.seedSearchStringFromSelection,this.defaultValue.seedSearchStringFromSelection,["never","always","selection"]),autoFindInSelection:typeof le.autoFindInSelection=="boolean"?le.autoFindInSelection?"always":"never":l(pe.autoFindInSelection,this.defaultValue.autoFindInSelection,["never","always","multiline"]),globalFindClipboard:a(pe.globalFindClipboard,this.defaultValue.globalFindClipboard),addExtraSpaceOnTop:a(pe.addExtraSpaceOnTop,this.defaultValue.addExtraSpaceOnTop),loop:a(pe.loop,this.defaultValue.loop)}}}class A extends C{constructor(){super(50,"fontLigatures",A.OFF,{anyOf:[{type:"boolean",description:f.localize(19,null)},{type:"string",description:f.localize(20,null)}],description:f.localize(21,null),default:!1})}validate(le){return typeof le>"u"?this.defaultValue:typeof le=="string"?le==="false"?A.OFF:le==="true"?A.ON:le:le?A.ON:A.OFF}}e.EditorFontLigatures=A,A.OFF='"liga" off, "calt" off',A.ON='"liga" on, "calt" on';class N extends C{constructor(){super(53,"fontVariations",N.OFF,{anyOf:[{type:"boolean",description:f.localize(22,null)},{type:"string",description:f.localize(23,null)}],description:f.localize(24,null),default:!1})}validate(le){return typeof le>"u"?this.defaultValue:typeof le=="string"?le==="false"?N.OFF:le==="true"?N.TRANSLATE:le:le?N.TRANSLATE:N.OFF}compute(le,pe,Ce){return le.fontInfo.fontVariationSettings}}e.EditorFontVariations=N,N.OFF="normal",N.TRANSLATE="translate";class F extends n{constructor(){super(49)}compute(le,pe,Ce){return le.fontInfo}}class O extends t{constructor(){super(51,"fontSize",e.EDITOR_FONT_DEFAULTS.fontSize,{type:"number",minimum:6,maximum:100,default:e.EDITOR_FONT_DEFAULTS.fontSize,description:f.localize(25,null)})}validate(le){const pe=o.float(le,this.defaultValue);return pe===0?e.EDITOR_FONT_DEFAULTS.fontSize:o.clamp(pe,6,100)}compute(le,pe,Ce){return le.fontInfo.fontSize}}class W extends C{constructor(){super(52,"fontWeight",e.EDITOR_FONT_DEFAULTS.fontWeight,{anyOf:[{type:"number",minimum:W.MINIMUM_VALUE,maximum:W.MAXIMUM_VALUE,errorMessage:f.localize(26,null)},{type:"string",pattern:"^(normal|bold|1000|[1-9][0-9]{0,2})$"},{enum:W.SUGGESTION_VALUES}],default:e.EDITOR_FONT_DEFAULTS.fontWeight,description:f.localize(27,null)})}validate(le){return le==="normal"||le==="bold"?le:String(r.clampedInt(le,e.EDITOR_FONT_DEFAULTS.fontWeight,W.MINIMUM_VALUE,W.MAXIMUM_VALUE))}}W.SUGGESTION_VALUES=["normal","bold","100","200","300","400","500","600","700","800","900"],W.MINIMUM_VALUE=1,W.MAXIMUM_VALUE=1e3;class U extends C{constructor(){const le={multiple:"peek",multipleDefinitions:"peek",multipleTypeDefinitions:"peek",multipleDeclarations:"peek",multipleImplementations:"peek",multipleReferences:"peek",alternativeDefinitionCommand:"editor.action.goToReferences",alternativeTypeDefinitionCommand:"editor.action.goToReferences",alternativeDeclarationCommand:"editor.action.goToReferences",alternativeImplementationCommand:"",alternativeReferenceCommand:""},pe={type:"string",enum:["peek","gotoAndPeek","goto"],default:le.multiple,enumDescriptions:[f.localize(28,null),f.localize(29,null),f.localize(30,null)]},Ce=["","editor.action.referenceSearch.trigger","editor.action.goToReferences","editor.action.peekImplementation","editor.action.goToImplementation","editor.action.peekTypeDefinition","editor.action.goToTypeDefinition","editor.action.peekDeclaration","editor.action.revealDeclaration","editor.action.peekDefinition","editor.action.revealDefinitionAside","editor.action.revealDefinition"];super(57,"gotoLocation",le,{"editor.gotoLocation.multiple":{deprecationMessage:f.localize(31,null)},"editor.gotoLocation.multipleDefinitions":Object.assign({description:f.localize(32,null)},pe),"editor.gotoLocation.multipleTypeDefinitions":Object.assign({description:f.localize(33,null)},pe),"editor.gotoLocation.multipleDeclarations":Object.assign({description:f.localize(34,null)},pe),"editor.gotoLocation.multipleImplementations":Object.assign({description:f.localize(35,null)},pe),"editor.gotoLocation.multipleReferences":Object.assign({description:f.localize(36,null)},pe),"editor.gotoLocation.alternativeDefinitionCommand":{type:"string",default:le.alternativeDefinitionCommand,enum:Ce,description:f.localize(37,null)},"editor.gotoLocation.alternativeTypeDefinitionCommand":{type:"string",default:le.alternativeTypeDefinitionCommand,enum:Ce,description:f.localize(38,null)},"editor.gotoLocation.alternativeDeclarationCommand":{type:"string",default:le.alternativeDeclarationCommand,enum:Ce,description:f.localize(39,null)},"editor.gotoLocation.alternativeImplementationCommand":{type:"string",default:le.alternativeImplementationCommand,enum:Ce,description:f.localize(40,null)},"editor.gotoLocation.alternativeReferenceCommand":{type:"string",default:le.alternativeReferenceCommand,enum:Ce,description:f.localize(41,null)}})}validate(le){var pe,Ce,be,Ie,Ne;if(!le||typeof le!="object")return this.defaultValue;const Re=le;return{multiple:l(Re.multiple,this.defaultValue.multiple,["peek","gotoAndPeek","goto"]),multipleDefinitions:(pe=Re.multipleDefinitions)!==null&&pe!==void 0?pe:l(Re.multipleDefinitions,"peek",["peek","gotoAndPeek","goto"]),multipleTypeDefinitions:(Ce=Re.multipleTypeDefinitions)!==null&&Ce!==void 0?Ce:l(Re.multipleTypeDefinitions,"peek",["peek","gotoAndPeek","goto"]),multipleDeclarations:(be=Re.multipleDeclarations)!==null&&be!==void 0?be:l(Re.multipleDeclarations,"peek",["peek","gotoAndPeek","goto"]),multipleImplementations:(Ie=Re.multipleImplementations)!==null&&Ie!==void 0?Ie:l(Re.multipleImplementations,"peek",["peek","gotoAndPeek","goto"]),multipleReferences:(Ne=Re.multipleReferences)!==null&&Ne!==void 0?Ne:l(Re.multipleReferences,"peek",["peek","gotoAndPeek","goto"]),alternativeDefinitionCommand:d.string(Re.alternativeDefinitionCommand,this.defaultValue.alternativeDefinitionCommand),alternativeTypeDefinitionCommand:d.string(Re.alternativeTypeDefinitionCommand,this.defaultValue.alternativeTypeDefinitionCommand),alternativeDeclarationCommand:d.string(Re.alternativeDeclarationCommand,this.defaultValue.alternativeDeclarationCommand),alternativeImplementationCommand:d.string(Re.alternativeImplementationCommand,this.defaultValue.alternativeImplementationCommand),alternativeReferenceCommand:d.string(Re.alternativeReferenceCommand,this.defaultValue.alternativeReferenceCommand)}}}class j extends C{constructor(){const le={enabled:!0,delay:300,sticky:!0,above:!0};super(59,"hover",le,{"editor.hover.enabled":{type:"boolean",default:le.enabled,description:f.localize(42,null)},"editor.hover.delay":{type:"number",default:le.delay,minimum:0,maximum:1e4,description:f.localize(43,null)},"editor.hover.sticky":{type:"boolean",default:le.sticky,description:f.localize(44,null)},"editor.hover.above":{type:"boolean",default:le.above,description:f.localize(45,null)}})}validate(le){if(!le||typeof le!="object")return this.defaultValue;const pe=le;return{enabled:a(pe.enabled,this.defaultValue.enabled),delay:r.clampedInt(pe.delay,this.defaultValue.delay,0,1e4),sticky:a(pe.sticky,this.defaultValue.sticky),above:a(pe.above,this.defaultValue.above)}}}class R extends n{constructor(){super(142)}compute(le,pe,Ce){return R.computeLayout(pe,{memory:le.memory,outerWidth:le.outerWidth,outerHeight:le.outerHeight,isDominatedByLongLines:le.isDominatedByLongLines,lineHeight:le.fontInfo.lineHeight,viewLineCount:le.viewLineCount,lineNumbersDigitCount:le.lineNumbersDigitCount,typicalHalfwidthCharacterWidth:le.fontInfo.typicalHalfwidthCharacterWidth,maxDigitWidth:le.fontInfo.maxDigitWidth,pixelRatio:le.pixelRatio,glyphMarginDecorationLaneCount:le.glyphMarginDecorationLaneCount})}static computeContainedMinimapLineCount(le){const pe=le.height/le.lineHeight,Ce=Math.floor(le.paddingTop/le.lineHeight);let be=Math.floor(le.paddingBottom/le.lineHeight);le.scrollBeyondLastLine&&(be=Math.max(be,pe-1));const Ie=(Ce+le.viewLineCount+be)/(le.pixelRatio*le.height),Ne=Math.floor(le.viewLineCount/Ie);return{typicalViewportLineCount:pe,extraLinesBeforeFirstLine:Ce,extraLinesBeyondLastLine:be,desiredRatio:Ie,minimapLineCount:Ne}}static _computeMinimapLayout(le,pe){const Ce=le.outerWidth,be=le.outerHeight,Ie=le.pixelRatio;if(!le.minimap.enabled)return{renderMinimap:0,minimapLeft:0,minimapWidth:0,minimapHeightIsEditorHeight:!1,minimapIsSampling:!1,minimapScale:1,minimapLineHeight:1,minimapCanvasInnerWidth:0,minimapCanvasInnerHeight:Math.floor(Ie*be),minimapCanvasOuterWidth:0,minimapCanvasOuterHeight:be};const Ne=pe.stableMinimapLayoutInput,Re=Ne&&le.outerHeight===Ne.outerHeight&&le.lineHeight===Ne.lineHeight&&le.typicalHalfwidthCharacterWidth===Ne.typicalHalfwidthCharacterWidth&&le.pixelRatio===Ne.pixelRatio&&le.scrollBeyondLastLine===Ne.scrollBeyondLastLine&&le.paddingTop===Ne.paddingTop&&le.paddingBottom===Ne.paddingBottom&&le.minimap.enabled===Ne.minimap.enabled&&le.minimap.side===Ne.minimap.side&&le.minimap.size===Ne.minimap.size&&le.minimap.showSlider===Ne.minimap.showSlider&&le.minimap.renderCharacters===Ne.minimap.renderCharacters&&le.minimap.maxColumn===Ne.minimap.maxColumn&&le.minimap.scale===Ne.minimap.scale&&le.verticalScrollbarWidth===Ne.verticalScrollbarWidth&&le.isViewportWrapping===Ne.isViewportWrapping,Ve=le.lineHeight,ze=le.typicalHalfwidthCharacterWidth,We=le.scrollBeyondLastLine,qe=le.minimap.renderCharacters;let Oe=Ie>=2?Math.round(le.minimap.scale*2):le.minimap.scale;const Ge=le.minimap.maxColumn,Qe=le.minimap.size,st=le.minimap.side,nt=le.verticalScrollbarWidth,ot=le.viewLineCount,ct=le.remainingWidth,lt=le.isViewportWrapping,gt=qe?2:3;let at=Math.floor(Ie*be);const ht=at/Ie;let Be=!1,Te=!1,xe=gt*Oe,He=Oe/Ie,Ye=1;if(Qe==="fill"||Qe==="fit"){const{typicalViewportLineCount:$e,extraLinesBeforeFirstLine:et,extraLinesBeyondLastLine:tt,desiredRatio:ut,minimapLineCount:it}=R.computeContainedMinimapLineCount({viewLineCount:ot,scrollBeyondLastLine:We,paddingTop:le.paddingTop,paddingBottom:le.paddingBottom,height:be,lineHeight:Ve,pixelRatio:Ie});if(ot/it>1)Be=!0,Te=!0,Oe=1,xe=1,He=Oe/Ie;else{let dt=!1,ft=Oe+1;if(Qe==="fit"){const St=Math.ceil((et+ot+tt)*xe);lt&&Re&&ct<=pe.stableFitRemainingWidth?(dt=!0,ft=pe.stableFitMaxMinimapScale):dt=St>at}if(Qe==="fill"||dt){Be=!0;const St=Oe;xe=Math.min(Ve*Ie,Math.max(1,Math.floor(1/ut))),lt&&Re&&ct<=pe.stableFitRemainingWidth&&(ft=pe.stableFitMaxMinimapScale),Oe=Math.min(ft,Math.max(1,Math.floor(xe/gt))),Oe>St&&(Ye=Math.min(2,Oe/St)),He=Oe/Ie/Ye,at=Math.ceil(Math.max($e,et+ot+tt)*xe),lt?(pe.stableMinimapLayoutInput=le,pe.stableFitRemainingWidth=ct,pe.stableFitMaxMinimapScale=Oe):(pe.stableMinimapLayoutInput=null,pe.stableFitRemainingWidth=0)}}}const Ze=Math.floor(Ge*He),Xe=Math.min(Ze,Math.max(0,Math.floor((ct-nt-2)*He/(ze+He)))+e.MINIMAP_GUTTER_WIDTH);let je=Math.floor(Ie*Xe);const Ae=je/Ie;je=Math.floor(je*Ye);const Ue=qe?1:2,Ke=st==="left"?0:Ce-Xe-nt;return{renderMinimap:Ue,minimapLeft:Ke,minimapWidth:Xe,minimapHeightIsEditorHeight:Be,minimapIsSampling:Te,minimapScale:Oe,minimapLineHeight:xe,minimapCanvasInnerWidth:je,minimapCanvasInnerHeight:at,minimapCanvasOuterWidth:Ae,minimapCanvasOuterHeight:ht}}static computeLayout(le,pe){const Ce=pe.outerWidth|0,be=pe.outerHeight|0,Ie=pe.lineHeight|0,Ne=pe.lineNumbersDigitCount|0,Re=pe.typicalHalfwidthCharacterWidth,Ve=pe.maxDigitWidth,ze=pe.pixelRatio,We=pe.viewLineCount,qe=le.get(134),Oe=qe==="inherit"?le.get(133):qe,Ge=Oe==="inherit"?le.get(129):Oe,Qe=le.get(132),st=pe.isDominatedByLongLines,nt=le.get(56),ot=le.get(66).renderType!==0,ct=le.get(67),lt=le.get(103),gt=le.get(82),at=le.get(71),ht=le.get(101),Be=ht.verticalScrollbarSize,Te=ht.verticalHasArrows,xe=ht.arrowSize,He=ht.horizontalScrollbarSize,Ye=le.get(42),Ze=le.get(108)!=="never";let Xe=le.get(64);Ye&&Ze&&(Xe+=16);let je=0;if(ot){const wt=Math.max(Ne,ct);je=Math.round(wt*Ve)}let Ae=0;nt&&(Ae=Ie*pe.glyphMarginDecorationLaneCount);let Ue=0,Ke=Ue+Ae,$e=Ke+je,et=$e+Xe;const tt=Ce-Ae-je-Xe;let ut=!1,it=!1,rt=-1;Oe==="inherit"&&st?(ut=!0,it=!0):Ge==="on"||Ge==="bounded"?it=!0:Ge==="wordWrapColumn"&&(rt=Qe);const dt=R._computeMinimapLayout({outerWidth:Ce,outerHeight:be,lineHeight:Ie,typicalHalfwidthCharacterWidth:Re,pixelRatio:ze,scrollBeyondLastLine:lt,paddingTop:gt.top,paddingBottom:gt.bottom,minimap:at,verticalScrollbarWidth:Be,viewLineCount:We,remainingWidth:tt,isViewportWrapping:it},pe.memory||new g);dt.renderMinimap!==0&&dt.minimapLeft===0&&(Ue+=dt.minimapWidth,Ke+=dt.minimapWidth,$e+=dt.minimapWidth,et+=dt.minimapWidth);const ft=tt-dt.minimapWidth,St=Math.max(1,Math.floor((ft-Be-2)/Re)),mt=Te?xe:0;return it&&(rt=Math.max(1,St),Ge==="bounded"&&(rt=Math.min(rt,Qe))),{width:Ce,height:be,glyphMarginLeft:Ue,glyphMarginWidth:Ae,glyphMarginDecorationLaneCount:pe.glyphMarginDecorationLaneCount,lineNumbersLeft:Ke,lineNumbersWidth:je,decorationsLeft:$e,decorationsWidth:Xe,contentLeft:et,contentWidth:ft,minimap:dt,viewportColumn:St,isWordWrapMinified:ut,isViewportWrapping:it,wrappingColumn:rt,verticalScrollbarWidth:Be,horizontalScrollbarHeight:He,overviewRuler:{top:mt,width:Be,height:be-2*mt,right:0}}}}e.EditorLayoutInfoComputer=R;class K extends C{constructor(){super(136,"wrappingStrategy","simple",{"editor.wrappingStrategy":{enumDescriptions:[f.localize(46,null),f.localize(47,null)],type:"string",enum:["simple","advanced"],default:"simple",description:f.localize(48,null)}})}validate(le){return l(le,"simple",["simple","advanced"])}compute(le,pe,Ce){return pe.get(2)===2?"advanced":Ce}}class G extends C{constructor(){const le={enabled:!0};super(63,"lightbulb",le,{"editor.lightbulb.enabled":{type:"boolean",default:le.enabled,description:f.localize(49,null)}})}validate(le){return!le||typeof le!="object"?this.defaultValue:{enabled:a(le.enabled,this.defaultValue.enabled)}}}class Z extends C{constructor(){const le={enabled:!1,maxLineCount:5,defaultModel:"outlineModel",scrollWithEditor:!0};super(113,"stickyScroll",le,{"editor.stickyScroll.enabled":{type:"boolean",default:le.enabled,description:f.localize(50,null)},"editor.stickyScroll.maxLineCount":{type:"number",default:le.maxLineCount,minimum:1,maximum:10,description:f.localize(51,null)},"editor.stickyScroll.defaultModel":{type:"string",enum:["outlineModel","foldingProviderModel","indentationModel"],default:le.defaultModel,description:f.localize(52,null)},"editor.stickyScroll.scrollWithEditor":{type:"boolean",default:le.scrollWithEditor,description:f.localize(53,null)}})}validate(le){if(!le||typeof le!="object")return this.defaultValue;const pe=le;return{enabled:a(pe.enabled,this.defaultValue.enabled),maxLineCount:r.clampedInt(pe.maxLineCount,this.defaultValue.maxLineCount,1,10),defaultModel:l(pe.defaultModel,this.defaultValue.defaultModel,["outlineModel","foldingProviderModel","indentationModel"]),scrollWithEditor:a(pe.scrollWithEditor,this.defaultValue.scrollWithEditor)}}}class J extends C{constructor(){const le={enabled:"on",fontSize:0,fontFamily:"",padding:!1};super(138,"inlayHints",le,{"editor.inlayHints.enabled":{type:"string",default:le.enabled,description:f.localize(54,null),enum:["on","onUnlessPressed","offUnlessPressed","off"],markdownEnumDescriptions:[f.localize(55,null),f.localize(56,null,y.isMacintosh?"Ctrl+Option":"Ctrl+Alt"),f.localize(57,null,y.isMacintosh?"Ctrl+Option":"Ctrl+Alt"),f.localize(58,null)]},"editor.inlayHints.fontSize":{type:"number",default:le.fontSize,markdownDescription:f.localize(59,null,"`#editor.fontSize#`","`5`")},"editor.inlayHints.fontFamily":{type:"string",default:le.fontFamily,markdownDescription:f.localize(60,null,"`#editor.fontFamily#`")},"editor.inlayHints.padding":{type:"boolean",default:le.padding,description:f.localize(61,null)}})}validate(le){if(!le||typeof le!="object")return this.defaultValue;const pe=le;return typeof pe.enabled=="boolean"&&(pe.enabled=pe.enabled?"on":"off"),{enabled:l(pe.enabled,this.defaultValue.enabled,["on","off","offUnlessPressed","onUnlessPressed"]),fontSize:r.clampedInt(pe.fontSize,this.defaultValue.fontSize,0,100),fontFamily:d.string(pe.fontFamily,this.defaultValue.fontFamily),padding:a(pe.padding,this.defaultValue.padding)}}}class X extends C{constructor(){super(64,"lineDecorationsWidth",10)}validate(le){return typeof le=="string"&&/^\d+(\.\d+)?ch$/.test(le)?-parseFloat(le.substring(0,le.length-2)):r.clampedInt(le,this.defaultValue,0,1e3)}compute(le,pe,Ce){return Ce<0?r.clampedInt(-Ce*le.fontInfo.typicalHalfwidthCharacterWidth,this.defaultValue,0,1e3):Ce}}class H extends o{constructor(){super(65,"lineHeight",e.EDITOR_FONT_DEFAULTS.lineHeight,le=>o.clamp(le,0,150),{markdownDescription:f.localize(62,null)})}compute(le,pe,Ce){return le.fontInfo.lineHeight}}class B extends C{constructor(){const le={enabled:!0,size:"proportional",side:"right",showSlider:"mouseover",autohide:!1,renderCharacters:!0,maxColumn:120,scale:1};super(71,"minimap",le,{"editor.minimap.enabled":{type:"boolean",default:le.enabled,description:f.localize(63,null)},"editor.minimap.autohide":{type:"boolean",default:le.autohide,description:f.localize(64,null)},"editor.minimap.size":{type:"string",enum:["proportional","fill","fit"],enumDescriptions:[f.localize(65,null),f.localize(66,null),f.localize(67,null)],default:le.size,description:f.localize(68,null)},"editor.minimap.side":{type:"string",enum:["left","right"],default:le.side,description:f.localize(69,null)},"editor.minimap.showSlider":{type:"string",enum:["always","mouseover"],default:le.showSlider,description:f.localize(70,null)},"editor.minimap.scale":{type:"number",default:le.scale,minimum:1,maximum:3,enum:[1,2,3],description:f.localize(71,null)},"editor.minimap.renderCharacters":{type:"boolean",default:le.renderCharacters,description:f.localize(72,null)},"editor.minimap.maxColumn":{type:"number",default:le.maxColumn,description:f.localize(73,null)}})}validate(le){if(!le||typeof le!="object")return this.defaultValue;const pe=le;return{enabled:a(pe.enabled,this.defaultValue.enabled),autohide:a(pe.autohide,this.defaultValue.autohide),size:l(pe.size,this.defaultValue.size,["proportional","fill","fit"]),side:l(pe.side,this.defaultValue.side,["right","left"]),showSlider:l(pe.showSlider,this.defaultValue.showSlider,["always","mouseover"]),renderCharacters:a(pe.renderCharacters,this.defaultValue.renderCharacters),scale:r.clampedInt(pe.scale,1,1,3),maxColumn:r.clampedInt(pe.maxColumn,this.defaultValue.maxColumn,1,1e4)}}}function V(me){return me==="ctrlCmd"?y.isMacintosh?"metaKey":"ctrlKey":"altKey"}class Y extends C{constructor(){super(82,"padding",{top:0,bottom:0},{"editor.padding.top":{type:"number",default:0,minimum:0,maximum:1e3,description:f.localize(74,null)},"editor.padding.bottom":{type:"number",default:0,minimum:0,maximum:1e3,description:f.localize(75,null)}})}validate(le){if(!le||typeof le!="object")return this.defaultValue;const pe=le;return{top:r.clampedInt(pe.top,0,0,1e3),bottom:r.clampedInt(pe.bottom,0,0,1e3)}}}class ie extends C{constructor(){const le={enabled:!0,cycle:!0};super(84,"parameterHints",le,{"editor.parameterHints.enabled":{type:"boolean",default:le.enabled,description:f.localize(76,null)},"editor.parameterHints.cycle":{type:"boolean",default:le.cycle,description:f.localize(77,null)}})}validate(le){if(!le||typeof le!="object")return this.defaultValue;const pe=le;return{enabled:a(pe.enabled,this.defaultValue.enabled),cycle:a(pe.cycle,this.defaultValue.cycle)}}}class ae extends n{constructor(){super(140)}compute(le,pe,Ce){return le.pixelRatio}}class ce extends C{constructor(){const le={other:"on",comments:"off",strings:"off"},pe=[{type:"boolean"},{type:"string",enum:["on","inline","off"],enumDescriptions:[f.localize(78,null),f.localize(79,null),f.localize(80,null)]}];super(87,"quickSuggestions",le,{type:"object",additionalProperties:!1,properties:{strings:{anyOf:pe,default:le.strings,description:f.localize(81,null)},comments:{anyOf:pe,default:le.comments,description:f.localize(82,null)},other:{anyOf:pe,default:le.other,description:f.localize(83,null)}},default:le,markdownDescription:f.localize(84,null,"#editor.suggestOnTriggerCharacters#")}),this.defaultValue=le}validate(le){if(typeof le=="boolean"){const ze=le?"on":"off";return{comments:ze,strings:ze,other:ze}}if(!le||typeof le!="object")return this.defaultValue;const{other:pe,comments:Ce,strings:be}=le,Ie=["on","inline","off"];let Ne,Re,Ve;return typeof pe=="boolean"?Ne=pe?"on":"off":Ne=l(pe,this.defaultValue.other,Ie),typeof Ce=="boolean"?Re=Ce?"on":"off":Re=l(Ce,this.defaultValue.comments,Ie),typeof be=="boolean"?Ve=be?"on":"off":Ve=l(be,this.defaultValue.strings,Ie),{other:Ne,comments:Re,strings:Ve}}}class de extends C{constructor(){super(66,"lineNumbers",{renderType:1,renderFn:null},{type:"string",enum:["off","on","relative","interval"],enumDescriptions:[f.localize(85,null),f.localize(86,null),f.localize(87,null),f.localize(88,null)],default:"on",description:f.localize(89,null)})}validate(le){let pe=this.defaultValue.renderType,Ce=this.defaultValue.renderFn;return typeof le<"u"&&(typeof le=="function"?(pe=4,Ce=le):le==="interval"?pe=3:le==="relative"?pe=2:le==="on"?pe=1:pe=0),{renderType:pe,renderFn:Ce}}}function he(me){const le=me.get(96);return le==="editable"?me.get(89):le!=="on"}e.filterValidationDecorations=he;class ue extends C{constructor(){const le=[],pe={type:"number",description:f.localize(90,null)};super(100,"rulers",le,{type:"array",items:{anyOf:[pe,{type:["object"],properties:{column:pe,color:{type:"string",description:f.localize(91,null),format:"color-hex"}}}]},default:le,description:f.localize(92,null)})}validate(le){if(Array.isArray(le)){const pe=[];for(const Ce of le)if(typeof Ce=="number")pe.push({column:r.clampedInt(Ce,0,0,1e4),color:null});else if(Ce&&typeof Ce=="object"){const be=Ce;pe.push({column:r.clampedInt(be.column,0,0,1e4),color:be.color})}return pe.sort((Ce,be)=>Ce.column-be.column),pe}return this.defaultValue}}class te extends C{constructor(){super(90,"readOnlyMessage",void 0)}validate(le){return!le||typeof le!="object"?this.defaultValue:le}}function q(me,le){if(typeof me!="string")return le;switch(me){case"hidden":return 2;case"visible":return 3;default:return 1}}class z extends C{constructor(){const le={vertical:1,horizontal:1,arrowSize:11,useShadows:!0,verticalHasArrows:!1,horizontalHasArrows:!1,horizontalScrollbarSize:12,horizontalSliderSize:12,verticalScrollbarSize:14,verticalSliderSize:14,handleMouseWheel:!0,alwaysConsumeMouseWheel:!0,scrollByPage:!1};super(101,"scrollbar",le,{"editor.scrollbar.vertical":{type:"string",enum:["auto","visible","hidden"],enumDescriptions:[f.localize(93,null),f.localize(94,null),f.localize(95,null)],default:"auto",description:f.localize(96,null)},"editor.scrollbar.horizontal":{type:"string",enum:["auto","visible","hidden"],enumDescriptions:[f.localize(97,null),f.localize(98,null),f.localize(99,null)],default:"auto",description:f.localize(100,null)},"editor.scrollbar.verticalScrollbarSize":{type:"number",default:le.verticalScrollbarSize,description:f.localize(101,null)},"editor.scrollbar.horizontalScrollbarSize":{type:"number",default:le.horizontalScrollbarSize,description:f.localize(102,null)},"editor.scrollbar.scrollByPage":{type:"boolean",default:le.scrollByPage,description:f.localize(103,null)}})}validate(le){if(!le||typeof le!="object")return this.defaultValue;const pe=le,Ce=r.clampedInt(pe.horizontalScrollbarSize,this.defaultValue.horizontalScrollbarSize,0,1e3),be=r.clampedInt(pe.verticalScrollbarSize,this.defaultValue.verticalScrollbarSize,0,1e3);return{arrowSize:r.clampedInt(pe.arrowSize,this.defaultValue.arrowSize,0,1e3),vertical:q(pe.vertical,this.defaultValue.vertical),horizontal:q(pe.horizontal,this.defaultValue.horizontal),useShadows:a(pe.useShadows,this.defaultValue.useShadows),verticalHasArrows:a(pe.verticalHasArrows,this.defaultValue.verticalHasArrows),horizontalHasArrows:a(pe.horizontalHasArrows,this.defaultValue.horizontalHasArrows),handleMouseWheel:a(pe.handleMouseWheel,this.defaultValue.handleMouseWheel),alwaysConsumeMouseWheel:a(pe.alwaysConsumeMouseWheel,this.defaultValue.alwaysConsumeMouseWheel),horizontalScrollbarSize:Ce,horizontalSliderSize:r.clampedInt(pe.horizontalSliderSize,Ce,0,1e3),verticalScrollbarSize:be,verticalSliderSize:r.clampedInt(pe.verticalSliderSize,be,0,1e3),scrollByPage:a(pe.scrollByPage,this.defaultValue.scrollByPage)}}}e.inUntrustedWorkspace="inUntrustedWorkspace",e.unicodeHighlightConfigKeys={allowedCharacters:"editor.unicodeHighlight.allowedCharacters",invisibleCharacters:"editor.unicodeHighlight.invisibleCharacters",nonBasicASCII:"editor.unicodeHighlight.nonBasicASCII",ambiguousCharacters:"editor.unicodeHighlight.ambiguousCharacters",includeComments:"editor.unicodeHighlight.includeComments",includeStrings:"editor.unicodeHighlight.includeStrings",allowedLocales:"editor.unicodeHighlight.allowedLocales"};class ee extends C{constructor(){const le={nonBasicASCII:e.inUntrustedWorkspace,invisibleCharacters:!0,ambiguousCharacters:!0,includeComments:e.inUntrustedWorkspace,includeStrings:!0,allowedCharacters:{},allowedLocales:{_os:!0,_vscode:!0}};super(123,"unicodeHighlight",le,{[e.unicodeHighlightConfigKeys.nonBasicASCII]:{restricted:!0,type:["boolean","string"],enum:[!0,!1,e.inUntrustedWorkspace],default:le.nonBasicASCII,description:f.localize(104,null)},[e.unicodeHighlightConfigKeys.invisibleCharacters]:{restricted:!0,type:"boolean",default:le.invisibleCharacters,description:f.localize(105,null)},[e.unicodeHighlightConfigKeys.ambiguousCharacters]:{restricted:!0,type:"boolean",default:le.ambiguousCharacters,description:f.localize(106,null)},[e.unicodeHighlightConfigKeys.includeComments]:{restricted:!0,type:["boolean","string"],enum:[!0,!1,e.inUntrustedWorkspace],default:le.includeComments,description:f.localize(107,null)},[e.unicodeHighlightConfigKeys.includeStrings]:{restricted:!0,type:["boolean","string"],enum:[!0,!1,e.inUntrustedWorkspace],default:le.includeStrings,description:f.localize(108,null)},[e.unicodeHighlightConfigKeys.allowedCharacters]:{restricted:!0,type:"object",default:le.allowedCharacters,description:f.localize(109,null),additionalProperties:{type:"boolean"}},[e.unicodeHighlightConfigKeys.allowedLocales]:{restricted:!0,type:"object",additionalProperties:{type:"boolean"},default:le.allowedLocales,description:f.localize(110,null)}})}applyUpdate(le,pe){let Ce=!1;pe.allowedCharacters&&le&&(k.equals(le.allowedCharacters,pe.allowedCharacters)||(le=Object.assign(Object.assign({},le),{allowedCharacters:pe.allowedCharacters}),Ce=!0)),pe.allowedLocales&&le&&(k.equals(le.allowedLocales,pe.allowedLocales)||(le=Object.assign(Object.assign({},le),{allowedLocales:pe.allowedLocales}),Ce=!0));const be=super.applyUpdate(le,pe);return Ce?new s(be.newValue,!0):be}validate(le){if(!le||typeof le!="object")return this.defaultValue;const pe=le;return{nonBasicASCII:ge(pe.nonBasicASCII,e.inUntrustedWorkspace,[!0,!1,e.inUntrustedWorkspace]),invisibleCharacters:a(pe.invisibleCharacters,this.defaultValue.invisibleCharacters),ambiguousCharacters:a(pe.ambiguousCharacters,this.defaultValue.ambiguousCharacters),includeComments:ge(pe.includeComments,e.inUntrustedWorkspace,[!0,!1,e.inUntrustedWorkspace]),includeStrings:ge(pe.includeStrings,e.inUntrustedWorkspace,[!0,!1,e.inUntrustedWorkspace]),allowedCharacters:this.validateBooleanMap(le.allowedCharacters,this.defaultValue.allowedCharacters),allowedLocales:this.validateBooleanMap(le.allowedLocales,this.defaultValue.allowedLocales)}}validateBooleanMap(le,pe){if(typeof le!="object"||!le)return pe;const Ce={};for(const[be,Ie]of Object.entries(le))Ie===!0&&(Ce[be]=!0);return Ce}}class $ extends C{constructor(){const le={enabled:!0,mode:"subwordSmart",showToolbar:"onHover",suppressSuggestions:!1,keepOnBlur:!1};super(61,"inlineSuggest",le,{"editor.inlineSuggest.enabled":{type:"boolean",default:le.enabled,description:f.localize(111,null)},"editor.inlineSuggest.showToolbar":{type:"string",default:le.showToolbar,enum:["always","onHover"],enumDescriptions:[f.localize(112,null),f.localize(113,null)],description:f.localize(114,null)},"editor.inlineSuggest.suppressSuggestions":{type:"boolean",default:le.suppressSuggestions,description:f.localize(115,null)}})}validate(le){if(!le||typeof le!="object")return this.defaultValue;const pe=le;return{enabled:a(pe.enabled,this.defaultValue.enabled),mode:l(pe.mode,this.defaultValue.mode,["prefix","subword","subwordSmart"]),showToolbar:l(pe.showToolbar,this.defaultValue.showToolbar,["always","onHover"]),suppressSuggestions:a(pe.suppressSuggestions,this.defaultValue.suppressSuggestions),keepOnBlur:a(pe.keepOnBlur,this.defaultValue.keepOnBlur)}}}class re extends C{constructor(){const le={enabled:D.EDITOR_MODEL_DEFAULTS.bracketPairColorizationOptions.enabled,independentColorPoolPerBracketType:D.EDITOR_MODEL_DEFAULTS.bracketPairColorizationOptions.independentColorPoolPerBracketType};super(14,"bracketPairColorization",le,{"editor.bracketPairColorization.enabled":{type:"boolean",default:le.enabled,markdownDescription:f.localize(116,null,"`#workbench.colorCustomizations#`")},"editor.bracketPairColorization.independentColorPoolPerBracketType":{type:"boolean",default:le.independentColorPoolPerBracketType,description:f.localize(117,null)}})}validate(le){if(!le||typeof le!="object")return this.defaultValue;const pe=le;return{enabled:a(pe.enabled,this.defaultValue.enabled),independentColorPoolPerBracketType:a(pe.independentColorPoolPerBracketType,this.defaultValue.independentColorPoolPerBracketType)}}}class oe extends C{constructor(){const le={bracketPairs:!1,bracketPairsHorizontal:"active",highlightActiveBracketPair:!0,indentation:!0,highlightActiveIndentation:!0};super(15,"guides",le,{"editor.guides.bracketPairs":{type:["boolean","string"],enum:[!0,"active",!1],enumDescriptions:[f.localize(118,null),f.localize(119,null),f.localize(120,null)],default:le.bracketPairs,description:f.localize(121,null)},"editor.guides.bracketPairsHorizontal":{type:["boolean","string"],enum:[!0,"active",!1],enumDescriptions:[f.localize(122,null),f.localize(123,null),f.localize(124,null)],default:le.bracketPairsHorizontal,description:f.localize(125,null)},"editor.guides.highlightActiveBracketPair":{type:"boolean",default:le.highlightActiveBracketPair,description:f.localize(126,null)},"editor.guides.indentation":{type:"boolean",default:le.indentation,description:f.localize(127,null)},"editor.guides.highlightActiveIndentation":{type:["boolean","string"],enum:[!0,"always",!1],enumDescriptions:[f.localize(128,null),f.localize(129,null),f.localize(130,null)],default:le.highlightActiveIndentation,description:f.localize(131,null)}})}validate(le){if(!le||typeof le!="object")return this.defaultValue;const pe=le;return{bracketPairs:ge(pe.bracketPairs,this.defaultValue.bracketPairs,[!0,!1,"active"]),bracketPairsHorizontal:ge(pe.bracketPairsHorizontal,this.defaultValue.bracketPairsHorizontal,[!0,!1,"active"]),highlightActiveBracketPair:a(pe.highlightActiveBracketPair,this.defaultValue.highlightActiveBracketPair),indentation:a(pe.indentation,this.defaultValue.indentation),highlightActiveIndentation:ge(pe.highlightActiveIndentation,this.defaultValue.highlightActiveIndentation,[!0,!1,"always"])}}}function ge(me,le,pe){const Ce=pe.indexOf(me);return Ce===-1?le:pe[Ce]}class ve extends C{constructor(){const le={insertMode:"insert",filterGraceful:!0,snippetsPreventQuickSuggestions:!1,localityBonus:!1,shareSuggestSelections:!1,selectionMode:"always",showIcons:!0,showStatusBar:!1,preview:!1,previewMode:"subwordSmart",showInlineDetails:!0,showMethods:!0,showFunctions:!0,showConstructors:!0,showDeprecated:!0,matchOnWordStartOnly:!0,showFields:!0,showVariables:!0,showClasses:!0,showStructs:!0,showInterfaces:!0,showModules:!0,showProperties:!0,showEvents:!0,showOperators:!0,showUnits:!0,showValues:!0,showConstants:!0,showEnums:!0,showEnumMembers:!0,showKeywords:!0,showWords:!0,showColors:!0,showFiles:!0,showReferences:!0,showFolders:!0,showTypeParameters:!0,showSnippets:!0,showUsers:!0,showIssues:!0};super(116,"suggest",le,{"editor.suggest.insertMode":{type:"string",enum:["insert","replace"],enumDescriptions:[f.localize(132,null),f.localize(133,null)],default:le.insertMode,description:f.localize(134,null)},"editor.suggest.filterGraceful":{type:"boolean",default:le.filterGraceful,description:f.localize(135,null)},"editor.suggest.localityBonus":{type:"boolean",default:le.localityBonus,description:f.localize(136,null)},"editor.suggest.shareSuggestSelections":{type:"boolean",default:le.shareSuggestSelections,markdownDescription:f.localize(137,null)},"editor.suggest.selectionMode":{type:"string",enum:["always","never","whenTriggerCharacter","whenQuickSuggestion"],enumDescriptions:[f.localize(138,null),f.localize(139,null),f.localize(140,null),f.localize(141,null)],default:le.selectionMode,markdownDescription:f.localize(142,null)},"editor.suggest.snippetsPreventQuickSuggestions":{type:"boolean",default:le.snippetsPreventQuickSuggestions,description:f.localize(143,null)},"editor.suggest.showIcons":{type:"boolean",default:le.showIcons,description:f.localize(144,null)},"editor.suggest.showStatusBar":{type:"boolean",default:le.showStatusBar,description:f.localize(145,null)},"editor.suggest.preview":{type:"boolean",default:le.preview,description:f.localize(146,null)},"editor.suggest.showInlineDetails":{type:"boolean",default:le.showInlineDetails,description:f.localize(147,null)},"editor.suggest.maxVisibleSuggestions":{type:"number",deprecationMessage:f.localize(148,null)},"editor.suggest.filteredTypes":{type:"object",deprecationMessage:f.localize(149,null)},"editor.suggest.showMethods":{type:"boolean",default:!0,markdownDescription:f.localize(150,null)},"editor.suggest.showFunctions":{type:"boolean",default:!0,markdownDescription:f.localize(151,null)},"editor.suggest.showConstructors":{type:"boolean",default:!0,markdownDescription:f.localize(152,null)},"editor.suggest.showDeprecated":{type:"boolean",default:!0,markdownDescription:f.localize(153,null)},"editor.suggest.matchOnWordStartOnly":{type:"boolean",default:!0,markdownDescription:f.localize(154,null)},"editor.suggest.showFields":{type:"boolean",default:!0,markdownDescription:f.localize(155,null)},"editor.suggest.showVariables":{type:"boolean",default:!0,markdownDescription:f.localize(156,null)},"editor.suggest.showClasses":{type:"boolean",default:!0,markdownDescription:f.localize(157,null)},"editor.suggest.showStructs":{type:"boolean",default:!0,markdownDescription:f.localize(158,null)},"editor.suggest.showInterfaces":{type:"boolean",default:!0,markdownDescription:f.localize(159,null)},"editor.suggest.showModules":{type:"boolean",default:!0,markdownDescription:f.localize(160,null)},"editor.suggest.showProperties":{type:"boolean",default:!0,markdownDescription:f.localize(161,null)},"editor.suggest.showEvents":{type:"boolean",default:!0,markdownDescription:f.localize(162,null)},"editor.suggest.showOperators":{type:"boolean",default:!0,markdownDescription:f.localize(163,null)},"editor.suggest.showUnits":{type:"boolean",default:!0,markdownDescription:f.localize(164,null)},"editor.suggest.showValues":{type:"boolean",default:!0,markdownDescription:f.localize(165,null)},"editor.suggest.showConstants":{type:"boolean",default:!0,markdownDescription:f.localize(166,null)},"editor.suggest.showEnums":{type:"boolean",default:!0,markdownDescription:f.localize(167,null)},"editor.suggest.showEnumMembers":{type:"boolean",default:!0,markdownDescription:f.localize(168,null)},"editor.suggest.showKeywords":{type:"boolean",default:!0,markdownDescription:f.localize(169,null)},"editor.suggest.showWords":{type:"boolean",default:!0,markdownDescription:f.localize(170,null)},"editor.suggest.showColors":{type:"boolean",default:!0,markdownDescription:f.localize(171,null)},"editor.suggest.showFiles":{type:"boolean",default:!0,markdownDescription:f.localize(172,null)},"editor.suggest.showReferences":{type:"boolean",default:!0,markdownDescription:f.localize(173,null)},"editor.suggest.showCustomcolors":{type:"boolean",default:!0,markdownDescription:f.localize(174,null)},"editor.suggest.showFolders":{type:"boolean",default:!0,markdownDescription:f.localize(175,null)},"editor.suggest.showTypeParameters":{type:"boolean",default:!0,markdownDescription:f.localize(176,null)},"editor.suggest.showSnippets":{type:"boolean",default:!0,markdownDescription:f.localize(177,null)},"editor.suggest.showUsers":{type:"boolean",default:!0,markdownDescription:f.localize(178,null)},"editor.suggest.showIssues":{type:"boolean",default:!0,markdownDescription:f.localize(179,null)}})}validate(le){if(!le||typeof le!="object")return this.defaultValue;const pe=le;return{insertMode:l(pe.insertMode,this.defaultValue.insertMode,["insert","replace"]),filterGraceful:a(pe.filterGraceful,this.defaultValue.filterGraceful),snippetsPreventQuickSuggestions:a(pe.snippetsPreventQuickSuggestions,this.defaultValue.filterGraceful),localityBonus:a(pe.localityBonus,this.defaultValue.localityBonus),shareSuggestSelections:a(pe.shareSuggestSelections,this.defaultValue.shareSuggestSelections),selectionMode:l(pe.selectionMode,this.defaultValue.selectionMode,["always","never","whenQuickSuggestion","whenTriggerCharacter"]),showIcons:a(pe.showIcons,this.defaultValue.showIcons),showStatusBar:a(pe.showStatusBar,this.defaultValue.showStatusBar),preview:a(pe.preview,this.defaultValue.preview),previewMode:l(pe.previewMode,this.defaultValue.previewMode,["prefix","subword","subwordSmart"]),showInlineDetails:a(pe.showInlineDetails,this.defaultValue.showInlineDetails),showMethods:a(pe.showMethods,this.defaultValue.showMethods),showFunctions:a(pe.showFunctions,this.defaultValue.showFunctions),showConstructors:a(pe.showConstructors,this.defaultValue.showConstructors),showDeprecated:a(pe.showDeprecated,this.defaultValue.showDeprecated),matchOnWordStartOnly:a(pe.matchOnWordStartOnly,this.defaultValue.matchOnWordStartOnly),showFields:a(pe.showFields,this.defaultValue.showFields),showVariables:a(pe.showVariables,this.defaultValue.showVariables),showClasses:a(pe.showClasses,this.defaultValue.showClasses),showStructs:a(pe.showStructs,this.defaultValue.showStructs),showInterfaces:a(pe.showInterfaces,this.defaultValue.showInterfaces),showModules:a(pe.showModules,this.defaultValue.showModules),showProperties:a(pe.showProperties,this.defaultValue.showProperties),showEvents:a(pe.showEvents,this.defaultValue.showEvents),showOperators:a(pe.showOperators,this.defaultValue.showOperators),showUnits:a(pe.showUnits,this.defaultValue.showUnits),showValues:a(pe.showValues,this.defaultValue.showValues),showConstants:a(pe.showConstants,this.defaultValue.showConstants),showEnums:a(pe.showEnums,this.defaultValue.showEnums),showEnumMembers:a(pe.showEnumMembers,this.defaultValue.showEnumMembers),showKeywords:a(pe.showKeywords,this.defaultValue.showKeywords),showWords:a(pe.showWords,this.defaultValue.showWords),showColors:a(pe.showColors,this.defaultValue.showColors),showFiles:a(pe.showFiles,this.defaultValue.showFiles),showReferences:a(pe.showReferences,this.defaultValue.showReferences),showFolders:a(pe.showFolders,this.defaultValue.showFolders),showTypeParameters:a(pe.showTypeParameters,this.defaultValue.showTypeParameters),showSnippets:a(pe.showSnippets,this.defaultValue.showSnippets),showUsers:a(pe.showUsers,this.defaultValue.showUsers),showIssues:a(pe.showIssues,this.defaultValue.showIssues)}}}class Se extends C{constructor(){super(111,"smartSelect",{selectLeadingAndTrailingWhitespace:!0,selectSubwords:!0},{"editor.smartSelect.selectLeadingAndTrailingWhitespace":{description:f.localize(180,null),default:!0,type:"boolean"},"editor.smartSelect.selectSubwords":{description:f.localize(181,null),default:!0,type:"boolean"}})}validate(le){return!le||typeof le!="object"?this.defaultValue:{selectLeadingAndTrailingWhitespace:a(le.selectLeadingAndTrailingWhitespace,this.defaultValue.selectLeadingAndTrailingWhitespace),selectSubwords:a(le.selectSubwords,this.defaultValue.selectSubwords)}}}class Le extends C{constructor(){super(135,"wrappingIndent",1,{"editor.wrappingIndent":{type:"string",enum:["none","same","indent","deepIndent"],enumDescriptions:[f.localize(182,null),f.localize(183,null),f.localize(184,null),f.localize(185,null)],description:f.localize(186,null),default:"same"}})}validate(le){switch(le){case"none":return 0;case"same":return 1;case"indent":return 2;case"deepIndent":return 3}return 1}compute(le,pe,Ce){return pe.get(2)===2?0:Ce}}class De extends n{constructor(){super(143)}compute(le,pe,Ce){const be=pe.get(142);return{isDominatedByLongLines:le.isDominatedByLongLines,isWordWrapMinified:be.isWordWrapMinified,isViewportWrapping:be.isViewportWrapping,wrappingColumn:be.wrappingColumn}}}class ye extends C{constructor(){const le={enabled:!0,showDropSelector:"afterDrop"};super(35,"dropIntoEditor",le,{"editor.dropIntoEditor.enabled":{type:"boolean",default:le.enabled,markdownDescription:f.localize(187,null)},"editor.dropIntoEditor.showDropSelector":{type:"string",markdownDescription:f.localize(188,null),enum:["afterDrop","never"],enumDescriptions:[f.localize(189,null),f.localize(190,null)],default:"afterDrop"}})}validate(le){if(!le||typeof le!="object")return this.defaultValue;const pe=le;return{enabled:a(pe.enabled,this.defaultValue.enabled),showDropSelector:l(pe.showDropSelector,this.defaultValue.showDropSelector,["afterDrop","never"])}}}class Ee extends C{constructor(){const le={enabled:!0,showPasteSelector:"afterPaste"};super(83,"pasteAs",le,{"editor.pasteAs.enabled":{type:"boolean",default:le.enabled,markdownDescription:f.localize(191,null)},"editor.pasteAs.showPasteSelector":{type:"string",markdownDescription:f.localize(192,null),enum:["afterPaste","never"],enumDescriptions:[f.localize(193,null),f.localize(194,null)],default:"afterPaste"}})}validate(le){if(!le||typeof le!="object")return this.defaultValue;const pe=le;return{enabled:a(pe.enabled,this.defaultValue.enabled),showPasteSelector:l(pe.showPasteSelector,this.defaultValue.showPasteSelector,["afterPaste","never"])}}}const Me="Consolas, 'Courier New', monospace",Pe="Menlo, Monaco, 'Courier New', monospace",Fe="'Droid Sans Mono', 'monospace', monospace";e.EDITOR_FONT_DEFAULTS={fontFamily:y.isMacintosh?Pe:y.isLinux?Fe:Me,fontWeight:"normal",fontSize:y.isMacintosh?12:14,lineHeight:0,letterSpacing:0},e.editorOptionsRegistry=[];function _e(me){return e.editorOptionsRegistry[me.id]=me,me}e.EditorOptions={acceptSuggestionOnCommitCharacter:_e(new u(0,"acceptSuggestionOnCommitCharacter",!0,{markdownDescription:f.localize(195,null)})),acceptSuggestionOnEnter:_e(new p(1,"acceptSuggestionOnEnter","on",["on","smart","off"],{markdownEnumDescriptions:["",f.localize(196,null),""],markdownDescription:f.localize(197,null)})),accessibilitySupport:_e(new b),accessibilityPageSize:_e(new r(3,"accessibilityPageSize",10,1,1073741824,{description:f.localize(198,null),tags:["accessibility"]})),ariaLabel:_e(new d(4,"ariaLabel",f.localize(199,null))),ariaRequired:_e(new u(5,"ariaRequired",!1,void 0)),screenReaderAnnounceInlineSuggestion:_e(new u(7,"screenReaderAnnounceInlineSuggestion",!0,{description:f.localize(200,null),tags:["accessibility"]})),autoClosingBrackets:_e(new p(6,"autoClosingBrackets","languageDefined",["always","languageDefined","beforeWhitespace","never"],{enumDescriptions:["",f.localize(201,null),f.localize(202,null),""],description:f.localize(203,null)})),autoClosingDelete:_e(new p(8,"autoClosingDelete","auto",["always","auto","never"],{enumDescriptions:["",f.localize(204,null),""],description:f.localize(205,null)})),autoClosingOvertype:_e(new p(9,"autoClosingOvertype","auto",["always","auto","never"],{enumDescriptions:["",f.localize(206,null),""],description:f.localize(207,null)})),autoClosingQuotes:_e(new p(10,"autoClosingQuotes","languageDefined",["always","languageDefined","beforeWhitespace","never"],{enumDescriptions:["",f.localize(208,null),f.localize(209,null),""],description:f.localize(210,null)})),autoIndent:_e(new m(11,"autoIndent",4,"full",["none","keep","brackets","advanced","full"],v,{enumDescriptions:[f.localize(211,null),f.localize(212,null),f.localize(213,null),f.localize(214,null),f.localize(215,null)],description:f.localize(216,null)})),automaticLayout:_e(new u(12,"automaticLayout",!1)),autoSurround:_e(new p(13,"autoSurround","languageDefined",["languageDefined","quotes","brackets","never"],{enumDescriptions:[f.localize(217,null),f.localize(218,null),f.localize(219,null),""],description:f.localize(220,null)})),bracketPairColorization:_e(new re),bracketPairGuides:_e(new oe),stickyTabStops:_e(new u(114,"stickyTabStops",!1,{description:f.localize(221,null)})),codeLens:_e(new u(16,"codeLens",!0,{description:f.localize(222,null)})),codeLensFontFamily:_e(new d(17,"codeLensFontFamily","",{description:f.localize(223,null)})),codeLensFontSize:_e(new r(18,"codeLensFontSize",0,0,100,{type:"number",default:0,minimum:0,maximum:100,markdownDescription:f.localize(224,null)})),colorDecorators:_e(new u(19,"colorDecorators",!0,{description:f.localize(225,null)})),colorDecoratorActivatedOn:_e(new p(145,"colorDecoratorsActivatedOn","clickAndHover",["clickAndHover","hover","click"],{enumDescriptions:[f.localize(226,null),f.localize(227,null),f.localize(228,null)],description:f.localize(229,null)})),colorDecoratorsLimit:_e(new r(20,"colorDecoratorsLimit",500,1,1e6,{markdownDescription:f.localize(230,null)})),columnSelection:_e(new u(21,"columnSelection",!1,{description:f.localize(231,null)})),comments:_e(new w),contextmenu:_e(new u(23,"contextmenu",!0)),copyWithSyntaxHighlighting:_e(new u(24,"copyWithSyntaxHighlighting",!0,{description:f.localize(232,null)})),cursorBlinking:_e(new m(25,"cursorBlinking",1,"blink",["blink","smooth","phase","expand","solid"],E,{description:f.localize(233,null)})),cursorSmoothCaretAnimation:_e(new p(26,"cursorSmoothCaretAnimation","off",["off","explicit","on"],{enumDescriptions:[f.localize(234,null),f.localize(235,null),f.localize(236,null)],description:f.localize(237,null)})),cursorStyle:_e(new m(27,"cursorStyle",I.Line,"line",["line","block","underline","line-thin","block-outline","underline-thin"],M,{description:f.localize(238,null)})),cursorSurroundingLines:_e(new r(28,"cursorSurroundingLines",0,0,1073741824,{description:f.localize(239,null)})),cursorSurroundingLinesStyle:_e(new p(29,"cursorSurroundingLinesStyle","default",["default","all"],{enumDescriptions:[f.localize(240,null),f.localize(241,null)],description:f.localize(242,null)})),cursorWidth:_e(new r(30,"cursorWidth",0,0,1073741824,{markdownDescription:f.localize(243,null)})),disableLayerHinting:_e(new u(31,"disableLayerHinting",!1)),disableMonospaceOptimizations:_e(new u(32,"disableMonospaceOptimizations",!1)),domReadOnly:_e(new u(33,"domReadOnly",!1)),dragAndDrop:_e(new u(34,"dragAndDrop",!0,{description:f.localize(244,null)})),emptySelectionClipboard:_e(new x),dropIntoEditor:_e(new ye),stickyScroll:_e(new Z),experimentalWhitespaceRendering:_e(new p(37,"experimentalWhitespaceRendering","svg",["svg","font","off"],{enumDescriptions:[f.localize(245,null),f.localize(246,null),f.localize(247,null)],description:f.localize(248,null)})),extraEditorClassName:_e(new d(38,"extraEditorClassName","")),fastScrollSensitivity:_e(new o(39,"fastScrollSensitivity",5,me=>me<=0?5:me,{markdownDescription:f.localize(249,null)})),find:_e(new T),fixedOverflowWidgets:_e(new u(41,"fixedOverflowWidgets",!1)),folding:_e(new u(42,"folding",!0,{description:f.localize(250,null)})),foldingStrategy:_e(new p(43,"foldingStrategy","auto",["auto","indentation"],{enumDescriptions:[f.localize(251,null),f.localize(252,null)],description:f.localize(253,null)})),foldingHighlight:_e(new u(44,"foldingHighlight",!0,{description:f.localize(254,null)})),foldingImportsByDefault:_e(new u(45,"foldingImportsByDefault",!1,{description:f.localize(255,null)})),foldingMaximumRegions:_e(new r(46,"foldingMaximumRegions",5e3,10,65e3,{description:f.localize(256,null)})),unfoldOnClickAfterEndOfLine:_e(new u(47,"unfoldOnClickAfterEndOfLine",!1,{description:f.localize(257,null)})),fontFamily:_e(new d(48,"fontFamily",e.EDITOR_FONT_DEFAULTS.fontFamily,{description:f.localize(258,null)})),fontInfo:_e(new F),fontLigatures2:_e(new A),fontSize:_e(new O),fontWeight:_e(new W),fontVariations:_e(new N),formatOnPaste:_e(new u(54,"formatOnPaste",!1,{description:f.localize(259,null)})),formatOnType:_e(new u(55,"formatOnType",!1,{description:f.localize(260,null)})),glyphMargin:_e(new u(56,"glyphMargin",!0,{description:f.localize(261,null)})),gotoLocation:_e(new U),hideCursorInOverviewRuler:_e(new u(58,"hideCursorInOverviewRuler",!1,{description:f.localize(262,null)})),hover:_e(new j),inDiffEditor:_e(new u(60,"inDiffEditor",!1)),letterSpacing:_e(new o(62,"letterSpacing",e.EDITOR_FONT_DEFAULTS.letterSpacing,me=>o.clamp(me,-5,20),{description:f.localize(263,null)})),lightbulb:_e(new G),lineDecorationsWidth:_e(new X),lineHeight:_e(new H),lineNumbers:_e(new de),lineNumbersMinChars:_e(new r(67,"lineNumbersMinChars",5,1,300)),linkedEditing:_e(new u(68,"linkedEditing",!1,{description:f.localize(264,null)})),links:_e(new u(69,"links",!0,{description:f.localize(265,null)})),matchBrackets:_e(new p(70,"matchBrackets","always",["always","near","never"],{description:f.localize(266,null)})),minimap:_e(new B),mouseStyle:_e(new p(72,"mouseStyle","text",["text","default","copy"])),mouseWheelScrollSensitivity:_e(new o(73,"mouseWheelScrollSensitivity",1,me=>me===0?1:me,{markdownDescription:f.localize(267,null)})),mouseWheelZoom:_e(new u(74,"mouseWheelZoom",!1,{markdownDescription:f.localize(268,null)})),multiCursorMergeOverlapping:_e(new u(75,"multiCursorMergeOverlapping",!0,{description:f.localize(269,null)})),multiCursorModifier:_e(new m(76,"multiCursorModifier","altKey","alt",["ctrlCmd","alt"],V,{markdownEnumDescriptions:[f.localize(270,null),f.localize(271,null)],markdownDescription:f.localize(272,null)})),multiCursorPaste:_e(new p(77,"multiCursorPaste","spread",["spread","full"],{markdownEnumDescriptions:[f.localize(273,null),f.localize(274,null)],markdownDescription:f.localize(275,null)})),multiCursorLimit:_e(new r(78,"multiCursorLimit",1e4,1,1e5,{markdownDescription:f.localize(276,null)})),occurrencesHighlight:_e(new u(79,"occurrencesHighlight",!0,{description:f.localize(277,null)})),overviewRulerBorder:_e(new u(80,"overviewRulerBorder",!0,{description:f.localize(278,null)})),overviewRulerLanes:_e(new r(81,"overviewRulerLanes",3,0,3)),padding:_e(new Y),pasteAs:_e(new Ee),parameterHints:_e(new ie),peekWidgetDefaultFocus:_e(new p(85,"peekWidgetDefaultFocus","tree",["tree","editor"],{enumDescriptions:[f.localize(279,null),f.localize(280,null)],description:f.localize(281,null)})),definitionLinkOpensInPeek:_e(new u(86,"definitionLinkOpensInPeek",!1,{description:f.localize(282,null)})),quickSuggestions:_e(new ce),quickSuggestionsDelay:_e(new r(88,"quickSuggestionsDelay",10,0,1073741824,{description:f.localize(283,null)})),readOnly:_e(new u(89,"readOnly",!1)),readOnlyMessage:_e(new te),renameOnType:_e(new u(91,"renameOnType",!1,{description:f.localize(284,null),markdownDeprecationMessage:f.localize(285,null)})),renderControlCharacters:_e(new u(92,"renderControlCharacters",!0,{description:f.localize(286,null),restricted:!0})),renderFinalNewline:_e(new p(93,"renderFinalNewline",y.isLinux?"dimmed":"on",["off","on","dimmed"],{description:f.localize(287,null)})),renderLineHighlight:_e(new p(94,"renderLineHighlight","line",["none","gutter","line","all"],{enumDescriptions:["","","",f.localize(288,null)],description:f.localize(289,null)})),renderLineHighlightOnlyWhenFocus:_e(new u(95,"renderLineHighlightOnlyWhenFocus",!1,{description:f.localize(290,null)})),renderValidationDecorations:_e(new p(96,"renderValidationDecorations","editable",["editable","on","off"])),renderWhitespace:_e(new p(97,"renderWhitespace","selection",["none","boundary","selection","trailing","all"],{enumDescriptions:["",f.localize(291,null),f.localize(292,null),f.localize(293,null),""],description:f.localize(294,null)})),revealHorizontalRightPadding:_e(new r(98,"revealHorizontalRightPadding",15,0,1e3)),roundedSelection:_e(new u(99,"roundedSelection",!0,{description:f.localize(295,null)})),rulers:_e(new ue),scrollbar:_e(new z),scrollBeyondLastColumn:_e(new r(102,"scrollBeyondLastColumn",4,0,1073741824,{description:f.localize(296,null)})),scrollBeyondLastLine:_e(new u(103,"scrollBeyondLastLine",!0,{description:f.localize(297,null)})),scrollPredominantAxis:_e(new u(104,"scrollPredominantAxis",!0,{description:f.localize(298,null)})),selectionClipboard:_e(new u(105,"selectionClipboard",!0,{description:f.localize(299,null),included:y.isLinux})),selectionHighlight:_e(new u(106,"selectionHighlight",!0,{description:f.localize(300,null)})),selectOnLineNumbers:_e(new u(107,"selectOnLineNumbers",!0)),showFoldingControls:_e(new p(108,"showFoldingControls","mouseover",["always","never","mouseover"],{enumDescriptions:[f.localize(301,null),f.localize(302,null),f.localize(303,null)],description:f.localize(304,null)})),showUnused:_e(new u(109,"showUnused",!0,{description:f.localize(305,null)})),showDeprecated:_e(new u(137,"showDeprecated",!0,{description:f.localize(306,null)})),inlayHints:_e(new J),snippetSuggestions:_e(new p(110,"snippetSuggestions","inline",["top","bottom","inline","none"],{enumDescriptions:[f.localize(307,null),f.localize(308,null),f.localize(309,null),f.localize(310,null)],description:f.localize(311,null)})),smartSelect:_e(new Se),smoothScrolling:_e(new u(112,"smoothScrolling",!1,{description:f.localize(312,null)})),stopRenderingLineAfter:_e(new r(115,"stopRenderingLineAfter",1e4,-1,1073741824)),suggest:_e(new ve),inlineSuggest:_e(new $),inlineCompletionsAccessibilityVerbose:_e(new u(146,"inlineCompletionsAccessibilityVerbose",!1,{description:f.localize(313,null)})),suggestFontSize:_e(new r(117,"suggestFontSize",0,0,1e3,{markdownDescription:f.localize(314,null,"`0`","`#editor.fontSize#`")})),suggestLineHeight:_e(new r(118,"suggestLineHeight",0,0,1e3,{markdownDescription:f.localize(315,null,"`0`","`#editor.lineHeight#`")})),suggestOnTriggerCharacters:_e(new u(119,"suggestOnTriggerCharacters",!0,{description:f.localize(316,null)})),suggestSelection:_e(new p(120,"suggestSelection","first",["first","recentlyUsed","recentlyUsedByPrefix"],{markdownEnumDescriptions:[f.localize(317,null),f.localize(318,null),f.localize(319,null)],description:f.localize(320,null)})),tabCompletion:_e(new p(121,"tabCompletion","off",["on","off","onlySnippets"],{enumDescriptions:[f.localize(321,null),f.localize(322,null),f.localize(323,null)],description:f.localize(324,null)})),tabIndex:_e(new r(122,"tabIndex",0,-1,1073741824)),unicodeHighlight:_e(new ee),unusualLineTerminators:_e(new p(124,"unusualLineTerminators","prompt",["auto","off","prompt"],{enumDescriptions:[f.localize(325,null),f.localize(326,null),f.localize(327,null)],description:f.localize(328,null)})),useShadowDOM:_e(new u(125,"useShadowDOM",!0)),useTabStops:_e(new u(126,"useTabStops",!0,{description:f.localize(329,null)})),wordBreak:_e(new p(127,"wordBreak","normal",["normal","keepAll"],{markdownEnumDescriptions:[f.localize(330,null),f.localize(331,null)],description:f.localize(332,null)})),wordSeparators:_e(new d(128,"wordSeparators",S.USUAL_WORD_SEPARATORS,{description:f.localize(333,null)})),wordWrap:_e(new p(129,"wordWrap","off",["off","on","wordWrapColumn","bounded"],{markdownEnumDescriptions:[f.localize(334,null),f.localize(335,null),f.localize(336,null),f.localize(337,null)],description:f.localize(338,null)})),wordWrapBreakAfterCharacters:_e(new d(130,"wordWrapBreakAfterCharacters"," 	})]?|/&.,;\xA2\xB0\u2032\u2033\u2030\u2103\u3001\u3002\uFF61\uFF64\uFFE0\uFF0C\uFF0E\uFF1A\uFF1B\uFF1F\uFF01\uFF05\u30FB\uFF65\u309D\u309E\u30FD\u30FE\u30FC\u30A1\u30A3\u30A5\u30A7\u30A9\u30C3\u30E3\u30E5\u30E7\u30EE\u30F5\u30F6\u3041\u3043\u3045\u3047\u3049\u3063\u3083\u3085\u3087\u308E\u3095\u3096\u31F0\u31F1\u31F2\u31F3\u31F4\u31F5\u31F6\u31F7\u31F8\u31F9\u31FA\u31FB\u31FC\u31FD\u31FE\u31FF\u3005\u303B\uFF67\uFF68\uFF69\uFF6A\uFF6B\uFF6C\uFF6D\uFF6E\uFF6F\uFF70\u201D\u3009\u300B\u300D\u300F\u3011\u3015\uFF09\uFF3D\uFF5D\uFF63")),wordWrapBreakBeforeCharacters:_e(new d(131,"wordWrapBreakBeforeCharacters","([{\u2018\u201C\u3008\u300A\u300C\u300E\u3010\u3014\uFF08\uFF3B\uFF5B\uFF62\xA3\xA5\uFF04\uFFE1\uFFE5+\uFF0B")),wordWrapColumn:_e(new r(132,"wordWrapColumn",80,1,1073741824,{markdownDescription:f.localize(339,null)})),wordWrapOverride1:_e(new p(133,"wordWrapOverride1","inherit",["off","on","inherit"])),wordWrapOverride2:_e(new p(134,"wordWrapOverride2","inherit",["off","on","inherit"])),editorClassName:_e(new P),defaultColorDecorators:_e(new u(144,"defaultColorDecorators",!1,{markdownDescription:f.localize(340,null)})),pixelRatio:_e(new ae),tabFocusMode:_e(new u(141,"tabFocusMode",!1,{markdownDescription:f.localize(341,null)})),layoutInfo:_e(new R),wrappingInfo:_e(new De),wrappingIndent:_e(new Le),wrappingStrategy:_e(new K)}}),define(ne[620],se([1,0,7,35,11,59,36,12,5,173]),function(Q,e,L,k,y,D,S,f,_,g){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ViewCursor=void 0;class C{constructor(n,t,a,u,h,r,c){this.top=n,this.left=t,this.paddingLeft=a,this.width=u,this.height=h,this.textContent=r,this.textContentClassName=c}}class s{constructor(n){this._context=n;const t=this._context.configuration.options,a=t.get(49);this._cursorStyle=t.get(27),this._lineHeight=t.get(65),this._typicalHalfwidthCharacterWidth=a.typicalHalfwidthCharacterWidth,this._lineCursorWidth=Math.min(t.get(30),this._typicalHalfwidthCharacterWidth),this._isVisible=!0,this._domNode=(0,k.createFastDomNode)(document.createElement("div")),this._domNode.setClassName(`cursor ${g.MOUSE_CURSOR_TEXT_CSS_CLASS_NAME}`),this._domNode.setHeight(this._lineHeight),this._domNode.setTop(0),this._domNode.setLeft(0),(0,D.applyFontInfo)(this._domNode,a),this._domNode.setDisplay("none"),this._position=new f.Position(1,1),this._lastRenderedContent="",this._renderData=null}getDomNode(){return this._domNode}getPosition(){return this._position}show(){this._isVisible||(this._domNode.setVisibility("inherit"),this._isVisible=!0)}hide(){this._isVisible&&(this._domNode.setVisibility("hidden"),this._isVisible=!1)}onConfigurationChanged(n){const t=this._context.configuration.options,a=t.get(49);return this._cursorStyle=t.get(27),this._lineHeight=t.get(65),this._typicalHalfwidthCharacterWidth=a.typicalHalfwidthCharacterWidth,this._lineCursorWidth=Math.min(t.get(30),this._typicalHalfwidthCharacterWidth),(0,D.applyFontInfo)(this._domNode,a),!0}onCursorPositionChanged(n,t){return t?this._domNode.domNode.style.transitionProperty="none":this._domNode.domNode.style.transitionProperty="",this._position=n,!0}_getGraphemeAwarePosition(){const{lineNumber:n,column:t}=this._position,a=this._context.viewModel.getLineContent(n),[u,h]=y.getCharContainingOffset(a,t-1);return[new f.Position(n,u+1),a.substring(u,h)]}_prepareRender(n){let t="",a="";const[u,h]=this._getGraphemeAwarePosition();if(this._cursorStyle===S.TextEditorCursorStyle.Line||this._cursorStyle===S.TextEditorCursorStyle.LineThin){const m=n.visibleRangeForPosition(u);if(!m||m.outsideRenderedLine)return null;let v;this._cursorStyle===S.TextEditorCursorStyle.Line?(v=L.computeScreenAwareSize(this._lineCursorWidth>0?this._lineCursorWidth:2),v>2&&(t=h,a=this._getTokenClassName(u))):v=L.computeScreenAwareSize(1);let b=m.left,w=0;v>=2&&b>=1&&(w=1,b-=w);const E=n.getVerticalOffsetForLineNumber(u.lineNumber)-n.bigNumbersDelta;return new C(E,b,w,v,this._lineHeight,t,a)}const r=n.linesVisibleRangesForRange(new _.Range(u.lineNumber,u.column,u.lineNumber,u.column+h.length),!1);if(!r||r.length===0)return null;const c=r[0];if(c.outsideRenderedLine||c.ranges.length===0)return null;const o=c.ranges[0],d=h==="	"?this._typicalHalfwidthCharacterWidth:o.width<1?this._typicalHalfwidthCharacterWidth:o.width;this._cursorStyle===S.TextEditorCursorStyle.Block&&(t=h,a=this._getTokenClassName(u));let l=n.getVerticalOffsetForLineNumber(u.lineNumber)-n.bigNumbersDelta,p=this._lineHeight;return(this._cursorStyle===S.TextEditorCursorStyle.Underline||this._cursorStyle===S.TextEditorCursorStyle.UnderlineThin)&&(l+=this._lineHeight-2,p=2),new C(l,o.left,0,d,p,t,a)}_getTokenClassName(n){const t=this._context.viewModel.getViewLineData(n.lineNumber),a=t.tokens.findTokenIndexAtOffset(n.column-1);return t.tokens.getClassName(a)}prepareRender(n){this._renderData=this._prepareRender(n)}render(n){return this._renderData?(this._lastRenderedContent!==this._renderData.textContent&&(this._lastRenderedContent=this._renderData.textContent,this._domNode.domNode.textContent=this._lastRenderedContent),this._domNode.setClassName(`cursor ${g.MOUSE_CURSOR_TEXT_CSS_CLASS_NAME} ${this._renderData.textContentClassName}`),this._domNode.setDisplay("block"),this._domNode.setTop(this._renderData.top),this._domNode.setLeft(this._renderData.left),this._domNode.setPaddingLeft(this._renderData.paddingLeft),this._domNode.setWidth(this._renderData.width),this._domNode.setLineHeight(this._renderData.height),this._domNode.setHeight(this._renderData.height),{domNode:this._domNode.domNode,position:this._position,contentLeft:this._renderData.left,height:this._renderData.height,width:2}):(this._domNode.setDisplay("none"),null)}}e.ViewCursor=s}),define(ne[621],se([1,0,42,271,36]),function(Q,e,L,k,y){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.DiffEditorOptions=void 0;class D{get editorOptions(){return this._options}constructor(_,g){this.diffEditorWidth=g,this.couldShowInlineViewBecauseOfSize=(0,L.derived)(s=>this._options.read(s).renderSideBySide&&this.diffEditorWidth.read(s)<=this._options.read(s).renderSideBySideInlineBreakpoint),this.renderOverviewRuler=(0,L.derived)(s=>this._options.read(s).renderOverviewRuler),this.renderSideBySide=(0,L.derived)(s=>this._options.read(s).renderSideBySide&&!(this._options.read(s).useInlineViewWhenSpaceIsLimited&&this.couldShowInlineViewBecauseOfSize.read(s))),this.readOnly=(0,L.derived)(s=>this._options.read(s).readOnly),this.shouldRenderRevertArrows=(0,L.derived)(s=>!(!this._options.read(s).renderMarginRevertIcon||!this.renderSideBySide.read(s)||this.readOnly.read(s))),this.renderIndicators=(0,L.derived)(s=>this._options.read(s).renderIndicators),this.enableSplitViewResizing=(0,L.derived)(s=>this._options.read(s).enableSplitViewResizing),this.splitViewDefaultRatio=(0,L.derived)(s=>this._options.read(s).splitViewDefaultRatio),this.ignoreTrimWhitespace=(0,L.derived)(s=>this._options.read(s).ignoreTrimWhitespace),this.maxComputationTimeMs=(0,L.derived)(s=>this._options.read(s).maxComputationTime),this.showMoves=(0,L.derived)(s=>this._options.read(s).experimental.showMoves&&this.renderSideBySide.read(s)),this.isInEmbeddedEditor=(0,L.derived)(s=>this._options.read(s).isInEmbeddedEditor),this.diffWordWrap=(0,L.derived)(s=>this._options.read(s).diffWordWrap),this.originalEditable=(0,L.derived)(s=>this._options.read(s).originalEditable),this.diffCodeLens=(0,L.derived)(s=>this._options.read(s).diffCodeLens),this.accessibilityVerbose=(0,L.derived)(s=>this._options.read(s).accessibilityVerbose),this.diffAlgorithm=(0,L.derived)(s=>this._options.read(s).diffAlgorithm),this.showEmptyDecorations=(0,L.derived)(s=>this._options.read(s).experimental.showEmptyDecorations),this.onlyShowAccessibleDiffViewer=(0,L.derived)(s=>this._options.read(s).onlyShowAccessibleDiffViewer),this.hideUnchangedRegions=(0,L.derived)(s=>this._options.read(s).hideUnchangedRegions.enabled),this.hideUnchangedRegionsRevealLineCount=(0,L.derived)(s=>this._options.read(s).hideUnchangedRegions.revealLineCount),this.hideUnchangedRegionsContextLineCount=(0,L.derived)(s=>this._options.read(s).hideUnchangedRegions.contextLineCount),this.hideUnchangedRegionsminimumLineCount=(0,L.derived)(s=>this._options.read(s).hideUnchangedRegions.minimumLineCount);const C=Object.assign(Object.assign({},_),S(_,k.diffEditorDefaultOptions));this._options=(0,L.observableValue)("options",C)}updateOptions(_){const g=S(_,this._options.get()),C=Object.assign(Object.assign(Object.assign({},this._options.get()),_),g);this._options.set(C,void 0,{changedOptions:_})}}e.DiffEditorOptions=D;function S(f,_){var g,C,s,i,n,t,a,u;return{enableSplitViewResizing:(0,y.boolean)(f.enableSplitViewResizing,_.enableSplitViewResizing),splitViewDefaultRatio:(0,y.clampedFloat)(f.splitViewDefaultRatio,.5,.1,.9),renderSideBySide:(0,y.boolean)(f.renderSideBySide,_.renderSideBySide),renderMarginRevertIcon:(0,y.boolean)(f.renderMarginRevertIcon,_.renderMarginRevertIcon),maxComputationTime:(0,y.clampedInt)(f.maxComputationTime,_.maxComputationTime,0,1073741824),maxFileSize:(0,y.clampedInt)(f.maxFileSize,_.maxFileSize,0,1073741824),ignoreTrimWhitespace:(0,y.boolean)(f.ignoreTrimWhitespace,_.ignoreTrimWhitespace),renderIndicators:(0,y.boolean)(f.renderIndicators,_.renderIndicators),originalEditable:(0,y.boolean)(f.originalEditable,_.originalEditable),diffCodeLens:(0,y.boolean)(f.diffCodeLens,_.diffCodeLens),renderOverviewRuler:(0,y.boolean)(f.renderOverviewRuler,_.renderOverviewRuler),diffWordWrap:(0,y.stringSet)(f.diffWordWrap,_.diffWordWrap,["off","on","inherit"]),diffAlgorithm:(0,y.stringSet)(f.diffAlgorithm,_.diffAlgorithm,["legacy","advanced"],{smart:"legacy",experimental:"advanced"}),accessibilityVerbose:(0,y.boolean)(f.accessibilityVerbose,_.accessibilityVerbose),experimental:{showMoves:(0,y.boolean)((g=f.experimental)===null||g===void 0?void 0:g.showMoves,_.experimental.showMoves),showEmptyDecorations:(0,y.boolean)((C=f.experimental)===null||C===void 0?void 0:C.showEmptyDecorations,_.experimental.showEmptyDecorations)},hideUnchangedRegions:{enabled:(0,y.boolean)((i=(s=f.hideUnchangedRegions)===null||s===void 0?void 0:s.enabled)!==null&&i!==void 0?i:(n=f.experimental)===null||n===void 0?void 0:n.collapseUnchangedRegions,_.hideUnchangedRegions.enabled),contextLineCount:(0,y.clampedInt)((t=f.hideUnchangedRegions)===null||t===void 0?void 0:t.contextLineCount,_.hideUnchangedRegions.contextLineCount,0,1073741824),minimumLineCount:(0,y.clampedInt)((a=f.hideUnchangedRegions)===null||a===void 0?void 0:a.minimumLineCount,_.hideUnchangedRegions.minimumLineCount,0,1073741824),revealLineCount:(0,y.clampedInt)((u=f.hideUnchangedRegions)===null||u===void 0?void 0:u.revealLineCount,_.hideUnchangedRegions.revealLineCount,0,1073741824)},isInEmbeddedEditor:(0,y.boolean)(f.isInEmbeddedEditor,_.isInEmbeddedEditor),onlyShowAccessibleDiffViewer:(0,y.boolean)(f.onlyShowAccessibleDiffViewer,_.onlyShowAccessibleDiffViewer),renderSideBySideInlineBreakpoint:(0,y.clampedInt)(f.renderSideBySideInlineBreakpoint,_.renderSideBySideInlineBreakpoint,0,1073741824),useInlineViewWhenSpaceIsLimited:(0,y.boolean)(f.useInlineViewWhenSpaceIsLimited,_.useInlineViewWhenSpaceIsLimited)}}}),define(ne[231],se([1,0,17,36,145]),function(Q,e,L,k,y){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.FontInfo=e.SERIALIZED_FONT_INFO_VERSION=e.BareFontInfo=void 0;const D=L.isMacintosh?1.5:1.35,S=8;class f{static createFromValidatedSettings(C,s,i){const n=C.get(48),t=C.get(52),a=C.get(51),u=C.get(50),h=C.get(53),r=C.get(65),c=C.get(62);return f._create(n,t,a,u,h,r,c,s,i)}static _create(C,s,i,n,t,a,u,h,r){a===0?a=D*i:a<S&&(a=a*i),a=Math.round(a),a<S&&(a=S);const c=1+(r?0:y.EditorZoom.getZoomLevel()*.1);return i*=c,a*=c,t===k.EditorFontVariations.TRANSLATE&&(s==="normal"||s==="bold"?t=k.EditorFontVariations.OFF:(t=`'wght' ${parseInt(s,10)}`,s="normal")),new f({pixelRatio:h,fontFamily:C,fontWeight:s,fontSize:i,fontFeatureSettings:n,fontVariationSettings:t,lineHeight:a,letterSpacing:u})}constructor(C){this._bareFontInfoBrand=void 0,this.pixelRatio=C.pixelRatio,this.fontFamily=String(C.fontFamily),this.fontWeight=String(C.fontWeight),this.fontSize=C.fontSize,this.fontFeatureSettings=C.fontFeatureSettings,this.fontVariationSettings=C.fontVariationSettings,this.lineHeight=C.lineHeight|0,this.letterSpacing=C.letterSpacing}getId(){return`${this.pixelRatio}-${this.fontFamily}-${this.fontWeight}-${this.fontSize}-${this.fontFeatureSettings}-${this.fontVariationSettings}-${this.lineHeight}-${this.letterSpacing}`}getMassagedFontFamily(){const C=k.EDITOR_FONT_DEFAULTS.fontFamily,s=f._wrapInQuotes(this.fontFamily);return C&&this.fontFamily!==C?`${s}, ${C}`:s}static _wrapInQuotes(C){return/[,"']/.test(C)?C:/[+ ]/.test(C)?`"${C}"`:C}}e.BareFontInfo=f,e.SERIALIZED_FONT_INFO_VERSION=2;class _ extends f{constructor(C,s){super(C),this._editorStylingBrand=void 0,this.version=e.SERIALIZED_FONT_INFO_VERSION,this.isTrusted=s,this.isMonospace=C.isMonospace,this.typicalHalfwidthCharacterWidth=C.typicalHalfwidthCharacterWidth,this.typicalFullwidthCharacterWidth=C.typicalFullwidthCharacterWidth,this.canUseHalfwidthRightwardsArrow=C.canUseHalfwidthRightwardsArrow,this.spaceWidth=C.spaceWidth,this.middotWidth=C.middotWidth,this.wsmiddotWidth=C.wsmiddotWidth,this.maxDigitWidth=C.maxDigitWidth}equals(C){return this.fontFamily===C.fontFamily&&this.fontWeight===C.fontWeight&&this.fontSize===C.fontSize&&this.fontFeatureSettings===C.fontFeatureSettings&&this.fontVariationSettings===C.fontVariationSettings&&this.lineHeight===C.lineHeight&&this.letterSpacing===C.letterSpacing&&this.typicalHalfwidthCharacterWidth===C.typicalHalfwidthCharacterWidth&&this.typicalFullwidthCharacterWidth===C.typicalFullwidthCharacterWidth&&this.canUseHalfwidthRightwardsArrow===C.canUseHalfwidthRightwardsArrow&&this.spaceWidth===C.spaceWidth&&this.middotWidth===C.middotWidth&&this.wsmiddotWidth===C.wsmiddotWidth&&this.maxDigitWidth===C.maxDigitWidth}}e.FontInfo=_}),define(ne[324],se([1,0,52,6,2,475,36,231]),function(Q,e,L,k,y,D,S,f){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.FontMeasurements=e.FontMeasurementsImpl=void 0;class _ extends y.Disposable{constructor(){super(),this._onDidChange=this._register(new k.Emitter),this.onDidChange=this._onDidChange.event,this._cache=new g,this._evictUntrustedReadingsTimeout=-1}dispose(){this._evictUntrustedReadingsTimeout!==-1&&(window.clearTimeout(this._evictUntrustedReadingsTimeout),this._evictUntrustedReadingsTimeout=-1),super.dispose()}clearAllFontInfos(){this._cache=new g,this._onDidChange.fire()}_writeToCache(s,i){this._cache.put(s,i),!i.isTrusted&&this._evictUntrustedReadingsTimeout===-1&&(this._evictUntrustedReadingsTimeout=window.setTimeout(()=>{this._evictUntrustedReadingsTimeout=-1,this._evictUntrustedReadings()},5e3))}_evictUntrustedReadings(){const s=this._cache.getValues();let i=!1;for(const n of s)n.isTrusted||(i=!0,this._cache.remove(n));i&&this._onDidChange.fire()}readFontInfo(s){if(!this._cache.has(s)){let i=this._actualReadFontInfo(s);(i.typicalHalfwidthCharacterWidth<=2||i.typicalFullwidthCharacterWidth<=2||i.spaceWidth<=2||i.maxDigitWidth<=2)&&(i=new f.FontInfo({pixelRatio:L.PixelRatio.value,fontFamily:i.fontFamily,fontWeight:i.fontWeight,fontSize:i.fontSize,fontFeatureSettings:i.fontFeatureSettings,fontVariationSettings:i.fontVariationSettings,lineHeight:i.lineHeight,letterSpacing:i.letterSpacing,isMonospace:i.isMonospace,typicalHalfwidthCharacterWidth:Math.max(i.typicalHalfwidthCharacterWidth,5),typicalFullwidthCharacterWidth:Math.max(i.typicalFullwidthCharacterWidth,5),canUseHalfwidthRightwardsArrow:i.canUseHalfwidthRightwardsArrow,spaceWidth:Math.max(i.spaceWidth,5),middotWidth:Math.max(i.middotWidth,5),wsmiddotWidth:Math.max(i.wsmiddotWidth,5),maxDigitWidth:Math.max(i.maxDigitWidth,5)},!1)),this._writeToCache(s,i)}return this._cache.get(s)}_createRequest(s,i,n,t){const a=new D.CharWidthRequest(s,i);return n.push(a),t?.push(a),a}_actualReadFontInfo(s){const i=[],n=[],t=this._createRequest("n",0,i,n),a=this._createRequest("\uFF4D",0,i,null),u=this._createRequest(" ",0,i,n),h=this._createRequest("0",0,i,n),r=this._createRequest("1",0,i,n),c=this._createRequest("2",0,i,n),o=this._createRequest("3",0,i,n),d=this._createRequest("4",0,i,n),l=this._createRequest("5",0,i,n),p=this._createRequest("6",0,i,n),m=this._createRequest("7",0,i,n),v=this._createRequest("8",0,i,n),b=this._createRequest("9",0,i,n),w=this._createRequest("\u2192",0,i,n),E=this._createRequest("\uFFEB",0,i,null),I=this._createRequest("\xB7",0,i,n),M=this._createRequest(String.fromCharCode(11825),0,i,null),P="|/-_ilm%";for(let F=0,O=P.length;F<O;F++)this._createRequest(P.charAt(F),0,i,n),this._createRequest(P.charAt(F),1,i,n),this._createRequest(P.charAt(F),2,i,n);(0,D.readCharWidths)(s,i);const x=Math.max(h.width,r.width,c.width,o.width,d.width,l.width,p.width,m.width,v.width,b.width);let T=s.fontFeatureSettings===S.EditorFontLigatures.OFF;const A=n[0].width;for(let F=1,O=n.length;T&&F<O;F++){const W=A-n[F].width;if(W<-.001||W>.001){T=!1;break}}let N=!0;return T&&E.width!==A&&(N=!1),E.width>w.width&&(N=!1),new f.FontInfo({pixelRatio:L.PixelRatio.value,fontFamily:s.fontFamily,fontWeight:s.fontWeight,fontSize:s.fontSize,fontFeatureSettings:s.fontFeatureSettings,fontVariationSettings:s.fontVariationSettings,lineHeight:s.lineHeight,letterSpacing:s.letterSpacing,isMonospace:T,typicalHalfwidthCharacterWidth:t.width,typicalFullwidthCharacterWidth:a.width,canUseHalfwidthRightwardsArrow:N,spaceWidth:u.width,middotWidth:I.width,wsmiddotWidth:M.width,maxDigitWidth:x},!0)}}e.FontMeasurementsImpl=_;class g{constructor(){this._keys=Object.create(null),this._values=Object.create(null)}has(s){const i=s.getId();return!!this._values[i]}get(s){const i=s.getId();return this._values[i]}put(s,i){const n=s.getId();this._keys[n]=s,this._values[n]=i}remove(s){const i=s.getId();delete this._keys[i],delete this._values[i]}getValues(){return Object.keys(this._keys).map(s=>this._values[s])}}e.FontMeasurements=new _}),define(ne[325],se([1,0,12,5,67,36]),function(Q,e,L,k,y,D){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.isModelDecorationInString=e.isModelDecorationInComment=e.isModelDecorationVisible=e.ViewModelDecorations=void 0;class S{constructor(i,n,t,a,u){this.editorId=i,this.model=n,this.configuration=t,this._linesCollection=a,this._coordinatesConverter=u,this._decorationsCache=Object.create(null),this._cachedModelDecorationsResolver=null,this._cachedModelDecorationsResolverViewRange=null}_clearCachedModelDecorationsResolver(){this._cachedModelDecorationsResolver=null,this._cachedModelDecorationsResolverViewRange=null}dispose(){this._decorationsCache=Object.create(null),this._clearCachedModelDecorationsResolver()}reset(){this._decorationsCache=Object.create(null),this._clearCachedModelDecorationsResolver()}onModelDecorationsChanged(){this._decorationsCache=Object.create(null),this._clearCachedModelDecorationsResolver()}onLineMappingChanged(){this._decorationsCache=Object.create(null),this._clearCachedModelDecorationsResolver()}_getOrCreateViewModelDecoration(i){const n=i.id;let t=this._decorationsCache[n];if(!t){const a=i.range,u=i.options;let h;if(u.isWholeLine){const r=this._coordinatesConverter.convertModelPositionToViewPosition(new L.Position(a.startLineNumber,1),0,!1,!0),c=this._coordinatesConverter.convertModelPositionToViewPosition(new L.Position(a.endLineNumber,this.model.getLineMaxColumn(a.endLineNumber)),1);h=new k.Range(r.lineNumber,r.column,c.lineNumber,c.column)}else h=this._coordinatesConverter.convertModelRangeToViewRange(a,1);t=new y.ViewModelDecoration(h,u),this._decorationsCache[n]=t}return t}getMinimapDecorationsInRange(i){return this._getDecorationsInRange(i,!0,!1).decorations}getDecorationsViewportData(i){let n=this._cachedModelDecorationsResolver!==null;return n=n&&i.equalsRange(this._cachedModelDecorationsResolverViewRange),n||(this._cachedModelDecorationsResolver=this._getDecorationsInRange(i,!1,!1),this._cachedModelDecorationsResolverViewRange=i),this._cachedModelDecorationsResolver}getInlineDecorationsOnLine(i,n=!1,t=!1){const a=new k.Range(i,this._linesCollection.getViewLineMinColumn(i),i,this._linesCollection.getViewLineMaxColumn(i));return this._getDecorationsInRange(a,n,t).inlineDecorations[0]}_getDecorationsInRange(i,n,t){const a=this._linesCollection.getDecorationsInRange(i,this.editorId,(0,D.filterValidationDecorations)(this.configuration.options),n,t),u=i.startLineNumber,h=i.endLineNumber,r=[];let c=0;const o=[];for(let d=u;d<=h;d++)o[d-u]=[];for(let d=0,l=a.length;d<l;d++){const p=a[d],m=p.options;if(!f(this.model,p))continue;const v=this._getOrCreateViewModelDecoration(p),b=v.range;if(r[c++]=v,m.inlineClassName){const w=new y.InlineDecoration(b,m.inlineClassName,m.inlineClassNameAffectsLetterSpacing?3:0),E=Math.max(u,b.startLineNumber),I=Math.min(h,b.endLineNumber);for(let M=E;M<=I;M++)o[M-u].push(w)}if(m.beforeContentClassName&&u<=b.startLineNumber&&b.startLineNumber<=h){const w=new y.InlineDecoration(new k.Range(b.startLineNumber,b.startColumn,b.startLineNumber,b.startColumn),m.beforeContentClassName,1);o[b.startLineNumber-u].push(w)}if(m.afterContentClassName&&u<=b.endLineNumber&&b.endLineNumber<=h){const w=new y.InlineDecoration(new k.Range(b.endLineNumber,b.endColumn,b.endLineNumber,b.endColumn),m.afterContentClassName,2);o[b.endLineNumber-u].push(w)}}return{decorations:r,inlineDecorations:o}}}e.ViewModelDecorations=S;function f(s,i){return!(i.options.hideInCommentTokens&&_(s,i)||i.options.hideInStringTokens&&g(s,i))}e.isModelDecorationVisible=f;function _(s,i){return C(s,i.range,n=>n===1)}e.isModelDecorationInComment=_;function g(s,i){return C(s,i.range,n=>n===2)}e.isModelDecorationInString=g;function C(s,i,n){for(let t=i.startLineNumber;t<=i.endLineNumber;t++){const a=s.tokenization.getLineTokens(t),u=t===i.startLineNumber,h=t===i.endLineNumber;let r=u?a.findTokenIndexAtOffset(i.startColumn-1):0;for(;r<a.getCount()&&!(h&&a.getStartOffset(r)>i.endColumn-1);){if(!n(a.getStandardTokenType(r)))return!1;r++}}return!0}}),define(ne[622],se([3,4]),function(Q,e){return Q.create("vs/editor/common/core/editorColorRegistry",e)}),define(ne[623],se([3,4]),function(Q,e){return Q.create("vs/editor/common/editorContextKeys",e)}),define(ne[624],se([3,4]),function(Q,e){return Q.create("vs/editor/common/languages",e)}),define(ne[29],se([1,0,25,22,5,515,624]),function(Q,e,L,k,y,D,S){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.TokenizationRegistry=e.LazyTokenizationSupport=e.InlayHintKind=e.Command=e.FoldingRangeKind=e.TextEdit=e.SymbolKinds=e.getAriaLabelForSymbol=e.symbolKindNames=e.isLocationLink=e.DocumentHighlightKind=e.SignatureHelpTriggerKind=e.SelectedSuggestionInfo=e.InlineCompletionTriggerKind=e.CompletionItemKinds=e.EncodedTokenizationResult=e.TokenizationResult=e.Token=void 0;class f{constructor(m,v,b){this.offset=m,this.type=v,this.language=b,this._tokenBrand=void 0}toString(){return"("+this.offset+", "+this.type+")"}}e.Token=f;class _{constructor(m,v){this.tokens=m,this.endState=v,this._tokenizationResultBrand=void 0}}e.TokenizationResult=_;class g{constructor(m,v){this.tokens=m,this.endState=v,this._encodedTokenizationResultBrand=void 0}}e.EncodedTokenizationResult=g;var C;(function(p){const m=new Map;m.set(0,L.Codicon.symbolMethod),m.set(1,L.Codicon.symbolFunction),m.set(2,L.Codicon.symbolConstructor),m.set(3,L.Codicon.symbolField),m.set(4,L.Codicon.symbolVariable),m.set(5,L.Codicon.symbolClass),m.set(6,L.Codicon.symbolStruct),m.set(7,L.Codicon.symbolInterface),m.set(8,L.Codicon.symbolModule),m.set(9,L.Codicon.symbolProperty),m.set(10,L.Codicon.symbolEvent),m.set(11,L.Codicon.symbolOperator),m.set(12,L.Codicon.symbolUnit),m.set(13,L.Codicon.symbolValue),m.set(15,L.Codicon.symbolEnum),m.set(14,L.Codicon.symbolConstant),m.set(15,L.Codicon.symbolEnum),m.set(16,L.Codicon.symbolEnumMember),m.set(17,L.Codicon.symbolKeyword),m.set(27,L.Codicon.symbolSnippet),m.set(18,L.Codicon.symbolText),m.set(19,L.Codicon.symbolColor),m.set(20,L.Codicon.symbolFile),m.set(21,L.Codicon.symbolReference),m.set(22,L.Codicon.symbolCustomColor),m.set(23,L.Codicon.symbolFolder),m.set(24,L.Codicon.symbolTypeParameter),m.set(25,L.Codicon.account),m.set(26,L.Codicon.issues);function v(E){let I=m.get(E);return I||(console.info("No codicon found for CompletionItemKind "+E),I=L.Codicon.symbolProperty),I}p.toIcon=v;const b=new Map;b.set("method",0),b.set("function",1),b.set("constructor",2),b.set("field",3),b.set("variable",4),b.set("class",5),b.set("struct",6),b.set("interface",7),b.set("module",8),b.set("property",9),b.set("event",10),b.set("operator",11),b.set("unit",12),b.set("value",13),b.set("constant",14),b.set("enum",15),b.set("enum-member",16),b.set("enumMember",16),b.set("keyword",17),b.set("snippet",27),b.set("text",18),b.set("color",19),b.set("file",20),b.set("reference",21),b.set("customcolor",22),b.set("folder",23),b.set("type-parameter",24),b.set("typeParameter",24),b.set("account",25),b.set("issue",26);function w(E,I){let M=b.get(E);return typeof M>"u"&&!I&&(M=9),M}p.fromString=w})(C||(e.CompletionItemKinds=C={}));var s;(function(p){p[p.Automatic=0]="Automatic",p[p.Explicit=1]="Explicit"})(s||(e.InlineCompletionTriggerKind=s={}));class i{constructor(m,v,b,w){this.range=m,this.text=v,this.completionKind=b,this.isSnippetText=w}equals(m){return y.Range.lift(this.range).equalsRange(m.range)&&this.text===m.text&&this.completionKind===m.completionKind&&this.isSnippetText===m.isSnippetText}}e.SelectedSuggestionInfo=i;var n;(function(p){p[p.Invoke=1]="Invoke",p[p.TriggerCharacter=2]="TriggerCharacter",p[p.ContentChange=3]="ContentChange"})(n||(e.SignatureHelpTriggerKind=n={}));var t;(function(p){p[p.Text=0]="Text",p[p.Read=1]="Read",p[p.Write=2]="Write"})(t||(e.DocumentHighlightKind=t={}));function a(p){return p&&k.URI.isUri(p.uri)&&y.Range.isIRange(p.range)&&(y.Range.isIRange(p.originSelectionRange)||y.Range.isIRange(p.targetSelectionRange))}e.isLocationLink=a,e.symbolKindNames={[17]:(0,S.localize)(0,null),[16]:(0,S.localize)(1,null),[4]:(0,S.localize)(2,null),[13]:(0,S.localize)(3,null),[8]:(0,S.localize)(4,null),[9]:(0,S.localize)(5,null),[21]:(0,S.localize)(6,null),[23]:(0,S.localize)(7,null),[7]:(0,S.localize)(8,null),[0]:(0,S.localize)(9,null),[11]:(0,S.localize)(10,null),[10]:(0,S.localize)(11,null),[19]:(0,S.localize)(12,null),[5]:(0,S.localize)(13,null),[1]:(0,S.localize)(14,null),[2]:(0,S.localize)(15,null),[20]:(0,S.localize)(16,null),[15]:(0,S.localize)(17,null),[18]:(0,S.localize)(18,null),[24]:(0,S.localize)(19,null),[3]:(0,S.localize)(20,null),[6]:(0,S.localize)(21,null),[14]:(0,S.localize)(22,null),[22]:(0,S.localize)(23,null),[25]:(0,S.localize)(24,null),[12]:(0,S.localize)(25,null)};function u(p,m){return(0,S.localize)(26,null,p,e.symbolKindNames[m])}e.getAriaLabelForSymbol=u;var h;(function(p){const m=new Map;m.set(0,L.Codicon.symbolFile),m.set(1,L.Codicon.symbolModule),m.set(2,L.Codicon.symbolNamespace),m.set(3,L.Codicon.symbolPackage),m.set(4,L.Codicon.symbolClass),m.set(5,L.Codicon.symbolMethod),m.set(6,L.Codicon.symbolProperty),m.set(7,L.Codicon.symbolField),m.set(8,L.Codicon.symbolConstructor),m.set(9,L.Codicon.symbolEnum),m.set(10,L.Codicon.symbolInterface),m.set(11,L.Codicon.symbolFunction),m.set(12,L.Codicon.symbolVariable),m.set(13,L.Codicon.symbolConstant),m.set(14,L.Codicon.symbolString),m.set(15,L.Codicon.symbolNumber),m.set(16,L.Codicon.symbolBoolean),m.set(17,L.Codicon.symbolArray),m.set(18,L.Codicon.symbolObject),m.set(19,L.Codicon.symbolKey),m.set(20,L.Codicon.symbolNull),m.set(21,L.Codicon.symbolEnumMember),m.set(22,L.Codicon.symbolStruct),m.set(23,L.Codicon.symbolEvent),m.set(24,L.Codicon.symbolOperator),m.set(25,L.Codicon.symbolTypeParameter);function v(b){let w=m.get(b);return w||(console.info("No codicon found for SymbolKind "+b),w=L.Codicon.symbolProperty),w}p.toIcon=v})(h||(e.SymbolKinds=h={}));class r{}e.TextEdit=r;class c{static fromValue(m){switch(m){case"comment":return c.Comment;case"imports":return c.Imports;case"region":return c.Region}return new c(m)}constructor(m){this.value=m}}e.FoldingRangeKind=c,c.Comment=new c("comment"),c.Imports=new c("imports"),c.Region=new c("region");var o;(function(p){function m(v){return!v||typeof v!="object"?!1:typeof v.id=="string"&&typeof v.title=="string"}p.is=m})(o||(e.Command=o={}));var d;(function(p){p[p.Type=1]="Type",p[p.Parameter=2]="Parameter"})(d||(e.InlayHintKind=d={}));class l{constructor(m){this.createSupport=m,this._tokenizationSupport=null}dispose(){this._tokenizationSupport&&this._tokenizationSupport.then(m=>{m&&m.dispose()})}get tokenizationSupport(){return this._tokenizationSupport||(this._tokenizationSupport=this.createSupport()),this._tokenizationSupport}}e.LazyTokenizationSupport=l,e.TokenizationRegistry=new D.TokenizationRegistry}),define(ne[154],se([1,0,29]),function(Q,e,L){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.nullTokenizeEncoded=e.nullTokenize=e.NullState=void 0,e.NullState=new class{clone(){return this}equals(D){return this===D}};function k(D,S){return new L.TokenizationResult([new L.Token(0,"",D)],S)}e.nullTokenize=k;function y(D,S){const f=new Uint32Array(2);return f[0]=0,f[1]=(D<<0|0<<8|0<<11|1<<15|2<<24)>>>0,new L.EncodedTokenizationResult(f,S===null?e.NullState:S)}e.nullTokenizeEncoded=y}),define(ne[326],se([1,0,11,86,29,154]),function(Q,e,L,k,y,D){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e._tokenizeToString=e.tokenizeLineToHTML=e.tokenizeToString=void 0;const S={getInitialState:()=>D.NullState,tokenizeEncoded:(C,s,i)=>(0,D.nullTokenizeEncoded)(0,i)};function f(C,s,i){return we(this,void 0,void 0,function*(){if(!i)return g(s,C.languageIdCodec,S);const n=yield y.TokenizationRegistry.getOrCreate(i);return g(s,C.languageIdCodec,n||S)})}e.tokenizeToString=f;function _(C,s,i,n,t,a,u){let h="<div>",r=n,c=0,o=!0;for(let d=0,l=s.getCount();d<l;d++){const p=s.getEndOffset(d);if(p<=n)continue;let m="";for(;r<p&&r<t;r++){const v=C.charCodeAt(r);switch(v){case 9:{let b=a-(r+c)%a;for(c+=b-1;b>0;)u&&o?(m+="&#160;",o=!1):(m+=" ",o=!0),b--;break}case 60:m+="&lt;",o=!1;break;case 62:m+="&gt;",o=!1;break;case 38:m+="&amp;",o=!1;break;case 0:m+="&#00;",o=!1;break;case 65279:case 8232:case 8233:case 133:m+="\uFFFD",o=!1;break;case 13:m+="&#8203",o=!1;break;case 32:u&&o?(m+="&#160;",o=!1):(m+=" ",o=!0);break;default:m+=String.fromCharCode(v),o=!1}}if(h+=`<span style="${s.getInlineStyle(d,i)}">${m}</span>`,p>t||r>=t)break}return h+="</div>",h}e.tokenizeLineToHTML=_;function g(C,s,i){let n='<div class="monaco-tokenized-source">';const t=L.splitLines(C);let a=i.getInitialState();for(let u=0,h=t.length;u<h;u++){const r=t[u];u>0&&(n+="<br/>");const c=i.tokenizeEncoded(r,!0,a);k.LineTokens.convertToEndOffset(c.tokens,r.length);const d=new k.LineTokens(c.tokens,r,s).inflate();let l=0;for(let p=0,m=d.getCount();p<m;p++){const v=d.getClassName(p),b=d.getEndOffset(p);n+=`<span class="${v}">${L.escape(r.substring(l,b))}</span>`,l=b}a=c.endState}return n+="</div>",n}e._tokenizeToString=g}),define(ne[625],se([1,0,13,9,17,58,122,66,90,154,508,288,86]),function(Q,e,L,k,y,D,S,f,_,g,C,s,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.DefaultBackgroundTokenizer=e.RangePriorityQueueImpl=e.TokenizationStateStore=e.TrackingTokenizationStateStore=e.TokenizerWithStateStoreAndTextModel=e.TokenizerWithStateStore=void 0;class n{constructor(d,l){this.tokenizationSupport=l,this.initialState=this.tokenizationSupport.getInitialState(),this.store=new a(d)}getStartState(d){return this.store.getStartState(d,this.initialState)}getFirstInvalidLine(){return this.store.getFirstInvalidLine(this.initialState)}}e.TokenizerWithStateStore=n;class t extends n{constructor(d,l,p,m){super(d,l),this._textModel=p,this._languageIdCodec=m}updateTokensUntilLine(d,l){const p=this._textModel.getLanguageId();for(;;){const m=this.getFirstInvalidLine();if(!m||m.lineNumber>l)break;const v=this._textModel.getLineContent(m.lineNumber),b=r(this._languageIdCodec,p,this.tokenizationSupport,v,!0,m.startState);d.add(m.lineNumber,b.tokens),this.store.setEndState(m.lineNumber,b.endState)}}getTokenTypeIfInsertingCharacter(d,l){const p=this.getStartState(d.lineNumber);if(!p)return 0;const m=this._textModel.getLanguageId(),v=this._textModel.getLineContent(d.lineNumber),b=v.substring(0,d.column-1)+l+v.substring(d.column-1),w=r(this._languageIdCodec,m,this.tokenizationSupport,b,!0,p),E=new i.LineTokens(w.tokens,b,this._languageIdCodec);if(E.getCount()===0)return 0;const I=E.findTokenIndexAtOffset(d.column-1);return E.getStandardTokenType(I)}tokenizeLineWithEdit(d,l,p){const m=d.lineNumber,v=d.column,b=this.getStartState(m);if(!b)return null;const w=this._textModel.getLineContent(m),E=w.substring(0,v-1)+p+w.substring(v-1+l),I=this._textModel.getLanguageIdAtPosition(m,0),M=r(this._languageIdCodec,I,this.tokenizationSupport,E,!0,b);return new i.LineTokens(M.tokens,E,this._languageIdCodec)}isCheapToTokenize(d){const l=this.store.getFirstInvalidEndStateLineNumberOrMax();return d<l||d===l&&this._textModel.getLineLength(d)<2048}tokenizeHeuristically(d,l,p){if(p<=this.store.getFirstInvalidEndStateLineNumberOrMax())return{heuristicTokens:!1};if(l<=this.store.getFirstInvalidEndStateLineNumberOrMax())return this.updateTokensUntilLine(d,p),{heuristicTokens:!1};let m=this.guessStartState(l);const v=this._textModel.getLanguageId();for(let b=l;b<=p;b++){const w=this._textModel.getLineContent(b),E=r(this._languageIdCodec,v,this.tokenizationSupport,w,!0,m);d.add(b,E.tokens),m=E.endState}return{heuristicTokens:!0}}guessStartState(d){let l=this._textModel.getLineFirstNonWhitespaceColumn(d);const p=[];let m=null;for(let w=d-1;l>1&&w>=1;w--){const E=this._textModel.getLineFirstNonWhitespaceColumn(w);if(E!==0&&E<l&&(p.push(this._textModel.getLineContent(w)),l=E,m=this.getStartState(w),m))break}m||(m=this.tokenizationSupport.getInitialState()),p.reverse();const v=this._textModel.getLanguageId();let b=m;for(const w of p)b=r(this._languageIdCodec,v,this.tokenizationSupport,w,!1,b).endState;return b}}e.TokenizerWithStateStoreAndTextModel=t;class a{constructor(d){this.lineCount=d,this._tokenizationStateStore=new u,this._invalidEndStatesLineNumbers=new h,this._invalidEndStatesLineNumbers.addRange(new _.OffsetRange(1,d+1))}getEndState(d){return this._tokenizationStateStore.getEndState(d)}setEndState(d,l){if(!l)throw new k.BugIndicatingError("Cannot set null/undefined state");this._invalidEndStatesLineNumbers.delete(d);const p=this._tokenizationStateStore.setEndState(d,l);return p&&d<this.lineCount&&this._invalidEndStatesLineNumbers.addRange(new _.OffsetRange(d+1,d+2)),p}acceptChange(d,l){this.lineCount+=l-d.length,this._tokenizationStateStore.acceptChange(d,l),this._invalidEndStatesLineNumbers.addRangeAndResize(new _.OffsetRange(d.startLineNumber,d.endLineNumberExclusive),l)}acceptChanges(d){for(const l of d){const[p]=(0,S.countEOL)(l.text);this.acceptChange(new f.LineRange(l.range.startLineNumber,l.range.endLineNumber+1),p+1)}}invalidateEndStateRange(d){this._invalidEndStatesLineNumbers.addRange(new _.OffsetRange(d.startLineNumber,d.endLineNumberExclusive))}getFirstInvalidEndStateLineNumber(){return this._invalidEndStatesLineNumbers.min}getFirstInvalidEndStateLineNumberOrMax(){return this.getFirstInvalidEndStateLineNumber()||Number.MAX_SAFE_INTEGER}allStatesValid(){return this._invalidEndStatesLineNumbers.min===null}getStartState(d,l){return d===1?l:this.getEndState(d-1)}getFirstInvalidLine(d){const l=this.getFirstInvalidEndStateLineNumber();if(l===null)return null;const p=this.getStartState(l,d);if(!p)throw new k.BugIndicatingError("Start state must be defined");return{lineNumber:l,startState:p}}}e.TrackingTokenizationStateStore=a;class u{constructor(){this._lineEndStates=new C.FixedArray(null)}getEndState(d){return this._lineEndStates.get(d)}setEndState(d,l){const p=this._lineEndStates.get(d);return p&&p.equals(l)?!1:(this._lineEndStates.set(d,l),!0)}acceptChange(d,l){let p=d.length;l>0&&p>0&&(p--,l--),this._lineEndStates.replace(d.startLineNumber,p,l)}}e.TokenizationStateStore=u;class h{constructor(){this._ranges=[]}get min(){return this._ranges.length===0?null:this._ranges[0].start}delete(d){const l=this._ranges.findIndex(p=>p.contains(d));if(l!==-1){const p=this._ranges[l];p.start===d?p.endExclusive===d+1?this._ranges.splice(l,1):this._ranges[l]=new _.OffsetRange(d+1,p.endExclusive):p.endExclusive===d+1?this._ranges[l]=new _.OffsetRange(p.start,d):this._ranges.splice(l,1,new _.OffsetRange(p.start,d),new _.OffsetRange(d+1,p.endExclusive))}}addRange(d){_.OffsetRange.addRange(d,this._ranges)}addRangeAndResize(d,l){let p=0;for(;!(p>=this._ranges.length||d.start<=this._ranges[p].endExclusive);)p++;let m=p;for(;!(m>=this._ranges.length||d.endExclusive<this._ranges[m].start);)m++;const v=l-d.length;for(let b=m;b<this._ranges.length;b++)this._ranges[b]=this._ranges[b].delta(v);if(p===m){const b=new _.OffsetRange(d.start,d.start+l);b.isEmpty||this._ranges.splice(p,0,b)}else{const b=Math.min(d.start,this._ranges[p].start),w=Math.max(d.endExclusive,this._ranges[m-1].endExclusive),E=new _.OffsetRange(b,w+v);E.isEmpty?this._ranges.splice(p,m-p):this._ranges.splice(p,m-p,E)}}toString(){return this._ranges.map(d=>d.toString()).join(" + ")}}e.RangePriorityQueueImpl=h;function r(o,d,l,p,m,v){let b=null;if(l)try{b=l.tokenizeEncoded(p,m,v.clone())}catch(w){(0,k.onUnexpectedError)(w)}return b||(b=(0,g.nullTokenizeEncoded)(o.encodeLanguageId(d),v)),i.LineTokens.convertToEndOffset(b.tokens,p.length),b}class c{constructor(d,l){this._tokenizerWithStateStore=d,this._backgroundTokenStore=l,this._isDisposed=!1,this._isScheduled=!1}dispose(){this._isDisposed=!0}handleChanges(){this._beginBackgroundTokenization()}_beginBackgroundTokenization(){this._isScheduled||!this._tokenizerWithStateStore._textModel.isAttachedToEditor()||!this._hasLinesToTokenize()||(this._isScheduled=!0,(0,L.runWhenIdle)(d=>{this._isScheduled=!1,this._backgroundTokenizeWithDeadline(d)}))}_backgroundTokenizeWithDeadline(d){const l=Date.now()+d.timeRemaining(),p=()=>{this._isDisposed||!this._tokenizerWithStateStore._textModel.isAttachedToEditor()||!this._hasLinesToTokenize()||(this._backgroundTokenizeForAtLeast1ms(),Date.now()<l?(0,y.setTimeout0)(p):this._beginBackgroundTokenization())};p()}_backgroundTokenizeForAtLeast1ms(){const d=this._tokenizerWithStateStore._textModel.getLineCount(),l=new s.ContiguousMultilineTokensBuilder,p=D.StopWatch.create(!1);do if(p.elapsed()>1||this._tokenizeOneInvalidLine(l)>=d)break;while(this._hasLinesToTokenize());this._backgroundTokenStore.setTokens(l.finalize()),this.checkFinished()}_hasLinesToTokenize(){return this._tokenizerWithStateStore?!this._tokenizerWithStateStore.store.allStatesValid():!1}_tokenizeOneInvalidLine(d){var l;const p=(l=this._tokenizerWithStateStore)===null||l===void 0?void 0:l.getFirstInvalidLine();return p?(this._tokenizerWithStateStore.updateTokensUntilLine(d,p.lineNumber),p.lineNumber):this._tokenizerWithStateStore._textModel.getLineCount()+1}checkFinished(){this._isDisposed||this._tokenizerWithStateStore.store.allStatesValid()&&this._backgroundTokenStore.backgroundTokenizationFinished()}requestTokens(d,l){this._tokenizerWithStateStore.store.invalidateEndStateRange(new f.LineRange(d,l))}}e.DefaultBackgroundTokenizer=c}),define(ne[626],se([1,0,14,13,9,6,2,122,66,12,147,29,282,625,288,518,520]),function(Q,e,L,k,y,D,S,f,_,g,C,s,i,n,t,a,u){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.TokenizationTextModelPart=void 0;class h extends i.TextModelPart{constructor(d,l,p,m,v,b){super(),this._languageService=d,this._languageConfigurationService=l,this._textModel=p,this._bracketPairsTextModelPart=m,this._languageId=v,this._attachedViews=b,this._semanticTokens=new u.SparseTokensStore(this._languageService.languageIdCodec),this._onDidChangeLanguage=this._register(new D.Emitter),this.onDidChangeLanguage=this._onDidChangeLanguage.event,this._onDidChangeLanguageConfiguration=this._register(new D.Emitter),this.onDidChangeLanguageConfiguration=this._onDidChangeLanguageConfiguration.event,this._onDidChangeTokens=this._register(new D.Emitter),this.onDidChangeTokens=this._onDidChangeTokens.event,this.grammarTokens=this._register(new r(this._languageService.languageIdCodec,this._textModel,()=>this._languageId,this._attachedViews)),this._register(this._languageConfigurationService.onDidChange(w=>{w.affects(this._languageId)&&this._onDidChangeLanguageConfiguration.fire({})})),this._register(this.grammarTokens.onDidChangeTokens(w=>{this._emitModelTokensChangedEvent(w)})),this._register(this.grammarTokens.onDidChangeBackgroundTokenizationState(w=>{this._bracketPairsTextModelPart.handleDidChangeBackgroundTokenizationState()}))}handleDidChangeContent(d){if(d.isFlush)this._semanticTokens.flush();else if(!d.isEolChange)for(const l of d.changes){const[p,m,v]=(0,f.countEOL)(l.text);this._semanticTokens.acceptEdit(l.range,p,m,v,l.text.length>0?l.text.charCodeAt(0):0)}this.grammarTokens.handleDidChangeContent(d)}handleDidChangeAttached(){this.grammarTokens.handleDidChangeAttached()}getLineTokens(d){this.validateLineNumber(d);const l=this.grammarTokens.getLineTokens(d);return this._semanticTokens.addSparseTokens(d,l)}_emitModelTokensChangedEvent(d){this._textModel._isDisposing()||(this._bracketPairsTextModelPart.handleDidChangeTokens(d),this._onDidChangeTokens.fire(d))}validateLineNumber(d){if(d<1||d>this._textModel.getLineCount())throw new y.BugIndicatingError("Illegal value for lineNumber")}get hasTokens(){return this.grammarTokens.hasTokens}resetTokenization(){this.grammarTokens.resetTokenization()}get backgroundTokenizationState(){return this.grammarTokens.backgroundTokenizationState}forceTokenization(d){this.validateLineNumber(d),this.grammarTokens.forceTokenization(d)}isCheapToTokenize(d){return this.validateLineNumber(d),this.grammarTokens.isCheapToTokenize(d)}tokenizeIfCheap(d){this.validateLineNumber(d),this.grammarTokens.tokenizeIfCheap(d)}getTokenTypeIfInsertingCharacter(d,l,p){return this.grammarTokens.getTokenTypeIfInsertingCharacter(d,l,p)}tokenizeLineWithEdit(d,l,p){return this.grammarTokens.tokenizeLineWithEdit(d,l,p)}setSemanticTokens(d,l){this._semanticTokens.set(d,l),this._emitModelTokensChangedEvent({semanticTokensApplied:d!==null,ranges:[{fromLineNumber:1,toLineNumber:this._textModel.getLineCount()}]})}hasCompleteSemanticTokens(){return this._semanticTokens.isComplete()}hasSomeSemanticTokens(){return!this._semanticTokens.isEmpty()}setPartialSemanticTokens(d,l){if(this.hasCompleteSemanticTokens())return;const p=this._textModel.validateRange(this._semanticTokens.setPartial(d,l));this._emitModelTokensChangedEvent({semanticTokensApplied:!0,ranges:[{fromLineNumber:p.startLineNumber,toLineNumber:p.endLineNumber}]})}getWordAtPosition(d){this.assertNotDisposed();const l=this._textModel.validatePosition(d),p=this._textModel.getLineContent(l.lineNumber),m=this.getLineTokens(l.lineNumber),v=m.findTokenIndexAtOffset(l.column-1),[b,w]=h._findLanguageBoundaries(m,v),E=(0,C.getWordAtText)(l.column,this.getLanguageConfiguration(m.getLanguageId(v)).getWordDefinition(),p.substring(b,w),b);if(E&&E.startColumn<=d.column&&d.column<=E.endColumn)return E;if(v>0&&b===l.column-1){const[I,M]=h._findLanguageBoundaries(m,v-1),P=(0,C.getWordAtText)(l.column,this.getLanguageConfiguration(m.getLanguageId(v-1)).getWordDefinition(),p.substring(I,M),I);if(P&&P.startColumn<=d.column&&d.column<=P.endColumn)return P}return null}getLanguageConfiguration(d){return this._languageConfigurationService.getLanguageConfiguration(d)}static _findLanguageBoundaries(d,l){const p=d.getLanguageId(l);let m=0;for(let b=l;b>=0&&d.getLanguageId(b)===p;b--)m=d.getStartOffset(b);let v=d.getLineContent().length;for(let b=l,w=d.getCount();b<w&&d.getLanguageId(b)===p;b++)v=d.getEndOffset(b);return[m,v]}getWordUntilPosition(d){const l=this.getWordAtPosition(d);return l?{word:l.word.substr(0,d.column-l.startColumn),startColumn:l.startColumn,endColumn:d.column}:{word:"",startColumn:d.column,endColumn:d.column}}getLanguageId(){return this._languageId}getLanguageIdAtPosition(d,l){const p=this._textModel.validatePosition(new g.Position(d,l)),m=this.getLineTokens(p.lineNumber);return m.getLanguageId(m.findTokenIndexAtOffset(p.column-1))}setLanguageId(d,l="api"){if(this._languageId===d)return;const p={oldLanguage:this._languageId,newLanguage:d,source:l};this._languageId=d,this._bracketPairsTextModelPart.handleDidChangeLanguage(p),this.grammarTokens.resetTokenization(),this._onDidChangeLanguage.fire(p),this._onDidChangeLanguageConfiguration.fire({})}}e.TokenizationTextModelPart=h;class r extends S.Disposable{get backgroundTokenizationState(){return this._backgroundTokenizationState}constructor(d,l,p,m){super(),this._languageIdCodec=d,this._textModel=l,this.getLanguageId=p,this._tokenizer=null,this._defaultBackgroundTokenizer=null,this._backgroundTokenizer=this._register(new S.MutableDisposable),this._tokens=new a.ContiguousTokensStore(this._languageIdCodec),this._debugBackgroundTokenizer=this._register(new S.MutableDisposable),this._backgroundTokenizationState=1,this._onDidChangeBackgroundTokenizationState=this._register(new D.Emitter),this.onDidChangeBackgroundTokenizationState=this._onDidChangeBackgroundTokenizationState.event,this._onDidChangeTokens=this._register(new D.Emitter),this.onDidChangeTokens=this._onDidChangeTokens.event,this._attachedViewStates=this._register(new S.DisposableMap),this._register(s.TokenizationRegistry.onDidChange(v=>{const b=this.getLanguageId();v.changedLanguages.indexOf(b)!==-1&&this.resetTokenization()})),this.resetTokenization(),this._register(m.onDidChangeVisibleRanges(({view:v,state:b})=>{if(b){let w=this._attachedViewStates.get(v);w||(w=new c(()=>this.refreshRanges(w.lineRanges)),this._attachedViewStates.set(v,w)),w.handleStateChange(b)}else this._attachedViewStates.deleteAndDispose(v)}))}resetTokenization(d=!0){var l;this._tokens.flush(),(l=this._debugBackgroundTokens)===null||l===void 0||l.flush(),this._debugBackgroundStates&&(this._debugBackgroundStates=new n.TrackingTokenizationStateStore(this._textModel.getLineCount())),d&&this._onDidChangeTokens.fire({semanticTokensApplied:!1,ranges:[{fromLineNumber:1,toLineNumber:this._textModel.getLineCount()}]});const p=()=>{if(this._textModel.isTooLargeForTokenization())return[null,null];const b=s.TokenizationRegistry.get(this.getLanguageId());if(!b)return[null,null];let w;try{w=b.getInitialState()}catch(E){return(0,y.onUnexpectedError)(E),[null,null]}return[b,w]},[m,v]=p();if(m&&v?this._tokenizer=new n.TokenizerWithStateStoreAndTextModel(this._textModel.getLineCount(),m,this._textModel,this._languageIdCodec):this._tokenizer=null,this._backgroundTokenizer.clear(),this._defaultBackgroundTokenizer=null,this._tokenizer){const b={setTokens:w=>{this.setTokens(w)},backgroundTokenizationFinished:()=>{if(this._backgroundTokenizationState===2)return;const w=2;this._backgroundTokenizationState=w,this._onDidChangeBackgroundTokenizationState.fire()},setEndState:(w,E)=>{var I;if(!this._tokenizer)return;const M=this._tokenizer.store.getFirstInvalidEndStateLineNumber();M!==null&&w>=M&&((I=this._tokenizer)===null||I===void 0||I.store.setEndState(w,E))}};m&&m.createBackgroundTokenizer&&!m.backgroundTokenizerShouldOnlyVerifyTokens&&(this._backgroundTokenizer.value=m.createBackgroundTokenizer(this._textModel,b)),this._backgroundTokenizer.value||(this._backgroundTokenizer.value=this._defaultBackgroundTokenizer=new n.DefaultBackgroundTokenizer(this._tokenizer,b),this._defaultBackgroundTokenizer.handleChanges()),m?.backgroundTokenizerShouldOnlyVerifyTokens&&m.createBackgroundTokenizer?(this._debugBackgroundTokens=new a.ContiguousTokensStore(this._languageIdCodec),this._debugBackgroundStates=new n.TrackingTokenizationStateStore(this._textModel.getLineCount()),this._debugBackgroundTokenizer.clear(),this._debugBackgroundTokenizer.value=m.createBackgroundTokenizer(this._textModel,{setTokens:w=>{var E;(E=this._debugBackgroundTokens)===null||E===void 0||E.setMultilineTokens(w,this._textModel)},backgroundTokenizationFinished(){},setEndState:(w,E)=>{var I;(I=this._debugBackgroundStates)===null||I===void 0||I.setEndState(w,E)}})):(this._debugBackgroundTokens=void 0,this._debugBackgroundStates=void 0,this._debugBackgroundTokenizer.value=void 0)}this.refreshAllVisibleLineTokens()}handleDidChangeAttached(){var d;(d=this._defaultBackgroundTokenizer)===null||d===void 0||d.handleChanges()}handleDidChangeContent(d){var l,p,m;if(d.isFlush)this.resetTokenization(!1);else if(!d.isEolChange){for(const v of d.changes){const[b,w]=(0,f.countEOL)(v.text);this._tokens.acceptEdit(v.range,b,w),(l=this._debugBackgroundTokens)===null||l===void 0||l.acceptEdit(v.range,b,w)}(p=this._debugBackgroundStates)===null||p===void 0||p.acceptChanges(d.changes),this._tokenizer&&this._tokenizer.store.acceptChanges(d.changes),(m=this._defaultBackgroundTokenizer)===null||m===void 0||m.handleChanges()}}setTokens(d){const{changes:l}=this._tokens.setMultilineTokens(d,this._textModel);return l.length>0&&this._onDidChangeTokens.fire({semanticTokensApplied:!1,ranges:l}),{changes:l}}refreshAllVisibleLineTokens(){const d=_.LineRange.joinMany([...this._attachedViewStates].map(([l,p])=>p.lineRanges));this.refreshRanges(d)}refreshRanges(d){for(const l of d)this.refreshRange(l.startLineNumber,l.endLineNumberExclusive-1)}refreshRange(d,l){var p,m;if(!this._tokenizer)return;d=Math.max(1,Math.min(this._textModel.getLineCount(),d)),l=Math.min(this._textModel.getLineCount(),l);const v=new t.ContiguousMultilineTokensBuilder,{heuristicTokens:b}=this._tokenizer.tokenizeHeuristically(v,d,l),w=this.setTokens(v.finalize());if(b)for(const E of w.changes)(p=this._backgroundTokenizer.value)===null||p===void 0||p.requestTokens(E.fromLineNumber,E.toLineNumber+1);(m=this._defaultBackgroundTokenizer)===null||m===void 0||m.checkFinished()}forceTokenization(d){var l,p;const m=new t.ContiguousMultilineTokensBuilder;(l=this._tokenizer)===null||l===void 0||l.updateTokensUntilLine(m,d),this.setTokens(m.finalize()),(p=this._defaultBackgroundTokenizer)===null||p===void 0||p.checkFinished()}isCheapToTokenize(d){return this._tokenizer?this._tokenizer.isCheapToTokenize(d):!0}tokenizeIfCheap(d){this.isCheapToTokenize(d)&&this.forceTokenization(d)}getLineTokens(d){var l;const p=this._textModel.getLineContent(d),m=this._tokens.getTokens(this._textModel.getLanguageId(),d-1,p);if(this._debugBackgroundTokens&&this._debugBackgroundStates&&this._tokenizer&&this._debugBackgroundStates.getFirstInvalidEndStateLineNumberOrMax()>d&&this._tokenizer.store.getFirstInvalidEndStateLineNumberOrMax()>d){const v=this._debugBackgroundTokens.getTokens(this._textModel.getLanguageId(),d-1,p);!m.equals(v)&&(!((l=this._debugBackgroundTokenizer.value)===null||l===void 0)&&l.reportMismatchingTokens)&&this._debugBackgroundTokenizer.value.reportMismatchingTokens(d)}return m}getTokenTypeIfInsertingCharacter(d,l,p){if(!this._tokenizer)return 0;const m=this._textModel.validatePosition(new g.Position(d,l));return this.forceTokenization(m.lineNumber),this._tokenizer.getTokenTypeIfInsertingCharacter(m,p)}tokenizeLineWithEdit(d,l,p){if(!this._tokenizer)return null;const m=this._textModel.validatePosition(d);return this.forceTokenization(m.lineNumber),this._tokenizer.tokenizeLineWithEdit(m,l,p)}get hasTokens(){return this._tokens.hasTokens}}class c extends S.Disposable{get lineRanges(){return this._lineRanges}constructor(d){super(),this._refreshTokens=d,this.runner=this._register(new k.RunOnceScheduler(()=>this.update(),50)),this._computedLineRanges=[],this._lineRanges=[]}update(){(0,L.equals)(this._computedLineRanges,this._lineRanges,(d,l)=>d.equals(l))||(this._computedLineRanges=this._lineRanges,this._refreshTokens())}handleStateChange(d){this._lineRanges=d.visibleLineRanges,d.stabilized?(this.runner.cancel(),this.update()):this.runner.schedule()}}}),define(ne[327],se([1,0,19,6,63,22,12,5,24,29,208]),function(Q,e,L,k,y,D,S,f,_,g,C){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.createMonacoBaseAPI=e.KeyMod=void 0;class s{static chord(t,a){return(0,y.KeyChord)(t,a)}}e.KeyMod=s,s.CtrlCmd=2048,s.Shift=1024,s.Alt=512,s.WinCtrl=256;function i(){return{editor:void 0,languages:void 0,CancellationTokenSource:L.CancellationTokenSource,Emitter:k.Emitter,KeyCode:C.KeyCode,KeyMod:s,Position:S.Position,Range:f.Range,Selection:_.Selection,SelectionDirection:C.SelectionDirection,MarkerSeverity:C.MarkerSeverity,MarkerTag:C.MarkerTag,Uri:D.URI,Token:g.Token}}e.createMonacoBaseAPI=i}),define(ne[627],se([1,0,168,22,12,5,512,147,495,501,327,58,286,492,47,494]),function(Q,e,L,k,y,D,S,f,_,g,C,s,i,n,t,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.create=e.EditorSimpleWorker=void 0;class u extends S.MirrorTextModel{get uri(){return this._uri}get eol(){return this._eol}getValue(){return this.getText()}findMatches(o){const d=[];for(let l=0;l<this._lines.length;l++){const p=this._lines[l],m=this.offsetAt(new y.Position(l+1,1)),v=p.matchAll(o);for(const b of v)(b.index||b.index===0)&&(b.index=b.index+m),d.push(b)}return d}getLinesContent(){return this._lines.slice(0)}getLineCount(){return this._lines.length}getLineContent(o){return this._lines[o-1]}getWordAtPosition(o,d){const l=(0,f.getWordAtText)(o.column,(0,f.ensureValidWordDefinition)(d),this._lines[o.lineNumber-1],0);return l?new D.Range(o.lineNumber,l.startColumn,o.lineNumber,l.endColumn):null}words(o){const d=this._lines,l=this._wordenize.bind(this);let p=0,m="",v=0,b=[];return{*[Symbol.iterator](){for(;;)if(v<b.length){const w=m.substring(b[v].start,b[v].end);v+=1,yield w}else if(p<d.length)m=d[p],b=l(m,o),v=0,p+=1;else break}}}getLineWords(o,d){const l=this._lines[o-1],p=this._wordenize(l,d),m=[];for(const v of p)m.push({word:l.substring(v.start,v.end),startColumn:v.start+1,endColumn:v.end+1});return m}_wordenize(o,d){const l=[];let p;for(d.lastIndex=0;(p=d.exec(o))&&p[0].length!==0;)l.push({start:p.index,end:p.index+p[0].length});return l}getValueInRange(o){if(o=this._validateRange(o),o.startLineNumber===o.endLineNumber)return this._lines[o.startLineNumber-1].substring(o.startColumn-1,o.endColumn-1);const d=this._eol,l=o.startLineNumber-1,p=o.endLineNumber-1,m=[];m.push(this._lines[l].substring(o.startColumn-1));for(let v=l+1;v<p;v++)m.push(this._lines[v]);return m.push(this._lines[p].substring(0,o.endColumn-1)),m.join(d)}offsetAt(o){return o=this._validatePosition(o),this._ensureLineStarts(),this._lineStarts.getPrefixSum(o.lineNumber-2)+(o.column-1)}positionAt(o){o=Math.floor(o),o=Math.max(0,o),this._ensureLineStarts();const d=this._lineStarts.getIndexOf(o),l=this._lines[d.index].length;return{lineNumber:1+d.index,column:1+Math.min(d.remainder,l)}}_validateRange(o){const d=this._validatePosition({lineNumber:o.startLineNumber,column:o.startColumn}),l=this._validatePosition({lineNumber:o.endLineNumber,column:o.endColumn});return d.lineNumber!==o.startLineNumber||d.column!==o.startColumn||l.lineNumber!==o.endLineNumber||l.column!==o.endColumn?{startLineNumber:d.lineNumber,startColumn:d.column,endLineNumber:l.lineNumber,endColumn:l.column}:o}_validatePosition(o){if(!y.Position.isIPosition(o))throw new Error("bad position");let{lineNumber:d,column:l}=o,p=!1;if(d<1)d=1,l=1,p=!0;else if(d>this._lines.length)d=this._lines.length,l=this._lines[d-1].length+1,p=!0;else{const m=this._lines[d-1].length+1;l<1?(l=1,p=!0):l>m&&(l=m,p=!0)}return p?{lineNumber:d,column:l}:o}}class h{constructor(o,d){this._host=o,this._models=Object.create(null),this._foreignModuleFactory=d,this._foreignModule=null}dispose(){this._models=Object.create(null)}_getModel(o){return this._models[o]}_getModels(){const o=[];return Object.keys(this._models).forEach(d=>o.push(this._models[d])),o}acceptNewModel(o){this._models[o.url]=new u(k.URI.parse(o.url),o.lines,o.EOL,o.versionId)}acceptModelChanged(o,d){if(!this._models[o])return;this._models[o].onEvents(d)}acceptRemovedModel(o){this._models[o]&&delete this._models[o]}computeUnicodeHighlights(o,d,l){return we(this,void 0,void 0,function*(){const p=this._getModel(o);return p?i.UnicodeTextModelHighlighter.computeUnicodeHighlights(p,d,l):{ranges:[],hasMore:!1,ambiguousCharacterCount:0,invisibleCharacterCount:0,nonBasicAsciiCharacterCount:0}})}computeDiff(o,d,l,p){return we(this,void 0,void 0,function*(){const m=this._getModel(o),v=this._getModel(d);return!m||!v?null:h.computeDiff(m,v,l,p)})}static computeDiff(o,d,l,p){const m=p==="advanced"?n.linesDiffComputers.getAdvanced():n.linesDiffComputers.getLegacy(),v=o.getLinesContent(),b=d.getLinesContent(),w=m.computeDiff(v,b,l),E=w.changes.length>0?!1:this._modelsAreIdentical(o,d);function I(M){return M.map(P=>{var x;return[P.originalRange.startLineNumber,P.originalRange.endLineNumberExclusive,P.modifiedRange.startLineNumber,P.modifiedRange.endLineNumberExclusive,(x=P.innerChanges)===null||x===void 0?void 0:x.map(T=>[T.originalRange.startLineNumber,T.originalRange.startColumn,T.originalRange.endLineNumber,T.originalRange.endColumn,T.modifiedRange.startLineNumber,T.modifiedRange.startColumn,T.modifiedRange.endLineNumber,T.modifiedRange.endColumn])]})}return{identical:E,quitEarly:w.hitTimeout,changes:I(w.changes),moves:w.moves.map(M=>[M.lineRangeMapping.original.startLineNumber,M.lineRangeMapping.original.endLineNumberExclusive,M.lineRangeMapping.modified.startLineNumber,M.lineRangeMapping.modified.endLineNumberExclusive,I(M.changes)])}}static _modelsAreIdentical(o,d){const l=o.getLineCount(),p=d.getLineCount();if(l!==p)return!1;for(let m=1;m<=l;m++){const v=o.getLineContent(m),b=d.getLineContent(m);if(v!==b)return!1}return!0}computeMoreMinimalEdits(o,d,l){return we(this,void 0,void 0,function*(){const p=this._getModel(o);if(!p)return d;const m=[];let v;d=d.slice(0).sort((b,w)=>{if(b.range&&w.range)return D.Range.compareRangesUsingStarts(b.range,w.range);const E=b.range?0:1,I=w.range?0:1;return E-I});for(let{range:b,text:w,eol:E}of d){if(typeof E=="number"&&(v=E),D.Range.isEmpty(b)&&!w)continue;const I=p.getValueInRange(b);if(w=w.replace(/\r\n|\n|\r/g,p.eol),I===w)continue;if(Math.max(w.length,I.length)>h._diffLimit){m.push({range:b,text:w});continue}const M=(0,L.stringDiff)(I,w,l),P=p.offsetAt(D.Range.lift(b).getStartPosition());for(const x of M){const T=p.positionAt(P+x.originalStart),A=p.positionAt(P+x.originalStart+x.originalLength),N={text:w.substr(x.modifiedStart,x.modifiedLength),range:{startLineNumber:T.lineNumber,startColumn:T.column,endLineNumber:A.lineNumber,endColumn:A.column}};p.getValueInRange(N.range)!==N.text&&m.push(N)}}return typeof v=="number"&&m.push({eol:v,text:"",range:{startLineNumber:0,startColumn:0,endLineNumber:0,endColumn:0}}),m})}computeLinks(o){return we(this,void 0,void 0,function*(){const d=this._getModel(o);return d?(0,_.computeLinks)(d):null})}computeDefaultDocumentColors(o){return we(this,void 0,void 0,function*(){const d=this._getModel(o);return d?(0,a.computeDefaultDocumentColors)(d):null})}textualSuggest(o,d,l,p){return we(this,void 0,void 0,function*(){const m=new s.StopWatch,v=new RegExp(l,p),b=new Set;e:for(const w of o){const E=this._getModel(w);if(E){for(const I of E.words(v))if(!(I===d||!isNaN(Number(I)))&&(b.add(I),b.size>h._suggestionsLimit))break e}}return{words:Array.from(b),duration:m.elapsed()}})}computeWordRanges(o,d,l,p){return we(this,void 0,void 0,function*(){const m=this._getModel(o);if(!m)return Object.create(null);const v=new RegExp(l,p),b=Object.create(null);for(let w=d.startLineNumber;w<d.endLineNumber;w++){const E=m.getLineWords(w,v);for(const I of E){if(!isNaN(Number(I.word)))continue;let M=b[I.word];M||(M=[],b[I.word]=M),M.push({startLineNumber:w,startColumn:I.startColumn,endLineNumber:w,endColumn:I.endColumn})}}return b})}navigateValueSet(o,d,l,p,m){return we(this,void 0,void 0,function*(){const v=this._getModel(o);if(!v)return null;const b=new RegExp(p,m);d.startColumn===d.endColumn&&(d={startLineNumber:d.startLineNumber,startColumn:d.startColumn,endLineNumber:d.endLineNumber,endColumn:d.endColumn+1});const w=v.getValueInRange(d),E=v.getWordAtPosition({lineNumber:d.startLineNumber,column:d.startColumn},b);if(!E)return null;const I=v.getValueInRange(E);return g.BasicInplaceReplace.INSTANCE.navigateValueSet(d,w,E,I,l)})}loadForeignModule(o,d,l){const p=(b,w)=>this._host.fhr(b,w),v={host:(0,t.createProxyObject)(l,p),getMirrorModels:()=>this._getModels()};return this._foreignModuleFactory?(this._foreignModule=this._foreignModuleFactory(v,d),Promise.resolve((0,t.getAllMethodNames)(this._foreignModule))):new Promise((b,w)=>{Q([o],E=>{this._foreignModule=E.create(v,d),b((0,t.getAllMethodNames)(this._foreignModule))},w)})}fmr(o,d){if(!this._foreignModule||typeof this._foreignModule[o]!="function")return Promise.reject(new Error("Missing requestHandler or method: "+o));try{return Promise.resolve(this._foreignModule[o].apply(this._foreignModule,d))}catch(l){return Promise.reject(l)}}}e.EditorSimpleWorker=h,h._diffLimit=1e5,h._suggestionsLimit=1e4;function r(c){return new h(c,null)}e.create=r,typeof importScripts=="function"&&(globalThis.monaco=(0,C.createMonacoBaseAPI)())}),define(ne[328],se([1,0,6,2,274,29]),function(Q,e,L,k,y,D){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.MinimapTokensColorTracker=void 0;class S extends k.Disposable{static getInstance(){return this._INSTANCE||(this._INSTANCE=(0,k.markAsSingleton)(new S)),this._INSTANCE}constructor(){super(),this._onDidChange=new L.Emitter,this.onDidChange=this._onDidChange.event,this._updateColorMap(),this._register(D.TokenizationRegistry.onDidChange(_=>{_.changedColorMap&&this._updateColorMap()}))}_updateColorMap(){const _=D.TokenizationRegistry.getColorMap();if(!_){this._colors=[y.RGBA8.Empty],this._backgroundIsLight=!0;return}this._colors=[y.RGBA8.Empty];for(let C=1;C<_.length;C++){const s=_[C].rgba;this._colors[C]=new y.RGBA8(s.r,s.g,s.b,Math.round(s.a*255))}const g=_[2].getRelativeLuminance();this._backgroundIsLight=g>=.5,this._onDidChange.fire(void 0)}getColor(_){return(_<1||_>=this._colors.length)&&(_=2),this._colors[_]}backgroundIsLight(){return this._backgroundIsLight}}e.MinimapTokensColorTracker=S,S._INSTANCE=null}),define(ne[628],se([3,4]),function(Q,e){return Q.create("vs/editor/common/languages/modesRegistry",e)}),define(ne[629],se([3,4]),function(Q,e){return Q.create("vs/editor/common/model/editStack",e)}),define(ne[329],se([1,0,629,9,24,22,319,140,45]),function(Q,e,L,k,y,D,S,f,_){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.EditStack=e.isEditStackElement=e.MultiModelEditStackElement=e.SingleModelEditStackElement=e.SingleModelEditStackData=void 0;function g(u){return u.toString()}class C{static create(h,r){const c=h.getAlternativeVersionId(),o=n(h);return new C(c,c,o,o,r,r,[])}constructor(h,r,c,o,d,l,p){this.beforeVersionId=h,this.afterVersionId=r,this.beforeEOL=c,this.afterEOL=o,this.beforeCursorState=d,this.afterCursorState=l,this.changes=p}append(h,r,c,o,d){r.length>0&&(this.changes=(0,S.compressConsecutiveTextChanges)(this.changes,r)),this.afterEOL=c,this.afterVersionId=o,this.afterCursorState=d}static _writeSelectionsSize(h){return 4+4*4*(h?h.length:0)}static _writeSelections(h,r,c){if(f.writeUInt32BE(h,r?r.length:0,c),c+=4,r)for(const o of r)f.writeUInt32BE(h,o.selectionStartLineNumber,c),c+=4,f.writeUInt32BE(h,o.selectionStartColumn,c),c+=4,f.writeUInt32BE(h,o.positionLineNumber,c),c+=4,f.writeUInt32BE(h,o.positionColumn,c),c+=4;return c}static _readSelections(h,r,c){const o=f.readUInt32BE(h,r);r+=4;for(let d=0;d<o;d++){const l=f.readUInt32BE(h,r);r+=4;const p=f.readUInt32BE(h,r);r+=4;const m=f.readUInt32BE(h,r);r+=4;const v=f.readUInt32BE(h,r);r+=4,c.push(new y.Selection(l,p,m,v))}return r}serialize(){let h=10+C._writeSelectionsSize(this.beforeCursorState)+C._writeSelectionsSize(this.afterCursorState)+4;for(const o of this.changes)h+=o.writeSize();const r=new Uint8Array(h);let c=0;f.writeUInt32BE(r,this.beforeVersionId,c),c+=4,f.writeUInt32BE(r,this.afterVersionId,c),c+=4,f.writeUInt8(r,this.beforeEOL,c),c+=1,f.writeUInt8(r,this.afterEOL,c),c+=1,c=C._writeSelections(r,this.beforeCursorState,c),c=C._writeSelections(r,this.afterCursorState,c),f.writeUInt32BE(r,this.changes.length,c),c+=4;for(const o of this.changes)c=o.write(r,c);return r.buffer}static deserialize(h){const r=new Uint8Array(h);let c=0;const o=f.readUInt32BE(r,c);c+=4;const d=f.readUInt32BE(r,c);c+=4;const l=f.readUInt8(r,c);c+=1;const p=f.readUInt8(r,c);c+=1;const m=[];c=C._readSelections(r,c,m);const v=[];c=C._readSelections(r,c,v);const b=f.readUInt32BE(r,c);c+=4;const w=[];for(let E=0;E<b;E++)c=S.TextChange.read(r,c,w);return new C(o,d,l,p,m,v,w)}}e.SingleModelEditStackData=C;class s{get type(){return 0}get resource(){return D.URI.isUri(this.model)?this.model:this.model.uri}constructor(h,r,c,o){this.label=h,this.code=r,this.model=c,this._data=C.create(c,o)}toString(){return(this._data instanceof C?this._data:C.deserialize(this._data)).changes.map(r=>r.toString()).join(", ")}matchesResource(h){return(D.URI.isUri(this.model)?this.model:this.model.uri).toString()===h.toString()}setModel(h){this.model=h}canAppend(h){return this.model===h&&this._data instanceof C}append(h,r,c,o,d){this._data instanceof C&&this._data.append(h,r,c,o,d)}close(){this._data instanceof C&&(this._data=this._data.serialize())}open(){this._data instanceof C||(this._data=C.deserialize(this._data))}undo(){if(D.URI.isUri(this.model))throw new Error("Invalid SingleModelEditStackElement");this._data instanceof C&&(this._data=this._data.serialize());const h=C.deserialize(this._data);this.model._applyUndo(h.changes,h.beforeEOL,h.beforeVersionId,h.beforeCursorState)}redo(){if(D.URI.isUri(this.model))throw new Error("Invalid SingleModelEditStackElement");this._data instanceof C&&(this._data=this._data.serialize());const h=C.deserialize(this._data);this.model._applyRedo(h.changes,h.afterEOL,h.afterVersionId,h.afterCursorState)}heapSize(){return this._data instanceof C&&(this._data=this._data.serialize()),this._data.byteLength+168}}e.SingleModelEditStackElement=s;class i{get resources(){return this._editStackElementsArr.map(h=>h.resource)}constructor(h,r,c){this.label=h,this.code=r,this.type=1,this._isOpen=!0,this._editStackElementsArr=c.slice(0),this._editStackElementsMap=new Map;for(const o of this._editStackElementsArr){const d=g(o.resource);this._editStackElementsMap.set(d,o)}this._delegate=null}prepareUndoRedo(){if(this._delegate)return this._delegate.prepareUndoRedo(this)}matchesResource(h){const r=g(h);return this._editStackElementsMap.has(r)}setModel(h){const r=g(D.URI.isUri(h)?h:h.uri);this._editStackElementsMap.has(r)&&this._editStackElementsMap.get(r).setModel(h)}canAppend(h){if(!this._isOpen)return!1;const r=g(h.uri);return this._editStackElementsMap.has(r)?this._editStackElementsMap.get(r).canAppend(h):!1}append(h,r,c,o,d){const l=g(h.uri);this._editStackElementsMap.get(l).append(h,r,c,o,d)}close(){this._isOpen=!1}open(){}undo(){this._isOpen=!1;for(const h of this._editStackElementsArr)h.undo()}redo(){for(const h of this._editStackElementsArr)h.redo()}heapSize(h){const r=g(h);return this._editStackElementsMap.has(r)?this._editStackElementsMap.get(r).heapSize():0}split(){return this._editStackElementsArr}toString(){const h=[];for(const r of this._editStackElementsArr)h.push(`${(0,_.basename)(r.resource)}: ${r}`);return`{${h.join(", ")}}`}}e.MultiModelEditStackElement=i;function n(u){return u.getEOL()===`
`?0:1}function t(u){return u?u instanceof s||u instanceof i:!1}e.isEditStackElement=t;class a{constructor(h,r){this._model=h,this._undoRedoService=r}pushStackElement(){const h=this._undoRedoService.getLastElement(this._model.uri);t(h)&&h.close()}popStackElement(){const h=this._undoRedoService.getLastElement(this._model.uri);t(h)&&h.open()}clear(){this._undoRedoService.removeElements(this._model.uri)}_getOrCreateEditStackElement(h,r){const c=this._undoRedoService.getLastElement(this._model.uri);if(t(c)&&c.canAppend(this._model))return c;const o=new s(L.localize(0,null),"undoredo.textBufferEdit",this._model,h);return this._undoRedoService.pushElement(o,r),o}pushEOL(h){const r=this._getOrCreateEditStackElement(null,void 0);this._model.setEOL(h),r.append(this._model,[],n(this._model),this._model.getAlternativeVersionId(),null)}pushEditOperation(h,r,c,o){const d=this._getOrCreateEditStackElement(h,o),l=this._model.applyEdits(r,!0),p=a._computeCursorState(c,l),m=l.map((v,b)=>({index:b,textChange:v.textChange}));return m.sort((v,b)=>v.textChange.oldPosition===b.textChange.oldPosition?v.index-b.index:v.textChange.oldPosition-b.textChange.oldPosition),d.append(this._model,m.map(v=>v.textChange),n(this._model),this._model.getAlternativeVersionId(),p),p}static _computeCursorState(h,r){try{return h?h(r):null}catch(c){return(0,k.onUnexpectedError)(c),null}}}e.EditStack=a}),define(ne[630],se([3,4]),function(Q,e){return Q.create("vs/editor/common/standaloneStrings",e)}),define(ne[94],se([1,0,630]),function(Q,e,L){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.StandaloneServicesNLS=e.ToggleHighContrastNLS=e.StandaloneCodeEditorNLS=e.QuickOutlineNLS=e.QuickCommandNLS=e.QuickHelpNLS=e.GoToLineNLS=e.InspectTokensNLS=void 0;var k;(function(s){s.inspectTokensAction=L.localize(0,null)})(k||(e.InspectTokensNLS=k={}));var y;(function(s){s.gotoLineActionLabel=L.localize(1,null)})(y||(e.GoToLineNLS=y={}));var D;(function(s){s.helpQuickAccessActionLabel=L.localize(2,null)})(D||(e.QuickHelpNLS=D={}));var S;(function(s){s.quickCommandActionLabel=L.localize(3,null),s.quickCommandHelp=L.localize(4,null)})(S||(e.QuickCommandNLS=S={}));var f;(function(s){s.quickOutlineActionLabel=L.localize(5,null),s.quickOutlineByCategoryActionLabel=L.localize(6,null)})(f||(e.QuickOutlineNLS=f={}));var _;(function(s){s.editorViewAccessibleLabel=L.localize(7,null),s.accessibilityHelpMessage=L.localize(8,null)})(_||(e.StandaloneCodeEditorNLS=_={}));var g;(function(s){s.toggleHighContrast=L.localize(9,null)})(g||(e.ToggleHighContrastNLS=g={}));var C;(function(s){s.bulkEditServiceSummary=L.localize(10,null)})(C||(e.StandaloneServicesNLS=C={}))}),define(ne[631],se([3,4]),function(Q,e){return Q.create("vs/editor/common/viewLayout/viewLineRenderer",e)}),define(ne[95],se([1,0,631,11,93,127,529]),function(Q,e,L,k,y,D,S){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.renderViewLine2=e.RenderLineOutput2=e.renderViewLine=e.RenderLineOutput=e.CharacterMapping=e.DomPosition=e.RenderLineInput=e.LineRange=void 0;class f{constructor(w,E){this.startOffset=w,this.endOffset=E}equals(w){return this.startOffset===w.startOffset&&this.endOffset===w.endOffset}}e.LineRange=f;class _{constructor(w,E,I,M,P,x,T,A,N,F,O,W,U,j,R,K,G,Z,J){this.useMonospaceOptimizations=w,this.canUseHalfwidthRightwardsArrow=E,this.lineContent=I,this.continuesWithWrappedLine=M,this.isBasicASCII=P,this.containsRTL=x,this.fauxIndentLength=T,this.lineTokens=A,this.lineDecorations=N.sort(D.LineDecoration.compare),this.tabSize=F,this.startVisibleColumn=O,this.spaceWidth=W,this.stopRenderingLineAfter=R,this.renderWhitespace=K==="all"?4:K==="boundary"?1:K==="selection"?2:K==="trailing"?3:0,this.renderControlCharacters=G,this.fontLigatures=Z,this.selectionsOnLine=J&&J.sort((B,V)=>B.startOffset<V.startOffset?-1:1);const X=Math.abs(j-W),H=Math.abs(U-W);X<H?(this.renderSpaceWidth=j,this.renderSpaceCharCode=11825):(this.renderSpaceWidth=U,this.renderSpaceCharCode=183)}sameSelection(w){if(this.selectionsOnLine===null)return w===null;if(w===null||w.length!==this.selectionsOnLine.length)return!1;for(let E=0;E<this.selectionsOnLine.length;E++)if(!this.selectionsOnLine[E].equals(w[E]))return!1;return!0}equals(w){return this.useMonospaceOptimizations===w.useMonospaceOptimizations&&this.canUseHalfwidthRightwardsArrow===w.canUseHalfwidthRightwardsArrow&&this.lineContent===w.lineContent&&this.continuesWithWrappedLine===w.continuesWithWrappedLine&&this.isBasicASCII===w.isBasicASCII&&this.containsRTL===w.containsRTL&&this.fauxIndentLength===w.fauxIndentLength&&this.tabSize===w.tabSize&&this.startVisibleColumn===w.startVisibleColumn&&this.spaceWidth===w.spaceWidth&&this.renderSpaceWidth===w.renderSpaceWidth&&this.renderSpaceCharCode===w.renderSpaceCharCode&&this.stopRenderingLineAfter===w.stopRenderingLineAfter&&this.renderWhitespace===w.renderWhitespace&&this.renderControlCharacters===w.renderControlCharacters&&this.fontLigatures===w.fontLigatures&&D.LineDecoration.equalsArr(this.lineDecorations,w.lineDecorations)&&this.lineTokens.equals(w.lineTokens)&&this.sameSelection(w.selectionsOnLine)}}e.RenderLineInput=_;class g{constructor(w,E){this.partIndex=w,this.charIndex=E}}e.DomPosition=g;class C{static getPartIndex(w){return(w&4294901760)>>>16}static getCharIndex(w){return(w&65535)>>>0}constructor(w,E){this.length=w,this._data=new Uint32Array(this.length),this._horizontalOffset=new Uint32Array(this.length)}setColumnInfo(w,E,I,M){const P=(E<<16|I<<0)>>>0;this._data[w-1]=P,this._horizontalOffset[w-1]=M}getHorizontalOffset(w){return this._horizontalOffset.length===0?0:this._horizontalOffset[w-1]}charOffsetToPartData(w){return this.length===0?0:w<0?this._data[0]:w>=this.length?this._data[this.length-1]:this._data[w]}getDomPosition(w){const E=this.charOffsetToPartData(w-1),I=C.getPartIndex(E),M=C.getCharIndex(E);return new g(I,M)}getColumn(w,E){return this.partDataToCharOffset(w.partIndex,E,w.charIndex)+1}partDataToCharOffset(w,E,I){if(this.length===0)return 0;const M=(w<<16|I<<0)>>>0;let P=0,x=this.length-1;for(;P+1<x;){const R=P+x>>>1,K=this._data[R];if(K===M)return R;K>M?x=R:P=R}if(P===x)return P;const T=this._data[P],A=this._data[x];if(T===M)return P;if(A===M)return x;const N=C.getPartIndex(T),F=C.getCharIndex(T),O=C.getPartIndex(A);let W;N!==O?W=E:W=C.getCharIndex(A);const U=I-F,j=W-I;return U<=j?P:x}}e.CharacterMapping=C;class s{constructor(w,E,I){this._renderLineOutputBrand=void 0,this.characterMapping=w,this.containsRTL=E,this.containsForeignElements=I}}e.RenderLineOutput=s;function i(b,w){if(b.lineContent.length===0){if(b.lineDecorations.length>0){w.appendString("<span>");let E=0,I=0,M=0;for(const x of b.lineDecorations)(x.type===1||x.type===2)&&(w.appendString('<span class="'),w.appendString(x.className),w.appendString('"></span>'),x.type===1&&(M|=1,E++),x.type===2&&(M|=2,I++));w.appendString("</span>");const P=new C(1,E+I);return P.setColumnInfo(1,E,0,0),new s(P,!1,M)}return w.appendString("<span><span></span></span>"),new s(new C(0,0),!1,0)}return p(u(b),w)}e.renderViewLine=i;class n{constructor(w,E,I,M){this.characterMapping=w,this.html=E,this.containsRTL=I,this.containsForeignElements=M}}e.RenderLineOutput2=n;function t(b){const w=new y.StringBuilder(1e4),E=i(b,w);return new n(E.characterMapping,w.build(),E.containsRTL,E.containsForeignElements)}e.renderViewLine2=t;class a{constructor(w,E,I,M,P,x,T,A,N,F,O,W,U,j,R,K){this.fontIsMonospace=w,this.canUseHalfwidthRightwardsArrow=E,this.lineContent=I,this.len=M,this.isOverflowing=P,this.overflowingCharCount=x,this.parts=T,this.containsForeignElements=A,this.fauxIndentLength=N,this.tabSize=F,this.startVisibleColumn=O,this.containsRTL=W,this.spaceWidth=U,this.renderSpaceCharCode=j,this.renderWhitespace=R,this.renderControlCharacters=K}}function u(b){const w=b.lineContent;let E,I,M;b.stopRenderingLineAfter!==-1&&b.stopRenderingLineAfter<w.length?(E=!0,I=w.length-b.stopRenderingLineAfter,M=b.stopRenderingLineAfter):(E=!1,I=0,M=w.length);let P=h(w,b.containsRTL,b.lineTokens,b.fauxIndentLength,M);b.renderControlCharacters&&!b.isBasicASCII&&(P=o(w,P)),(b.renderWhitespace===4||b.renderWhitespace===1||b.renderWhitespace===2&&b.selectionsOnLine||b.renderWhitespace===3&&!b.continuesWithWrappedLine)&&(P=d(b,w,M,P));let x=0;if(b.lineDecorations.length>0){for(let T=0,A=b.lineDecorations.length;T<A;T++){const N=b.lineDecorations[T];N.type===3||N.type===1?x|=1:N.type===2&&(x|=2)}P=l(w,M,P,b.lineDecorations)}return b.containsRTL||(P=r(w,P,!b.isBasicASCII||b.fontLigatures)),new a(b.useMonospaceOptimizations,b.canUseHalfwidthRightwardsArrow,w,M,E,I,P,x,b.fauxIndentLength,b.tabSize,b.startVisibleColumn,b.containsRTL,b.spaceWidth,b.renderSpaceCharCode,b.renderWhitespace,b.renderControlCharacters)}function h(b,w,E,I,M){const P=[];let x=0;I>0&&(P[x++]=new S.LinePart(I,"",0,!1));let T=I;for(let A=0,N=E.getCount();A<N;A++){const F=E.getEndOffset(A);if(F<=I)continue;const O=E.getClassName(A);if(F>=M){const U=w?k.containsRTL(b.substring(T,M)):!1;P[x++]=new S.LinePart(M,O,0,U);break}const W=w?k.containsRTL(b.substring(T,F)):!1;P[x++]=new S.LinePart(F,O,0,W),T=F}return P}function r(b,w,E){let I=0;const M=[];let P=0;if(E)for(let x=0,T=w.length;x<T;x++){const A=w[x],N=A.endIndex;if(I+50<N){const F=A.type,O=A.metadata,W=A.containsRTL;let U=-1,j=I;for(let R=I;R<N;R++)b.charCodeAt(R)===32&&(U=R),U!==-1&&R-j>=50&&(M[P++]=new S.LinePart(U+1,F,O,W),j=U+1,U=-1);j!==N&&(M[P++]=new S.LinePart(N,F,O,W))}else M[P++]=A;I=N}else for(let x=0,T=w.length;x<T;x++){const A=w[x],N=A.endIndex,F=N-I;if(F>50){const O=A.type,W=A.metadata,U=A.containsRTL,j=Math.ceil(F/50);for(let R=1;R<j;R++){const K=I+R*50;M[P++]=new S.LinePart(K,O,W,U)}M[P++]=new S.LinePart(N,O,W,U)}else M[P++]=A;I=N}return M}function c(b){return b<32?b!==9:b===127||b>=8234&&b<=8238||b>=8294&&b<=8297||b>=8206&&b<=8207||b===1564}function o(b,w){const E=[];let I=new S.LinePart(0,"",0,!1),M=0;for(const P of w){const x=P.endIndex;for(;M<x;M++){const T=b.charCodeAt(M);c(T)&&(M>I.endIndex&&(I=new S.LinePart(M,P.type,P.metadata,P.containsRTL),E.push(I)),I=new S.LinePart(M+1,"mtkcontrol",P.metadata,!1),E.push(I))}M>I.endIndex&&(I=new S.LinePart(x,P.type,P.metadata,P.containsRTL),E.push(I))}return E}function d(b,w,E,I){const M=b.continuesWithWrappedLine,P=b.fauxIndentLength,x=b.tabSize,T=b.startVisibleColumn,A=b.useMonospaceOptimizations,N=b.selectionsOnLine,F=b.renderWhitespace===1,O=b.renderWhitespace===3,W=b.renderSpaceWidth!==b.spaceWidth,U=[];let j=0,R=0,K=I[R].type,G=I[R].containsRTL,Z=I[R].endIndex;const J=I.length;let X=!1,H=k.firstNonWhitespaceIndex(w),B;H===-1?(X=!0,H=E,B=E):B=k.lastNonWhitespaceIndex(w);let V=!1,Y=0,ie=N&&N[Y],ae=T%x;for(let de=P;de<E;de++){const he=w.charCodeAt(de);ie&&de>=ie.endOffset&&(Y++,ie=N&&N[Y]);let ue;if(de<H||de>B)ue=!0;else if(he===9)ue=!0;else if(he===32)if(F)if(V)ue=!0;else{const te=de+1<E?w.charCodeAt(de+1):0;ue=te===32||te===9}else ue=!0;else ue=!1;if(ue&&N&&(ue=!!ie&&ie.startOffset<=de&&ie.endOffset>de),ue&&O&&(ue=X||de>B),ue&&G&&de>=H&&de<=B&&(ue=!1),V){if(!ue||!A&&ae>=x){if(W){const te=j>0?U[j-1].endIndex:P;for(let q=te+1;q<=de;q++)U[j++]=new S.LinePart(q,"mtkw",1,!1)}else U[j++]=new S.LinePart(de,"mtkw",1,!1);ae=ae%x}}else(de===Z||ue&&de>P)&&(U[j++]=new S.LinePart(de,K,0,G),ae=ae%x);for(he===9?ae=x:k.isFullWidthCharacter(he)?ae+=2:ae++,V=ue;de===Z&&(R++,R<J);)K=I[R].type,G=I[R].containsRTL,Z=I[R].endIndex}let ce=!1;if(V)if(M&&F){const de=E>0?w.charCodeAt(E-1):0,he=E>1?w.charCodeAt(E-2):0;de===32&&he!==32&&he!==9||(ce=!0)}else ce=!0;if(ce)if(W){const de=j>0?U[j-1].endIndex:P;for(let he=de+1;he<=E;he++)U[j++]=new S.LinePart(he,"mtkw",1,!1)}else U[j++]=new S.LinePart(E,"mtkw",1,!1);else U[j++]=new S.LinePart(E,K,0,G);return U}function l(b,w,E,I){I.sort(D.LineDecoration.compare);const M=D.LineDecorationsNormalizer.normalize(b,I),P=M.length;let x=0;const T=[];let A=0,N=0;for(let O=0,W=E.length;O<W;O++){const U=E[O],j=U.endIndex,R=U.type,K=U.metadata,G=U.containsRTL;for(;x<P&&M[x].startOffset<j;){const Z=M[x];if(Z.startOffset>N&&(N=Z.startOffset,T[A++]=new S.LinePart(N,R,K,G)),Z.endOffset+1<=j)N=Z.endOffset+1,T[A++]=new S.LinePart(N,R+" "+Z.className,K|Z.metadata,G),x++;else{N=j,T[A++]=new S.LinePart(N,R+" "+Z.className,K|Z.metadata,G);break}}j>N&&(N=j,T[A++]=new S.LinePart(N,R,K,G))}const F=E[E.length-1].endIndex;if(x<P&&M[x].startOffset===F)for(;x<P&&M[x].startOffset===F;){const O=M[x];T[A++]=new S.LinePart(N,O.className,O.metadata,!1),x++}return T}function p(b,w){const E=b.fontIsMonospace,I=b.canUseHalfwidthRightwardsArrow,M=b.containsForeignElements,P=b.lineContent,x=b.len,T=b.isOverflowing,A=b.overflowingCharCount,N=b.parts,F=b.fauxIndentLength,O=b.tabSize,W=b.startVisibleColumn,U=b.containsRTL,j=b.spaceWidth,R=b.renderSpaceCharCode,K=b.renderWhitespace,G=b.renderControlCharacters,Z=new C(x+1,N.length);let J=!1,X=0,H=W,B=0,V=0,Y=0;U?w.appendString('<span dir="ltr">'):w.appendString("<span>");for(let ie=0,ae=N.length;ie<ae;ie++){const ce=N[ie],de=ce.endIndex,he=ce.type,ue=ce.containsRTL,te=K!==0&&ce.isWhitespace(),q=te&&!E&&(he==="mtkw"||!M),z=X===de&&ce.isPseudoAfter();if(B=0,w.appendString("<span "),ue&&w.appendString('style="unicode-bidi:isolate" '),w.appendString('class="'),w.appendString(q?"mtkz":he),w.appendASCIICharCode(34),te){let ee=0;{let $=X,re=H;for(;$<de;$++){const ge=(P.charCodeAt($)===9?O-re%O:1)|0;ee+=ge,$>=F&&(re+=ge)}}for(q&&(w.appendString(' style="width:'),w.appendString(String(j*ee)),w.appendString('px"')),w.appendASCIICharCode(62);X<de;X++){Z.setColumnInfo(X+1,ie-Y,B,V),Y=0;const $=P.charCodeAt(X);let re,oe;if($===9){re=O-H%O|0,oe=re,!I||oe>1?w.appendCharCode(8594):w.appendCharCode(65515);for(let ge=2;ge<=oe;ge++)w.appendCharCode(160)}else re=2,oe=1,w.appendCharCode(R),w.appendCharCode(8204);B+=re,V+=oe,X>=F&&(H+=oe)}}else for(w.appendASCIICharCode(62);X<de;X++){Z.setColumnInfo(X+1,ie-Y,B,V),Y=0;const ee=P.charCodeAt(X);let $=1,re=1;switch(ee){case 9:$=O-H%O,re=$;for(let oe=1;oe<=$;oe++)w.appendCharCode(160);break;case 32:w.appendCharCode(160);break;case 60:w.appendString("&lt;");break;case 62:w.appendString("&gt;");break;case 38:w.appendString("&amp;");break;case 0:G?w.appendCharCode(9216):w.appendString("&#00;");break;case 65279:case 8232:case 8233:case 133:w.appendCharCode(65533);break;default:k.isFullWidthCharacter(ee)&&re++,G&&ee<32?w.appendCharCode(9216+ee):G&&ee===127?w.appendCharCode(9249):G&&c(ee)?(w.appendString("[U+"),w.appendString(m(ee)),w.appendString("]"),$=8,re=$):w.appendCharCode(ee)}B+=$,V+=re,X>=F&&(H+=re)}z?Y++:Y=0,X>=x&&!J&&ce.isPseudoAfter()&&(J=!0,Z.setColumnInfo(X+1,ie,B,V)),w.appendString("</span>")}return J||Z.setColumnInfo(x+1,N.length-1,B,V),T&&(w.appendString('<span class="mtkoverflow">'),w.appendString(L.localize(0,null,v(A))),w.appendString("</span>")),w.appendString("</span>"),new s(Z,U,M)}function m(b){return b.toString(16).toUpperCase().padStart(4,"0")}function v(b){return b<1024?L.localize(1,null,b):b<1024*1024?`${(b/1024).toFixed(1)} KB`:`${(b/1024/1024).toFixed(1)} MB`}}),define(ne[632],se([3,4]),function(Q,e){return Q.create("vs/editor/contrib/anchorSelect/browser/anchorSelect",e)}),define(ne[633],se([3,4]),function(Q,e){return Q.create("vs/editor/contrib/bracketMatching/browser/bracketMatching",e)}),define(ne[634],se([3,4]),function(Q,e){return Q.create("vs/editor/contrib/caretOperations/browser/caretOperations",e)}),define(ne[635],se([3,4]),function(Q,e){return Q.create("vs/editor/contrib/caretOperations/browser/transpose",e)}),define(ne[636],se([3,4]),function(Q,e){return Q.create("vs/editor/contrib/clipboard/browser/clipboard",e)}),define(ne[637],se([3,4]),function(Q,e){return Q.create("vs/editor/contrib/codeAction/browser/codeAction",e)}),define(ne[638],se([3,4]),function(Q,e){return Q.create("vs/editor/contrib/codeAction/browser/codeActionCommands",e)}),define(ne[639],se([3,4]),function(Q,e){return Q.create("vs/editor/contrib/codeAction/browser/codeActionContributions",e)}),define(ne[640],se([3,4]),function(Q,e){return Q.create("vs/editor/contrib/codeAction/browser/codeActionController",e)}),define(ne[641],se([3,4]),function(Q,e){return Q.create("vs/editor/contrib/codeAction/browser/codeActionMenu",e)}),define(ne[642],se([3,4]),function(Q,e){return Q.create("vs/editor/contrib/codeAction/browser/lightBulbWidget",e)}),define(ne[643],se([3,4]),function(Q,e){return Q.create("vs/editor/contrib/codelens/browser/codelensController",e)}),define(ne[644],se([3,4]),function(Q,e){return Q.create("vs/editor/contrib/colorPicker/browser/colorPickerWidget",e)}),define(ne[645],se([3,4]),function(Q,e){return Q.create("vs/editor/contrib/colorPicker/browser/standaloneColorPickerActions",e)}),define(ne[646],se([3,4]),function(Q,e){return Q.create("vs/editor/contrib/comment/browser/comment",e)}),define(ne[647],se([3,4]),function(Q,e){return Q.create("vs/editor/contrib/contextmenu/browser/contextmenu",e)}),define(ne[648],se([3,4]),function(Q,e){return Q.create("vs/editor/contrib/cursorUndo/browser/cursorUndo",e)}),define(ne[649],se([3,4]),function(Q,e){return Q.create("vs/editor/contrib/dropOrPasteInto/browser/copyPasteContribution",e)}),define(ne[650],se([3,4]),function(Q,e){return Q.create("vs/editor/contrib/dropOrPasteInto/browser/copyPasteController",e)}),define(ne[651],se([3,4]),function(Q,e){return Q.create("vs/editor/contrib/dropOrPasteInto/browser/defaultProviders",e)}),define(ne[652],se([3,4]),function(Q,e){return Q.create("vs/editor/contrib/dropOrPasteInto/browser/dropIntoEditorContribution",e)}),define(ne[653],se([3,4]),function(Q,e){return Q.create("vs/editor/contrib/dropOrPasteInto/browser/dropIntoEditorController",e)}),define(ne[654],se([3,4]),function(Q,e){return Q.create("vs/editor/contrib/editorState/browser/keybindingCancellation",e)}),define(ne[655],se([3,4]),function(Q,e){return Q.create("vs/editor/contrib/find/browser/findController",e)}),define(ne[656],se([3,4]),function(Q,e){return Q.create("vs/editor/contrib/find/browser/findWidget",e)}),define(ne[657],se([3,4]),function(Q,e){return Q.create("vs/editor/contrib/folding/browser/folding",e)}),define(ne[658],se([3,4]),function(Q,e){return Q.create("vs/editor/contrib/folding/browser/foldingDecorations",e)}),define(ne[659],se([3,4]),function(Q,e){return Q.create("vs/editor/contrib/fontZoom/browser/fontZoom",e)}),define(ne[660],se([3,4]),function(Q,e){return Q.create("vs/editor/contrib/format/browser/format",e)}),define(ne[661],se([3,4]),function(Q,e){return Q.create("vs/editor/contrib/format/browser/formatActions",e)}),define(ne[662],se([3,4]),function(Q,e){return Q.create("vs/editor/contrib/gotoError/browser/gotoError",e)}),define(ne[663],se([3,4]),function(Q,e){return Q.create("vs/editor/contrib/gotoError/browser/gotoErrorWidget",e)}),define(ne[664],se([3,4]),function(Q,e){return Q.create("vs/editor/contrib/gotoSymbol/browser/goToCommands",e)}),define(ne[665],se([3,4]),function(Q,e){return Q.create("vs/editor/contrib/gotoSymbol/browser/link/goToDefinitionAtPosition",e)}),define(ne[666],se([3,4]),function(Q,e){return Q.create("vs/editor/contrib/gotoSymbol/browser/peek/referencesController",e)}),define(ne[667],se([3,4]),function(Q,e){return Q.create("vs/editor/contrib/gotoSymbol/browser/peek/referencesTree",e)}),define(ne[668],se([3,4]),function(Q,e){return Q.create("vs/editor/contrib/gotoSymbol/browser/peek/referencesWidget",e)}),define(ne[669],se([3,4]),function(Q,e){return Q.create("vs/editor/contrib/gotoSymbol/browser/referencesModel",e)}),define(ne[155],se([1,0,9,6,164,2,65,45,11,5,669]),function(Q,e,L,k,y,D,S,f,_,g,C){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ReferencesModel=e.FileReferences=e.FilePreview=e.OneReference=void 0;class s{constructor(u,h,r,c){this.isProviderFirst=u,this.parent=h,this.link=r,this._rangeCallback=c,this.id=y.defaultGenerator.nextId()}get uri(){return this.link.uri}get range(){var u,h;return(h=(u=this._range)!==null&&u!==void 0?u:this.link.targetSelectionRange)!==null&&h!==void 0?h:this.link.range}set range(u){this._range=u,this._rangeCallback(this)}get ariaMessage(){var u;const h=(u=this.parent.getPreview(this))===null||u===void 0?void 0:u.preview(this.range);return h?(0,C.localize)(1,null,h.value,(0,f.basename)(this.uri),this.range.startLineNumber,this.range.startColumn):(0,C.localize)(0,null,(0,f.basename)(this.uri),this.range.startLineNumber,this.range.startColumn)}}e.OneReference=s;class i{constructor(u){this._modelReference=u}dispose(){this._modelReference.dispose()}preview(u,h=8){const r=this._modelReference.object.textEditorModel;if(!r)return;const{startLineNumber:c,startColumn:o,endLineNumber:d,endColumn:l}=u,p=r.getWordUntilPosition({lineNumber:c,column:o-h}),m=new g.Range(c,p.startColumn,c,o),v=new g.Range(d,l,d,1073741824),b=r.getValueInRange(m).replace(/^\s+/,""),w=r.getValueInRange(u),E=r.getValueInRange(v).replace(/\s+$/,"");return{value:b+w+E,highlight:{start:b.length,end:b.length+w.length}}}}e.FilePreview=i;class n{constructor(u,h){this.parent=u,this.uri=h,this.children=[],this._previews=new S.ResourceMap}dispose(){(0,D.dispose)(this._previews.values()),this._previews.clear()}getPreview(u){return this._previews.get(u.uri)}get ariaMessage(){const u=this.children.length;return u===1?(0,C.localize)(2,null,(0,f.basename)(this.uri),this.uri.fsPath):(0,C.localize)(3,null,u,(0,f.basename)(this.uri),this.uri.fsPath)}resolve(u){return we(this,void 0,void 0,function*(){if(this._previews.size!==0)return this;for(const h of this.children)if(!this._previews.has(h.uri))try{const r=yield u.createModelReference(h.uri);this._previews.set(h.uri,new i(r))}catch(r){(0,L.onUnexpectedError)(r)}return this})}}e.FileReferences=n;class t{constructor(u,h){this.groups=[],this.references=[],this._onDidChangeReferenceRange=new k.Emitter,this.onDidChangeReferenceRange=this._onDidChangeReferenceRange.event,this._links=u,this._title=h;const[r]=u;u.sort(t._compareReferences);let c;for(const o of u)if((!c||!f.extUri.isEqual(c.uri,o.uri,!0))&&(c=new n(this,o.uri),this.groups.push(c)),c.children.length===0||t._compareReferences(o,c.children[c.children.length-1])!==0){const d=new s(r===o,c,o,l=>this._onDidChangeReferenceRange.fire(l));this.references.push(d),c.children.push(d)}}dispose(){(0,D.dispose)(this.groups),this._onDidChangeReferenceRange.dispose(),this.groups.length=0}clone(){return new t(this._links,this._title)}get title(){return this._title}get isEmpty(){return this.groups.length===0}get ariaMessage(){return this.isEmpty?(0,C.localize)(4,null):this.references.length===1?(0,C.localize)(5,null,this.references[0].uri.fsPath):this.groups.length===1?(0,C.localize)(6,null,this.references.length,this.groups[0].uri.fsPath):(0,C.localize)(7,null,this.references.length,this.groups.length)}nextOrPreviousReference(u,h){const{parent:r}=u;let c=r.children.indexOf(u);const o=r.children.length,d=r.parent.groups.length;return d===1||h&&c+1<o||!h&&c>0?(h?c=(c+1)%o:c=(c+o-1)%o,r.children[c]):(c=r.parent.groups.indexOf(r),h?(c=(c+1)%d,r.parent.groups[c].children[0]):(c=(c+d-1)%d,r.parent.groups[c].children[r.parent.groups[c].children.length-1]))}nearestReference(u,h){const r=this.references.map((c,o)=>({idx:o,prefixLen:_.commonPrefixLength(c.uri.toString(),u.toString()),offsetDist:Math.abs(c.range.startLineNumber-h.lineNumber)*100+Math.abs(c.range.startColumn-h.column)})).sort((c,o)=>c.prefixLen>o.prefixLen?-1:c.prefixLen<o.prefixLen?1:c.offsetDist<o.offsetDist?-1:c.offsetDist>o.offsetDist?1:0)[0];if(r)return this.references[r.idx]}referenceAt(u,h){for(const r of this.references)if(r.uri.toString()===u.toString()&&g.Range.containsPosition(r.range,h))return r}firstReference(){for(const u of this.references)if(u.isProviderFirst)return u;return this.references[0]}static _compareReferences(u,h){return f.extUri.compare(u.uri,h.uri)||g.Range.compareRangesUsingStarts(u.range,h.range)}}e.ReferencesModel=t}),define(ne[670],se([3,4]),function(Q,e){return Q.create("vs/editor/contrib/gotoSymbol/browser/symbolNavigation",e)}),define(ne[671],se([3,4]),function(Q,e){return Q.create("vs/editor/contrib/hover/browser/hover",e)}),define(ne[672],se([3,4]),function(Q,e){return Q.create("vs/editor/contrib/hover/browser/markdownHoverParticipant",e)}),define(ne[673],se([3,4]),function(Q,e){return Q.create("vs/editor/contrib/hover/browser/markerHoverParticipant",e)}),define(ne[674],se([3,4]),function(Q,e){return Q.create("vs/editor/contrib/inPlaceReplace/browser/inPlaceReplace",e)}),define(ne[675],se([3,4]),function(Q,e){return Q.create("vs/editor/contrib/indentation/browser/indentation",e)}),define(ne[676],se([3,4]),function(Q,e){return Q.create("vs/editor/contrib/inlayHints/browser/inlayHintsHover",e)}),define(ne[677],se([3,4]),function(Q,e){return Q.create("vs/editor/contrib/inlineCompletions/browser/commands",e)}),define(ne[678],se([3,4]),function(Q,e){return Q.create("vs/editor/contrib/inlineCompletions/browser/hoverParticipant",e)}),define(ne[679],se([3,4]),function(Q,e){return Q.create("vs/editor/contrib/inlineCompletions/browser/inlineCompletionContextKeys",e)}),define(ne[680],se([3,4]),function(Q,e){return Q.create("vs/editor/contrib/inlineCompletions/browser/inlineCompletionsController",e)}),define(ne[681],se([3,4]),function(Q,e){return Q.create("vs/editor/contrib/inlineCompletions/browser/inlineCompletionsHintsWidget",e)}),define(ne[682],se([3,4]),function(Q,e){return Q.create("vs/editor/contrib/lineSelection/browser/lineSelection",e)}),define(ne[683],se([3,4]),function(Q,e){return Q.create("vs/editor/contrib/linesOperations/browser/linesOperations",e)}),define(ne[684],se([3,4]),function(Q,e){return Q.create("vs/editor/contrib/linkedEditing/browser/linkedEditing",e)}),define(ne[685],se([3,4]),function(Q,e){return Q.create("vs/editor/contrib/links/browser/links",e)}),define(ne[686],se([3,4]),function(Q,e){return Q.create("vs/editor/contrib/message/browser/messageController",e)}),define(ne[687],se([3,4]),function(Q,e){return Q.create("vs/editor/contrib/multicursor/browser/multicursor",e)}),define(ne[688],se([3,4]),function(Q,e){return Q.create("vs/editor/contrib/parameterHints/browser/parameterHints",e)}),define(ne[689],se([3,4]),function(Q,e){return Q.create("vs/editor/contrib/parameterHints/browser/parameterHintsWidget",e)}),define(ne[690],se([3,4]),function(Q,e){return Q.create("vs/editor/contrib/peekView/browser/peekView",e)}),define(ne[691],se([3,4]),function(Q,e){return Q.create("vs/editor/contrib/quickAccess/browser/gotoLineQuickAccess",e)}),define(ne[692],se([3,4]),function(Q,e){return Q.create("vs/editor/contrib/quickAccess/browser/gotoSymbolQuickAccess",e)}),define(ne[693],se([3,4]),function(Q,e){return Q.create("vs/editor/contrib/readOnlyMessage/browser/contribution",e)}),define(ne[694],se([3,4]),function(Q,e){return Q.create("vs/editor/contrib/rename/browser/rename",e)}),define(ne[695],se([3,4]),function(Q,e){return Q.create("vs/editor/contrib/rename/browser/renameInputField",e)}),define(ne[696],se([3,4]),function(Q,e){return Q.create("vs/editor/contrib/smartSelect/browser/smartSelect",e)}),define(ne[697],se([3,4]),function(Q,e){return Q.create("vs/editor/contrib/snippet/browser/snippetController2",e)}),define(ne[698],se([3,4]),function(Q,e){return Q.create("vs/editor/contrib/snippet/browser/snippetVariables",e)}),define(ne[699],se([3,4]),function(Q,e){return Q.create("vs/editor/contrib/stickyScroll/browser/stickyScrollActions",e)}),define(ne[700],se([3,4]),function(Q,e){return Q.create("vs/editor/contrib/suggest/browser/suggest",e)}),define(ne[701],se([3,4]),function(Q,e){return Q.create("vs/editor/contrib/suggest/browser/suggestController",e)}),define(ne[702],se([3,4]),function(Q,e){return Q.create("vs/editor/contrib/suggest/browser/suggestWidget",e)}),define(ne[703],se([3,4]),function(Q,e){return Q.create("vs/editor/contrib/suggest/browser/suggestWidgetDetails",e)}),define(ne[704],se([3,4]),function(Q,e){return Q.create("vs/editor/contrib/suggest/browser/suggestWidgetRenderer",e)}),define(ne[705],se([3,4]),function(Q,e){return Q.create("vs/editor/contrib/suggest/browser/suggestWidgetStatus",e)}),define(ne[706],se([3,4]),function(Q,e){return Q.create("vs/editor/contrib/symbolIcons/browser/symbolIcons",e)}),define(ne[707],se([3,4]),function(Q,e){return Q.create("vs/editor/contrib/toggleTabFocusMode/browser/toggleTabFocusMode",e)}),define(ne[708],se([3,4]),function(Q,e){return Q.create("vs/editor/contrib/tokenization/browser/tokenization",e)}),define(ne[709],se([3,4]),function(Q,e){return Q.create("vs/editor/contrib/unicodeHighlighter/browser/unicodeHighlighter",e)}),define(ne[710],se([3,4]),function(Q,e){return Q.create("vs/editor/contrib/unusualLineTerminators/browser/unusualLineTerminators",e)}),define(ne[711],se([3,4]),function(Q,e){return Q.create("vs/editor/contrib/wordHighlighter/browser/highlightDecorations",e)}),define(ne[712],se([3,4]),function(Q,e){return Q.create("vs/editor/contrib/wordHighlighter/browser/wordHighlighter",e)}),define(ne[713],se([3,4]),function(Q,e){return Q.create("vs/editor/contrib/wordOperations/browser/wordOperations",e)}),define(ne[714],se([3,4]),function(Q,e){return Q.create("vs/platform/action/common/actionCommonCategories",e)}),define(ne[715],se([3,4]),function(Q,e){return Q.create("vs/platform/actionWidget/browser/actionList",e)}),define(ne[716],se([3,4]),function(Q,e){return Q.create("vs/platform/actionWidget/browser/actionWidget",e)}),define(ne[717],se([3,4]),function(Q,e){return Q.create("vs/platform/actions/browser/menuEntryActionViewItem",e)}),define(ne[718],se([3,4]),function(Q,e){return Q.create("vs/platform/actions/browser/toolbar",e)}),define(ne[719],se([3,4]),function(Q,e){return Q.create("vs/platform/actions/common/menuService",e)}),define(ne[720],se([3,4]),function(Q,e){return Q.create("vs/platform/audioCues/browser/audioCueService",e)}),define(ne[721],se([3,4]),function(Q,e){return Q.create("vs/platform/configuration/common/configurationRegistry",e)}),define(ne[722],se([3,4]),function(Q,e){return Q.create("vs/platform/contextkey/browser/contextKeyService",e)}),define(ne[723],se([3,4]),function(Q,e){return Q.create("vs/platform/contextkey/common/contextkey",e)}),define(ne[724],se([3,4]),function(Q,e){return Q.create("vs/platform/contextkey/common/contextkeys",e)}),define(ne[725],se([3,4]),function(Q,e){return Q.create("vs/platform/contextkey/common/scanner",e)}),define(ne[726],se([3,4]),function(Q,e){return Q.create("vs/platform/history/browser/contextScopedHistoryWidget",e)}),define(ne[727],se([3,4]),function(Q,e){return Q.create("vs/platform/keybinding/common/abstractKeybindingService",e)}),define(ne[728],se([3,4]),function(Q,e){return Q.create("vs/platform/list/browser/listService",e)}),define(ne[729],se([3,4]),function(Q,e){return Q.create("vs/platform/markers/common/markers",e)}),define(ne[730],se([3,4]),function(Q,e){return Q.create("vs/platform/quickinput/browser/commandsQuickAccess",e)}),define(ne[731],se([3,4]),function(Q,e){return Q.create("vs/platform/quickinput/browser/helpQuickAccess",e)}),define(ne[732],se([3,4]),function(Q,e){return Q.create("vs/platform/quickinput/browser/quickInput",e)}),define(ne[733],se([3,4]),function(Q,e){return Q.create("vs/platform/quickinput/browser/quickInputController",e)}),define(ne[734],se([3,4]),function(Q,e){return Q.create("vs/platform/quickinput/browser/quickInputList",e)}),define(ne[735],se([3,4]),function(Q,e){return Q.create("vs/platform/quickinput/browser/quickInputUtils",e)}),define(ne[736],se([3,4]),function(Q,e){return Q.create("vs/platform/theme/common/colorRegistry",e)}),define(ne[737],se([3,4]),function(Q,e){return Q.create("vs/platform/theme/common/iconRegistry",e)}),define(ne[738],se([3,4]),function(Q,e){return Q.create("vs/platform/undoRedo/common/undoRedoService",e)}),define(ne[739],se([3,4]),function(Q,e){return Q.create("vs/platform/workspace/common/workspace",e)}),define(ne[740],se([1,0]),function(Q,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.isICommandActionToggleInfo=void 0;function L(k){return k?k.condition!==void 0:!1}e.isICommandActionToggleInfo=L}),define(ne[741],se([1,0,714]),function(Q,e,L){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.Categories=void 0,e.Categories=Object.freeze({View:{value:(0,L.localize)(0,null),original:"View"},Help:{value:(0,L.localize)(1,null),original:"Help"},Test:{value:(0,L.localize)(2,null),original:"Test"},File:{value:(0,L.localize)(3,null),original:"File"},Preferences:{value:(0,L.localize)(4,null),original:"Preferences"},Developer:{value:(0,L.localize)(5,null),original:"Developer"}})}),define(ne[742],se([1,0,9,725]),function(Q,e,L,k){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.Scanner=void 0;function y(..._){switch(_.length){case 1:return(0,k.localize)(0,null,_[0]);case 2:return(0,k.localize)(1,null,_[0],_[1]);case 3:return(0,k.localize)(2,null,_[0],_[1],_[2]);default:return}}const D=(0,k.localize)(3,null),S=(0,k.localize)(4,null);class f{constructor(){this._input="",this._start=0,this._current=0,this._tokens=[],this._errors=[],this.stringRe=/[a-zA-Z0-9_<>\-\./\\:\*\?\+\[\]\^,#@;"%\$\p{L}-]+/uy}static getLexeme(g){switch(g.type){case 0:return"(";case 1:return")";case 2:return"!";case 3:return g.isTripleEq?"===":"==";case 4:return g.isTripleEq?"!==":"!=";case 5:return"<";case 6:return"<=";case 7:return">=";case 8:return">=";case 9:return"=~";case 10:return g.lexeme;case 11:return"true";case 12:return"false";case 13:return"in";case 14:return"not";case 15:return"&&";case 16:return"||";case 17:return g.lexeme;case 18:return g.lexeme;case 19:return g.lexeme;case 20:return"EOF";default:throw(0,L.illegalState)(`unhandled token type: ${JSON.stringify(g)}; have you forgotten to add a case?`)}}reset(g){return this._input=g,this._start=0,this._current=0,this._tokens=[],this._errors=[],this}scan(){for(;!this._isAtEnd();)switch(this._start=this._current,this._advance()){case 40:this._addToken(0);break;case 41:this._addToken(1);break;case 33:if(this._match(61)){const C=this._match(61);this._tokens.push({type:4,offset:this._start,isTripleEq:C})}else this._addToken(2);break;case 39:this._quotedString();break;case 47:this._regex();break;case 61:if(this._match(61)){const C=this._match(61);this._tokens.push({type:3,offset:this._start,isTripleEq:C})}else this._match(126)?this._addToken(9):this._error(y("==","=~"));break;case 60:this._addToken(this._match(61)?6:5);break;case 62:this._addToken(this._match(61)?8:7);break;case 38:this._match(38)?this._addToken(15):this._error(y("&&"));break;case 124:this._match(124)?this._addToken(16):this._error(y("||"));break;case 32:case 13:case 9:case 10:case 160:break;default:this._string()}return this._start=this._current,this._addToken(20),Array.from(this._tokens)}_match(g){return this._isAtEnd()||this._input.charCodeAt(this._current)!==g?!1:(this._current++,!0)}_advance(){return this._input.charCodeAt(this._current++)}_peek(){return this._isAtEnd()?0:this._input.charCodeAt(this._current)}_addToken(g){this._tokens.push({type:g,offset:this._start})}_error(g){const C=this._start,s=this._input.substring(this._start,this._current),i={type:19,offset:this._start,lexeme:s};this._errors.push({offset:C,lexeme:s,additionalInfo:g}),this._tokens.push(i)}_string(){this.stringRe.lastIndex=this._start;const g=this.stringRe.exec(this._input);if(g){this._current=this._start+g[0].length;const C=this._input.substring(this._start,this._current),s=f._keywords.get(C);s?this._addToken(s):this._tokens.push({type:17,lexeme:C,offset:this._start})}}_quotedString(){for(;this._peek()!==39&&!this._isAtEnd();)this._advance();if(this._isAtEnd()){this._error(D);return}this._advance(),this._tokens.push({type:18,lexeme:this._input.substring(this._start+1,this._current-1),offset:this._start+1})}_regex(){let g=this._current,C=!1,s=!1;for(;;){if(g>=this._input.length){this._current=g,this._error(S);return}const n=this._input.charCodeAt(g);if(C)C=!1;else if(n===47&&!s){g++;break}else n===91?s=!0:n===92?C=!0:n===93&&(s=!1);g++}for(;g<this._input.length&&f._regexFlags.has(this._input.charCodeAt(g));)g++;this._current=g;const i=this._input.substring(this._start,this._current);this._tokens.push({type:10,lexeme:i,offset:this._start})}_isAtEnd(){return this._current>=this._input.length}}e.Scanner=f,f._regexFlags=new Set(["i","g","s","m","y","u"].map(_=>_.charCodeAt(0))),f._keywords=new Map([["not",14],["in",13],["false",12],["true",11]])}),define(ne[743],se([1,0]),function(Q,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.EditorOpenSource=void 0;var L;(function(k){k[k.API=0]="API",k[k.USER=1]="USER"})(L||(e.EditorOpenSource=L={}))}),define(ne[744],se([1,0]),function(Q,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ExtensionIdentifierSet=e.ExtensionIdentifier=void 0;class L{constructor(D){this.value=D,this._lower=D.toLowerCase()}static toKey(D){return typeof D=="string"?D.toLowerCase():D._lower}}e.ExtensionIdentifier=L;class k{constructor(D){if(this._set=new Set,D)for(const S of D)this.add(S)}add(D){this._set.add(L.toKey(D))}has(D){return this._set.has(L.toKey(D))}}e.ExtensionIdentifierSet=k}),define(ne[330],se([1,0]),function(Q,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.FileKind=void 0;var L;(function(k){k[k.FILE=0]="FILE",k[k.FOLDER=1]="FOLDER",k[k.ROOT_FOLDER=2]="ROOT_FOLDER"})(L||(e.FileKind=L={}))}),define(ne[745],se([1,0]),function(Q,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.showHistoryKeybindingHint=void 0;function L(k){var y,D;return((y=k.lookupKeybinding("history.showPrevious"))===null||y===void 0?void 0:y.getElectronAccelerator())==="Up"&&((D=k.lookupKeybinding("history.showNext"))===null||D===void 0?void 0:D.getElectronAccelerator())==="Down"}e.showHistoryKeybindingHint=L}),define(ne[232],se([1,0]),function(Q,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.SyncDescriptor=void 0;class L{constructor(y,D=[],S=!1){this.ctor=y,this.staticArguments=D,this.supportsDelayedInstantiation=S}}e.SyncDescriptor=L}),define(ne[50],se([1,0,232]),function(Q,e,L){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.getSingletonServiceDescriptors=e.registerSingleton=void 0;const k=[];function y(S,f,_){f instanceof L.SyncDescriptor||(f=new L.SyncDescriptor(f,[],!!_)),k.push([S,f])}e.registerSingleton=y;function D(){return k}e.getSingletonServiceDescriptors=D}),define(ne[746],se([1,0]),function(Q,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.Graph=e.Node=void 0;class L{constructor(D,S){this.key=D,this.data=S,this.incoming=new Map,this.outgoing=new Map}}e.Node=L;class k{constructor(D){this._hashFn=D,this._nodes=new Map}roots(){const D=[];for(const S of this._nodes.values())S.outgoing.size===0&&D.push(S);return D}insertEdge(D,S){const f=this.lookupOrInsertNode(D),_=this.lookupOrInsertNode(S);f.outgoing.set(_.key,_),_.incoming.set(f.key,f)}removeNode(D){const S=this._hashFn(D);this._nodes.delete(S);for(const f of this._nodes.values())f.outgoing.delete(S),f.incoming.delete(S)}lookupOrInsertNode(D){const S=this._hashFn(D);let f=this._nodes.get(S);return f||(f=new L(S,D),this._nodes.set(S,f)),f}isEmpty(){return this._nodes.size===0}toString(){const D=[];for(const[S,f]of this._nodes)D.push(`${S}
	(-> incoming)[${[...f.incoming.keys()].join(", ")}]
	(outgoing ->)[${[...f.outgoing.keys()].join(",")}]
`);return D.join(`
`)}findCycleSlow(){for(const[D,S]of this._nodes){const f=new Set([D]),_=this._findCycle(S,f);if(_)return _}}_findCycle(D,S){for(const[f,_]of D.outgoing){if(S.has(f))return[...S,f].join(" -> ");S.add(f);const g=this._findCycle(_,S);if(g)return g;S.delete(f)}}}e.Graph=k}),define(ne[8],se([1,0]),function(Q,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.createDecorator=e.IInstantiationService=e._util=void 0;var L;(function(D){D.serviceIds=new Map,D.DI_TARGET="$di$target",D.DI_DEPENDENCIES="$di$dependencies";function S(f){return f[D.DI_DEPENDENCIES]||[]}D.getServiceDependencies=S})(L||(e._util=L={})),e.IInstantiationService=y("instantiationService");function k(D,S,f){S[L.DI_TARGET]===S?S[L.DI_DEPENDENCIES].push({id:D,index:f}):(S[L.DI_DEPENDENCIES]=[{id:D,index:f}],S[L.DI_TARGET]=S)}function y(D){if(L.serviceIds.has(D))return L.serviceIds.get(D);const S=function(f,_,g){if(arguments.length!==3)throw new Error("@IServiceName-decorator can only be used to decorate a parameter");k(S,f,g)};return S.toString=()=>D,L.serviceIds.set(D,S),S}e.createDecorator=y}),define(ne[132],se([1,0,8,22,20]),function(Q,e,L,k,y){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ResourceFileEdit=e.ResourceTextEdit=e.ResourceEdit=e.IBulkEditService=void 0,e.IBulkEditService=(0,L.createDecorator)("IWorkspaceEditService");class D{constructor(g){this.metadata=g}static convert(g){return g.edits.map(C=>{if(S.is(C))return S.lift(C);if(f.is(C))return f.lift(C);throw new Error("Unsupported edit")})}}e.ResourceEdit=D;class S extends D{static is(g){return g instanceof S?!0:(0,y.isObject)(g)&&k.URI.isUri(g.resource)&&(0,y.isObject)(g.textEdit)}static lift(g){return g instanceof S?g:new S(g.resource,g.textEdit,g.versionId,g.metadata)}constructor(g,C,s=void 0,i){super(i),this.resource=g,this.textEdit=C,this.versionId=s}}e.ResourceTextEdit=S;class f extends D{static is(g){return g instanceof f?!0:(0,y.isObject)(g)&&(!!g.newResource||!!g.oldResource)}static lift(g){return g instanceof f?g:new f(g.oldResource,g.newResource,g.options,g.metadata)}constructor(g,C,s={},i){super(i),this.oldResource=g,this.newResource=C,this.options=s}}e.ResourceFileEdit=f}),define(ne[33],se([1,0,8]),function(Q,e,L){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ICodeEditorService=void 0,e.ICodeEditorService=(0,L.createDecorator)("codeEditorService")}),define(ne[41],se([1,0,8]),function(Q,e,L){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ILanguageService=void 0,e.ILanguageService=(0,L.createDecorator)("languageService")}),define(ne[115],se([1,0,8]),function(Q,e,L){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.IEditorWorkerService=void 0,e.IEditorWorkerService=(0,L.createDecorator)("editorWorkerService")}),define(ne[18],se([1,0,8]),function(Q,e,L){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ILanguageFeaturesService=void 0,e.ILanguageFeaturesService=(0,L.createDecorator)("ILanguageFeaturesService")});var fe=this&&this.__param||function(Q,e){return function(L,k){e(L,k,Q)}};define(ne[747],se([1,0,7,129,14,19,25,6,55,2,42,26,20,483,102,66,12,5,29,18,614]),function(Q,e,L,k,y,D,S,f,_,g,C,s,i,n,t,a,u,h,r,c,o){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.UnchangedRangesFeature=void 0;let d=class extends g.Disposable{get isUpdatingViewZones(){return this._isUpdatingViewZones}constructor(b,w,E,I){super(),this._editors=b,this._diffModel=w,this._options=E,this._languageFeaturesService=I,this._isUpdatingViewZones=!1,this._modifiedModel=(0,C.observableFromEvent)(this._editors.modified.onDidChangeModel,()=>this._editors.modified.getModel()),this._modifiedOutlineSource=(0,C.derivedWithStore)("modified outline source",(A,N)=>{const F=this._modifiedModel.read(A);if(F)return N.add(new p(this._languageFeaturesService,F))}),this._register(this._editors.original.onDidChangeCursorPosition(A=>{if(A.reason===3){const N=this._diffModel.get();(0,C.transaction)(F=>{for(const O of this._editors.original.getSelections()||[])N?.ensureOriginalLineIsVisible(O.getStartPosition().lineNumber,F),N?.ensureOriginalLineIsVisible(O.getEndPosition().lineNumber,F)})}})),this._register(this._editors.modified.onDidChangeCursorPosition(A=>{if(A.reason===3){const N=this._diffModel.get();(0,C.transaction)(F=>{for(const O of this._editors.modified.getSelections()||[])N?.ensureModifiedLineIsVisible(O.getStartPosition().lineNumber,F),N?.ensureModifiedLineIsVisible(O.getEndPosition().lineNumber,F)})}}));const M=this._diffModel.map((A,N)=>{var F,O;return((F=A?.diff.read(N))===null||F===void 0?void 0:F.mappings.length)===0?[]:(O=A?.unchangedRegions.read(N))!==null&&O!==void 0?O:[]}),P=(0,C.derivedWithStore)("view zones",(A,N)=>{const F=[],O=[],W=this._options.renderSideBySide.read(A),U=this._modifiedOutlineSource.read(A);if(!U)return{origViewZones:F,modViewZones:O};const j=M.read(A);for(const R of j)if(!R.shouldHideControls(A)){{const K=(0,C.derived)(Z=>R.getHiddenOriginalRange(Z).startLineNumber-1),G=new t.PlaceholderViewZone(K,24);F.push(G),N.add(new m(this._editors.original,G,R,R.originalRange,!W,U,Z=>this._diffModel.get().ensureModifiedLineIsVisible(Z,void 0),this._options))}{const K=(0,C.derived)(Z=>R.getHiddenModifiedRange(Z).startLineNumber-1),G=new t.PlaceholderViewZone(K,24);O.push(G),N.add(new m(this._editors.modified,G,R,R.modifiedRange,!1,U,Z=>this._diffModel.get().ensureModifiedLineIsVisible(Z,void 0),this._options))}}return{origViewZones:F,modViewZones:O}}),x={description:"unchanged lines",className:"diff-unchanged-lines",isWholeLine:!0},T={description:"Fold Unchanged",glyphMarginHoverMessage:new _.MarkdownString(void 0,{isTrusted:!0,supportThemeIcons:!0}).appendMarkdown((0,o.localize)(0,null)),glyphMarginClassName:"fold-unchanged "+s.ThemeIcon.asClassName(S.Codicon.fold),zIndex:10001};this._register((0,t.applyObservableDecorations)(this._editors.original,(0,C.derived)(A=>{const N=M.read(A),F=N.map(O=>({range:O.originalRange.toInclusiveRange(),options:x}));for(const O of N)O.shouldHideControls(A)&&F.push({range:h.Range.fromPositions(new u.Position(O.originalLineNumber,1)),options:T});return F}))),this._register((0,t.applyObservableDecorations)(this._editors.modified,(0,C.derived)(A=>{const N=M.read(A),F=N.map(O=>({range:O.modifiedRange.toInclusiveRange(),options:x}));for(const O of N)O.shouldHideControls(A)&&F.push({range:a.LineRange.ofLength(O.modifiedLineNumber,1).toInclusiveRange(),options:T});return F}))),this._register((0,t.applyViewZones)(this._editors.original,P.map(A=>A.origViewZones),A=>this._isUpdatingViewZones=A)),this._register((0,t.applyViewZones)(this._editors.modified,P.map(A=>A.modViewZones),A=>this._isUpdatingViewZones=A)),this._register((0,C.autorun)(A=>{const N=M.read(A);this._editors.original.setHiddenAreas(N.map(F=>F.getHiddenOriginalRange(A).toInclusiveRange()).filter(i.isDefined)),this._editors.modified.setHiddenAreas(N.map(F=>F.getHiddenModifiedRange(A).toInclusiveRange()).filter(i.isDefined))})),this._register(this._editors.modified.onMouseUp(A=>{var N;if(!A.event.rightButton&&A.target.position&&(!((N=A.target.element)===null||N===void 0)&&N.className.includes("fold-unchanged"))){const F=A.target.position.lineNumber,O=this._diffModel.get();if(!O)return;const W=O.unchangedRegions.get().find(U=>U.modifiedRange.includes(F));if(!W)return;W.collapseAll(void 0),A.event.stopPropagation(),A.event.preventDefault()}})),this._register(this._editors.original.onMouseUp(A=>{var N;if(!A.event.rightButton&&A.target.position&&(!((N=A.target.element)===null||N===void 0)&&N.className.includes("fold-unchanged"))){const F=A.target.position.lineNumber,O=this._diffModel.get();if(!O)return;const W=O.unchangedRegions.get().find(U=>U.originalRange.includes(F));if(!W)return;W.collapseAll(void 0),A.event.stopPropagation(),A.event.preventDefault()}}))}};e.UnchangedRangesFeature=d,e.UnchangedRangesFeature=d=ke([fe(3,c.ILanguageFeaturesService)],d);class l extends D.CancellationTokenSource{dispose(){super.dispose(!0)}}let p=class extends g.Disposable{constructor(b,w){super(),this._languageFeaturesService=b,this._textModel=w,this._currentModel=(0,C.observableValue)("current model",void 0);const E=(0,C.observableSignalFromEvent)("documentSymbolProvider.onDidChange",this._languageFeaturesService.documentSymbolProvider.onDidChange),I=(0,C.observableSignalFromEvent)("_textModel.onDidChangeContent",f.Event.debounce(M=>this._textModel.onDidChangeContent(M),()=>{},100));this._register((0,C.autorunWithStore)((M,P)=>we(this,void 0,void 0,function*(){E.read(M),I.read(M);const x=P.add(new l),T=yield n.OutlineModel.create(this._languageFeaturesService.documentSymbolProvider,this._textModel,x.token);P.isDisposed||this._currentModel.set(T,void 0)})))}getBreadcrumbItems(b,w){const E=this._currentModel.read(w);if(!E)return[];const I=E.asListOfDocumentSymbols().filter(M=>b.contains(M.range.startLineNumber)&&!b.contains(M.range.endLineNumber));return I.sort((0,y.reverseOrder)((0,y.compareBy)(M=>M.range.endLineNumber-M.range.startLineNumber,y.numberComparator))),I.map(M=>({name:M.name,kind:M.kind,startLineNumber:M.range.startLineNumber}))}};p=ke([fe(0,c.ILanguageFeaturesService)],p);class m extends t.ViewZoneOverlayWidget{constructor(b,w,E,I,M,P,x,T){const A=(0,L.h)("div.diff-hidden-lines-widget");super(b,w,A.root),this._editor=b,this._unchangedRegion=E,this._unchangedRegionRange=I,this.hide=M,this._modifiedOutlineSource=P,this._revealModifiedHiddenLine=x,this._options=T,this._nodes=(0,L.h)("div.diff-hidden-lines",[(0,L.h)("div.top@top",{title:(0,o.localize)(1,null)}),(0,L.h)("div.center@content",{style:{display:"flex"}},[(0,L.h)("div@first",{style:{display:"flex",justifyContent:"center",alignItems:"center",flexShrink:"0"}},[(0,L.$)("a",{title:(0,o.localize)(2,null),role:"button",onclick:()=>{this.showAll()}},...(0,k.renderLabelWithIcons)("$(unfold)"))]),(0,L.h)("div@others",{style:{display:"flex",justifyContent:"center",alignItems:"center"}})]),(0,L.h)("div.bottom@bottom",{title:(0,o.localize)(3,null),role:"button"})]),A.root.appendChild(this._nodes.root);const N=(0,C.observableFromEvent)(this._editor.onDidLayoutChange,()=>this._editor.getLayoutInfo());this.hide?(0,L.reset)(this._nodes.first):this._register((0,t.applyStyle)(this._nodes.first,{width:N.map(O=>O.contentLeft)}));const F=this._editor;this._register((0,L.addDisposableListener)(this._nodes.top,"mousedown",O=>{if(O.button!==0)return;this._nodes.top.classList.toggle("dragging",!0),this._nodes.root.classList.toggle("dragging",!0),O.preventDefault();const W=O.clientY;let U=!1;const j=this._unchangedRegion.visibleLineCountTop.get();this._unchangedRegion.isDragged.set(!0,void 0);const R=(0,L.addDisposableListener)(window,"mousemove",G=>{const J=G.clientY-W;U=U||Math.abs(J)>2;const X=Math.round(J/F.getOption(65)),H=Math.max(0,Math.min(j+X,this._unchangedRegion.getMaxVisibleLineCountTop()));this._unchangedRegion.visibleLineCountTop.set(H,void 0)}),K=(0,L.addDisposableListener)(window,"mouseup",G=>{U||this._unchangedRegion.showMoreAbove(this._options.hideUnchangedRegionsRevealLineCount.get(),void 0),this._nodes.top.classList.toggle("dragging",!1),this._nodes.root.classList.toggle("dragging",!1),this._unchangedRegion.isDragged.set(!1,void 0),R.dispose(),K.dispose()})})),this._register((0,L.addDisposableListener)(this._nodes.bottom,"mousedown",O=>{if(O.button!==0)return;this._nodes.bottom.classList.toggle("dragging",!0),this._nodes.root.classList.toggle("dragging",!0),O.preventDefault();const W=O.clientY;let U=!1;const j=this._unchangedRegion.visibleLineCountBottom.get();this._unchangedRegion.isDragged.set(!0,void 0);const R=(0,L.addDisposableListener)(window,"mousemove",G=>{const J=G.clientY-W;U=U||Math.abs(J)>2;const X=Math.round(J/F.getOption(65)),H=Math.max(0,Math.min(j-X,this._unchangedRegion.getMaxVisibleLineCountBottom())),B=F.getTopForLineNumber(this._unchangedRegionRange.endLineNumberExclusive);this._unchangedRegion.visibleLineCountBottom.set(H,void 0);const V=F.getTopForLineNumber(this._unchangedRegionRange.endLineNumberExclusive);F.setScrollTop(F.getScrollTop()+(V-B))}),K=(0,L.addDisposableListener)(window,"mouseup",G=>{if(this._unchangedRegion.isDragged.set(!1,void 0),!U){const Z=F.getTopForLineNumber(this._unchangedRegionRange.endLineNumberExclusive);this._unchangedRegion.showMoreBelow(this._options.hideUnchangedRegionsRevealLineCount.get(),void 0);const J=F.getTopForLineNumber(this._unchangedRegionRange.endLineNumberExclusive);F.setScrollTop(F.getScrollTop()+(J-Z))}this._nodes.bottom.classList.toggle("dragging",!1),this._nodes.root.classList.toggle("dragging",!1),R.dispose(),K.dispose()})})),this._register((0,C.autorun)(O=>{const W=[];if(!this.hide){const U=E.getHiddenModifiedRange(O).length,j=(0,o.localize)(4,null,U),R=(0,L.$)("span",{title:(0,o.localize)(5,null)},j);R.addEventListener("dblclick",Z=>{Z.button===0&&(Z.preventDefault(),this.showAll())}),W.push(R);const K=this._unchangedRegion.getHiddenModifiedRange(O),G=this._modifiedOutlineSource.getBreadcrumbItems(K,O);if(G.length>0){W.push((0,L.$)("span",void 0,"\xA0\xA0|\xA0\xA0"));for(let Z=0;Z<G.length;Z++){const J=G[Z],X=r.SymbolKinds.toIcon(J.kind),H=(0,L.h)("div.breadcrumb-item",{style:{display:"flex",alignItems:"center"}},[(0,k.renderIcon)(X),"\xA0",J.name,...Z===G.length-1?[]:[(0,k.renderIcon)(S.Codicon.chevronRight)]]).root;W.push(H),H.onclick=()=>{this._revealModifiedHiddenLine(J.startLineNumber)}}}}(0,L.reset)(this._nodes.others,...W)}))}showAll(){this._unchangedRegion.showAll(void 0)}}}),define(ne[748],se([1,0,594,18,50]),function(Q,e,L,k,y){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.LanguageFeaturesService=void 0;class D{constructor(){this.referenceProvider=new L.LanguageFeatureRegistry(this._score.bind(this)),this.renameProvider=new L.LanguageFeatureRegistry(this._score.bind(this)),this.codeActionProvider=new L.LanguageFeatureRegistry(this._score.bind(this)),this.definitionProvider=new L.LanguageFeatureRegistry(this._score.bind(this)),this.typeDefinitionProvider=new L.LanguageFeatureRegistry(this._score.bind(this)),this.declarationProvider=new L.LanguageFeatureRegistry(this._score.bind(this)),this.implementationProvider=new L.LanguageFeatureRegistry(this._score.bind(this)),this.documentSymbolProvider=new L.LanguageFeatureRegistry(this._score.bind(this)),this.inlayHintsProvider=new L.LanguageFeatureRegistry(this._score.bind(this)),this.colorProvider=new L.LanguageFeatureRegistry(this._score.bind(this)),this.codeLensProvider=new L.LanguageFeatureRegistry(this._score.bind(this)),this.documentFormattingEditProvider=new L.LanguageFeatureRegistry(this._score.bind(this)),this.documentRangeFormattingEditProvider=new L.LanguageFeatureRegistry(this._score.bind(this)),this.onTypeFormattingEditProvider=new L.LanguageFeatureRegistry(this._score.bind(this)),this.signatureHelpProvider=new L.LanguageFeatureRegistry(this._score.bind(this)),this.hoverProvider=new L.LanguageFeatureRegistry(this._score.bind(this)),this.documentHighlightProvider=new L.LanguageFeatureRegistry(this._score.bind(this)),this.selectionRangeProvider=new L.LanguageFeatureRegistry(this._score.bind(this)),this.foldingRangeProvider=new L.LanguageFeatureRegistry(this._score.bind(this)),this.linkProvider=new L.LanguageFeatureRegistry(this._score.bind(this)),this.inlineCompletionsProvider=new L.LanguageFeatureRegistry(this._score.bind(this)),this.completionProvider=new L.LanguageFeatureRegistry(this._score.bind(this)),this.linkedEditingRangeProvider=new L.LanguageFeatureRegistry(this._score.bind(this)),this.documentRangeSemanticTokensProvider=new L.LanguageFeatureRegistry(this._score.bind(this)),this.documentSemanticTokensProvider=new L.LanguageFeatureRegistry(this._score.bind(this)),this.documentOnDropEditProvider=new L.LanguageFeatureRegistry(this._score.bind(this)),this.documentPasteEditProvider=new L.LanguageFeatureRegistry(this._score.bind(this))}_score(f){var _;return(_=this._notebookTypeResolver)===null||_===void 0?void 0:_.call(this,f)}}e.LanguageFeaturesService=D,(0,y.registerSingleton)(k.ILanguageFeaturesService,D,1)}),define(ne[233],se([1,0,8]),function(Q,e,L){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.IMarkerDecorationsService=void 0,e.IMarkerDecorationsService=(0,L.createDecorator)("markerDecorationsService")}),define(ne[51],se([1,0,8]),function(Q,e,L){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.IModelService=void 0,e.IModelService=(0,L.createDecorator)("modelService")}),define(ne[69],se([1,0,8]),function(Q,e,L){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ITextModelService=void 0,e.ITextModelService=(0,L.createDecorator)("textModelService")}),define(ne[234],se([1,0,8]),function(Q,e,L){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ISemanticTokensStylingService=void 0,e.ISemanticTokensStylingService=(0,L.createDecorator)("semanticTokensStylingService")}),define(ne[187],se([1,0,8]),function(Q,e,L){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ITextResourcePropertiesService=e.ITextResourceConfigurationService=void 0,e.ITextResourceConfigurationService=(0,L.createDecorator)("textResourceConfigurationService"),e.ITextResourcePropertiesService=(0,L.createDecorator)("textResourcePropertiesService")}),define(ne[749],se([1,0,50,8,285]),function(Q,e,L,k,y){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ITreeViewsDnDService=void 0,e.ITreeViewsDnDService=(0,k.createDecorator)("treeViewsDndService"),(0,L.registerSingleton)(e.ITreeViewsDnDService,y.TreeViewsDnDService,1)}),define(ne[331],se([1,0,132]),function(Q,e,L){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.sortEditsByYieldTo=e.createCombinedWorkspaceEdit=void 0;function k(D,S,f){var _,g;return{edits:[...S.map(C=>new L.ResourceTextEdit(D,typeof f.insertText=="string"?{range:C,text:f.insertText,insertAsSnippet:!1}:{range:C,text:f.insertText.snippet,insertAsSnippet:!0})),...(g=(_=f.additionalEdit)===null||_===void 0?void 0:_.edits)!==null&&g!==void 0?g:[]]}}e.createCombinedWorkspaceEdit=k;function y(D){var S;function f(i,n){return"providerId"in i&&i.providerId===n.providerId||"mimeType"in i&&i.mimeType===n.handledMimeType}const _=new Map;for(const i of D)for(const n of(S=i.yieldTo)!==null&&S!==void 0?S:[])for(const t of D)if(t!==i&&f(n,t)){let a=_.get(i);a||(a=[],_.set(i,a)),a.push(t)}if(!_.size)return Array.from(D);const g=new Set,C=[];function s(i){if(!i.length)return[];const n=i[0];if(C.includes(n))return console.warn(`Yield to cycle detected for ${n.providerId}`),i;if(g.has(n))return s(i.slice(1));let t=[];const a=_.get(n);return a&&(C.push(n),t=s(a),C.pop()),g.add(n),[...t,n,...s(i.slice(1))]}return s(Array.from(D))}e.sortEditsByYieldTo=y}),define(ne[750],se([1,0,89,6,2,42,11,59,36,12,5,93,41,48,86,127,95,215,151,450]),function(Q,e,L,k,y,D,S,f,_,g,C,s,i,n,t,a,u,h,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.GhostTextWidget=void 0;let c=class extends y.Disposable{constructor(m,v,b){super(),this.editor=m,this.model=v,this.languageService=b,this.isDisposed=(0,D.observableValue)("isDisposed",!1),this.currentTextModel=(0,D.observableFromEvent)(this.editor.onDidChangeModel,()=>this.editor.getModel()),this.uiState=(0,D.derived)(w=>{if(this.isDisposed.read(w))return;const E=this.currentTextModel.read(w);if(E!==this.model.targetTextModel.read(w))return;const I=this.model.ghostText.read(w);if(!I)return;const M=I instanceof h.GhostTextReplacement?I.columnRange:void 0,P=[],x=[];function T(W,U){if(x.length>0){const j=x[x.length-1];U&&j.decorations.push(new a.LineDecoration(j.content.length+1,j.content.length+1+W[0].length,U,0)),j.content+=W[0],W=W.slice(1)}for(const j of W)x.push({content:j,decorations:U?[new a.LineDecoration(1,j.length+1,U,0)]:[]})}const A=E.getLineContent(I.lineNumber);let N,F=0;for(const W of I.parts){let U=W.lines;N===void 0?(P.push({column:W.column,text:U[0],preview:W.preview}),U=U.slice(1)):T([A.substring(F,W.column-1)],void 0),U.length>0&&(T(U,"ghost-text"),N===void 0&&W.column<=A.length&&(N=W.column)),F=W.column-1}N!==void 0&&T([A.substring(F)],void 0);const O=N!==void 0?new r.ColumnRange(N,A.length+1):void 0;return{replacedRange:M,inlineTexts:P,additionalLines:x,hiddenRange:O,lineNumber:I.lineNumber,additionalReservedLineCount:this.model.minReservedLineCount.read(w),targetTextModel:E}}),this.decorations=(0,D.derived)(w=>{const E=this.uiState.read(w);if(!E)return[];const I=[];E.replacedRange&&I.push({range:E.replacedRange.toRange(E.lineNumber),options:{inlineClassName:"inline-completion-text-to-replace",description:"GhostTextReplacement"}}),E.hiddenRange&&I.push({range:E.hiddenRange.toRange(E.lineNumber),options:{inlineClassName:"ghost-text-hidden",description:"ghost-text-hidden"}});for(const M of E.inlineTexts)I.push({range:C.Range.fromPositions(new g.Position(E.lineNumber,M.column)),options:{description:"ghost-text",after:{content:M.text,inlineClassName:M.preview?"ghost-text-decoration-preview":"ghost-text-decoration",cursorStops:n.InjectedTextCursorStops.Left},showIfCollapsed:!0}});return I}),this.additionalLinesWidget=this._register(new o(this.editor,this.languageService.languageIdCodec,(0,D.derived)(w=>{const E=this.uiState.read(w);return E?{lineNumber:E.lineNumber,additionalLines:E.additionalLines,minReservedLineCount:E.additionalReservedLineCount,targetTextModel:E.targetTextModel}:void 0}))),this._register((0,y.toDisposable)(()=>{this.isDisposed.set(!0,void 0)})),this._register((0,r.applyObservableDecorations)(this.editor,this.decorations))}ownsViewZone(m){return this.additionalLinesWidget.viewZoneId===m}};e.GhostTextWidget=c,e.GhostTextWidget=c=ke([fe(2,i.ILanguageService)],c);class o extends y.Disposable{get viewZoneId(){return this._viewZoneId}constructor(m,v,b){super(),this.editor=m,this.languageIdCodec=v,this.lines=b,this._viewZoneId=void 0,this.editorOptionsChanged=(0,D.observableSignalFromEvent)("editorOptionChanged",k.Event.filter(this.editor.onDidChangeConfiguration,w=>w.hasChanged(32)||w.hasChanged(115)||w.hasChanged(97)||w.hasChanged(92)||w.hasChanged(50)||w.hasChanged(49)||w.hasChanged(65))),this._register((0,D.autorun)(w=>{const E=this.lines.read(w);this.editorOptionsChanged.read(w),E?this.updateLines(E.lineNumber,E.additionalLines,E.minReservedLineCount):this.clear()}))}dispose(){super.dispose(),this.clear()}clear(){this.editor.changeViewZones(m=>{this._viewZoneId&&(m.removeZone(this._viewZoneId),this._viewZoneId=void 0)})}updateLines(m,v,b){const w=this.editor.getModel();if(!w)return;const{tabSize:E}=w.getOptions();this.editor.changeViewZones(I=>{this._viewZoneId&&(I.removeZone(this._viewZoneId),this._viewZoneId=void 0);const M=Math.max(v.length,b);if(M>0){const P=document.createElement("div");d(P,E,v,this.editor.getOptions(),this.languageIdCodec),this._viewZoneId=I.addZone({afterLineNumber:m,heightInLines:M,domNode:P,afterColumnAffinity:1})}})}}function d(p,m,v,b,w){const E=b.get(32),I=b.get(115),M="none",P=b.get(92),x=b.get(50),T=b.get(49),A=b.get(65),N=new s.StringBuilder(1e4);N.appendString('<div class="suggest-preview-text">');for(let W=0,U=v.length;W<U;W++){const j=v[W],R=j.content;N.appendString('<div class="view-line'),N.appendString('" style="top:'),N.appendString(String(W*A)),N.appendString('px;width:1000000px;">');const K=S.isBasicASCII(R),G=S.containsRTL(R),Z=t.LineTokens.createEmpty(R,w);(0,u.renderViewLine)(new u.RenderLineInput(T.isMonospace&&!E,T.canUseHalfwidthRightwardsArrow,R,!1,K,G,0,Z,j.decorations,m,0,T.spaceWidth,T.middotWidth,T.wsmiddotWidth,I,M,P,x!==_.EditorFontLigatures.OFF,null),N),N.appendString("</div>")}N.appendString("</div>"),(0,f.applyFontInfo)(p,T);const F=N.build(),O=l?l.createHTML(F):F;p.innerHTML=O}const l=(0,L.createTrustedTypesPolicy)("editorGhostText",{createHTML:p=>p})}),define(ne[133],se([1,0,8]),function(Q,e,L){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.IStandaloneThemeService=void 0,e.IStandaloneThemeService=(0,L.createDecorator)("themeService")}),define(ne[116],se([1,0,8,720]),function(Q,e,L,k){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.AudioCue=e.SoundSource=e.Sound=e.IAudioCueService=void 0,e.IAudioCueService=(0,L.createDecorator)("audioCue");class y{static register(_){return new y(_.fileName)}constructor(_){this.fileName=_}}e.Sound=y,y.error=y.register({fileName:"error.mp3"}),y.warning=y.register({fileName:"warning.mp3"}),y.foldedArea=y.register({fileName:"foldedAreas.mp3"}),y.break=y.register({fileName:"break.mp3"}),y.quickFixes=y.register({fileName:"quickFixes.mp3"}),y.taskCompleted=y.register({fileName:"taskCompleted.mp3"}),y.taskFailed=y.register({fileName:"taskFailed.mp3"}),y.terminalBell=y.register({fileName:"terminalBell.mp3"}),y.diffLineInserted=y.register({fileName:"diffLineInserted.mp3"}),y.diffLineDeleted=y.register({fileName:"diffLineDeleted.mp3"}),y.diffLineModified=y.register({fileName:"diffLineModified.mp3"}),y.chatRequestSent=y.register({fileName:"chatRequestSent.mp3"}),y.chatResponsePending=y.register({fileName:"chatResponsePending.mp3"}),y.chatResponseReceived1=y.register({fileName:"chatResponseReceived1.mp3"}),y.chatResponseReceived2=y.register({fileName:"chatResponseReceived2.mp3"}),y.chatResponseReceived3=y.register({fileName:"chatResponseReceived3.mp3"}),y.chatResponseReceived4=y.register({fileName:"chatResponseReceived4.mp3"});class D{constructor(_){this.randomOneOf=_}}e.SoundSource=D;class S{static register(_){const g=new D("randomOneOf"in _.sound?_.sound.randomOneOf:[_.sound]),C=new S(g,_.name,_.settingsKey);return S._audioCues.add(C),C}constructor(_,g,C){this.sound=_,this.name=g,this.settingsKey=C}}e.AudioCue=S,S._audioCues=new Set,S.error=S.register({name:(0,k.localize)(0,null),sound:y.error,settingsKey:"audioCues.lineHasError"}),S.warning=S.register({name:(0,k.localize)(1,null),sound:y.warning,settingsKey:"audioCues.lineHasWarning"}),S.foldedArea=S.register({name:(0,k.localize)(2,null),sound:y.foldedArea,settingsKey:"audioCues.lineHasFoldedArea"}),S.break=S.register({name:(0,k.localize)(3,null),sound:y.break,settingsKey:"audioCues.lineHasBreakpoint"}),S.inlineSuggestion=S.register({name:(0,k.localize)(4,null),sound:y.quickFixes,settingsKey:"audioCues.lineHasInlineSuggestion"}),S.terminalQuickFix=S.register({name:(0,k.localize)(5,null),sound:y.quickFixes,settingsKey:"audioCues.terminalQuickFix"}),S.onDebugBreak=S.register({name:(0,k.localize)(6,null),sound:y.break,settingsKey:"audioCues.onDebugBreak"}),S.noInlayHints=S.register({name:(0,k.localize)(7,null),sound:y.error,settingsKey:"audioCues.noInlayHints"}),S.taskCompleted=S.register({name:(0,k.localize)(8,null),sound:y.taskCompleted,settingsKey:"audioCues.taskCompleted"}),S.taskFailed=S.register({name:(0,k.localize)(9,null),sound:y.taskFailed,settingsKey:"audioCues.taskFailed"}),S.terminalCommandFailed=S.register({name:(0,k.localize)(10,null),sound:y.error,settingsKey:"audioCues.terminalCommandFailed"}),S.terminalBell=S.register({name:(0,k.localize)(11,null),sound:y.terminalBell,settingsKey:"audioCues.terminalBell"}),S.notebookCellCompleted=S.register({name:(0,k.localize)(12,null),sound:y.taskCompleted,settingsKey:"audioCues.notebookCellCompleted"}),S.notebookCellFailed=S.register({name:(0,k.localize)(13,null),sound:y.taskFailed,settingsKey:"audioCues.notebookCellFailed"}),S.diffLineInserted=S.register({name:(0,k.localize)(14,null),sound:y.diffLineInserted,settingsKey:"audioCues.diffLineInserted"}),S.diffLineDeleted=S.register({name:(0,k.localize)(15,null),sound:y.diffLineDeleted,settingsKey:"audioCues.diffLineDeleted"}),S.diffLineModified=S.register({name:(0,k.localize)(16,null),sound:y.diffLineModified,settingsKey:"audioCues.diffLineModified"}),S.chatRequestSent=S.register({name:(0,k.localize)(17,null),sound:y.chatRequestSent,settingsKey:"audioCues.chatRequestSent"}),S.chatResponseReceived=S.register({name:(0,k.localize)(18,null),settingsKey:"audioCues.chatResponseReceived",sound:{randomOneOf:[y.chatResponseReceived1,y.chatResponseReceived2,y.chatResponseReceived3,y.chatResponseReceived4]}}),S.chatResponsePending=S.register({name:(0,k.localize)(19,null),sound:y.chatResponsePending,settingsKey:"audioCues.chatResponsePending"})}),define(ne[96],se([1,0,8]),function(Q,e,L){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.IClipboardService=void 0,e.IClipboardService=(0,L.createDecorator)("clipboardService")}),define(ne[27],se([1,0,6,46,2,64,20,8]),function(Q,e,L,k,y,D,S,f){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.CommandsRegistry=e.ICommandService=void 0,e.ICommandService=(0,f.createDecorator)("commandService"),e.CommandsRegistry=new class{constructor(){this._commands=new Map,this._onDidRegisterCommand=new L.Emitter,this.onDidRegisterCommand=this._onDidRegisterCommand.event}registerCommand(_,g){if(!_)throw new Error("invalid command");if(typeof _=="string"){if(!g)throw new Error("invalid command");return this.registerCommand({id:_,handler:g})}if(_.description){const t=[];for(const u of _.description.args)t.push(u.constraint);const a=_.handler;_.handler=function(u,...h){return(0,S.validateConstraints)(h,t),a(u,...h)}}const{id:C}=_;let s=this._commands.get(C);s||(s=new D.LinkedList,this._commands.set(C,s));const i=s.unshift(_),n=(0,y.toDisposable)(()=>{i();const t=this._commands.get(C);t?.isEmpty()&&this._commands.delete(C)});return this._onDidRegisterCommand.fire(C),n}registerCommandAlias(_,g){return e.CommandsRegistry.registerCommand(_,(C,...s)=>C.get(e.ICommandService).executeCommand(g,...s))}getCommand(_){const g=this._commands.get(_);if(!(!g||g.isEmpty()))return k.Iterable.first(g)}getCommands(){const _=new Map;for(const g of this._commands.keys()){const C=this.getCommand(g);C&&_.set(g,C)}return _}},e.CommandsRegistry.registerCommand("noop",()=>{})}),define(ne[332],se([1,0,19,9,2,20,22,51,27,18]),function(Q,e,L,k,y,D,S,f,_,g){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.getCodeLensModel=e.CodeLensModel=void 0;class C{constructor(){this.lenses=[],this._disposables=new y.DisposableStore}dispose(){this._disposables.dispose()}get isDisposed(){return this._disposables.isDisposed}add(n,t){this._disposables.add(n);for(const a of n.lenses)this.lenses.push({symbol:a,provider:t})}}e.CodeLensModel=C;function s(i,n,t){return we(this,void 0,void 0,function*(){const a=i.ordered(n),u=new Map,h=new C,r=a.map((c,o)=>we(this,void 0,void 0,function*(){u.set(c,o);try{const d=yield Promise.resolve(c.provideCodeLenses(n,t));d&&h.add(d,c)}catch(d){(0,k.onUnexpectedExternalError)(d)}}));return yield Promise.all(r),h.lenses=h.lenses.sort((c,o)=>c.symbol.range.startLineNumber<o.symbol.range.startLineNumber?-1:c.symbol.range.startLineNumber>o.symbol.range.startLineNumber?1:u.get(c.provider)<u.get(o.provider)?-1:u.get(c.provider)>u.get(o.provider)?1:c.symbol.range.startColumn<o.symbol.range.startColumn?-1:c.symbol.range.startColumn>o.symbol.range.startColumn?1:0),h})}e.getCodeLensModel=s,_.CommandsRegistry.registerCommand("_executeCodeLensProvider",function(i,...n){let[t,a]=n;(0,D.assertType)(S.URI.isUri(t)),(0,D.assertType)(typeof a=="number"||!a);const{codeLensProvider:u}=i.get(g.ILanguageFeaturesService),h=i.get(f.IModelService).getModel(t);if(!h)throw(0,k.illegalArgument)();const r=[],c=new y.DisposableStore;return s(u,h,L.CancellationToken.None).then(o=>{c.add(o);const d=[];for(const l of o.lenses)a==null||l.symbol.command?r.push(l.symbol):a-- >0&&l.provider.resolveCodeLens&&d.push(Promise.resolve(l.provider.resolveCodeLens(h,l.symbol,L.CancellationToken.None)).then(p=>r.push(p||l.symbol)));return Promise.all(d)}).then(()=>r).finally(()=>{setTimeout(()=>c.dispose(),100)})})}),define(ne[751],se([1,0,14,19,9,2,20,22,5,51,27,18]),function(Q,e,L,k,y,D,S,f,_,g,C,s){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.getLinks=e.LinksList=e.Link=void 0;class i{constructor(u,h){this._link=u,this._provider=h}toJSON(){return{range:this.range,url:this.url,tooltip:this.tooltip}}get range(){return this._link.range}get url(){return this._link.url}get tooltip(){return this._link.tooltip}resolve(u){return we(this,void 0,void 0,function*(){return this._link.url?this._link.url:typeof this._provider.resolveLink=="function"?Promise.resolve(this._provider.resolveLink(this._link,u)).then(h=>(this._link=h||this._link,this._link.url?this.resolve(u):Promise.reject(new Error("missing")))):Promise.reject(new Error("missing"))})}}e.Link=i;class n{constructor(u){this._disposables=new D.DisposableStore;let h=[];for(const[r,c]of u){const o=r.links.map(d=>new i(d,c));h=n._union(h,o),(0,D.isDisposable)(r)&&this._disposables.add(r)}this.links=h}dispose(){this._disposables.dispose(),this.links.length=0}static _union(u,h){const r=[];let c,o,d,l;for(c=0,d=0,o=u.length,l=h.length;c<o&&d<l;){const p=u[c],m=h[d];if(_.Range.areIntersectingOrTouching(p.range,m.range)){c++;continue}_.Range.compareRangesUsingStarts(p.range,m.range)<0?(r.push(p),c++):(r.push(m),d++)}for(;c<o;c++)r.push(u[c]);for(;d<l;d++)r.push(h[d]);return r}}e.LinksList=n;function t(a,u,h){const r=[],c=a.ordered(u).reverse().map((o,d)=>Promise.resolve(o.provideLinks(u,h)).then(l=>{l&&(r[d]=[l,o])},y.onUnexpectedExternalError));return Promise.all(c).then(()=>{const o=new n((0,L.coalesce)(r));return h.isCancellationRequested?(o.dispose(),new n([])):o})}e.getLinks=t,C.CommandsRegistry.registerCommand("_executeLinkProvider",(a,...u)=>we(void 0,void 0,void 0,function*(){let[h,r]=u;(0,S.assertType)(h instanceof f.URI),typeof r!="number"&&(r=0);const{linkProvider:c}=a.get(s.ILanguageFeaturesService),o=a.get(g.IModelService).getModel(h);if(!o)return[];const d=yield t(c,o,k.CancellationToken.None);if(!d)return[];for(let p=0;p<Math.min(r,d.links.length);p++)yield d.links[p].resolve(k.CancellationToken.None);const l=d.links.slice(0);return d.dispose(),l}))}),define(ne[333],se([1,0,19,9,22,51,27,20,598,5,18]),function(Q,e,L,k,y,D,S,f,_,g,C){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.getDocumentRangeSemanticTokens=e.hasDocumentRangeSemanticTokensProvider=e.getDocumentSemanticTokens=e.hasDocumentSemanticTokensProvider=e.DocumentSemanticTokensResult=e.isSemanticTokensEdits=e.isSemanticTokens=void 0;function s(l){return l&&!!l.data}e.isSemanticTokens=s;function i(l){return l&&Array.isArray(l.edits)}e.isSemanticTokensEdits=i;class n{constructor(p,m,v){this.provider=p,this.tokens=m,this.error=v}}e.DocumentSemanticTokensResult=n;function t(l,p){return l.has(p)}e.hasDocumentSemanticTokensProvider=t;function a(l,p){const m=l.orderedGroups(p);return m.length>0?m[0]:[]}function u(l,p,m,v,b){return we(this,void 0,void 0,function*(){const w=a(l,p),E=yield Promise.all(w.map(I=>we(this,void 0,void 0,function*(){let M,P=null;try{M=yield I.provideDocumentSemanticTokens(p,I===m?v:null,b)}catch(x){P=x,M=null}return(!M||!s(M)&&!i(M))&&(M=null),new n(I,M,P)})));for(const I of E){if(I.error)throw I.error;if(I.tokens)return I}return E.length>0?E[0]:null})}e.getDocumentSemanticTokens=u;function h(l,p){const m=l.orderedGroups(p);return m.length>0?m[0]:null}class r{constructor(p,m){this.provider=p,this.tokens=m}}function c(l,p){return l.has(p)}e.hasDocumentRangeSemanticTokensProvider=c;function o(l,p){const m=l.orderedGroups(p);return m.length>0?m[0]:[]}function d(l,p,m,v){return we(this,void 0,void 0,function*(){const b=o(l,p),w=yield Promise.all(b.map(E=>we(this,void 0,void 0,function*(){let I;try{I=yield E.provideDocumentRangeSemanticTokens(p,m,v)}catch(M){(0,k.onUnexpectedExternalError)(M),I=null}return(!I||!s(I))&&(I=null),new r(E,I)})));for(const E of w)if(E.tokens)return E;return w.length>0?w[0]:null})}e.getDocumentRangeSemanticTokens=d,S.CommandsRegistry.registerCommand("_provideDocumentSemanticTokensLegend",(l,...p)=>we(void 0,void 0,void 0,function*(){const[m]=p;(0,f.assertType)(m instanceof y.URI);const v=l.get(D.IModelService).getModel(m);if(!v)return;const{documentSemanticTokensProvider:b}=l.get(C.ILanguageFeaturesService),w=h(b,v);return w?w[0].getLegend():l.get(S.ICommandService).executeCommand("_provideDocumentRangeSemanticTokensLegend",m)})),S.CommandsRegistry.registerCommand("_provideDocumentSemanticTokens",(l,...p)=>we(void 0,void 0,void 0,function*(){const[m]=p;(0,f.assertType)(m instanceof y.URI);const v=l.get(D.IModelService).getModel(m);if(!v)return;const{documentSemanticTokensProvider:b}=l.get(C.ILanguageFeaturesService);if(!t(b,v))return l.get(S.ICommandService).executeCommand("_provideDocumentRangeSemanticTokens",m,v.getFullModelRange());const w=yield u(b,v,null,null,L.CancellationToken.None);if(!w)return;const{provider:E,tokens:I}=w;if(!I||!s(I))return;const M=(0,_.encodeSemanticTokensDto)({id:0,type:"full",data:I.data});return I.resultId&&E.releaseDocumentSemanticTokens(I.resultId),M})),S.CommandsRegistry.registerCommand("_provideDocumentRangeSemanticTokensLegend",(l,...p)=>we(void 0,void 0,void 0,function*(){const[m,v]=p;(0,f.assertType)(m instanceof y.URI);const b=l.get(D.IModelService).getModel(m);if(!b)return;const{documentRangeSemanticTokensProvider:w}=l.get(C.ILanguageFeaturesService),E=o(w,b);if(E.length===0)return;if(E.length===1)return E[0].getLegend();if(!v||!g.Range.isIRange(v))return console.warn("provideDocumentRangeSemanticTokensLegend might be out-of-sync with provideDocumentRangeSemanticTokens unless a range argument is passed in"),E[0].getLegend();const I=yield d(w,b,g.Range.lift(v),L.CancellationToken.None);if(I)return I.provider.getLegend()})),S.CommandsRegistry.registerCommand("_provideDocumentRangeSemanticTokens",(l,...p)=>we(void 0,void 0,void 0,function*(){const[m,v]=p;(0,f.assertType)(m instanceof y.URI),(0,f.assertType)(g.Range.isIRange(v));const b=l.get(D.IModelService).getModel(m);if(!b)return;const{documentRangeSemanticTokensProvider:w}=l.get(C.ILanguageFeaturesService),E=yield d(w,b,g.Range.lift(v),L.CancellationToken.None);if(!(!E||!E.tokens))return(0,_.encodeSemanticTokensDto)({id:0,type:"full",data:E.tokens.data})}))}),define(ne[28],se([1,0,8]),function(Q,e,L){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.getLanguageTagSettingPlainKey=e.getConfigurationValue=e.removeFromValueTree=e.addToValueTree=e.toValuesTree=e.IConfigurationService=void 0,e.IConfigurationService=(0,L.createDecorator)("configurationService");function k(g,C){const s=Object.create(null);for(const i in g)y(s,i,g[i],C);return s}e.toValuesTree=k;function y(g,C,s,i){const n=C.split("."),t=n.pop();let a=g;for(let u=0;u<n.length;u++){const h=n[u];let r=a[h];switch(typeof r){case"undefined":r=a[h]=Object.create(null);break;case"object":break;default:i(`Ignoring ${C} as ${n.slice(0,u+1).join(".")} is ${JSON.stringify(r)}`);return}a=r}if(typeof a=="object"&&a!==null)try{a[t]=s}catch{i(`Ignoring ${C} as ${n.join(".")} is ${JSON.stringify(a)}`)}else i(`Ignoring ${C} as ${n.join(".")} is ${JSON.stringify(a)}`)}e.addToValueTree=y;function D(g,C){const s=C.split(".");S(g,s)}e.removeFromValueTree=D;function S(g,C){const s=C.shift();if(C.length===0){delete g[s];return}if(Object.keys(g).indexOf(s)!==-1){const i=g[s];typeof i=="object"&&!Array.isArray(i)&&(S(i,C),Object.keys(i).length===0&&delete g[s])}}function f(g,C,s){function i(a,u){let h=a;for(const r of u){if(typeof h!="object"||h===null)return;h=h[r]}return h}const n=C.split("."),t=i(g,n);return typeof t>"u"?s:t}e.getConfigurationValue=f;function _(g){return g.replace(/[\[\]]/g,"")}e.getLanguageTagSettingPlainKey=_}),define(ne[334],se([1,0,29,154,302,28]),function(Q,e,L,k,y,D){"use strict";var S;Object.defineProperty(e,"__esModule",{value:!0}),e.MonarchTokenizer=void 0;const f=5;class _{static create(r,c){return this._INSTANCE.create(r,c)}constructor(r){this._maxCacheDepth=r,this._entries=Object.create(null)}create(r,c){if(r!==null&&r.depth>=this._maxCacheDepth)return new g(r,c);let o=g.getStackElementId(r);o.length>0&&(o+="|"),o+=c;let d=this._entries[o];return d||(d=new g(r,c),this._entries[o]=d,d)}}_._INSTANCE=new _(f);class g{constructor(r,c){this.parent=r,this.state=c,this.depth=(this.parent?this.parent.depth:0)+1}static getStackElementId(r){let c="";for(;r!==null;)c.length>0&&(c+="|"),c+=r.state,r=r.parent;return c}static _equals(r,c){for(;r!==null&&c!==null;){if(r===c)return!0;if(r.state!==c.state)return!1;r=r.parent,c=c.parent}return r===null&&c===null}equals(r){return g._equals(this,r)}push(r){return _.create(this,r)}pop(){return this.parent}popall(){let r=this;for(;r.parent;)r=r.parent;return r}switchTo(r){return _.create(this.parent,r)}}class C{constructor(r,c){this.languageId=r,this.state=c}equals(r){return this.languageId===r.languageId&&this.state.equals(r.state)}clone(){return this.state.clone()===this.state?this:new C(this.languageId,this.state)}}class s{static create(r,c){return this._INSTANCE.create(r,c)}constructor(r){this._maxCacheDepth=r,this._entries=Object.create(null)}create(r,c){if(c!==null)return new i(r,c);if(r!==null&&r.depth>=this._maxCacheDepth)return new i(r,c);const o=g.getStackElementId(r);let d=this._entries[o];return d||(d=new i(r,null),this._entries[o]=d,d)}}s._INSTANCE=new s(f);class i{constructor(r,c){this.stack=r,this.embeddedLanguageData=c}clone(){return(this.embeddedLanguageData?this.embeddedLanguageData.clone():null)===this.embeddedLanguageData?this:s.create(this.stack,this.embeddedLanguageData)}equals(r){return!(r instanceof i)||!this.stack.equals(r.stack)?!1:this.embeddedLanguageData===null&&r.embeddedLanguageData===null?!0:this.embeddedLanguageData===null||r.embeddedLanguageData===null?!1:this.embeddedLanguageData.equals(r.embeddedLanguageData)}}class n{constructor(){this._tokens=[],this._languageId=null,this._lastTokenType=null,this._lastTokenLanguage=null}enterLanguage(r){this._languageId=r}emit(r,c){this._lastTokenType===c&&this._lastTokenLanguage===this._languageId||(this._lastTokenType=c,this._lastTokenLanguage=this._languageId,this._tokens.push(new L.Token(r,c,this._languageId)))}nestedLanguageTokenize(r,c,o,d){const l=o.languageId,p=o.state,m=L.TokenizationRegistry.get(l);if(!m)return this.enterLanguage(l),this.emit(d,""),p;const v=m.tokenize(r,c,p);if(d!==0)for(const b of v.tokens)this._tokens.push(new L.Token(b.offset+d,b.type,b.language));else this._tokens=this._tokens.concat(v.tokens);return this._lastTokenType=null,this._lastTokenLanguage=null,this._languageId=null,v.endState}finalize(r){return new L.TokenizationResult(this._tokens,r)}}class t{constructor(r,c){this._languageService=r,this._theme=c,this._prependTokens=null,this._tokens=[],this._currentLanguageId=0,this._lastTokenMetadata=0}enterLanguage(r){this._currentLanguageId=this._languageService.languageIdCodec.encodeLanguageId(r)}emit(r,c){const o=this._theme.match(this._currentLanguageId,c)|1024;this._lastTokenMetadata!==o&&(this._lastTokenMetadata=o,this._tokens.push(r),this._tokens.push(o))}static _merge(r,c,o){const d=r!==null?r.length:0,l=c.length,p=o!==null?o.length:0;if(d===0&&l===0&&p===0)return new Uint32Array(0);if(d===0&&l===0)return o;if(l===0&&p===0)return r;const m=new Uint32Array(d+l+p);r!==null&&m.set(r);for(let v=0;v<l;v++)m[d+v]=c[v];return o!==null&&m.set(o,d+l),m}nestedLanguageTokenize(r,c,o,d){const l=o.languageId,p=o.state,m=L.TokenizationRegistry.get(l);if(!m)return this.enterLanguage(l),this.emit(d,""),p;const v=m.tokenizeEncoded(r,c,p);if(d!==0)for(let b=0,w=v.tokens.length;b<w;b+=2)v.tokens[b]+=d;return this._prependTokens=t._merge(this._prependTokens,this._tokens,v.tokens),this._tokens=[],this._currentLanguageId=0,this._lastTokenMetadata=0,v.endState}finalize(r){return new L.EncodedTokenizationResult(t._merge(this._prependTokens,this._tokens,null),r)}}let a=S=class{constructor(r,c,o,d,l){this._configurationService=l,this._languageService=r,this._standaloneThemeService=c,this._languageId=o,this._lexer=d,this._embeddedLanguages=Object.create(null),this.embeddedLoaded=Promise.resolve(void 0);let p=!1;this._tokenizationRegistryListener=L.TokenizationRegistry.onDidChange(m=>{if(p)return;let v=!1;for(let b=0,w=m.changedLanguages.length;b<w;b++){const E=m.changedLanguages[b];if(this._embeddedLanguages[E]){v=!0;break}}v&&(p=!0,L.TokenizationRegistry.handleChange([this._languageId]),p=!1)}),this._maxTokenizationLineLength=this._configurationService.getValue("editor.maxTokenizationLineLength",{overrideIdentifier:this._languageId}),this._configurationService.onDidChangeConfiguration(m=>{m.affectsConfiguration("editor.maxTokenizationLineLength")&&(this._maxTokenizationLineLength=this._configurationService.getValue("editor.maxTokenizationLineLength",{overrideIdentifier:this._languageId}))})}dispose(){this._tokenizationRegistryListener.dispose()}getLoadStatus(){const r=[];for(const c in this._embeddedLanguages){const o=L.TokenizationRegistry.get(c);if(o){if(o instanceof S){const d=o.getLoadStatus();d.loaded===!1&&r.push(d.promise)}continue}L.TokenizationRegistry.isResolved(c)||r.push(L.TokenizationRegistry.getOrCreate(c))}return r.length===0?{loaded:!0}:{loaded:!1,promise:Promise.all(r).then(c=>{})}}getInitialState(){const r=_.create(null,this._lexer.start);return s.create(r,null)}tokenize(r,c,o){if(r.length>=this._maxTokenizationLineLength)return(0,k.nullTokenize)(this._languageId,o);const d=new n,l=this._tokenize(r,c,o,d);return d.finalize(l)}tokenizeEncoded(r,c,o){if(r.length>=this._maxTokenizationLineLength)return(0,k.nullTokenizeEncoded)(this._languageService.languageIdCodec.encodeLanguageId(this._languageId),o);const d=new t(this._languageService,this._standaloneThemeService.getColorTheme().tokenTheme),l=this._tokenize(r,c,o,d);return d.finalize(l)}_tokenize(r,c,o,d){return o.embeddedLanguageData?this._nestedTokenize(r,c,o,0,d):this._myTokenize(r,c,o,0,d)}_findLeavingNestedLanguageOffset(r,c){let o=this._lexer.tokenizer[c.stack.state];if(!o&&(o=y.findRules(this._lexer,c.stack.state),!o))throw y.createError(this._lexer,"tokenizer state is not defined: "+c.stack.state);let d=-1,l=!1;for(const p of o){if(!y.isIAction(p.action)||p.action.nextEmbedded!=="@pop")continue;l=!0;let m=p.regex;const v=p.regex.source;if(v.substr(0,4)==="^(?:"&&v.substr(v.length-1,1)===")"){const w=(m.ignoreCase?"i":"")+(m.unicode?"u":"");m=new RegExp(v.substr(4,v.length-5),w)}const b=r.search(m);b===-1||b!==0&&p.matchOnlyAtLineStart||(d===-1||b<d)&&(d=b)}if(!l)throw y.createError(this._lexer,'no rule containing nextEmbedded: "@pop" in tokenizer embedded state: '+c.stack.state);return d}_nestedTokenize(r,c,o,d,l){const p=this._findLeavingNestedLanguageOffset(r,o);if(p===-1){const b=l.nestedLanguageTokenize(r,c,o.embeddedLanguageData,d);return s.create(o.stack,new C(o.embeddedLanguageData.languageId,b))}const m=r.substring(0,p);m.length>0&&l.nestedLanguageTokenize(m,!1,o.embeddedLanguageData,d);const v=r.substring(p);return this._myTokenize(v,c,o,d+p,l)}_safeRuleName(r){return r?r.name:"(unknown)"}_myTokenize(r,c,o,d,l){l.enterLanguage(this._languageId);const p=r.length,m=c&&this._lexer.includeLF?r+`
`:r,v=m.length;let b=o.embeddedLanguageData,w=o.stack,E=0,I=null,M=!0;for(;M||E<v;){const P=E,x=w.depth,T=I?I.groups.length:0,A=w.state;let N=null,F=null,O=null,W=null,U=null;if(I){N=I.matches;const K=I.groups.shift();F=K.matched,O=K.action,W=I.rule,I.groups.length===0&&(I=null)}else{if(!M&&E>=v)break;M=!1;let K=this._lexer.tokenizer[A];if(!K&&(K=y.findRules(this._lexer,A),!K))throw y.createError(this._lexer,"tokenizer state is not defined: "+A);const G=m.substr(E);for(const Z of K)if((E===0||!Z.matchOnlyAtLineStart)&&(N=G.match(Z.regex),N)){F=N[0],O=Z.action;break}}if(N||(N=[""],F=""),O||(E<v&&(N=[m.charAt(E)],F=N[0]),O=this._lexer.defaultToken),F===null)break;for(E+=F.length;y.isFuzzyAction(O)&&y.isIAction(O)&&O.test;)O=O.test(F,N,A,E===v);let j=null;if(typeof O=="string"||Array.isArray(O))j=O;else if(O.group)j=O.group;else if(O.token!==null&&O.token!==void 0){if(O.tokenSubst?j=y.substituteMatches(this._lexer,O.token,F,N,A):j=O.token,O.nextEmbedded)if(O.nextEmbedded==="@pop"){if(!b)throw y.createError(this._lexer,"cannot pop embedded language if not inside one");b=null}else{if(b)throw y.createError(this._lexer,"cannot enter embedded language from within an embedded language");U=y.substituteMatches(this._lexer,O.nextEmbedded,F,N,A)}if(O.goBack&&(E=Math.max(0,E-O.goBack)),O.switchTo&&typeof O.switchTo=="string"){let K=y.substituteMatches(this._lexer,O.switchTo,F,N,A);if(K[0]==="@"&&(K=K.substr(1)),y.findRules(this._lexer,K))w=w.switchTo(K);else throw y.createError(this._lexer,"trying to switch to a state '"+K+"' that is undefined in rule: "+this._safeRuleName(W))}else{if(O.transform&&typeof O.transform=="function")throw y.createError(this._lexer,"action.transform not supported");if(O.next)if(O.next==="@push"){if(w.depth>=this._lexer.maxStack)throw y.createError(this._lexer,"maximum tokenizer stack size reached: ["+w.state+","+w.parent.state+",...]");w=w.push(A)}else if(O.next==="@pop"){if(w.depth<=1)throw y.createError(this._lexer,"trying to pop an empty stack in rule: "+this._safeRuleName(W));w=w.pop()}else if(O.next==="@popall")w=w.popall();else{let K=y.substituteMatches(this._lexer,O.next,F,N,A);if(K[0]==="@"&&(K=K.substr(1)),y.findRules(this._lexer,K))w=w.push(K);else throw y.createError(this._lexer,"trying to set a next state '"+K+"' that is undefined in rule: "+this._safeRuleName(W))}}O.log&&typeof O.log=="string"&&y.log(this._lexer,this._lexer.languageId+": "+y.substituteMatches(this._lexer,O.log,F,N,A))}if(j===null)throw y.createError(this._lexer,"lexer rule has no well-defined action in rule: "+this._safeRuleName(W));const R=K=>{const G=this._languageService.getLanguageIdByLanguageName(K)||this._languageService.getLanguageIdByMimeType(K)||K,Z=this._getNestedEmbeddedLanguageData(G);if(E<v){const J=r.substr(E);return this._nestedTokenize(J,c,s.create(w,Z),d+E,l)}else return s.create(w,Z)};if(Array.isArray(j)){if(I&&I.groups.length>0)throw y.createError(this._lexer,"groups cannot be nested: "+this._safeRuleName(W));if(N.length!==j.length+1)throw y.createError(this._lexer,"matched number of groups does not match the number of actions in rule: "+this._safeRuleName(W));let K=0;for(let G=1;G<N.length;G++)K+=N[G].length;if(K!==F.length)throw y.createError(this._lexer,"with groups, all characters should be matched in consecutive groups in rule: "+this._safeRuleName(W));I={rule:W,matches:N,groups:[]};for(let G=0;G<j.length;G++)I.groups[G]={action:j[G],matched:N[G+1]};E-=F.length;continue}else{if(j==="@rematch"&&(E-=F.length,F="",N=null,j="",U!==null))return R(U);if(F.length===0){if(v===0||x!==w.depth||A!==w.state||(I?I.groups.length:0)!==T)continue;throw y.createError(this._lexer,"no progress in tokenizer in rule: "+this._safeRuleName(W))}let K=null;if(y.isString(j)&&j.indexOf("@brackets")===0){const G=j.substr(9),Z=u(this._lexer,F);if(!Z)throw y.createError(this._lexer,"@brackets token returned but no bracket defined as: "+F);K=y.sanitize(Z.token+G)}else{const G=j===""?"":j+this._lexer.tokenPostfix;K=y.sanitize(G)}P<p&&l.emit(P+d,K)}if(U!==null)return R(U)}return s.create(w,b)}_getNestedEmbeddedLanguageData(r){if(!this._languageService.isRegisteredLanguageId(r))return new C(r,k.NullState);r!==this._languageId&&(this._languageService.requestBasicLanguageFeatures(r),L.TokenizationRegistry.getOrCreate(r),this._embeddedLanguages[r]=!0);const c=L.TokenizationRegistry.get(r);return c?new C(r,c.getInitialState()):new C(r,k.NullState)}};e.MonarchTokenizer=a,e.MonarchTokenizer=a=S=ke([fe(4,D.IConfigurationService)],a);function u(h,r){if(!r)return null;r=y.fixCase(h,r);const c=h.brackets;for(const o of c){if(o.open===r)return{token:o.token,bracketType:1};if(o.close===r)return{token:o.token,bracketType:-1}}return null}}),define(ne[752],se([1,0,89,11,29,86,95,67,334]),function(Q,e,L,k,y,D,S,f,_){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.Colorizer=void 0;const g=(0,L.createTrustedTypesPolicy)("standaloneColorizer",{createHTML:t=>t});class C{static colorizeElement(a,u,h,r){r=r||{};const c=r.theme||"vs",o=r.mimeType||h.getAttribute("lang")||h.getAttribute("data-lang");if(!o)return console.error("Mode not detected"),Promise.resolve();const d=u.getLanguageIdByMimeType(o)||o;a.setTheme(c);const l=h.firstChild?h.firstChild.nodeValue:"";h.className+=" "+c;const p=m=>{var v;const b=(v=g?.createHTML(m))!==null&&v!==void 0?v:m;h.innerHTML=b};return this.colorize(u,l||"",d,r).then(p,m=>console.error(m))}static colorize(a,u,h,r){return we(this,void 0,void 0,function*(){const c=a.languageIdCodec;let o=4;r&&typeof r.tabSize=="number"&&(o=r.tabSize),k.startsWithUTF8BOM(u)&&(u=u.substr(1));const d=k.splitLines(u);if(!a.isRegisteredLanguageId(h))return i(d,o,c);const l=yield y.TokenizationRegistry.getOrCreate(h);return l?s(d,o,l,c):i(d,o,c)})}static colorizeLine(a,u,h,r,c=4){const o=f.ViewLineRenderingData.isBasicASCII(a,u),d=f.ViewLineRenderingData.containsRTL(a,o,h);return(0,S.renderViewLine2)(new S.RenderLineInput(!1,!0,a,!1,o,d,0,r,[],c,0,0,0,0,-1,"none",!1,!1,null)).html}static colorizeModelLine(a,u,h=4){const r=a.getLineContent(u);a.tokenization.forceTokenization(u);const o=a.tokenization.getLineTokens(u).inflate();return this.colorizeLine(r,a.mightContainNonBasicASCII(),a.mightContainRTL(),o,h)}}e.Colorizer=C;function s(t,a,u,h){return new Promise((r,c)=>{const o=()=>{const d=n(t,a,u,h);if(u instanceof _.MonarchTokenizer){const l=u.getLoadStatus();if(l.loaded===!1){l.promise.then(o,c);return}}r(d)};o()})}function i(t,a,u){let h=[];const c=new Uint32Array(2);c[0]=0,c[1]=33587200;for(let o=0,d=t.length;o<d;o++){const l=t[o];c[0]=l.length;const p=new D.LineTokens(c,l,u),m=f.ViewLineRenderingData.isBasicASCII(l,!0),v=f.ViewLineRenderingData.containsRTL(l,m,!0),b=(0,S.renderViewLine2)(new S.RenderLineInput(!1,!0,l,!1,m,v,0,p,[],a,0,0,0,0,-1,"none",!1,!1,null));h=h.concat(b.html),h.push("<br/>")}return h.join("")}function n(t,a,u,h){let r=[],c=u.getInitialState();for(let o=0,d=t.length;o<d;o++){const l=t[o],p=u.tokenizeEncoded(l,!0,c);D.LineTokens.convertToEndOffset(p.tokens,l.length);const m=new D.LineTokens(p.tokens,l,h),v=f.ViewLineRenderingData.isBasicASCII(l,!0),b=f.ViewLineRenderingData.containsRTL(l,v,!0),w=(0,S.renderViewLine2)(new S.RenderLineInput(!1,!0,l,!1,v,b,0,m.inflate(),[],a,0,0,0,0,-1,"none",!1,!1,null));r=r.concat(w.html),r.push("<br/>"),c=p.endState}return r.join("")}}),define(ne[15],se([1,0,17,11,742,8,723]),function(Q,e,L,k,y,D,S){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.implies=e.IContextKeyService=e.RawContextKey=e.ContextKeyOrExpr=e.ContextKeyAndExpr=e.ContextKeyNotRegexExpr=e.ContextKeyRegexExpr=e.ContextKeySmallerEqualsExpr=e.ContextKeySmallerExpr=e.ContextKeyGreaterEqualsExpr=e.ContextKeyGreaterExpr=e.ContextKeyNotExpr=e.ContextKeyNotEqualsExpr=e.ContextKeyNotInExpr=e.ContextKeyInExpr=e.ContextKeyEqualsExpr=e.ContextKeyDefinedExpr=e.ContextKeyTrueExpr=e.ContextKeyFalseExpr=e.expressionsAreEqualWithConstantSubstitution=e.ContextKeyExpr=e.Parser=void 0;const f=new Map;f.set("false",!1),f.set("true",!0),f.set("isMac",L.isMacintosh),f.set("isLinux",L.isLinux),f.set("isWindows",L.isWindows),f.set("isWeb",L.isWeb),f.set("isMacNative",L.isMacintosh&&!L.isWeb),f.set("isEdge",L.isEdge),f.set("isFirefox",L.isFirefox),f.set("isChrome",L.isChrome),f.set("isSafari",L.isSafari);const _=Object.prototype.hasOwnProperty,g={regexParsingWithErrorRecovery:!0},C=(0,S.localize)(0,null),s=(0,S.localize)(1,null),i=(0,S.localize)(2,null),n=(0,S.localize)(3,null),t=(0,S.localize)(4,null),a=(0,S.localize)(5,null),u=(0,S.localize)(6,null),h=(0,S.localize)(7,null);class r{constructor(H=g){this._config=H,this._scanner=new y.Scanner,this._tokens=[],this._current=0,this._parsingErrors=[],this._flagsGYRe=/g|y/g}parse(H){if(H===""){this._parsingErrors.push({message:C,offset:0,lexeme:"",additionalInfo:s});return}this._tokens=this._scanner.reset(H).scan(),this._current=0,this._parsingErrors=[];try{const B=this._expr();if(!this._isAtEnd()){const V=this._peek(),Y=V.type===17?a:void 0;throw this._parsingErrors.push({message:t,offset:V.offset,lexeme:y.Scanner.getLexeme(V),additionalInfo:Y}),r._parseError}return B}catch(B){if(B!==r._parseError)throw B;return}}_expr(){return this._or()}_or(){const H=[this._and()];for(;this._matchOne(16);){const B=this._and();H.push(B)}return H.length===1?H[0]:c.or(...H)}_and(){const H=[this._term()];for(;this._matchOne(15);){const B=this._term();H.push(B)}return H.length===1?H[0]:c.and(...H)}_term(){if(this._matchOne(2)){const H=this._peek();switch(H.type){case 11:return this._advance(),l.INSTANCE;case 12:return this._advance(),p.INSTANCE;case 0:{this._advance();const B=this._expr();return this._consume(1,n),B?.negate()}case 17:return this._advance(),I.create(H.lexeme);default:throw this._errExpectedButGot("KEY | true | false | '(' expression ')'",H)}}return this._primary()}_primary(){const H=this._peek();switch(H.type){case 11:return this._advance(),c.true();case 12:return this._advance(),c.false();case 0:{this._advance();const B=this._expr();return this._consume(1,n),B}case 17:{const B=H.lexeme;if(this._advance(),this._matchOne(9)){const Y=this._peek();if(!this._config.regexParsingWithErrorRecovery){if(this._advance(),Y.type!==10)throw this._errExpectedButGot("REGEX",Y);const ie=Y.lexeme,ae=ie.lastIndexOf("/"),ce=ae===ie.length-1?void 0:this._removeFlagsGY(ie.substring(ae+1));let de;try{de=new RegExp(ie.substring(1,ae),ce)}catch{throw this._errExpectedButGot("REGEX",Y)}return N.create(B,de)}switch(Y.type){case 10:case 19:{const ie=[Y.lexeme];this._advance();let ae=this._peek(),ce=0;for(let q=0;q<Y.lexeme.length;q++)Y.lexeme.charCodeAt(q)===40?ce++:Y.lexeme.charCodeAt(q)===41&&ce--;for(;!this._isAtEnd()&&ae.type!==15&&ae.type!==16;){switch(ae.type){case 0:ce++;break;case 1:ce--;break;case 10:case 18:for(let q=0;q<ae.lexeme.length;q++)ae.lexeme.charCodeAt(q)===40?ce++:Y.lexeme.charCodeAt(q)===41&&ce--}if(ce<0)break;ie.push(y.Scanner.getLexeme(ae)),this._advance(),ae=this._peek()}const de=ie.join(""),he=de.lastIndexOf("/"),ue=he===de.length-1?void 0:this._removeFlagsGY(de.substring(he+1));let te;try{te=new RegExp(de.substring(1,he),ue)}catch{throw this._errExpectedButGot("REGEX",Y)}return c.regex(B,te)}case 18:{const ie=Y.lexeme;this._advance();let ae=null;if(!(0,k.isFalsyOrWhitespace)(ie)){const ce=ie.indexOf("/"),de=ie.lastIndexOf("/");if(ce!==de&&ce>=0){const he=ie.slice(ce+1,de),ue=ie[de+1]==="i"?"i":"";try{ae=new RegExp(he,ue)}catch{throw this._errExpectedButGot("REGEX",Y)}}}if(ae===null)throw this._errExpectedButGot("REGEX",Y);return N.create(B,ae)}default:throw this._errExpectedButGot("REGEX",this._peek())}}if(this._matchOne(14)){this._consume(13,i);const Y=this._value();return c.notIn(B,Y)}switch(this._peek().type){case 3:{this._advance();const Y=this._value();if(this._previous().type===18)return c.equals(B,Y);switch(Y){case"true":return c.has(B);case"false":return c.not(B);default:return c.equals(B,Y)}}case 4:{this._advance();const Y=this._value();if(this._previous().type===18)return c.notEquals(B,Y);switch(Y){case"true":return c.not(B);case"false":return c.has(B);default:return c.notEquals(B,Y)}}case 5:return this._advance(),T.create(B,this._value());case 6:return this._advance(),A.create(B,this._value());case 7:return this._advance(),P.create(B,this._value());case 8:return this._advance(),x.create(B,this._value());case 13:return this._advance(),c.in(B,this._value());default:return c.has(B)}}case 20:throw this._parsingErrors.push({message:u,offset:H.offset,lexeme:"",additionalInfo:h}),r._parseError;default:throw this._errExpectedButGot(`true | false | KEY 
	| KEY '=~' REGEX 
	| KEY ('==' | '!=' | '<' | '<=' | '>' | '>=' | 'in' | 'not' 'in') value`,this._peek())}}_value(){const H=this._peek();switch(H.type){case 17:case 18:return this._advance(),H.lexeme;case 11:return this._advance(),"true";case 12:return this._advance(),"false";case 13:return this._advance(),"in";default:return""}}_removeFlagsGY(H){return H.replaceAll(this._flagsGYRe,"")}_previous(){return this._tokens[this._current-1]}_matchOne(H){return this._check(H)?(this._advance(),!0):!1}_advance(){return this._isAtEnd()||this._current++,this._previous()}_consume(H,B){if(this._check(H))return this._advance();throw this._errExpectedButGot(B,this._peek())}_errExpectedButGot(H,B,V){const Y=(0,S.localize)(8,null,H,y.Scanner.getLexeme(B)),ie=B.offset,ae=y.Scanner.getLexeme(B);return this._parsingErrors.push({message:Y,offset:ie,lexeme:ae,additionalInfo:V}),r._parseError}_check(H){return this._peek().type===H}_peek(){return this._tokens[this._current]}_isAtEnd(){return this._peek().type===20}}e.Parser=r,r._parseError=new Error;class c{static false(){return l.INSTANCE}static true(){return p.INSTANCE}static has(H){return m.create(H)}static equals(H,B){return v.create(H,B)}static notEquals(H,B){return E.create(H,B)}static regex(H,B){return N.create(H,B)}static in(H,B){return b.create(H,B)}static notIn(H,B){return w.create(H,B)}static not(H){return I.create(H)}static and(...H){return W.create(H,null,!0)}static or(...H){return U.create(H,null,!0)}static deserialize(H){return H==null?void 0:this._parser.parse(H)}}e.ContextKeyExpr=c,c._parser=new r({regexParsingWithErrorRecovery:!1});function o(X,H){const B=X?X.substituteConstants():void 0,V=H?H.substituteConstants():void 0;return!B&&!V?!0:!B||!V?!1:B.equals(V)}e.expressionsAreEqualWithConstantSubstitution=o;function d(X,H){return X.cmp(H)}class l{constructor(){this.type=0}cmp(H){return this.type-H.type}equals(H){return H.type===this.type}substituteConstants(){return this}evaluate(H){return!1}serialize(){return"false"}keys(){return[]}negate(){return p.INSTANCE}}e.ContextKeyFalseExpr=l,l.INSTANCE=new l;class p{constructor(){this.type=1}cmp(H){return this.type-H.type}equals(H){return H.type===this.type}substituteConstants(){return this}evaluate(H){return!0}serialize(){return"true"}keys(){return[]}negate(){return l.INSTANCE}}e.ContextKeyTrueExpr=p,p.INSTANCE=new p;class m{static create(H,B=null){const V=f.get(H);return typeof V=="boolean"?V?p.INSTANCE:l.INSTANCE:new m(H,B)}constructor(H,B){this.key=H,this.negated=B,this.type=2}cmp(H){return H.type!==this.type?this.type-H.type:R(this.key,H.key)}equals(H){return H.type===this.type?this.key===H.key:!1}substituteConstants(){const H=f.get(this.key);return typeof H=="boolean"?H?p.INSTANCE:l.INSTANCE:this}evaluate(H){return!!H.getValue(this.key)}serialize(){return this.key}keys(){return[this.key]}negate(){return this.negated||(this.negated=I.create(this.key,this)),this.negated}}e.ContextKeyDefinedExpr=m;class v{static create(H,B,V=null){if(typeof B=="boolean")return B?m.create(H,V):I.create(H,V);const Y=f.get(H);return typeof Y=="boolean"?B===(Y?"true":"false")?p.INSTANCE:l.INSTANCE:new v(H,B,V)}constructor(H,B,V){this.key=H,this.value=B,this.negated=V,this.type=4}cmp(H){return H.type!==this.type?this.type-H.type:K(this.key,this.value,H.key,H.value)}equals(H){return H.type===this.type?this.key===H.key&&this.value===H.value:!1}substituteConstants(){const H=f.get(this.key);if(typeof H=="boolean"){const B=H?"true":"false";return this.value===B?p.INSTANCE:l.INSTANCE}return this}evaluate(H){return H.getValue(this.key)==this.value}serialize(){return`${this.key} == '${this.value}'`}keys(){return[this.key]}negate(){return this.negated||(this.negated=E.create(this.key,this.value,this)),this.negated}}e.ContextKeyEqualsExpr=v;class b{static create(H,B){return new b(H,B)}constructor(H,B){this.key=H,this.valueKey=B,this.type=10,this.negated=null}cmp(H){return H.type!==this.type?this.type-H.type:K(this.key,this.valueKey,H.key,H.valueKey)}equals(H){return H.type===this.type?this.key===H.key&&this.valueKey===H.valueKey:!1}substituteConstants(){return this}evaluate(H){const B=H.getValue(this.valueKey),V=H.getValue(this.key);return Array.isArray(B)?B.includes(V):typeof V=="string"&&typeof B=="object"&&B!==null?_.call(B,V):!1}serialize(){return`${this.key} in '${this.valueKey}'`}keys(){return[this.key,this.valueKey]}negate(){return this.negated||(this.negated=w.create(this.key,this.valueKey)),this.negated}}e.ContextKeyInExpr=b;class w{static create(H,B){return new w(H,B)}constructor(H,B){this.key=H,this.valueKey=B,this.type=11,this._negated=b.create(H,B)}cmp(H){return H.type!==this.type?this.type-H.type:this._negated.cmp(H._negated)}equals(H){return H.type===this.type?this._negated.equals(H._negated):!1}substituteConstants(){return this}evaluate(H){return!this._negated.evaluate(H)}serialize(){return`${this.key} not in '${this.valueKey}'`}keys(){return this._negated.keys()}negate(){return this._negated}}e.ContextKeyNotInExpr=w;class E{static create(H,B,V=null){if(typeof B=="boolean")return B?I.create(H,V):m.create(H,V);const Y=f.get(H);return typeof Y=="boolean"?B===(Y?"true":"false")?l.INSTANCE:p.INSTANCE:new E(H,B,V)}constructor(H,B,V){this.key=H,this.value=B,this.negated=V,this.type=5}cmp(H){return H.type!==this.type?this.type-H.type:K(this.key,this.value,H.key,H.value)}equals(H){return H.type===this.type?this.key===H.key&&this.value===H.value:!1}substituteConstants(){const H=f.get(this.key);if(typeof H=="boolean"){const B=H?"true":"false";return this.value===B?l.INSTANCE:p.INSTANCE}return this}evaluate(H){return H.getValue(this.key)!=this.value}serialize(){return`${this.key} != '${this.value}'`}keys(){return[this.key]}negate(){return this.negated||(this.negated=v.create(this.key,this.value,this)),this.negated}}e.ContextKeyNotEqualsExpr=E;class I{static create(H,B=null){const V=f.get(H);return typeof V=="boolean"?V?l.INSTANCE:p.INSTANCE:new I(H,B)}constructor(H,B){this.key=H,this.negated=B,this.type=3}cmp(H){return H.type!==this.type?this.type-H.type:R(this.key,H.key)}equals(H){return H.type===this.type?this.key===H.key:!1}substituteConstants(){const H=f.get(this.key);return typeof H=="boolean"?H?l.INSTANCE:p.INSTANCE:this}evaluate(H){return!H.getValue(this.key)}serialize(){return`!${this.key}`}keys(){return[this.key]}negate(){return this.negated||(this.negated=m.create(this.key,this)),this.negated}}e.ContextKeyNotExpr=I;function M(X,H){if(typeof X=="string"){const B=parseFloat(X);isNaN(B)||(X=B)}return typeof X=="string"||typeof X=="number"?H(X):l.INSTANCE}class P{static create(H,B,V=null){return M(B,Y=>new P(H,Y,V))}constructor(H,B,V){this.key=H,this.value=B,this.negated=V,this.type=12}cmp(H){return H.type!==this.type?this.type-H.type:K(this.key,this.value,H.key,H.value)}equals(H){return H.type===this.type?this.key===H.key&&this.value===H.value:!1}substituteConstants(){return this}evaluate(H){return typeof this.value=="string"?!1:parseFloat(H.getValue(this.key))>this.value}serialize(){return`${this.key} > ${this.value}`}keys(){return[this.key]}negate(){return this.negated||(this.negated=A.create(this.key,this.value,this)),this.negated}}e.ContextKeyGreaterExpr=P;class x{static create(H,B,V=null){return M(B,Y=>new x(H,Y,V))}constructor(H,B,V){this.key=H,this.value=B,this.negated=V,this.type=13}cmp(H){return H.type!==this.type?this.type-H.type:K(this.key,this.value,H.key,H.value)}equals(H){return H.type===this.type?this.key===H.key&&this.value===H.value:!1}substituteConstants(){return this}evaluate(H){return typeof this.value=="string"?!1:parseFloat(H.getValue(this.key))>=this.value}serialize(){return`${this.key} >= ${this.value}`}keys(){return[this.key]}negate(){return this.negated||(this.negated=T.create(this.key,this.value,this)),this.negated}}e.ContextKeyGreaterEqualsExpr=x;class T{static create(H,B,V=null){return M(B,Y=>new T(H,Y,V))}constructor(H,B,V){this.key=H,this.value=B,this.negated=V,this.type=14}cmp(H){return H.type!==this.type?this.type-H.type:K(this.key,this.value,H.key,H.value)}equals(H){return H.type===this.type?this.key===H.key&&this.value===H.value:!1}substituteConstants(){return this}evaluate(H){return typeof this.value=="string"?!1:parseFloat(H.getValue(this.key))<this.value}serialize(){return`${this.key} < ${this.value}`}keys(){return[this.key]}negate(){return this.negated||(this.negated=x.create(this.key,this.value,this)),this.negated}}e.ContextKeySmallerExpr=T;class A{static create(H,B,V=null){return M(B,Y=>new A(H,Y,V))}constructor(H,B,V){this.key=H,this.value=B,this.negated=V,this.type=15}cmp(H){return H.type!==this.type?this.type-H.type:K(this.key,this.value,H.key,H.value)}equals(H){return H.type===this.type?this.key===H.key&&this.value===H.value:!1}substituteConstants(){return this}evaluate(H){return typeof this.value=="string"?!1:parseFloat(H.getValue(this.key))<=this.value}serialize(){return`${this.key} <= ${this.value}`}keys(){return[this.key]}negate(){return this.negated||(this.negated=P.create(this.key,this.value,this)),this.negated}}e.ContextKeySmallerEqualsExpr=A;class N{static create(H,B){return new N(H,B)}constructor(H,B){this.key=H,this.regexp=B,this.type=7,this.negated=null}cmp(H){if(H.type!==this.type)return this.type-H.type;if(this.key<H.key)return-1;if(this.key>H.key)return 1;const B=this.regexp?this.regexp.source:"",V=H.regexp?H.regexp.source:"";return B<V?-1:B>V?1:0}equals(H){if(H.type===this.type){const B=this.regexp?this.regexp.source:"",V=H.regexp?H.regexp.source:"";return this.key===H.key&&B===V}return!1}substituteConstants(){return this}evaluate(H){const B=H.getValue(this.key);return this.regexp?this.regexp.test(B):!1}serialize(){const H=this.regexp?`/${this.regexp.source}/${this.regexp.flags}`:"/invalid/";return`${this.key} =~ ${H}`}keys(){return[this.key]}negate(){return this.negated||(this.negated=F.create(this)),this.negated}}e.ContextKeyRegexExpr=N;class F{static create(H){return new F(H)}constructor(H){this._actual=H,this.type=8}cmp(H){return H.type!==this.type?this.type-H.type:this._actual.cmp(H._actual)}equals(H){return H.type===this.type?this._actual.equals(H._actual):!1}substituteConstants(){return this}evaluate(H){return!this._actual.evaluate(H)}serialize(){return`!(${this._actual.serialize()})`}keys(){return this._actual.keys()}negate(){return this._actual}}e.ContextKeyNotRegexExpr=F;function O(X){let H=null;for(let B=0,V=X.length;B<V;B++){const Y=X[B].substituteConstants();if(X[B]!==Y&&H===null){H=[];for(let ie=0;ie<B;ie++)H[ie]=X[ie]}H!==null&&(H[B]=Y)}return H===null?X:H}class W{static create(H,B,V){return W._normalizeArr(H,B,V)}constructor(H,B){this.expr=H,this.negated=B,this.type=6}cmp(H){if(H.type!==this.type)return this.type-H.type;if(this.expr.length<H.expr.length)return-1;if(this.expr.length>H.expr.length)return 1;for(let B=0,V=this.expr.length;B<V;B++){const Y=d(this.expr[B],H.expr[B]);if(Y!==0)return Y}return 0}equals(H){if(H.type===this.type){if(this.expr.length!==H.expr.length)return!1;for(let B=0,V=this.expr.length;B<V;B++)if(!this.expr[B].equals(H.expr[B]))return!1;return!0}return!1}substituteConstants(){const H=O(this.expr);return H===this.expr?this:W.create(H,this.negated,!1)}evaluate(H){for(let B=0,V=this.expr.length;B<V;B++)if(!this.expr[B].evaluate(H))return!1;return!0}static _normalizeArr(H,B,V){const Y=[];let ie=!1;for(const ae of H)if(ae){if(ae.type===1){ie=!0;continue}if(ae.type===0)return l.INSTANCE;if(ae.type===6){Y.push(...ae.expr);continue}Y.push(ae)}if(Y.length===0&&ie)return p.INSTANCE;if(Y.length!==0){if(Y.length===1)return Y[0];Y.sort(d);for(let ae=1;ae<Y.length;ae++)Y[ae-1].equals(Y[ae])&&(Y.splice(ae,1),ae--);if(Y.length===1)return Y[0];for(;Y.length>1;){const ae=Y[Y.length-1];if(ae.type!==9)break;Y.pop();const ce=Y.pop(),de=Y.length===0,he=U.create(ae.expr.map(ue=>W.create([ue,ce],null,V)),null,de);he&&(Y.push(he),Y.sort(d))}if(Y.length===1)return Y[0];if(V){for(let ae=0;ae<Y.length;ae++)for(let ce=ae+1;ce<Y.length;ce++)if(Y[ae].negate().equals(Y[ce]))return l.INSTANCE;if(Y.length===1)return Y[0]}return new W(Y,B)}}serialize(){return this.expr.map(H=>H.serialize()).join(" && ")}keys(){const H=[];for(const B of this.expr)H.push(...B.keys());return H}negate(){if(!this.negated){const H=[];for(const B of this.expr)H.push(B.negate());this.negated=U.create(H,this,!0)}return this.negated}}e.ContextKeyAndExpr=W;class U{static create(H,B,V){return U._normalizeArr(H,B,V)}constructor(H,B){this.expr=H,this.negated=B,this.type=9}cmp(H){if(H.type!==this.type)return this.type-H.type;if(this.expr.length<H.expr.length)return-1;if(this.expr.length>H.expr.length)return 1;for(let B=0,V=this.expr.length;B<V;B++){const Y=d(this.expr[B],H.expr[B]);if(Y!==0)return Y}return 0}equals(H){if(H.type===this.type){if(this.expr.length!==H.expr.length)return!1;for(let B=0,V=this.expr.length;B<V;B++)if(!this.expr[B].equals(H.expr[B]))return!1;return!0}return!1}substituteConstants(){const H=O(this.expr);return H===this.expr?this:U.create(H,this.negated,!1)}evaluate(H){for(let B=0,V=this.expr.length;B<V;B++)if(this.expr[B].evaluate(H))return!0;return!1}static _normalizeArr(H,B,V){let Y=[],ie=!1;if(H){for(let ae=0,ce=H.length;ae<ce;ae++){const de=H[ae];if(de){if(de.type===0){ie=!0;continue}if(de.type===1)return p.INSTANCE;if(de.type===9){Y=Y.concat(de.expr);continue}Y.push(de)}}if(Y.length===0&&ie)return l.INSTANCE;Y.sort(d)}if(Y.length!==0){if(Y.length===1)return Y[0];for(let ae=1;ae<Y.length;ae++)Y[ae-1].equals(Y[ae])&&(Y.splice(ae,1),ae--);if(Y.length===1)return Y[0];if(V){for(let ae=0;ae<Y.length;ae++)for(let ce=ae+1;ce<Y.length;ce++)if(Y[ae].negate().equals(Y[ce]))return p.INSTANCE;if(Y.length===1)return Y[0]}return new U(Y,B)}}serialize(){return this.expr.map(H=>H.serialize()).join(" || ")}keys(){const H=[];for(const B of this.expr)H.push(...B.keys());return H}negate(){if(!this.negated){const H=[];for(const B of this.expr)H.push(B.negate());for(;H.length>1;){const B=H.shift(),V=H.shift(),Y=[];for(const ie of J(B))for(const ae of J(V))Y.push(W.create([ie,ae],null,!1));H.unshift(U.create(Y,null,!1))}this.negated=U.create(H,this,!0)}return this.negated}}e.ContextKeyOrExpr=U;class j extends m{static all(){return j._info.values()}constructor(H,B,V){super(H,null),this._defaultValue=B,typeof V=="object"?j._info.push(Object.assign(Object.assign({},V),{key:H})):V!==!0&&j._info.push({key:H,description:V,type:B!=null?typeof B:void 0})}bindTo(H){return H.createKey(this.key,this._defaultValue)}getValue(H){return H.getContextKeyValue(this.key)}toNegated(){return this.negate()}isEqualTo(H){return v.create(this.key,H)}}e.RawContextKey=j,j._info=[],e.IContextKeyService=(0,D.createDecorator)("contextKeyService");function R(X,H){return X<H?-1:X>H?1:0}function K(X,H,B,V){return X<B?-1:X>B?1:H<V?-1:H>V?1:0}function G(X,H){if(X.type===0||H.type===1)return!0;if(X.type===9)return H.type===9?Z(X.expr,H.expr):!1;if(H.type===9){for(const B of H.expr)if(G(X,B))return!0;return!1}if(X.type===6){if(H.type===6)return Z(H.expr,X.expr);for(const B of X.expr)if(G(B,H))return!0;return!1}return X.equals(H)}e.implies=G;function Z(X,H){let B=0,V=0;for(;B<X.length&&V<H.length;){const Y=X[B].cmp(H[V]);if(Y<0)return!1;Y===0&&B++,V++}return B===X.length}function J(X){return X.type===9?X.expr:[X]}}),define(ne[21],se([1,0,623,15]),function(Q,e,L,k){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.EditorContextKeys=void 0;var y;(function(D){D.editorSimpleInput=new k.RawContextKey("editorSimpleInput",!1,!0),D.editorTextFocus=new k.RawContextKey("editorTextFocus",!1,L.localize(0,null)),D.focus=new k.RawContextKey("editorFocus",!1,L.localize(1,null)),D.textInputFocus=new k.RawContextKey("textInputFocus",!1,L.localize(2,null)),D.readOnly=new k.RawContextKey("editorReadonly",!1,L.localize(3,null)),D.inDiffEditor=new k.RawContextKey("inDiffEditor",!1,L.localize(4,null)),D.isEmbeddedDiffEditor=new k.RawContextKey("isEmbeddedDiffEditor",!1,L.localize(5,null)),D.comparingMovedCode=new k.RawContextKey("comparingMovedCode",!1,L.localize(6,null)),D.accessibleDiffViewerVisible=new k.RawContextKey("accessibleDiffViewerVisible",!1,L.localize(7,null)),D.diffEditorRenderSideBySideInlineBreakpointReached=new k.RawContextKey("diffEditorRenderSideBySideInlineBreakpointReached",!1,L.localize(8,null)),D.columnSelection=new k.RawContextKey("editorColumnSelection",!1,L.localize(9,null)),D.writable=D.readOnly.toNegated(),D.hasNonEmptySelection=new k.RawContextKey("editorHasSelection",!1,L.localize(10,null)),D.hasOnlyEmptySelection=D.hasNonEmptySelection.toNegated(),D.hasMultipleSelections=new k.RawContextKey("editorHasMultipleSelections",!1,L.localize(11,null)),D.hasSingleSelection=D.hasMultipleSelections.toNegated(),D.tabMovesFocus=new k.RawContextKey("editorTabMovesFocus",!1,L.localize(12,null)),D.tabDoesNotMoveFocus=D.tabMovesFocus.toNegated(),D.isInWalkThroughSnippet=new k.RawContextKey("isInEmbeddedEditor",!1,!0),D.canUndo=new k.RawContextKey("canUndo",!1,!0),D.canRedo=new k.RawContextKey("canRedo",!1,!0),D.hoverVisible=new k.RawContextKey("editorHoverVisible",!1,L.localize(13,null)),D.hoverFocused=new k.RawContextKey("editorHoverFocused",!1,L.localize(14,null)),D.stickyScrollFocused=new k.RawContextKey("stickyScrollFocused",!1,L.localize(15,null)),D.stickyScrollVisible=new k.RawContextKey("stickyScrollVisible",!1,L.localize(16,null)),D.standaloneColorPickerVisible=new k.RawContextKey("standaloneColorPickerVisible",!1,L.localize(17,null)),D.standaloneColorPickerFocused=new k.RawContextKey("standaloneColorPickerFocused",!1,L.localize(18,null)),D.inCompositeEditor=new k.RawContextKey("inCompositeEditor",void 0,L.localize(19,null)),D.notInCompositeEditor=D.inCompositeEditor.toNegated(),D.languageId=new k.RawContextKey("editorLangId","",L.localize(20,null)),D.hasCompletionItemProvider=new k.RawContextKey("editorHasCompletionItemProvider",!1,L.localize(21,null)),D.hasCodeActionsProvider=new k.RawContextKey("editorHasCodeActionsProvider",!1,L.localize(22,null)),D.hasCodeLensProvider=new k.RawContextKey("editorHasCodeLensProvider",!1,L.localize(23,null)),D.hasDefinitionProvider=new k.RawContextKey("editorHasDefinitionProvider",!1,L.localize(24,null)),D.hasDeclarationProvider=new k.RawContextKey("editorHasDeclarationProvider",!1,L.localize(25,null)),D.hasImplementationProvider=new k.RawContextKey("editorHasImplementationProvider",!1,L.localize(26,null)),D.hasTypeDefinitionProvider=new k.RawContextKey("editorHasTypeDefinitionProvider",!1,L.localize(27,null)),D.hasHoverProvider=new k.RawContextKey("editorHasHoverProvider",!1,L.localize(28,null)),D.hasDocumentHighlightProvider=new k.RawContextKey("editorHasDocumentHighlightProvider",!1,L.localize(29,null)),D.hasDocumentSymbolProvider=new k.RawContextKey("editorHasDocumentSymbolProvider",!1,L.localize(30,null)),D.hasReferenceProvider=new k.RawContextKey("editorHasReferenceProvider",!1,L.localize(31,null)),D.hasRenameProvider=new k.RawContextKey("editorHasRenameProvider",!1,L.localize(32,null)),D.hasSignatureHelpProvider=new k.RawContextKey("editorHasSignatureHelpProvider",!1,L.localize(33,null)),D.hasInlayHintsProvider=new k.RawContextKey("editorHasInlayHintsProvider",!1,L.localize(34,null)),D.hasDocumentFormattingProvider=new k.RawContextKey("editorHasDocumentFormattingProvider",!1,L.localize(35,null)),D.hasDocumentSelectionFormattingProvider=new k.RawContextKey("editorHasDocumentSelectionFormattingProvider",!1,L.localize(36,null)),D.hasMultipleDocumentFormattingProvider=new k.RawContextKey("editorHasMultipleDocumentFormattingProvider",!1,L.localize(37,null)),D.hasMultipleDocumentSelectionFormattingProvider=new k.RawContextKey("editorHasMultipleDocumentSelectionFormattingProvider",!1,L.localize(38,null))})(y||(e.EditorContextKeys=y={}))}),define(ne[235],se([1,0,42,11,82,15,2,679]),function(Q,e,L,k,y,D,S,f){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.InlineCompletionContextKeys=void 0;class _ extends S.Disposable{constructor(C,s){super(),this.contextKeyService=C,this.model=s,this.inlineCompletionVisible=_.inlineSuggestionVisible.bindTo(this.contextKeyService),this.inlineCompletionSuggestsIndentation=_.inlineSuggestionHasIndentation.bindTo(this.contextKeyService),this.inlineCompletionSuggestsIndentationLessThanTabSize=_.inlineSuggestionHasIndentationLessThanTabSize.bindTo(this.contextKeyService),this.suppressSuggestions=_.suppressSuggestions.bindTo(this.contextKeyService),this._register((0,L.autorun)(i=>{const n=this.model.read(i),t=n?.state.read(i),a=!!t?.inlineCompletion&&t?.ghostText!==void 0&&!t?.ghostText.isEmpty();this.inlineCompletionVisible.set(a),t?.ghostText&&t?.inlineCompletion&&this.suppressSuggestions.set(t.inlineCompletion.inlineCompletion.source.inlineCompletions.suppressSuggestions)})),this._register((0,L.autorun)(i=>{const n=this.model.read(i);let t=!1,a=!0;const u=n?.ghostText.read(i);if(n?.selectedSuggestItem&&u&&u.parts.length>0){const{column:h,lines:r}=u.parts[0],c=r[0],o=n.textModel.getLineIndentColumn(u.lineNumber);if(h<=o){let l=(0,k.firstNonWhitespaceIndex)(c);l===-1&&(l=c.length-1),t=l>0;const p=n.textModel.getOptions().tabSize;a=y.CursorColumns.visibleColumnFromColumn(c,l+1,p)<p}}this.inlineCompletionSuggestsIndentation.set(t),this.inlineCompletionSuggestsIndentationLessThanTabSize.set(a)}))}}e.InlineCompletionContextKeys=_,_.inlineSuggestionVisible=new D.RawContextKey("inlineSuggestionVisible",!1,(0,f.localize)(0,null)),_.inlineSuggestionHasIndentation=new D.RawContextKey("inlineSuggestionHasIndentation",!1,(0,f.localize)(1,null)),_.inlineSuggestionHasIndentationLessThanTabSize=new D.RawContextKey("inlineSuggestionHasIndentationLessThanTabSize",!0,(0,f.localize)(2,null)),_.suppressSuggestions=new D.RawContextKey("inlineSuggestionSuppressSuggestions",void 0,(0,f.localize)(3,null))}),define(ne[236],se([1,0,19,9,20,22,12,29,18,69,27,15]),function(Q,e,L,k,y,D,S,f,_,g,C,s){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.provideSignatureHelp=e.Context=void 0,e.Context={Visible:new s.RawContextKey("parameterHintsVisible",!1),MultipleSignatures:new s.RawContextKey("parameterHintsMultipleSignatures",!1)};function i(n,t,a,u,h){return we(this,void 0,void 0,function*(){const r=n.ordered(t);for(const c of r)try{const o=yield c.provideSignatureHelp(t,a,h,u);if(o)return o}catch(o){(0,k.onUnexpectedExternalError)(o)}})}e.provideSignatureHelp=i,C.CommandsRegistry.registerCommand("_executeSignatureHelpProvider",(n,...t)=>we(void 0,void 0,void 0,function*(){const[a,u,h]=t;(0,y.assertType)(D.URI.isUri(a)),(0,y.assertType)(S.Position.isIPosition(u)),(0,y.assertType)(typeof h=="string"||!h);const r=n.get(_.ILanguageFeaturesService),c=yield n.get(g.ITextModelService).createModelReference(a);try{const o=yield i(r.signatureHelpProvider,c.object.textEditorModel,S.Position.lift(u),{triggerKind:f.SignatureHelpTriggerKind.Invoke,isRetrigger:!1,triggerCharacter:h},L.CancellationToken.None);return o?(setTimeout(()=>o.dispose(),0),o.value):void 0}finally{c.dispose()}}))}),define(ne[753],se([1,0,13,9,6,2,121,29,236]),function(Q,e,L,k,y,D,S,f,_){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ParameterHintsModel=void 0;var g;(function(i){i.Default={type:0};class n{constructor(u,h){this.request=u,this.previouslyActiveHints=h,this.type=2}}i.Pending=n;class t{constructor(u){this.hints=u,this.type=1}}i.Active=t})(g||(g={}));class C extends D.Disposable{constructor(n,t,a=C.DEFAULT_DELAY){super(),this._onChangedHints=this._register(new y.Emitter),this.onChangedHints=this._onChangedHints.event,this.triggerOnType=!1,this._state=g.Default,this._pendingTriggers=[],this._lastSignatureHelpResult=this._register(new D.MutableDisposable),this.triggerChars=new S.CharacterSet,this.retriggerChars=new S.CharacterSet,this.triggerId=0,this.editor=n,this.providers=t,this.throttledDelayer=new L.Delayer(a),this._register(this.editor.onDidBlurEditorWidget(()=>this.cancel())),this._register(this.editor.onDidChangeConfiguration(()=>this.onEditorConfigurationChange())),this._register(this.editor.onDidChangeModel(u=>this.onModelChanged())),this._register(this.editor.onDidChangeModelLanguage(u=>this.onModelChanged())),this._register(this.editor.onDidChangeCursorSelection(u=>this.onCursorChange(u))),this._register(this.editor.onDidChangeModelContent(u=>this.onModelContentChange())),this._register(this.providers.onDidChange(this.onModelChanged,this)),this._register(this.editor.onDidType(u=>this.onDidType(u))),this.onEditorConfigurationChange(),this.onModelChanged()}get state(){return this._state}set state(n){this._state.type===2&&this._state.request.cancel(),this._state=n}cancel(n=!1){this.state=g.Default,this.throttledDelayer.cancel(),n||this._onChangedHints.fire(void 0)}trigger(n,t){const a=this.editor.getModel();if(!a||!this.providers.has(a))return;const u=++this.triggerId;this._pendingTriggers.push(n),this.throttledDelayer.trigger(()=>this.doTrigger(u),t).catch(k.onUnexpectedError)}next(){if(this.state.type!==1)return;const n=this.state.hints.signatures.length,t=this.state.hints.activeSignature,a=t%n===n-1,u=this.editor.getOption(84).cycle;if((n<2||a)&&!u){this.cancel();return}this.updateActiveSignature(a&&u?0:t+1)}previous(){if(this.state.type!==1)return;const n=this.state.hints.signatures.length,t=this.state.hints.activeSignature,a=t===0,u=this.editor.getOption(84).cycle;if((n<2||a)&&!u){this.cancel();return}this.updateActiveSignature(a&&u?n-1:t-1)}updateActiveSignature(n){this.state.type===1&&(this.state=new g.Active(Object.assign(Object.assign({},this.state.hints),{activeSignature:n})),this._onChangedHints.fire(this.state.hints))}doTrigger(n){return we(this,void 0,void 0,function*(){const t=this.state.type===1||this.state.type===2,a=this.getLastActiveHints();if(this.cancel(!0),this._pendingTriggers.length===0)return!1;const u=this._pendingTriggers.reduce(s);this._pendingTriggers=[];const h={triggerKind:u.triggerKind,triggerCharacter:u.triggerCharacter,isRetrigger:t,activeSignatureHelp:a};if(!this.editor.hasModel())return!1;const r=this.editor.getModel(),c=this.editor.getPosition();this.state=new g.Pending((0,L.createCancelablePromise)(o=>(0,_.provideSignatureHelp)(this.providers,r,c,h,o)),a);try{const o=yield this.state.request;return n!==this.triggerId?(o?.dispose(),!1):!o||!o.value.signatures||o.value.signatures.length===0?(o?.dispose(),this._lastSignatureHelpResult.clear(),this.cancel(),!1):(this.state=new g.Active(o.value),this._lastSignatureHelpResult.value=o,this._onChangedHints.fire(this.state.hints),!0)}catch(o){return n===this.triggerId&&(this.state=g.Default),(0,k.onUnexpectedError)(o),!1}})}getLastActiveHints(){switch(this.state.type){case 1:return this.state.hints;case 2:return this.state.previouslyActiveHints;default:return}}get isTriggered(){return this.state.type===1||this.state.type===2||this.throttledDelayer.isTriggered()}onModelChanged(){this.cancel(),this.triggerChars.clear(),this.retriggerChars.clear();const n=this.editor.getModel();if(n)for(const t of this.providers.ordered(n)){for(const a of t.signatureHelpTriggerCharacters||[])if(a.length){const u=a.charCodeAt(0);this.triggerChars.add(u),this.retriggerChars.add(u)}for(const a of t.signatureHelpRetriggerCharacters||[])a.length&&this.retriggerChars.add(a.charCodeAt(0))}}onDidType(n){if(!this.triggerOnType)return;const t=n.length-1,a=n.charCodeAt(t);(this.triggerChars.has(a)||this.isTriggered&&this.retriggerChars.has(a))&&this.trigger({triggerKind:f.SignatureHelpTriggerKind.TriggerCharacter,triggerCharacter:n.charAt(t)})}onCursorChange(n){n.source==="mouse"?this.cancel():this.isTriggered&&this.trigger({triggerKind:f.SignatureHelpTriggerKind.ContentChange})}onModelContentChange(){this.isTriggered&&this.trigger({triggerKind:f.SignatureHelpTriggerKind.ContentChange})}onEditorConfigurationChange(){this.triggerOnType=this.editor.getOption(84).enabled,this.triggerOnType||this.cancel()}dispose(){this.cancel(!0),super.dispose()}}e.ParameterHintsModel=C,C.DEFAULT_DELAY=120;function s(i,n){switch(n.triggerKind){case f.SignatureHelpTriggerKind.Invoke:return n;case f.SignatureHelpTriggerKind.ContentChange:return i;case f.SignatureHelpTriggerKind.TriggerCharacter:default:return n}}}),define(ne[754],se([1,0,15]),function(Q,e,L){"use strict";var k;Object.defineProperty(e,"__esModule",{value:!0}),e.SuggestAlternatives=void 0;let y=k=class{constructor(S,f){this._editor=S,this._index=0,this._ckOtherSuggestions=k.OtherSuggestions.bindTo(f)}dispose(){this.reset()}reset(){var S;this._ckOtherSuggestions.reset(),(S=this._listener)===null||S===void 0||S.dispose(),this._model=void 0,this._acceptNext=void 0,this._ignore=!1}set({model:S,index:f},_){if(S.items.length===0){this.reset();return}if(k._moveIndex(!0,S,f)===f){this.reset();return}this._acceptNext=_,this._model=S,this._index=f,this._listener=this._editor.onDidChangeCursorPosition(()=>{this._ignore||this.reset()}),this._ckOtherSuggestions.set(!0)}static _moveIndex(S,f,_){let g=_;for(let C=f.items.length;C>0&&(g=(g+f.items.length+(S?1:-1))%f.items.length,!(g===_||!f.items[g].completion.additionalTextEdits));C--);return g}next(){this._move(!0)}prev(){this._move(!1)}_move(S){if(this._model)try{this._ignore=!0,this._index=k._moveIndex(S,this._model,this._index),this._acceptNext({index:this._index,item:this._model.items[this._index],model:this._model})}finally{this._ignore=!1}}};e.SuggestAlternatives=y,y.OtherSuggestions=new L.RawContextKey("hasOtherSuggestions",!1),e.SuggestAlternatives=y=k=ke([fe(1,L.IContextKeyService)],y)}),define(ne[755],se([1,0,15]),function(Q,e,L){"use strict";var k;Object.defineProperty(e,"__esModule",{value:!0}),e.WordContextKey=void 0;let y=k=class{constructor(S,f){this._editor=S,this._enabled=!1,this._ckAtEnd=k.AtEnd.bindTo(f),this._configListener=this._editor.onDidChangeConfiguration(_=>_.hasChanged(121)&&this._update()),this._update()}dispose(){var S;this._configListener.dispose(),(S=this._selectionListener)===null||S===void 0||S.dispose(),this._ckAtEnd.reset()}_update(){const S=this._editor.getOption(121)==="on";if(this._enabled!==S)if(this._enabled=S,this._enabled){const f=()=>{if(!this._editor.hasModel()){this._ckAtEnd.set(!1);return}const _=this._editor.getModel(),g=this._editor.getSelection(),C=_.getWordAtPosition(g.getStartPosition());if(!C){this._ckAtEnd.set(!1);return}this._ckAtEnd.set(C.endColumn===g.getStartPosition().column)};this._selectionListener=this._editor.onDidChangeCursorSelection(f),f()}else this._selectionListener&&(this._ckAtEnd.reset(),this._selectionListener.dispose(),this._selectionListener=void 0)}};e.WordContextKey=y,y.AtEnd=new L.RawContextKey("atEndOfWord",!1),e.WordContextKey=y=k=ke([fe(1,L.IContextKeyService)],y)}),define(ne[84],se([1,0,15,8]),function(Q,e,L,k){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.CONTEXT_ACCESSIBILITY_MODE_ENABLED=e.IAccessibilityService=void 0,e.IAccessibilityService=(0,k.createDecorator)("accessibilityService"),e.CONTEXT_ACCESSIBILITY_MODE_ENABLED=new L.RawContextKey("accessibilityModeEnabled",!1)}),define(ne[756],se([1,0,52,14,6,2,47,17,200,324,476,201,36,145,231,84]),function(Q,e,L,k,y,D,S,f,_,g,C,s,i,n,t,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ComputedEditorOptions=e.EditorConfiguration=void 0;let u=class extends D.Disposable{constructor(m,v,b,w){super(),this._accessibilityService=w,this._onDidChange=this._register(new y.Emitter),this.onDidChange=this._onDidChange.event,this._onDidChangeFast=this._register(new y.Emitter),this.onDidChangeFast=this._onDidChangeFast.event,this._isDominatedByLongLines=!1,this._viewLineCount=1,this._lineNumbersDigitCount=1,this._reservedHeight=0,this._glyphMarginDecorationLaneCount=1,this._computeOptionsMemory=new i.ComputeOptionsMemory,this.isSimpleWidget=m,this._containerObserver=this._register(new _.ElementSizeObserver(b,v.dimension)),this._rawOptions=l(v),this._validatedOptions=d.validateOptions(this._rawOptions),this.options=this._computeOptions(),this.options.get(12)&&this._containerObserver.startObserving(),this._register(n.EditorZoom.onDidChangeZoomLevel(()=>this._recomputeOptions())),this._register(s.TabFocus.onDidChangeTabFocus(()=>this._recomputeOptions())),this._register(this._containerObserver.onDidChange(()=>this._recomputeOptions())),this._register(g.FontMeasurements.onDidChange(()=>this._recomputeOptions())),this._register(L.PixelRatio.onDidChange(()=>this._recomputeOptions())),this._register(this._accessibilityService.onDidChangeScreenReaderOptimized(()=>this._recomputeOptions()))}_recomputeOptions(){const m=this._computeOptions(),v=d.checkEquals(this.options,m);v!==null&&(this.options=m,this._onDidChangeFast.fire(v),this._onDidChange.fire(v))}_computeOptions(){const m=this._readEnvConfiguration(),v=t.BareFontInfo.createFromValidatedSettings(this._validatedOptions,m.pixelRatio,this.isSimpleWidget),b=this._readFontInfo(v),w={memory:this._computeOptionsMemory,outerWidth:m.outerWidth,outerHeight:m.outerHeight-this._reservedHeight,fontInfo:b,extraEditorClassName:m.extraEditorClassName,isDominatedByLongLines:this._isDominatedByLongLines,viewLineCount:this._viewLineCount,lineNumbersDigitCount:this._lineNumbersDigitCount,emptySelectionClipboard:m.emptySelectionClipboard,pixelRatio:m.pixelRatio,tabFocusMode:s.TabFocus.getTabFocusMode("editorFocus"),accessibilitySupport:m.accessibilitySupport,glyphMarginDecorationLaneCount:this._glyphMarginDecorationLaneCount};return d.computeOptions(this._validatedOptions,w)}_readEnvConfiguration(){return{extraEditorClassName:r(),outerWidth:this._containerObserver.getWidth(),outerHeight:this._containerObserver.getHeight(),emptySelectionClipboard:L.isWebKit||L.isFirefox,pixelRatio:L.PixelRatio.value,accessibilitySupport:this._accessibilityService.isScreenReaderOptimized()?2:this._accessibilityService.getAccessibilitySupport()}}_readFontInfo(m){return g.FontMeasurements.readFontInfo(m)}getRawOptions(){return this._rawOptions}updateOptions(m){const v=l(m);d.applyUpdate(this._rawOptions,v)&&(this._validatedOptions=d.validateOptions(this._rawOptions),this._recomputeOptions())}observeContainer(m){this._containerObserver.observe(m)}setIsDominatedByLongLines(m){this._isDominatedByLongLines!==m&&(this._isDominatedByLongLines=m,this._recomputeOptions())}setModelLineCount(m){const v=h(m);this._lineNumbersDigitCount!==v&&(this._lineNumbersDigitCount=v,this._recomputeOptions())}setViewLineCount(m){this._viewLineCount!==m&&(this._viewLineCount=m,this._recomputeOptions())}setReservedHeight(m){this._reservedHeight!==m&&(this._reservedHeight=m,this._recomputeOptions())}setGlyphMarginDecorationLaneCount(m){this._glyphMarginDecorationLaneCount!==m&&(this._glyphMarginDecorationLaneCount=m,this._recomputeOptions())}};e.EditorConfiguration=u,e.EditorConfiguration=u=ke([fe(3,a.IAccessibilityService)],u);function h(p){let m=0;for(;p;)p=Math.floor(p/10),m++;return m||1}function r(){let p="";return!L.isSafari&&!L.isWebkitWebView&&(p+="no-user-select "),L.isSafari&&(p+="no-minimap-shadow ",p+="enable-user-select "),f.isMacintosh&&(p+="mac "),p}class c{constructor(){this._values=[]}_read(m){return this._values[m]}get(m){return this._values[m]}_write(m,v){this._values[m]=v}}class o{constructor(){this._values=[]}_read(m){if(m>=this._values.length)throw new Error("Cannot read uninitialized value");return this._values[m]}get(m){return this._read(m)}_write(m,v){this._values[m]=v}}e.ComputedEditorOptions=o;class d{static validateOptions(m){const v=new c;for(const b of i.editorOptionsRegistry){const w=b.name==="_never_"?void 0:m[b.name];v._write(b.id,b.validate(w))}return v}static computeOptions(m,v){const b=new o;for(const w of i.editorOptionsRegistry)b._write(w.id,w.compute(v,b,m._read(w.id)));return b}static _deepEquals(m,v){if(typeof m!="object"||typeof v!="object"||!m||!v)return m===v;if(Array.isArray(m)||Array.isArray(v))return Array.isArray(m)&&Array.isArray(v)?k.equals(m,v):!1;if(Object.keys(m).length!==Object.keys(v).length)return!1;for(const b in m)if(!d._deepEquals(m[b],v[b]))return!1;return!0}static checkEquals(m,v){const b=[];let w=!1;for(const E of i.editorOptionsRegistry){const I=!d._deepEquals(m._read(E.id),v._read(E.id));b[E.id]=I,I&&(w=!0)}return w?new i.ConfigurationChangedEvent(b):null}static applyUpdate(m,v){let b=!1;for(const w of i.editorOptionsRegistry)if(v.hasOwnProperty(w.name)){const E=w.applyUpdate(m[w.name],v[w.name]);m[w.name]=E.newValue,b=b||E.didChange}return b}}function l(p){const m=S.deepClone(p);return(0,C.migrateOptions)(m),m}}),define(ne[237],se([1,0,85,6,2,47,5,116,33,84]),function(Q,e,L,k,y,D,S,f,_,g){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.DiffNavigator=void 0;const C={followsCaret:!0,ignoreCharChanges:!0,alwaysRevealFirst:!0,findResultLoop:!0};let s=class extends y.Disposable{constructor(n,t={},a,u,h){super(),this._audioCueService=a,this._codeEditorService=u,this._accessibilityService=h,this._onDidUpdate=this._register(new k.Emitter),this._editor=n,this._options=D.mixin(t,C,!1),this.disposed=!1,this.nextIdx=-1,this.ranges=[],this.ignoreSelectionChange=!1,this.revealFirst=!!this._options.alwaysRevealFirst,this._register(this._editor.onDidUpdateDiff(()=>this._onDiffUpdated())),this._options.followsCaret&&this._register(this._editor.getModifiedEditor().onDidChangeCursorPosition(r=>{this.ignoreSelectionChange||(this._updateAccessibilityState(r.position.lineNumber),this.nextIdx=-1)})),this._init()}_init(){this._editor.getLineChanges()}_onDiffUpdated(){this._init(),this._compute(this._editor.getLineChanges()),this.revealFirst&&this._editor.getLineChanges()!==null&&(this.revealFirst=!1,this.nextIdx=-1,this.next(1))}_compute(n){this.ranges=[],n&&n.forEach(t=>{!this._options.ignoreCharChanges&&t.charChanges?t.charChanges.forEach(a=>{this.ranges.push({rhs:!0,range:new S.Range(a.modifiedStartLineNumber,a.modifiedStartColumn,a.modifiedEndLineNumber,a.modifiedEndColumn)})}):t.modifiedEndLineNumber===0?this.ranges.push({rhs:!0,range:new S.Range(t.modifiedStartLineNumber,1,t.modifiedStartLineNumber+1,1)}):this.ranges.push({rhs:!0,range:new S.Range(t.modifiedStartLineNumber,1,t.modifiedEndLineNumber+1,1)})}),this.ranges.sort((t,a)=>S.Range.compareRangesUsingStarts(t.range,a.range)),this._onDidUpdate.fire(this)}_initIdx(n){let t=!1;const a=this._editor.getPosition();if(!a){this.nextIdx=0;return}for(let u=0,h=this.ranges.length;u<h&&!t;u++){const r=this.ranges[u].range;a.isBeforeOrEqual(r.getStartPosition())&&(this.nextIdx=u+(n?0:-1),t=!0)}t||(this.nextIdx=n?0:this.ranges.length-1),this.nextIdx<0&&(this.nextIdx=this.ranges.length-1)}_move(n,t){if(L.ok(!this.disposed,"Illegal State - diff navigator has been disposed"),!this.canNavigate())return;this.nextIdx===-1?this._initIdx(n):n?(this.nextIdx+=1,this.nextIdx>=this.ranges.length&&(this.nextIdx=0)):(this.nextIdx-=1,this.nextIdx<0&&(this.nextIdx=this.ranges.length-1));const a=this.ranges[this.nextIdx];this.ignoreSelectionChange=!0;try{const u=a.range.getStartPosition();this._editor.setPosition(u),this._editor.revealRangeInCenter(a.range,t),this._updateAccessibilityState(u.lineNumber,!0)}finally{this.ignoreSelectionChange=!1}}_updateAccessibilityState(n,t){var a;const u=(a=this._editor.getModel())===null||a===void 0?void 0:a.modified;if(!u)return;const h=u.getLineDecorations(n).find(c=>c.options.className==="line-insert");if(h)this._audioCueService.playAudioCue(f.AudioCue.diffLineModified,{allowManyInParallel:!0});else if(t)this._audioCueService.playAudioCue(f.AudioCue.diffLineDeleted,{allowManyInParallel:!0});else return;const r=this._codeEditorService.getActiveCodeEditor();t&&r&&h&&this._accessibilityService.isScreenReaderOptimized()&&(r.setSelection({startLineNumber:n,startColumn:0,endLineNumber:n,endColumn:Number.MAX_VALUE}),r.writeScreenReaderContent("diff-navigation"))}canNavigate(){return this.ranges&&this.ranges.length>0}next(n=0){this.canNavigateNext()&&this._move(!0,n)}previous(n=0){this.canNavigatePrevious()&&this._move(!1,n)}canNavigateNext(){return this.canNavigateLoop()||this.nextIdx<this.ranges.length-1}canNavigatePrevious(){return this.canNavigateLoop()||this.nextIdx!==0}canNavigateLoop(){return!!this._options.findResultLoop}dispose(){super.dispose(),this.ranges=[],this.disposed=!0}};e.DiffNavigator=s,e.DiffNavigator=s=ke([fe(2,f.IAudioCueService),fe(3,_.ICodeEditorService),fe(4,g.IAccessibilityService)],s)}),define(ne[757],se([1,0,6,46,2,47,198,22,722,27,28,15]),function(Q,e,L,k,y,D,S,f,_,g,C,s){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.setContext=e.ContextKeyService=e.AbstractContextKeyService=e.Context=void 0;const i="data-keybinding-context";class n{constructor(E,I){this._id=E,this._parent=I,this._value=Object.create(null),this._value._contextId=E}get value(){return Object.assign({},this._value)}setValue(E,I){return this._value[E]!==I?(this._value[E]=I,!0):!1}removeValue(E){return E in this._value?(delete this._value[E],!0):!1}getValue(E){const I=this._value[E];return typeof I>"u"&&this._parent?this._parent.getValue(E):I}}e.Context=n;class t extends n{constructor(){super(-1,null)}setValue(E,I){return!1}removeValue(E){return!1}getValue(E){}}t.INSTANCE=new t;class a extends n{constructor(E,I,M){super(E,null),this._configurationService=I,this._values=S.TernarySearchTree.forConfigKeys(),this._listener=this._configurationService.onDidChangeConfiguration(P=>{if(P.source===7){const x=Array.from(this._values,([T])=>T);this._values.clear(),M.fire(new r(x))}else{const x=[];for(const T of P.affectedKeys){const A=`config.${T}`,N=this._values.findSuperstr(A);N!==void 0&&(x.push(...k.Iterable.map(N,([F])=>F)),this._values.deleteSuperstr(A)),this._values.has(A)&&(x.push(A),this._values.delete(A))}M.fire(new r(x))}})}dispose(){this._listener.dispose()}getValue(E){if(E.indexOf(a._keyPrefix)!==0)return super.getValue(E);if(this._values.has(E))return this._values.get(E);const I=E.substr(a._keyPrefix.length),M=this._configurationService.getValue(I);let P;switch(typeof M){case"number":case"boolean":case"string":P=M;break;default:Array.isArray(M)?P=JSON.stringify(M):P=M}return this._values.set(E,P),P}setValue(E,I){return super.setValue(E,I)}removeValue(E){return super.removeValue(E)}}a._keyPrefix="config.";class u{constructor(E,I,M){this._service=E,this._key=I,this._defaultValue=M,this.reset()}set(E){this._service.setContext(this._key,E)}reset(){typeof this._defaultValue>"u"?this._service.removeContext(this._key):this._service.setContext(this._key,this._defaultValue)}get(){return this._service.getContextKeyValue(this._key)}}class h{constructor(E){this.key=E}affectsSome(E){return E.has(this.key)}allKeysContainedIn(E){return this.affectsSome(E)}}class r{constructor(E){this.keys=E}affectsSome(E){for(const I of this.keys)if(E.has(I))return!0;return!1}allKeysContainedIn(E){return this.keys.every(I=>E.has(I))}}class c{constructor(E){this.events=E}affectsSome(E){for(const I of this.events)if(I.affectsSome(E))return!0;return!1}allKeysContainedIn(E){return this.events.every(I=>I.allKeysContainedIn(E))}}function o(w,E){return w.allKeysContainedIn(new Set(Object.keys(E)))}class d{constructor(E){this._onDidChangeContext=new L.PauseableEmitter({merge:I=>new c(I)}),this.onDidChangeContext=this._onDidChangeContext.event,this._isDisposed=!1,this._myContextId=E}createKey(E,I){if(this._isDisposed)throw new Error("AbstractContextKeyService has been disposed");return new u(this,E,I)}bufferChangeEvents(E){this._onDidChangeContext.pause();try{E()}finally{this._onDidChangeContext.resume()}}createScoped(E){if(this._isDisposed)throw new Error("AbstractContextKeyService has been disposed");return new p(this,E)}contextMatchesRules(E){if(this._isDisposed)throw new Error("AbstractContextKeyService has been disposed");const I=this.getContextValuesContainer(this._myContextId);return E?E.evaluate(I):!0}getContextKeyValue(E){if(!this._isDisposed)return this.getContextValuesContainer(this._myContextId).getValue(E)}setContext(E,I){if(this._isDisposed)return;const M=this.getContextValuesContainer(this._myContextId);M&&M.setValue(E,I)&&this._onDidChangeContext.fire(new h(E))}removeContext(E){this._isDisposed||this.getContextValuesContainer(this._myContextId).removeValue(E)&&this._onDidChangeContext.fire(new h(E))}getContext(E){return this._isDisposed?t.INSTANCE:this.getContextValuesContainer(m(E))}}e.AbstractContextKeyService=d;let l=class extends d{constructor(E){super(0),this._contexts=new Map,this._toDispose=new y.DisposableStore,this._lastContextId=0;const I=new a(this._myContextId,E,this._onDidChangeContext);this._contexts.set(this._myContextId,I),this._toDispose.add(I)}dispose(){this._onDidChangeContext.dispose(),this._isDisposed=!0,this._toDispose.dispose()}getContextValuesContainer(E){return this._isDisposed?t.INSTANCE:this._contexts.get(E)||t.INSTANCE}createChildContext(E=this._myContextId){if(this._isDisposed)throw new Error("ContextKeyService has been disposed");const I=++this._lastContextId;return this._contexts.set(I,new n(I,this.getContextValuesContainer(E))),I}disposeContext(E){this._isDisposed||this._contexts.delete(E)}};e.ContextKeyService=l,e.ContextKeyService=l=ke([fe(0,C.IConfigurationService)],l);class p extends d{constructor(E,I){if(super(E.createChildContext()),this._parentChangeListener=new y.MutableDisposable,this._parent=E,this._updateParentChangeListener(),this._domNode=I,this._domNode.hasAttribute(i)){let M="";this._domNode.classList&&(M=Array.from(this._domNode.classList.values()).join(", ")),console.error(`Element already has context attribute${M?": "+M:""}`)}this._domNode.setAttribute(i,String(this._myContextId))}_updateParentChangeListener(){this._parentChangeListener.value=this._parent.onDidChangeContext(E=>{const M=this._parent.getContextValuesContainer(this._myContextId).value;o(E,M)||this._onDidChangeContext.fire(E)})}dispose(){this._isDisposed||(this._onDidChangeContext.dispose(),this._parent.disposeContext(this._myContextId),this._parentChangeListener.dispose(),this._domNode.removeAttribute(i),this._isDisposed=!0)}getContextValuesContainer(E){return this._isDisposed?t.INSTANCE:this._parent.getContextValuesContainer(E)}createChildContext(E=this._myContextId){if(this._isDisposed)throw new Error("ScopedContextKeyService has been disposed");return this._parent.createChildContext(E)}disposeContext(E){this._isDisposed||this._parent.disposeContext(E)}}function m(w){for(;w;){if(w.hasAttribute(i)){const E=w.getAttribute(i);return E?parseInt(E,10):NaN}w=w.parentElement}return 0}function v(w,E,I){w.get(s.IContextKeyService).createKey(String(E),b(I))}e.setContext=v;function b(w){return(0,D.cloneAndChange)(w,E=>{if(typeof E=="object"&&E.$mid===1)return f.URI.revive(E).toString();if(E instanceof f.URI)return E.toString()})}g.CommandsRegistry.registerCommand("_setContext",v),g.CommandsRegistry.registerCommand({id:"getContextKeyInfo",handler(){return[...s.RawContextKey.all()].sort((w,E)=>w.key.localeCompare(E.key))},description:{description:(0,_.localize)(0,null),args:[]}}),g.CommandsRegistry.registerCommand("_generateContextKeyInfo",function(){const w=[],E=new Set;for(const I of s.RawContextKey.all())E.has(I.key)||(E.add(I.key),w.push(I));w.sort((I,M)=>I.key.localeCompare(M.key)),console.log(JSON.stringify(w,void 0,2))})}),define(ne[238],se([1,0,17,724,15]),function(Q,e,L,k,y){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.InputFocusedContext=e.InputFocusedContextKey=e.ProductQualityContext=e.IsDevelopmentContext=e.IsMobileContext=e.IsIOSContext=e.IsMacNativeContext=e.IsWebContext=e.IsWindowsContext=e.IsLinuxContext=e.IsMacContext=void 0,e.IsMacContext=new y.RawContextKey("isMac",L.isMacintosh,(0,k.localize)(0,null)),e.IsLinuxContext=new y.RawContextKey("isLinux",L.isLinux,(0,k.localize)(1,null)),e.IsWindowsContext=new y.RawContextKey("isWindows",L.isWindows,(0,k.localize)(2,null)),e.IsWebContext=new y.RawContextKey("isWeb",L.isWeb,(0,k.localize)(3,null)),e.IsMacNativeContext=new y.RawContextKey("isMacNative",L.isMacintosh&&!L.isWeb,(0,k.localize)(4,null)),e.IsIOSContext=new y.RawContextKey("isIOS",L.isIOS,(0,k.localize)(5,null)),e.IsMobileContext=new y.RawContextKey("isMobile",L.isMobile,(0,k.localize)(6,null)),e.IsDevelopmentContext=new y.RawContextKey("isDevelopment",!1,!0),e.ProductQualityContext=new y.RawContextKey("productQualityType","",(0,k.localize)(7,null)),e.InputFocusedContextKey="inputFocus",e.InputFocusedContext=new y.RawContextKey(e.InputFocusedContextKey,!1,(0,k.localize)(8,null))}),define(ne[57],se([1,0,8]),function(Q,e,L){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.IContextMenuService=e.IContextViewService=void 0,e.IContextViewService=(0,L.createDecorator)("contextViewService"),e.IContextMenuService=(0,L.createDecorator)("contextMenuService")}),define(ne[156],se([1,0,8]),function(Q,e,L){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.IDialogService=void 0,e.IDialogService=(0,L.createDecorator)("dialogService")}),define(ne[239],se([1,0,8]),function(Q,e,L){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.IEnvironmentService=void 0,e.IEnvironmentService=(0,L.createDecorator)("environmentService")}),define(ne[157],se([1,0]),function(Q,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ServiceCollection=void 0;class L{constructor(...y){this._entries=new Map;for(const[D,S]of y)this.set(D,S)}set(y,D){const S=this._entries.get(y);return this._entries.set(y,D),S}get(y){return this._entries.get(y)}}e.ServiceCollection=L}),define(ne[758],se([1,0,13,9,2,232,746,8,157,64]),function(Q,e,L,k,y,D,S,f,_,g){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.Trace=e.InstantiationService=void 0;const C=!1;class s extends Error{constructor(a){var u;super("cyclic dependency between services"),this.message=(u=a.findCycleSlow())!==null&&u!==void 0?u:`UNABLE to detect cycle, dumping graph: 
${a.toString()}`}}class i{constructor(a=new _.ServiceCollection,u=!1,h,r=C){var c;this._services=a,this._strict=u,this._parent=h,this._enableTracing=r,this._activeInstantiations=new Set,this._services.set(f.IInstantiationService,this),this._globalGraph=r?(c=h?._globalGraph)!==null&&c!==void 0?c:new S.Graph(o=>o):void 0}createChild(a){return new i(a,this._strict,this,this._enableTracing)}invokeFunction(a,...u){const h=n.traceInvocation(this._enableTracing,a);let r=!1;try{return a({get:o=>{if(r)throw(0,k.illegalState)("service accessor is only valid during the invocation of its target method");const d=this._getOrCreateServiceInstance(o,h);if(!d)throw new Error(`[invokeFunction] unknown service '${o}'`);return d}},...u)}finally{r=!0,h.stop()}}createInstance(a,...u){let h,r;return a instanceof D.SyncDescriptor?(h=n.traceCreation(this._enableTracing,a.ctor),r=this._createInstance(a.ctor,a.staticArguments.concat(u),h)):(h=n.traceCreation(this._enableTracing,a),r=this._createInstance(a,u,h)),h.stop(),r}_createInstance(a,u=[],h){const r=f._util.getServiceDependencies(a).sort((d,l)=>d.index-l.index),c=[];for(const d of r){const l=this._getOrCreateServiceInstance(d.id,h);l||this._throwIfStrict(`[createInstance] ${a.name} depends on UNKNOWN service ${d.id}.`,!1),c.push(l)}const o=r.length>0?r[0].index:u.length;if(u.length!==o){console.trace(`[createInstance] First service dependency of ${a.name} at position ${o+1} conflicts with ${u.length} static arguments`);const d=o-u.length;d>0?u=u.concat(new Array(d)):u=u.slice(0,o)}return Reflect.construct(a,u.concat(c))}_setServiceInstance(a,u){if(this._services.get(a)instanceof D.SyncDescriptor)this._services.set(a,u);else if(this._parent)this._parent._setServiceInstance(a,u);else throw new Error("illegalState - setting UNKNOWN service instance")}_getServiceInstanceOrDescriptor(a){const u=this._services.get(a);return!u&&this._parent?this._parent._getServiceInstanceOrDescriptor(a):u}_getOrCreateServiceInstance(a,u){this._globalGraph&&this._globalGraphImplicitDependency&&this._globalGraph.insertEdge(this._globalGraphImplicitDependency,String(a));const h=this._getServiceInstanceOrDescriptor(a);return h instanceof D.SyncDescriptor?this._safeCreateAndCacheServiceInstance(a,h,u.branch(a,!0)):(u.branch(a,!1),h)}_safeCreateAndCacheServiceInstance(a,u,h){if(this._activeInstantiations.has(a))throw new Error(`illegal state - RECURSIVELY instantiating service '${a}'`);this._activeInstantiations.add(a);try{return this._createAndCacheServiceInstance(a,u,h)}finally{this._activeInstantiations.delete(a)}}_createAndCacheServiceInstance(a,u,h){var r;const c=new S.Graph(l=>l.id.toString());let o=0;const d=[{id:a,desc:u,_trace:h}];for(;d.length;){const l=d.pop();if(c.lookupOrInsertNode(l),o++>1e3)throw new s(c);for(const p of f._util.getServiceDependencies(l.desc.ctor)){const m=this._getServiceInstanceOrDescriptor(p.id);if(m||this._throwIfStrict(`[createInstance] ${a} depends on ${p.id} which is NOT registered.`,!0),(r=this._globalGraph)===null||r===void 0||r.insertEdge(String(l.id),String(p.id)),m instanceof D.SyncDescriptor){const v={id:p.id,desc:m,_trace:l._trace.branch(p.id,!0)};c.insertEdge(l,v),d.push(v)}}}for(;;){const l=c.roots();if(l.length===0){if(!c.isEmpty())throw new s(c);break}for(const{data:p}of l){if(this._getServiceInstanceOrDescriptor(p.id)instanceof D.SyncDescriptor){const v=this._createServiceInstanceWithOwner(p.id,p.desc.ctor,p.desc.staticArguments,p.desc.supportsDelayedInstantiation,p._trace);this._setServiceInstance(p.id,v)}c.removeNode(p)}}return this._getServiceInstanceOrDescriptor(a)}_createServiceInstanceWithOwner(a,u,h=[],r,c){if(this._services.get(a)instanceof D.SyncDescriptor)return this._createServiceInstance(a,u,h,r,c);if(this._parent)return this._parent._createServiceInstanceWithOwner(a,u,h,r,c);throw new Error(`illegalState - creating UNKNOWN service instance ${u.name}`)}_createServiceInstance(a,u,h=[],r,c){if(r){const o=new i(void 0,this._strict,this,this._enableTracing);o._globalGraphImplicitDependency=String(a);const d=new Map,l=new L.IdleValue(()=>{const p=o._createInstance(u,h,c);for(const[m,v]of d){const b=p[m];if(typeof b=="function")for(const w of v)b.apply(p,w)}return d.clear(),p});return new Proxy(Object.create(null),{get(p,m){if(!l.isInitialized&&typeof m=="string"&&(m.startsWith("onDid")||m.startsWith("onWill"))){let w=d.get(m);return w||(w=new g.LinkedList,d.set(m,w)),(I,M,P)=>{const x=w.push([I,M,P]);return(0,y.toDisposable)(x)}}if(m in p)return p[m];const v=l.value;let b=v[m];return typeof b!="function"||(b=b.bind(v),p[m]=b),b},set(p,m,v){return l.value[m]=v,!0},getPrototypeOf(p){return u.prototype}})}else return this._createInstance(u,h,c)}_throwIfStrict(a,u){if(u&&console.warn(a),this._strict)throw new Error(a)}}e.InstantiationService=i;class n{static traceInvocation(a,u){return a?new n(2,u.name||new Error().stack.split(`
`).slice(3,4).join(`
`)):n._None}static traceCreation(a,u){return a?new n(1,u.name):n._None}constructor(a,u){this.type=a,this.name=u,this._start=Date.now(),this._dep=[]}branch(a,u){const h=new n(3,a.toString());return this._dep.push([a,u,h]),h}stop(){const a=Date.now()-this._start;n._totals+=a;let u=!1;function h(c,o){const d=[],l=new Array(c+1).join("	");for(const[p,m,v]of o._dep)if(m&&v){u=!0,d.push(`${l}CREATES -> ${p}`);const b=h(c+1,v);b&&d.push(b)}else d.push(`${l}uses -> ${p}`);return d.join(`
`)}const r=[`${this.type===1?"CREATE":"CALL"} ${this.name}`,`${h(1,this)}`,`DONE, took ${a.toFixed(2)}ms (grand total ${n._totals.toFixed(2)}ms)`];(a>2||u)&&n.all.add(r.join(`
`))}}e.Trace=n,n.all=new Set,n._None=new class extends n{constructor(){super(0,null)}stop(){}branch(){return this}},n._totals=0}),define(ne[759],se([1,0,9,216,119]),function(Q,e,L,k,y){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.BaseResolvedKeybinding=void 0;class D extends y.ResolvedKeybinding{constructor(f,_){if(super(),_.length===0)throw(0,L.illegalArgument)("chords");this._os=f,this._chords=_}getLabel(){return k.UILabelProvider.toLabel(this._os,this._chords,f=>this._getLabel(f))}getAriaLabel(){return k.AriaLabelProvider.toLabel(this._os,this._chords,f=>this._getAriaLabel(f))}getElectronAccelerator(){return this._chords.length>1||this._chords[0].isDuplicateModifierCase()?null:k.ElectronAcceleratorLabelProvider.toLabel(this._os,this._chords,f=>this._getElectronAccelerator(f))}getUserSettingsLabel(){return k.UserSettingsLabelProvider.toLabel(this._os,this._chords,f=>this._getUserSettingsLabel(f))}hasMultipleChords(){return this._chords.length>1}getChords(){return this._chords.map(f=>this._getChord(f))}_getChord(f){return new y.ResolvedChord(f.ctrlKey,f.shiftKey,f.altKey,f.metaKey,this._getLabel(f),this._getAriaLabel(f))}getDispatchChords(){return this._chords.map(f=>this._getChordDispatch(f))}getSingleModifierDispatchChords(){return this._chords.map(f=>this._getSingleModifierChordDispatch(f))}}e.BaseResolvedKeybinding=D}),define(ne[34],se([1,0,8]),function(Q,e,L){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.IKeybindingService=void 0,e.IKeybindingService=(0,L.createDecorator)("keybindingService")}),define(ne[335],se([1,0,7,313,39,6,2,132,15,57,8,34,441]),function(Q,e,L,k,y,D,S,f,_,g,C,s){"use strict";var i;Object.defineProperty(e,"__esModule",{value:!0}),e.PostEditWidgetManager=void 0;let n=i=class extends S.Disposable{constructor(u,h,r,c,o,d,l,p,m,v){super(),this.typeId=u,this.editor=h,this.showCommand=c,this.range=o,this.edits=d,this.onSelectNewEdit=l,this._contextMenuService=p,this._keybindingService=v,this.allowEditorOverflow=!0,this.suppressMouseDown=!0,this.create(),this.visibleContext=r.bindTo(m),this.visibleContext.set(!0),this._register((0,S.toDisposable)(()=>this.visibleContext.reset())),this.editor.addContentWidget(this),this.editor.layoutContentWidget(this),this._register((0,S.toDisposable)(()=>this.editor.removeContentWidget(this))),this._register(this.editor.onDidChangeCursorPosition(b=>{o.containsPosition(b.position)||this.dispose()})),this._register(D.Event.runAndSubscribe(v.onDidUpdateKeybindings,()=>{this._updateButtonTitle()}))}_updateButtonTitle(){var u;const h=(u=this._keybindingService.lookupKeybinding(this.showCommand.id))===null||u===void 0?void 0:u.getLabel();this.button.element.title=this.showCommand.label+(h?` (${h})`:"")}create(){this.domNode=L.$(".post-edit-widget"),this.button=this._register(new k.Button(this.domNode,{supportIcons:!0})),this.button.label="$(insert)",this._register(L.addDisposableListener(this.domNode,L.EventType.CLICK,()=>this.showSelector()))}getId(){return i.baseId+"."+this.typeId}getDomNode(){return this.domNode}getPosition(){return{position:this.range.getEndPosition(),preference:[2]}}showSelector(){this._contextMenuService.showContextMenu({getAnchor:()=>{const u=L.getDomNodePagePosition(this.button.element);return{x:u.left+u.width,y:u.top+u.height}},getActions:()=>this.edits.allEdits.map((u,h)=>(0,y.toAction)({id:"",label:u.label,checked:h===this.edits.activeEditIndex,run:()=>{if(h!==this.edits.activeEditIndex)return this.onSelectNewEdit(h)}}))})}};n.baseId="editor.widget.postEditWidget",n=i=ke([fe(7,g.IContextMenuService),fe(8,_.IContextKeyService),fe(9,s.IKeybindingService)],n);let t=class extends S.Disposable{constructor(u,h,r,c,o,d){super(),this._id=u,this._editor=h,this._visibleContext=r,this._showCommand=c,this._instantiationService=o,this._bulkEditService=d,this._currentWidget=this._register(new S.MutableDisposable),this._register(D.Event.any(h.onDidChangeModel,h.onDidChangeModelContent)(()=>this.clear()))}applyEditAndShowIfNeeded(u,h,r,c){var o,d;return we(this,void 0,void 0,function*(){const l=this._editor.getModel();if(!l||!u.length)return;const p=h.allEdits[h.activeEditIndex];if(!p)return;let m=[];(typeof p.insertText=="string"?p.insertText==="":p.insertText.snippet==="")?m=[]:m=u.map(P=>new f.ResourceTextEdit(l.uri,typeof p.insertText=="string"?{range:P,text:p.insertText,insertAsSnippet:!1}:{range:P,text:p.insertText.snippet,insertAsSnippet:!0}));const b={edits:[...m,...(d=(o=p.additionalEdit)===null||o===void 0?void 0:o.edits)!==null&&d!==void 0?d:[]]},w=u[0],E=l.deltaDecorations([],[{range:w,options:{description:"paste-line-suffix",stickiness:0}}]);let I,M;try{I=yield this._bulkEditService.apply(b,{editor:this._editor,token:c}),M=l.getDecorationRange(E[0])}finally{l.deltaDecorations(E,[])}r&&I.isApplied&&h.allEdits.length>1&&this.show(M??w,h,P=>we(this,void 0,void 0,function*(){const x=this._editor.getModel();x&&(yield x.undo(),this.applyEditAndShowIfNeeded(u,{activeEditIndex:P,allEdits:h.allEdits},r,c))}))})}show(u,h,r){this.clear(),this._editor.hasModel()&&(this._currentWidget.value=this._instantiationService.createInstance(n,this._id,this._editor,this._visibleContext,this._showCommand,u,h,r))}clear(){this._currentWidget.clear()}tryShowSelector(){var u;(u=this._currentWidget.value)===null||u===void 0||u.showSelector()}};e.PostEditWidgetManager=t,e.PostEditWidgetManager=t=ke([fe(4,C.IInstantiationService),fe(5,f.IBulkEditService)],t)}),define(ne[336],se([1,0,15]),function(Q,e,L){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.KeybindingResolver=e.NoMatchingKb=void 0,e.NoMatchingKb={kind:0};const k={kind:1};function y(_,g,C){return{kind:2,commandId:_,commandArgs:g,isBubble:C}}class D{constructor(g,C,s){var i;this._log=s,this._defaultKeybindings=g,this._defaultBoundCommands=new Map;for(const n of g){const t=n.command;t&&t.charAt(0)!=="-"&&this._defaultBoundCommands.set(t,!0)}this._map=new Map,this._lookupMap=new Map,this._keybindings=D.handleRemovals([].concat(g).concat(C));for(let n=0,t=this._keybindings.length;n<t;n++){const a=this._keybindings[n];if(a.chords.length===0)continue;const u=(i=a.when)===null||i===void 0?void 0:i.substituteConstants();u&&u.type===0||this._addKeyPress(a.chords[0],a)}}static _isTargetedForRemoval(g,C,s){if(C){for(let i=0;i<C.length;i++)if(C[i]!==g.chords[i])return!1}return!(s&&s.type!==1&&(!g.when||!(0,L.expressionsAreEqualWithConstantSubstitution)(s,g.when)))}static handleRemovals(g){const C=new Map;for(let i=0,n=g.length;i<n;i++){const t=g[i];if(t.command&&t.command.charAt(0)==="-"){const a=t.command.substring(1);C.has(a)?C.get(a).push(t):C.set(a,[t])}}if(C.size===0)return g;const s=[];for(let i=0,n=g.length;i<n;i++){const t=g[i];if(!t.command||t.command.length===0){s.push(t);continue}if(t.command.charAt(0)==="-")continue;const a=C.get(t.command);if(!a||!t.isDefault){s.push(t);continue}let u=!1;for(const h of a){const r=h.when;if(this._isTargetedForRemoval(t,h.chords,r)){u=!0;break}}if(!u){s.push(t);continue}}return s}_addKeyPress(g,C){const s=this._map.get(g);if(typeof s>"u"){this._map.set(g,[C]),this._addToLookupMap(C);return}for(let i=s.length-1;i>=0;i--){const n=s[i];if(n.command===C.command)continue;let t=!0;for(let a=1;a<n.chords.length&&a<C.chords.length;a++)if(n.chords[a]!==C.chords[a]){t=!1;break}t&&D.whenIsEntirelyIncluded(n.when,C.when)&&this._removeFromLookupMap(n)}s.push(C),this._addToLookupMap(C)}_addToLookupMap(g){if(!g.command)return;let C=this._lookupMap.get(g.command);typeof C>"u"?(C=[g],this._lookupMap.set(g.command,C)):C.push(g)}_removeFromLookupMap(g){if(!g.command)return;const C=this._lookupMap.get(g.command);if(!(typeof C>"u")){for(let s=0,i=C.length;s<i;s++)if(C[s]===g){C.splice(s,1);return}}}static whenIsEntirelyIncluded(g,C){return!C||C.type===1?!0:!g||g.type===1?!1:(0,L.implies)(g,C)}getKeybindings(){return this._keybindings}lookupPrimaryKeybinding(g,C){const s=this._lookupMap.get(g);if(typeof s>"u"||s.length===0)return null;if(s.length===1)return s[0];for(let i=s.length-1;i>=0;i--){const n=s[i];if(C.contextMatchesRules(n.when))return n}return s[s.length-1]}resolve(g,C,s){const i=[...C,s];this._log(`| Resolving ${i}`);const n=this._map.get(i[0]);if(n===void 0)return this._log("\\ No keybinding entries."),e.NoMatchingKb;let t=null;if(i.length<2)t=n;else{t=[];for(let u=0,h=n.length;u<h;u++){const r=n[u];if(i.length>r.chords.length)continue;let c=!0;for(let o=1;o<i.length;o++)if(r.chords[o]!==i[o]){c=!1;break}c&&t.push(r)}}const a=this._findCommand(g,t);return a?i.length<a.chords.length?(this._log(`\\ From ${t.length} keybinding entries, awaiting ${a.chords.length-i.length} more chord(s), when: ${S(a.when)}, source: ${f(a)}.`),k):(this._log(`\\ From ${t.length} keybinding entries, matched ${a.command}, when: ${S(a.when)}, source: ${f(a)}.`),y(a.command,a.commandArgs,a.bubble)):(this._log(`\\ From ${t.length} keybinding entries, no when clauses matched the context.`),e.NoMatchingKb)}_findCommand(g,C){for(let s=C.length-1;s>=0;s--){const i=C[s];if(D._contextMatchesRules(g,i.when))return i}return null}static _contextMatchesRules(g,C){return C?C.evaluate(g):!0}}e.KeybindingResolver=D;function S(_){return _?`${_.serialize()}`:"no when condition"}function f(_){return _.extensionId?_.isBuiltinExtension?`built-in extension ${_.extensionId}`:`user extension ${_.extensionId}`:_.isDefault?"built-in":"user"}}),define(ne[760],se([1,0,13,9,6,263,2,727,336]),function(Q,e,L,k,y,D,S,f,_){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.AbstractKeybindingService=void 0;const g=/^(cursor|delete|undo|redo|tab|editor\.action\.clipboard)/;class C extends S.Disposable{get onDidUpdateKeybindings(){return this._onDidUpdateKeybindings?this._onDidUpdateKeybindings.event:y.Event.None}get inChordMode(){return this._currentChords.length>0}constructor(n,t,a,u,h){super(),this._contextKeyService=n,this._commandService=t,this._telemetryService=a,this._notificationService=u,this._logService=h,this._onDidUpdateKeybindings=this._register(new y.Emitter),this._currentChords=[],this._currentChordChecker=new L.IntervalTimer,this._currentChordStatusMessage=null,this._ignoreSingleModifiers=s.EMPTY,this._currentSingleModifier=null,this._currentSingleModifierClearTimeout=new L.TimeoutTimer,this._logging=!1}dispose(){super.dispose()}_log(n){this._logging&&this._logService.info(`[KeybindingService]: ${n}`)}getKeybindings(){return this._getResolver().getKeybindings()}lookupKeybinding(n,t){const a=this._getResolver().lookupPrimaryKeybinding(n,t||this._contextKeyService);if(a)return a.resolvedKeybinding}dispatchEvent(n,t){return this._dispatch(n,t)}softDispatch(n,t){this._log("/ Soft dispatching keyboard event");const a=this.resolveKeyboardEvent(n);if(a.hasMultipleChords())return console.warn("keyboard event should not be mapped to multiple chords"),_.NoMatchingKb;const[u]=a.getDispatchChords();if(u===null)return this._log("\\ Keyboard event cannot be dispatched"),_.NoMatchingKb;const h=this._contextKeyService.getContext(t),r=this._currentChords.map(({keypress:c})=>c);return this._getResolver().resolve(h,r,u)}_scheduleLeaveChordMode(){const n=Date.now();this._currentChordChecker.cancelAndSet(()=>{if(!this._documentHasFocus()){this._leaveChordMode();return}Date.now()-n>5e3&&this._leaveChordMode()},500)}_expectAnotherChord(n,t){switch(this._currentChords.push({keypress:n,label:t}),this._currentChords.length){case 0:throw(0,k.illegalState)("impossible");case 1:this._currentChordStatusMessage=this._notificationService.status(f.localize(0,null,t));break;default:{const a=this._currentChords.map(({label:u})=>u).join(", ");this._currentChordStatusMessage=this._notificationService.status(f.localize(1,null,a))}}this._scheduleLeaveChordMode(),D.IME.enabled&&D.IME.disable()}_leaveChordMode(){this._currentChordStatusMessage&&(this._currentChordStatusMessage.dispose(),this._currentChordStatusMessage=null),this._currentChordChecker.cancel(),this._currentChords=[],D.IME.enable()}_dispatch(n,t){return this._doDispatch(this.resolveKeyboardEvent(n),t,!1)}_singleModifierDispatch(n,t){const a=this.resolveKeyboardEvent(n),[u]=a.getSingleModifierDispatchChords();if(u)return this._ignoreSingleModifiers.has(u)?(this._log(`+ Ignoring single modifier ${u} due to it being pressed together with other keys.`),this._ignoreSingleModifiers=s.EMPTY,this._currentSingleModifierClearTimeout.cancel(),this._currentSingleModifier=null,!1):(this._ignoreSingleModifiers=s.EMPTY,this._currentSingleModifier===null?(this._log(`+ Storing single modifier for possible chord ${u}.`),this._currentSingleModifier=u,this._currentSingleModifierClearTimeout.cancelAndSet(()=>{this._log("+ Clearing single modifier due to 300ms elapsed."),this._currentSingleModifier=null},300),!1):u===this._currentSingleModifier?(this._log(`/ Dispatching single modifier chord ${u} ${u}`),this._currentSingleModifierClearTimeout.cancel(),this._currentSingleModifier=null,this._doDispatch(a,t,!0)):(this._log(`+ Clearing single modifier due to modifier mismatch: ${this._currentSingleModifier} ${u}`),this._currentSingleModifierClearTimeout.cancel(),this._currentSingleModifier=null,!1));const[h]=a.getChords();return this._ignoreSingleModifiers=new s(h),this._currentSingleModifier!==null&&this._log("+ Clearing single modifier due to other key up."),this._currentSingleModifierClearTimeout.cancel(),this._currentSingleModifier=null,!1}_doDispatch(n,t,a=!1){var u;let h=!1;if(n.hasMultipleChords())return console.warn("Unexpected keyboard event mapped to multiple chords"),!1;let r=null,c=null;if(a){const[p]=n.getSingleModifierDispatchChords();r=p,c=p?[p]:[]}else[r]=n.getDispatchChords(),c=this._currentChords.map(({keypress:p})=>p);if(r===null)return this._log("\\ Keyboard event cannot be dispatched in keydown phase."),h;const o=this._contextKeyService.getContext(t),d=n.getLabel(),l=this._getResolver().resolve(o,c,r);switch(l.kind){case 0:{if(this._logService.trace("KeybindingService#dispatch",d,"[ No matching keybinding ]"),this.inChordMode){const p=this._currentChords.map(({label:m})=>m).join(", ");this._log(`+ Leaving multi-chord mode: Nothing bound to "${p}, ${d}".`),this._notificationService.status(f.localize(2,null,p,d),{hideAfter:10*1e3}),this._leaveChordMode(),h=!0}return h}case 1:return this._logService.trace("KeybindingService#dispatch",d,"[ Several keybindings match - more chords needed ]"),h=!0,this._expectAnotherChord(r,d),this._log(this._currentChords.length===1?"+ Entering multi-chord mode...":"+ Continuing multi-chord mode..."),h;case 2:{if(this._logService.trace("KeybindingService#dispatch",d,`[ Will dispatch command ${l.commandId} ]`),l.commandId===null||l.commandId===""){if(this.inChordMode){const p=this._currentChords.map(({label:m})=>m).join(", ");this._log(`+ Leaving chord mode: Nothing bound to "${p}, ${d}".`),this._notificationService.status(f.localize(3,null,p,d),{hideAfter:10*1e3}),this._leaveChordMode(),h=!0}}else this.inChordMode&&this._leaveChordMode(),l.isBubble||(h=!0),this._log(`+ Invoking command ${l.commandId}.`),typeof l.commandArgs>"u"?this._commandService.executeCommand(l.commandId).then(void 0,p=>this._notificationService.warn(p)):this._commandService.executeCommand(l.commandId,l.commandArgs).then(void 0,p=>this._notificationService.warn(p)),g.test(l.commandId)||this._telemetryService.publicLog2("workbenchActionExecuted",{id:l.commandId,from:"keybinding",detail:(u=n.getUserSettingsLabel())!==null&&u!==void 0?u:void 0});return h}}}mightProducePrintableCharacter(n){return n.ctrlKey||n.metaKey?!1:n.keyCode>=31&&n.keyCode<=56||n.keyCode>=21&&n.keyCode<=30}}e.AbstractKeybindingService=C;class s{constructor(n){this._ctrlKey=n?n.ctrlKey:!1,this._shiftKey=n?n.shiftKey:!1,this._altKey=n?n.altKey:!1,this._metaKey=n?n.metaKey:!1}has(n){switch(n){case"ctrl":return this._ctrlKey;case"shift":return this._shiftKey;case"alt":return this._altKey;case"meta":return this._metaKey}}}s.EMPTY=new s(null)}),define(ne[337],se([1,0]),function(Q,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.toEmptyArrayIfContainsNull=e.ResolvedKeybindingItem=void 0;class L{constructor(D,S,f,_,g,C,s){this._resolvedKeybindingItemBrand=void 0,this.resolvedKeybinding=D,this.chords=D?k(D.getDispatchChords()):[],D&&this.chords.length===0&&(this.chords=k(D.getSingleModifierDispatchChords())),this.bubble=S?S.charCodeAt(0)===94:!1,this.command=this.bubble?S.substr(1):S,this.commandArgs=f,this.when=_,this.isDefault=g,this.extensionId=C,this.isBuiltinExtension=s}}e.ResolvedKeybindingItem=L;function k(y){const D=[];for(let S=0,f=y.length;S<f;S++){const _=y[S];if(!_)return[];D.push(_)}return D}e.toEmptyArrayIfContainsNull=k}),define(ne[761],se([1,0,63,119,759,337]),function(Q,e,L,k,y,D){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.USLayoutResolvedKeybinding=void 0;class S extends y.BaseResolvedKeybinding{constructor(_,g){super(g,_)}_keyCodeToUILabel(_){if(this._os===2)switch(_){case 15:return"\u2190";case 16:return"\u2191";case 17:return"\u2192";case 18:return"\u2193"}return L.KeyCodeUtils.toString(_)}_getLabel(_){return _.isDuplicateModifierCase()?"":this._keyCodeToUILabel(_.keyCode)}_getAriaLabel(_){return _.isDuplicateModifierCase()?"":L.KeyCodeUtils.toString(_.keyCode)}_getElectronAccelerator(_){return L.KeyCodeUtils.toElectronAccelerator(_.keyCode)}_getUserSettingsLabel(_){if(_.isDuplicateModifierCase())return"";const g=L.KeyCodeUtils.toUserSettingsUS(_.keyCode);return g&&g.toLowerCase()}_getChordDispatch(_){return S.getDispatchStr(_)}static getDispatchStr(_){if(_.isModifierKey())return null;let g="";return _.ctrlKey&&(g+="ctrl+"),_.shiftKey&&(g+="shift+"),_.altKey&&(g+="alt+"),_.metaKey&&(g+="meta+"),g+=L.KeyCodeUtils.toString(_.keyCode),g}_getSingleModifierChordDispatch(_){return _.keyCode===5&&!_.shiftKey&&!_.altKey&&!_.metaKey?"ctrl":_.keyCode===4&&!_.ctrlKey&&!_.altKey&&!_.metaKey?"shift":_.keyCode===6&&!_.ctrlKey&&!_.shiftKey&&!_.metaKey?"alt":_.keyCode===57&&!_.ctrlKey&&!_.shiftKey&&!_.altKey?"meta":null}static _scanCodeToKeyCode(_){const g=L.IMMUTABLE_CODE_TO_KEY_CODE[_];if(g!==-1)return g;switch(_){case 10:return 31;case 11:return 32;case 12:return 33;case 13:return 34;case 14:return 35;case 15:return 36;case 16:return 37;case 17:return 38;case 18:return 39;case 19:return 40;case 20:return 41;case 21:return 42;case 22:return 43;case 23:return 44;case 24:return 45;case 25:return 46;case 26:return 47;case 27:return 48;case 28:return 49;case 29:return 50;case 30:return 51;case 31:return 52;case 32:return 53;case 33:return 54;case 34:return 55;case 35:return 56;case 36:return 22;case 37:return 23;case 38:return 24;case 39:return 25;case 40:return 26;case 41:return 27;case 42:return 28;case 43:return 29;case 44:return 30;case 45:return 21;case 51:return 88;case 52:return 86;case 53:return 92;case 54:return 94;case 55:return 93;case 56:return 0;case 57:return 85;case 58:return 95;case 59:return 91;case 60:return 87;case 61:return 89;case 62:return 90;case 106:return 97}return 0}static _toKeyCodeChord(_){if(!_)return null;if(_ instanceof k.KeyCodeChord)return _;const g=this._scanCodeToKeyCode(_.scanCode);return g===0?null:new k.KeyCodeChord(_.ctrlKey,_.shiftKey,_.altKey,_.metaKey,g)}static resolveKeybinding(_,g){const C=(0,D.toEmptyArrayIfContainsNull)(_.chords.map(s=>this._toKeyCodeChord(s)));return C.length>0?[new S(C,g)]:[]}}e.USLayoutResolvedKeybinding=S}),define(ne[158],se([1,0,8]),function(Q,e,L){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ILabelService=void 0,e.ILabelService=(0,L.createDecorator)("labelService")}),define(ne[134],se([1,0,8]),function(Q,e,L){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ILayoutService=void 0,e.ILayoutService=(0,L.createDecorator)("layoutService")}),define(ne[338],se([1,0,7,6,134,33,50]),function(Q,e,L,k,y,D,S){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.EditorScopedLayoutService=void 0;let f=class{get dimension(){return this._dimension||(this._dimension=L.getClientArea(window.document.body)),this._dimension}get hasContainer(){return!1}get container(){throw new Error("ILayoutService.container is not available in the standalone editor!")}focus(){var C;(C=this._codeEditorService.getFocusedCodeEditor())===null||C===void 0||C.focus()}constructor(C){this._codeEditorService=C,this.onDidLayout=k.Event.None,this.offset={top:0,quickPickTop:0}}};f=ke([fe(0,D.ICodeEditorService)],f);let _=class extends f{get hasContainer(){return!1}get container(){return this._container}constructor(C,s){super(s),this._container=C}};e.EditorScopedLayoutService=_,e.EditorScopedLayoutService=_=ke([fe(1,D.ICodeEditorService)],_),(0,S.registerSingleton)(y.ILayoutService,f,1)}),define(ne[762],se([1,0,7,6,2,84,28,15,134]),function(Q,e,L,k,y,D,S,f,_){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.AccessibilityService=void 0;let g=class extends y.Disposable{constructor(s,i,n){super(),this._contextKeyService=s,this._layoutService=i,this._configurationService=n,this._accessibilitySupport=0,this._onDidChangeScreenReaderOptimized=new k.Emitter,this._onDidChangeReducedMotion=new k.Emitter,this._accessibilityModeEnabledContext=D.CONTEXT_ACCESSIBILITY_MODE_ENABLED.bindTo(this._contextKeyService);const t=()=>this._accessibilityModeEnabledContext.set(this.isScreenReaderOptimized());this._register(this._configurationService.onDidChangeConfiguration(u=>{u.affectsConfiguration("editor.accessibilitySupport")&&(t(),this._onDidChangeScreenReaderOptimized.fire()),u.affectsConfiguration("workbench.reduceMotion")&&(this._configMotionReduced=this._configurationService.getValue("workbench.reduceMotion"),this._onDidChangeReducedMotion.fire())})),t(),this._register(this.onDidChangeScreenReaderOptimized(()=>t()));const a=window.matchMedia("(prefers-reduced-motion: reduce)");this._systemMotionReduced=a.matches,this._configMotionReduced=this._configurationService.getValue("workbench.reduceMotion"),this.initReducedMotionListeners(a)}initReducedMotionListeners(s){if(!this._layoutService.hasContainer)return;this._register((0,L.addDisposableListener)(s,"change",()=>{this._systemMotionReduced=s.matches,this._configMotionReduced==="auto"&&this._onDidChangeReducedMotion.fire()}));const i=()=>{const n=this.isMotionReduced();this._layoutService.container.classList.toggle("reduce-motion",n),this._layoutService.container.classList.toggle("enable-motion",!n)};i(),this._register(this.onDidChangeReducedMotion(()=>i()))}get onDidChangeScreenReaderOptimized(){return this._onDidChangeScreenReaderOptimized.event}isScreenReaderOptimized(){const s=this._configurationService.getValue("editor.accessibilitySupport");return s==="on"||s==="auto"&&this._accessibilitySupport===2}get onDidChangeReducedMotion(){return this._onDidChangeReducedMotion.event}isMotionReduced(){const s=this._configMotionReduced;return s==="on"||s==="auto"&&this._systemMotionReduced}getAccessibilitySupport(){return this._accessibilitySupport}};e.AccessibilityService=g,e.AccessibilityService=g=ke([fe(0,f.IContextKeyService),fe(1,_.ILayoutService),fe(2,S.IConfigurationService)],g)}),define(ne[763],se([1,0,306,2,134]),function(Q,e,L,k,y){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ContextViewService=void 0;let D=class extends k.Disposable{constructor(f){super(),this.layoutService=f,this.currentViewDisposable=k.Disposable.None,this.container=f.hasContainer?f.container:null,this.contextView=this._register(new L.ContextView(this.container,1)),this.layout(),this._register(f.onDidLayout(()=>this.layout()))}setContainer(f,_){this.contextView.setContainer(f,_||1)}showContextView(f,_,g){_?(_!==this.container||this.shadowRoot!==g)&&(this.container=_,this.setContainer(_,g?3:2)):this.layoutService.hasContainer&&this.container!==this.layoutService.container&&(this.container=this.layoutService.container,this.setContainer(this.container,1)),this.shadowRoot=g,this.contextView.show(f);const C=(0,k.toDisposable)(()=>{this.currentViewDisposable===C&&this.hideContextView()});return this.currentViewDisposable=C,C}getContextViewElement(){return this.contextView.getViewElement()}layout(){this.contextView.layout()}hideContextView(f){this.contextView.hide(f)}};e.ContextViewService=D,e.ContextViewService=D=ke([fe(0,y.ILayoutService)],D)}),define(ne[70],se([1,0,6,2,15,8]),function(Q,e,L,k,y,D){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.CONTEXT_LOG_LEVEL=e.LogLevelToString=e.MultiplexLogger=e.ConsoleLogger=e.AbstractLogger=e.DEFAULT_LOG_LEVEL=e.LogLevel=e.ILogService=void 0,e.ILogService=(0,D.createDecorator)("logService");var S;(function(s){s[s.Off=0]="Off",s[s.Trace=1]="Trace",s[s.Debug=2]="Debug",s[s.Info=3]="Info",s[s.Warning=4]="Warning",s[s.Error=5]="Error"})(S||(e.LogLevel=S={})),e.DEFAULT_LOG_LEVEL=S.Info;class f extends k.Disposable{constructor(){super(...arguments),this.level=e.DEFAULT_LOG_LEVEL,this._onDidChangeLogLevel=this._register(new L.Emitter),this.onDidChangeLogLevel=this._onDidChangeLogLevel.event}setLevel(i){this.level!==i&&(this.level=i,this._onDidChangeLogLevel.fire(this.level))}getLevel(){return this.level}checkLogLevel(i){return this.level!==S.Off&&this.level<=i}}e.AbstractLogger=f;class _ extends f{constructor(i=e.DEFAULT_LOG_LEVEL,n=!0){super(),this.useColors=n,this.setLevel(i)}trace(i,...n){this.checkLogLevel(S.Trace)&&(this.useColors?console.log("%cTRACE","color: #888",i,...n):console.log(i,...n))}debug(i,...n){this.checkLogLevel(S.Debug)&&(this.useColors?console.log("%cDEBUG","background: #eee; color: #888",i,...n):console.log(i,...n))}info(i,...n){this.checkLogLevel(S.Info)&&(this.useColors?console.log("%c INFO","color: #33f",i,...n):console.log(i,...n))}warn(i,...n){this.checkLogLevel(S.Warning)&&(this.useColors?console.log("%c WARN","color: #993",i,...n):console.log(i,...n))}error(i,...n){this.checkLogLevel(S.Error)&&(this.useColors?console.log("%c  ERR","color: #f33",i,...n):console.error(i,...n))}dispose(){}}e.ConsoleLogger=_;class g extends f{constructor(i){super(),this.loggers=i,i.length&&this.setLevel(i[0].getLevel())}setLevel(i){for(const n of this.loggers)n.setLevel(i);super.setLevel(i)}trace(i,...n){for(const t of this.loggers)t.trace(i,...n)}debug(i,...n){for(const t of this.loggers)t.debug(i,...n)}info(i,...n){for(const t of this.loggers)t.info(i,...n)}warn(i,...n){for(const t of this.loggers)t.warn(i,...n)}error(i,...n){for(const t of this.loggers)t.error(i,...n)}dispose(){for(const i of this.loggers)i.dispose()}}e.MultiplexLogger=g;function C(s){switch(s){case S.Trace:return"trace";case S.Debug:return"debug";case S.Info:return"info";case S.Warning:return"warn";case S.Error:return"error";case S.Off:return"off"}}e.LogLevelToString=C,e.CONTEXT_LOG_LEVEL=new y.RawContextKey("logLevel",C(S.Info))}),define(ne[764],se([1,0,52,7,13,2,134,70]),function(Q,e,L,k,y,D,S,f){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.BrowserClipboardService=void 0;let _=class extends D.Disposable{constructor(C,s){super(),this.layoutService=C,this.logService=s,this.mapTextToType=new Map,this.findText="",this.resources=[],(L.isSafari||L.isWebkitWebView)&&this.installWebKitWriteTextWorkaround()}installWebKitWriteTextWorkaround(){const C=()=>{const s=new y.DeferredPromise;this.webKitPendingClipboardWritePromise&&!this.webKitPendingClipboardWritePromise.isSettled&&this.webKitPendingClipboardWritePromise.cancel(),this.webKitPendingClipboardWritePromise=s,navigator.clipboard.write([new ClipboardItem({"text/plain":s.p})]).catch(i=>we(this,void 0,void 0,function*(){(!(i instanceof Error)||i.name!=="NotAllowedError"||!s.isRejected)&&this.logService.error(i)}))};this.layoutService.hasContainer&&(this._register((0,k.addDisposableListener)(this.layoutService.container,"click",C)),this._register((0,k.addDisposableListener)(this.layoutService.container,"keydown",C)))}writeText(C,s){return we(this,void 0,void 0,function*(){if(s){this.mapTextToType.set(s,C);return}if(this.webKitPendingClipboardWritePromise)return this.webKitPendingClipboardWritePromise.complete(C);try{return yield navigator.clipboard.writeText(C)}catch(t){console.error(t)}const i=document.activeElement,n=document.body.appendChild((0,k.$)("textarea",{"aria-hidden":!0}));n.style.height="1px",n.style.width="1px",n.style.position="absolute",n.value=C,n.focus(),n.select(),document.execCommand("copy"),i instanceof HTMLElement&&i.focus(),document.body.removeChild(n)})}readText(C){return we(this,void 0,void 0,function*(){if(C)return this.mapTextToType.get(C)||"";try{return yield navigator.clipboard.readText()}catch(s){return console.error(s),""}})}readFindText(){return we(this,void 0,void 0,function*(){return this.findText})}writeFindText(C){return we(this,void 0,void 0,function*(){this.findText=C})}writeResources(C){return we(this,void 0,void 0,function*(){this.resources=C})}readResources(){return we(this,void 0,void 0,function*(){return this.resources})}};e.BrowserClipboardService=_,e.BrowserClipboardService=_=ke([fe(0,S.ILayoutService),fe(1,f.ILogService)],_)}),define(ne[765],se([1,0,2,70]),function(Q,e,L,k){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.LogService=void 0;class y extends L.Disposable{constructor(S,f=[]){super(),this.logger=new k.MultiplexLogger([S,...f]),this._register(S.onDidChangeLogLevel(_=>this.setLevel(_)))}get onDidChangeLogLevel(){return this.logger.onDidChangeLogLevel}setLevel(S){this.logger.setLevel(S)}getLevel(){return this.logger.getLevel()}trace(S,...f){this.logger.trace(S,...f)}debug(S,...f){this.logger.debug(S,...f)}info(S,...f){this.logger.info(S,...f)}warn(S,...f){this.logger.warn(S,...f)}error(S,...f){this.logger.error(S,...f)}}e.LogService=y}),define(ne[97],se([1,0,101,729,8]),function(Q,e,L,k,y){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.IMarkerService=e.IMarkerData=e.MarkerSeverity=void 0;var D;(function(f){f[f.Hint=1]="Hint",f[f.Info=2]="Info",f[f.Warning=4]="Warning",f[f.Error=8]="Error"})(D||(e.MarkerSeverity=D={})),function(f){function _(n,t){return t-n}f.compare=_;const g=Object.create(null);g[f.Error]=(0,k.localize)(0,null),g[f.Warning]=(0,k.localize)(1,null),g[f.Info]=(0,k.localize)(2,null);function C(n){return g[n]||""}f.toString=C;function s(n){switch(n){case L.default.Error:return f.Error;case L.default.Warning:return f.Warning;case L.default.Info:return f.Info;case L.default.Ignore:return f.Hint}}f.fromSeverity=s;function i(n){switch(n){case f.Error:return L.default.Error;case f.Warning:return L.default.Warning;case f.Info:return L.default.Info;case f.Hint:return L.default.Ignore}}f.toSeverity=i}(D||(e.MarkerSeverity=D={}));var S;(function(f){const _="";function g(s){return C(s,!0)}f.makeKey=g;function C(s,i){const n=[_];return s.source?n.push(s.source.replace("\xA6","\\\xA6")):n.push(_),s.code?typeof s.code=="string"?n.push(s.code.replace("\xA6","\\\xA6")):n.push(s.code.value.replace("\xA6","\\\xA6")):n.push(_),s.severity!==void 0&&s.severity!==null?n.push(D.toString(s.severity)):n.push(_),s.message&&i?n.push(s.message.replace("\xA6","\\\xA6")):n.push(_),s.startLineNumber!==void 0&&s.startLineNumber!==null?n.push(s.startLineNumber.toString()):n.push(_),s.startColumn!==void 0&&s.startColumn!==null?n.push(s.startColumn.toString()):n.push(_),s.endLineNumber!==void 0&&s.endLineNumber!==null?n.push(s.endLineNumber.toString()):n.push(_),s.endColumn!==void 0&&s.endColumn!==null?n.push(s.endColumn.toString()):n.push(_),n.push(_),n.join("\xA6")}f.makeKeyOptionalMessage=C})(S||(e.IMarkerData=S={})),e.IMarkerService=(0,y.createDecorator)("markerService")}),define(ne[766],se([1,0,14,6,2,64,11,22,5,50,8,97,28]),function(Q,e,L,k,y,D,S,f,_,g,C,s,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.IMarkerNavigationService=e.MarkerList=e.MarkerCoordinate=void 0;class n{constructor(h,r,c){this.marker=h,this.index=r,this.total=c}}e.MarkerCoordinate=n;let t=class{constructor(h,r,c){this._markerService=r,this._configService=c,this._onDidChange=new k.Emitter,this.onDidChange=this._onDidChange.event,this._dispoables=new y.DisposableStore,this._markers=[],this._nextIdx=-1,f.URI.isUri(h)?this._resourceFilter=p=>p.toString()===h.toString():h&&(this._resourceFilter=h);const o=this._configService.getValue("problems.sortOrder"),d=(p,m)=>{let v=(0,S.compare)(p.resource.toString(),m.resource.toString());return v===0&&(o==="position"?v=_.Range.compareRangesUsingStarts(p,m)||s.MarkerSeverity.compare(p.severity,m.severity):v=s.MarkerSeverity.compare(p.severity,m.severity)||_.Range.compareRangesUsingStarts(p,m)),v},l=()=>{this._markers=this._markerService.read({resource:f.URI.isUri(h)?h:void 0,severities:s.MarkerSeverity.Error|s.MarkerSeverity.Warning|s.MarkerSeverity.Info}),typeof h=="function"&&(this._markers=this._markers.filter(p=>this._resourceFilter(p.resource))),this._markers.sort(d)};l(),this._dispoables.add(r.onMarkerChanged(p=>{(!this._resourceFilter||p.some(m=>this._resourceFilter(m)))&&(l(),this._nextIdx=-1,this._onDidChange.fire())}))}dispose(){this._dispoables.dispose(),this._onDidChange.dispose()}matches(h){return!this._resourceFilter&&!h?!0:!this._resourceFilter||!h?!1:this._resourceFilter(h)}get selected(){const h=this._markers[this._nextIdx];return h&&new n(h,this._nextIdx+1,this._markers.length)}_initIdx(h,r,c){let o=!1,d=this._markers.findIndex(l=>l.resource.toString()===h.uri.toString());d<0&&(d=(0,L.binarySearch)(this._markers,{resource:h.uri},(l,p)=>(0,S.compare)(l.resource.toString(),p.resource.toString())),d<0&&(d=~d));for(let l=d;l<this._markers.length;l++){let p=_.Range.lift(this._markers[l]);if(p.isEmpty()){const m=h.getWordAtPosition(p.getStartPosition());m&&(p=new _.Range(p.startLineNumber,m.startColumn,p.startLineNumber,m.endColumn))}if(r&&(p.containsPosition(r)||r.isBeforeOrEqual(p.getStartPosition()))){this._nextIdx=l,o=!0;break}if(this._markers[l].resource.toString()!==h.uri.toString())break}o||(this._nextIdx=c?0:this._markers.length-1),this._nextIdx<0&&(this._nextIdx=this._markers.length-1)}resetIndex(){this._nextIdx=-1}move(h,r,c){if(this._markers.length===0)return!1;const o=this._nextIdx;return this._nextIdx===-1?this._initIdx(r,c,h):h?this._nextIdx=(this._nextIdx+1)%this._markers.length:h||(this._nextIdx=(this._nextIdx-1+this._markers.length)%this._markers.length),o!==this._nextIdx}find(h,r){let c=this._markers.findIndex(o=>o.resource.toString()===h.toString());if(!(c<0)){for(;c<this._markers.length;c++)if(_.Range.containsPosition(this._markers[c],r))return new n(this._markers[c],c+1,this._markers.length)}}};e.MarkerList=t,e.MarkerList=t=ke([fe(1,s.IMarkerService),fe(2,i.IConfigurationService)],t),e.IMarkerNavigationService=(0,C.createDecorator)("IMarkerNavigationService");let a=class{constructor(h,r){this._markerService=h,this._configService=r,this._provider=new D.LinkedList}getMarkerList(h){for(const r of this._provider){const c=r.getMarkerList(h);if(c)return c}return new t(h,this._markerService,this._configService)}};a=ke([fe(0,s.IMarkerService),fe(1,i.IConfigurationService)],a),(0,g.registerSingleton)(e.IMarkerNavigationService,a,1)}),define(ne[767],se([1,0,14,6,46,65,54,22,97]),function(Q,e,L,k,y,D,S,f,_){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.MarkerService=e.unsupportedSchemas=void 0,e.unsupportedSchemas=new Set([S.Schemas.inMemory,S.Schemas.vscodeSourceControl,S.Schemas.walkThrough,S.Schemas.walkThroughSnippet]);class g{constructor(){this._byResource=new D.ResourceMap,this._byOwner=new Map}set(n,t,a){let u=this._byResource.get(n);u||(u=new Map,this._byResource.set(n,u)),u.set(t,a);let h=this._byOwner.get(t);h||(h=new D.ResourceMap,this._byOwner.set(t,h)),h.set(n,a)}get(n,t){const a=this._byResource.get(n);return a?.get(t)}delete(n,t){let a=!1,u=!1;const h=this._byResource.get(n);h&&(a=h.delete(t));const r=this._byOwner.get(t);if(r&&(u=r.delete(n)),a!==u)throw new Error("illegal state");return a&&u}values(n){var t,a,u,h;return typeof n=="string"?(a=(t=this._byOwner.get(n))===null||t===void 0?void 0:t.values())!==null&&a!==void 0?a:y.Iterable.empty():f.URI.isUri(n)?(h=(u=this._byResource.get(n))===null||u===void 0?void 0:u.values())!==null&&h!==void 0?h:y.Iterable.empty():y.Iterable.map(y.Iterable.concat(...this._byOwner.values()),r=>r[1])}}class C{constructor(n){this.errors=0,this.infos=0,this.warnings=0,this.unknowns=0,this._data=new D.ResourceMap,this._service=n,this._subscription=n.onMarkerChanged(this._update,this)}dispose(){this._subscription.dispose()}_update(n){for(const t of n){const a=this._data.get(t);a&&this._substract(a);const u=this._resourceStats(t);this._add(u),this._data.set(t,u)}}_resourceStats(n){const t={errors:0,warnings:0,infos:0,unknowns:0};if(e.unsupportedSchemas.has(n.scheme))return t;for(const{severity:a}of this._service.read({resource:n}))a===_.MarkerSeverity.Error?t.errors+=1:a===_.MarkerSeverity.Warning?t.warnings+=1:a===_.MarkerSeverity.Info?t.infos+=1:t.unknowns+=1;return t}_substract(n){this.errors-=n.errors,this.warnings-=n.warnings,this.infos-=n.infos,this.unknowns-=n.unknowns}_add(n){this.errors+=n.errors,this.warnings+=n.warnings,this.infos+=n.infos,this.unknowns+=n.unknowns}}class s{constructor(){this._onMarkerChanged=new k.DebounceEmitter({delay:0,merge:s._merge}),this.onMarkerChanged=this._onMarkerChanged.event,this._data=new g,this._stats=new C(this)}dispose(){this._stats.dispose(),this._onMarkerChanged.dispose()}remove(n,t){for(const a of t||[])this.changeOne(n,a,[])}changeOne(n,t,a){if((0,L.isFalsyOrEmpty)(a))this._data.delete(t,n)&&this._onMarkerChanged.fire([t]);else{const u=[];for(const h of a){const r=s._toMarker(n,t,h);r&&u.push(r)}this._data.set(t,n,u),this._onMarkerChanged.fire([t])}}static _toMarker(n,t,a){let{code:u,severity:h,message:r,source:c,startLineNumber:o,startColumn:d,endLineNumber:l,endColumn:p,relatedInformation:m,tags:v}=a;if(r)return o=o>0?o:1,d=d>0?d:1,l=l>=o?l:o,p=p>0?p:d,{resource:t,owner:n,code:u,severity:h,message:r,source:c,startLineNumber:o,startColumn:d,endLineNumber:l,endColumn:p,relatedInformation:m,tags:v}}changeAll(n,t){const a=[],u=this._data.values(n);if(u)for(const h of u){const r=y.Iterable.first(h);r&&(a.push(r.resource),this._data.delete(r.resource,n))}if((0,L.isNonEmptyArray)(t)){const h=new D.ResourceMap;for(const{resource:r,marker:c}of t){const o=s._toMarker(n,r,c);if(!o)continue;const d=h.get(r);d?d.push(o):(h.set(r,[o]),a.push(r))}for(const[r,c]of h)this._data.set(r,n,c)}a.length>0&&this._onMarkerChanged.fire(a)}read(n=Object.create(null)){let{owner:t,resource:a,severities:u,take:h}=n;if((!h||h<0)&&(h=-1),t&&a){const r=this._data.get(a,t);if(r){const c=[];for(const o of r)if(s._accept(o,u)){const d=c.push(o);if(h>0&&d===h)break}return c}else return[]}else if(!t&&!a){const r=[];for(const c of this._data.values())for(const o of c)if(s._accept(o,u)){const d=r.push(o);if(h>0&&d===h)return r}return r}else{const r=this._data.values(a??t),c=[];for(const o of r)for(const d of o)if(s._accept(d,u)){const l=c.push(d);if(h>0&&l===h)return c}return c}}static _accept(n,t){return t===void 0||(t&n.severity)===n.severity}static _merge(n){const t=new D.ResourceMap;for(const a of n)for(const u of a)t.set(u,!0);return Array.from(t.keys())}}e.MarkerService=s}),define(ne[43],se([1,0,101,8]),function(Q,e,L,k){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.NoOpNotification=e.INotificationService=e.Severity=void 0,e.Severity=L.default,e.INotificationService=(0,k.createDecorator)("notificationService");class y{}e.NoOpNotification=y}),define(ne[56],se([1,0,11,22,8]),function(Q,e,L,k,y){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.extractSelection=e.matchesSomeScheme=e.matchesScheme=e.IOpenerService=void 0,e.IOpenerService=(0,y.createDecorator)("openerService");function D(_,g){return k.URI.isUri(_)?(0,L.equalsIgnoreCase)(_.scheme,g):(0,L.startsWithIgnoreCase)(_,g+":")}e.matchesScheme=D;function S(_,...g){return g.some(C=>D(_,C))}e.matchesSomeScheme=S;function f(_){let g;const C=/^L?(\d+)(?:,(\d+))?(-L?(\d+)(?:,(\d+))?)?/.exec(_.fragment);return C&&(g={startLineNumber:parseInt(C[1]),startColumn:C[2]?parseInt(C[2]):1,endLineNumber:C[4]?parseInt(C[4]):void 0,endColumn:C[4]?C[5]?parseInt(C[5]):1:void 0},_=_.with({fragment:""})),{selection:g,uri:_}}e.extractSelection=f}),define(ne[768],se([1,0,7,19,64,65,221,54,45,22,33,27,743,56]),function(Q,e,L,k,y,D,S,f,_,g,C,s,i,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.OpenerService=void 0;let t=class{constructor(r){this._commandService=r}open(r,c){return we(this,void 0,void 0,function*(){if(!(0,n.matchesScheme)(r,f.Schemas.command))return!1;if(!c?.allowCommands||(typeof r=="string"&&(r=g.URI.parse(r)),Array.isArray(c.allowCommands)&&!c.allowCommands.includes(r.path)))return!0;let o=[];try{o=(0,S.parse)(decodeURIComponent(r.query))}catch{try{o=(0,S.parse)(r.query)}catch{}}return Array.isArray(o)||(o=[o]),yield this._commandService.executeCommand(r.path,...o),!0})}};t=ke([fe(0,s.ICommandService)],t);let a=class{constructor(r){this._editorService=r}open(r,c){return we(this,void 0,void 0,function*(){typeof r=="string"&&(r=g.URI.parse(r));const{selection:o,uri:d}=(0,n.extractSelection)(r);return r=d,r.scheme===f.Schemas.file&&(r=(0,_.normalizePath)(r)),yield this._editorService.openCodeEditor({resource:r,options:Object.assign({selection:o,source:c?.fromUserGesture?i.EditorOpenSource.USER:i.EditorOpenSource.API},c?.editorOptions)},this._editorService.getFocusedCodeEditor(),c?.openToSide),!0})}};a=ke([fe(0,C.ICodeEditorService)],a);let u=class{constructor(r,c){this._openers=new y.LinkedList,this._validators=new y.LinkedList,this._resolvers=new y.LinkedList,this._resolvedUriTargets=new D.ResourceMap(o=>o.with({path:null,fragment:null,query:null}).toString()),this._externalOpeners=new y.LinkedList,this._defaultExternalOpener={openExternal:o=>we(this,void 0,void 0,function*(){return(0,n.matchesSomeScheme)(o,f.Schemas.http,f.Schemas.https)?L.windowOpenNoOpener(o):window.location.href=o,!0})},this._openers.push({open:(o,d)=>we(this,void 0,void 0,function*(){return d?.openExternal||(0,n.matchesSomeScheme)(o,f.Schemas.mailto,f.Schemas.http,f.Schemas.https,f.Schemas.vsls)?(yield this._doOpenExternal(o,d),!0):!1})}),this._openers.push(new t(c)),this._openers.push(new a(r))}registerOpener(r){return{dispose:this._openers.unshift(r)}}open(r,c){var o;return we(this,void 0,void 0,function*(){const d=typeof r=="string"?g.URI.parse(r):r,l=(o=this._resolvedUriTargets.get(d))!==null&&o!==void 0?o:r;for(const p of this._validators)if(!(yield p.shouldOpen(l,c)))return!1;for(const p of this._openers)if(yield p.open(r,c))return!0;return!1})}resolveExternalUri(r,c){return we(this,void 0,void 0,function*(){for(const o of this._resolvers)try{const d=yield o.resolveExternalUri(r,c);if(d)return this._resolvedUriTargets.has(d.resolved)||this._resolvedUriTargets.set(d.resolved,r),d}catch{}throw new Error("Could not resolve external URI: "+r.toString())})}_doOpenExternal(r,c){return we(this,void 0,void 0,function*(){const o=typeof r=="string"?g.URI.parse(r):r;let d;try{d=(yield this.resolveExternalUri(o,c)).resolved}catch{d=o}let l;if(typeof r=="string"&&o.toString()===d.toString()?l=r:l=encodeURI(d.toString(!0)),c?.allowContributedOpeners){const p=typeof c?.allowContributedOpeners=="string"?c?.allowContributedOpeners:void 0;for(const m of this._externalOpeners)if(yield m.openExternal(l,{sourceUri:o,preferredOpenerId:p},k.CancellationToken.None))return!0}return this._defaultExternalOpener.openExternal(l,{sourceUri:o},k.CancellationToken.None)})}dispose(){this._validators.clear()}};e.OpenerService=u,e.OpenerService=u=ke([fe(0,C.ICodeEditorService),fe(1,s.ICommandService)],u)}),define(ne[76],se([1,0,143,65,141,239,50,8,70,56]),function(Q,e,L,k,y,D,S,f,_,g){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.LanguageFeatureDebounceService=e.ILanguageFeatureDebounceService=void 0,e.ILanguageFeatureDebounceService=(0,f.createDecorator)("ILanguageFeatureDebounceService");var C;(function(t){const a=new WeakMap;let u=0;function h(r){let c=a.get(r);return c===void 0&&(c=++u,a.set(r,c)),c}t.of=h})(C||(C={}));class s{constructor(a){this._default=a}get(a){return this._default}update(a,u){return this._default}default(){return this._default}}class i{constructor(a,u,h,r,c,o){this._logService=a,this._name=u,this._registry=h,this._default=r,this._min=c,this._max=o,this._cache=new k.LRUCache(50,.7)}_key(a){return a.id+this._registry.all(a).reduce((u,h)=>(0,L.doHash)(C.of(h),u),0)}get(a){const u=this._key(a),h=this._cache.get(u);return h?(0,y.clamp)(h.value,this._min,this._max):this.default()}update(a,u){const h=this._key(a);let r=this._cache.get(h);r||(r=new y.SlidingWindowAverage(6),this._cache.set(h,r));const c=(0,y.clamp)(r.update(u),this._min,this._max);return(0,g.matchesScheme)(a.uri,"output")||this._logService.trace(`[DEBOUNCE: ${this._name}] for ${a.uri.toString()} is ${c}ms`),c}_overall(){const a=new y.MovingAverage;for(const[,u]of this._cache)a.update(u.value);return a.value}default(){const a=this._overall()|0||this._default;return(0,y.clamp)(a,this._min,this._max)}}let n=class{constructor(a,u){this._logService=a,this._data=new Map,this._isDev=u.isExtensionDevelopment||!u.isBuilt}for(a,u,h){var r,c,o;const d=(r=h?.min)!==null&&r!==void 0?r:50,l=(c=h?.max)!==null&&c!==void 0?c:Math.pow(d,2),p=(o=h?.key)!==null&&o!==void 0?o:void 0,m=`${C.of(a)},${d}${p?","+p:""}`;let v=this._data.get(m);return v||(this._isDev?v=new i(this._logService,u,a,this._overallAverage()|0||d*1.5,d,l):(this._logService.debug(`[DEBOUNCE: ${u}] is disabled in developed mode`),v=new s(d*1.5)),this._data.set(m,v)),v}_overallAverage(){const a=new y.MovingAverage;for(const u of this._data.values())a.update(u.default());return a.value}};e.LanguageFeatureDebounceService=n,e.LanguageFeatureDebounceService=n=ke([fe(0,_.ILogService),fe(1,D.IEnvironmentService)],n),(0,S.registerSingleton)(e.ILanguageFeatureDebounceService,n,1)}),define(ne[188],se([1,0,14,19,9,46,65,12,5,76,8,50,51,2,18]),function(Q,e,L,k,y,D,S,f,_,g,C,s,i,n,t){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.OutlineModelService=e.IOutlineModelService=e.OutlineModel=e.OutlineGroup=e.OutlineElement=e.TreeElement=void 0;class a{remove(){var d;(d=this.parent)===null||d===void 0||d.children.delete(this.id)}static findId(d,l){let p;typeof d=="string"?p=`${l.id}/${d}`:(p=`${l.id}/${d.name}`,l.children.get(p)!==void 0&&(p=`${l.id}/${d.name}_${d.range.startLineNumber}_${d.range.startColumn}`));let m=p;for(let v=0;l.children.get(m)!==void 0;v++)m=`${p}_${v}`;return m}static empty(d){return d.children.size===0}}e.TreeElement=a;class u extends a{constructor(d,l,p){super(),this.id=d,this.parent=l,this.symbol=p,this.children=new Map}}e.OutlineElement=u;class h extends a{constructor(d,l,p,m){super(),this.id=d,this.parent=l,this.label=p,this.order=m,this.children=new Map}}e.OutlineGroup=h;class r extends a{static create(d,l,p){const m=new k.CancellationTokenSource(p),v=new r(l.uri),b=d.ordered(l),w=b.map((I,M)=>{var P;const x=a.findId(`provider_${M}`,v),T=new h(x,v,(P=I.displayName)!==null&&P!==void 0?P:"Unknown Outline Provider",M);return Promise.resolve(I.provideDocumentSymbols(l,m.token)).then(A=>{for(const N of A||[])r._makeOutlineElement(N,T);return T},A=>((0,y.onUnexpectedExternalError)(A),T)).then(A=>{a.empty(A)?A.remove():v._groups.set(x,A)})}),E=d.onDidChange(()=>{const I=d.ordered(l);(0,L.equals)(I,b)||m.cancel()});return Promise.all(w).then(()=>m.token.isCancellationRequested&&!p.isCancellationRequested?r.create(d,l,p):v._compact()).finally(()=>{E.dispose()})}static _makeOutlineElement(d,l){const p=a.findId(d,l),m=new u(p,l,d);if(d.children)for(const v of d.children)r._makeOutlineElement(v,m);l.children.set(m.id,m)}constructor(d){super(),this.uri=d,this.id="root",this.parent=void 0,this._groups=new Map,this.children=new Map,this.id="root",this.parent=void 0}_compact(){let d=0;for(const[l,p]of this._groups)p.children.size===0?this._groups.delete(l):d+=1;if(d!==1)this.children=this._groups;else{const l=D.Iterable.first(this._groups.values());for(const[,p]of l.children)p.parent=this,this.children.set(p.id,p)}return this}getTopLevelSymbols(){const d=[];for(const l of this.children.values())l instanceof u?d.push(l.symbol):d.push(...D.Iterable.map(l.children.values(),p=>p.symbol));return d.sort((l,p)=>_.Range.compareRangesUsingStarts(l.range,p.range))}asListOfDocumentSymbols(){const d=this.getTopLevelSymbols(),l=[];return r._flattenDocumentSymbols(l,d,""),l.sort((p,m)=>f.Position.compare(_.Range.getStartPosition(p.range),_.Range.getStartPosition(m.range))||f.Position.compare(_.Range.getEndPosition(m.range),_.Range.getEndPosition(p.range)))}static _flattenDocumentSymbols(d,l,p){for(const m of l)d.push({kind:m.kind,tags:m.tags,name:m.name,detail:m.detail,containerName:m.containerName||p,range:m.range,selectionRange:m.selectionRange,children:void 0}),m.children&&r._flattenDocumentSymbols(d,m.children,m.name)}}e.OutlineModel=r,e.IOutlineModelService=(0,C.createDecorator)("IOutlineModelService");let c=class{constructor(d,l,p){this._languageFeaturesService=d,this._disposables=new n.DisposableStore,this._cache=new S.LRUCache(10,.7),this._debounceInformation=l.for(d.documentSymbolProvider,"DocumentSymbols",{min:350}),this._disposables.add(p.onModelRemoved(m=>{this._cache.delete(m.id)}))}dispose(){this._disposables.dispose()}getOrCreate(d,l){return we(this,void 0,void 0,function*(){const p=this._languageFeaturesService.documentSymbolProvider,m=p.ordered(d);let v=this._cache.get(d.id);if(!v||v.versionId!==d.getVersionId()||!(0,L.equals)(v.provider,m)){const w=new k.CancellationTokenSource;v={versionId:d.getVersionId(),provider:m,promiseCnt:0,source:w,promise:r.create(p,d,w.token),model:void 0},this._cache.set(d.id,v);const E=Date.now();v.promise.then(I=>{v.model=I,this._debounceInformation.update(d,Date.now()-E)}).catch(I=>{this._cache.delete(d.id)})}if(v.model)return v.model;v.promiseCnt+=1;const b=l.onCancellationRequested(()=>{--v.promiseCnt===0&&(v.source.cancel(),this._cache.delete(d.id))});try{return yield v.promise}finally{b.dispose()}})}};e.OutlineModelService=c,e.OutlineModelService=c=ke([fe(0,t.ILanguageFeaturesService),fe(1,g.ILanguageFeatureDebounceService),fe(2,i.IModelService)],c),(0,s.registerSingleton)(e.IOutlineModelService,c,1)}),define(ne[769],se([1,0,19,20,22,69,188,27]),function(Q,e,L,k,y,D,S,f){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),f.CommandsRegistry.registerCommand("_executeDocumentSymbolProvider",function(_,...g){return we(this,void 0,void 0,function*(){const[C]=g;(0,k.assertType)(y.URI.isUri(C));const s=_.get(S.IOutlineModelService),n=yield _.get(D.ITextModelService).createModelReference(C);try{return(yield s.getOrCreate(n.object.textEditorModel,L.CancellationToken.None)).getTopLevelSymbols()}finally{n.dispose()}})})}),define(ne[770],se([1,0,7,81,44,61,6,2,56,473]),function(Q,e,L,k,y,D,S,f,_){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.Link=void 0;let g=class extends f.Disposable{get enabled(){return this._enabled}set enabled(s){s?(this.el.setAttribute("aria-disabled","false"),this.el.tabIndex=0,this.el.style.pointerEvents="auto",this.el.style.opacity="1",this.el.style.cursor="pointer",this._enabled=!1):(this.el.setAttribute("aria-disabled","true"),this.el.tabIndex=-1,this.el.style.pointerEvents="none",this.el.style.opacity="0.4",this.el.style.cursor="default",this._enabled=!0),this._enabled=s}constructor(s,i,n={},t){var a;super(),this._link=i,this._enabled=!0,this.el=(0,L.append)(s,(0,L.$)("a.monaco-link",{tabIndex:(a=i.tabIndex)!==null&&a!==void 0?a:0,href:i.href,title:i.title},i.label)),this.el.setAttribute("role","button");const u=this._register(new k.DomEmitter(this.el,"click")),h=this._register(new k.DomEmitter(this.el,"keypress")),r=S.Event.chain(h.event).map(d=>new y.StandardKeyboardEvent(d)).filter(d=>d.keyCode===3).event,c=this._register(new k.DomEmitter(this.el,D.EventType.Tap)).event;this._register(D.Gesture.addTarget(this.el));const o=S.Event.any(u.event,r,c);this._register(o(d=>{this.enabled&&(L.EventHelper.stop(d,!0),n?.opener?n.opener(this._link.href):t.open(this._link.href,{allowCommands:!0}))})),this.enabled=!0}};e.Link=g,e.Link=g=ke([fe(3,_.IOpenerService)],g)}),define(ne[77],se([1,0,8]),function(Q,e,L){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.IEditorProgressService=e.Progress=e.emptyProgressRunner=e.IProgressService=void 0,e.IProgressService=(0,L.createDecorator)("progressService"),e.emptyProgressRunner=Object.freeze({total(){},worked(){},done(){}});class k{constructor(D,S){this.callback=D,this.report=S?.async?this._reportAsync.bind(this):this._reportSync.bind(this)}_reportSync(D){this._value=D,this.callback(this._value)}_reportAsync(D){Promise.resolve(this._lastTask).finally(()=>{this._value=D;const S=this.callback(this._value);this._lastTask=Promise.resolve(S).finally(()=>this._lastTask=void 0)})}}e.Progress=k,k.None=Object.freeze({report(){}}),e.IEditorProgressService=(0,L.createDecorator)("editorProgressService")}),define(ne[771],se([1,0,13,19,2,20]),function(Q,e,L,k,y,D){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.PickerQuickAccessProvider=e.TriggerAction=void 0;var S;(function(C){C[C.NO_ACTION=0]="NO_ACTION",C[C.CLOSE_PICKER=1]="CLOSE_PICKER",C[C.REFRESH_PICKER=2]="REFRESH_PICKER",C[C.REMOVE_ITEM=3]="REMOVE_ITEM"})(S||(e.TriggerAction=S={}));function f(C){const s=C;return Array.isArray(s.items)}function _(C){const s=C;return!!s.picks&&s.additionalPicks instanceof Promise}class g extends y.Disposable{constructor(s,i){super(),this.prefix=s,this.options=i}provide(s,i,n){var t;const a=new y.DisposableStore;s.canAcceptInBackground=!!(!((t=this.options)===null||t===void 0)&&t.canAcceptInBackground),s.matchOnLabel=s.matchOnDescription=s.matchOnDetail=s.sortByLabel=!1;let u;const h=a.add(new y.MutableDisposable),r=()=>we(this,void 0,void 0,function*(){const c=h.value=new y.DisposableStore;u?.dispose(!0),s.busy=!1,u=new k.CancellationTokenSource(i);const o=u.token,d=s.value.substr(this.prefix.length).trim(),l=this._getPicks(d,c,o,n),p=(v,b)=>{var w;let E,I;if(f(v)?(E=v.items,I=v.active):E=v,E.length===0){if(b)return!1;(d.length>0||s.hideInput)&&(!((w=this.options)===null||w===void 0)&&w.noResultsPick)&&((0,D.isFunction)(this.options.noResultsPick)?E=[this.options.noResultsPick(d)]:E=[this.options.noResultsPick])}return s.items=E,I&&(s.activeItems=[I]),!0},m=v=>we(this,void 0,void 0,function*(){let b=!1,w=!1;yield Promise.all([(()=>we(this,void 0,void 0,function*(){typeof v.mergeDelay=="number"&&(yield(0,L.timeout)(v.mergeDelay),o.isCancellationRequested)||w||(b=p(v.picks,!0))}))(),(()=>we(this,void 0,void 0,function*(){s.busy=!0;try{const E=yield v.additionalPicks;if(o.isCancellationRequested)return;let I,M;f(v.picks)?(I=v.picks.items,M=v.picks.active):I=v.picks;let P,x;if(f(E)?(P=E.items,x=E.active):P=E,P.length>0||!b){let T;if(!M&&!x){const A=s.activeItems[0];A&&I.indexOf(A)!==-1&&(T=A)}p({items:[...I,...P],active:M||x||T})}}finally{o.isCancellationRequested||(s.busy=!1),w=!0}}))()])});if(l!==null)if(_(l))yield m(l);else if(!(l instanceof Promise))p(l);else{s.busy=!0;try{const v=yield l;if(o.isCancellationRequested)return;_(v)?yield m(v):p(v)}finally{o.isCancellationRequested||(s.busy=!1)}}});return a.add(s.onDidChangeValue(()=>r())),r(),a.add(s.onDidAccept(c=>{const[o]=s.selectedItems;typeof o?.accept=="function"&&(c.inBackground||s.hide(),o.accept(s.keyMods,c))})),a.add(s.onDidTriggerItemButton(({button:c,item:o})=>we(this,void 0,void 0,function*(){var d,l;if(typeof o.trigger=="function"){const p=(l=(d=o.buttons)===null||d===void 0?void 0:d.indexOf(c))!==null&&l!==void 0?l:-1;if(p>=0){const m=o.trigger(p,s.keyMods),v=typeof m=="number"?m:yield m;if(i.isCancellationRequested)return;switch(v){case S.NO_ACTION:break;case S.CLOSE_PICKER:s.hide();break;case S.REFRESH_PICKER:r();break;case S.REMOVE_ITEM:{const b=s.items.indexOf(o);if(b!==-1){const w=s.items.slice(),E=w.splice(b,1),I=s.activeItems.filter(P=>P!==E[0]),M=s.keepScrollPosition;s.keepScrollPosition=!0,s.items=w,I&&(s.activeItems=I),s.keepScrollPosition=M}break}}}}}))),a}}e.PickerQuickAccessProvider=g}),define(ne[772],se([1,0,7,44,60,228,2,101,174]),function(Q,e,L,k,y,D,S,f){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.QuickInputBox=void 0;const _=L.$;class g extends S.Disposable{constructor(s,i,n){super(),this.parent=s,this.onKeyDown=a=>L.addDisposableListener(this.findInput.inputBox.inputElement,L.EventType.KEY_DOWN,u=>{a(new k.StandardKeyboardEvent(u))}),this.onMouseDown=a=>L.addDisposableListener(this.findInput.inputBox.inputElement,L.EventType.MOUSE_DOWN,u=>{a(new y.StandardMouseEvent(u))}),this.onDidChange=a=>this.findInput.onDidChange(a),this.container=L.append(this.parent,_(".quick-input-box")),this.findInput=this._register(new D.FindInput(this.container,void 0,{label:"",inputBoxStyles:i,toggleStyles:n}));const t=this.findInput.inputBox.inputElement;t.role="combobox",t.ariaHasPopup="menu",t.ariaAutoComplete="list",t.ariaExpanded="true"}get value(){return this.findInput.getValue()}set value(s){this.findInput.setValue(s)}select(s=null){this.findInput.inputBox.select(s)}isSelectionAtEnd(){return this.findInput.inputBox.isSelectionAtEnd()}get placeholder(){return this.findInput.inputBox.inputElement.getAttribute("placeholder")||""}set placeholder(s){this.findInput.inputBox.setPlaceHolder(s)}get password(){return this.findInput.inputBox.inputElement.type==="password"}set password(s){this.findInput.inputBox.inputElement.type=s?"password":"text"}set enabled(s){this.findInput.inputBox.inputElement.toggleAttribute("readonly",!s)}set toggles(s){this.findInput.setAdditionalToggles(s)}setAttribute(s,i){this.findInput.inputBox.inputElement.setAttribute(s,i)}showDecoration(s){s===f.default.Ignore?this.findInput.clearMessage():this.findInput.showMessage({type:s===f.default.Info?1:s===f.default.Warning?2:3,content:""})}stylesForType(s){return this.findInput.inputBox.stylesForType(s===f.default.Info?1:s===f.default.Warning?2:3)}setFocus(){this.findInput.focus()}layout(){this.findInput.inputBox.layout()}}e.QuickInputBox=g}),define(ne[339],se([1,0,7,81,6,44,61,129,164,385,735,174]),function(Q,e,L,k,y,D,S,f,_,g,C){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.renderQuickInputDescription=e.getIconClass=void 0;const s={},i=new _.IdGenerator("quick-input-button-icon-");function n(a){if(!a)return;let u;const h=a.dark.toString();return s[h]?u=s[h]:(u=i.nextId(),L.createCSSRule(`.${u}, .hc-light .${u}`,`background-image: ${L.asCSSUrl(a.light||a.dark)}`),L.createCSSRule(`.vs-dark .${u}, .hc-black .${u}`,`background-image: ${L.asCSSUrl(a.dark)}`),s[h]=u),u}e.getIconClass=n;function t(a,u,h){L.reset(u);const r=(0,g.parseLinkedText)(a);let c=0;for(const o of r.nodes)if(typeof o=="string")u.append(...(0,f.renderLabelWithIcons)(o));else{let d=o.title;!d&&o.href.startsWith("command:")?d=(0,C.localize)(0,null,o.href.substring(8)):d||(d=o.href);const l=L.$("a",{href:o.href,title:d,tabIndex:c++},o.label);l.style.textDecoration="underline";const p=E=>{L.isEventLike(E)&&L.EventHelper.stop(E,!0),h.callback(o.href)},m=h.disposables.add(new k.DomEmitter(l,L.EventType.CLICK)).event,v=h.disposables.add(new k.DomEmitter(l,L.EventType.KEY_DOWN)).event,b=h.disposables.add(y.Event.chain(v)).filter(E=>{const I=new D.StandardKeyboardEvent(E);return I.equals(10)||I.equals(3)}).event;h.disposables.add(S.Gesture.addTarget(l));const w=h.disposables.add(new k.DomEmitter(l,S.EventType.Tap)).event;y.Event.any(m,w,b)(p,null,h.disposables),u.appendChild(l)}}e.renderQuickInputDescription=t}),define(ne[71],se([1,0,8]),function(Q,e,L){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.IQuickInputService=e.quickPickItemScorerAccessor=e.QuickPickItemScorerAccessor=e.ItemActivation=e.QuickInputHideReason=e.NO_KEY_MODS=void 0,e.NO_KEY_MODS={ctrlCmd:!1,alt:!1};var k;(function(S){S[S.Blur=1]="Blur",S[S.Gesture=2]="Gesture",S[S.Other=3]="Other"})(k||(e.QuickInputHideReason=k={}));var y;(function(S){S[S.NONE=0]="NONE",S[S.FIRST=1]="FIRST",S[S.SECOND=2]="SECOND",S[S.LAST=3]="LAST"})(y||(e.ItemActivation=y={}));class D{constructor(f){this.options=f}}e.QuickPickItemScorerAccessor=D,e.quickPickItemScorerAccessor=new D,e.IQuickInputService=(0,L.createDecorator)("quickInputService")}),define(ne[37],se([1,0,85,20]),function(Q,e,L,k){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.Registry=void 0;class y{constructor(){this.data=new Map}add(S,f){L.ok(k.isString(S)),L.ok(k.isObject(f)),L.ok(!this.data.has(S),"There is already an extension with this id"),this.data.set(S,f)}as(S){return this.data.get(S)||null}}e.Registry=new y}),define(ne[340],se([1,0,37]),function(Q,e,L){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.LocalSelectionTransfer=e.Extensions=e.CodeDataTransfers=void 0,e.CodeDataTransfers={EDITORS:"CodeEditors",FILES:"CodeFiles"};class k{}e.Extensions={DragAndDropContribution:"workbench.contributions.dragAndDrop"},L.Registry.add(e.Extensions.DragAndDropContribution,new k);class y{constructor(){}static getInstance(){return y.INSTANCE}hasData(S){return S&&S===this.proto}getData(S){if(this.hasData(S))return this.data}}e.LocalSelectionTransfer=y,y.INSTANCE=new y}),define(ne[341],se([1,0,197,171,107,22,340]),function(Q,e,L,k,y,D,S){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.toExternalVSDataTransfer=e.toVSDataTransfer=void 0;function f(s){const i=new k.VSDataTransfer;for(const n of s.items){const t=n.type;if(n.kind==="string"){const a=new Promise(u=>n.getAsString(u));i.append(t,(0,k.createStringDataTransferItem)(a))}else if(n.kind==="file"){const a=n.getAsFile();a&&i.append(t,_(a))}}return i}e.toVSDataTransfer=f;function _(s){const i=s.path?D.URI.parse(s.path):void 0;return(0,k.createFileDataTransferItem)(s.name,i,()=>we(this,void 0,void 0,function*(){return new Uint8Array(yield s.arrayBuffer())}))}const g=Object.freeze([S.CodeDataTransfers.EDITORS,S.CodeDataTransfers.FILES,L.DataTransfers.RESOURCES,L.DataTransfers.INTERNAL_URI_LIST]);function C(s,i=!1){const n=f(s),t=n.get(L.DataTransfers.INTERNAL_URI_LIST);if(t)n.replace(y.Mimes.uriList,t);else if(i||!n.has(y.Mimes.uriList)){const a=[];for(const u of s.items){const h=u.getAsFile();if(h){const r=h.path;try{r?a.push(D.URI.file(r).toString()):a.push(D.URI.parse(h.name,!0).toString())}catch{}}}a.length&&n.replace(y.Mimes.uriList,(0,k.createStringDataTransferItem)(k.UriList.create(a)))}for(const a of g)n.delete(a);return n}e.toExternalVSDataTransfer=C}),define(ne[240],se([1,0,6,37]),function(Q,e,L,k){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.Extensions=void 0,e.Extensions={JSONContribution:"base.contributions.json"};function y(f){return f.length>0&&f.charAt(f.length-1)==="#"?f.substring(0,f.length-1):f}class D{constructor(){this._onDidChangeSchema=new L.Emitter,this.schemasById={}}registerSchema(_,g){this.schemasById[y(_)]=g,this._onDidChangeSchema.fire(_)}notifySchemaChanged(_){this._onDidChangeSchema.fire(_)}}const S=new D;k.Registry.add(e.Extensions.JSONContribution,S)}),define(ne[98],se([1,0,14,6,20,721,28,240,37]),function(Q,e,L,k,y,D,S,f,_){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.validateProperty=e.getDefaultValue=e.overrideIdentifiersFromKey=e.OVERRIDE_PROPERTY_REGEX=e.OVERRIDE_PROPERTY_PATTERN=e.resourceLanguageSettingsSchemaId=e.resourceSettings=e.windowSettings=e.machineOverridableSettings=e.machineSettings=e.applicationSettings=e.allSettings=e.Extensions=void 0,e.Extensions={Configuration:"base.contributions.configuration"},e.allSettings={properties:{},patternProperties:{}},e.applicationSettings={properties:{},patternProperties:{}},e.machineSettings={properties:{},patternProperties:{}},e.machineOverridableSettings={properties:{},patternProperties:{}},e.windowSettings={properties:{},patternProperties:{}},e.resourceSettings={properties:{},patternProperties:{}},e.resourceLanguageSettingsSchemaId="vscode://schemas/settings/resourceLanguage";const g=_.Registry.as(f.Extensions.JSONContribution);class C{constructor(){this.overrideIdentifiers=new Set,this._onDidSchemaChange=new k.Emitter,this._onDidUpdateConfiguration=new k.Emitter,this.configurationDefaultsOverrides=new Map,this.defaultLanguageConfigurationOverridesNode={id:"defaultOverrides",title:D.localize(0,null),properties:{}},this.configurationContributors=[this.defaultLanguageConfigurationOverridesNode],this.resourceLanguageSettingsSchema={properties:{},patternProperties:{},additionalProperties:!0,allowTrailingCommas:!0,allowComments:!0},this.configurationProperties={},this.policyConfigurations=new Map,this.excludedConfigurationProperties={},g.registerSchema(e.resourceLanguageSettingsSchemaId,this.resourceLanguageSettingsSchema),this.registerOverridePropertyPatternKey()}registerConfiguration(r,c=!0){this.registerConfigurations([r],c)}registerConfigurations(r,c=!0){const o=new Set;this.doRegisterConfigurations(r,c,o),g.registerSchema(e.resourceLanguageSettingsSchemaId,this.resourceLanguageSettingsSchema),this._onDidSchemaChange.fire(),this._onDidUpdateConfiguration.fire({properties:o})}registerDefaultConfigurations(r){const c=new Set;this.doRegisterDefaultConfigurations(r,c),this._onDidSchemaChange.fire(),this._onDidUpdateConfiguration.fire({properties:c,defaultsOverrides:!0})}doRegisterDefaultConfigurations(r,c){var o;const d=[];for(const{overrides:l,source:p}of r)for(const m in l)if(c.add(m),e.OVERRIDE_PROPERTY_REGEX.test(m)){const v=this.configurationDefaultsOverrides.get(m),b=(o=v?.valuesSources)!==null&&o!==void 0?o:new Map;if(p)for(const M of Object.keys(l[m]))b.set(M,p);const w=Object.assign(Object.assign({},v?.value||{}),l[m]);this.configurationDefaultsOverrides.set(m,{source:p,value:w,valuesSources:b});const E=(0,S.getLanguageTagSettingPlainKey)(m),I={type:"object",default:w,description:D.localize(1,null,E),$ref:e.resourceLanguageSettingsSchemaId,defaultDefaultValue:w,source:y.isString(p)?void 0:p,defaultValueSource:p};d.push(...n(m)),this.configurationProperties[m]=I,this.defaultLanguageConfigurationOverridesNode.properties[m]=I}else{this.configurationDefaultsOverrides.set(m,{value:l[m],source:p});const v=this.configurationProperties[m];v&&(this.updatePropertyDefaultValue(m,v),this.updateSchema(m,v))}this.doRegisterOverrideIdentifiers(d)}registerOverrideIdentifiers(r){this.doRegisterOverrideIdentifiers(r),this._onDidSchemaChange.fire()}doRegisterOverrideIdentifiers(r){for(const c of r)this.overrideIdentifiers.add(c);this.updateOverridePropertyPatternKey()}doRegisterConfigurations(r,c,o){r.forEach(d=>{this.validateAndRegisterProperties(d,c,d.extensionInfo,d.restrictedProperties,void 0,o),this.configurationContributors.push(d),this.registerJSONConfiguration(d)})}validateAndRegisterProperties(r,c=!0,o,d,l=3,p){var m;l=y.isUndefinedOrNull(r.scope)?l:r.scope;const v=r.properties;if(v)for(const w in v){const E=v[w];if(c&&u(w,E)){delete v[w];continue}if(E.source=o,E.defaultDefaultValue=v[w].default,this.updatePropertyDefaultValue(w,E),e.OVERRIDE_PROPERTY_REGEX.test(w)?E.scope=void 0:(E.scope=y.isUndefinedOrNull(E.scope)?l:E.scope,E.restricted=y.isUndefinedOrNull(E.restricted)?!!d?.includes(w):E.restricted),v[w].hasOwnProperty("included")&&!v[w].included){this.excludedConfigurationProperties[w]=v[w],delete v[w];continue}else this.configurationProperties[w]=v[w],!((m=v[w].policy)===null||m===void 0)&&m.name&&this.policyConfigurations.set(v[w].policy.name,w);!v[w].deprecationMessage&&v[w].markdownDeprecationMessage&&(v[w].deprecationMessage=v[w].markdownDeprecationMessage),p.add(w)}const b=r.allOf;if(b)for(const w of b)this.validateAndRegisterProperties(w,c,o,d,l,p)}getConfigurationProperties(){return this.configurationProperties}getPolicyConfigurations(){return this.policyConfigurations}registerJSONConfiguration(r){const c=o=>{const d=o.properties;if(d)for(const p in d)this.updateSchema(p,d[p]);const l=o.allOf;l?.forEach(c)};c(r)}updateSchema(r,c){switch(e.allSettings.properties[r]=c,c.scope){case 1:e.applicationSettings.properties[r]=c;break;case 2:e.machineSettings.properties[r]=c;break;case 6:e.machineOverridableSettings.properties[r]=c;break;case 3:e.windowSettings.properties[r]=c;break;case 4:e.resourceSettings.properties[r]=c;break;case 5:e.resourceSettings.properties[r]=c,this.resourceLanguageSettingsSchema.properties[r]=c;break}}updateOverridePropertyPatternKey(){for(const r of this.overrideIdentifiers.values()){const c=`[${r}]`,o={type:"object",description:D.localize(2,null),errorMessage:D.localize(3,null),$ref:e.resourceLanguageSettingsSchemaId};this.updatePropertyDefaultValue(c,o),e.allSettings.properties[c]=o,e.applicationSettings.properties[c]=o,e.machineSettings.properties[c]=o,e.machineOverridableSettings.properties[c]=o,e.windowSettings.properties[c]=o,e.resourceSettings.properties[c]=o}}registerOverridePropertyPatternKey(){const r={type:"object",description:D.localize(4,null),errorMessage:D.localize(5,null),$ref:e.resourceLanguageSettingsSchemaId};e.allSettings.patternProperties[e.OVERRIDE_PROPERTY_PATTERN]=r,e.applicationSettings.patternProperties[e.OVERRIDE_PROPERTY_PATTERN]=r,e.machineSettings.patternProperties[e.OVERRIDE_PROPERTY_PATTERN]=r,e.machineOverridableSettings.patternProperties[e.OVERRIDE_PROPERTY_PATTERN]=r,e.windowSettings.patternProperties[e.OVERRIDE_PROPERTY_PATTERN]=r,e.resourceSettings.patternProperties[e.OVERRIDE_PROPERTY_PATTERN]=r,this._onDidSchemaChange.fire()}updatePropertyDefaultValue(r,c){const o=this.configurationDefaultsOverrides.get(r);let d=o?.value,l=o?.source;y.isUndefined(d)&&(d=c.defaultDefaultValue,l=void 0),y.isUndefined(d)&&(d=t(c.type)),c.default=d,c.defaultValueSource=l}}const s="\\[([^\\]]+)\\]",i=new RegExp(s,"g");e.OVERRIDE_PROPERTY_PATTERN=`^(${s})+$`,e.OVERRIDE_PROPERTY_REGEX=new RegExp(e.OVERRIDE_PROPERTY_PATTERN);function n(h){const r=[];if(e.OVERRIDE_PROPERTY_REGEX.test(h)){let c=i.exec(h);for(;c?.length;){const o=c[1].trim();o&&r.push(o),c=i.exec(h)}}return(0,L.distinct)(r)}e.overrideIdentifiersFromKey=n;function t(h){switch(Array.isArray(h)?h[0]:h){case"boolean":return!1;case"integer":case"number":return 0;case"string":return"";case"array":return[];case"object":return{};default:return null}}e.getDefaultValue=t;const a=new C;_.Registry.add(e.Extensions.Configuration,a);function u(h,r){var c,o,d,l;return h.trim()?e.OVERRIDE_PROPERTY_REGEX.test(h)?D.localize(7,null,h):a.getConfigurationProperties()[h]!==void 0?D.localize(8,null,h):!((c=r.policy)===null||c===void 0)&&c.name&&a.getPolicyConfigurations().get((o=r.policy)===null||o===void 0?void 0:o.name)!==void 0?D.localize(9,null,h,(d=r.policy)===null||d===void 0?void 0:d.name,a.getPolicyConfigurations().get((l=r.policy)===null||l===void 0?void 0:l.name)):null:D.localize(6,null)}e.validateProperty=u}),define(ne[241],se([1,0,271,36,175,618,98,37]),function(Q,e,L,k,y,D,S,f){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.isDiffEditorConfigurationKey=e.isEditorConfigurationKey=e.editorConfigurationBaseNode=void 0,e.editorConfigurationBaseNode=Object.freeze({id:"editor",order:5,type:"object",title:D.localize(0,null),scope:5});const _=Object.assign(Object.assign({},e.editorConfigurationBaseNode),{properties:{"editor.tabSize":{type:"number",default:y.EDITOR_MODEL_DEFAULTS.tabSize,minimum:1,markdownDescription:D.localize(1,null,"`#editor.detectIndentation#`")},"editor.indentSize":{anyOf:[{type:"string",enum:["tabSize"]},{type:"number",minimum:1}],default:"tabSize",markdownDescription:D.localize(2,null)},"editor.insertSpaces":{type:"boolean",default:y.EDITOR_MODEL_DEFAULTS.insertSpaces,markdownDescription:D.localize(3,null,"`#editor.detectIndentation#`")},"editor.detectIndentation":{type:"boolean",default:y.EDITOR_MODEL_DEFAULTS.detectIndentation,markdownDescription:D.localize(4,null,"`#editor.tabSize#`","`#editor.insertSpaces#`")},"editor.trimAutoWhitespace":{type:"boolean",default:y.EDITOR_MODEL_DEFAULTS.trimAutoWhitespace,description:D.localize(5,null)},"editor.largeFileOptimizations":{type:"boolean",default:y.EDITOR_MODEL_DEFAULTS.largeFileOptimizations,description:D.localize(6,null)},"editor.wordBasedSuggestions":{type:"boolean",default:!0,description:D.localize(7,null)},"editor.wordBasedSuggestionsMode":{enum:["currentDocument","matchingDocuments","allDocuments"],default:"matchingDocuments",enumDescriptions:[D.localize(8,null),D.localize(9,null),D.localize(10,null)],description:D.localize(11,null)},"editor.semanticHighlighting.enabled":{enum:[!0,!1,"configuredByTheme"],enumDescriptions:[D.localize(12,null),D.localize(13,null),D.localize(14,null)],default:"configuredByTheme",description:D.localize(15,null)},"editor.stablePeek":{type:"boolean",default:!1,markdownDescription:D.localize(16,null)},"editor.maxTokenizationLineLength":{type:"integer",default:2e4,description:D.localize(17,null)},"editor.experimental.asyncTokenization":{type:"boolean",default:!1,description:D.localize(18,null),tags:["experimental"]},"editor.experimental.asyncTokenizationLogging":{type:"boolean",default:!1,description:D.localize(19,null)},"editor.experimental.asyncTokenizationVerification":{type:"boolean",default:!1,description:D.localize(20,null),tags:["experimental"]},"editor.language.brackets":{type:["array","null"],default:null,description:D.localize(21,null),items:{type:"array",items:[{type:"string",description:D.localize(22,null)},{type:"string",description:D.localize(23,null)}]}},"editor.language.colorizedBracketPairs":{type:["array","null"],default:null,description:D.localize(24,null),items:{type:"array",items:[{type:"string",description:D.localize(25,null)},{type:"string",description:D.localize(26,null)}]}},"diffEditor.maxComputationTime":{type:"number",default:L.diffEditorDefaultOptions.maxComputationTime,description:D.localize(27,null)},"diffEditor.maxFileSize":{type:"number",default:L.diffEditorDefaultOptions.maxFileSize,description:D.localize(28,null)},"diffEditor.renderSideBySide":{type:"boolean",default:L.diffEditorDefaultOptions.renderSideBySide,description:D.localize(29,null)},"diffEditor.renderSideBySideInlineBreakpoint":{type:"number",default:L.diffEditorDefaultOptions.renderSideBySideInlineBreakpoint,description:D.localize(30,null)},"diffEditor.useInlineViewWhenSpaceIsLimited":{type:"boolean",default:L.diffEditorDefaultOptions.useInlineViewWhenSpaceIsLimited,description:D.localize(31,null)},"diffEditor.renderMarginRevertIcon":{type:"boolean",default:L.diffEditorDefaultOptions.renderMarginRevertIcon,description:D.localize(32,null)},"diffEditor.ignoreTrimWhitespace":{type:"boolean",default:L.diffEditorDefaultOptions.ignoreTrimWhitespace,description:D.localize(33,null)},"diffEditor.renderIndicators":{type:"boolean",default:L.diffEditorDefaultOptions.renderIndicators,description:D.localize(34,null)},"diffEditor.codeLens":{type:"boolean",default:L.diffEditorDefaultOptions.diffCodeLens,description:D.localize(35,null)},"diffEditor.wordWrap":{type:"string",enum:["off","on","inherit"],default:L.diffEditorDefaultOptions.diffWordWrap,markdownEnumDescriptions:[D.localize(36,null),D.localize(37,null),D.localize(38,null,"`#editor.wordWrap#`")]},"diffEditor.diffAlgorithm":{type:"string",enum:["legacy","advanced"],default:L.diffEditorDefaultOptions.diffAlgorithm,markdownEnumDescriptions:[D.localize(39,null),D.localize(40,null)],tags:["experimental"]},"diffEditor.hideUnchangedRegions.enabled":{type:"boolean",default:L.diffEditorDefaultOptions.hideUnchangedRegions.enabled,markdownDescription:D.localize(41,null,"`#diffEditor.experimental.useVersion2#`")},"diffEditor.hideUnchangedRegions.revealLineCount":{type:"integer",default:L.diffEditorDefaultOptions.hideUnchangedRegions.revealLineCount,markdownDescription:D.localize(42,null,"`#diffEditor.experimental.useVersion2#`"),minimum:1},"diffEditor.hideUnchangedRegions.minimumLineCount":{type:"integer",default:L.diffEditorDefaultOptions.hideUnchangedRegions.minimumLineCount,markdownDescription:D.localize(43,null,"`#diffEditor.experimental.useVersion2#`"),minimum:1},"diffEditor.hideUnchangedRegions.contextLineCount":{type:"integer",default:L.diffEditorDefaultOptions.hideUnchangedRegions.contextLineCount,markdownDescription:D.localize(44,null,"`#diffEditor.experimental.useVersion2#`"),minimum:1},"diffEditor.experimental.showMoves":{type:"boolean",default:L.diffEditorDefaultOptions.experimental.showMoves,markdownDescription:D.localize(45,null,"`#diffEditor.experimental.useVersion2#`")},"diffEditor.experimental.useVersion2":{type:"boolean",default:!0,description:D.localize(46,null),tags:["experimental"]},"diffEditor.experimental.showEmptyDecorations":{type:"boolean",default:L.diffEditorDefaultOptions.experimental.showEmptyDecorations,description:D.localize(47,null)}}});function g(a){return typeof a.type<"u"||typeof a.anyOf<"u"}for(const a of k.editorOptionsRegistry){const u=a.schema;if(typeof u<"u")if(g(u))_.properties[`editor.${a.name}`]=u;else for(const h in u)Object.hasOwnProperty.call(u,h)&&(_.properties[h]=u[h])}let C=null;function s(){return C===null&&(C=Object.create(null),Object.keys(_.properties).forEach(a=>{C[a]=!0})),C}function i(a){return s()[`editor.${a}`]||!1}e.isEditorConfigurationKey=i;function n(a){return s()[`diffEditor.${a}`]||!1}e.isDiffEditorConfigurationKey=n,f.Registry.as(S.Extensions.Configuration).registerConfiguration(_)}),define(ne[78],se([1,0,628,6,37,107,98]),function(Q,e,L,k,y,D,S){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.PLAINTEXT_EXTENSION=e.PLAINTEXT_LANGUAGE_ID=e.ModesRegistry=e.EditorModesRegistry=e.Extensions=void 0,e.Extensions={ModesRegistry:"editor.modesRegistry"};class f{constructor(){this._onDidChangeLanguages=new k.Emitter,this.onDidChangeLanguages=this._onDidChangeLanguages.event,this._languages=[]}registerLanguage(g){return this._languages.push(g),this._onDidChangeLanguages.fire(void 0),{dispose:()=>{for(let C=0,s=this._languages.length;C<s;C++)if(this._languages[C]===g){this._languages.splice(C,1);return}}}}getLanguages(){return this._languages}}e.EditorModesRegistry=f,e.ModesRegistry=new f,y.Registry.add(e.Extensions.ModesRegistry,e.ModesRegistry),e.PLAINTEXT_LANGUAGE_ID="plaintext",e.PLAINTEXT_EXTENSION=".txt",e.ModesRegistry.registerLanguage({id:e.PLAINTEXT_LANGUAGE_ID,extensions:[e.PLAINTEXT_EXTENSION],aliases:[L.localize(0,null),"text"],mimetypes:[D.Mimes.text]}),y.Registry.as(S.Extensions.Configuration).registerDefaultConfigurations([{overrides:{"[plaintext]":{"editor.unicodeHighlight.ambiguousCharacters":!1,"editor.unicodeHighlight.invisibleCharacters":!1}}}])}),define(ne[32],se([1,0,6,2,11,147,110,125,499,595,500,503,230,8,28,41,50,78,502]),function(Q,e,L,k,y,D,S,f,_,g,C,s,i,n,t,a,u,h,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ResolvedLanguageConfiguration=e.LanguageConfigurationRegistry=e.LanguageConfigurationChangeEvent=e.getScopedLineTokens=e.getIndentationAtPosition=e.LanguageConfigurationService=e.ILanguageConfigurationService=e.LanguageConfigurationServiceChangeEvent=void 0;class c{constructor(A){this.languageId=A}affects(A){return this.languageId?this.languageId===A:!0}}e.LanguageConfigurationServiceChangeEvent=c,e.ILanguageConfigurationService=(0,n.createDecorator)("languageConfigurationService");let o=class extends k.Disposable{constructor(A,N){super(),this.configurationService=A,this.languageService=N,this._registry=this._register(new P),this.onDidChangeEmitter=this._register(new L.Emitter),this.onDidChange=this.onDidChangeEmitter.event,this.configurations=new Map;const F=new Set(Object.values(l));this._register(this.configurationService.onDidChangeConfiguration(O=>{const W=O.change.keys.some(j=>F.has(j)),U=O.change.overrides.filter(([j,R])=>R.some(K=>F.has(K))).map(([j])=>j);if(W)this.configurations.clear(),this.onDidChangeEmitter.fire(new c(void 0));else for(const j of U)this.languageService.isRegisteredLanguageId(j)&&(this.configurations.delete(j),this.onDidChangeEmitter.fire(new c(j)))})),this._register(this._registry.onDidChange(O=>{this.configurations.delete(O.languageId),this.onDidChangeEmitter.fire(new c(O.languageId))}))}register(A,N,F){return this._registry.register(A,N,F)}getLanguageConfiguration(A){let N=this.configurations.get(A);return N||(N=d(A,this._registry,this.configurationService,this.languageService),this.configurations.set(A,N)),N}};e.LanguageConfigurationService=o,e.LanguageConfigurationService=o=ke([fe(0,t.IConfigurationService),fe(1,a.ILanguageService)],o);function d(T,A,N,F){let O=A.getLanguageConfiguration(T);if(!O){if(!F.isRegisteredLanguageId(T))return new x(T,{});O=new x(T,{})}const W=p(O.languageId,N),U=E([O.underlyingConfig,W]);return new x(O.languageId,U)}const l={brackets:"editor.language.brackets",colorizedBracketPairs:"editor.language.colorizedBracketPairs"};function p(T,A){const N=A.getValue(l.brackets,{overrideIdentifier:T}),F=A.getValue(l.colorizedBracketPairs,{overrideIdentifier:T});return{brackets:m(N),colorizedBracketPairs:m(F)}}function m(T){if(Array.isArray(T))return T.map(A=>{if(!(!Array.isArray(A)||A.length!==2))return[A[0],A[1]]}).filter(A=>!!A)}function v(T,A,N){const F=T.getLineContent(A);let O=y.getLeadingWhitespace(F);return O.length>N-1&&(O=O.substring(0,N-1)),O}e.getIndentationAtPosition=v;function b(T,A,N){T.tokenization.forceTokenization(A);const F=T.tokenization.getLineTokens(A),O=typeof N>"u"?T.getLineMaxColumn(A)-1:N-1;return(0,f.createScopedLineTokens)(F,O)}e.getScopedLineTokens=b;class w{constructor(A){this.languageId=A,this._resolved=null,this._entries=[],this._order=0,this._resolved=null}register(A,N){const F=new I(A,N,++this._order);return this._entries.push(F),this._resolved=null,(0,k.toDisposable)(()=>{for(let O=0;O<this._entries.length;O++)if(this._entries[O]===F){this._entries.splice(O,1),this._resolved=null;break}})}getResolvedConfiguration(){if(!this._resolved){const A=this._resolve();A&&(this._resolved=new x(this.languageId,A))}return this._resolved}_resolve(){return this._entries.length===0?null:(this._entries.sort(I.cmp),E(this._entries.map(A=>A.configuration)))}}function E(T){let A={comments:void 0,brackets:void 0,wordPattern:void 0,indentationRules:void 0,onEnterRules:void 0,autoClosingPairs:void 0,surroundingPairs:void 0,autoCloseBefore:void 0,folding:void 0,colorizedBracketPairs:void 0,__electricCharacterSupport:void 0};for(const N of T)A={comments:N.comments||A.comments,brackets:N.brackets||A.brackets,wordPattern:N.wordPattern||A.wordPattern,indentationRules:N.indentationRules||A.indentationRules,onEnterRules:N.onEnterRules||A.onEnterRules,autoClosingPairs:N.autoClosingPairs||A.autoClosingPairs,surroundingPairs:N.surroundingPairs||A.surroundingPairs,autoCloseBefore:N.autoCloseBefore||A.autoCloseBefore,folding:N.folding||A.folding,colorizedBracketPairs:N.colorizedBracketPairs||A.colorizedBracketPairs,__electricCharacterSupport:N.__electricCharacterSupport||A.__electricCharacterSupport};return A}class I{constructor(A,N,F){this.configuration=A,this.priority=N,this.order=F}static cmp(A,N){return A.priority===N.priority?A.order-N.order:A.priority-N.priority}}class M{constructor(A){this.languageId=A}}e.LanguageConfigurationChangeEvent=M;class P extends k.Disposable{constructor(){super(),this._entries=new Map,this._onDidChange=this._register(new L.Emitter),this.onDidChange=this._onDidChange.event,this._register(this.register(h.PLAINTEXT_LANGUAGE_ID,{brackets:[["(",")"],["[","]"],["{","}"]],surroundingPairs:[{open:"{",close:"}"},{open:"[",close:"]"},{open:"(",close:")"},{open:"<",close:">"},{open:'"',close:'"'},{open:"'",close:"'"},{open:"`",close:"`"}],colorizedBracketPairs:[],folding:{offSide:!0}},0))}register(A,N,F=0){let O=this._entries.get(A);O||(O=new w(A),this._entries.set(A,O));const W=O.register(N,F);return this._onDidChange.fire(new M(A)),(0,k.toDisposable)(()=>{W.dispose(),this._onDidChange.fire(new M(A))})}getLanguageConfiguration(A){const N=this._entries.get(A);return N?.getResolvedConfiguration()||null}}e.LanguageConfigurationRegistry=P;class x{constructor(A,N){this.languageId=A,this.underlyingConfig=N,this._brackets=null,this._electricCharacter=null,this._onEnterSupport=this.underlyingConfig.brackets||this.underlyingConfig.indentationRules||this.underlyingConfig.onEnterRules?new s.OnEnterSupport(this.underlyingConfig):null,this.comments=x._handleComments(this.underlyingConfig),this.characterPair=new _.CharacterPairSupport(this.underlyingConfig),this.wordDefinition=this.underlyingConfig.wordPattern||D.DEFAULT_WORD_REGEXP,this.indentationRules=this.underlyingConfig.indentationRules,this.underlyingConfig.indentationRules?this.indentRulesSupport=new C.IndentRulesSupport(this.underlyingConfig.indentationRules):this.indentRulesSupport=null,this.foldingRules=this.underlyingConfig.folding||{},this.bracketsNew=new r.LanguageBracketsConfiguration(A,this.underlyingConfig)}getWordDefinition(){return(0,D.ensureValidWordDefinition)(this.wordDefinition)}get brackets(){return!this._brackets&&this.underlyingConfig.brackets&&(this._brackets=new i.RichEditBrackets(this.languageId,this.underlyingConfig.brackets)),this._brackets}get electricCharacter(){return this._electricCharacter||(this._electricCharacter=new g.BracketElectricCharacterSupport(this.brackets)),this._electricCharacter}onEnter(A,N,F,O){return this._onEnterSupport?this._onEnterSupport.onEnter(A,N,F,O):null}getAutoClosingPairs(){return new S.AutoClosingPairs(this.characterPair.getAutoClosingPairs())}getAutoCloseBeforeSet(A){return this.characterPair.getAutoCloseBeforeSet(A)}getSurroundingPairs(){return this.characterPair.getSurroundingPairs()}static _handleComments(A){const N=A.comments;if(!N)return null;const F={};if(N.lineComment&&(F.lineCommentToken=N.lineComment),N.blockComment){const[O,W]=N.blockComment;F.blockCommentStartToken=O,F.blockCommentEndToken=W}return F}}e.ResolvedLanguageConfiguration=x,(0,u.registerSingleton)(e.ILanguageConfigurationService,o,1)}),define(ne[242],se([1,0,13,2,317,587,5,32,627,51,187,14,70,58,9,18,109,66]),function(Q,e,L,k,y,D,S,f,_,g,C,s,i,n,t,a,u,h){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.EditorWorkerClient=e.EditorWorkerHost=e.EditorWorkerService=void 0;const r=60*1e3,c=5*60*1e3;function o(E,I){const M=E.getModel(I);return!(!M||M.isTooLargeForSyncing())}let d=class extends k.Disposable{constructor(I,M,P,x,T){super(),this._modelService=I,this._workerManager=this._register(new p(this._modelService,x)),this._logService=P,this._register(T.linkProvider.register({language:"*",hasAccessToAllModels:!0},{provideLinks:(A,N)=>o(this._modelService,A.uri)?this._workerManager.withWorker().then(F=>F.computeLinks(A.uri)).then(F=>F&&{links:F}):Promise.resolve({links:[]})})),this._register(T.completionProvider.register("*",new l(this._workerManager,M,this._modelService,x)))}dispose(){super.dispose()}canComputeUnicodeHighlights(I){return o(this._modelService,I)}computedUnicodeHighlights(I,M,P){return this._workerManager.withWorker().then(x=>x.computedUnicodeHighlights(I,M,P))}computeDiff(I,M,P,x){return we(this,void 0,void 0,function*(){const T=yield this._workerManager.withWorker().then(F=>F.computeDiff(I,M,P,x));if(!T)return null;return{identical:T.identical,quitEarly:T.quitEarly,changes:N(T.changes),moves:T.moves.map(F=>new u.MovedText(new u.SimpleLineRangeMapping(new h.LineRange(F[0],F[1]),new h.LineRange(F[2],F[3])),N(F[4])))};function N(F){return F.map(O=>{var W;return new u.LineRangeMapping(new h.LineRange(O[0],O[1]),new h.LineRange(O[2],O[3]),(W=O[4])===null||W===void 0?void 0:W.map(U=>new u.RangeMapping(new S.Range(U[0],U[1],U[2],U[3]),new S.Range(U[4],U[5],U[6],U[7]))))})}})}computeMoreMinimalEdits(I,M,P=!1){if((0,s.isNonEmptyArray)(M)){if(!o(this._modelService,I))return Promise.resolve(M);const x=n.StopWatch.create(),T=this._workerManager.withWorker().then(A=>A.computeMoreMinimalEdits(I,M,P));return T.finally(()=>this._logService.trace("FORMAT#computeMoreMinimalEdits",I.toString(!0),x.elapsed())),Promise.race([T,(0,L.timeout)(1e3).then(()=>M)])}else return Promise.resolve(void 0)}canNavigateValueSet(I){return o(this._modelService,I)}navigateValueSet(I,M,P){return this._workerManager.withWorker().then(x=>x.navigateValueSet(I,M,P))}canComputeWordRanges(I){return o(this._modelService,I)}computeWordRanges(I,M){return this._workerManager.withWorker().then(P=>P.computeWordRanges(I,M))}};e.EditorWorkerService=d,e.EditorWorkerService=d=ke([fe(0,g.IModelService),fe(1,C.ITextResourceConfigurationService),fe(2,i.ILogService),fe(3,f.ILanguageConfigurationService),fe(4,a.ILanguageFeaturesService)],d);class l{constructor(I,M,P,x){this.languageConfigurationService=x,this._debugDisplayName="wordbasedCompletions",this._workerManager=I,this._configurationService=M,this._modelService=P}provideCompletionItems(I,M){return we(this,void 0,void 0,function*(){const P=this._configurationService.getValue(I.uri,M,"editor");if(!P.wordBasedSuggestions)return;const x=[];if(P.wordBasedSuggestionsMode==="currentDocument")o(this._modelService,I.uri)&&x.push(I.uri);else for(const U of this._modelService.getModels())o(this._modelService,U.uri)&&(U===I?x.unshift(U.uri):(P.wordBasedSuggestionsMode==="allDocuments"||U.getLanguageId()===I.getLanguageId())&&x.push(U.uri));if(x.length===0)return;const T=this.languageConfigurationService.getLanguageConfiguration(I.getLanguageId()).getWordDefinition(),A=I.getWordAtPosition(M),N=A?new S.Range(M.lineNumber,A.startColumn,M.lineNumber,A.endColumn):S.Range.fromPositions(M),F=N.setEndPosition(M.lineNumber,M.column),W=yield(yield this._workerManager.withWorker()).textualSuggest(x,A?.word,T);if(W)return{duration:W.duration,suggestions:W.words.map(U=>({kind:18,label:U,insertText:U,range:{insert:F,replace:N}}))}})}}class p extends k.Disposable{constructor(I,M){super(),this.languageConfigurationService=M,this._modelService=I,this._editorWorkerClient=null,this._lastWorkerUsedTime=new Date().getTime(),this._register(new L.IntervalTimer).cancelAndSet(()=>this._checkStopIdleWorker(),Math.round(c/2)),this._register(this._modelService.onModelRemoved(x=>this._checkStopEmptyWorker()))}dispose(){this._editorWorkerClient&&(this._editorWorkerClient.dispose(),this._editorWorkerClient=null),super.dispose()}_checkStopEmptyWorker(){if(!this._editorWorkerClient)return;this._modelService.getModels().length===0&&(this._editorWorkerClient.dispose(),this._editorWorkerClient=null)}_checkStopIdleWorker(){if(!this._editorWorkerClient)return;new Date().getTime()-this._lastWorkerUsedTime>c&&(this._editorWorkerClient.dispose(),this._editorWorkerClient=null)}withWorker(){return this._lastWorkerUsedTime=new Date().getTime(),this._editorWorkerClient||(this._editorWorkerClient=new w(this._modelService,!1,"editorWorkerService",this.languageConfigurationService)),Promise.resolve(this._editorWorkerClient)}}class m extends k.Disposable{constructor(I,M,P){if(super(),this._syncedModels=Object.create(null),this._syncedModelsLastUsedTime=Object.create(null),this._proxy=I,this._modelService=M,!P){const x=new L.IntervalTimer;x.cancelAndSet(()=>this._checkStopModelSync(),Math.round(r/2)),this._register(x)}}dispose(){for(const I in this._syncedModels)(0,k.dispose)(this._syncedModels[I]);this._syncedModels=Object.create(null),this._syncedModelsLastUsedTime=Object.create(null),super.dispose()}ensureSyncedResources(I,M){for(const P of I){const x=P.toString();this._syncedModels[x]||this._beginModelSync(P,M),this._syncedModels[x]&&(this._syncedModelsLastUsedTime[x]=new Date().getTime())}}_checkStopModelSync(){const I=new Date().getTime(),M=[];for(const P in this._syncedModelsLastUsedTime)I-this._syncedModelsLastUsedTime[P]>r&&M.push(P);for(const P of M)this._stopModelSync(P)}_beginModelSync(I,M){const P=this._modelService.getModel(I);if(!P||!M&&P.isTooLargeForSyncing())return;const x=I.toString();this._proxy.acceptNewModel({url:P.uri.toString(),lines:P.getLinesContent(),EOL:P.getEOL(),versionId:P.getVersionId()});const T=new k.DisposableStore;T.add(P.onDidChangeContent(A=>{this._proxy.acceptModelChanged(x.toString(),A)})),T.add(P.onWillDispose(()=>{this._stopModelSync(x)})),T.add((0,k.toDisposable)(()=>{this._proxy.acceptRemovedModel(x)})),this._syncedModels[x]=T}_stopModelSync(I){const M=this._syncedModels[I];delete this._syncedModels[I],delete this._syncedModelsLastUsedTime[I],(0,k.dispose)(M)}}class v{constructor(I){this._instance=I,this._proxyObj=Promise.resolve(this._instance)}dispose(){this._instance.dispose()}getProxyObject(){return this._proxyObj}}class b{constructor(I){this._workerClient=I}fhr(I,M){return this._workerClient.fhr(I,M)}}e.EditorWorkerHost=b;class w extends k.Disposable{constructor(I,M,P,x){super(),this.languageConfigurationService=x,this._disposed=!1,this._modelService=I,this._keepIdleModels=M,this._workerFactory=new D.DefaultWorkerFactory(P),this._worker=null,this._modelManager=null}fhr(I,M){throw new Error("Not implemented!")}_getOrCreateWorker(){if(!this._worker)try{this._worker=this._register(new y.SimpleWorkerClient(this._workerFactory,"vs/editor/common/services/editorSimpleWorker",new b(this)))}catch(I){(0,y.logOnceWebWorkerWarning)(I),this._worker=new v(new _.EditorSimpleWorker(new b(this),null))}return this._worker}_getProxy(){return this._getOrCreateWorker().getProxyObject().then(void 0,I=>((0,y.logOnceWebWorkerWarning)(I),this._worker=new v(new _.EditorSimpleWorker(new b(this),null)),this._getOrCreateWorker().getProxyObject()))}_getOrCreateModelManager(I){return this._modelManager||(this._modelManager=this._register(new m(I,this._modelService,this._keepIdleModels))),this._modelManager}_withSyncedResources(I,M=!1){return we(this,void 0,void 0,function*(){return this._disposed?Promise.reject((0,t.canceled)()):this._getProxy().then(P=>(this._getOrCreateModelManager(P).ensureSyncedResources(I,M),P))})}computedUnicodeHighlights(I,M,P){return this._withSyncedResources([I]).then(x=>x.computeUnicodeHighlights(I.toString(),M,P))}computeDiff(I,M,P,x){return this._withSyncedResources([I,M],!0).then(T=>T.computeDiff(I.toString(),M.toString(),P,x))}computeMoreMinimalEdits(I,M,P){return this._withSyncedResources([I]).then(x=>x.computeMoreMinimalEdits(I.toString(),M,P))}computeLinks(I){return this._withSyncedResources([I]).then(M=>M.computeLinks(I.toString()))}computeDefaultDocumentColors(I){return this._withSyncedResources([I]).then(M=>M.computeDefaultDocumentColors(I.toString()))}textualSuggest(I,M,P){return we(this,void 0,void 0,function*(){const x=yield this._withSyncedResources(I),T=P.source,A=P.flags;return x.textualSuggest(I.map(N=>N.toString()),M,T,A)})}computeWordRanges(I,M){return this._withSyncedResources([I]).then(P=>{const x=this._modelService.getModel(I);if(!x)return Promise.resolve(null);const T=this.languageConfigurationService.getLanguageConfiguration(x.getLanguageId()).getWordDefinition(),A=T.source,N=T.flags;return P.computeWordRanges(I.toString(),M,A,N)})}navigateValueSet(I,M,P){return this._withSyncedResources([I]).then(x=>{const T=this._modelService.getModel(I);if(!T)return null;const A=this.languageConfigurationService.getLanguageConfiguration(T.getLanguageId()).getWordDefinition(),N=A.source,F=A.flags;return x.navigateValueSet(I.toString(),M,P,N,F)})}dispose(){super.dispose(),this._disposed=!0}}e.EditorWorkerClient=w}),define(ne[773],se([1,0,47,242]),function(Q,e,L,k){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.createWebWorker=void 0;function y(S,f,_){return new D(S,f,_)}e.createWebWorker=y;class D extends k.EditorWorkerClient{constructor(f,_,g){super(f,g.keepIdleModels||!1,g.label,_),this._foreignModuleId=g.moduleId,this._foreignModuleCreateData=g.createData||null,this._foreignModuleHost=g.host||null,this._foreignProxy=null}fhr(f,_){if(!this._foreignModuleHost||typeof this._foreignModuleHost[f]!="function")return Promise.reject(new Error("Missing method "+f+" or missing main thread foreign host."));try{return Promise.resolve(this._foreignModuleHost[f].apply(this._foreignModuleHost,_))}catch(g){return Promise.reject(g)}}_getForeignProxy(){return this._foreignProxy||(this._foreignProxy=this._getProxy().then(f=>{const _=this._foreignModuleHost?(0,L.getAllMethodNames)(this._foreignModuleHost):[];return f.loadForeignModule(this._foreignModuleId,this._foreignModuleCreateData,_).then(g=>{this._foreignModuleCreateData=null;const C=(n,t)=>f.fmr(n,t),s=(n,t)=>function(){const a=Array.prototype.slice.call(arguments,0);return t(n,a)},i={};for(const n of g)i[n]=s(n,C);return i})})),this._foreignProxy}getProxy(){return this._getForeignProxy()}withSyncedResources(f){return this._withSyncedResources(f).then(_=>this.getProxy())}}}),define(ne[243],se([1,0,11,110,125,32]),function(Q,e,L,k,y,D){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.getIndentMetadata=e.getIndentActionForType=e.getIndentForEnter=e.getGoodIndentForLine=e.getInheritIndentForLine=void 0;function S(i,n,t){const a=i.tokenization.getLanguageIdAtPosition(n,0);if(n>1){let u,h=-1;for(u=n-1;u>=1;u--){if(i.tokenization.getLanguageIdAtPosition(u,0)!==a)return h;const r=i.getLineContent(u);if(t.shouldIgnore(r)||/^\s+$/.test(r)||r===""){h=u;continue}return u}}return-1}function f(i,n,t,a=!0,u){if(i<4)return null;const h=u.getLanguageConfiguration(n.tokenization.getLanguageId()).indentRulesSupport;if(!h)return null;if(t<=1)return{indentation:"",action:null};for(let o=t-1;o>0&&n.getLineContent(o)==="";o--)if(o===1)return{indentation:"",action:null};const r=S(n,t,h);if(r<0)return null;if(r<1)return{indentation:"",action:null};const c=n.getLineContent(r);if(h.shouldIncrease(c)||h.shouldIndentNextLine(c))return{indentation:L.getLeadingWhitespace(c),action:k.IndentAction.Indent,line:r};if(h.shouldDecrease(c))return{indentation:L.getLeadingWhitespace(c),action:null,line:r};{if(r===1)return{indentation:L.getLeadingWhitespace(n.getLineContent(r)),action:null,line:r};const o=r-1,d=h.getIndentMetadata(n.getLineContent(o));if(!(d&3)&&d&4){let l=0;for(let p=o-1;p>0;p--)if(!h.shouldIndentNextLine(n.getLineContent(p))){l=p;break}return{indentation:L.getLeadingWhitespace(n.getLineContent(l+1)),action:null,line:l+1}}if(a)return{indentation:L.getLeadingWhitespace(n.getLineContent(r)),action:null,line:r};for(let l=r;l>0;l--){const p=n.getLineContent(l);if(h.shouldIncrease(p))return{indentation:L.getLeadingWhitespace(p),action:k.IndentAction.Indent,line:l};if(h.shouldIndentNextLine(p)){let m=0;for(let v=l-1;v>0;v--)if(!h.shouldIndentNextLine(n.getLineContent(l))){m=v;break}return{indentation:L.getLeadingWhitespace(n.getLineContent(m+1)),action:null,line:m+1}}else if(h.shouldDecrease(p))return{indentation:L.getLeadingWhitespace(p),action:null,line:l}}return{indentation:L.getLeadingWhitespace(n.getLineContent(1)),action:null,line:1}}}e.getInheritIndentForLine=f;function _(i,n,t,a,u,h){if(i<4)return null;const r=h.getLanguageConfiguration(t);if(!r)return null;const c=h.getLanguageConfiguration(t).indentRulesSupport;if(!c)return null;const o=f(i,n,a,void 0,h),d=n.getLineContent(a);if(o){const l=o.line;if(l!==void 0){let p=!0;for(let m=l;m<a-1;m++)if(!/^\s*$/.test(n.getLineContent(m))){p=!1;break}if(p){const m=r.onEnter(i,"",n.getLineContent(l),"");if(m){let v=L.getLeadingWhitespace(n.getLineContent(l));return m.removeText&&(v=v.substring(0,v.length-m.removeText)),m.indentAction===k.IndentAction.Indent||m.indentAction===k.IndentAction.IndentOutdent?v=u.shiftIndent(v):m.indentAction===k.IndentAction.Outdent&&(v=u.unshiftIndent(v)),c.shouldDecrease(d)&&(v=u.unshiftIndent(v)),m.appendText&&(v+=m.appendText),L.getLeadingWhitespace(v)}}}return c.shouldDecrease(d)?o.action===k.IndentAction.Indent?o.indentation:u.unshiftIndent(o.indentation):o.action===k.IndentAction.Indent?u.shiftIndent(o.indentation):o.indentation}return null}e.getGoodIndentForLine=_;function g(i,n,t,a,u){if(i<4)return null;n.tokenization.forceTokenization(t.startLineNumber);const h=n.tokenization.getLineTokens(t.startLineNumber),r=(0,y.createScopedLineTokens)(h,t.startColumn-1),c=r.getLineContent();let o=!1,d;r.firstCharOffset>0&&h.getLanguageId(0)!==r.languageId?(o=!0,d=c.substr(0,t.startColumn-1-r.firstCharOffset)):d=h.getLineContent().substring(0,t.startColumn-1);let l;t.isEmpty()?l=c.substr(t.startColumn-1-r.firstCharOffset):l=(0,D.getScopedLineTokens)(n,t.endLineNumber,t.endColumn).getLineContent().substr(t.endColumn-1-r.firstCharOffset);const p=u.getLanguageConfiguration(r.languageId).indentRulesSupport;if(!p)return null;const m=d,v=L.getLeadingWhitespace(d),b={tokenization:{getLineTokens:M=>n.tokenization.getLineTokens(M),getLanguageId:()=>n.getLanguageId(),getLanguageIdAtPosition:(M,P)=>n.getLanguageIdAtPosition(M,P)},getLineContent:M=>M===t.startLineNumber?m:n.getLineContent(M)},w=L.getLeadingWhitespace(h.getLineContent()),E=f(i,b,t.startLineNumber+1,void 0,u);if(!E){const M=o?w:v;return{beforeEnter:M,afterEnter:M}}let I=o?w:E.indentation;return E.action===k.IndentAction.Indent&&(I=a.shiftIndent(I)),p.shouldDecrease(l)&&(I=a.unshiftIndent(I)),{beforeEnter:o?w:v,afterEnter:I}}e.getIndentForEnter=g;function C(i,n,t,a,u,h){if(i<4)return null;const r=(0,D.getScopedLineTokens)(n,t.startLineNumber,t.startColumn);if(r.firstCharOffset)return null;const c=h.getLanguageConfiguration(r.languageId).indentRulesSupport;if(!c)return null;const o=r.getLineContent(),d=o.substr(0,t.startColumn-1-r.firstCharOffset);let l;if(t.isEmpty()?l=o.substr(t.startColumn-1-r.firstCharOffset):l=(0,D.getScopedLineTokens)(n,t.endLineNumber,t.endColumn).getLineContent().substr(t.endColumn-1-r.firstCharOffset),!c.shouldDecrease(d+l)&&c.shouldDecrease(d+a+l)){const p=f(i,n,t.startLineNumber,!1,h);if(!p)return null;let m=p.indentation;return p.action!==k.IndentAction.Indent&&(m=u.unshiftIndent(m)),m}return null}e.getIndentActionForType=C;function s(i,n,t){const a=t.getLanguageConfiguration(i.getLanguageId()).indentRulesSupport;return!a||n<1||n>i.getLineCount()?null:a.getIndentMetadata(i.getLineContent(n))}e.getIndentMetadata=s}),define(ne[244],se([1,0,110,32]),function(Q,e,L,k){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.getEnterAction=void 0;function y(D,S,f,_){const g=(0,k.getScopedLineTokens)(S,f.startLineNumber,f.startColumn),C=_.getLanguageConfiguration(g.languageId);if(!C)return null;const s=g.getLineContent(),i=s.substr(0,f.startColumn-1-g.firstCharOffset);let n;f.isEmpty()?n=s.substr(f.startColumn-1-g.firstCharOffset):n=(0,k.getScopedLineTokens)(S,f.endLineNumber,f.endColumn).getLineContent().substr(f.endColumn-1-g.firstCharOffset);let t="";if(f.startLineNumber>1&&g.firstCharOffset===0){const o=(0,k.getScopedLineTokens)(S,f.startLineNumber-1);o.languageId===g.languageId&&(t=o.getLineContent())}const a=C.onEnter(D,t,i,n);if(!a)return null;const u=a.indentAction;let h=a.appendText;const r=a.removeText||0;h?u===L.IndentAction.Indent&&(h="	"+h):u===L.IndentAction.Indent||u===L.IndentAction.IndentOutdent?h="	":h="";let c=(0,k.getIndentationAtPosition)(S,f.startLineNumber,f.startColumn);return r&&(c=c.substring(0,c.length-r)),{indentAction:u,appendText:h,removeText:r,indentation:c}}e.getEnterAction=y}),define(ne[245],se([1,0,11,82,5,24,244,32]),function(Q,e,L,k,y,D,S,f){"use strict";var _;Object.defineProperty(e,"__esModule",{value:!0}),e.ShiftCommand=void 0;const g=Object.create(null);function C(i,n){if(n<=0)return"";g[i]||(g[i]=["",i]);const t=g[i];for(let a=t.length;a<=n;a++)t[a]=t[a-1]+i;return t[n]}let s=_=class{static unshiftIndent(n,t,a,u,h){const r=k.CursorColumns.visibleColumnFromColumn(n,t,a);if(h){const c=C(" ",u),d=k.CursorColumns.prevIndentTabStop(r,u)/u;return C(c,d)}else{const c="	",d=k.CursorColumns.prevRenderTabStop(r,a)/a;return C(c,d)}}static shiftIndent(n,t,a,u,h){const r=k.CursorColumns.visibleColumnFromColumn(n,t,a);if(h){const c=C(" ",u),d=k.CursorColumns.nextIndentTabStop(r,u)/u;return C(c,d)}else{const c="	",d=k.CursorColumns.nextRenderTabStop(r,a)/a;return C(c,d)}}constructor(n,t,a){this._languageConfigurationService=a,this._opts=t,this._selection=n,this._selectionId=null,this._useLastEditRangeForCursorEndPosition=!1,this._selectionStartColumnStaysPut=!1}_addEditOperation(n,t,a){this._useLastEditRangeForCursorEndPosition?n.addTrackedEditOperation(t,a):n.addEditOperation(t,a)}getEditOperations(n,t){const a=this._selection.startLineNumber;let u=this._selection.endLineNumber;this._selection.endColumn===1&&a!==u&&(u=u-1);const{tabSize:h,indentSize:r,insertSpaces:c}=this._opts,o=a===u;if(this._opts.useTabStops){this._selection.isEmpty()&&/^\s*$/.test(n.getLineContent(a))&&(this._useLastEditRangeForCursorEndPosition=!0);let d=0,l=0;for(let p=a;p<=u;p++,d=l){l=0;const m=n.getLineContent(p);let v=L.firstNonWhitespaceIndex(m);if(this._opts.isUnshift&&(m.length===0||v===0)||!o&&!this._opts.isUnshift&&m.length===0)continue;if(v===-1&&(v=m.length),p>1&&k.CursorColumns.visibleColumnFromColumn(m,v+1,h)%r!==0&&n.tokenization.isCheapToTokenize(p-1)){const E=(0,S.getEnterAction)(this._opts.autoIndent,n,new y.Range(p-1,n.getLineMaxColumn(p-1),p-1,n.getLineMaxColumn(p-1)),this._languageConfigurationService);if(E){if(l=d,E.appendText)for(let I=0,M=E.appendText.length;I<M&&l<r&&E.appendText.charCodeAt(I)===32;I++)l++;E.removeText&&(l=Math.max(0,l-E.removeText));for(let I=0;I<l&&!(v===0||m.charCodeAt(v-1)!==32);I++)v--}}if(this._opts.isUnshift&&v===0)continue;let b;this._opts.isUnshift?b=_.unshiftIndent(m,v+1,h,r,c):b=_.shiftIndent(m,v+1,h,r,c),this._addEditOperation(t,new y.Range(p,1,p,v+1),b),p===a&&!this._selection.isEmpty()&&(this._selectionStartColumnStaysPut=this._selection.startColumn<=v+1)}}else{!this._opts.isUnshift&&this._selection.isEmpty()&&n.getLineLength(a)===0&&(this._useLastEditRangeForCursorEndPosition=!0);const d=c?C(" ",r):"	";for(let l=a;l<=u;l++){const p=n.getLineContent(l);let m=L.firstNonWhitespaceIndex(p);if(!(this._opts.isUnshift&&(p.length===0||m===0))&&!(!o&&!this._opts.isUnshift&&p.length===0)&&(m===-1&&(m=p.length),!(this._opts.isUnshift&&m===0)))if(this._opts.isUnshift){m=Math.min(m,r);for(let v=0;v<m;v++)if(p.charCodeAt(v)===9){m=v+1;break}this._addEditOperation(t,new y.Range(l,1,l,m+1),"")}else this._addEditOperation(t,new y.Range(l,1,l,1),d),l===a&&!this._selection.isEmpty()&&(this._selectionStartColumnStaysPut=this._selection.startColumn===1)}}this._selectionId=t.trackSelection(this._selection)}computeCursorState(n,t){if(this._useLastEditRangeForCursorEndPosition){const u=t.getInverseEditOperations()[0];return new D.Selection(u.range.endLineNumber,u.range.endColumn,u.range.endLineNumber,u.range.endColumn)}const a=t.getTrackedSelection(this._selectionId);if(this._selectionStartColumnStaysPut){const u=this._selection.startColumn;return a.startColumn<=u?a:a.getDirection()===0?new D.Selection(a.startLineNumber,u,a.endLineNumber,a.endColumn):new D.Selection(a.endLineNumber,a.endColumn,a.startLineNumber,u)}return a}};e.ShiftCommand=s,e.ShiftCommand=s=_=ke([fe(2,f.ILanguageConfigurationService)],s)}),define(ne[246],se([1,0,9,11,123,245,485,74,146,5,12,110,32,125,243,244]),function(Q,e,L,k,y,D,S,f,_,g,C,s,i,n,t,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.CompositionOutcome=e.TypeWithAutoClosingCommand=e.TypeOperations=void 0;class u{static indent(m,v,b){if(v===null||b===null)return[];const w=[];for(let E=0,I=b.length;E<I;E++)w[E]=new D.ShiftCommand(b[E],{isUnshift:!1,tabSize:m.tabSize,indentSize:m.indentSize,insertSpaces:m.insertSpaces,useTabStops:m.useTabStops,autoIndent:m.autoIndent},m.languageConfigurationService);return w}static outdent(m,v,b){const w=[];for(let E=0,I=b.length;E<I;E++)w[E]=new D.ShiftCommand(b[E],{isUnshift:!0,tabSize:m.tabSize,indentSize:m.indentSize,insertSpaces:m.insertSpaces,useTabStops:m.useTabStops,autoIndent:m.autoIndent},m.languageConfigurationService);return w}static shiftIndent(m,v,b){return b=b||1,D.ShiftCommand.shiftIndent(v,v.length+b,m.tabSize,m.indentSize,m.insertSpaces)}static unshiftIndent(m,v,b){return b=b||1,D.ShiftCommand.unshiftIndent(v,v.length+b,m.tabSize,m.indentSize,m.insertSpaces)}static _distributedPaste(m,v,b,w){const E=[];for(let I=0,M=b.length;I<M;I++)E[I]=new y.ReplaceCommand(b[I],w[I]);return new f.EditOperationResult(0,E,{shouldPushStackElementBefore:!0,shouldPushStackElementAfter:!0})}static _simplePaste(m,v,b,w,E){const I=[];for(let M=0,P=b.length;M<P;M++){const x=b[M],T=x.getPosition();if(E&&!x.isEmpty()&&(E=!1),E&&w.indexOf(`
`)!==w.length-1&&(E=!1),E){const A=new g.Range(T.lineNumber,1,T.lineNumber,1);I[M]=new y.ReplaceCommandThatPreservesSelection(A,w,x,!0)}else I[M]=new y.ReplaceCommand(x,w)}return new f.EditOperationResult(0,I,{shouldPushStackElementBefore:!0,shouldPushStackElementAfter:!0})}static _distributePasteToCursors(m,v,b,w,E){if(w||v.length===1)return null;if(E&&E.length===v.length)return E;if(m.multiCursorPaste==="spread"){b.charCodeAt(b.length-1)===10&&(b=b.substr(0,b.length-1)),b.charCodeAt(b.length-1)===13&&(b=b.substr(0,b.length-1));const I=k.splitLines(b);if(I.length===v.length)return I}return null}static paste(m,v,b,w,E,I){const M=this._distributePasteToCursors(m,b,w,E,I);return M?(b=b.sort(g.Range.compareRangesUsingStarts),this._distributedPaste(m,v,b,M)):this._simplePaste(m,v,b,w,E)}static _goodIndentForLine(m,v,b){let w=null,E="";const I=(0,t.getInheritIndentForLine)(m.autoIndent,v,b,!1,m.languageConfigurationService);if(I)w=I.action,E=I.indentation;else if(b>1){let M;for(M=b-1;M>=1;M--){const T=v.getLineContent(M);if(k.lastNonWhitespaceIndex(T)>=0)break}if(M<1)return null;const P=v.getLineMaxColumn(M),x=(0,a.getEnterAction)(m.autoIndent,v,new g.Range(M,P,M,P),m.languageConfigurationService);x&&(E=x.indentation+x.appendText)}return w&&(w===s.IndentAction.Indent&&(E=u.shiftIndent(m,E)),w===s.IndentAction.Outdent&&(E=u.unshiftIndent(m,E)),E=m.normalizeIndentation(E)),E||null}static _replaceJumpToNextIndent(m,v,b,w){let E="";const I=b.getStartPosition();if(m.insertSpaces){const M=m.visibleColumnFromColumn(v,I),P=m.indentSize,x=P-M%P;for(let T=0;T<x;T++)E+=" "}else E="	";return new y.ReplaceCommand(b,E,w)}static tab(m,v,b){const w=[];for(let E=0,I=b.length;E<I;E++){const M=b[E];if(M.isEmpty()){const P=v.getLineContent(M.startLineNumber);if(/^\s*$/.test(P)&&v.tokenization.isCheapToTokenize(M.startLineNumber)){let x=this._goodIndentForLine(m,v,M.startLineNumber);x=x||"	";const T=m.normalizeIndentation(x);if(!P.startsWith(T)){w[E]=new y.ReplaceCommand(new g.Range(M.startLineNumber,1,M.startLineNumber,P.length+1),T,!0);continue}}w[E]=this._replaceJumpToNextIndent(m,v,M,!0)}else{if(M.startLineNumber===M.endLineNumber){const P=v.getLineMaxColumn(M.startLineNumber);if(M.startColumn!==1||M.endColumn!==P){w[E]=this._replaceJumpToNextIndent(m,v,M,!1);continue}}w[E]=new D.ShiftCommand(M,{isUnshift:!1,tabSize:m.tabSize,indentSize:m.indentSize,insertSpaces:m.insertSpaces,useTabStops:m.useTabStops,autoIndent:m.autoIndent},m.languageConfigurationService)}}return w}static compositionType(m,v,b,w,E,I,M,P){const x=w.map(T=>this._compositionType(b,T,E,I,M,P));return new f.EditOperationResult(4,x,{shouldPushStackElementBefore:o(m,4),shouldPushStackElementAfter:!1})}static _compositionType(m,v,b,w,E,I){if(!v.isEmpty())return null;const M=v.getPosition(),P=Math.max(1,M.column-w),x=Math.min(m.getLineMaxColumn(M.lineNumber),M.column+E),T=new g.Range(M.lineNumber,P,M.lineNumber,x);return m.getValueInRange(T)===b&&I===0?null:new y.ReplaceCommandWithOffsetCursorState(T,b,0,I)}static _typeCommand(m,v,b){return b?new y.ReplaceCommandWithoutChangingPosition(m,v,!0):new y.ReplaceCommand(m,v,!0)}static _enter(m,v,b,w){if(m.autoIndent===0)return u._typeCommand(w,`
`,b);if(!v.tokenization.isCheapToTokenize(w.getStartPosition().lineNumber)||m.autoIndent===1){const P=v.getLineContent(w.startLineNumber),x=k.getLeadingWhitespace(P).substring(0,w.startColumn-1);return u._typeCommand(w,`
`+m.normalizeIndentation(x),b)}const E=(0,a.getEnterAction)(m.autoIndent,v,w,m.languageConfigurationService);if(E){if(E.indentAction===s.IndentAction.None)return u._typeCommand(w,`
`+m.normalizeIndentation(E.indentation+E.appendText),b);if(E.indentAction===s.IndentAction.Indent)return u._typeCommand(w,`
`+m.normalizeIndentation(E.indentation+E.appendText),b);if(E.indentAction===s.IndentAction.IndentOutdent){const P=m.normalizeIndentation(E.indentation),x=m.normalizeIndentation(E.indentation+E.appendText),T=`
`+x+`
`+P;return b?new y.ReplaceCommandWithoutChangingPosition(w,T,!0):new y.ReplaceCommandWithOffsetCursorState(w,T,-1,x.length-P.length,!0)}else if(E.indentAction===s.IndentAction.Outdent){const P=u.unshiftIndent(m,E.indentation);return u._typeCommand(w,`
`+m.normalizeIndentation(P+E.appendText),b)}}const I=v.getLineContent(w.startLineNumber),M=k.getLeadingWhitespace(I).substring(0,w.startColumn-1);if(m.autoIndent>=4){const P=(0,t.getIndentForEnter)(m.autoIndent,v,w,{unshiftIndent:x=>u.unshiftIndent(m,x),shiftIndent:x=>u.shiftIndent(m,x),normalizeIndentation:x=>m.normalizeIndentation(x)},m.languageConfigurationService);if(P){let x=m.visibleColumnFromColumn(v,w.getEndPosition());const T=w.endColumn,A=v.getLineContent(w.endLineNumber),N=k.firstNonWhitespaceIndex(A);if(N>=0?w=w.setEndPosition(w.endLineNumber,Math.max(w.endColumn,N+1)):w=w.setEndPosition(w.endLineNumber,v.getLineMaxColumn(w.endLineNumber)),b)return new y.ReplaceCommandWithoutChangingPosition(w,`
`+m.normalizeIndentation(P.afterEnter),!0);{let F=0;return T<=N+1&&(m.insertSpaces||(x=Math.ceil(x/m.indentSize)),F=Math.min(x+1-m.normalizeIndentation(P.afterEnter).length-1,0)),new y.ReplaceCommandWithOffsetCursorState(w,`
`+m.normalizeIndentation(P.afterEnter),0,F,!0)}}}return u._typeCommand(w,`
`+m.normalizeIndentation(M),b)}static _isAutoIndentType(m,v,b){if(m.autoIndent<4)return!1;for(let w=0,E=b.length;w<E;w++)if(!v.tokenization.isCheapToTokenize(b[w].getEndPosition().lineNumber))return!1;return!0}static _runAutoIndentType(m,v,b,w){const E=(0,i.getIndentationAtPosition)(v,b.startLineNumber,b.startColumn),I=(0,t.getIndentActionForType)(m.autoIndent,v,b,w,{shiftIndent:M=>u.shiftIndent(m,M),unshiftIndent:M=>u.unshiftIndent(m,M)},m.languageConfigurationService);if(I===null)return null;if(I!==m.normalizeIndentation(E)){const M=v.getLineFirstNonWhitespaceColumn(b.startLineNumber);return M===0?u._typeCommand(new g.Range(b.startLineNumber,1,b.endLineNumber,b.endColumn),m.normalizeIndentation(I)+w,!1):u._typeCommand(new g.Range(b.startLineNumber,1,b.endLineNumber,b.endColumn),m.normalizeIndentation(I)+v.getLineContent(b.startLineNumber).substring(M-1,b.startColumn-1)+w,!1)}return null}static _isAutoClosingOvertype(m,v,b,w,E){if(m.autoClosingOvertype==="never"||!m.autoClosingPairs.autoClosingPairsCloseSingleChar.has(E))return!1;for(let I=0,M=b.length;I<M;I++){const P=b[I];if(!P.isEmpty())return!1;const x=P.getPosition(),T=v.getLineContent(x.lineNumber);if(T.charAt(x.column-1)!==E)return!1;const N=(0,f.isQuote)(E);if((x.column>2?T.charCodeAt(x.column-2):0)===92&&N)return!1;if(m.autoClosingOvertype==="auto"){let O=!1;for(let W=0,U=w.length;W<U;W++){const j=w[W];if(x.lineNumber===j.startLineNumber&&x.column===j.startColumn){O=!0;break}}if(!O)return!1}}return!0}static _runAutoClosingOvertype(m,v,b,w,E){const I=[];for(let M=0,P=w.length;M<P;M++){const T=w[M].getPosition(),A=new g.Range(T.lineNumber,T.column,T.lineNumber,T.column+1);I[M]=new y.ReplaceCommand(A,E)}return new f.EditOperationResult(4,I,{shouldPushStackElementBefore:o(m,4),shouldPushStackElementAfter:!1})}static _isBeforeClosingBrace(m,v){const b=v.charAt(0),w=m.autoClosingPairs.autoClosingPairsOpenByStart.get(b)||[],E=m.autoClosingPairs.autoClosingPairsCloseByStart.get(b)||[],I=w.some(P=>v.startsWith(P.open)),M=E.some(P=>v.startsWith(P.close));return!I&&M}static _findAutoClosingPairOpen(m,v,b,w){const E=m.autoClosingPairs.autoClosingPairsOpenByEnd.get(w);if(!E)return null;let I=null;for(const M of E)if(I===null||M.open.length>I.open.length){let P=!0;for(const x of b)if(v.getValueInRange(new g.Range(x.lineNumber,x.column-M.open.length+1,x.lineNumber,x.column))+w!==M.open){P=!1;break}P&&(I=M)}return I}static _findContainedAutoClosingPair(m,v){if(v.open.length<=1)return null;const b=v.close.charAt(v.close.length-1),w=m.autoClosingPairs.autoClosingPairsCloseByEnd.get(b)||[];let E=null;for(const I of w)I.open!==v.open&&v.open.includes(I.open)&&v.close.endsWith(I.close)&&(!E||I.open.length>E.open.length)&&(E=I);return E}static _getAutoClosingPairClose(m,v,b,w,E){const I=(0,f.isQuote)(w),M=I?m.autoClosingQuotes:m.autoClosingBrackets,P=I?m.shouldAutoCloseBefore.quote:m.shouldAutoCloseBefore.bracket;if(M==="never")return null;for(const O of b)if(!O.isEmpty())return null;const x=b.map(O=>{const W=O.getPosition();return E?{lineNumber:W.lineNumber,beforeColumn:W.column-w.length,afterColumn:W.column}:{lineNumber:W.lineNumber,beforeColumn:W.column,afterColumn:W.column}}),T=this._findAutoClosingPairOpen(m,v,x.map(O=>new C.Position(O.lineNumber,O.beforeColumn)),w);if(!T)return null;const A=this._findContainedAutoClosingPair(m,T),N=A?A.close:"";let F=!0;for(const O of x){const{lineNumber:W,beforeColumn:U,afterColumn:j}=O,R=v.getLineContent(W),K=R.substring(0,U-1),G=R.substring(j-1);if(G.startsWith(N)||(F=!1),G.length>0){const H=G.charAt(0);if(!u._isBeforeClosingBrace(m,G)&&!P(H))return null}if(T.open.length===1&&(w==="'"||w==='"')&&M!=="always"){const H=(0,_.getMapForWordSeparators)(m.wordSeparators);if(K.length>0){const B=K.charCodeAt(K.length-1);if(H.get(B)===0)return null}}if(!v.tokenization.isCheapToTokenize(W))return null;v.tokenization.forceTokenization(W);const Z=v.tokenization.getLineTokens(W),J=(0,n.createScopedLineTokens)(Z,U-1);if(!T.shouldAutoClose(J,U-J.firstCharOffset))return null;const X=T.findNeutralCharacter();if(X){const H=v.tokenization.getTokenTypeIfInsertingCharacter(W,U,X);if(!T.isOK(H))return null}}return F?T.close.substring(0,T.close.length-N.length):T.close}static _runAutoClosingOpenCharType(m,v,b,w,E,I,M){const P=[];for(let x=0,T=w.length;x<T;x++){const A=w[x];P[x]=new h(A,E,!I,M)}return new f.EditOperationResult(4,P,{shouldPushStackElementBefore:!0,shouldPushStackElementAfter:!1})}static _shouldSurroundChar(m,v){return(0,f.isQuote)(v)?m.autoSurround==="quotes"||m.autoSurround==="languageDefined":m.autoSurround==="brackets"||m.autoSurround==="languageDefined"}static _isSurroundSelectionType(m,v,b,w){if(!u._shouldSurroundChar(m,w)||!m.surroundingPairs.hasOwnProperty(w))return!1;const E=(0,f.isQuote)(w);for(const I of b){if(I.isEmpty())return!1;let M=!0;for(let P=I.startLineNumber;P<=I.endLineNumber;P++){const x=v.getLineContent(P),T=P===I.startLineNumber?I.startColumn-1:0,A=P===I.endLineNumber?I.endColumn-1:x.length,N=x.substring(T,A);if(/[^ \t]/.test(N)){M=!1;break}}if(M)return!1;if(E&&I.startLineNumber===I.endLineNumber&&I.startColumn+1===I.endColumn){const P=v.getValueInRange(I);if((0,f.isQuote)(P))return!1}}return!0}static _runSurroundSelectionType(m,v,b,w,E){const I=[];for(let M=0,P=w.length;M<P;M++){const x=w[M],T=v.surroundingPairs[E];I[M]=new S.SurroundSelectionCommand(x,E,T)}return new f.EditOperationResult(0,I,{shouldPushStackElementBefore:!0,shouldPushStackElementAfter:!0})}static _isTypeInterceptorElectricChar(m,v,b){return!!(b.length===1&&v.tokenization.isCheapToTokenize(b[0].getEndPosition().lineNumber))}static _typeInterceptorElectricChar(m,v,b,w,E){if(!v.electricChars.hasOwnProperty(E)||!w.isEmpty())return null;const I=w.getPosition();b.tokenization.forceTokenization(I.lineNumber);const M=b.tokenization.getLineTokens(I.lineNumber);let P;try{P=v.onElectricCharacter(E,M,I.column)}catch(x){return(0,L.onUnexpectedError)(x),null}if(!P)return null;if(P.matchOpenBracket){const x=(M.getLineContent()+E).lastIndexOf(P.matchOpenBracket)+1,T=b.bracketPairs.findMatchingBracketUp(P.matchOpenBracket,{lineNumber:I.lineNumber,column:x},500);if(T){if(T.startLineNumber===I.lineNumber)return null;const A=b.getLineContent(T.startLineNumber),N=k.getLeadingWhitespace(A),F=v.normalizeIndentation(N),O=b.getLineContent(I.lineNumber),W=b.getLineFirstNonWhitespaceColumn(I.lineNumber)||I.column,U=O.substring(W-1,I.column-1),j=F+U+E,R=new g.Range(I.lineNumber,1,I.lineNumber,I.column),K=new y.ReplaceCommand(R,j);return new f.EditOperationResult(c(j,m),[K],{shouldPushStackElementBefore:!1,shouldPushStackElementAfter:!0})}}return null}static compositionEndWithInterceptors(m,v,b,w,E,I){if(!w)return null;let M=null;for(const A of w)if(M===null)M=A.insertedText;else if(M!==A.insertedText)return null;if(!M||M.length!==1)return null;const P=M;let x=!1;for(const A of w)if(A.deletedText.length!==0){x=!0;break}if(x){if(!u._shouldSurroundChar(v,P)||!v.surroundingPairs.hasOwnProperty(P))return null;const A=(0,f.isQuote)(P);for(const O of w)if(O.deletedSelectionStart!==0||O.deletedSelectionEnd!==O.deletedText.length||/^[ \t]+$/.test(O.deletedText)||A&&(0,f.isQuote)(O.deletedText))return null;const N=[];for(const O of E){if(!O.isEmpty())return null;N.push(O.getPosition())}if(N.length!==w.length)return null;const F=[];for(let O=0,W=N.length;O<W;O++)F.push(new S.CompositionSurroundSelectionCommand(N[O],w[O].deletedText,v.surroundingPairs[P]));return new f.EditOperationResult(4,F,{shouldPushStackElementBefore:!0,shouldPushStackElementAfter:!1})}if(this._isAutoClosingOvertype(v,b,E,I,P)){const A=E.map(N=>new y.ReplaceCommand(new g.Range(N.positionLineNumber,N.positionColumn,N.positionLineNumber,N.positionColumn+1),"",!1));return new f.EditOperationResult(4,A,{shouldPushStackElementBefore:!0,shouldPushStackElementAfter:!1})}const T=this._getAutoClosingPairClose(v,b,E,P,!0);return T!==null?this._runAutoClosingOpenCharType(m,v,b,E,P,!0,T):null}static typeWithInterceptors(m,v,b,w,E,I,M){if(!m&&M===`
`){const T=[];for(let A=0,N=E.length;A<N;A++)T[A]=u._enter(b,w,!1,E[A]);return new f.EditOperationResult(4,T,{shouldPushStackElementBefore:!0,shouldPushStackElementAfter:!1})}if(!m&&this._isAutoIndentType(b,w,E)){const T=[];let A=!1;for(let N=0,F=E.length;N<F;N++)if(T[N]=this._runAutoIndentType(b,w,E[N],M),!T[N]){A=!0;break}if(!A)return new f.EditOperationResult(4,T,{shouldPushStackElementBefore:!0,shouldPushStackElementAfter:!1})}if(this._isAutoClosingOvertype(b,w,E,I,M))return this._runAutoClosingOvertype(v,b,w,E,M);if(!m){const T=this._getAutoClosingPairClose(b,w,E,M,!1);if(T)return this._runAutoClosingOpenCharType(v,b,w,E,M,!1,T)}if(!m&&this._isSurroundSelectionType(b,w,E,M))return this._runSurroundSelectionType(v,b,w,E,M);if(!m&&this._isTypeInterceptorElectricChar(b,w,E)){const T=this._typeInterceptorElectricChar(v,b,w,E[0],M);if(T)return T}const P=[];for(let T=0,A=E.length;T<A;T++)P[T]=new y.ReplaceCommand(E[T],M);const x=c(M,v);return new f.EditOperationResult(x,P,{shouldPushStackElementBefore:o(v,x),shouldPushStackElementAfter:!1})}static typeWithoutInterceptors(m,v,b,w,E){const I=[];for(let P=0,x=w.length;P<x;P++)I[P]=new y.ReplaceCommand(w[P],E);const M=c(E,m);return new f.EditOperationResult(M,I,{shouldPushStackElementBefore:o(m,M),shouldPushStackElementAfter:!1})}static lineInsertBefore(m,v,b){if(v===null||b===null)return[];const w=[];for(let E=0,I=b.length;E<I;E++){let M=b[E].positionLineNumber;if(M===1)w[E]=new y.ReplaceCommandWithoutChangingPosition(new g.Range(1,1,1,1),`
`);else{M--;const P=v.getLineMaxColumn(M);w[E]=this._enter(m,v,!1,new g.Range(M,P,M,P))}}return w}static lineInsertAfter(m,v,b){if(v===null||b===null)return[];const w=[];for(let E=0,I=b.length;E<I;E++){const M=b[E].positionLineNumber,P=v.getLineMaxColumn(M);w[E]=this._enter(m,v,!1,new g.Range(M,P,M,P))}return w}static lineBreakInsert(m,v,b){const w=[];for(let E=0,I=b.length;E<I;E++)w[E]=this._enter(m,v,!0,b[E]);return w}}e.TypeOperations=u;class h extends y.ReplaceCommandWithOffsetCursorState{constructor(m,v,b,w){super(m,(b?v:"")+w,0,-w.length),this._openCharacter=v,this._closeCharacter=w,this.closeCharacterRange=null,this.enclosingRange=null}computeCursorState(m,v){const w=v.getInverseEditOperations()[0].range;return this.closeCharacterRange=new g.Range(w.startLineNumber,w.endColumn-this._closeCharacter.length,w.endLineNumber,w.endColumn),this.enclosingRange=new g.Range(w.startLineNumber,w.endColumn-this._openCharacter.length-this._closeCharacter.length,w.endLineNumber,w.endColumn),super.computeCursorState(m,v)}}e.TypeWithAutoClosingCommand=h;class r{constructor(m,v,b,w,E,I){this.deletedText=m,this.deletedSelectionStart=v,this.deletedSelectionEnd=b,this.insertedText=w,this.insertedSelectionStart=E,this.insertedSelectionEnd=I}}e.CompositionOutcome=r;function c(p,m){return p===" "?m===5||m===6?6:5:4}function o(p,m){return l(p)&&!l(m)?!0:p===5?!1:d(p)!==d(m)}function d(p){return p===6||p===5?"space":p}function l(p){return p===4||p===5||p===6}}),define(ne[774],se([1,0,9,11,498,74,486,204,246,5,24,111,211,2,213]),function(Q,e,L,k,y,D,S,f,_,g,C,s,i,n,t){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.CursorsController=void 0;class a extends n.Disposable{constructor(l,p,m,v){super(),this._model=l,this._knownModelVersionId=this._model.getVersionId(),this._viewModel=p,this._coordinatesConverter=m,this.context=new S.CursorContext(this._model,this._viewModel,this._coordinatesConverter,v),this._cursors=new y.CursorCollection(this.context),this._hasFocus=!1,this._isHandling=!1,this._compositionState=null,this._columnSelectData=null,this._autoClosedActions=[],this._prevEditOperationType=0}dispose(){this._cursors.dispose(),this._autoClosedActions=(0,n.dispose)(this._autoClosedActions),super.dispose()}updateConfiguration(l){this.context=new S.CursorContext(this._model,this._viewModel,this._coordinatesConverter,l),this._cursors.updateContext(this.context)}onLineMappingChanged(l){this._knownModelVersionId===this._model.getVersionId()&&this.setStates(l,"viewModel",0,this.getCursorStates())}setHasFocus(l){this._hasFocus=l}_validateAutoClosedActions(){if(this._autoClosedActions.length>0){const l=this._cursors.getSelections();for(let p=0;p<this._autoClosedActions.length;p++){const m=this._autoClosedActions[p];m.isValid(l)||(m.dispose(),this._autoClosedActions.splice(p,1),p--)}}}getPrimaryCursorState(){return this._cursors.getPrimaryCursor()}getLastAddedCursorIndex(){return this._cursors.getLastAddedCursorIndex()}getCursorStates(){return this._cursors.getAll()}setStates(l,p,m,v){let b=!1;const w=this.context.cursorConfig.multiCursorLimit;v!==null&&v.length>w&&(v=v.slice(0,w),b=!0);const E=u.from(this._model,this);return this._cursors.setStates(v),this._cursors.normalize(),this._columnSelectData=null,this._validateAutoClosedActions(),this._emitStateChangedIfNecessary(l,p,m,E,b)}setCursorColumnSelectData(l){this._columnSelectData=l}revealPrimary(l,p,m,v,b,w){const E=this._cursors.getViewPositions();let I=null,M=null;E.length>1?M=this._cursors.getViewSelections():I=g.Range.fromPositions(E[0],E[0]),l.emitViewEvent(new i.ViewRevealRangeRequestEvent(p,m,I,M,v,b,w))}saveState(){const l=[],p=this._cursors.getSelections();for(let m=0,v=p.length;m<v;m++){const b=p[m];l.push({inSelectionMode:!b.isEmpty(),selectionStart:{lineNumber:b.selectionStartLineNumber,column:b.selectionStartColumn},position:{lineNumber:b.positionLineNumber,column:b.positionColumn}})}return l}restoreState(l,p){const m=[];for(let v=0,b=p.length;v<b;v++){const w=p[v];let E=1,I=1;w.position&&w.position.lineNumber&&(E=w.position.lineNumber),w.position&&w.position.column&&(I=w.position.column);let M=E,P=I;w.selectionStart&&w.selectionStart.lineNumber&&(M=w.selectionStart.lineNumber),w.selectionStart&&w.selectionStart.column&&(P=w.selectionStart.column),m.push({selectionStartLineNumber:M,selectionStartColumn:P,positionLineNumber:E,positionColumn:I})}this.setStates(l,"restoreState",0,D.CursorState.fromModelSelections(m)),this.revealPrimary(l,"restoreState",!1,0,!0,1)}onModelContentChanged(l,p){if(p instanceof s.ModelInjectedTextChangedEvent){if(this._isHandling)return;this._isHandling=!0;try{this.setStates(l,"modelChange",0,this.getCursorStates())}finally{this._isHandling=!1}}else{const m=p.rawContentChangedEvent;if(this._knownModelVersionId=m.versionId,this._isHandling)return;const v=m.containsEvent(1);if(this._prevEditOperationType=0,v)this._cursors.dispose(),this._cursors=new y.CursorCollection(this.context),this._validateAutoClosedActions(),this._emitStateChangedIfNecessary(l,"model",1,null,!1);else if(this._hasFocus&&m.resultingSelection&&m.resultingSelection.length>0){const b=D.CursorState.fromModelSelections(m.resultingSelection);this.setStates(l,"modelChange",m.isUndoing?5:m.isRedoing?6:2,b)&&this.revealPrimary(l,"modelChange",!1,0,!0,0)}else{const b=this._cursors.readSelectionFromMarkers();this.setStates(l,"modelChange",2,D.CursorState.fromModelSelections(b))}}}getSelection(){return this._cursors.getPrimaryCursor().modelState.selection}getTopMostViewPosition(){return this._cursors.getTopMostViewPosition()}getBottomMostViewPosition(){return this._cursors.getBottomMostViewPosition()}getCursorColumnSelectData(){if(this._columnSelectData)return this._columnSelectData;const l=this._cursors.getPrimaryCursor(),p=l.viewState.selectionStart.getStartPosition(),m=l.viewState.position;return{isReal:!1,fromViewLineNumber:p.lineNumber,fromViewVisualColumn:this.context.cursorConfig.visibleColumnFromColumn(this._viewModel,p),toViewLineNumber:m.lineNumber,toViewVisualColumn:this.context.cursorConfig.visibleColumnFromColumn(this._viewModel,m)}}getSelections(){return this._cursors.getSelections()}setSelections(l,p,m,v){this.setStates(l,p,v,D.CursorState.fromModelSelections(m))}getPrevEditOperationType(){return this._prevEditOperationType}setPrevEditOperationType(l){this._prevEditOperationType=l}_pushAutoClosedAction(l,p){const m=[],v=[];for(let E=0,I=l.length;E<I;E++)m.push({range:l[E],options:{description:"auto-closed-character",inlineClassName:"auto-closed-character",stickiness:1}}),v.push({range:p[E],options:{description:"auto-closed-enclosing",stickiness:1}});const b=this._model.deltaDecorations([],m),w=this._model.deltaDecorations([],v);this._autoClosedActions.push(new h(this._model,b,w))}_executeEditOperation(l){if(!l)return;l.shouldPushStackElementBefore&&this._model.pushStackElement();const p=r.executeCommands(this._model,this._cursors.getSelections(),l.commands);if(p){this._interpretCommandResult(p);const m=[],v=[];for(let b=0;b<l.commands.length;b++){const w=l.commands[b];w instanceof _.TypeWithAutoClosingCommand&&w.enclosingRange&&w.closeCharacterRange&&(m.push(w.closeCharacterRange),v.push(w.enclosingRange))}m.length>0&&this._pushAutoClosedAction(m,v),this._prevEditOperationType=l.type}l.shouldPushStackElementAfter&&this._model.pushStackElement()}_interpretCommandResult(l){(!l||l.length===0)&&(l=this._cursors.readSelectionFromMarkers()),this._columnSelectData=null,this._cursors.setSelections(l),this._cursors.normalize()}_emitStateChangedIfNecessary(l,p,m,v,b){const w=u.from(this._model,this);if(w.equals(v))return!1;const E=this._cursors.getSelections(),I=this._cursors.getViewSelections();if(l.emitViewEvent(new i.ViewCursorStateChangedEvent(I,E,m)),!v||v.cursorState.length!==w.cursorState.length||w.cursorState.some((M,P)=>!M.modelState.equals(v.cursorState[P].modelState))){const M=v?v.cursorState.map(x=>x.modelState.selection):null,P=v?v.modelVersionId:0;l.emitOutgoingEvent(new t.CursorStateChangedEvent(M,E,P,w.modelVersionId,p||"keyboard",m,b))}return!0}_findAutoClosingPairs(l){if(!l.length)return null;const p=[];for(let m=0,v=l.length;m<v;m++){const b=l[m];if(!b.text||b.text.indexOf(`
`)>=0)return null;const w=b.text.match(/([)\]}>'"`])([^)\]}>'"`]*)$/);if(!w)return null;const E=w[1],I=this.context.cursorConfig.autoClosingPairs.autoClosingPairsCloseSingleChar.get(E);if(!I||I.length!==1)return null;const M=I[0].open,P=b.text.length-w[2].length-1,x=b.text.lastIndexOf(M,P-1);if(x===-1)return null;p.push([x,P])}return p}executeEdits(l,p,m,v){let b=null;p==="snippet"&&(b=this._findAutoClosingPairs(m)),b&&(m[0]._isTracked=!0);const w=[],E=[],I=this._model.pushEditOperations(this.getSelections(),m,M=>{if(b)for(let x=0,T=b.length;x<T;x++){const[A,N]=b[x],F=M[x],O=F.range.startLineNumber,W=F.range.startColumn-1+A,U=F.range.startColumn-1+N;w.push(new g.Range(O,U+1,O,U+2)),E.push(new g.Range(O,W+1,O,U+2))}const P=v(M);return P&&(this._isHandling=!0),P});I&&(this._isHandling=!1,this.setSelections(l,p,I,0)),w.length>0&&this._pushAutoClosedAction(w,E)}_executeEdit(l,p,m,v=0){if(this.context.cursorConfig.readOnly)return;const b=u.from(this._model,this);this._cursors.stopTrackingSelections(),this._isHandling=!0;try{this._cursors.ensureValidState(),l()}catch(w){(0,L.onUnexpectedError)(w)}this._isHandling=!1,this._cursors.startTrackingSelections(),this._validateAutoClosedActions(),this._emitStateChangedIfNecessary(p,m,v,b,!1)&&this.revealPrimary(p,m,!1,0,!0,0)}getAutoClosedCharacters(){return h.getAllAutoClosedCharacters(this._autoClosedActions)}startComposition(l){this._compositionState=new o(this._model,this.getSelections())}endComposition(l,p){const m=this._compositionState?this._compositionState.deduceOutcome(this._model,this.getSelections()):null;this._compositionState=null,this._executeEdit(()=>{p==="keyboard"&&this._executeEditOperation(_.TypeOperations.compositionEndWithInterceptors(this._prevEditOperationType,this.context.cursorConfig,this._model,m,this.getSelections(),this.getAutoClosedCharacters()))},l,p)}type(l,p,m){this._executeEdit(()=>{if(m==="keyboard"){const v=p.length;let b=0;for(;b<v;){const w=k.nextCharLength(p,b),E=p.substr(b,w);this._executeEditOperation(_.TypeOperations.typeWithInterceptors(!!this._compositionState,this._prevEditOperationType,this.context.cursorConfig,this._model,this.getSelections(),this.getAutoClosedCharacters(),E)),b+=w}}else this._executeEditOperation(_.TypeOperations.typeWithoutInterceptors(this._prevEditOperationType,this.context.cursorConfig,this._model,this.getSelections(),p))},l,m)}compositionType(l,p,m,v,b,w){if(p.length===0&&m===0&&v===0){if(b!==0){const E=this.getSelections().map(I=>{const M=I.getPosition();return new C.Selection(M.lineNumber,M.column+b,M.lineNumber,M.column+b)});this.setSelections(l,w,E,0)}return}this._executeEdit(()=>{this._executeEditOperation(_.TypeOperations.compositionType(this._prevEditOperationType,this.context.cursorConfig,this._model,this.getSelections(),p,m,v,b))},l,w)}paste(l,p,m,v,b){this._executeEdit(()=>{this._executeEditOperation(_.TypeOperations.paste(this.context.cursorConfig,this._model,this.getSelections(),p,m,v||[]))},l,b,4)}cut(l,p){this._executeEdit(()=>{this._executeEditOperation(f.DeleteOperations.cut(this.context.cursorConfig,this._model,this.getSelections()))},l,p)}executeCommand(l,p,m){this._executeEdit(()=>{this._cursors.killSecondaryCursors(),this._executeEditOperation(new D.EditOperationResult(0,[p],{shouldPushStackElementBefore:!1,shouldPushStackElementAfter:!1}))},l,m)}executeCommands(l,p,m){this._executeEdit(()=>{this._executeEditOperation(new D.EditOperationResult(0,p,{shouldPushStackElementBefore:!1,shouldPushStackElementAfter:!1}))},l,m)}}e.CursorsController=a;class u{static from(l,p){return new u(l.getVersionId(),p.getCursorStates())}constructor(l,p){this.modelVersionId=l,this.cursorState=p}equals(l){if(!l||this.modelVersionId!==l.modelVersionId||this.cursorState.length!==l.cursorState.length)return!1;for(let p=0,m=this.cursorState.length;p<m;p++)if(!this.cursorState[p].equals(l.cursorState[p]))return!1;return!0}}class h{static getAllAutoClosedCharacters(l){let p=[];for(const m of l)p=p.concat(m.getAutoClosedCharactersRanges());return p}constructor(l,p,m){this._model=l,this._autoClosedCharactersDecorations=p,this._autoClosedEnclosingDecorations=m}dispose(){this._autoClosedCharactersDecorations=this._model.deltaDecorations(this._autoClosedCharactersDecorations,[]),this._autoClosedEnclosingDecorations=this._model.deltaDecorations(this._autoClosedEnclosingDecorations,[])}getAutoClosedCharactersRanges(){const l=[];for(let p=0;p<this._autoClosedCharactersDecorations.length;p++){const m=this._model.getDecorationRange(this._autoClosedCharactersDecorations[p]);m&&l.push(m)}return l}isValid(l){const p=[];for(let m=0;m<this._autoClosedEnclosingDecorations.length;m++){const v=this._model.getDecorationRange(this._autoClosedEnclosingDecorations[m]);if(v&&(p.push(v),v.startLineNumber!==v.endLineNumber))return!1}p.sort(g.Range.compareRangesUsingStarts),l.sort(g.Range.compareRangesUsingStarts);for(let m=0;m<l.length;m++)if(m>=p.length||!p[m].strictContainsRange(l[m]))return!1;return!0}}class r{static executeCommands(l,p,m){const v={model:l,selectionsBefore:p,trackedRanges:[],trackedRangesDirection:[]},b=this._innerExecuteCommands(v,m);for(let w=0,E=v.trackedRanges.length;w<E;w++)v.model._setTrackedRange(v.trackedRanges[w],null,0);return b}static _innerExecuteCommands(l,p){if(this._arrayIsEmpty(p))return null;const m=this._getEditOperations(l,p);if(m.operations.length===0)return null;const v=m.operations,b=this._getLoserCursorMap(v);if(b.hasOwnProperty("0"))return console.warn("Ignoring commands"),null;const w=[];for(let M=0,P=v.length;M<P;M++)b.hasOwnProperty(v[M].identifier.major.toString())||w.push(v[M]);m.hadTrackedEditOperation&&w.length>0&&(w[0]._isTracked=!0);let E=l.model.pushEditOperations(l.selectionsBefore,w,M=>{const P=[];for(let A=0;A<l.selectionsBefore.length;A++)P[A]=[];for(const A of M)A.identifier&&P[A.identifier.major].push(A);const x=(A,N)=>A.identifier.minor-N.identifier.minor,T=[];for(let A=0;A<l.selectionsBefore.length;A++)P[A].length>0?(P[A].sort(x),T[A]=p[A].computeCursorState(l.model,{getInverseEditOperations:()=>P[A],getTrackedSelection:N=>{const F=parseInt(N,10),O=l.model._getTrackedRange(l.trackedRanges[F]);return l.trackedRangesDirection[F]===0?new C.Selection(O.startLineNumber,O.startColumn,O.endLineNumber,O.endColumn):new C.Selection(O.endLineNumber,O.endColumn,O.startLineNumber,O.startColumn)}})):T[A]=l.selectionsBefore[A];return T});E||(E=l.selectionsBefore);const I=[];for(const M in b)b.hasOwnProperty(M)&&I.push(parseInt(M,10));I.sort((M,P)=>P-M);for(const M of I)E.splice(M,1);return E}static _arrayIsEmpty(l){for(let p=0,m=l.length;p<m;p++)if(l[p])return!1;return!0}static _getEditOperations(l,p){let m=[],v=!1;for(let b=0,w=p.length;b<w;b++){const E=p[b];if(E){const I=this._getEditOperationsFromCommand(l,b,E);m=m.concat(I.operations),v=v||I.hadTrackedEditOperation}}return{operations:m,hadTrackedEditOperation:v}}static _getEditOperationsFromCommand(l,p,m){const v=[];let b=0;const w=(x,T,A=!1)=>{g.Range.isEmpty(x)&&T===""||v.push({identifier:{major:p,minor:b++},range:x,text:T,forceMoveMarkers:A,isAutoWhitespaceEdit:m.insertsAutoWhitespace})};let E=!1;const P={addEditOperation:w,addTrackedEditOperation:(x,T,A)=>{E=!0,w(x,T,A)},trackSelection:(x,T)=>{const A=C.Selection.liftSelection(x);let N;if(A.isEmpty())if(typeof T=="boolean")T?N=2:N=3;else{const W=l.model.getLineMaxColumn(A.startLineNumber);A.startColumn===W?N=2:N=3}else N=1;const F=l.trackedRanges.length,O=l.model._setTrackedRange(null,A,N);return l.trackedRanges[F]=O,l.trackedRangesDirection[F]=A.getDirection(),F.toString()}};try{m.getEditOperations(l.model,P)}catch(x){return(0,L.onUnexpectedError)(x),{operations:[],hadTrackedEditOperation:!1}}return{operations:v,hadTrackedEditOperation:E}}static _getLoserCursorMap(l){l=l.slice(0),l.sort((m,v)=>-g.Range.compareRangesUsingEnds(m.range,v.range));const p={};for(let m=1;m<l.length;m++){const v=l[m-1],b=l[m];if(g.Range.getStartPosition(v.range).isBefore(g.Range.getEndPosition(b.range))){let w;v.identifier.major>b.identifier.major?w=v.identifier.major:w=b.identifier.major,p[w.toString()]=!0;for(let E=0;E<l.length;E++)l[E].identifier.major===w&&(l.splice(E,1),E<m&&m--,E--);m>0&&m--}}return p}}class c{constructor(l,p,m){this.text=l,this.startSelection=p,this.endSelection=m}}class o{static _capture(l,p){const m=[];for(const v of p){if(v.startLineNumber!==v.endLineNumber)return null;m.push(new c(l.getLineContent(v.startLineNumber),v.startColumn-1,v.endColumn-1))}return m}constructor(l,p){this._original=o._capture(l,p)}deduceOutcome(l,p){if(!this._original)return null;const m=o._capture(l,p);if(!m||this._original.length!==m.length)return null;const v=[];for(let b=0,w=this._original.length;b<w;b++)v.push(o._deduceOutcome(this._original[b],m[b]));return v}static _deduceOutcome(l,p){const m=Math.min(l.startSelection,p.startSelection,k.commonPrefixLength(l.text,p.text)),v=Math.min(l.text.length-l.endSelection,p.text.length-p.endSelection,k.commonSuffixLength(l.text,p.text)),b=l.text.substring(m,l.text.length-v),w=p.text.substring(m,p.text.length-v);return new _.CompositionOutcome(b,l.startSelection-m,l.endSelection-m,w,p.startSelection-m,p.endSelection-m)}}}),define(ne[775],se([1,0,54,45,78,330]),function(Q,e,L,k,y,D){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.getIconClasses=void 0;const S=/(?:\/|^)(?:([^\/]+)\/)?([^\/]+)$/;function f(C,s,i,n){const t=n===D.FileKind.ROOT_FOLDER?["rootfolder-icon"]:n===D.FileKind.FOLDER?["folder-icon"]:["file-icon"];if(i){let a;if(i.scheme===L.Schemas.data)a=k.DataUri.parseMetaData(i).get(k.DataUri.META_DATA_LABEL);else{const u=i.path.match(S);u?(a=g(u[2].toLowerCase()),u[1]&&t.push(`${g(u[1].toLowerCase())}-name-dir-icon`)):a=g(i.authority.toLowerCase())}if(n===D.FileKind.FOLDER)t.push(`${a}-name-folder-icon`);else{if(a){if(t.push(`${a}-name-file-icon`),t.push("name-file-icon"),a.length<=255){const h=a.split(".");for(let r=1;r<h.length;r++)t.push(`${h.slice(r).join(".")}-ext-file-icon`)}t.push("ext-file-icon")}const u=_(C,s,i);u&&t.push(`${g(u)}-lang-file-icon`)}}return t}e.getIconClasses=f;function _(C,s,i){if(!i)return null;let n=null;if(i.scheme===L.Schemas.data){const a=k.DataUri.parseMetaData(i).get(k.DataUri.META_DATA_MIME);a&&(n=s.getLanguageIdByMimeType(a))}else{const t=C.getModel(i);t&&(n=t.getLanguageId())}return n&&n!==y.PLAINTEXT_LANGUAGE_ID?n:s.guessLanguageIdByFilepathOrFirstLine(i)}function g(C){return C.replace(/[\11\12\14\15\40]/g,"/")}}),define(ne[776],se([1,0,303,107,54,92,45,11,78]),function(Q,e,L,k,y,D,S,f,_){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.getLanguageIds=e.clearPlatformLanguageAssociations=e.registerPlatformLanguageAssociation=void 0;let g=[],C=[],s=[];function i(o,d=!1){n(o,!1,d)}e.registerPlatformLanguageAssociation=i;function n(o,d,l){const p=t(o,d);g.push(p),p.userConfigured?s.push(p):C.push(p),l&&!p.userConfigured&&g.forEach(m=>{m.mime===p.mime||m.userConfigured||(p.extension&&m.extension===p.extension&&console.warn(`Overwriting extension <<${p.extension}>> to now point to mime <<${p.mime}>>`),p.filename&&m.filename===p.filename&&console.warn(`Overwriting filename <<${p.filename}>> to now point to mime <<${p.mime}>>`),p.filepattern&&m.filepattern===p.filepattern&&console.warn(`Overwriting filepattern <<${p.filepattern}>> to now point to mime <<${p.mime}>>`),p.firstline&&m.firstline===p.firstline&&console.warn(`Overwriting firstline <<${p.firstline}>> to now point to mime <<${p.mime}>>`))})}function t(o,d){return{id:o.id,mime:o.mime,filename:o.filename,extension:o.extension,filepattern:o.filepattern,firstline:o.firstline,userConfigured:d,filenameLowercase:o.filename?o.filename.toLowerCase():void 0,extensionLowercase:o.extension?o.extension.toLowerCase():void 0,filepatternLowercase:o.filepattern?(0,L.parse)(o.filepattern.toLowerCase()):void 0,filepatternOnPath:o.filepattern?o.filepattern.indexOf(D.posix.sep)>=0:!1}}function a(){g=g.filter(o=>o.userConfigured),C=[]}e.clearPlatformLanguageAssociations=a;function u(o,d){return h(o,d).map(l=>l.id)}e.getLanguageIds=u;function h(o,d){let l;if(o)switch(o.scheme){case y.Schemas.file:l=o.fsPath;break;case y.Schemas.data:{l=S.DataUri.parseMetaData(o).get(S.DataUri.META_DATA_LABEL);break}case y.Schemas.vscodeNotebookCell:l=void 0;break;default:l=o.path}if(!l)return[{id:"unknown",mime:k.Mimes.unknown}];l=l.toLowerCase();const p=(0,D.basename)(l),m=r(l,p,s);if(m)return[m,{id:_.PLAINTEXT_LANGUAGE_ID,mime:k.Mimes.text}];const v=r(l,p,C);if(v)return[v,{id:_.PLAINTEXT_LANGUAGE_ID,mime:k.Mimes.text}];if(d){const b=c(d);if(b)return[b,{id:_.PLAINTEXT_LANGUAGE_ID,mime:k.Mimes.text}]}return[{id:"unknown",mime:k.Mimes.unknown}]}function r(o,d,l){var p;let m,v,b;for(let w=l.length-1;w>=0;w--){const E=l[w];if(d===E.filenameLowercase){m=E;break}if(E.filepattern&&(!v||E.filepattern.length>v.filepattern.length)){const I=E.filepatternOnPath?o:d;!((p=E.filepatternLowercase)===null||p===void 0)&&p.call(E,I)&&(v=E)}E.extension&&(!b||E.extension.length>b.extension.length)&&d.endsWith(E.extensionLowercase)&&(b=E)}if(m)return m;if(v)return v;if(b)return b}function c(o){if((0,f.startsWithUTF8BOM)(o)&&(o=o.substr(1)),o.length>0)for(let d=g.length-1;d>=0;d--){const l=g[d];if(!l.firstline)continue;const p=o.match(l.firstline);if(p&&p.length>0)return l}}}),define(ne[777],se([1,0,6,2,11,776,78,98,37]),function(Q,e,L,k,y,D,S,f,_){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.LanguagesRegistry=e.LanguageIdCodec=void 0;const g=Object.prototype.hasOwnProperty,C="vs.editor.nullLanguage";class s{constructor(){this._languageIdToLanguage=[],this._languageToLanguageId=new Map,this._register(C,0),this._register(S.PLAINTEXT_LANGUAGE_ID,1),this._nextLanguageId=2}_register(t,a){this._languageIdToLanguage[a]=t,this._languageToLanguageId.set(t,a)}register(t){if(this._languageToLanguageId.has(t))return;const a=this._nextLanguageId++;this._register(t,a)}encodeLanguageId(t){return this._languageToLanguageId.get(t)||0}decodeLanguageId(t){return this._languageIdToLanguage[t]||C}}e.LanguageIdCodec=s;class i extends k.Disposable{constructor(t=!0,a=!1){super(),this._onDidChange=this._register(new L.Emitter),this.onDidChange=this._onDidChange.event,i.instanceCount++,this._warnOnOverwrite=a,this.languageIdCodec=new s,this._dynamicLanguages=[],this._languages={},this._mimeTypesMap={},this._nameMap={},this._lowercaseNameMap={},t&&(this._initializeFromRegistry(),this._register(S.ModesRegistry.onDidChangeLanguages(u=>{this._initializeFromRegistry()})))}dispose(){i.instanceCount--,super.dispose()}_initializeFromRegistry(){this._languages={},this._mimeTypesMap={},this._nameMap={},this._lowercaseNameMap={},(0,D.clearPlatformLanguageAssociations)();const t=[].concat(S.ModesRegistry.getLanguages()).concat(this._dynamicLanguages);this._registerLanguages(t)}_registerLanguages(t){for(const a of t)this._registerLanguage(a);this._mimeTypesMap={},this._nameMap={},this._lowercaseNameMap={},Object.keys(this._languages).forEach(a=>{const u=this._languages[a];u.name&&(this._nameMap[u.name]=u.identifier),u.aliases.forEach(h=>{this._lowercaseNameMap[h.toLowerCase()]=u.identifier}),u.mimetypes.forEach(h=>{this._mimeTypesMap[h]=u.identifier})}),_.Registry.as(f.Extensions.Configuration).registerOverrideIdentifiers(this.getRegisteredLanguageIds()),this._onDidChange.fire()}_registerLanguage(t){const a=t.id;let u;g.call(this._languages,a)?u=this._languages[a]:(this.languageIdCodec.register(a),u={identifier:a,name:null,mimetypes:[],aliases:[],extensions:[],filenames:[],configurationFiles:[],icons:[]},this._languages[a]=u),this._mergeLanguage(u,t)}_mergeLanguage(t,a){const u=a.id;let h=null;if(Array.isArray(a.mimetypes)&&a.mimetypes.length>0&&(t.mimetypes.push(...a.mimetypes),h=a.mimetypes[0]),h||(h=`text/x-${u}`,t.mimetypes.push(h)),Array.isArray(a.extensions)){a.configuration?t.extensions=a.extensions.concat(t.extensions):t.extensions=t.extensions.concat(a.extensions);for(const o of a.extensions)(0,D.registerPlatformLanguageAssociation)({id:u,mime:h,extension:o},this._warnOnOverwrite)}if(Array.isArray(a.filenames))for(const o of a.filenames)(0,D.registerPlatformLanguageAssociation)({id:u,mime:h,filename:o},this._warnOnOverwrite),t.filenames.push(o);if(Array.isArray(a.filenamePatterns))for(const o of a.filenamePatterns)(0,D.registerPlatformLanguageAssociation)({id:u,mime:h,filepattern:o},this._warnOnOverwrite);if(typeof a.firstLine=="string"&&a.firstLine.length>0){let o=a.firstLine;o.charAt(0)!=="^"&&(o="^"+o);try{const d=new RegExp(o);(0,y.regExpLeadsToEndlessLoop)(d)||(0,D.registerPlatformLanguageAssociation)({id:u,mime:h,firstline:d},this._warnOnOverwrite)}catch(d){console.warn(`[${a.id}]: Invalid regular expression \`${o}\`: `,d)}}t.aliases.push(u);let r=null;if(typeof a.aliases<"u"&&Array.isArray(a.aliases)&&(a.aliases.length===0?r=[null]:r=a.aliases),r!==null)for(const o of r)!o||o.length===0||t.aliases.push(o);const c=r!==null&&r.length>0;if(!(c&&r[0]===null)){const o=(c?r[0]:null)||u;(c||!t.name)&&(t.name=o)}a.configuration&&t.configurationFiles.push(a.configuration),a.icon&&t.icons.push(a.icon)}isRegisteredLanguageId(t){return t?g.call(this._languages,t):!1}getRegisteredLanguageIds(){return Object.keys(this._languages)}getLanguageIdByLanguageName(t){const a=t.toLowerCase();return g.call(this._lowercaseNameMap,a)?this._lowercaseNameMap[a]:null}getLanguageIdByMimeType(t){return t&&g.call(this._mimeTypesMap,t)?this._mimeTypesMap[t]:null}guessLanguageIdByFilepathOrFirstLine(t,a){return!t&&!a?[]:(0,D.getLanguageIds)(t,a)}}e.LanguagesRegistry=i,i.instanceCount=0}),define(ne[778],se([1,0,6,2,777,14,29,78]),function(Q,e,L,k,y,D,S,f){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.LanguageService=void 0;class _ extends k.Disposable{constructor(s=!1){super(),this._onDidRequestBasicLanguageFeatures=this._register(new L.Emitter),this.onDidRequestBasicLanguageFeatures=this._onDidRequestBasicLanguageFeatures.event,this._onDidRequestRichLanguageFeatures=this._register(new L.Emitter),this.onDidRequestRichLanguageFeatures=this._onDidRequestRichLanguageFeatures.event,this._onDidChange=this._register(new L.Emitter({leakWarningThreshold:200})),this.onDidChange=this._onDidChange.event,this._requestedBasicLanguages=new Set,this._requestedRichLanguages=new Set,_.instanceCount++,this._registry=this._register(new y.LanguagesRegistry(!0,s)),this.languageIdCodec=this._registry.languageIdCodec,this._register(this._registry.onDidChange(()=>this._onDidChange.fire()))}dispose(){_.instanceCount--,super.dispose()}isRegisteredLanguageId(s){return this._registry.isRegisteredLanguageId(s)}getLanguageIdByLanguageName(s){return this._registry.getLanguageIdByLanguageName(s)}getLanguageIdByMimeType(s){return this._registry.getLanguageIdByMimeType(s)}guessLanguageIdByFilepathOrFirstLine(s,i){const n=this._registry.guessLanguageIdByFilepathOrFirstLine(s,i);return(0,D.firstOrDefault)(n,null)}createById(s){return new g(this.onDidChange,()=>this._createAndGetLanguageIdentifier(s))}createByFilepathOrFirstLine(s,i){return new g(this.onDidChange,()=>{const n=this.guessLanguageIdByFilepathOrFirstLine(s,i);return this._createAndGetLanguageIdentifier(n)})}_createAndGetLanguageIdentifier(s){return(!s||!this.isRegisteredLanguageId(s))&&(s=f.PLAINTEXT_LANGUAGE_ID),s}requestBasicLanguageFeatures(s){this._requestedBasicLanguages.has(s)||(this._requestedBasicLanguages.add(s),this._onDidRequestBasicLanguageFeatures.fire(s))}requestRichLanguageFeatures(s){this._requestedRichLanguages.has(s)||(this._requestedRichLanguages.add(s),this.requestBasicLanguageFeatures(s),S.TokenizationRegistry.getOrCreate(s),this._onDidRequestRichLanguageFeatures.fire(s))}}e.LanguageService=_,_.instanceCount=0;class g{constructor(s,i){this._onDidChangeLanguages=s,this._selector=i,this._listener=null,this._emitter=null,this.languageId=this._selector()}_dispose(){this._listener&&(this._listener.dispose(),this._listener=null),this._emitter&&(this._emitter.dispose(),this._emitter=null)}get onDidChange(){return this._listener||(this._listener=this._onDidChangeLanguages(()=>this._evaluate())),this._emitter||(this._emitter=new L.Emitter({onDidRemoveLastListener:()=>{this._dispose()}})),this._emitter.event}_evaluate(){var s;const i=this._selector();i!==this.languageId&&(this.languageId=i,(s=this._emitter)===null||s===void 0||s.fire(this.languageId))}}}),define(ne[342],se([1,0,38,242,51,32,2,18,149]),function(Q,e,L,k,y,D,S,f,_){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.DefaultDocumentColorProvider=void 0;class g{constructor(i,n){this._editorWorkerClient=new k.EditorWorkerClient(i,!1,"editorWorkerService",n)}provideDocumentColors(i,n){return we(this,void 0,void 0,function*(){return this._editorWorkerClient.computeDefaultDocumentColors(i.uri)})}provideColorPresentations(i,n,t){const a=n.range,u=n.color,h=u.alpha,r=new L.Color(new L.RGBA(Math.round(255*u.red),Math.round(255*u.green),Math.round(255*u.blue),h)),c=h?L.Color.Format.CSS.formatRGB(r):L.Color.Format.CSS.formatRGBA(r),o=h?L.Color.Format.CSS.formatHSL(r):L.Color.Format.CSS.formatHSLA(r),d=h?L.Color.Format.CSS.formatHex(r):L.Color.Format.CSS.formatHexA(r),l=[];return l.push({label:c,textEdit:{range:a,text:c}}),l.push({label:o,textEdit:{range:a,text:o}}),l.push({label:d,textEdit:{range:a,text:d}}),l}}e.DefaultDocumentColorProvider=g;let C=class extends S.Disposable{constructor(i,n,t){super(),this._register(t.colorProvider.register("*",new g(i,n)))}};C=ke([fe(0,y.IModelService),fe(1,D.ILanguageConfigurationService),fe(2,f.ILanguageFeaturesService)],C),(0,_.registerEditorFeature)(C)}),define(ne[343],se([1,0,19,9,22,5,51,27,18,342,28]),function(Q,e,L,k,y,D,S,f,_,g,C){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.getColorPresentations=e.getColors=void 0;function s(r,c,o,d=!0){return we(this,void 0,void 0,function*(){return u(new n,r,c,o,d)})}e.getColors=s;function i(r,c,o,d){return Promise.resolve(o.provideColorPresentations(r,c,d))}e.getColorPresentations=i;class n{constructor(){}compute(c,o,d,l){return we(this,void 0,void 0,function*(){const p=yield c.provideDocumentColors(o,d);if(Array.isArray(p))for(const m of p)l.push({colorInfo:m,provider:c});return Array.isArray(p)})}}class t{constructor(){}compute(c,o,d,l){return we(this,void 0,void 0,function*(){const p=yield c.provideDocumentColors(o,d);if(Array.isArray(p))for(const m of p)l.push({range:m.range,color:[m.color.red,m.color.green,m.color.blue,m.color.alpha]});return Array.isArray(p)})}}class a{constructor(c){this.colorInfo=c}compute(c,o,d,l){return we(this,void 0,void 0,function*(){const p=yield c.provideColorPresentations(o,this.colorInfo,L.CancellationToken.None);return Array.isArray(p)&&l.push(...p),Array.isArray(p)})}}function u(r,c,o,d,l){return we(this,void 0,void 0,function*(){let p=!1,m;const v=[],b=c.ordered(o);for(let w=b.length-1;w>=0;w--){const E=b[w];if(E instanceof g.DefaultDocumentColorProvider)m=E;else try{(yield r.compute(E,o,d,v))&&(p=!0)}catch(I){(0,k.onUnexpectedExternalError)(I)}}return p?v:m&&l?(yield r.compute(m,o,d,v),v):[]})}function h(r,c){const{colorProvider:o}=r.get(_.ILanguageFeaturesService),d=r.get(S.IModelService).getModel(c);if(!d)throw(0,k.illegalArgument)();const l=r.get(C.IConfigurationService).getValue("editor.defaultColorDecorators",{resource:c});return{model:d,colorProviderRegistry:o,isDefaultColorDecoratorsEnabled:l}}f.CommandsRegistry.registerCommand("_executeDocumentColorProvider",function(r,...c){const[o]=c;if(!(o instanceof y.URI))throw(0,k.illegalArgument)();const{model:d,colorProviderRegistry:l,isDefaultColorDecoratorsEnabled:p}=h(r,o);return u(new t,l,d,L.CancellationToken.None,p)}),f.CommandsRegistry.registerCommand("_executeColorPresentationProvider",function(r,...c){const[o,d]=c,{uri:l,range:p}=d;if(!(l instanceof y.URI)||!Array.isArray(o)||o.length!==4||!D.Range.isIRange(p))throw(0,k.illegalArgument)();const{model:m,colorProviderRegistry:v,isDefaultColorDecoratorsEnabled:b}=h(r,l),[w,E,I,M]=o;return u(new a({range:p,color:{red:w,green:E,blue:I,alpha:M}}),v,m,L.CancellationToken.None,b)})}),define(ne[779],se([1,0,19,72,2,42,12,29,32,18,600,296]),function(Q,e,L,k,y,D,S,f,_,g,C,s){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.InlineCompletionWithUpdatedRange=e.UpToDateInlineCompletions=e.InlineCompletionsSource=void 0;let i=class extends y.Disposable{constructor(d,l,p,m,v){super(),this.textModel=d,this.versionId=l,this._debounceValue=p,this.languageFeaturesService=m,this.languageConfigurationService=v,this._updateOperation=this._register(new y.MutableDisposable),this.inlineCompletions=(0,D.disposableObservableValue)("inlineCompletions",void 0),this.suggestWidgetInlineCompletions=(0,D.disposableObservableValue)("suggestWidgetInlineCompletions",void 0),this._register(this.textModel.onDidChangeContent(()=>{this._updateOperation.clear()}))}fetch(d,l,p){var m,v;const b=new t(d,l,this.textModel.getVersionId()),w=l.selectedSuggestionInfo?this.suggestWidgetInlineCompletions:this.inlineCompletions;if(!((m=this._updateOperation.value)===null||m===void 0)&&m.request.satisfies(b))return this._updateOperation.value.promise;if(!((v=w.get())===null||v===void 0)&&v.request.satisfies(b))return Promise.resolve(!0);const E=!!this._updateOperation.value;this._updateOperation.clear();const I=new L.CancellationTokenSource,M=(()=>we(this,void 0,void 0,function*(){if((E||l.triggerKind===f.InlineCompletionTriggerKind.Automatic)&&(yield n(this._debounceValue.get(this.textModel))),I.token.isCancellationRequested||this.textModel.getVersionId()!==b.versionId)return!1;const T=new Date,A=yield(0,C.provideInlineCompletions)(this.languageFeaturesService.inlineCompletionsProvider,d,this.textModel,l,I.token,this.languageConfigurationService);if(I.token.isCancellationRequested||this.textModel.getVersionId()!==b.versionId)return!1;const N=new Date;this._debounceValue.update(this.textModel,N.getTime()-T.getTime());const F=new h(A,b,this.textModel,this.versionId);if(p){const O=p.toInlineCompletion(void 0);p.canBeReused(this.textModel,d)&&!A.has(O)&&F.prepend(p.inlineCompletion,O.range,!0)}return this._updateOperation.clear(),(0,D.transaction)(O=>{w.set(F,O)}),!0}))(),P=new u(b,I,M);return this._updateOperation.value=P,M}clear(d){this._updateOperation.clear(),this.inlineCompletions.set(void 0,d),this.suggestWidgetInlineCompletions.set(void 0,d)}clearSuggestWidgetInlineCompletions(d){var l;!((l=this._updateOperation.value)===null||l===void 0)&&l.request.context.selectedSuggestionInfo&&this._updateOperation.clear(),this.suggestWidgetInlineCompletions.set(void 0,d)}cancelUpdate(){this._updateOperation.clear()}};e.InlineCompletionsSource=i,e.InlineCompletionsSource=i=ke([fe(3,g.ILanguageFeaturesService),fe(4,_.ILanguageConfigurationService)],i);function n(o,d){return new Promise(l=>{let p;const m=setTimeout(()=>{p&&p.dispose(),l()},o);d&&(p=d.onCancellationRequested(()=>{clearTimeout(m),p&&p.dispose(),l()}))})}class t{constructor(d,l,p){this.position=d,this.context=l,this.versionId=p}satisfies(d){return this.position.equals(d.position)&&a(this.context.selectedSuggestionInfo,d.context.selectedSuggestionInfo,(l,p)=>l.equals(p))&&(d.context.triggerKind===f.InlineCompletionTriggerKind.Automatic||this.context.triggerKind===f.InlineCompletionTriggerKind.Explicit)&&this.versionId===d.versionId}}function a(o,d,l){return!o||!d?o===d:l(o,d)}class u{constructor(d,l,p){this.request=d,this.cancellationTokenSource=l,this.promise=p}dispose(){this.cancellationTokenSource.cancel()}}class h{get inlineCompletions(){return this._inlineCompletions}constructor(d,l,p,m){this.inlineCompletionProviderResult=d,this.request=l,this.textModel=p,this.versionId=m,this._refCount=1,this._prependedInlineCompletionItems=[],this._rangeVersionIdValue=0,this._rangeVersionId=(0,D.derived)(b=>{this.versionId.read(b);let w=!1;for(const E of this._inlineCompletions)w=w||E._updateRange(this.textModel);return w&&this._rangeVersionIdValue++,this._rangeVersionIdValue});const v=p.deltaDecorations([],d.completions.map(b=>({range:b.range,options:{description:"inline-completion-tracking-range"}})));this._inlineCompletions=d.completions.map((b,w)=>new r(b,v[w],this._rangeVersionId))}clone(){return this._refCount++,this}dispose(){if(this._refCount--,this._refCount===0){setTimeout(()=>{this.textModel.isDisposed()||this.textModel.deltaDecorations(this._inlineCompletions.map(d=>d.decorationId),[])},0),this.inlineCompletionProviderResult.dispose();for(const d of this._prependedInlineCompletionItems)d.source.removeRef()}}prepend(d,l,p){p&&d.source.addRef();const m=this.textModel.deltaDecorations([],[{range:l,options:{description:"inline-completion-tracking-range"}}])[0];this._inlineCompletions.unshift(new r(d,m,this._rangeVersionId,l)),this._prependedInlineCompletionItems.push(d)}}e.UpToDateInlineCompletions=h;class r{get forwardStable(){var d;return(d=this.inlineCompletion.source.inlineCompletions.enableForwardStability)!==null&&d!==void 0?d:!1}constructor(d,l,p,m){this.inlineCompletion=d,this.decorationId=l,this.rangeVersion=p,this.semanticId=JSON.stringify([this.inlineCompletion.filterText,this.inlineCompletion.insertText,this.inlineCompletion.range.getStartPosition().toString()]),this._isValid=!0,this._updatedRange=m??d.range}toInlineCompletion(d){return this.inlineCompletion.withRange(this._getUpdatedRange(d))}toSingleTextEdit(d){return new s.SingleTextEdit(this._getUpdatedRange(d),this.inlineCompletion.insertText)}isVisible(d,l,p){const m=this._toFilterTextReplacement(p).removeCommonPrefix(d);if(!this._isValid||!this.inlineCompletion.range.getStartPosition().equals(this._getUpdatedRange(p).getStartPosition())||l.lineNumber!==m.range.startLineNumber)return!1;const v=d.getValueInRange(m.range,1).toLowerCase(),b=m.text.toLowerCase(),w=Math.max(0,l.column-m.range.startColumn);let E=b.substring(0,w),I=b.substring(w),M=v.substring(0,w),P=v.substring(w);const x=d.getLineIndentColumn(m.range.startLineNumber);return m.range.startColumn<=x&&(M=M.trimStart(),M.length===0&&(P=P.trimStart()),E=E.trimStart(),E.length===0&&(I=I.trimStart())),E.startsWith(M)&&!!(0,k.matchesSubString)(P,I)}canBeReused(d,l){return this._isValid&&this._getUpdatedRange(void 0).containsPosition(l)&&this.isVisible(d,l,void 0)&&!this._isSmallerThanOriginal(void 0)}_toFilterTextReplacement(d){return new s.SingleTextEdit(this._getUpdatedRange(d),this.inlineCompletion.filterText)}_isSmallerThanOriginal(d){return c(this._getUpdatedRange(d)).isBefore(c(this.inlineCompletion.range))}_getUpdatedRange(d){return this.rangeVersion.read(d),this._updatedRange}_updateRange(d){const l=d.getDecorationRange(this.decorationId);return l?this._updatedRange.equalsRange(l)?!1:(this._updatedRange=l,!0):(this._isValid=!1,!0)}}e.InlineCompletionWithUpdatedRange=r;function c(o){return o.startLineNumber===o.endLineNumber?new S.Position(1,1+o.endColumn-o.startColumn):new S.Position(1+o.endLineNumber-o.startLineNumber,o.endColumn)}}),define(ne[780],se([1,0,11,245,5,24,110,32,295,243,244]),function(Q,e,L,k,y,D,S,f,_,g,C){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.MoveLinesCommand=void 0;let s=class{constructor(n,t,a,u){this._languageConfigurationService=u,this._selection=n,this._isMovingDown=t,this._autoIndent=a,this._selectionId=null,this._moveEndLineSelectionShrink=!1}getEditOperations(n,t){const a=n.getLineCount();if(this._isMovingDown&&this._selection.endLineNumber===a){this._selectionId=t.trackSelection(this._selection);return}if(!this._isMovingDown&&this._selection.startLineNumber===1){this._selectionId=t.trackSelection(this._selection);return}this._moveEndPositionDown=!1;let u=this._selection;u.startLineNumber<u.endLineNumber&&u.endColumn===1&&(this._moveEndPositionDown=!0,u=u.setEndPosition(u.endLineNumber-1,n.getLineMaxColumn(u.endLineNumber-1)));const{tabSize:h,indentSize:r,insertSpaces:c}=n.getOptions(),o=this.buildIndentConverter(h,r,c),d={tokenization:{getLineTokens:l=>n.tokenization.getLineTokens(l),getLanguageId:()=>n.getLanguageId(),getLanguageIdAtPosition:(l,p)=>n.getLanguageIdAtPosition(l,p)},getLineContent:null};if(u.startLineNumber===u.endLineNumber&&n.getLineMaxColumn(u.startLineNumber)===1){const l=u.startLineNumber,p=this._isMovingDown?l+1:l-1;n.getLineMaxColumn(p)===1?t.addEditOperation(new y.Range(1,1,1,1),null):(t.addEditOperation(new y.Range(l,1,l,1),n.getLineContent(p)),t.addEditOperation(new y.Range(p,1,p,n.getLineMaxColumn(p)),null)),u=new D.Selection(p,1,p,1)}else{let l,p;if(this._isMovingDown){l=u.endLineNumber+1,p=n.getLineContent(l),t.addEditOperation(new y.Range(l-1,n.getLineMaxColumn(l-1),l,n.getLineMaxColumn(l)),null);let m=p;if(this.shouldAutoIndent(n,u)){const v=this.matchEnterRule(n,o,h,l,u.startLineNumber-1);if(v!==null){const w=L.getLeadingWhitespace(n.getLineContent(l)),E=v+_.getSpaceCnt(w,h);m=_.generateIndent(E,h,c)+this.trimStart(p)}else{d.getLineContent=E=>E===u.startLineNumber?n.getLineContent(l):n.getLineContent(E);const w=(0,g.getGoodIndentForLine)(this._autoIndent,d,n.getLanguageIdAtPosition(l,1),u.startLineNumber,o,this._languageConfigurationService);if(w!==null){const E=L.getLeadingWhitespace(n.getLineContent(l)),I=_.getSpaceCnt(w,h),M=_.getSpaceCnt(E,h);I!==M&&(m=_.generateIndent(I,h,c)+this.trimStart(p))}}t.addEditOperation(new y.Range(u.startLineNumber,1,u.startLineNumber,1),m+`
`);const b=this.matchEnterRuleMovingDown(n,o,h,u.startLineNumber,l,m);if(b!==null)b!==0&&this.getIndentEditsOfMovingBlock(n,t,u,h,c,b);else{d.getLineContent=E=>E===u.startLineNumber?m:E>=u.startLineNumber+1&&E<=u.endLineNumber+1?n.getLineContent(E-1):n.getLineContent(E);const w=(0,g.getGoodIndentForLine)(this._autoIndent,d,n.getLanguageIdAtPosition(l,1),u.startLineNumber+1,o,this._languageConfigurationService);if(w!==null){const E=L.getLeadingWhitespace(n.getLineContent(u.startLineNumber)),I=_.getSpaceCnt(w,h),M=_.getSpaceCnt(E,h);if(I!==M){const P=I-M;this.getIndentEditsOfMovingBlock(n,t,u,h,c,P)}}}}else t.addEditOperation(new y.Range(u.startLineNumber,1,u.startLineNumber,1),m+`
`)}else if(l=u.startLineNumber-1,p=n.getLineContent(l),t.addEditOperation(new y.Range(l,1,l+1,1),null),t.addEditOperation(new y.Range(u.endLineNumber,n.getLineMaxColumn(u.endLineNumber),u.endLineNumber,n.getLineMaxColumn(u.endLineNumber)),`
`+p),this.shouldAutoIndent(n,u)){d.getLineContent=v=>v===l?n.getLineContent(u.startLineNumber):n.getLineContent(v);const m=this.matchEnterRule(n,o,h,u.startLineNumber,u.startLineNumber-2);if(m!==null)m!==0&&this.getIndentEditsOfMovingBlock(n,t,u,h,c,m);else{const v=(0,g.getGoodIndentForLine)(this._autoIndent,d,n.getLanguageIdAtPosition(u.startLineNumber,1),l,o,this._languageConfigurationService);if(v!==null){const b=L.getLeadingWhitespace(n.getLineContent(u.startLineNumber)),w=_.getSpaceCnt(v,h),E=_.getSpaceCnt(b,h);if(w!==E){const I=w-E;this.getIndentEditsOfMovingBlock(n,t,u,h,c,I)}}}}}this._selectionId=t.trackSelection(u)}buildIndentConverter(n,t,a){return{shiftIndent:u=>k.ShiftCommand.shiftIndent(u,u.length+1,n,t,a),unshiftIndent:u=>k.ShiftCommand.unshiftIndent(u,u.length+1,n,t,a)}}parseEnterResult(n,t,a,u,h){if(h){let r=h.indentation;h.indentAction===S.IndentAction.None||h.indentAction===S.IndentAction.Indent?r=h.indentation+h.appendText:h.indentAction===S.IndentAction.IndentOutdent?r=h.indentation:h.indentAction===S.IndentAction.Outdent&&(r=t.unshiftIndent(h.indentation)+h.appendText);const c=n.getLineContent(u);if(this.trimStart(c).indexOf(this.trimStart(r))>=0){const o=L.getLeadingWhitespace(n.getLineContent(u));let d=L.getLeadingWhitespace(r);const l=(0,g.getIndentMetadata)(n,u,this._languageConfigurationService);l!==null&&l&2&&(d=t.unshiftIndent(d));const p=_.getSpaceCnt(d,a),m=_.getSpaceCnt(o,a);return p-m}}return null}matchEnterRuleMovingDown(n,t,a,u,h,r){if(L.lastNonWhitespaceIndex(r)>=0){const c=n.getLineMaxColumn(h),o=(0,C.getEnterAction)(this._autoIndent,n,new y.Range(h,c,h,c),this._languageConfigurationService);return this.parseEnterResult(n,t,a,u,o)}else{let c=u-1;for(;c>=1;){const l=n.getLineContent(c);if(L.lastNonWhitespaceIndex(l)>=0)break;c--}if(c<1||u>n.getLineCount())return null;const o=n.getLineMaxColumn(c),d=(0,C.getEnterAction)(this._autoIndent,n,new y.Range(c,o,c,o),this._languageConfigurationService);return this.parseEnterResult(n,t,a,u,d)}}matchEnterRule(n,t,a,u,h,r){let c=h;for(;c>=1;){let l;if(c===h&&r!==void 0?l=r:l=n.getLineContent(c),L.lastNonWhitespaceIndex(l)>=0)break;c--}if(c<1||u>n.getLineCount())return null;const o=n.getLineMaxColumn(c),d=(0,C.getEnterAction)(this._autoIndent,n,new y.Range(c,o,c,o),this._languageConfigurationService);return this.parseEnterResult(n,t,a,u,d)}trimStart(n){return n.replace(/^\s+/,"")}shouldAutoIndent(n,t){if(this._autoIndent<4||!n.tokenization.isCheapToTokenize(t.startLineNumber))return!1;const a=n.getLanguageIdAtPosition(t.startLineNumber,1),u=n.getLanguageIdAtPosition(t.endLineNumber,1);return!(a!==u||this._languageConfigurationService.getLanguageConfiguration(a).indentRulesSupport===null)}getIndentEditsOfMovingBlock(n,t,a,u,h,r){for(let c=a.startLineNumber;c<=a.endLineNumber;c++){const o=n.getLineContent(c),d=L.getLeadingWhitespace(o),p=_.getSpaceCnt(d,u)+r,m=_.generateIndent(p,u,h);m!==d&&(t.addEditOperation(new y.Range(c,1,c,d.length+1),m),c===a.endLineNumber&&a.endColumn<=d.length+1&&m===""&&(this._moveEndLineSelectionShrink=!0))}}computeCursorState(n,t){let a=t.getTrackedSelection(this._selectionId);return this._moveEndPositionDown&&(a=a.setEndPosition(a.endLineNumber+1,1)),this._moveEndLineSelectionShrink&&a.startLineNumber<a.endLineNumber&&(a=a.setEndPosition(a.endLineNumber,2)),a}};e.MoveLinesCommand=s,e.MoveLinesCommand=s=ke([fe(3,f.ILanguageConfigurationService)],s)}),define(ne[117],se([1,0,183,89,9,6,2,59,41,78,326,56,455]),function(Q,e,L,k,y,D,S,f,_,g,C,s){"use strict";var i;Object.defineProperty(e,"__esModule",{value:!0}),e.openLinkFromMarkdown=e.MarkdownRenderer=void 0;let n=i=class{constructor(h,r,c){this._options=h,this._languageService=r,this._openerService=c,this._onDidRenderAsync=new D.Emitter,this.onDidRenderAsync=this._onDidRenderAsync.event}dispose(){this._onDidRenderAsync.dispose()}render(h,r,c){if(!h)return{element:document.createElement("span"),dispose:()=>{}};const o=new S.DisposableStore,d=o.add((0,L.renderMarkdown)(h,Object.assign(Object.assign({},this._getRenderOptions(h,o)),r),c));return d.element.classList.add("rendered-markdown"),{element:d.element,dispose:()=>o.dispose()}}_getRenderOptions(h,r){return{codeBlockRenderer:(c,o)=>we(this,void 0,void 0,function*(){var d,l,p;let m;c?m=this._languageService.getLanguageIdByLanguageName(c):this._options.editor&&(m=(d=this._options.editor.getModel())===null||d===void 0?void 0:d.getLanguageId()),m||(m=g.PLAINTEXT_LANGUAGE_ID);const v=yield(0,C.tokenizeToString)(this._languageService,o,m),b=document.createElement("span");if(b.innerHTML=(p=(l=i._ttpTokenizer)===null||l===void 0?void 0:l.createHTML(v))!==null&&p!==void 0?p:v,this._options.editor){const w=this._options.editor.getOption(49);(0,f.applyFontInfo)(b,w)}else this._options.codeBlockFontFamily&&(b.style.fontFamily=this._options.codeBlockFontFamily);return this._options.codeBlockFontSize!==void 0&&(b.style.fontSize=this._options.codeBlockFontSize),b}),asyncRenderCallback:()=>this._onDidRenderAsync.fire(),actionHandler:{callback:c=>t(this._openerService,c,h.isTrusted),disposables:r}}}};e.MarkdownRenderer=n,n._ttpTokenizer=(0,k.createTrustedTypesPolicy)("tokenizeToString",{createHTML(u){return u}}),e.MarkdownRenderer=n=i=ke([fe(1,_.ILanguageService),fe(2,s.IOpenerService)],n);function t(u,h,r){return we(this,void 0,void 0,function*(){try{return yield u.open(h,{fromUserGesture:!0,allowContributedOpeners:!0,allowCommands:a(r)})}catch(c){return(0,y.onUnexpectedError)(c),!1}})}e.openLinkFromMarkdown=t;function a(u){return u===!0?!0:u&&Array.isArray(u.enabledCommands)?u.enabledCommands:!1}}),define(ne[781],se([1,0,7,14,55,2,117,321,310]),function(Q,e,L,k,y,D,S,f,_){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.MarginHoverWidget=void 0;const g=L.$;class C extends D.Disposable{constructor(n,t,a){super(),this._renderDisposeables=this._register(new D.DisposableStore),this._editor=n,this._isVisible=!1,this._messages=[],this._hover=this._register(new _.HoverWidget),this._hover.containerDomNode.classList.toggle("hidden",!this._isVisible),this._markdownRenderer=this._register(new S.MarkdownRenderer({editor:this._editor},t,a)),this._computer=new s(this._editor),this._hoverOperation=this._register(new f.HoverOperation(this._editor,this._computer)),this._register(this._hoverOperation.onResult(u=>{this._withResult(u.value)})),this._register(this._editor.onDidChangeModelDecorations(()=>this._onModelDecorationsChanged())),this._register(this._editor.onDidChangeConfiguration(u=>{u.hasChanged(49)&&this._updateFont()})),this._editor.addOverlayWidget(this)}dispose(){this._editor.removeOverlayWidget(this),super.dispose()}getId(){return C.ID}getDomNode(){return this._hover.containerDomNode}getPosition(){return null}_updateFont(){Array.prototype.slice.call(this._hover.contentsDomNode.getElementsByClassName("code")).forEach(t=>this._editor.applyFontInfo(t))}_onModelDecorationsChanged(){this._isVisible&&(this._hoverOperation.cancel(),this._hoverOperation.start(0))}startShowingAt(n){this._computer.lineNumber!==n&&(this._hoverOperation.cancel(),this.hide(),this._computer.lineNumber=n,this._hoverOperation.start(0))}hide(){this._computer.lineNumber=-1,this._hoverOperation.cancel(),this._isVisible&&(this._isVisible=!1,this._hover.containerDomNode.classList.toggle("hidden",!this._isVisible))}_withResult(n){this._messages=n,this._messages.length>0?this._renderMessages(this._computer.lineNumber,this._messages):this.hide()}_renderMessages(n,t){this._renderDisposeables.clear();const a=document.createDocumentFragment();for(const u of t){const h=g("div.hover-row.markdown-hover"),r=L.append(h,g("div.hover-contents")),c=this._renderDisposeables.add(this._markdownRenderer.render(u.value));r.appendChild(c.element),a.appendChild(h)}this._updateContents(a),this._showAt(n)}_updateContents(n){this._hover.contentsDomNode.textContent="",this._hover.contentsDomNode.appendChild(n),this._updateFont()}_showAt(n){this._isVisible||(this._isVisible=!0,this._hover.containerDomNode.classList.toggle("hidden",!this._isVisible));const t=this._editor.getLayoutInfo(),a=this._editor.getTopForLineNumber(n),u=this._editor.getScrollTop(),h=this._editor.getOption(65),r=this._hover.containerDomNode.clientHeight,c=a-u-(r-h)/2;this._hover.containerDomNode.style.left=`${t.glyphMarginLeft+t.glyphMarginWidth}px`,this._hover.containerDomNode.style.top=`${Math.max(Math.round(c),0)}px`}}e.MarginHoverWidget=C,C.ID="editor.contrib.modesGlyphHoverWidget";class s{get lineNumber(){return this._lineNumber}set lineNumber(n){this._lineNumber=n}constructor(n){this._editor=n,this._lineNumber=-1}computeSync(){const n=u=>({value:u}),t=this._editor.getLineDecorations(this._lineNumber),a=[];if(!t)return a;for(const u of t){if(!u.options.glyphMarginClassName)continue;const h=u.options.glyphMarginHoverMessage;!h||(0,y.isEmptyMarkdownString)(h)||a.push(...(0,k.asArray)(h).map(n))}return a}}}),define(ne[344],se([1,0,7,75,25,26,6,55,2,117,223,703,8]),function(Q,e,L,k,y,D,S,f,_,g,C,s,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.SuggestDetailsOverlay=e.SuggestDetailsWidget=e.canExpandCompletionItem=void 0;function n(u){return!!u&&!!(u.completion.documentation||u.completion.detail&&u.completion.detail!==u.completion.label)}e.canExpandCompletionItem=n;let t=class{constructor(h,r){this._editor=h,this._onDidClose=new S.Emitter,this.onDidClose=this._onDidClose.event,this._onDidChangeContents=new S.Emitter,this.onDidChangeContents=this._onDidChangeContents.event,this._disposables=new _.DisposableStore,this._renderDisposeable=new _.DisposableStore,this._borderWidth=1,this._size=new L.Dimension(330,0),this.domNode=L.$(".suggest-details"),this.domNode.classList.add("no-docs"),this._markdownRenderer=r.createInstance(g.MarkdownRenderer,{editor:h}),this._body=L.$(".body"),this._scrollbar=new k.DomScrollableElement(this._body,{alwaysConsumeMouseWheel:!0}),L.append(this.domNode,this._scrollbar.getDomNode()),this._disposables.add(this._scrollbar),this._header=L.append(this._body,L.$(".header")),this._close=L.append(this._header,L.$("span"+D.ThemeIcon.asCSSSelector(y.Codicon.close))),this._close.title=s.localize(0,null),this._type=L.append(this._header,L.$("p.type")),this._docs=L.append(this._body,L.$("p.docs")),this._configureFont(),this._disposables.add(this._editor.onDidChangeConfiguration(c=>{c.hasChanged(49)&&this._configureFont()}))}dispose(){this._disposables.dispose(),this._renderDisposeable.dispose()}_configureFont(){const h=this._editor.getOptions(),r=h.get(49),c=r.getMassagedFontFamily(),o=h.get(117)||r.fontSize,d=h.get(118)||r.lineHeight,l=r.fontWeight,p=`${o}px`,m=`${d}px`;this.domNode.style.fontSize=p,this.domNode.style.lineHeight=`${d/o}`,this.domNode.style.fontWeight=l,this.domNode.style.fontFeatureSettings=r.fontFeatureSettings,this._type.style.fontFamily=c,this._close.style.height=m,this._close.style.width=m}getLayoutInfo(){const h=this._editor.getOption(118)||this._editor.getOption(49).lineHeight,r=this._borderWidth,c=r*2;return{lineHeight:h,borderWidth:r,borderHeight:c,verticalPadding:22,horizontalPadding:14}}renderLoading(){this._type.textContent=s.localize(1,null),this._docs.textContent="",this.domNode.classList.remove("no-docs","no-type"),this.layout(this.size.width,this.getLayoutInfo().lineHeight*2),this._onDidChangeContents.fire(this)}renderItem(h,r){var c,o;this._renderDisposeable.clear();let{detail:d,documentation:l}=h.completion;if(r){let p="";p+=`score: ${h.score[0]}
`,p+=`prefix: ${(c=h.word)!==null&&c!==void 0?c:"(no prefix)"}
`,p+=`word: ${h.completion.filterText?h.completion.filterText+" (filterText)":h.textLabel}
`,p+=`distance: ${h.distance} (localityBonus-setting)
`,p+=`index: ${h.idx}, based on ${h.completion.sortText&&`sortText: "${h.completion.sortText}"`||"label"}
`,p+=`commit_chars: ${(o=h.completion.commitCharacters)===null||o===void 0?void 0:o.join("")}
`,l=new f.MarkdownString().appendCodeblock("empty",p),d=`Provider: ${h.provider._debugDisplayName}`}if(!r&&!n(h)){this.clearContents();return}if(this.domNode.classList.remove("no-docs","no-type"),d){const p=d.length>1e5?`${d.substr(0,1e5)}\u2026`:d;this._type.textContent=p,this._type.title=p,L.show(this._type),this._type.classList.toggle("auto-wrap",!/\r?\n^\s+/gmi.test(p))}else L.clearNode(this._type),this._type.title="",L.hide(this._type),this.domNode.classList.add("no-type");if(L.clearNode(this._docs),typeof l=="string")this._docs.classList.remove("markdown-docs"),this._docs.textContent=l;else if(l){this._docs.classList.add("markdown-docs"),L.clearNode(this._docs);const p=this._markdownRenderer.render(l);this._docs.appendChild(p.element),this._renderDisposeable.add(p),this._renderDisposeable.add(this._markdownRenderer.onDidRenderAsync(()=>{this.layout(this._size.width,this._type.clientHeight+this._docs.clientHeight),this._onDidChangeContents.fire(this)}))}this.domNode.style.userSelect="text",this.domNode.tabIndex=-1,this._close.onmousedown=p=>{p.preventDefault(),p.stopPropagation()},this._close.onclick=p=>{p.preventDefault(),p.stopPropagation(),this._onDidClose.fire()},this._body.scrollTop=0,this.layout(this._size.width,this._type.clientHeight+this._docs.clientHeight),this._onDidChangeContents.fire(this)}clearContents(){this.domNode.classList.add("no-docs"),this._type.textContent="",this._docs.textContent=""}get size(){return this._size}layout(h,r){const c=new L.Dimension(h,r);L.Dimension.equals(c,this._size)||(this._size=c,L.size(this.domNode,h,r)),this._scrollbar.scanDomNode()}scrollDown(h=8){this._body.scrollTop+=h}scrollUp(h=8){this._body.scrollTop-=h}scrollTop(){this._body.scrollTop=0}scrollBottom(){this._body.scrollTop=this._body.scrollHeight}pageDown(){this.scrollDown(80)}pageUp(){this.scrollUp(80)}set borderWidth(h){this._borderWidth=h}get borderWidth(){return this._borderWidth}};e.SuggestDetailsWidget=t,e.SuggestDetailsWidget=t=ke([fe(1,i.IInstantiationService)],t);class a{constructor(h,r){this.widget=h,this._editor=r,this._disposables=new _.DisposableStore,this._added=!1,this._preferAlignAtTop=!0,this._resizable=new C.ResizableHTMLElement,this._resizable.domNode.classList.add("suggest-details-container"),this._resizable.domNode.appendChild(h.domNode),this._resizable.enableSashes(!1,!0,!0,!1);let c,o,d=0,l=0;this._disposables.add(this._resizable.onDidWillResize(()=>{c=this._topLeft,o=this._resizable.size})),this._disposables.add(this._resizable.onDidResize(p=>{if(c&&o){this.widget.layout(p.dimension.width,p.dimension.height);let m=!1;p.west&&(l=o.width-p.dimension.width,m=!0),p.north&&(d=o.height-p.dimension.height,m=!0),m&&this._applyTopLeft({top:c.top+d,left:c.left+l})}p.done&&(c=void 0,o=void 0,d=0,l=0,this._userSize=p.dimension)})),this._disposables.add(this.widget.onDidChangeContents(()=>{var p;this._anchorBox&&this._placeAtAnchor(this._anchorBox,(p=this._userSize)!==null&&p!==void 0?p:this.widget.size,this._preferAlignAtTop)}))}dispose(){this._resizable.dispose(),this._disposables.dispose(),this.hide()}getId(){return"suggest.details"}getDomNode(){return this._resizable.domNode}getPosition(){return null}show(){this._added||(this._editor.addOverlayWidget(this),this.getDomNode().style.position="fixed",this._added=!0)}hide(h=!1){this._resizable.clearSashHoverState(),this._added&&(this._editor.removeOverlayWidget(this),this._added=!1,this._anchorBox=void 0,this._topLeft=void 0),h&&(this._userSize=void 0,this.widget.clearContents())}placeAtAnchor(h,r){var c;const o=h.getBoundingClientRect();this._anchorBox=o,this._preferAlignAtTop=r,this._placeAtAnchor(this._anchorBox,(c=this._userSize)!==null&&c!==void 0?c:this.widget.size,r)}_placeAtAnchor(h,r,c){var o;const d=L.getClientArea(document.body),l=this.widget.getLayoutInfo(),p=new L.Dimension(220,2*l.lineHeight),m=h.top,v=function(){const N=d.width-(h.left+h.width+l.borderWidth+l.horizontalPadding),F=-l.borderWidth+h.left+h.width,O=new L.Dimension(N,d.height-h.top-l.borderHeight-l.verticalPadding),W=O.with(void 0,h.top+h.height-l.borderHeight-l.verticalPadding);return{top:m,left:F,fit:N-r.width,maxSizeTop:O,maxSizeBottom:W,minSize:p.with(Math.min(N,p.width))}}(),b=function(){const N=h.left-l.borderWidth-l.horizontalPadding,F=Math.max(l.horizontalPadding,h.left-r.width-l.borderWidth),O=new L.Dimension(N,d.height-h.top-l.borderHeight-l.verticalPadding),W=O.with(void 0,h.top+h.height-l.borderHeight-l.verticalPadding);return{top:m,left:F,fit:N-r.width,maxSizeTop:O,maxSizeBottom:W,minSize:p.with(Math.min(N,p.width))}}(),w=function(){const N=h.left,F=-l.borderWidth+h.top+h.height,O=new L.Dimension(h.width-l.borderHeight,d.height-h.top-h.height-l.verticalPadding);return{top:F,left:N,fit:O.height-r.height,maxSizeBottom:O,maxSizeTop:O,minSize:p.with(O.width)}}(),E=[v,b,w],I=(o=E.find(N=>N.fit>=0))!==null&&o!==void 0?o:E.sort((N,F)=>F.fit-N.fit)[0],M=h.top+h.height-l.borderHeight;let P,x=r.height;const T=Math.max(I.maxSizeTop.height,I.maxSizeBottom.height);x>T&&(x=T);let A;c?x<=I.maxSizeTop.height?(P=!0,A=I.maxSizeTop):(P=!1,A=I.maxSizeBottom):x<=I.maxSizeBottom.height?(P=!1,A=I.maxSizeBottom):(P=!0,A=I.maxSizeTop),this._applyTopLeft({left:I.left,top:P?I.top:M-x}),this.getDomNode().style.position="fixed",this._resizable.enableSashes(!P,I===v,P,I!==v),this._resizable.minSize=I.minSize,this._resizable.maxSize=A,this._resizable.layout(x,Math.min(A.width,r.width)),this.widget.layout(this._resizable.size.width,this._resizable.size.height)}_applyTopLeft(h){this._topLeft=h,this.getDomNode().style.left=`${this._topLeft.left}px`,this.getDomNode().style.top=`${this._topLeft.top}px`}}e.SuggestDetailsOverlay=a}),define(ne[345],se([1,0,14,65,47,20,22,28,98,37]),function(Q,e,L,k,y,D,S,f,_,g){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ConfigurationChangeEvent=e.Configuration=e.ConfigurationModelParser=e.ConfigurationModel=void 0;function C(u){return Object.isFrozen(u)?u:y.deepFreeze(u)}class s{constructor(h={},r=[],c=[],o){this._contents=h,this._keys=r,this._overrides=c,this.raw=o,this.overrideConfigurations=new Map}get rawConfiguration(){var h;if(!this._rawConfiguration)if(!((h=this.raw)===null||h===void 0)&&h.length){const r=this.raw.map(c=>{if(c instanceof s)return c;const o=new i("");return o.parseRaw(c),o.configurationModel});this._rawConfiguration=r.reduce((c,o)=>o===c?o:c.merge(o),r[0])}else this._rawConfiguration=this;return this._rawConfiguration}get contents(){return this._contents}get overrides(){return this._overrides}get keys(){return this._keys}isEmpty(){return this._keys.length===0&&Object.keys(this._contents).length===0&&this._overrides.length===0}getValue(h){return h?(0,f.getConfigurationValue)(this.contents,h):this.contents}inspect(h,r){const c=this.rawConfiguration.getValue(h),o=r?this.rawConfiguration.getOverrideValue(h,r):void 0,d=r?this.rawConfiguration.override(r).getValue(h):c;return{value:c,override:o,merged:d}}getOverrideValue(h,r){const c=this.getContentsForOverrideIdentifer(r);return c?h?(0,f.getConfigurationValue)(c,h):c:void 0}override(h){let r=this.overrideConfigurations.get(h);return r||(r=this.createOverrideConfigurationModel(h),this.overrideConfigurations.set(h,r)),r}merge(...h){var r,c;const o=y.deepClone(this.contents),d=y.deepClone(this.overrides),l=[...this.keys],p=!((r=this.raw)===null||r===void 0)&&r.length?[...this.raw]:[this];for(const m of h)if(p.push(...!((c=m.raw)===null||c===void 0)&&c.length?m.raw:[m]),!m.isEmpty()){this.mergeContents(o,m.contents);for(const v of m.overrides){const[b]=d.filter(w=>L.equals(w.identifiers,v.identifiers));b?(this.mergeContents(b.contents,v.contents),b.keys.push(...v.keys),b.keys=L.distinct(b.keys)):d.push(y.deepClone(v))}for(const v of m.keys)l.indexOf(v)===-1&&l.push(v)}return new s(o,l,d,p.every(m=>m instanceof s)?void 0:p)}createOverrideConfigurationModel(h){const r=this.getContentsForOverrideIdentifer(h);if(!r||typeof r!="object"||!Object.keys(r).length)return this;const c={};for(const o of L.distinct([...Object.keys(this.contents),...Object.keys(r)])){let d=this.contents[o];const l=r[o];l&&(typeof d=="object"&&typeof l=="object"?(d=y.deepClone(d),this.mergeContents(d,l)):d=l),c[o]=d}return new s(c,this.keys,this.overrides)}mergeContents(h,r){for(const c of Object.keys(r)){if(c in h&&D.isObject(h[c])&&D.isObject(r[c])){this.mergeContents(h[c],r[c]);continue}h[c]=y.deepClone(r[c])}}getContentsForOverrideIdentifer(h){let r=null,c=null;const o=d=>{d&&(c?this.mergeContents(c,d):c=y.deepClone(d))};for(const d of this.overrides)d.identifiers.length===1&&d.identifiers[0]===h?r=d.contents:d.identifiers.includes(h)&&o(d.contents);return o(r),c}toJSON(){return{contents:this.contents,overrides:this.overrides,keys:this.keys}}addValue(h,r){this.updateValue(h,r,!0)}setValue(h,r){this.updateValue(h,r,!1)}removeValue(h){const r=this.keys.indexOf(h);r!==-1&&(this.keys.splice(r,1),(0,f.removeFromValueTree)(this.contents,h),_.OVERRIDE_PROPERTY_REGEX.test(h)&&this.overrides.splice(this.overrides.findIndex(c=>L.equals(c.identifiers,(0,_.overrideIdentifiersFromKey)(h))),1))}updateValue(h,r,c){(0,f.addToValueTree)(this.contents,h,r,o=>console.error(o)),c=c||this.keys.indexOf(h)===-1,c&&this.keys.push(h),_.OVERRIDE_PROPERTY_REGEX.test(h)&&this.overrides.push({identifiers:(0,_.overrideIdentifiersFromKey)(h),keys:Object.keys(this.contents[h]),contents:(0,f.toValuesTree)(this.contents[h],o=>console.error(o))})}}e.ConfigurationModel=s;class i{constructor(h){this._name=h,this._raw=null,this._configurationModel=null,this._restrictedConfigurations=[]}get configurationModel(){return this._configurationModel||new s}parseRaw(h,r){this._raw=h;const{contents:c,keys:o,overrides:d,restricted:l,hasExcludedProperties:p}=this.doParseRaw(h,r);this._configurationModel=new s(c,o,d,p?[h]:void 0),this._restrictedConfigurations=l||[]}doParseRaw(h,r){const c=g.Registry.as(_.Extensions.Configuration).getConfigurationProperties(),o=this.filter(h,c,!0,r);h=o.raw;const d=(0,f.toValuesTree)(h,m=>console.error(`Conflict in settings file ${this._name}: ${m}`)),l=Object.keys(h),p=this.toOverrides(h,m=>console.error(`Conflict in settings file ${this._name}: ${m}`));return{contents:d,keys:l,overrides:p,restricted:o.restricted,hasExcludedProperties:o.hasExcludedProperties}}filter(h,r,c,o){var d,l,p;let m=!1;if(!o?.scopes&&!o?.skipRestricted&&!(!((d=o?.exclude)===null||d===void 0)&&d.length))return{raw:h,restricted:[],hasExcludedProperties:m};const v={},b=[];for(const w in h)if(_.OVERRIDE_PROPERTY_REGEX.test(w)&&c){const E=this.filter(h[w],r,!1,o);v[w]=E.raw,m=m||E.hasExcludedProperties,b.push(...E.restricted)}else{const E=r[w],I=E?typeof E.scope<"u"?E.scope:3:void 0;E?.restricted&&b.push(w),!(!((l=o.exclude)===null||l===void 0)&&l.includes(w))&&(!((p=o.include)===null||p===void 0)&&p.includes(w)||(I===void 0||o.scopes===void 0||o.scopes.includes(I))&&!(o.skipRestricted&&E?.restricted))?v[w]=h[w]:m=!0}return{raw:v,restricted:b,hasExcludedProperties:m}}toOverrides(h,r){const c=[];for(const o of Object.keys(h))if(_.OVERRIDE_PROPERTY_REGEX.test(o)){const d={};for(const l in h[o])d[l]=h[o][l];c.push({identifiers:(0,_.overrideIdentifiersFromKey)(o),keys:Object.keys(d),contents:(0,f.toValuesTree)(d,r)})}return c}}e.ConfigurationModelParser=i;class n{constructor(h,r,c,o,d,l,p,m,v,b,w,E,I){this.key=h,this.overrides=r,this._value=c,this.overrideIdentifiers=o,this.defaultConfiguration=d,this.policyConfiguration=l,this.applicationConfiguration=p,this.userConfiguration=m,this.localUserConfiguration=v,this.remoteUserConfiguration=b,this.workspaceConfiguration=w,this.folderConfigurationModel=E,this.memoryConfigurationModel=I}inspect(h,r,c){const o=h.inspect(r,c);return{get value(){return C(o.value)},get override(){return C(o.override)},get merged(){return C(o.merged)}}}get userInspectValue(){return this._userInspectValue||(this._userInspectValue=this.inspect(this.userConfiguration,this.key,this.overrides.overrideIdentifier)),this._userInspectValue}get user(){return this.userInspectValue.value!==void 0||this.userInspectValue.override!==void 0?{value:this.userInspectValue.value,override:this.userInspectValue.override}:void 0}}class t{constructor(h,r,c,o,d=new s,l=new s,p=new k.ResourceMap,m=new s,v=new k.ResourceMap){this._defaultConfiguration=h,this._policyConfiguration=r,this._applicationConfiguration=c,this._localUserConfiguration=o,this._remoteUserConfiguration=d,this._workspaceConfiguration=l,this._folderConfigurations=p,this._memoryConfiguration=m,this._memoryConfigurationByResource=v,this._workspaceConsolidatedConfiguration=null,this._foldersConsolidatedConfigurations=new k.ResourceMap,this._userConfiguration=null}getValue(h,r,c){return this.getConsolidatedConfigurationModel(h,r,c).getValue(h)}updateValue(h,r,c={}){let o;c.resource?(o=this._memoryConfigurationByResource.get(c.resource),o||(o=new s,this._memoryConfigurationByResource.set(c.resource,o))):o=this._memoryConfiguration,r===void 0?o.removeValue(h):o.setValue(h,r),c.resource||(this._workspaceConsolidatedConfiguration=null)}inspect(h,r,c){const o=this.getConsolidatedConfigurationModel(h,r,c),d=this.getFolderConfigurationModelForResource(r.resource,c),l=r.resource?this._memoryConfigurationByResource.get(r.resource)||this._memoryConfiguration:this._memoryConfiguration,p=new Set;for(const m of o.overrides)for(const v of m.identifiers)o.getOverrideValue(h,v)!==void 0&&p.add(v);return new n(h,r,o.getValue(h),p.size?[...p]:void 0,this._defaultConfiguration,this._policyConfiguration.isEmpty()?void 0:this._policyConfiguration,this.applicationConfiguration.isEmpty()?void 0:this.applicationConfiguration,this.userConfiguration,this.localUserConfiguration,this.remoteUserConfiguration,c?this._workspaceConfiguration:void 0,d||void 0,l)}get applicationConfiguration(){return this._applicationConfiguration}get userConfiguration(){return this._userConfiguration||(this._userConfiguration=this._remoteUserConfiguration.isEmpty()?this._localUserConfiguration:this._localUserConfiguration.merge(this._remoteUserConfiguration)),this._userConfiguration}get localUserConfiguration(){return this._localUserConfiguration}get remoteUserConfiguration(){return this._remoteUserConfiguration}getConsolidatedConfigurationModel(h,r,c){let o=this.getConsolidatedConfigurationModelForResource(r,c);return r.overrideIdentifier&&(o=o.override(r.overrideIdentifier)),!this._policyConfiguration.isEmpty()&&this._policyConfiguration.getValue(h)!==void 0&&(o=o.merge(this._policyConfiguration)),o}getConsolidatedConfigurationModelForResource({resource:h},r){let c=this.getWorkspaceConsolidatedConfiguration();if(r&&h){const o=r.getFolder(h);o&&(c=this.getFolderConsolidatedConfiguration(o.uri)||c);const d=this._memoryConfigurationByResource.get(h);d&&(c=c.merge(d))}return c}getWorkspaceConsolidatedConfiguration(){return this._workspaceConsolidatedConfiguration||(this._workspaceConsolidatedConfiguration=this._defaultConfiguration.merge(this.applicationConfiguration,this.userConfiguration,this._workspaceConfiguration,this._memoryConfiguration)),this._workspaceConsolidatedConfiguration}getFolderConsolidatedConfiguration(h){let r=this._foldersConsolidatedConfigurations.get(h);if(!r){const c=this.getWorkspaceConsolidatedConfiguration(),o=this._folderConfigurations.get(h);o?(r=c.merge(o),this._foldersConsolidatedConfigurations.set(h,r)):r=c}return r}getFolderConfigurationModelForResource(h,r){if(r&&h){const c=r.getFolder(h);if(c)return this._folderConfigurations.get(c.uri)}}toData(){return{defaults:{contents:this._defaultConfiguration.contents,overrides:this._defaultConfiguration.overrides,keys:this._defaultConfiguration.keys},policy:{contents:this._policyConfiguration.contents,overrides:this._policyConfiguration.overrides,keys:this._policyConfiguration.keys},application:{contents:this.applicationConfiguration.contents,overrides:this.applicationConfiguration.overrides,keys:this.applicationConfiguration.keys},user:{contents:this.userConfiguration.contents,overrides:this.userConfiguration.overrides,keys:this.userConfiguration.keys},workspace:{contents:this._workspaceConfiguration.contents,overrides:this._workspaceConfiguration.overrides,keys:this._workspaceConfiguration.keys},folders:[...this._folderConfigurations.keys()].reduce((h,r)=>{const{contents:c,overrides:o,keys:d}=this._folderConfigurations.get(r);return h.push([r,{contents:c,overrides:o,keys:d}]),h},[])}}static parse(h){const r=this.parseConfigurationModel(h.defaults),c=this.parseConfigurationModel(h.policy),o=this.parseConfigurationModel(h.application),d=this.parseConfigurationModel(h.user),l=this.parseConfigurationModel(h.workspace),p=h.folders.reduce((m,v)=>(m.set(S.URI.revive(v[0]),this.parseConfigurationModel(v[1])),m),new k.ResourceMap);return new t(r,c,o,d,new s,l,p,new s,new k.ResourceMap)}static parseConfigurationModel(h){return new s(h.contents,h.keys,h.overrides)}}e.Configuration=t;class a{constructor(h,r,c,o){this.change=h,this.previous=r,this.currentConfiguraiton=c,this.currentWorkspace=o,this._marker=`
`,this._markerCode1=this._marker.charCodeAt(0),this._markerCode2=".".charCodeAt(0),this.affectedKeys=new Set,this._previousConfiguration=void 0;for(const d of h.keys)this.affectedKeys.add(d);for(const[,d]of h.overrides)for(const l of d)this.affectedKeys.add(l);this._affectsConfigStr=this._marker;for(const d of this.affectedKeys)this._affectsConfigStr+=d+this._marker}get previousConfiguration(){return!this._previousConfiguration&&this.previous&&(this._previousConfiguration=t.parse(this.previous.data)),this._previousConfiguration}affectsConfiguration(h,r){var c;const o=this._marker+h,d=this._affectsConfigStr.indexOf(o);if(d<0)return!1;const l=d+o.length;if(l>=this._affectsConfigStr.length)return!1;const p=this._affectsConfigStr.charCodeAt(l);if(p!==this._markerCode1&&p!==this._markerCode2)return!1;if(r){const m=this.previousConfiguration?this.previousConfiguration.getValue(h,r,(c=this.previous)===null||c===void 0?void 0:c.workspace):void 0,v=this.currentConfiguraiton.getValue(h,r,this.currentWorkspace);return!y.equals(m,v)}return!0}}e.ConfigurationChangeEvent=a}),define(ne[782],se([1,0,2,345,98,37]),function(Q,e,L,k,y,D){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.DefaultConfiguration=void 0;class S extends L.Disposable{constructor(){super(...arguments),this._configurationModel=new k.ConfigurationModel}get configurationModel(){return this._configurationModel}reload(){return this.resetConfigurationModel(),this.configurationModel}getConfigurationDefaultOverrides(){return{}}resetConfigurationModel(){this._configurationModel=new k.ConfigurationModel;const _=D.Registry.as(y.Extensions.Configuration).getConfigurationProperties();this.updateConfigurationModel(Object.keys(_),_)}updateConfigurationModel(_,g){const C=this.getConfigurationDefaultOverrides();for(const s of _){const i=C[s],n=g[s];i!==void 0?this._configurationModel.addValue(s,i):n?this._configurationModel.addValue(s,n.default):this._configurationModel.removeValue(s)}}}e.DefaultConfiguration=S}),define(ne[118],se([1,0,119,17,27,37,2,64]),function(Q,e,L,k,y,D,S,f){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.Extensions=e.KeybindingsRegistry=void 0;class _{constructor(){this._coreKeybindings=new f.LinkedList,this._extensionKeybindings=[],this._cachedMergedKeybindings=null}static bindToCurrentPlatform(s){if(k.OS===1){if(s&&s.win)return s.win}else if(k.OS===2){if(s&&s.mac)return s.mac}else if(s&&s.linux)return s.linux;return s}registerKeybindingRule(s){const i=_.bindToCurrentPlatform(s),n=new S.DisposableStore;if(i&&i.primary){const t=(0,L.decodeKeybinding)(i.primary,k.OS);t&&n.add(this._registerDefaultKeybinding(t,s.id,s.args,s.weight,0,s.when))}if(i&&Array.isArray(i.secondary))for(let t=0,a=i.secondary.length;t<a;t++){const u=i.secondary[t],h=(0,L.decodeKeybinding)(u,k.OS);h&&n.add(this._registerDefaultKeybinding(h,s.id,s.args,s.weight,-t-1,s.when))}return n}registerCommandAndKeybindingRule(s){return(0,S.combinedDisposable)(this.registerKeybindingRule(s),y.CommandsRegistry.registerCommand(s))}_registerDefaultKeybinding(s,i,n,t,a,u){const h=this._coreKeybindings.push({keybinding:s,command:i,commandArgs:n,when:u,weight1:t,weight2:a,extensionId:null,isBuiltinExtension:!1});return this._cachedMergedKeybindings=null,(0,S.toDisposable)(()=>{h(),this._cachedMergedKeybindings=null})}getDefaultKeybindings(){return this._cachedMergedKeybindings||(this._cachedMergedKeybindings=Array.from(this._coreKeybindings).concat(this._extensionKeybindings),this._cachedMergedKeybindings.sort(g)),this._cachedMergedKeybindings.slice(0)}}e.KeybindingsRegistry=new _,e.Extensions={EditorModes:"platform.keybindingsRegistry"},D.Registry.add(e.Extensions.EditorModes,e.KeybindingsRegistry);function g(C,s){if(C.weight1!==s.weight1)return C.weight1-s.weight1;if(C.command&&s.command){if(C.command<s.command)return-1;if(C.command>s.command)return 1}return C.weight2-s.weight2}});var vi=this&&this.__rest||function(Q,e){var L={};for(var k in Q)Object.prototype.hasOwnProperty.call(Q,k)&&e.indexOf(k)<0&&(L[k]=Q[k]);if(Q!=null&&typeof Object.getOwnPropertySymbols=="function")for(var y=0,k=Object.getOwnPropertySymbols(Q);y<k.length;y++)e.indexOf(k[y])<0&&Object.prototype.propertyIsEnumerable.call(Q,k[y])&&(L[k[y]]=Q[k[y]]);return L};define(ne[30],se([1,0,39,26,6,2,64,27,15,8,118]),function(Q,e,L,k,y,D,S,f,_,g,C){"use strict";var s;Object.defineProperty(e,"__esModule",{value:!0}),e.registerAction2=e.Action2=e.MenuItemAction=e.SubmenuItemAction=e.MenuRegistry=e.IMenuService=e.MenuId=e.isISubmenuItem=e.isIMenuItem=void 0;function i(o){return o.command!==void 0}e.isIMenuItem=i;function n(o){return o.submenu!==void 0}e.isISubmenuItem=n;class t{constructor(d){if(t._instances.has(d))throw new TypeError(`MenuId with identifier '${d}' already exists. Use MenuId.for(ident) or a unique identifier`);t._instances.set(d,this),this.id=d}}e.MenuId=t,t._instances=new Map,t.CommandPalette=new t("CommandPalette"),t.DebugBreakpointsContext=new t("DebugBreakpointsContext"),t.DebugCallStackContext=new t("DebugCallStackContext"),t.DebugConsoleContext=new t("DebugConsoleContext"),t.DebugVariablesContext=new t("DebugVariablesContext"),t.DebugWatchContext=new t("DebugWatchContext"),t.DebugToolBar=new t("DebugToolBar"),t.DebugToolBarStop=new t("DebugToolBarStop"),t.EditorContext=new t("EditorContext"),t.SimpleEditorContext=new t("SimpleEditorContext"),t.EditorContent=new t("EditorContent"),t.EditorLineNumberContext=new t("EditorLineNumberContext"),t.EditorContextCopy=new t("EditorContextCopy"),t.EditorContextPeek=new t("EditorContextPeek"),t.EditorContextShare=new t("EditorContextShare"),t.EditorTitle=new t("EditorTitle"),t.EditorTitleRun=new t("EditorTitleRun"),t.EditorTitleContext=new t("EditorTitleContext"),t.EditorTitleContextShare=new t("EditorTitleContextShare"),t.EmptyEditorGroup=new t("EmptyEditorGroup"),t.EmptyEditorGroupContext=new t("EmptyEditorGroupContext"),t.EditorTabsBarContext=new t("EditorTabsBarContext"),t.ExplorerContext=new t("ExplorerContext"),t.ExplorerContextShare=new t("ExplorerContextShare"),t.ExtensionContext=new t("ExtensionContext"),t.GlobalActivity=new t("GlobalActivity"),t.CommandCenter=new t("CommandCenter"),t.LayoutControlMenuSubmenu=new t("LayoutControlMenuSubmenu"),t.LayoutControlMenu=new t("LayoutControlMenu"),t.MenubarMainMenu=new t("MenubarMainMenu"),t.MenubarAppearanceMenu=new t("MenubarAppearanceMenu"),t.MenubarDebugMenu=new t("MenubarDebugMenu"),t.MenubarEditMenu=new t("MenubarEditMenu"),t.MenubarCopy=new t("MenubarCopy"),t.MenubarFileMenu=new t("MenubarFileMenu"),t.MenubarGoMenu=new t("MenubarGoMenu"),t.MenubarHelpMenu=new t("MenubarHelpMenu"),t.MenubarLayoutMenu=new t("MenubarLayoutMenu"),t.MenubarNewBreakpointMenu=new t("MenubarNewBreakpointMenu"),t.PanelAlignmentMenu=new t("PanelAlignmentMenu"),t.PanelPositionMenu=new t("PanelPositionMenu"),t.MenubarPreferencesMenu=new t("MenubarPreferencesMenu"),t.MenubarRecentMenu=new t("MenubarRecentMenu"),t.MenubarSelectionMenu=new t("MenubarSelectionMenu"),t.MenubarShare=new t("MenubarShare"),t.MenubarSwitchEditorMenu=new t("MenubarSwitchEditorMenu"),t.MenubarSwitchGroupMenu=new t("MenubarSwitchGroupMenu"),t.MenubarTerminalMenu=new t("MenubarTerminalMenu"),t.MenubarViewMenu=new t("MenubarViewMenu"),t.MenubarHomeMenu=new t("MenubarHomeMenu"),t.OpenEditorsContext=new t("OpenEditorsContext"),t.OpenEditorsContextShare=new t("OpenEditorsContextShare"),t.ProblemsPanelContext=new t("ProblemsPanelContext"),t.SCMChangeContext=new t("SCMChangeContext"),t.SCMResourceContext=new t("SCMResourceContext"),t.SCMResourceContextShare=new t("SCMResourceContextShare"),t.SCMResourceFolderContext=new t("SCMResourceFolderContext"),t.SCMResourceGroupContext=new t("SCMResourceGroupContext"),t.SCMSourceControl=new t("SCMSourceControl"),t.SCMTitle=new t("SCMTitle"),t.SearchContext=new t("SearchContext"),t.SearchActionMenu=new t("SearchActionContext"),t.StatusBarWindowIndicatorMenu=new t("StatusBarWindowIndicatorMenu"),t.StatusBarRemoteIndicatorMenu=new t("StatusBarRemoteIndicatorMenu"),t.StickyScrollContext=new t("StickyScrollContext"),t.TestItem=new t("TestItem"),t.TestItemGutter=new t("TestItemGutter"),t.TestMessageContext=new t("TestMessageContext"),t.TestMessageContent=new t("TestMessageContent"),t.TestPeekElement=new t("TestPeekElement"),t.TestPeekTitle=new t("TestPeekTitle"),t.TouchBarContext=new t("TouchBarContext"),t.TitleBarContext=new t("TitleBarContext"),t.TitleBarTitleContext=new t("TitleBarTitleContext"),t.TunnelContext=new t("TunnelContext"),t.TunnelPrivacy=new t("TunnelPrivacy"),t.TunnelProtocol=new t("TunnelProtocol"),t.TunnelPortInline=new t("TunnelInline"),t.TunnelTitle=new t("TunnelTitle"),t.TunnelLocalAddressInline=new t("TunnelLocalAddressInline"),t.TunnelOriginInline=new t("TunnelOriginInline"),t.ViewItemContext=new t("ViewItemContext"),t.ViewContainerTitle=new t("ViewContainerTitle"),t.ViewContainerTitleContext=new t("ViewContainerTitleContext"),t.ViewTitle=new t("ViewTitle"),t.ViewTitleContext=new t("ViewTitleContext"),t.CommentEditorActions=new t("CommentEditorActions"),t.CommentThreadTitle=new t("CommentThreadTitle"),t.CommentThreadActions=new t("CommentThreadActions"),t.CommentThreadAdditionalActions=new t("CommentThreadAdditionalActions"),t.CommentThreadTitleContext=new t("CommentThreadTitleContext"),t.CommentThreadCommentContext=new t("CommentThreadCommentContext"),t.CommentTitle=new t("CommentTitle"),t.CommentActions=new t("CommentActions"),t.InteractiveToolbar=new t("InteractiveToolbar"),t.InteractiveCellTitle=new t("InteractiveCellTitle"),t.InteractiveCellDelete=new t("InteractiveCellDelete"),t.InteractiveCellExecute=new t("InteractiveCellExecute"),t.InteractiveInputExecute=new t("InteractiveInputExecute"),t.NotebookToolbar=new t("NotebookToolbar"),t.NotebookStickyScrollContext=new t("NotebookStickyScrollContext"),t.NotebookCellTitle=new t("NotebookCellTitle"),t.NotebookCellDelete=new t("NotebookCellDelete"),t.NotebookCellInsert=new t("NotebookCellInsert"),t.NotebookCellBetween=new t("NotebookCellBetween"),t.NotebookCellListTop=new t("NotebookCellTop"),t.NotebookCellExecute=new t("NotebookCellExecute"),t.NotebookCellExecutePrimary=new t("NotebookCellExecutePrimary"),t.NotebookDiffCellInputTitle=new t("NotebookDiffCellInputTitle"),t.NotebookDiffCellMetadataTitle=new t("NotebookDiffCellMetadataTitle"),t.NotebookDiffCellOutputsTitle=new t("NotebookDiffCellOutputsTitle"),t.NotebookOutputToolbar=new t("NotebookOutputToolbar"),t.NotebookEditorLayoutConfigure=new t("NotebookEditorLayoutConfigure"),t.NotebookKernelSource=new t("NotebookKernelSource"),t.BulkEditTitle=new t("BulkEditTitle"),t.BulkEditContext=new t("BulkEditContext"),t.TimelineItemContext=new t("TimelineItemContext"),t.TimelineTitle=new t("TimelineTitle"),t.TimelineTitleContext=new t("TimelineTitleContext"),t.TimelineFilterSubMenu=new t("TimelineFilterSubMenu"),t.AccountsContext=new t("AccountsContext"),t.PanelTitle=new t("PanelTitle"),t.AuxiliaryBarTitle=new t("AuxiliaryBarTitle"),t.TerminalInstanceContext=new t("TerminalInstanceContext"),t.TerminalEditorInstanceContext=new t("TerminalEditorInstanceContext"),t.TerminalNewDropdownContext=new t("TerminalNewDropdownContext"),t.TerminalTabContext=new t("TerminalTabContext"),t.TerminalTabEmptyAreaContext=new t("TerminalTabEmptyAreaContext"),t.WebviewContext=new t("WebviewContext"),t.InlineCompletionsActions=new t("InlineCompletionsActions"),t.NewFile=new t("NewFile"),t.MergeInput1Toolbar=new t("MergeToolbar1Toolbar"),t.MergeInput2Toolbar=new t("MergeToolbar2Toolbar"),t.MergeBaseToolbar=new t("MergeBaseToolbar"),t.MergeInputResultToolbar=new t("MergeToolbarResultToolbar"),t.InlineSuggestionToolbar=new t("InlineSuggestionToolbar"),t.ChatContext=new t("ChatContext"),t.ChatCodeBlock=new t("ChatCodeblock"),t.ChatMessageTitle=new t("ChatMessageTitle"),t.ChatExecute=new t("ChatExecute"),t.ChatInputSide=new t("ChatInputSide"),t.AccessibleView=new t("AccessibleView"),e.IMenuService=(0,g.createDecorator)("menuService");class a{static for(d){let l=this._all.get(d);return l||(l=new a(d),this._all.set(d,l)),l}static merge(d){const l=new Set;for(const p of d)p instanceof a&&l.add(p.id);return l}constructor(d){this.id=d,this.has=l=>l===d}}a._all=new Map,e.MenuRegistry=new class{constructor(){this._commands=new Map,this._menuItems=new Map,this._onDidChangeMenu=new y.MicrotaskEmitter({merge:a.merge}),this.onDidChangeMenu=this._onDidChangeMenu.event}addCommand(o){return this._commands.set(o.id,o),this._onDidChangeMenu.fire(a.for(t.CommandPalette)),(0,D.toDisposable)(()=>{this._commands.delete(o.id)&&this._onDidChangeMenu.fire(a.for(t.CommandPalette))})}getCommand(o){return this._commands.get(o)}getCommands(){const o=new Map;return this._commands.forEach((d,l)=>o.set(l,d)),o}appendMenuItem(o,d){let l=this._menuItems.get(o);l||(l=new S.LinkedList,this._menuItems.set(o,l));const p=l.push(d);return this._onDidChangeMenu.fire(a.for(o)),(0,D.toDisposable)(()=>{p(),this._onDidChangeMenu.fire(a.for(o))})}appendMenuItems(o){const d=new D.DisposableStore;for(const{id:l,item:p}of o)d.add(this.appendMenuItem(l,p));return d}getMenuItems(o){let d;return this._menuItems.has(o)?d=[...this._menuItems.get(o)]:d=[],o===t.CommandPalette&&this._appendImplicitItems(d),d}_appendImplicitItems(o){const d=new Set;for(const l of o)i(l)&&(d.add(l.command.id),l.alt&&d.add(l.alt.id));this._commands.forEach((l,p)=>{d.has(p)||o.push({command:l})})}};class u extends L.SubmenuAction{constructor(d,l,p){super(`submenuitem.${d.submenu.id}`,typeof d.title=="string"?d.title:d.title.value,p,"submenu"),this.item=d,this.hideActions=l}}e.SubmenuItemAction=u;let h=s=class{static label(d,l){return l?.renderShortTitle&&d.shortTitle?typeof d.shortTitle=="string"?d.shortTitle:d.shortTitle.value:typeof d.title=="string"?d.title:d.title.value}constructor(d,l,p,m,v,b){var w,E;this.hideActions=m,this._commandService=b,this.id=d.id,this.label=s.label(d,p),this.tooltip=(E=typeof d.tooltip=="string"?d.tooltip:(w=d.tooltip)===null||w===void 0?void 0:w.value)!==null&&E!==void 0?E:"",this.enabled=!d.precondition||v.contextMatchesRules(d.precondition),this.checked=void 0;let I;if(d.toggled){const M=d.toggled.condition?d.toggled:{condition:d.toggled};this.checked=v.contextMatchesRules(M.condition),this.checked&&M.tooltip&&(this.tooltip=typeof M.tooltip=="string"?M.tooltip:M.tooltip.value),this.checked&&k.ThemeIcon.isThemeIcon(M.icon)&&(I=M.icon),this.checked&&M.title&&(this.label=typeof M.title=="string"?M.title:M.title.value)}I||(I=k.ThemeIcon.isThemeIcon(d.icon)?d.icon:void 0),this.item=d,this.alt=l?new s(l,void 0,p,m,v,b):void 0,this._options=p,this.class=I&&k.ThemeIcon.asClassName(I)}run(...d){var l,p;let m=[];return!((l=this._options)===null||l===void 0)&&l.arg&&(m=[...m,this._options.arg]),!((p=this._options)===null||p===void 0)&&p.shouldForwardArgs&&(m=[...m,...d]),this._commandService.executeCommand(this.id,...m)}};e.MenuItemAction=h,e.MenuItemAction=h=s=ke([fe(4,_.IContextKeyService),fe(5,f.ICommandService)],h);class r{constructor(d){this.desc=d}}e.Action2=r;function c(o){const d=new D.DisposableStore,l=new o,p=l.desc,{f1:m,menu:v,keybinding:b,description:w}=p,E=vi(p,["f1","menu","keybinding","description"]);if(d.add(f.CommandsRegistry.registerCommand({id:E.id,handler:(I,...M)=>l.run(I,...M),description:w})),Array.isArray(v))for(const I of v)d.add(e.MenuRegistry.appendMenuItem(I.id,Object.assign({command:Object.assign(Object.assign({},E),{precondition:I.precondition===null?void 0:E.precondition})},I)));else v&&d.add(e.MenuRegistry.appendMenuItem(v.id,Object.assign({command:Object.assign(Object.assign({},E),{precondition:v.precondition===null?void 0:E.precondition})},v)));if(m&&(d.add(e.MenuRegistry.appendMenuItem(t.CommandPalette,{command:E,when:E.precondition})),d.add(e.MenuRegistry.addCommand(E))),Array.isArray(b))for(const I of b)d.add(C.KeybindingsRegistry.registerKeybindingRule(Object.assign(Object.assign({},I),{id:E.id,when:E.precondition?_.ContextKeyExpr.and(E.precondition,I.when):I.when})));else b&&d.add(C.KeybindingsRegistry.registerKeybindingRule(Object.assign(Object.assign({},b),{id:E.id,when:E.precondition?_.ContextKeyExpr.and(E.precondition,b.when):b.when})));return d}e.registerAction2=c}),define(ne[783],se([1,0,33,21,605,30,27,15]),function(Q,e,L,k,y,D,S,f){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.findFocusedDiffEditor=e.AccessibleDiffViewerPrev=e.AccessibleDiffViewerNext=void 0;const _={value:(0,y.localize)(0,null),original:"Accessible Diff Viewer"};class g extends D.Action2{constructor(){super({id:g.id,title:{value:(0,y.localize)(1,null),original:"Go to Next Difference"},category:_,precondition:f.ContextKeyExpr.has("isInDiffEditor"),keybinding:{primary:65,weight:100},f1:!0})}run(t){const a=s(t);a?.accessibleDiffViewerNext()}}e.AccessibleDiffViewerNext=g,g.id="editor.action.accessibleDiffViewer.next",D.MenuRegistry.appendMenuItem(D.MenuId.EditorTitle,{command:{id:g.id,title:(0,y.localize)(2,null)},order:10,group:"2_diff",when:f.ContextKeyExpr.and(k.EditorContextKeys.accessibleDiffViewerVisible.negate(),f.ContextKeyExpr.has("isInDiffEditor"))});class C extends D.Action2{constructor(){super({id:C.id,title:{value:(0,y.localize)(3,null),original:"Go to Previous Difference"},category:_,precondition:f.ContextKeyExpr.has("isInDiffEditor"),keybinding:{primary:1089,weight:100},f1:!0})}run(t){const a=s(t);a?.accessibleDiffViewerPrev()}}e.AccessibleDiffViewerPrev=C,C.id="editor.action.accessibleDiffViewer.prev";function s(n){var t;const a=n.get(L.ICodeEditorService),u=a.listDiffEditors(),h=(t=a.getFocusedCodeEditor())!==null&&t!==void 0?t:a.getActiveCodeEditor();if(!h)return null;for(let r=0,c=u.length;r<c;r++){const o=u[r];if(o.getModifiedEditor().getId()===h.getId()||o.getOriginalEditor().getId()===h.getId())return o}if(document.activeElement)for(const r of u){const c=r.getContainerDomNode();if(i(c,document.activeElement))return r}return null}e.findFocusedDiffEditor=s;function i(n,t){let a=t;for(;a;){if(a===n)return!0;a=a.parentElement}return!1}S.CommandsRegistry.registerCommandAlias("editor.action.diffReview.next",g.id),(0,D.registerAction2)(g),S.CommandsRegistry.registerCommandAlias("editor.action.diffReview.prev",C.id),(0,D.registerAction2)(C)}),define(ne[784],se([1,0,13,9,2,783]),function(Q,e,L,k,y){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.CodeEditorContributions=void 0;class D extends y.Disposable{constructor(){super(),this._editor=null,this._instantiationService=null,this._instances=this._register(new y.DisposableMap),this._pending=new Map,this._finishedInstantiation=[],this._finishedInstantiation[0]=!1,this._finishedInstantiation[1]=!1,this._finishedInstantiation[2]=!1,this._finishedInstantiation[3]=!1}initialize(f,_,g){this._editor=f,this._instantiationService=g;for(const C of _){if(this._pending.has(C.id)){(0,k.onUnexpectedError)(new Error(`Cannot have two contributions with the same id ${C.id}`));continue}this._pending.set(C.id,C)}this._instantiateSome(0),this._register((0,L.runWhenIdle)(()=>{this._instantiateSome(1)})),this._register((0,L.runWhenIdle)(()=>{this._instantiateSome(2)})),this._register((0,L.runWhenIdle)(()=>{this._instantiateSome(3)},5e3))}saveViewState(){const f={};for(const[_,g]of this._instances)typeof g.saveViewState=="function"&&(f[_]=g.saveViewState());return f}restoreViewState(f){for(const[_,g]of this._instances)typeof g.restoreViewState=="function"&&g.restoreViewState(f[_])}get(f){return this._instantiateById(f),this._instances.get(f)||null}onBeforeInteractionEvent(){this._instantiateSome(2)}onAfterModelAttached(){this._register((0,L.runWhenIdle)(()=>{this._instantiateSome(1)},50))}_instantiateSome(f){if(this._finishedInstantiation[f])return;this._finishedInstantiation[f]=!0;const _=this._findPendingContributionsByInstantiation(f);for(const g of _)this._instantiateById(g.id)}_findPendingContributionsByInstantiation(f){const _=[];for(const[,g]of this._pending)g.instantiation===f&&_.push(g);return _}_instantiateById(f){const _=this._pending.get(f);if(_){if(this._pending.delete(f),!this._instantiationService||!this._editor)throw new Error("Cannot instantiate contributions before being initialized!");try{const g=this._instantiationService.createInstance(_.ctor,this._editor);this._instances.set(_.id,g),typeof g.restoreViewState=="function"&&_.instantiation!==0&&console.warn(`Editor contribution '${_.id}' should be eager instantiated because it uses saveViewState / restoreViewState.`)}catch(g){(0,k.onUnexpectedError)(g)}}}}e.CodeEditorContributions=D}),define(ne[785],se([1,0,49,201,707,30,15]),function(Q,e,L,k,y,D,S){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ToggleTabFocusModeAction=void 0;class f extends D.Action2{constructor(){super({id:f.ID,title:{value:y.localize(0,null),original:"Toggle Tab Key Moves Focus"},precondition:void 0,keybinding:{primary:2091,mac:{primary:1323},weight:100},f1:!0})}run(g){const C=g.get(S.IContextKeyService).getContextKeyValue("focusedView")==="terminal"?"terminalFocus":"editorFocus",i=!k.TabFocus.getTabFocusMode(C);k.TabFocus.setTabFocusMode(i,C),i?(0,L.alert)(y.localize(1,null)):(0,L.alert)(y.localize(2,null))}}e.ToggleTabFocusModeAction=f,f.ID="editor.action.toggleTabFocusMode",(0,D.registerAction2)(f)}),define(ne[346],se([1,0,228,582,15,118,726,2]),function(Q,e,L,k,y,D,S,f){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ContextScopedReplaceInput=e.ContextScopedFindInput=e.registerAndCreateHistoryNavigationContext=e.historyNavigationVisible=void 0,e.historyNavigationVisible=new y.RawContextKey("suggestWidgetVisible",!1,(0,S.localize)(0,null));const _="historyNavigationWidgetFocus",g="historyNavigationForwardsEnabled",C="historyNavigationBackwardsEnabled";let s;const i=[];function n(u,h){if(i.includes(h))throw new Error("Cannot register the same widget multiple times");i.push(h);const r=new f.DisposableStore,c=new y.RawContextKey(_,!1).bindTo(u),o=new y.RawContextKey(g,!0).bindTo(u),d=new y.RawContextKey(C,!0).bindTo(u),l=()=>{c.set(!0),s=h},p=()=>{c.set(!1),s===h&&(s=void 0)};return h.element===document.activeElement&&l(),r.add(h.onDidFocus(()=>l())),r.add(h.onDidBlur(()=>p())),r.add((0,f.toDisposable)(()=>{i.splice(i.indexOf(h),1),p()})),{historyNavigationForwardsEnablement:o,historyNavigationBackwardsEnablement:d,dispose(){r.dispose()}}}e.registerAndCreateHistoryNavigationContext=n;let t=class extends L.FindInput{constructor(h,r,c,o){super(h,r,c);const d=this._register(o.createScoped(this.inputBox.element));this._register(n(d,this.inputBox))}};e.ContextScopedFindInput=t,e.ContextScopedFindInput=t=ke([fe(3,y.IContextKeyService)],t);let a=class extends k.ReplaceInput{constructor(h,r,c,o,d=!1){super(h,r,d,c);const l=this._register(o.createScoped(this.inputBox.element));this._register(n(l,this.inputBox))}};e.ContextScopedReplaceInput=a,e.ContextScopedReplaceInput=a=ke([fe(3,y.IContextKeyService)],a),D.KeybindingsRegistry.registerCommandAndKeybindingRule({id:"history.showPrevious",weight:200,when:y.ContextKeyExpr.and(y.ContextKeyExpr.has(_),y.ContextKeyExpr.equals(C,!0),y.ContextKeyExpr.not("isComposing"),e.historyNavigationVisible.isEqualTo(!1)),primary:16,secondary:[528],handler:u=>{s?.showPreviousValue()}}),D.KeybindingsRegistry.registerCommandAndKeybindingRule({id:"history.showNext",weight:200,when:y.ContextKeyExpr.and(y.ContextKeyExpr.has(_),y.ContextKeyExpr.equals(g,!0),y.ContextKeyExpr.not("isComposing"),e.historyNavigationVisible.isEqualTo(!1)),primary:18,secondary:[530],handler:u=>{s?.showNextValue()}})}),define(ne[135],se([1,0,19,9,72,2,58,20,22,12,5,69,128,700,30,27,15,18,346]),function(Q,e,L,k,y,D,S,f,_,g,C,s,i,n,t,a,u,h,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.QuickSuggestionsOptions=e.showSimpleSuggestions=e.getSuggestionComparator=e.provideSuggestionItems=e.CompletionItemModel=e.getSnippetSuggestSupport=e.CompletionOptions=e.CompletionItem=e.suggestWidgetStatusbarMenu=e.Context=void 0,e.Context={Visible:r.historyNavigationVisible,HasFocusedSuggestion:new u.RawContextKey("suggestWidgetHasFocusedSuggestion",!1,(0,n.localize)(0,null)),DetailsVisible:new u.RawContextKey("suggestWidgetDetailsVisible",!1,(0,n.localize)(1,null)),MultipleSuggestions:new u.RawContextKey("suggestWidgetMultipleSuggestions",!1,(0,n.localize)(2,null)),MakesTextEdit:new u.RawContextKey("suggestionMakesTextEdit",!0,(0,n.localize)(3,null)),AcceptSuggestionsOnEnter:new u.RawContextKey("acceptSuggestionOnEnter",!0,(0,n.localize)(4,null)),HasInsertAndReplaceRange:new u.RawContextKey("suggestionHasInsertAndReplaceRange",!1,(0,n.localize)(5,null)),InsertMode:new u.RawContextKey("suggestionInsertMode",void 0,{type:"string",description:(0,n.localize)(6,null)}),CanResolve:new u.RawContextKey("suggestionCanResolve",!1,(0,n.localize)(7,null))},e.suggestWidgetStatusbarMenu=new t.MenuId("suggestWidgetStatusBar");class c{constructor(T,A,N,F){var O;this.position=T,this.completion=A,this.container=N,this.provider=F,this.isInvalid=!1,this.score=y.FuzzyScore.Default,this.distance=0,this.textLabel=typeof A.label=="string"?A.label:(O=A.label)===null||O===void 0?void 0:O.label,this.labelLow=this.textLabel.toLowerCase(),this.isInvalid=!this.textLabel,this.sortTextLow=A.sortText&&A.sortText.toLowerCase(),this.filterTextLow=A.filterText&&A.filterText.toLowerCase(),this.extensionId=A.extensionId,C.Range.isIRange(A.range)?(this.editStart=new g.Position(A.range.startLineNumber,A.range.startColumn),this.editInsertEnd=new g.Position(A.range.endLineNumber,A.range.endColumn),this.editReplaceEnd=new g.Position(A.range.endLineNumber,A.range.endColumn),this.isInvalid=this.isInvalid||C.Range.spansMultipleLines(A.range)||A.range.startLineNumber!==T.lineNumber):(this.editStart=new g.Position(A.range.insert.startLineNumber,A.range.insert.startColumn),this.editInsertEnd=new g.Position(A.range.insert.endLineNumber,A.range.insert.endColumn),this.editReplaceEnd=new g.Position(A.range.replace.endLineNumber,A.range.replace.endColumn),this.isInvalid=this.isInvalid||C.Range.spansMultipleLines(A.range.insert)||C.Range.spansMultipleLines(A.range.replace)||A.range.insert.startLineNumber!==T.lineNumber||A.range.replace.startLineNumber!==T.lineNumber||A.range.insert.startColumn!==A.range.replace.startColumn),typeof F.resolveCompletionItem!="function"&&(this._resolveCache=Promise.resolve(),this._resolveDuration=0)}get isResolved(){return this._resolveDuration!==void 0}get resolveDuration(){return this._resolveDuration!==void 0?this._resolveDuration:-1}resolve(T){return we(this,void 0,void 0,function*(){if(!this._resolveCache){const A=T.onCancellationRequested(()=>{this._resolveCache=void 0,this._resolveDuration=void 0}),N=new S.StopWatch(!0);this._resolveCache=Promise.resolve(this.provider.resolveCompletionItem(this.completion,T)).then(F=>{Object.assign(this.completion,F),this._resolveDuration=N.elapsed(),A.dispose()},F=>{(0,k.isCancellationError)(F)&&(this._resolveCache=void 0,this._resolveDuration=void 0)})}return this._resolveCache})}}e.CompletionItem=c;class o{constructor(T=2,A=new Set,N=new Set,F=new Map,O=!0){this.snippetSortOrder=T,this.kindFilter=A,this.providerFilter=N,this.providerItemsToReuse=F,this.showDeprecated=O}}e.CompletionOptions=o,o.default=new o;let d;function l(){return d}e.getSnippetSuggestSupport=l;class p{constructor(T,A,N,F){this.items=T,this.needsClipboard=A,this.durations=N,this.disposable=F}}e.CompletionItemModel=p;function m(x,T,A,N=o.default,F={triggerKind:0},O=L.CancellationToken.None){return we(this,void 0,void 0,function*(){const W=new S.StopWatch;A=A.clone();const U=T.getWordAtPosition(A),j=U?new C.Range(A.lineNumber,U.startColumn,A.lineNumber,U.endColumn):C.Range.fromPositions(A),R={replace:j,insert:j.setEndPosition(A.lineNumber,A.column)},K=[],G=new D.DisposableStore,Z=[];let J=!1;const X=(B,V,Y)=>{var ie,ae,ce;let de=!1;if(!V)return de;for(const he of V.suggestions)if(!N.kindFilter.has(he.kind)){if(!N.showDeprecated&&(!((ie=he?.tags)===null||ie===void 0)&&ie.includes(1)))continue;he.range||(he.range=R),he.sortText||(he.sortText=typeof he.label=="string"?he.label:he.label.label),!J&&he.insertTextRules&&he.insertTextRules&4&&(J=i.SnippetParser.guessNeedsClipboard(he.insertText)),K.push(new c(A,he,V,B)),de=!0}return(0,D.isDisposable)(V)&&G.add(V),Z.push({providerName:(ae=B._debugDisplayName)!==null&&ae!==void 0?ae:"unknown_provider",elapsedProvider:(ce=V.duration)!==null&&ce!==void 0?ce:-1,elapsedOverall:Y.elapsed()}),de},H=(()=>we(this,void 0,void 0,function*(){if(!d||N.kindFilter.has(27))return;const B=N.providerItemsToReuse.get(d);if(B){B.forEach(ie=>K.push(ie));return}if(N.providerFilter.size>0&&!N.providerFilter.has(d))return;const V=new S.StopWatch,Y=yield d.provideCompletionItems(T,A,F,O);X(d,Y,V)}))();for(const B of x.orderedGroups(T)){let V=!1;if(yield Promise.all(B.map(Y=>we(this,void 0,void 0,function*(){if(N.providerItemsToReuse.has(Y)){const ie=N.providerItemsToReuse.get(Y);ie.forEach(ae=>K.push(ae)),V=V||ie.length>0;return}if(!(N.providerFilter.size>0&&!N.providerFilter.has(Y)))try{const ie=new S.StopWatch,ae=yield Y.provideCompletionItems(T,A,F,O);V=X(Y,ae,ie)||V}catch(ie){(0,k.onUnexpectedExternalError)(ie)}}))),V||O.isCancellationRequested)break}return yield H,O.isCancellationRequested?(G.dispose(),Promise.reject(new k.CancellationError)):new p(K.sort(I(N.snippetSortOrder)),J,{entries:Z,elapsed:W.elapsed()},G)})}e.provideSuggestionItems=m;function v(x,T){if(x.sortTextLow&&T.sortTextLow){if(x.sortTextLow<T.sortTextLow)return-1;if(x.sortTextLow>T.sortTextLow)return 1}return x.textLabel<T.textLabel?-1:x.textLabel>T.textLabel?1:x.completion.kind-T.completion.kind}function b(x,T){if(x.completion.kind!==T.completion.kind){if(x.completion.kind===27)return-1;if(T.completion.kind===27)return 1}return v(x,T)}function w(x,T){if(x.completion.kind!==T.completion.kind){if(x.completion.kind===27)return 1;if(T.completion.kind===27)return-1}return v(x,T)}const E=new Map;E.set(0,b),E.set(2,w),E.set(1,v);function I(x){return E.get(x)}e.getSuggestionComparator=I,a.CommandsRegistry.registerCommand("_executeCompletionItemProvider",(x,...T)=>we(void 0,void 0,void 0,function*(){const[A,N,F,O]=T;(0,f.assertType)(_.URI.isUri(A)),(0,f.assertType)(g.Position.isIPosition(N)),(0,f.assertType)(typeof F=="string"||!F),(0,f.assertType)(typeof O=="number"||!O);const{completionProvider:W}=x.get(h.ILanguageFeaturesService),U=yield x.get(s.ITextModelService).createModelReference(A);try{const j={incomplete:!1,suggestions:[]},R=[],K=U.object.textEditorModel.validatePosition(N),G=yield m(W,U.object.textEditorModel,K,void 0,{triggerCharacter:F??void 0,triggerKind:F?1:0});for(const Z of G.items)R.length<(O??0)&&R.push(Z.resolve(L.CancellationToken.None)),j.incomplete=j.incomplete||Z.container.incomplete,j.suggestions.push(Z.completion);try{return yield Promise.all(R),j}finally{setTimeout(()=>G.disposable.dispose(),100)}}finally{U.dispose()}}));function M(x,T){var A;(A=x.getContribution("editor.contrib.suggestController"))===null||A===void 0||A.triggerSuggest(new Set().add(T),void 0,!0)}e.showSimpleSuggestions=M;class P{static isAllOff(T){return T.other==="off"&&T.comments==="off"&&T.strings==="off"}static isAllOn(T){return T.other==="on"&&T.comments==="on"&&T.strings==="on"}static valueFor(T,A){switch(A){case 1:return T.comments;case 2:return T.strings;default:return T.other}}}e.QuickSuggestionsOptions=P}),define(ne[136],se([1,0,14,2,37]),function(Q,e,L,k,y){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.QuickAccessRegistry=e.Extensions=e.DefaultQuickAccessFilterValue=void 0;var D;(function(f){f[f.PRESERVE=0]="PRESERVE",f[f.LAST=1]="LAST"})(D||(e.DefaultQuickAccessFilterValue=D={})),e.Extensions={Quickaccess:"workbench.contributions.quickaccess"};class S{constructor(){this.providers=[],this.defaultProvider=void 0}registerQuickAccessProvider(_){return _.prefix.length===0?this.defaultProvider=_:this.providers.push(_),this.providers.sort((g,C)=>C.prefix.length-g.prefix.length),(0,k.toDisposable)(()=>{this.providers.splice(this.providers.indexOf(_),1),this.defaultProvider===_&&(this.defaultProvider=void 0)})}getQuickAccessProviders(){return(0,L.coalesce)([this.defaultProvider,...this.providers])}getQuickAccessProvider(_){return _&&this.providers.find(C=>_.startsWith(C.prefix))||void 0||this.defaultProvider}}e.QuickAccessRegistry=S,y.Registry.add(e.Extensions.Quickaccess,new S)}),define(ne[786],se([1,0,731,37,2,34,136,71]),function(Q,e,L,k,y,D,S,f){"use strict";var _;Object.defineProperty(e,"__esModule",{value:!0}),e.HelpQuickAccessProvider=void 0;let g=_=class{constructor(s,i){this.quickInputService=s,this.keybindingService=i,this.registry=k.Registry.as(S.Extensions.Quickaccess)}provide(s){const i=new y.DisposableStore;return i.add(s.onDidAccept(()=>{const[n]=s.selectedItems;n&&this.quickInputService.quickAccess.show(n.prefix,{preserveValue:!0})})),i.add(s.onDidChangeValue(n=>{const t=this.registry.getQuickAccessProvider(n.substr(_.PREFIX.length));t&&t.prefix&&t.prefix!==_.PREFIX&&this.quickInputService.quickAccess.show(t.prefix,{preserveValue:!0})})),s.items=this.getQuickAccessProviders().filter(n=>n.prefix!==_.PREFIX),i}getQuickAccessProviders(){return this.registry.getQuickAccessProviders().sort((i,n)=>i.prefix.localeCompare(n.prefix)).flatMap(i=>this.createPicks(i))}createPicks(s){return s.helpEntries.map(i=>{const n=i.prefix||s.prefix,t=n||"\u2026";return{prefix:n,label:t,keybinding:i.commandId?this.keybindingService.lookupKeybinding(i.commandId):void 0,ariaLabel:(0,L.localize)(0,null,t,i.description),description:i.description}})}};e.HelpQuickAccessProvider=g,g.PREFIX="?",e.HelpQuickAccessProvider=g=_=ke([fe(0,f.IQuickInputService),fe(1,D.IKeybindingService)],g)}),define(ne[787],se([1,0,37,136,94,786]),function(Q,e,L,k,y,D){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),L.Registry.as(k.Extensions.Quickaccess).registerQuickAccessProvider({ctor:D.HelpQuickAccessProvider,prefix:"",helpEntries:[{description:y.QuickHelpNLS.helpQuickAccessActionLabel}]})}),define(ne[788],se([1,0,13,19,99,2,8,136,71,37]),function(Q,e,L,k,y,D,S,f,_,g){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.QuickAccessController=void 0;let C=class extends D.Disposable{constructor(i,n){super(),this.quickInputService=i,this.instantiationService=n,this.registry=g.Registry.as(f.Extensions.Quickaccess),this.mapProviderToDescriptor=new Map,this.lastAcceptedPickerValues=new Map,this.visibleQuickAccess=void 0}show(i="",n){this.doShowOrPick(i,!1,n)}doShowOrPick(i,n,t){var a;const[u,h]=this.getOrInstantiateProvider(i),r=this.visibleQuickAccess,c=r?.descriptor;if(r&&h&&c===h){i!==h.prefix&&!t?.preserveValue&&(r.picker.value=i),this.adjustValueSelection(r.picker,h,t);return}if(h&&!t?.preserveValue){let m;if(r&&c&&c!==h){const v=r.value.substr(c.prefix.length);v&&(m=`${h.prefix}${v}`)}if(!m){const v=u?.defaultFilterValue;v===f.DefaultQuickAccessFilterValue.LAST?m=this.lastAcceptedPickerValues.get(h):typeof v=="string"&&(m=`${h.prefix}${v}`)}typeof m=="string"&&(i=m)}const o=new D.DisposableStore,d=o.add(this.quickInputService.createQuickPick());d.value=i,this.adjustValueSelection(d,h,t),d.placeholder=h?.placeholder,d.quickNavigate=t?.quickNavigateConfiguration,d.hideInput=!!d.quickNavigate&&!r,(typeof t?.itemActivation=="number"||t?.quickNavigateConfiguration)&&(d.itemActivation=(a=t?.itemActivation)!==null&&a!==void 0?a:_.ItemActivation.SECOND),d.contextKey=h?.contextKey,d.filterValue=m=>m.substring(h?h.prefix.length:0);let l;n&&(l=new L.DeferredPromise,o.add((0,y.once)(d.onWillAccept)(m=>{m.veto(),d.hide()}))),o.add(this.registerPickerListeners(d,u,h,i,t?.providerOptions));const p=o.add(new k.CancellationTokenSource);if(u&&o.add(u.provide(d,p.token,t?.providerOptions)),(0,y.once)(d.onDidHide)(()=>{d.selectedItems.length===0&&p.cancel(),o.dispose(),l?.complete(d.selectedItems.slice(0))}),d.show(),n)return l?.p}adjustValueSelection(i,n,t){var a;let u;t?.preserveValue?u=[i.value.length,i.value.length]:u=[(a=n?.prefix.length)!==null&&a!==void 0?a:0,i.value.length],i.valueSelection=u}registerPickerListeners(i,n,t,a,u){const h=new D.DisposableStore,r=this.visibleQuickAccess={picker:i,descriptor:t,value:a};return h.add((0,D.toDisposable)(()=>{r===this.visibleQuickAccess&&(this.visibleQuickAccess=void 0)})),h.add(i.onDidChangeValue(c=>{const[o]=this.getOrInstantiateProvider(c);o!==n?this.show(c,{preserveValue:!0,providerOptions:u}):r.value=c})),t&&h.add(i.onDidAccept(()=>{this.lastAcceptedPickerValues.set(t,i.value)})),h}getOrInstantiateProvider(i){const n=this.registry.getQuickAccessProvider(i);if(!n)return[void 0,void 0];let t=this.mapProviderToDescriptor.get(n);return t||(t=this.instantiationService.createInstance(n.ctor),this.mapProviderToDescriptor.set(n,t)),[t,n]}};e.QuickAccessController=C,e.QuickAccessController=C=ke([fe(0,_.IQuickInputService),fe(1,S.IInstantiationService)],C)}),define(ne[789],se([1,0,25,26,101,474]),function(Q,e,L,k,y){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.SeverityIcon=void 0;var D;(function(S){function f(_){switch(_){case y.default.Ignore:return"severity-ignore "+k.ThemeIcon.asClassName(L.Codicon.info);case y.default.Info:return k.ThemeIcon.asClassName(L.Codicon.info);case y.default.Warning:return k.ThemeIcon.asClassName(L.Codicon.warning);case y.default.Error:return k.ThemeIcon.asClassName(L.Codicon.error);default:return""}}S.className=f})(D||(e.SeverityIcon=D={}))}),define(ne[87],se([1,0,6,2,20,588,8]),function(Q,e,L,k,y,D,S){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.InMemoryStorageService=e.AbstractStorageService=e.loadKeyTargets=e.WillSaveStateReason=e.IStorageService=e.TARGET_KEY=void 0,e.TARGET_KEY="__$__targetStorageMarker",e.IStorageService=(0,S.createDecorator)("storageService");var f;(function(s){s[s.NONE=0]="NONE",s[s.SHUTDOWN=1]="SHUTDOWN"})(f||(e.WillSaveStateReason=f={}));function _(s){const i=s.get(e.TARGET_KEY);if(i)try{return JSON.parse(i)}catch{}return Object.create(null)}e.loadKeyTargets=_;class g extends k.Disposable{constructor(i={flushInterval:g.DEFAULT_FLUSH_INTERVAL}){super(),this.options=i,this._onDidChangeValue=this._register(new L.PauseableEmitter),this._onDidChangeTarget=this._register(new L.PauseableEmitter),this._onWillSaveState=this._register(new L.Emitter),this.onWillSaveState=this._onWillSaveState.event,this._workspaceKeyTargets=void 0,this._profileKeyTargets=void 0,this._applicationKeyTargets=void 0}onDidChangeValue(i,n,t){return L.Event.filter(this._onDidChangeValue.event,a=>a.scope===i&&(n===void 0||a.key===n),t)}emitDidChangeValue(i,n){const{key:t,external:a}=n;if(t===e.TARGET_KEY){switch(i){case-1:this._applicationKeyTargets=void 0;break;case 0:this._profileKeyTargets=void 0;break;case 1:this._workspaceKeyTargets=void 0;break}this._onDidChangeTarget.fire({scope:i})}else this._onDidChangeValue.fire({scope:i,key:t,target:this.getKeyTargets(i)[t],external:a})}get(i,n,t){var a;return(a=this.getStorage(n))===null||a===void 0?void 0:a.get(i,t)}getBoolean(i,n,t){var a;return(a=this.getStorage(n))===null||a===void 0?void 0:a.getBoolean(i,t)}getNumber(i,n,t){var a;return(a=this.getStorage(n))===null||a===void 0?void 0:a.getNumber(i,t)}store(i,n,t,a,u=!1){if((0,y.isUndefinedOrNull)(n)){this.remove(i,t,u);return}this.withPausedEmitters(()=>{var h;this.updateKeyTarget(i,t,a),(h=this.getStorage(t))===null||h===void 0||h.set(i,n,u)})}remove(i,n,t=!1){this.withPausedEmitters(()=>{var a;this.updateKeyTarget(i,n,void 0),(a=this.getStorage(n))===null||a===void 0||a.delete(i,t)})}withPausedEmitters(i){this._onDidChangeValue.pause(),this._onDidChangeTarget.pause();try{i()}finally{this._onDidChangeValue.resume(),this._onDidChangeTarget.resume()}}updateKeyTarget(i,n,t,a=!1){var u,h;const r=this.getKeyTargets(n);typeof t=="number"?r[i]!==t&&(r[i]=t,(u=this.getStorage(n))===null||u===void 0||u.set(e.TARGET_KEY,JSON.stringify(r),a)):typeof r[i]=="number"&&(delete r[i],(h=this.getStorage(n))===null||h===void 0||h.set(e.TARGET_KEY,JSON.stringify(r),a))}get workspaceKeyTargets(){return this._workspaceKeyTargets||(this._workspaceKeyTargets=this.loadKeyTargets(1)),this._workspaceKeyTargets}get profileKeyTargets(){return this._profileKeyTargets||(this._profileKeyTargets=this.loadKeyTargets(0)),this._profileKeyTargets}get applicationKeyTargets(){return this._applicationKeyTargets||(this._applicationKeyTargets=this.loadKeyTargets(-1)),this._applicationKeyTargets}getKeyTargets(i){switch(i){case-1:return this.applicationKeyTargets;case 0:return this.profileKeyTargets;default:return this.workspaceKeyTargets}}loadKeyTargets(i){const n=this.getStorage(i);return n?_(n):Object.create(null)}}e.AbstractStorageService=g,g.DEFAULT_FLUSH_INTERVAL=60*1e3;class C extends g{constructor(){super(),this.applicationStorage=this._register(new D.Storage(new D.InMemoryStorageDatabase,{hint:D.StorageHint.STORAGE_IN_MEMORY})),this.profileStorage=this._register(new D.Storage(new D.InMemoryStorageDatabase,{hint:D.StorageHint.STORAGE_IN_MEMORY})),this.workspaceStorage=this._register(new D.Storage(new D.InMemoryStorageDatabase,{hint:D.StorageHint.STORAGE_IN_MEMORY})),this._register(this.workspaceStorage.onDidChangeStorage(i=>this.emitDidChangeValue(1,i))),this._register(this.profileStorage.onDidChangeStorage(i=>this.emitDidChangeValue(0,i))),this._register(this.applicationStorage.onDidChangeStorage(i=>this.emitDidChangeValue(-1,i)))}getStorage(i){switch(i){case-1:return this.applicationStorage;case 0:return this.profileStorage;default:return this.workspaceStorage}}}e.InMemoryStorageService=C}),define(ne[790],se([1,0,13,99,65,5,332,50,8,87]),function(Q,e,L,k,y,D,S,f,_,g){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.CodeLensCache=e.ICodeLensCache=void 0,e.ICodeLensCache=(0,_.createDecorator)("ICodeLensCache");class C{constructor(n,t){this.lineCount=n,this.data=t}}let s=class{constructor(n){this._fakeProvider=new class{provideCodeLenses(){throw new Error("not supported")}},this._cache=new y.LRUCache(20,.75);const t="codelens/cache";(0,L.runWhenIdle)(()=>n.remove(t,1));const a="codelens/cache2",u=n.get(a,1,"{}");this._deserialize(u),(0,k.once)(n.onWillSaveState)(h=>{h.reason===g.WillSaveStateReason.SHUTDOWN&&n.store(a,this._serialize(),1,1)})}put(n,t){const a=t.lenses.map(r=>{var c;return{range:r.symbol.range,command:r.symbol.command&&{id:"",title:(c=r.symbol.command)===null||c===void 0?void 0:c.title}}}),u=new S.CodeLensModel;u.add({lenses:a,dispose:()=>{}},this._fakeProvider);const h=new C(n.getLineCount(),u);this._cache.set(n.uri.toString(),h)}get(n){const t=this._cache.get(n.uri.toString());return t&&t.lineCount===n.getLineCount()?t.data:void 0}delete(n){this._cache.delete(n.uri.toString())}_serialize(){const n=Object.create(null);for(const[t,a]of this._cache){const u=new Set;for(const h of a.data.lenses)u.add(h.symbol.range.startLineNumber);n[t]={lineCount:a.lineCount,lines:[...u.values()]}}return JSON.stringify(n)}_deserialize(n){try{const t=JSON.parse(n);for(const a in t){const u=t[a],h=[];for(const c of u.lines)h.push({range:new D.Range(c,1,c,11)});const r=new S.CodeLensModel;r.add({lenses:h,dispose(){}},this._fakeProvider),this._cache.set(a,new C(u.lineCount,r))}}catch{}}};e.CodeLensCache=s,e.CodeLensCache=s=ke([fe(0,g.IStorageService)],s),(0,f.registerSingleton)(e.ICodeLensCache,s,1)}),define(ne[347],se([1,0,13,2,65,198,29,28,50,8,87]),function(Q,e,L,k,y,D,S,f,_,g,C){"use strict";var s;Object.defineProperty(e,"__esModule",{value:!0}),e.ISuggestMemoryService=e.SuggestMemoryService=e.PrefixMemory=e.LRUMemory=e.NoMemory=e.Memory=void 0;class i{constructor(r){this.name=r}select(r,c,o){if(o.length===0)return 0;const d=o[0].score[0];for(let l=0;l<o.length;l++){const{score:p,completion:m}=o[l];if(p[0]!==d)break;if(m.preselect)return l}return 0}}e.Memory=i;class n extends i{constructor(){super("first")}memorize(r,c,o){}toJSON(){}fromJSON(){}}e.NoMemory=n;class t extends i{constructor(){super("recentlyUsed"),this._cache=new y.LRUCache(300,.66),this._seq=0}memorize(r,c,o){const d=`${r.getLanguageId()}/${o.textLabel}`;this._cache.set(d,{touch:this._seq++,type:o.completion.kind,insertText:o.completion.insertText})}select(r,c,o){if(o.length===0)return 0;const d=r.getLineContent(c.lineNumber).substr(c.column-10,c.column-1);if(/\s$/.test(d))return super.select(r,c,o);const l=o[0].score[0];let p=-1,m=-1,v=-1;for(let b=0;b<o.length&&o[b].score[0]===l;b++){const w=`${r.getLanguageId()}/${o[b].textLabel}`,E=this._cache.peek(w);if(E&&E.touch>v&&E.type===o[b].completion.kind&&E.insertText===o[b].completion.insertText&&(v=E.touch,m=b),o[b].completion.preselect&&p===-1)return p=b}return m!==-1?m:p!==-1?p:0}toJSON(){return this._cache.toJSON()}fromJSON(r){this._cache.clear();const c=0;for(const[o,d]of r)d.touch=c,d.type=typeof d.type=="number"?d.type:S.CompletionItemKinds.fromString(d.type),this._cache.set(o,d);this._seq=this._cache.size}}e.LRUMemory=t;class a extends i{constructor(){super("recentlyUsedByPrefix"),this._trie=D.TernarySearchTree.forStrings(),this._seq=0}memorize(r,c,o){const{word:d}=r.getWordUntilPosition(c),l=`${r.getLanguageId()}/${d}`;this._trie.set(l,{type:o.completion.kind,insertText:o.completion.insertText,touch:this._seq++})}select(r,c,o){const{word:d}=r.getWordUntilPosition(c);if(!d)return super.select(r,c,o);const l=`${r.getLanguageId()}/${d}`;let p=this._trie.get(l);if(p||(p=this._trie.findSubstr(l)),p)for(let m=0;m<o.length;m++){const{kind:v,insertText:b}=o[m].completion;if(v===p.type&&b===p.insertText)return m}return super.select(r,c,o)}toJSON(){const r=[];return this._trie.forEach((c,o)=>r.push([o,c])),r.sort((c,o)=>-(c[1].touch-o[1].touch)).forEach((c,o)=>c[1].touch=o),r.slice(0,200)}fromJSON(r){if(this._trie.clear(),r.length>0){this._seq=r[0][1].touch+1;for(const[c,o]of r)o.type=typeof o.type=="number"?o.type:S.CompletionItemKinds.fromString(o.type),this._trie.set(c,o)}}}e.PrefixMemory=a;let u=s=class{constructor(r,c){this._storageService=r,this._configService=c,this._disposables=new k.DisposableStore,this._persistSoon=new L.RunOnceScheduler(()=>this._saveState(),500),this._disposables.add(r.onWillSaveState(o=>{o.reason===C.WillSaveStateReason.SHUTDOWN&&this._saveState()}))}dispose(){this._disposables.dispose(),this._persistSoon.dispose()}memorize(r,c,o){this._withStrategy(r,c).memorize(r,c,o),this._persistSoon.schedule()}select(r,c,o){return this._withStrategy(r,c).select(r,c,o)}_withStrategy(r,c){var o;const d=this._configService.getValue("editor.suggestSelection",{overrideIdentifier:r.getLanguageIdAtPosition(c.lineNumber,c.column),resource:r.uri});if(((o=this._strategy)===null||o===void 0?void 0:o.name)!==d){this._saveState();const l=s._strategyCtors.get(d)||n;this._strategy=new l;try{const m=this._configService.getValue("editor.suggest.shareSuggestSelections")?0:1,v=this._storageService.get(`${s._storagePrefix}/${d}`,m);v&&this._strategy.fromJSON(JSON.parse(v))}catch{}}return this._strategy}_saveState(){if(this._strategy){const c=this._configService.getValue("editor.suggest.shareSuggestSelections")?0:1,o=JSON.stringify(this._strategy);this._storageService.store(`${s._storagePrefix}/${this._strategy.name}`,o,c,1)}}};e.SuggestMemoryService=u,u._strategyCtors=new Map([["recentlyUsedByPrefix",a],["recentlyUsed",t],["first",n]]),u._storagePrefix="suggest/memories",e.SuggestMemoryService=u=s=ke([fe(0,C.IStorageService),fe(1,f.IConfigurationService)],u),e.ISuggestMemoryService=(0,g.createDecorator)("ISuggestMemories"),(0,_.registerSingleton)(e.ISuggestMemoryService,u,1)}),define(ne[791],se([1,0,13,6,2,30,27,15,39,87,14,719]),function(Q,e,L,k,y,D,S,f,_,g,C,s){"use strict";var i,n;Object.defineProperty(e,"__esModule",{value:!0}),e.MenuService=void 0;let t=class{constructor(o,d){this._commandService=o,this._hiddenStates=new a(d)}createMenu(o,d,l){return new h(o,this._hiddenStates,Object.assign({emitEventsForSubmenuChanges:!1,eventDebounceDelay:50},l),this._commandService,d)}resetHiddenStates(o){this._hiddenStates.reset(o)}};e.MenuService=t,e.MenuService=t=ke([fe(0,S.ICommandService),fe(1,g.IStorageService)],t);let a=i=class{constructor(o){this._storageService=o,this._disposables=new y.DisposableStore,this._onDidChange=new k.Emitter,this.onDidChange=this._onDidChange.event,this._ignoreChangeEvent=!1,this._hiddenByDefaultCache=new Map;try{const d=o.get(i._key,0,"{}");this._data=JSON.parse(d)}catch{this._data=Object.create(null)}this._disposables.add(o.onDidChangeValue(0,i._key,this._disposables)(()=>{if(!this._ignoreChangeEvent)try{const d=o.get(i._key,0,"{}");this._data=JSON.parse(d)}catch(d){console.log("FAILED to read storage after UPDATE",d)}this._onDidChange.fire()}))}dispose(){this._onDidChange.dispose(),this._disposables.dispose()}_isHiddenByDefault(o,d){var l;return(l=this._hiddenByDefaultCache.get(`${o.id}/${d}`))!==null&&l!==void 0?l:!1}setDefaultState(o,d,l){this._hiddenByDefaultCache.set(`${o.id}/${d}`,l)}isHidden(o,d){var l,p;const m=this._isHiddenByDefault(o,d),v=(p=(l=this._data[o.id])===null||l===void 0?void 0:l.includes(d))!==null&&p!==void 0?p:!1;return m?!v:v}updateHidden(o,d,l){this._isHiddenByDefault(o,d)&&(l=!l);const m=this._data[o.id];if(l)m?m.indexOf(d)<0&&m.push(d):this._data[o.id]=[d];else if(m){const v=m.indexOf(d);v>=0&&(0,C.removeFastWithoutKeepingOrder)(m,v),m.length===0&&delete this._data[o.id]}this._persist()}reset(o){if(o===void 0)this._data=Object.create(null),this._persist();else{for(const{id:d}of o)this._data[d]&&delete this._data[d];this._persist()}}_persist(){try{this._ignoreChangeEvent=!0;const o=JSON.stringify(this._data);this._storageService.store(i._key,o,0,0)}finally{this._ignoreChangeEvent=!1}}};a._key="menu.hiddenCommands",a=i=ke([fe(0,g.IStorageService)],a);let u=n=class{constructor(o,d,l,p,m){this._id=o,this._hiddenStates=d,this._collectContextKeysForSubmenus=l,this._commandService=p,this._contextKeyService=m,this._menuGroups=[],this._structureContextKeys=new Set,this._preconditionContextKeys=new Set,this._toggledContextKeys=new Set,this.refresh()}get structureContextKeys(){return this._structureContextKeys}get preconditionContextKeys(){return this._preconditionContextKeys}get toggledContextKeys(){return this._toggledContextKeys}refresh(){this._menuGroups.length=0,this._structureContextKeys.clear(),this._preconditionContextKeys.clear(),this._toggledContextKeys.clear();const o=D.MenuRegistry.getMenuItems(this._id);let d;o.sort(n._compareMenuItems);for(const l of o){const p=l.group||"";(!d||d[0]!==p)&&(d=[p,[]],this._menuGroups.push(d)),d[1].push(l),this._collectContextKeys(l)}}_collectContextKeys(o){if(n._fillInKbExprKeys(o.when,this._structureContextKeys),(0,D.isIMenuItem)(o)){if(o.command.precondition&&n._fillInKbExprKeys(o.command.precondition,this._preconditionContextKeys),o.command.toggled){const d=o.command.toggled.condition||o.command.toggled;n._fillInKbExprKeys(d,this._toggledContextKeys)}}else this._collectContextKeysForSubmenus&&D.MenuRegistry.getMenuItems(o.submenu).forEach(this._collectContextKeys,this)}createActionGroups(o){const d=[];for(const l of this._menuGroups){const[p,m]=l,v=[];for(const b of m)if(this._contextKeyService.contextMatchesRules(b.when)){const w=(0,D.isIMenuItem)(b);w&&this._hiddenStates.setDefaultState(this._id,b.command.id,!!b.isHiddenByDefault);const E=r(this._id,w?b.command:b,this._hiddenStates);if(w)v.push(new D.MenuItemAction(b.command,b.alt,o,E,this._contextKeyService,this._commandService));else{const I=new n(b.submenu,this._hiddenStates,this._collectContextKeysForSubmenus,this._commandService,this._contextKeyService).createActionGroups(o),M=_.Separator.join(...I.map(P=>P[1]));M.length>0&&v.push(new D.SubmenuItemAction(b,E,M))}}v.length>0&&d.push([p,v])}return d}static _fillInKbExprKeys(o,d){if(o)for(const l of o.keys())d.add(l)}static _compareMenuItems(o,d){const l=o.group,p=d.group;if(l!==p){if(l){if(!p)return-1}else return 1;if(l==="navigation")return-1;if(p==="navigation")return 1;const b=l.localeCompare(p);if(b!==0)return b}const m=o.order||0,v=d.order||0;return m<v?-1:m>v?1:n._compareTitles((0,D.isIMenuItem)(o)?o.command.title:o.title,(0,D.isIMenuItem)(d)?d.command.title:d.title)}static _compareTitles(o,d){const l=typeof o=="string"?o:o.original,p=typeof d=="string"?d:d.original;return l.localeCompare(p)}};u=n=ke([fe(3,S.ICommandService),fe(4,f.IContextKeyService)],u);let h=class{constructor(o,d,l,p,m){this._disposables=new y.DisposableStore,this._menuInfo=new u(o,d,l.emitEventsForSubmenuChanges,p,m);const v=new L.RunOnceScheduler(()=>{this._menuInfo.refresh(),this._onDidChange.fire({menu:this,isStructuralChange:!0,isEnablementChange:!0,isToggleChange:!0})},l.eventDebounceDelay);this._disposables.add(v),this._disposables.add(D.MenuRegistry.onDidChangeMenu(I=>{I.has(o)&&v.schedule()}));const b=this._disposables.add(new y.DisposableStore),w=I=>{let M=!1,P=!1,x=!1;for(const T of I)if(M=M||T.isStructuralChange,P=P||T.isEnablementChange,x=x||T.isToggleChange,M&&P&&x)break;return{menu:this,isStructuralChange:M,isEnablementChange:P,isToggleChange:x}},E=()=>{b.add(m.onDidChangeContext(I=>{const M=I.affectsSome(this._menuInfo.structureContextKeys),P=I.affectsSome(this._menuInfo.preconditionContextKeys),x=I.affectsSome(this._menuInfo.toggledContextKeys);(M||P||x)&&this._onDidChange.fire({menu:this,isStructuralChange:M,isEnablementChange:P,isToggleChange:x})})),b.add(d.onDidChange(I=>{this._onDidChange.fire({menu:this,isStructuralChange:!0,isEnablementChange:!1,isToggleChange:!1})}))};this._onDidChange=new k.DebounceEmitter({onWillAddFirstListener:E,onDidRemoveLastListener:b.clear.bind(b),delay:l.eventDebounceDelay,merge:w}),this.onDidChange=this._onDidChange.event}getActions(o){return this._menuInfo.createActionGroups(o)}dispose(){this._disposables.dispose(),this._onDidChange.dispose()}};h=ke([fe(3,S.ICommandService),fe(4,f.IContextKeyService)],h);function r(c,o,d){const l=(0,D.isISubmenuItem)(o)?o.submenu.id:o.id,p=typeof o.title=="string"?o.title:o.title.value,m=(0,_.toAction)({id:`hide/${c.id}/${l}`,label:(0,s.localize)(0,null,p),run(){d.updateHidden(c,l,!0)}}),v=(0,_.toAction)({id:`toggle/${c.id}/${l}`,label:p,get checked(){return!d.isHidden(c,l)},run(){d.updateHidden(c,l,!!this.checked)}});return{hide:m,toggle:v,get isHidden(){return!v.checked}}}}),define(ne[79],se([1,0,8]),function(Q,e,L){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ITelemetryService=void 0,e.ITelemetryService=(0,L.createDecorator)("telemetryService")}),define(ne[16],se([1,0,603,22,33,12,51,69,30,27,15,8,118,37,79,20,70]),function(Q,e,L,k,y,D,S,f,_,g,C,s,i,n,t,a,u){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.SelectAllCommand=e.RedoCommand=e.UndoCommand=e.EditorExtensionsRegistry=e.registerEditorContribution=e.registerInstantiatedEditorAction=e.registerMultiEditorAction=e.registerEditorAction=e.registerEditorCommand=e.registerModelAndPositionCommand=e.EditorAction2=e.MultiEditorAction=e.EditorAction=e.EditorCommand=e.ProxyCommand=e.MultiCommand=e.Command=void 0;class h{constructor(N){this.id=N.id,this.precondition=N.precondition,this._kbOpts=N.kbOpts,this._menuOpts=N.menuOpts,this._description=N.description}register(){if(Array.isArray(this._menuOpts)?this._menuOpts.forEach(this._registerMenuItem,this):this._menuOpts&&this._registerMenuItem(this._menuOpts),this._kbOpts){const N=Array.isArray(this._kbOpts)?this._kbOpts:[this._kbOpts];for(const F of N){let O=F.kbExpr;this.precondition&&(O?O=C.ContextKeyExpr.and(O,this.precondition):O=this.precondition);const W={id:this.id,weight:F.weight,args:F.args,when:O,primary:F.primary,secondary:F.secondary,win:F.win,linux:F.linux,mac:F.mac};i.KeybindingsRegistry.registerKeybindingRule(W)}}g.CommandsRegistry.registerCommand({id:this.id,handler:(N,F)=>this.runCommand(N,F),description:this._description})}_registerMenuItem(N){_.MenuRegistry.appendMenuItem(N.menuId,{group:N.group,command:{id:this.id,title:N.title,icon:N.icon,precondition:this.precondition},when:N.when,order:N.order})}}e.Command=h;class r extends h{constructor(){super(...arguments),this._implementations=[]}addImplementation(N,F,O,W){return this._implementations.push({priority:N,name:F,implementation:O,when:W}),this._implementations.sort((U,j)=>j.priority-U.priority),{dispose:()=>{for(let U=0;U<this._implementations.length;U++)if(this._implementations[U].implementation===O){this._implementations.splice(U,1);return}}}}runCommand(N,F){const O=N.get(u.ILogService),W=N.get(C.IContextKeyService);O.trace(`Executing Command '${this.id}' which has ${this._implementations.length} bound.`);for(const U of this._implementations){if(U.when){const R=W.getContext(document.activeElement);if(!U.when.evaluate(R))continue}const j=U.implementation(N,F);if(j)return O.trace(`Command '${this.id}' was handled by '${U.name}'.`),typeof j=="boolean"?void 0:j}O.trace(`The Command '${this.id}' was not handled by any implementation.`)}}e.MultiCommand=r;class c extends h{constructor(N,F){super(F),this.command=N}runCommand(N,F){return this.command.runCommand(N,F)}}e.ProxyCommand=c;class o extends h{static bindToContribution(N){return class extends o{constructor(O){super(O),this._callback=O.handler}runEditorCommand(O,W,U){const j=N(W);j&&this._callback(j,U)}}}static runEditorCommand(N,F,O,W){const U=N.get(y.ICodeEditorService),j=U.getFocusedCodeEditor()||U.getActiveCodeEditor();if(j)return j.invokeWithinContext(R=>{if(R.get(C.IContextKeyService).contextMatchesRules(O??void 0))return W(R,j,F)})}runCommand(N,F){return o.runEditorCommand(N,F,this.precondition,(O,W,U)=>this.runEditorCommand(O,W,U))}}e.EditorCommand=o;class d extends o{static convertOptions(N){let F;Array.isArray(N.menuOpts)?F=N.menuOpts:N.menuOpts?F=[N.menuOpts]:F=[];function O(W){return W.menuId||(W.menuId=_.MenuId.EditorContext),W.title||(W.title=N.label),W.when=C.ContextKeyExpr.and(N.precondition,W.when),W}return Array.isArray(N.contextMenuOpts)?F.push(...N.contextMenuOpts.map(O)):N.contextMenuOpts&&F.push(O(N.contextMenuOpts)),N.menuOpts=F,N}constructor(N){super(d.convertOptions(N)),this.label=N.label,this.alias=N.alias}runEditorCommand(N,F,O){return this.reportTelemetry(N,F),this.run(N,F,O||{})}reportTelemetry(N,F){N.get(t.ITelemetryService).publicLog2("editorActionInvoked",{name:this.label,id:this.id})}}e.EditorAction=d;class l extends d{constructor(){super(...arguments),this._implementations=[]}addImplementation(N,F){return this._implementations.push([N,F]),this._implementations.sort((O,W)=>W[0]-O[0]),{dispose:()=>{for(let O=0;O<this._implementations.length;O++)if(this._implementations[O][1]===F){this._implementations.splice(O,1);return}}}}run(N,F,O){for(const W of this._implementations){const U=W[1](N,F,O);if(U)return typeof U=="boolean"?void 0:U}}}e.MultiEditorAction=l;class p extends _.Action2{run(N,...F){const O=N.get(y.ICodeEditorService),W=O.getFocusedCodeEditor()||O.getActiveCodeEditor();if(W)return W.invokeWithinContext(U=>{var j,R;const K=U.get(C.IContextKeyService),G=U.get(u.ILogService);if(!K.contextMatchesRules((j=this.desc.precondition)!==null&&j!==void 0?j:void 0)){G.debug("[EditorAction2] NOT running command because its precondition is FALSE",this.desc.id,(R=this.desc.precondition)===null||R===void 0?void 0:R.serialize());return}return this.runEditorCommand(U,W,...F)})}}e.EditorAction2=p;function m(A,N){g.CommandsRegistry.registerCommand(A,function(F,...O){const W=F.get(s.IInstantiationService),[U,j]=O;(0,a.assertType)(k.URI.isUri(U)),(0,a.assertType)(D.Position.isIPosition(j));const R=F.get(S.IModelService).getModel(U);if(R){const K=D.Position.lift(j);return W.invokeFunction(N,R,K,...O.slice(2))}return F.get(f.ITextModelService).createModelReference(U).then(K=>new Promise((G,Z)=>{try{const J=W.invokeFunction(N,K.object.textEditorModel,D.Position.lift(j),O.slice(2));G(J)}catch(J){Z(J)}}).finally(()=>{K.dispose()}))})}e.registerModelAndPositionCommand=m;function v(A){return x.INSTANCE.registerEditorCommand(A),A}e.registerEditorCommand=v;function b(A){const N=new A;return x.INSTANCE.registerEditorAction(N),N}e.registerEditorAction=b;function w(A){return x.INSTANCE.registerEditorAction(A),A}e.registerMultiEditorAction=w;function E(A){x.INSTANCE.registerEditorAction(A)}e.registerInstantiatedEditorAction=E;function I(A,N,F){x.INSTANCE.registerEditorContribution(A,N,F)}e.registerEditorContribution=I;var M;(function(A){function N(j){return x.INSTANCE.getEditorCommand(j)}A.getEditorCommand=N;function F(){return x.INSTANCE.getEditorActions()}A.getEditorActions=F;function O(){return x.INSTANCE.getEditorContributions()}A.getEditorContributions=O;function W(j){return x.INSTANCE.getEditorContributions().filter(R=>j.indexOf(R.id)>=0)}A.getSomeEditorContributions=W;function U(){return x.INSTANCE.getDiffEditorContributions()}A.getDiffEditorContributions=U})(M||(e.EditorExtensionsRegistry=M={}));const P={EditorCommonContributions:"editor.contributions"};class x{constructor(){this.editorContributions=[],this.diffEditorContributions=[],this.editorActions=[],this.editorCommands=Object.create(null)}registerEditorContribution(N,F,O){this.editorContributions.push({id:N,ctor:F,instantiation:O})}getEditorContributions(){return this.editorContributions.slice(0)}getDiffEditorContributions(){return this.diffEditorContributions.slice(0)}registerEditorAction(N){N.register(),this.editorActions.push(N)}getEditorActions(){return this.editorActions}registerEditorCommand(N){N.register(),this.editorCommands[N.id]=N}getEditorCommand(N){return this.editorCommands[N]||null}}x.INSTANCE=new x,n.Registry.add(P.EditorCommonContributions,x.INSTANCE);function T(A){return A.register(),A}e.UndoCommand=T(new r({id:"undo",precondition:void 0,kbOpts:{weight:0,primary:2104},menuOpts:[{menuId:_.MenuId.MenubarEditMenu,group:"1_do",title:L.localize(0,null),order:1},{menuId:_.MenuId.CommandPalette,group:"",title:L.localize(1,null),order:1}]})),T(new c(e.UndoCommand,{id:"default:undo",precondition:void 0})),e.RedoCommand=T(new r({id:"redo",precondition:void 0,kbOpts:{weight:0,primary:2103,secondary:[3128],mac:{primary:3128}},menuOpts:[{menuId:_.MenuId.MenubarEditMenu,group:"1_do",title:L.localize(2,null),order:2},{menuId:_.MenuId.CommandPalette,group:"",title:L.localize(3,null),order:1}]})),T(new c(e.RedoCommand,{id:"default:redo",precondition:void 0})),e.SelectAllCommand=T(new r({id:"editor.action.selectAll",precondition:void 0,kbOpts:{weight:0,kbExpr:null,primary:2079},menuOpts:[{menuId:_.MenuId.MenubarSelectionMenu,group:"1_basic",title:L.localize(4,null),order:1},{menuId:_.MenuId.CommandPalette,group:"",title:L.localize(5,null),order:1}]}))}),define(ne[189],se([1,0,602,52,20,49,16,33,496,74,204,205,246,12,5,21,15,118]),function(Q,e,L,k,y,D,S,f,_,g,C,s,i,n,t,a,u,h){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.CoreEditingCommands=e.CoreNavigationCommands=e.RevealLine_=e.EditorScroll_=e.CoreEditorCommand=void 0;const r=0;class c extends S.EditorCommand{runEditorCommand(P,x,T){const A=x._getViewModel();A&&this.runCoreEditorCommand(A,T||{})}}e.CoreEditorCommand=c;var o;(function(M){const P=function(T){if(!y.isObject(T))return!1;const A=T;return!(!y.isString(A.to)||!y.isUndefined(A.by)&&!y.isString(A.by)||!y.isUndefined(A.value)&&!y.isNumber(A.value)||!y.isUndefined(A.revealCursor)&&!y.isBoolean(A.revealCursor))};M.description={description:"Scroll editor in the given direction",args:[{name:"Editor scroll argument object",description:"Property-value pairs that can be passed through this argument:\n					* 'to': A mandatory direction value.\n						```\n						'up', 'down'\n						```\n					* 'by': Unit to move. Default is computed based on 'to' value.\n						```\n						'line', 'wrappedLine', 'page', 'halfPage', 'editor'\n						```\n					* 'value': Number of units to move. Default is '1'.\n					* 'revealCursor': If 'true' reveals the cursor if it is outside view port.\n				",constraint:P,schema:{type:"object",required:["to"],properties:{to:{type:"string",enum:["up","down"]},by:{type:"string",enum:["line","wrappedLine","page","halfPage","editor"]},value:{type:"number",default:1},revealCursor:{type:"boolean"}}}}]},M.RawDirection={Up:"up",Right:"right",Down:"down",Left:"left"},M.RawUnit={Line:"line",WrappedLine:"wrappedLine",Page:"page",HalfPage:"halfPage",Editor:"editor",Column:"column"};function x(T){let A;switch(T.to){case M.RawDirection.Up:A=1;break;case M.RawDirection.Right:A=2;break;case M.RawDirection.Down:A=3;break;case M.RawDirection.Left:A=4;break;default:return null}let N;switch(T.by){case M.RawUnit.Line:N=1;break;case M.RawUnit.WrappedLine:N=2;break;case M.RawUnit.Page:N=3;break;case M.RawUnit.HalfPage:N=4;break;case M.RawUnit.Editor:N=5;break;case M.RawUnit.Column:N=6;break;default:N=2}const F=Math.floor(T.value||1),O=!!T.revealCursor;return{direction:A,unit:N,value:F,revealCursor:O,select:!!T.select}}M.parse=x})(o||(e.EditorScroll_=o={}));var d;(function(M){const P=function(x){if(!y.isObject(x))return!1;const T=x;return!(!y.isNumber(T.lineNumber)&&!y.isString(T.lineNumber)||!y.isUndefined(T.at)&&!y.isString(T.at))};M.description={description:"Reveal the given line at the given logical position",args:[{name:"Reveal line argument object",description:"Property-value pairs that can be passed through this argument:\n					* 'lineNumber': A mandatory line number value.\n					* 'at': Logical position at which line has to be revealed.\n						```\n						'top', 'center', 'bottom'\n						```\n				",constraint:P,schema:{type:"object",required:["lineNumber"],properties:{lineNumber:{type:["number","string"]},at:{type:"string",enum:["top","center","bottom"]}}}}]},M.RawAtArgument={Top:"top",Center:"center",Bottom:"bottom"}})(d||(e.RevealLine_=d={}));class l{constructor(P){P.addImplementation(1e4,"code-editor",(x,T)=>{const A=x.get(f.ICodeEditorService).getFocusedCodeEditor();return A&&A.hasTextFocus()?this._runEditorCommand(x,A,T):!1}),P.addImplementation(1e3,"generic-dom-input-textarea",(x,T)=>{const A=document.activeElement;return A&&["input","textarea"].indexOf(A.tagName.toLowerCase())>=0?(this.runDOMCommand(),!0):!1}),P.addImplementation(0,"generic-dom",(x,T)=>{const A=x.get(f.ICodeEditorService).getActiveCodeEditor();return A?(A.focus(),this._runEditorCommand(x,A,T)):!1})}_runEditorCommand(P,x,T){const A=this.runEditorCommand(P,x,T);return A||!0}}var p;(function(M){class P extends c{constructor(B){super(B),this._inSelectionMode=B.inSelectionMode}runCoreEditorCommand(B,V){if(!V.position)return;B.model.pushStackElement(),B.setCursorStates(V.source,3,[s.CursorMoveCommands.moveTo(B,B.getPrimaryCursorState(),this._inSelectionMode,V.position,V.viewPosition)])&&V.revealType!==2&&B.revealPrimaryCursor(V.source,!0,!0)}}M.MoveTo=(0,S.registerEditorCommand)(new P({id:"_moveTo",inSelectionMode:!1,precondition:void 0})),M.MoveToSelect=(0,S.registerEditorCommand)(new P({id:"_moveToSelect",inSelectionMode:!0,precondition:void 0}));class x extends c{runCoreEditorCommand(B,V){B.model.pushStackElement();const Y=this._getColumnSelectResult(B,B.getPrimaryCursorState(),B.getCursorColumnSelectData(),V);Y!==null&&(B.setCursorStates(V.source,3,Y.viewStates.map(ie=>g.CursorState.fromViewState(ie))),B.setCursorColumnSelectData({isReal:!0,fromViewLineNumber:Y.fromLineNumber,fromViewVisualColumn:Y.fromVisualColumn,toViewLineNumber:Y.toLineNumber,toViewVisualColumn:Y.toVisualColumn}),Y.reversed?B.revealTopMostCursor(V.source):B.revealBottomMostCursor(V.source))}}M.ColumnSelect=(0,S.registerEditorCommand)(new class extends x{constructor(){super({id:"columnSelect",precondition:void 0})}_getColumnSelectResult(H,B,V,Y){if(typeof Y.position>"u"||typeof Y.viewPosition>"u"||typeof Y.mouseColumn>"u")return null;const ie=H.model.validatePosition(Y.position),ae=H.coordinatesConverter.validateViewPosition(new n.Position(Y.viewPosition.lineNumber,Y.viewPosition.column),ie),ce=Y.doColumnSelect?V.fromViewLineNumber:ae.lineNumber,de=Y.doColumnSelect?V.fromViewVisualColumn:Y.mouseColumn-1;return _.ColumnSelection.columnSelect(H.cursorConfig,H,ce,de,ae.lineNumber,Y.mouseColumn-1)}}),M.CursorColumnSelectLeft=(0,S.registerEditorCommand)(new class extends x{constructor(){super({id:"cursorColumnSelectLeft",precondition:void 0,kbOpts:{weight:r,kbExpr:a.EditorContextKeys.textInputFocus,primary:3599,linux:{primary:0}}})}_getColumnSelectResult(H,B,V,Y){return _.ColumnSelection.columnSelectLeft(H.cursorConfig,H,V)}}),M.CursorColumnSelectRight=(0,S.registerEditorCommand)(new class extends x{constructor(){super({id:"cursorColumnSelectRight",precondition:void 0,kbOpts:{weight:r,kbExpr:a.EditorContextKeys.textInputFocus,primary:3601,linux:{primary:0}}})}_getColumnSelectResult(H,B,V,Y){return _.ColumnSelection.columnSelectRight(H.cursorConfig,H,V)}});class T extends x{constructor(B){super(B),this._isPaged=B.isPaged}_getColumnSelectResult(B,V,Y,ie){return _.ColumnSelection.columnSelectUp(B.cursorConfig,B,Y,this._isPaged)}}M.CursorColumnSelectUp=(0,S.registerEditorCommand)(new T({isPaged:!1,id:"cursorColumnSelectUp",precondition:void 0,kbOpts:{weight:r,kbExpr:a.EditorContextKeys.textInputFocus,primary:3600,linux:{primary:0}}})),M.CursorColumnSelectPageUp=(0,S.registerEditorCommand)(new T({isPaged:!0,id:"cursorColumnSelectPageUp",precondition:void 0,kbOpts:{weight:r,kbExpr:a.EditorContextKeys.textInputFocus,primary:3595,linux:{primary:0}}}));class A extends x{constructor(B){super(B),this._isPaged=B.isPaged}_getColumnSelectResult(B,V,Y,ie){return _.ColumnSelection.columnSelectDown(B.cursorConfig,B,Y,this._isPaged)}}M.CursorColumnSelectDown=(0,S.registerEditorCommand)(new A({isPaged:!1,id:"cursorColumnSelectDown",precondition:void 0,kbOpts:{weight:r,kbExpr:a.EditorContextKeys.textInputFocus,primary:3602,linux:{primary:0}}})),M.CursorColumnSelectPageDown=(0,S.registerEditorCommand)(new A({isPaged:!0,id:"cursorColumnSelectPageDown",precondition:void 0,kbOpts:{weight:r,kbExpr:a.EditorContextKeys.textInputFocus,primary:3596,linux:{primary:0}}}));class N extends c{constructor(){super({id:"cursorMove",precondition:void 0,description:s.CursorMove.description})}runCoreEditorCommand(B,V){const Y=s.CursorMove.parse(V);Y&&this._runCursorMove(B,V.source,Y)}_runCursorMove(B,V,Y){B.model.pushStackElement(),B.setCursorStates(V,3,N._move(B,B.getCursorStates(),Y)),B.revealPrimaryCursor(V,!0)}static _move(B,V,Y){const ie=Y.select,ae=Y.value;switch(Y.direction){case 0:case 1:case 2:case 3:case 4:case 5:case 6:case 7:case 8:case 9:case 10:return s.CursorMoveCommands.simpleMove(B,V,Y.direction,ie,ae,Y.unit);case 11:case 13:case 12:case 14:return s.CursorMoveCommands.viewportMove(B,V,Y.direction,ie,ae);default:return null}}}M.CursorMoveImpl=N,M.CursorMove=(0,S.registerEditorCommand)(new N);class F extends c{constructor(B){super(B),this._staticArgs=B.args}runCoreEditorCommand(B,V){let Y=this._staticArgs;this._staticArgs.value===-1&&(Y={direction:this._staticArgs.direction,unit:this._staticArgs.unit,select:this._staticArgs.select,value:V.pageSize||B.cursorConfig.pageSize}),B.model.pushStackElement(),B.setCursorStates(V.source,3,s.CursorMoveCommands.simpleMove(B,B.getCursorStates(),Y.direction,Y.select,Y.value,Y.unit)),B.revealPrimaryCursor(V.source,!0)}}M.CursorLeft=(0,S.registerEditorCommand)(new F({args:{direction:0,unit:0,select:!1,value:1},id:"cursorLeft",precondition:void 0,kbOpts:{weight:r,kbExpr:a.EditorContextKeys.textInputFocus,primary:15,mac:{primary:15,secondary:[288]}}})),M.CursorLeftSelect=(0,S.registerEditorCommand)(new F({args:{direction:0,unit:0,select:!0,value:1},id:"cursorLeftSelect",precondition:void 0,kbOpts:{weight:r,kbExpr:a.EditorContextKeys.textInputFocus,primary:1039}})),M.CursorRight=(0,S.registerEditorCommand)(new F({args:{direction:1,unit:0,select:!1,value:1},id:"cursorRight",precondition:void 0,kbOpts:{weight:r,kbExpr:a.EditorContextKeys.textInputFocus,primary:17,mac:{primary:17,secondary:[292]}}})),M.CursorRightSelect=(0,S.registerEditorCommand)(new F({args:{direction:1,unit:0,select:!0,value:1},id:"cursorRightSelect",precondition:void 0,kbOpts:{weight:r,kbExpr:a.EditorContextKeys.textInputFocus,primary:1041}})),M.CursorUp=(0,S.registerEditorCommand)(new F({args:{direction:2,unit:2,select:!1,value:1},id:"cursorUp",precondition:void 0,kbOpts:{weight:r,kbExpr:a.EditorContextKeys.textInputFocus,primary:16,mac:{primary:16,secondary:[302]}}})),M.CursorUpSelect=(0,S.registerEditorCommand)(new F({args:{direction:2,unit:2,select:!0,value:1},id:"cursorUpSelect",precondition:void 0,kbOpts:{weight:r,kbExpr:a.EditorContextKeys.textInputFocus,primary:1040,secondary:[3088],mac:{primary:1040},linux:{primary:1040}}})),M.CursorPageUp=(0,S.registerEditorCommand)(new F({args:{direction:2,unit:2,select:!1,value:-1},id:"cursorPageUp",precondition:void 0,kbOpts:{weight:r,kbExpr:a.EditorContextKeys.textInputFocus,primary:11}})),M.CursorPageUpSelect=(0,S.registerEditorCommand)(new F({args:{direction:2,unit:2,select:!0,value:-1},id:"cursorPageUpSelect",precondition:void 0,kbOpts:{weight:r,kbExpr:a.EditorContextKeys.textInputFocus,primary:1035}})),M.CursorDown=(0,S.registerEditorCommand)(new F({args:{direction:3,unit:2,select:!1,value:1},id:"cursorDown",precondition:void 0,kbOpts:{weight:r,kbExpr:a.EditorContextKeys.textInputFocus,primary:18,mac:{primary:18,secondary:[300]}}})),M.CursorDownSelect=(0,S.registerEditorCommand)(new F({args:{direction:3,unit:2,select:!0,value:1},id:"cursorDownSelect",precondition:void 0,kbOpts:{weight:r,kbExpr:a.EditorContextKeys.textInputFocus,primary:1042,secondary:[3090],mac:{primary:1042},linux:{primary:1042}}})),M.CursorPageDown=(0,S.registerEditorCommand)(new F({args:{direction:3,unit:2,select:!1,value:-1},id:"cursorPageDown",precondition:void 0,kbOpts:{weight:r,kbExpr:a.EditorContextKeys.textInputFocus,primary:12}})),M.CursorPageDownSelect=(0,S.registerEditorCommand)(new F({args:{direction:3,unit:2,select:!0,value:-1},id:"cursorPageDownSelect",precondition:void 0,kbOpts:{weight:r,kbExpr:a.EditorContextKeys.textInputFocus,primary:1036}})),M.CreateCursor=(0,S.registerEditorCommand)(new class extends c{constructor(){super({id:"createCursor",precondition:void 0})}runCoreEditorCommand(H,B){if(!B.position)return;let V;B.wholeLine?V=s.CursorMoveCommands.line(H,H.getPrimaryCursorState(),!1,B.position,B.viewPosition):V=s.CursorMoveCommands.moveTo(H,H.getPrimaryCursorState(),!1,B.position,B.viewPosition);const Y=H.getCursorStates();if(Y.length>1){const ie=V.modelState?V.modelState.position:null,ae=V.viewState?V.viewState.position:null;for(let ce=0,de=Y.length;ce<de;ce++){const he=Y[ce];if(!(ie&&!he.modelState.selection.containsPosition(ie))&&!(ae&&!he.viewState.selection.containsPosition(ae))){Y.splice(ce,1),H.model.pushStackElement(),H.setCursorStates(B.source,3,Y);return}}}Y.push(V),H.model.pushStackElement(),H.setCursorStates(B.source,3,Y)}}),M.LastCursorMoveToSelect=(0,S.registerEditorCommand)(new class extends c{constructor(){super({id:"_lastCursorMoveToSelect",precondition:void 0})}runCoreEditorCommand(H,B){if(!B.position)return;const V=H.getLastAddedCursorIndex(),Y=H.getCursorStates(),ie=Y.slice(0);ie[V]=s.CursorMoveCommands.moveTo(H,Y[V],!0,B.position,B.viewPosition),H.model.pushStackElement(),H.setCursorStates(B.source,3,ie)}});class O extends c{constructor(B){super(B),this._inSelectionMode=B.inSelectionMode}runCoreEditorCommand(B,V){B.model.pushStackElement(),B.setCursorStates(V.source,3,s.CursorMoveCommands.moveToBeginningOfLine(B,B.getCursorStates(),this._inSelectionMode)),B.revealPrimaryCursor(V.source,!0)}}M.CursorHome=(0,S.registerEditorCommand)(new O({inSelectionMode:!1,id:"cursorHome",precondition:void 0,kbOpts:{weight:r,kbExpr:a.EditorContextKeys.textInputFocus,primary:14,mac:{primary:14,secondary:[2063]}}})),M.CursorHomeSelect=(0,S.registerEditorCommand)(new O({inSelectionMode:!0,id:"cursorHomeSelect",precondition:void 0,kbOpts:{weight:r,kbExpr:a.EditorContextKeys.textInputFocus,primary:1038,mac:{primary:1038,secondary:[3087]}}}));class W extends c{constructor(B){super(B),this._inSelectionMode=B.inSelectionMode}runCoreEditorCommand(B,V){B.model.pushStackElement(),B.setCursorStates(V.source,3,this._exec(B.getCursorStates())),B.revealPrimaryCursor(V.source,!0)}_exec(B){const V=[];for(let Y=0,ie=B.length;Y<ie;Y++){const ae=B[Y],ce=ae.modelState.position.lineNumber;V[Y]=g.CursorState.fromModelState(ae.modelState.move(this._inSelectionMode,ce,1,0))}return V}}M.CursorLineStart=(0,S.registerEditorCommand)(new W({inSelectionMode:!1,id:"cursorLineStart",precondition:void 0,kbOpts:{weight:r,kbExpr:a.EditorContextKeys.textInputFocus,primary:0,mac:{primary:287}}})),M.CursorLineStartSelect=(0,S.registerEditorCommand)(new W({inSelectionMode:!0,id:"cursorLineStartSelect",precondition:void 0,kbOpts:{weight:r,kbExpr:a.EditorContextKeys.textInputFocus,primary:0,mac:{primary:1311}}}));class U extends c{constructor(B){super(B),this._inSelectionMode=B.inSelectionMode}runCoreEditorCommand(B,V){B.model.pushStackElement(),B.setCursorStates(V.source,3,s.CursorMoveCommands.moveToEndOfLine(B,B.getCursorStates(),this._inSelectionMode,V.sticky||!1)),B.revealPrimaryCursor(V.source,!0)}}M.CursorEnd=(0,S.registerEditorCommand)(new U({inSelectionMode:!1,id:"cursorEnd",precondition:void 0,kbOpts:{args:{sticky:!1},weight:r,kbExpr:a.EditorContextKeys.textInputFocus,primary:13,mac:{primary:13,secondary:[2065]}},description:{description:"Go to End",args:[{name:"args",schema:{type:"object",properties:{sticky:{description:L.localize(0,null),type:"boolean",default:!1}}}}]}})),M.CursorEndSelect=(0,S.registerEditorCommand)(new U({inSelectionMode:!0,id:"cursorEndSelect",precondition:void 0,kbOpts:{args:{sticky:!1},weight:r,kbExpr:a.EditorContextKeys.textInputFocus,primary:1037,mac:{primary:1037,secondary:[3089]}},description:{description:"Select to End",args:[{name:"args",schema:{type:"object",properties:{sticky:{description:L.localize(1,null),type:"boolean",default:!1}}}}]}}));class j extends c{constructor(B){super(B),this._inSelectionMode=B.inSelectionMode}runCoreEditorCommand(B,V){B.model.pushStackElement(),B.setCursorStates(V.source,3,this._exec(B,B.getCursorStates())),B.revealPrimaryCursor(V.source,!0)}_exec(B,V){const Y=[];for(let ie=0,ae=V.length;ie<ae;ie++){const ce=V[ie],de=ce.modelState.position.lineNumber,he=B.model.getLineMaxColumn(de);Y[ie]=g.CursorState.fromModelState(ce.modelState.move(this._inSelectionMode,de,he,0))}return Y}}M.CursorLineEnd=(0,S.registerEditorCommand)(new j({inSelectionMode:!1,id:"cursorLineEnd",precondition:void 0,kbOpts:{weight:r,kbExpr:a.EditorContextKeys.textInputFocus,primary:0,mac:{primary:291}}})),M.CursorLineEndSelect=(0,S.registerEditorCommand)(new j({inSelectionMode:!0,id:"cursorLineEndSelect",precondition:void 0,kbOpts:{weight:r,kbExpr:a.EditorContextKeys.textInputFocus,primary:0,mac:{primary:1315}}}));class R extends c{constructor(B){super(B),this._inSelectionMode=B.inSelectionMode}runCoreEditorCommand(B,V){B.model.pushStackElement(),B.setCursorStates(V.source,3,s.CursorMoveCommands.moveToBeginningOfBuffer(B,B.getCursorStates(),this._inSelectionMode)),B.revealPrimaryCursor(V.source,!0)}}M.CursorTop=(0,S.registerEditorCommand)(new R({inSelectionMode:!1,id:"cursorTop",precondition:void 0,kbOpts:{weight:r,kbExpr:a.EditorContextKeys.textInputFocus,primary:2062,mac:{primary:2064}}})),M.CursorTopSelect=(0,S.registerEditorCommand)(new R({inSelectionMode:!0,id:"cursorTopSelect",precondition:void 0,kbOpts:{weight:r,kbExpr:a.EditorContextKeys.textInputFocus,primary:3086,mac:{primary:3088}}}));class K extends c{constructor(B){super(B),this._inSelectionMode=B.inSelectionMode}runCoreEditorCommand(B,V){B.model.pushStackElement(),B.setCursorStates(V.source,3,s.CursorMoveCommands.moveToEndOfBuffer(B,B.getCursorStates(),this._inSelectionMode)),B.revealPrimaryCursor(V.source,!0)}}M.CursorBottom=(0,S.registerEditorCommand)(new K({inSelectionMode:!1,id:"cursorBottom",precondition:void 0,kbOpts:{weight:r,kbExpr:a.EditorContextKeys.textInputFocus,primary:2061,mac:{primary:2066}}})),M.CursorBottomSelect=(0,S.registerEditorCommand)(new K({inSelectionMode:!0,id:"cursorBottomSelect",precondition:void 0,kbOpts:{weight:r,kbExpr:a.EditorContextKeys.textInputFocus,primary:3085,mac:{primary:3090}}}));class G extends c{constructor(){super({id:"editorScroll",precondition:void 0,description:o.description})}determineScrollMethod(B){const V=[6],Y=[1,2,3,4,5,6],ie=[4,2],ae=[1,3];return V.includes(B.unit)&&ie.includes(B.direction)?this._runHorizontalEditorScroll.bind(this):Y.includes(B.unit)&&ae.includes(B.direction)?this._runVerticalEditorScroll.bind(this):null}runCoreEditorCommand(B,V){const Y=o.parse(V);if(!Y)return;const ie=this.determineScrollMethod(Y);ie&&ie(B,V.source,Y)}_runVerticalEditorScroll(B,V,Y){const ie=this._computeDesiredScrollTop(B,Y);if(Y.revealCursor){const ae=B.getCompletelyVisibleViewRangeAtScrollTop(ie);B.setCursorStates(V,3,[s.CursorMoveCommands.findPositionInViewportIfOutside(B,B.getPrimaryCursorState(),ae,Y.select)])}B.viewLayout.setScrollPosition({scrollTop:ie},0)}_computeDesiredScrollTop(B,V){if(V.unit===1){const ae=B.viewLayout.getFutureViewport(),ce=B.getCompletelyVisibleViewRangeAtScrollTop(ae.top),de=B.coordinatesConverter.convertViewRangeToModelRange(ce);let he;V.direction===1?he=Math.max(1,de.startLineNumber-V.value):he=Math.min(B.model.getLineCount(),de.startLineNumber+V.value);const ue=B.coordinatesConverter.convertModelPositionToViewPosition(new n.Position(he,1));return B.viewLayout.getVerticalOffsetForLineNumber(ue.lineNumber)}if(V.unit===5){let ae=0;return V.direction===3&&(ae=B.model.getLineCount()-B.cursorConfig.pageSize),B.viewLayout.getVerticalOffsetForLineNumber(ae)}let Y;V.unit===3?Y=B.cursorConfig.pageSize*V.value:V.unit===4?Y=Math.round(B.cursorConfig.pageSize/2)*V.value:Y=V.value;const ie=(V.direction===1?-1:1)*Y;return B.viewLayout.getCurrentScrollTop()+ie*B.cursorConfig.lineHeight}_runHorizontalEditorScroll(B,V,Y){const ie=this._computeDesiredScrollLeft(B,Y);B.viewLayout.setScrollPosition({scrollLeft:ie},0)}_computeDesiredScrollLeft(B,V){const Y=(V.direction===4?-1:1)*V.value;return B.viewLayout.getCurrentScrollLeft()+Y*B.cursorConfig.typicalHalfwidthCharacterWidth}}M.EditorScrollImpl=G,M.EditorScroll=(0,S.registerEditorCommand)(new G),M.ScrollLineUp=(0,S.registerEditorCommand)(new class extends c{constructor(){super({id:"scrollLineUp",precondition:void 0,kbOpts:{weight:r,kbExpr:a.EditorContextKeys.textInputFocus,primary:2064,mac:{primary:267}}})}runCoreEditorCommand(H,B){M.EditorScroll.runCoreEditorCommand(H,{to:o.RawDirection.Up,by:o.RawUnit.WrappedLine,value:1,revealCursor:!1,select:!1,source:B.source})}}),M.ScrollPageUp=(0,S.registerEditorCommand)(new class extends c{constructor(){super({id:"scrollPageUp",precondition:void 0,kbOpts:{weight:r,kbExpr:a.EditorContextKeys.textInputFocus,primary:2059,win:{primary:523},linux:{primary:523}}})}runCoreEditorCommand(H,B){M.EditorScroll.runCoreEditorCommand(H,{to:o.RawDirection.Up,by:o.RawUnit.Page,value:1,revealCursor:!1,select:!1,source:B.source})}}),M.ScrollEditorTop=(0,S.registerEditorCommand)(new class extends c{constructor(){super({id:"scrollEditorTop",precondition:void 0,kbOpts:{weight:r,kbExpr:a.EditorContextKeys.textInputFocus}})}runCoreEditorCommand(H,B){M.EditorScroll.runCoreEditorCommand(H,{to:o.RawDirection.Up,by:o.RawUnit.Editor,value:1,revealCursor:!1,select:!1,source:B.source})}}),M.ScrollLineDown=(0,S.registerEditorCommand)(new class extends c{constructor(){super({id:"scrollLineDown",precondition:void 0,kbOpts:{weight:r,kbExpr:a.EditorContextKeys.textInputFocus,primary:2066,mac:{primary:268}}})}runCoreEditorCommand(H,B){M.EditorScroll.runCoreEditorCommand(H,{to:o.RawDirection.Down,by:o.RawUnit.WrappedLine,value:1,revealCursor:!1,select:!1,source:B.source})}}),M.ScrollPageDown=(0,S.registerEditorCommand)(new class extends c{constructor(){super({id:"scrollPageDown",precondition:void 0,kbOpts:{weight:r,kbExpr:a.EditorContextKeys.textInputFocus,primary:2060,win:{primary:524},linux:{primary:524}}})}runCoreEditorCommand(H,B){M.EditorScroll.runCoreEditorCommand(H,{to:o.RawDirection.Down,by:o.RawUnit.Page,value:1,revealCursor:!1,select:!1,source:B.source})}}),M.ScrollEditorBottom=(0,S.registerEditorCommand)(new class extends c{constructor(){super({id:"scrollEditorBottom",precondition:void 0,kbOpts:{weight:r,kbExpr:a.EditorContextKeys.textInputFocus}})}runCoreEditorCommand(H,B){M.EditorScroll.runCoreEditorCommand(H,{to:o.RawDirection.Down,by:o.RawUnit.Editor,value:1,revealCursor:!1,select:!1,source:B.source})}}),M.ScrollLeft=(0,S.registerEditorCommand)(new class extends c{constructor(){super({id:"scrollLeft",precondition:void 0,kbOpts:{weight:r,kbExpr:a.EditorContextKeys.textInputFocus}})}runCoreEditorCommand(H,B){M.EditorScroll.runCoreEditorCommand(H,{to:o.RawDirection.Left,by:o.RawUnit.Column,value:2,revealCursor:!1,select:!1,source:B.source})}}),M.ScrollRight=(0,S.registerEditorCommand)(new class extends c{constructor(){super({id:"scrollRight",precondition:void 0,kbOpts:{weight:r,kbExpr:a.EditorContextKeys.textInputFocus}})}runCoreEditorCommand(H,B){M.EditorScroll.runCoreEditorCommand(H,{to:o.RawDirection.Right,by:o.RawUnit.Column,value:2,revealCursor:!1,select:!1,source:B.source})}});class Z extends c{constructor(B){super(B),this._inSelectionMode=B.inSelectionMode}runCoreEditorCommand(B,V){V.position&&(B.model.pushStackElement(),B.setCursorStates(V.source,3,[s.CursorMoveCommands.word(B,B.getPrimaryCursorState(),this._inSelectionMode,V.position)]),V.revealType!==2&&B.revealPrimaryCursor(V.source,!0,!0))}}M.WordSelect=(0,S.registerEditorCommand)(new Z({inSelectionMode:!1,id:"_wordSelect",precondition:void 0})),M.WordSelectDrag=(0,S.registerEditorCommand)(new Z({inSelectionMode:!0,id:"_wordSelectDrag",precondition:void 0})),M.LastCursorWordSelect=(0,S.registerEditorCommand)(new class extends c{constructor(){super({id:"lastCursorWordSelect",precondition:void 0})}runCoreEditorCommand(H,B){if(!B.position)return;const V=H.getLastAddedCursorIndex(),Y=H.getCursorStates(),ie=Y.slice(0),ae=Y[V];ie[V]=s.CursorMoveCommands.word(H,ae,ae.modelState.hasSelection(),B.position),H.model.pushStackElement(),H.setCursorStates(B.source,3,ie)}});class J extends c{constructor(B){super(B),this._inSelectionMode=B.inSelectionMode}runCoreEditorCommand(B,V){V.position&&(B.model.pushStackElement(),B.setCursorStates(V.source,3,[s.CursorMoveCommands.line(B,B.getPrimaryCursorState(),this._inSelectionMode,V.position,V.viewPosition)]),V.revealType!==2&&B.revealPrimaryCursor(V.source,!1,!0))}}M.LineSelect=(0,S.registerEditorCommand)(new J({inSelectionMode:!1,id:"_lineSelect",precondition:void 0})),M.LineSelectDrag=(0,S.registerEditorCommand)(new J({inSelectionMode:!0,id:"_lineSelectDrag",precondition:void 0}));class X extends c{constructor(B){super(B),this._inSelectionMode=B.inSelectionMode}runCoreEditorCommand(B,V){if(!V.position)return;const Y=B.getLastAddedCursorIndex(),ie=B.getCursorStates(),ae=ie.slice(0);ae[Y]=s.CursorMoveCommands.line(B,ie[Y],this._inSelectionMode,V.position,V.viewPosition),B.model.pushStackElement(),B.setCursorStates(V.source,3,ae)}}M.LastCursorLineSelect=(0,S.registerEditorCommand)(new X({inSelectionMode:!1,id:"lastCursorLineSelect",precondition:void 0})),M.LastCursorLineSelectDrag=(0,S.registerEditorCommand)(new X({inSelectionMode:!0,id:"lastCursorLineSelectDrag",precondition:void 0})),M.CancelSelection=(0,S.registerEditorCommand)(new class extends c{constructor(){super({id:"cancelSelection",precondition:a.EditorContextKeys.hasNonEmptySelection,kbOpts:{weight:r,kbExpr:a.EditorContextKeys.textInputFocus,primary:9,secondary:[1033]}})}runCoreEditorCommand(H,B){H.model.pushStackElement(),H.setCursorStates(B.source,3,[s.CursorMoveCommands.cancelSelection(H,H.getPrimaryCursorState())]),H.revealPrimaryCursor(B.source,!0)}}),M.RemoveSecondaryCursors=(0,S.registerEditorCommand)(new class extends c{constructor(){super({id:"removeSecondaryCursors",precondition:a.EditorContextKeys.hasMultipleSelections,kbOpts:{weight:r+1,kbExpr:a.EditorContextKeys.textInputFocus,primary:9,secondary:[1033]}})}runCoreEditorCommand(H,B){H.model.pushStackElement(),H.setCursorStates(B.source,3,[H.getPrimaryCursorState()]),H.revealPrimaryCursor(B.source,!0),(0,D.status)(L.localize(2,null))}}),M.RevealLine=(0,S.registerEditorCommand)(new class extends c{constructor(){super({id:"revealLine",precondition:void 0,description:d.description})}runCoreEditorCommand(H,B){const V=B,Y=V.lineNumber||0;let ie=typeof Y=="number"?Y+1:parseInt(Y)+1;ie<1&&(ie=1);const ae=H.model.getLineCount();ie>ae&&(ie=ae);const ce=new t.Range(ie,1,ie,H.model.getLineMaxColumn(ie));let de=0;if(V.at)switch(V.at){case d.RawAtArgument.Top:de=3;break;case d.RawAtArgument.Center:de=1;break;case d.RawAtArgument.Bottom:de=4;break;default:break}const he=H.coordinatesConverter.convertModelRangeToViewRange(ce);H.revealRange(B.source,!1,he,de,0)}}),M.SelectAll=new class extends l{constructor(){super(S.SelectAllCommand)}runDOMCommand(){k.isFirefox&&(document.activeElement.focus(),document.activeElement.select()),document.execCommand("selectAll")}runEditorCommand(H,B,V){const Y=B._getViewModel();Y&&this.runCoreEditorCommand(Y,V)}runCoreEditorCommand(H,B){H.model.pushStackElement(),H.setCursorStates("keyboard",3,[s.CursorMoveCommands.selectAll(H,H.getPrimaryCursorState())])}},M.SetSelection=(0,S.registerEditorCommand)(new class extends c{constructor(){super({id:"setSelection",precondition:void 0})}runCoreEditorCommand(H,B){B.selection&&(H.model.pushStackElement(),H.setCursorStates(B.source,3,[g.CursorState.fromModelSelection(B.selection)]))}})})(p||(e.CoreNavigationCommands=p={}));const m=u.ContextKeyExpr.and(a.EditorContextKeys.textInputFocus,a.EditorContextKeys.columnSelection);function v(M,P){h.KeybindingsRegistry.registerKeybindingRule({id:M,primary:P,when:m,weight:r+1})}v(p.CursorColumnSelectLeft.id,1039),v(p.CursorColumnSelectRight.id,1041),v(p.CursorColumnSelectUp.id,1040),v(p.CursorColumnSelectPageUp.id,1035),v(p.CursorColumnSelectDown.id,1042),v(p.CursorColumnSelectPageDown.id,1036);function b(M){return M.register(),M}var w;(function(M){class P extends S.EditorCommand{runEditorCommand(T,A,N){const F=A._getViewModel();F&&this.runCoreEditingCommand(A,F,N||{})}}M.CoreEditingCommand=P,M.LineBreakInsert=(0,S.registerEditorCommand)(new class extends P{constructor(){super({id:"lineBreakInsert",precondition:a.EditorContextKeys.writable,kbOpts:{weight:r,kbExpr:a.EditorContextKeys.textInputFocus,primary:0,mac:{primary:301}}})}runCoreEditingCommand(x,T,A){x.pushUndoStop(),x.executeCommands(this.id,i.TypeOperations.lineBreakInsert(T.cursorConfig,T.model,T.getCursorStates().map(N=>N.modelState.selection)))}}),M.Outdent=(0,S.registerEditorCommand)(new class extends P{constructor(){super({id:"outdent",precondition:a.EditorContextKeys.writable,kbOpts:{weight:r,kbExpr:u.ContextKeyExpr.and(a.EditorContextKeys.editorTextFocus,a.EditorContextKeys.tabDoesNotMoveFocus),primary:1026}})}runCoreEditingCommand(x,T,A){x.pushUndoStop(),x.executeCommands(this.id,i.TypeOperations.outdent(T.cursorConfig,T.model,T.getCursorStates().map(N=>N.modelState.selection))),x.pushUndoStop()}}),M.Tab=(0,S.registerEditorCommand)(new class extends P{constructor(){super({id:"tab",precondition:a.EditorContextKeys.writable,kbOpts:{weight:r,kbExpr:u.ContextKeyExpr.and(a.EditorContextKeys.editorTextFocus,a.EditorContextKeys.tabDoesNotMoveFocus),primary:2}})}runCoreEditingCommand(x,T,A){x.pushUndoStop(),x.executeCommands(this.id,i.TypeOperations.tab(T.cursorConfig,T.model,T.getCursorStates().map(N=>N.modelState.selection))),x.pushUndoStop()}}),M.DeleteLeft=(0,S.registerEditorCommand)(new class extends P{constructor(){super({id:"deleteLeft",precondition:void 0,kbOpts:{weight:r,kbExpr:a.EditorContextKeys.textInputFocus,primary:1,secondary:[1025],mac:{primary:1,secondary:[1025,294,257]}}})}runCoreEditingCommand(x,T,A){const[N,F]=C.DeleteOperations.deleteLeft(T.getPrevEditOperationType(),T.cursorConfig,T.model,T.getCursorStates().map(O=>O.modelState.selection),T.getCursorAutoClosedCharacters());N&&x.pushUndoStop(),x.executeCommands(this.id,F),T.setPrevEditOperationType(2)}}),M.DeleteRight=(0,S.registerEditorCommand)(new class extends P{constructor(){super({id:"deleteRight",precondition:void 0,kbOpts:{weight:r,kbExpr:a.EditorContextKeys.textInputFocus,primary:20,mac:{primary:20,secondary:[290,276]}}})}runCoreEditingCommand(x,T,A){const[N,F]=C.DeleteOperations.deleteRight(T.getPrevEditOperationType(),T.cursorConfig,T.model,T.getCursorStates().map(O=>O.modelState.selection));N&&x.pushUndoStop(),x.executeCommands(this.id,F),T.setPrevEditOperationType(3)}}),M.Undo=new class extends l{constructor(){super(S.UndoCommand)}runDOMCommand(){document.execCommand("undo")}runEditorCommand(x,T,A){if(!(!T.hasModel()||T.getOption(89)===!0))return T.getModel().undo()}},M.Redo=new class extends l{constructor(){super(S.RedoCommand)}runDOMCommand(){document.execCommand("redo")}runEditorCommand(x,T,A){if(!(!T.hasModel()||T.getOption(89)===!0))return T.getModel().redo()}}})(w||(e.CoreEditingCommands=w={}));class E extends S.Command{constructor(P,x,T){super({id:P,precondition:void 0,description:T}),this._handlerId=x}runCommand(P,x){const T=P.get(f.ICodeEditorService).getFocusedCodeEditor();T&&T.trigger("keyboard",this._handlerId,x)}}function I(M,P){b(new E("default:"+M,M)),b(new E(M,M,P))}I("type",{description:"Type",args:[{name:"args",schema:{type:"object",required:["text"],properties:{text:{type:"string"}}}}]}),I("replacePreviousChar"),I("compositionType"),I("compositionStart"),I("compositionEnd"),I("paste"),I("cut")}),define(ne[792],se([1,0,233,16]),function(Q,e,L,k){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.MarkerDecorationsContribution=void 0;let y=class{constructor(S,f){}dispose(){}};e.MarkerDecorationsContribution=y,y.ID="editor.contrib.markerDecorations",e.MarkerDecorationsContribution=y=ke([fe(1,L.IMarkerDecorationsService)],y),(0,k.registerEditorContribution)(y.ID,y,0)}),define(ne[793],se([1,0,189,12,17]),function(Q,e,L,k,y){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ViewController=void 0;class D{constructor(f,_,g,C){this.configuration=f,this.viewModel=_,this.userInputEvents=g,this.commandDelegate=C}paste(f,_,g,C){this.commandDelegate.paste(f,_,g,C)}type(f){this.commandDelegate.type(f)}compositionType(f,_,g,C){this.commandDelegate.compositionType(f,_,g,C)}compositionStart(){this.commandDelegate.startComposition()}compositionEnd(){this.commandDelegate.endComposition()}cut(){this.commandDelegate.cut()}setSelection(f){L.CoreNavigationCommands.SetSelection.runCoreEditorCommand(this.viewModel,{source:"keyboard",selection:f})}_validateViewColumn(f){const _=this.viewModel.getLineMinColumn(f.lineNumber);return f.column<_?new k.Position(f.lineNumber,_):f}_hasMulticursorModifier(f){switch(this.configuration.options.get(76)){case"altKey":return f.altKey;case"ctrlKey":return f.ctrlKey;case"metaKey":return f.metaKey;default:return!1}}_hasNonMulticursorModifier(f){switch(this.configuration.options.get(76)){case"altKey":return f.ctrlKey||f.metaKey;case"ctrlKey":return f.altKey||f.metaKey;case"metaKey":return f.ctrlKey||f.altKey;default:return!1}}dispatchMouse(f){const _=this.configuration.options,g=y.isLinux&&_.get(105),C=_.get(21);f.middleButton&&!g?this._columnSelect(f.position,f.mouseColumn,f.inSelectionMode):f.startedOnLineNumbers?this._hasMulticursorModifier(f)?f.inSelectionMode?this._lastCursorLineSelect(f.position,f.revealType):this._createCursor(f.position,!0):f.inSelectionMode?this._lineSelectDrag(f.position,f.revealType):this._lineSelect(f.position,f.revealType):f.mouseDownCount>=4?this._selectAll():f.mouseDownCount===3?this._hasMulticursorModifier(f)?f.inSelectionMode?this._lastCursorLineSelectDrag(f.position,f.revealType):this._lastCursorLineSelect(f.position,f.revealType):f.inSelectionMode?this._lineSelectDrag(f.position,f.revealType):this._lineSelect(f.position,f.revealType):f.mouseDownCount===2?f.onInjectedText||(this._hasMulticursorModifier(f)?this._lastCursorWordSelect(f.position,f.revealType):f.inSelectionMode?this._wordSelectDrag(f.position,f.revealType):this._wordSelect(f.position,f.revealType)):this._hasMulticursorModifier(f)?this._hasNonMulticursorModifier(f)||(f.shiftKey?this._columnSelect(f.position,f.mouseColumn,!0):f.inSelectionMode?this._lastCursorMoveToSelect(f.position,f.revealType):this._createCursor(f.position,!1)):f.inSelectionMode?f.altKey?this._columnSelect(f.position,f.mouseColumn,!0):C?this._columnSelect(f.position,f.mouseColumn,!0):this._moveToSelect(f.position,f.revealType):this.moveTo(f.position,f.revealType)}_usualArgs(f,_){return f=this._validateViewColumn(f),{source:"mouse",position:this._convertViewToModelPosition(f),viewPosition:f,revealType:_}}moveTo(f,_){L.CoreNavigationCommands.MoveTo.runCoreEditorCommand(this.viewModel,this._usualArgs(f,_))}_moveToSelect(f,_){L.CoreNavigationCommands.MoveToSelect.runCoreEditorCommand(this.viewModel,this._usualArgs(f,_))}_columnSelect(f,_,g){f=this._validateViewColumn(f),L.CoreNavigationCommands.ColumnSelect.runCoreEditorCommand(this.viewModel,{source:"mouse",position:this._convertViewToModelPosition(f),viewPosition:f,mouseColumn:_,doColumnSelect:g})}_createCursor(f,_){f=this._validateViewColumn(f),L.CoreNavigationCommands.CreateCursor.runCoreEditorCommand(this.viewModel,{source:"mouse",position:this._convertViewToModelPosition(f),viewPosition:f,wholeLine:_})}_lastCursorMoveToSelect(f,_){L.CoreNavigationCommands.LastCursorMoveToSelect.runCoreEditorCommand(this.viewModel,this._usualArgs(f,_))}_wordSelect(f,_){L.CoreNavigationCommands.WordSelect.runCoreEditorCommand(this.viewModel,this._usualArgs(f,_))}_wordSelectDrag(f,_){L.CoreNavigationCommands.WordSelectDrag.runCoreEditorCommand(this.viewModel,this._usualArgs(f,_))}_lastCursorWordSelect(f,_){L.CoreNavigationCommands.LastCursorWordSelect.runCoreEditorCommand(this.viewModel,this._usualArgs(f,_))}_lineSelect(f,_){L.CoreNavigationCommands.LineSelect.runCoreEditorCommand(this.viewModel,this._usualArgs(f,_))}_lineSelectDrag(f,_){L.CoreNavigationCommands.LineSelectDrag.runCoreEditorCommand(this.viewModel,this._usualArgs(f,_))}_lastCursorLineSelect(f,_){L.CoreNavigationCommands.LastCursorLineSelect.runCoreEditorCommand(this.viewModel,this._usualArgs(f,_))}_lastCursorLineSelectDrag(f,_){L.CoreNavigationCommands.LastCursorLineSelectDrag.runCoreEditorCommand(this.viewModel,this._usualArgs(f,_))}_selectAll(){L.CoreNavigationCommands.SelectAll.runCoreEditorCommand(this.viewModel,{source:"mouse"})}_convertViewToModelPosition(f){return this.viewModel.coordinatesConverter.convertViewPositionToModelPosition(f)}emitKeyDown(f){this.userInputEvents.emitKeyDown(f)}emitKeyUp(f){this.userInputEvents.emitKeyUp(f)}emitContextMenu(f){this.userInputEvents.emitContextMenu(f)}emitMouseMove(f){this.userInputEvents.emitMouseMove(f)}emitMouseLeave(f){this.userInputEvents.emitMouseLeave(f)}emitMouseUp(f){this.userInputEvents.emitMouseUp(f)}emitMouseDown(f){this.userInputEvents.emitMouseDown(f)}emitMouseDrag(f){this.userInputEvents.emitMouseDrag(f)}emitMouseDrop(f){this.userInputEvents.emitMouseDrop(f)}emitMouseDropCanceled(){this.userInputEvents.emitMouseDropCanceled()}emitMouseWheel(f){this.userInputEvents.emitMouseWheel(f)}}e.ViewController=D}),define(ne[348],se([1,0,6,58,66,109,115,79]),function(Q,e,L,k,y,D,S,f){"use strict";var _;Object.defineProperty(e,"__esModule",{value:!0}),e.WorkerBasedDocumentDiffProvider=void 0;let g=_=class{constructor(s,i,n){this.editorWorkerService=i,this.telemetryService=n,this.onDidChangeEventEmitter=new L.Emitter,this.onDidChange=this.onDidChangeEventEmitter.event,this.diffAlgorithm="advanced",this.diffAlgorithmOnDidChangeSubscription=void 0,this.setOptions(s)}dispose(){var s;(s=this.diffAlgorithmOnDidChangeSubscription)===null||s===void 0||s.dispose()}computeDiff(s,i,n,t){var a,u;return we(this,void 0,void 0,function*(){if(typeof this.diffAlgorithm!="string")return this.diffAlgorithm.computeDiff(s,i,n,t);if(s.getLineCount()===1&&s.getLineMaxColumn(1)===1)return i.getLineCount()===1&&i.getLineMaxColumn(1)===1?{changes:[],identical:!0,quitEarly:!1,moves:[]}:{changes:[new D.LineRangeMapping(new y.LineRange(1,2),new y.LineRange(1,i.getLineCount()+1),[new D.RangeMapping(s.getFullModelRange(),i.getFullModelRange())])],identical:!1,quitEarly:!1,moves:[]};const h=JSON.stringify([s.uri.toString(),i.uri.toString()]),r=JSON.stringify([s.id,i.id,s.getAlternativeVersionId(),i.getAlternativeVersionId(),JSON.stringify(n)]),c=_.diffCache.get(h);if(c&&c.context===r)return c.result;const o=k.StopWatch.create(),d=yield this.editorWorkerService.computeDiff(s.uri,i.uri,n,this.diffAlgorithm),l=o.elapsed();if(this.telemetryService.publicLog2("diffEditor.computeDiff",{timeMs:l,timedOut:(a=d?.quitEarly)!==null&&a!==void 0?a:!0,detectedMoves:n.computeMoves?(u=d?.moves.length)!==null&&u!==void 0?u:0:-1}),t.isCancellationRequested)return{changes:[],identical:!1,quitEarly:!0,moves:[]};if(!d)throw new Error("no diff result available");return _.diffCache.size>10&&_.diffCache.delete(_.diffCache.keys().next().value),_.diffCache.set(h,{result:d,context:r}),d})}setOptions(s){var i;let n=!1;s.diffAlgorithm&&this.diffAlgorithm!==s.diffAlgorithm&&((i=this.diffAlgorithmOnDidChangeSubscription)===null||i===void 0||i.dispose(),this.diffAlgorithmOnDidChangeSubscription=void 0,this.diffAlgorithm=s.diffAlgorithm,typeof s.diffAlgorithm!="string"&&(this.diffAlgorithmOnDidChangeSubscription=s.diffAlgorithm.onDidChange(()=>this.onDidChangeEventEmitter.fire())),n=!0),n&&this.onDidChangeEventEmitter.fire()}};e.WorkerBasedDocumentDiffProvider=g,g.diffCache=new Map,e.WorkerBasedDocumentDiffProvider=g=_=ke([fe(1,S.IEditorWorkerService),fe(2,f.ITelemetryService)],g)}),define(ne[794],se([1,0,49,55,63,16,24,21,632,15,436]),function(Q,e,L,k,y,D,S,f,_,g){"use strict";var C;Object.defineProperty(e,"__esModule",{value:!0}),e.SelectionAnchorSet=void 0,e.SelectionAnchorSet=new g.RawContextKey("selectionAnchorSet",!1);let s=C=class{static get(h){return h.getContribution(C.ID)}constructor(h,r){this.editor=h,this.selectionAnchorSetContextKey=e.SelectionAnchorSet.bindTo(r),this.modelChangeListener=h.onDidChangeModel(()=>this.selectionAnchorSetContextKey.reset())}setSelectionAnchor(){if(this.editor.hasModel()){const h=this.editor.getPosition();this.editor.changeDecorations(r=>{this.decorationId&&r.removeDecoration(this.decorationId),this.decorationId=r.addDecoration(S.Selection.fromPositions(h,h),{description:"selection-anchor",stickiness:1,hoverMessage:new k.MarkdownString().appendText((0,_.localize)(0,null)),className:"selection-anchor"})}),this.selectionAnchorSetContextKey.set(!!this.decorationId),(0,L.alert)((0,_.localize)(1,null,h.lineNumber,h.column))}}goToSelectionAnchor(){if(this.editor.hasModel()&&this.decorationId){const h=this.editor.getModel().getDecorationRange(this.decorationId);h&&this.editor.setPosition(h.getStartPosition())}}selectFromAnchorToCursor(){if(this.editor.hasModel()&&this.decorationId){const h=this.editor.getModel().getDecorationRange(this.decorationId);if(h){const r=this.editor.getPosition();this.editor.setSelection(S.Selection.fromPositions(h.getStartPosition(),r)),this.cancelSelectionAnchor()}}}cancelSelectionAnchor(){if(this.decorationId){const h=this.decorationId;this.editor.changeDecorations(r=>{r.removeDecoration(h),this.decorationId=void 0}),this.selectionAnchorSetContextKey.set(!1)}}dispose(){this.cancelSelectionAnchor(),this.modelChangeListener.dispose()}};s.ID="editor.contrib.selectionAnchorController",s=C=ke([fe(1,g.IContextKeyService)],s);class i extends D.EditorAction{constructor(){super({id:"editor.action.setSelectionAnchor",label:(0,_.localize)(2,null),alias:"Set Selection Anchor",precondition:void 0,kbOpts:{kbExpr:f.EditorContextKeys.editorTextFocus,primary:(0,y.KeyChord)(2089,2080),weight:100}})}run(h,r){var c;return we(this,void 0,void 0,function*(){(c=s.get(r))===null||c===void 0||c.setSelectionAnchor()})}}class n extends D.EditorAction{constructor(){super({id:"editor.action.goToSelectionAnchor",label:(0,_.localize)(3,null),alias:"Go to Selection Anchor",precondition:e.SelectionAnchorSet})}run(h,r){var c;return we(this,void 0,void 0,function*(){(c=s.get(r))===null||c===void 0||c.goToSelectionAnchor()})}}class t extends D.EditorAction{constructor(){super({id:"editor.action.selectFromAnchorToCursor",label:(0,_.localize)(4,null),alias:"Select from Anchor to Cursor",precondition:e.SelectionAnchorSet,kbOpts:{kbExpr:f.EditorContextKeys.editorTextFocus,primary:(0,y.KeyChord)(2089,2089),weight:100}})}run(h,r){var c;return we(this,void 0,void 0,function*(){(c=s.get(r))===null||c===void 0||c.selectFromAnchorToCursor()})}}class a extends D.EditorAction{constructor(){super({id:"editor.action.cancelSelectionAnchor",label:(0,_.localize)(5,null),alias:"Cancel Selection Anchor",precondition:e.SelectionAnchorSet,kbOpts:{kbExpr:f.EditorContextKeys.editorTextFocus,primary:9,weight:100}})}run(h,r){var c;return we(this,void 0,void 0,function*(){(c=s.get(r))===null||c===void 0||c.cancelSelectionAnchor()})}}(0,D.registerEditorContribution)(s.ID,s,4),(0,D.registerEditorAction)(i),(0,D.registerEditorAction)(n),(0,D.registerEditorAction)(t),(0,D.registerEditorAction)(a)}),define(ne[795],se([1,0,16,21,537,634]),function(Q,e,L,k,y,D){"use strict";Object.defineProperty(e,"__esModule",{value:!0});class S extends L.EditorAction{constructor(C,s){super(s),this.left=C}run(C,s){if(!s.hasModel())return;const i=[],n=s.getSelections();for(const t of n)i.push(new y.MoveCaretCommand(t,this.left));s.pushUndoStop(),s.executeCommands(this.id,i),s.pushUndoStop()}}class f extends S{constructor(){super(!0,{id:"editor.action.moveCarretLeftAction",label:D.localize(0,null),alias:"Move Selected Text Left",precondition:k.EditorContextKeys.writable})}}class _ extends S{constructor(){super(!1,{id:"editor.action.moveCarretRightAction",label:D.localize(1,null),alias:"Move Selected Text Right",precondition:k.EditorContextKeys.writable})}}(0,L.registerEditorAction)(f),(0,L.registerEditorAction)(_)}),define(ne[796],se([1,0,16,123,203,5,21,635]),function(Q,e,L,k,y,D,S,f){"use strict";Object.defineProperty(e,"__esModule",{value:!0});class _ extends L.EditorAction{constructor(){super({id:"editor.action.transposeLetters",label:f.localize(0,null),alias:"Transpose Letters",precondition:S.EditorContextKeys.writable,kbOpts:{kbExpr:S.EditorContextKeys.textInputFocus,primary:0,mac:{primary:306},weight:100}})}run(C,s){if(!s.hasModel())return;const i=s.getModel(),n=[],t=s.getSelections();for(const a of t){if(!a.isEmpty())continue;const u=a.startLineNumber,h=a.startColumn,r=i.getLineMaxColumn(u);if(u===1&&(h===1||h===2&&r===2))continue;const c=h===r?a.getPosition():y.MoveOperations.rightPosition(i,a.getPosition().lineNumber,a.getPosition().column),o=y.MoveOperations.leftPosition(i,c),d=y.MoveOperations.leftPosition(i,o),l=i.getValueInRange(D.Range.fromPositions(d,o)),p=i.getValueInRange(D.Range.fromPositions(o,c)),m=D.Range.fromPositions(d,c);n.push(new k.ReplaceCommand(m,p+l))}n.length>0&&(s.pushUndoStop(),s.executeCommands(this.id,n),s.pushUndoStop())}}(0,L.registerEditorAction)(_)}),define(ne[797],se([1,0,52,17,185,16,33,21,636,30,96,15]),function(Q,e,L,k,y,D,S,f,_,g,C,s){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.PasteAction=e.CopyAction=e.CutAction=void 0;const i="9_cutcopypaste",n=k.isNative||document.queryCommandSupported("cut"),t=k.isNative||document.queryCommandSupported("copy"),a=typeof navigator.clipboard>"u"||L.isFirefox?document.queryCommandSupported("paste"):!0;function u(c){return c.register(),c}e.CutAction=n?u(new D.MultiCommand({id:"editor.action.clipboardCutAction",precondition:void 0,kbOpts:k.isNative?{primary:2102,win:{primary:2102,secondary:[1044]},weight:100}:void 0,menuOpts:[{menuId:g.MenuId.MenubarEditMenu,group:"2_ccp",title:_.localize(0,null),order:1},{menuId:g.MenuId.EditorContext,group:i,title:_.localize(1,null),when:f.EditorContextKeys.writable,order:1},{menuId:g.MenuId.CommandPalette,group:"",title:_.localize(2,null),order:1},{menuId:g.MenuId.SimpleEditorContext,group:i,title:_.localize(3,null),when:f.EditorContextKeys.writable,order:1}]})):void 0,e.CopyAction=t?u(new D.MultiCommand({id:"editor.action.clipboardCopyAction",precondition:void 0,kbOpts:k.isNative?{primary:2081,win:{primary:2081,secondary:[2067]},weight:100}:void 0,menuOpts:[{menuId:g.MenuId.MenubarEditMenu,group:"2_ccp",title:_.localize(4,null),order:2},{menuId:g.MenuId.EditorContext,group:i,title:_.localize(5,null),order:2},{menuId:g.MenuId.CommandPalette,group:"",title:_.localize(6,null),order:1},{menuId:g.MenuId.SimpleEditorContext,group:i,title:_.localize(7,null),order:2}]})):void 0,g.MenuRegistry.appendMenuItem(g.MenuId.MenubarEditMenu,{submenu:g.MenuId.MenubarCopy,title:{value:_.localize(8,null),original:"Copy As"},group:"2_ccp",order:3}),g.MenuRegistry.appendMenuItem(g.MenuId.EditorContext,{submenu:g.MenuId.EditorContextCopy,title:{value:_.localize(9,null),original:"Copy As"},group:i,order:3}),g.MenuRegistry.appendMenuItem(g.MenuId.EditorContext,{submenu:g.MenuId.EditorContextShare,title:{value:_.localize(10,null),original:"Share"},group:"11_share",order:-1,when:s.ContextKeyExpr.and(s.ContextKeyExpr.notEquals("resourceScheme","output"),f.EditorContextKeys.editorTextFocus)}),g.MenuRegistry.appendMenuItem(g.MenuId.EditorTitleContext,{submenu:g.MenuId.EditorTitleContextShare,title:{value:_.localize(11,null),original:"Share"},group:"11_share",order:-1}),g.MenuRegistry.appendMenuItem(g.MenuId.ExplorerContext,{submenu:g.MenuId.ExplorerContextShare,title:{value:_.localize(12,null),original:"Share"},group:"11_share",order:-1}),e.PasteAction=a?u(new D.MultiCommand({id:"editor.action.clipboardPasteAction",precondition:void 0,kbOpts:k.isNative?{primary:2100,win:{primary:2100,secondary:[1043]},linux:{primary:2100,secondary:[1043]},weight:100}:void 0,menuOpts:[{menuId:g.MenuId.MenubarEditMenu,group:"2_ccp",title:_.localize(13,null),order:4},{menuId:g.MenuId.EditorContext,group:i,title:_.localize(14,null),when:f.EditorContextKeys.writable,order:4},{menuId:g.MenuId.CommandPalette,group:"",title:_.localize(15,null),order:1},{menuId:g.MenuId.SimpleEditorContext,group:i,title:_.localize(16,null),when:f.EditorContextKeys.writable,order:4}]})):void 0;class h extends D.EditorAction{constructor(){super({id:"editor.action.clipboardCopyWithSyntaxHighlightingAction",label:_.localize(17,null),alias:"Copy With Syntax Highlighting",precondition:void 0,kbOpts:{kbExpr:f.EditorContextKeys.textInputFocus,primary:0,weight:100}})}run(o,d){!d.hasModel()||!d.getOption(36)&&d.getSelection().isEmpty()||(y.CopyOptions.forceCopyWithSyntaxHighlighting=!0,d.focus(),document.execCommand("copy"),y.CopyOptions.forceCopyWithSyntaxHighlighting=!1)}}function r(c,o){c&&(c.addImplementation(1e4,"code-editor",(d,l)=>{const p=d.get(S.ICodeEditorService).getFocusedCodeEditor();if(p&&p.hasTextFocus()){const m=p.getOption(36),v=p.getSelection();return v&&v.isEmpty()&&!m||document.execCommand(o),!0}return!1}),c.addImplementation(0,"generic-dom",(d,l)=>(document.execCommand(o),!0)))}r(e.CutAction,"cut"),r(e.CopyAction,"copy"),e.PasteAction&&(e.PasteAction.addImplementation(1e4,"code-editor",(c,o)=>{const d=c.get(S.ICodeEditorService),l=c.get(C.IClipboardService),p=d.getFocusedCodeEditor();return p&&p.hasTextFocus()?!document.execCommand("paste")&&k.isWeb?(()=>we(void 0,void 0,void 0,function*(){const v=yield l.readText();if(v!==""){const b=y.InMemoryClipboardMetadataManager.INSTANCE.get(v);let w=!1,E=null,I=null;b&&(w=p.getOption(36)&&!!b.isFromEmptySelection,E=typeof b.multicursorText<"u"?b.multicursorText:null,I=b.mode),p.trigger("keyboard","paste",{text:v,pasteOnNewLine:w,multicursorText:E,mode:I})}}))():!0:!1}),e.PasteAction.addImplementation(0,"generic-dom",(c,o)=>(document.execCommand("paste"),!0))),t&&(0,D.registerEditorAction)(h)}),define(ne[798],se([1,0,63,16,5,21,32,290,539,646,30]),function(Q,e,L,k,y,D,S,f,_,g,C){"use strict";Object.defineProperty(e,"__esModule",{value:!0});class s extends k.EditorAction{constructor(h,r){super(r),this._type=h}run(h,r){const c=h.get(S.ILanguageConfigurationService);if(!r.hasModel())return;const o=r.getModel(),d=[],l=o.getOptions(),p=r.getOption(22),m=r.getSelections().map((b,w)=>({selection:b,index:w,ignoreFirstLine:!1}));m.sort((b,w)=>y.Range.compareRangesUsingStarts(b.selection,w.selection));let v=m[0];for(let b=1;b<m.length;b++){const w=m[b];v.selection.endLineNumber===w.selection.startLineNumber&&(v.index<w.index?w.ignoreFirstLine=!0:(v.ignoreFirstLine=!0,v=w))}for(const b of m)d.push(new _.LineCommentCommand(c,b.selection,l.tabSize,this._type,p.insertSpace,p.ignoreEmptyLines,b.ignoreFirstLine));r.pushUndoStop(),r.executeCommands(this.id,d),r.pushUndoStop()}}class i extends s{constructor(){super(0,{id:"editor.action.commentLine",label:g.localize(0,null),alias:"Toggle Line Comment",precondition:D.EditorContextKeys.writable,kbOpts:{kbExpr:D.EditorContextKeys.editorTextFocus,primary:2138,weight:100},menuOpts:{menuId:C.MenuId.MenubarEditMenu,group:"5_insert",title:g.localize(1,null),order:1}})}}class n extends s{constructor(){super(1,{id:"editor.action.addCommentLine",label:g.localize(2,null),alias:"Add Line Comment",precondition:D.EditorContextKeys.writable,kbOpts:{kbExpr:D.EditorContextKeys.editorTextFocus,primary:(0,L.KeyChord)(2089,2081),weight:100}})}}class t extends s{constructor(){super(2,{id:"editor.action.removeCommentLine",label:g.localize(3,null),alias:"Remove Line Comment",precondition:D.EditorContextKeys.writable,kbOpts:{kbExpr:D.EditorContextKeys.editorTextFocus,primary:(0,L.KeyChord)(2089,2099),weight:100}})}}class a extends k.EditorAction{constructor(){super({id:"editor.action.blockComment",label:g.localize(4,null),alias:"Toggle Block Comment",precondition:D.EditorContextKeys.writable,kbOpts:{kbExpr:D.EditorContextKeys.editorTextFocus,primary:1567,linux:{primary:3103},weight:100},menuOpts:{menuId:C.MenuId.MenubarEditMenu,group:"5_insert",title:g.localize(5,null),order:2}})}run(h,r){const c=h.get(S.ILanguageConfigurationService);if(!r.hasModel())return;const o=r.getOption(22),d=[],l=r.getSelections();for(const p of l)d.push(new f.BlockCommentCommand(p,o.insertSpace,c));r.pushUndoStop(),r.executeCommands(this.id,d),r.pushUndoStop()}}(0,k.registerEditorAction)(i),(0,k.registerEditorAction)(n),(0,k.registerEditorAction)(t),(0,k.registerEditorAction)(a)}),define(ne[799],se([1,0,2,16,21,648]),function(Q,e,L,k,y,D){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.CursorRedo=e.CursorUndo=e.CursorUndoRedoController=void 0;class S{constructor(i){this.selections=i}equals(i){const n=this.selections.length,t=i.selections.length;if(n!==t)return!1;for(let a=0;a<n;a++)if(!this.selections[a].equalsSelection(i.selections[a]))return!1;return!0}}class f{constructor(i,n,t){this.cursorState=i,this.scrollTop=n,this.scrollLeft=t}}class _ extends L.Disposable{static get(i){return i.getContribution(_.ID)}constructor(i){super(),this._editor=i,this._isCursorUndoRedo=!1,this._undoStack=[],this._redoStack=[],this._register(i.onDidChangeModel(n=>{this._undoStack=[],this._redoStack=[]})),this._register(i.onDidChangeModelContent(n=>{this._undoStack=[],this._redoStack=[]})),this._register(i.onDidChangeCursorSelection(n=>{if(this._isCursorUndoRedo||!n.oldSelections||n.oldModelVersionId!==n.modelVersionId)return;const t=new S(n.oldSelections);this._undoStack.length>0&&this._undoStack[this._undoStack.length-1].cursorState.equals(t)||(this._undoStack.push(new f(t,i.getScrollTop(),i.getScrollLeft())),this._redoStack=[],this._undoStack.length>50&&this._undoStack.shift())}))}cursorUndo(){!this._editor.hasModel()||this._undoStack.length===0||(this._redoStack.push(new f(new S(this._editor.getSelections()),this._editor.getScrollTop(),this._editor.getScrollLeft())),this._applyState(this._undoStack.pop()))}cursorRedo(){!this._editor.hasModel()||this._redoStack.length===0||(this._undoStack.push(new f(new S(this._editor.getSelections()),this._editor.getScrollTop(),this._editor.getScrollLeft())),this._applyState(this._redoStack.pop()))}_applyState(i){this._isCursorUndoRedo=!0,this._editor.setSelections(i.cursorState.selections),this._editor.setScrollPosition({scrollTop:i.scrollTop,scrollLeft:i.scrollLeft}),this._isCursorUndoRedo=!1}}e.CursorUndoRedoController=_,_.ID="editor.contrib.cursorUndoRedoController";class g extends k.EditorAction{constructor(){super({id:"cursorUndo",label:D.localize(0,null),alias:"Cursor Undo",precondition:void 0,kbOpts:{kbExpr:y.EditorContextKeys.textInputFocus,primary:2099,weight:100}})}run(i,n,t){var a;(a=_.get(n))===null||a===void 0||a.cursorUndo()}}e.CursorUndo=g;class C extends k.EditorAction{constructor(){super({id:"cursorRedo",label:D.localize(1,null),alias:"Cursor Redo",precondition:void 0})}run(i,n,t){var a;(a=_.get(n))===null||a===void 0||a.cursorRedo()}}e.CursorRedo=C,(0,k.registerEditorContribution)(_.ID,_,0),(0,k.registerEditorAction)(g),(0,k.registerEditorAction)(C)}),define(ne[800],se([1,0,16,15,19,64,8,50,654]),function(Q,e,L,k,y,D,S,f,_){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.EditorKeybindingCancellationTokenSource=void 0;const g=(0,S.createDecorator)("IEditorCancelService"),C=new k.RawContextKey("cancellableOperation",!1,(0,_.localize)(0,null));(0,f.registerSingleton)(g,class{constructor(){this._tokens=new WeakMap}add(i,n){let t=this._tokens.get(i);t||(t=i.invokeWithinContext(u=>{const h=C.bindTo(u.get(k.IContextKeyService)),r=new D.LinkedList;return{key:h,tokens:r}}),this._tokens.set(i,t));let a;return t.key.set(!0),a=t.tokens.push(n),()=>{a&&(a(),t.key.set(!t.tokens.isEmpty()),a=void 0)}}cancel(i){const n=this._tokens.get(i);if(!n)return;const t=n.tokens.pop();t&&(t.cancel(),n.key.set(!n.tokens.isEmpty()))}},1);class s extends y.CancellationTokenSource{constructor(n,t){super(t),this.editor=n,this._unregister=n.invokeWithinContext(a=>a.get(g).add(n,this))}dispose(){this._unregister(),super.dispose()}}e.EditorKeybindingCancellationTokenSource=s,(0,L.registerEditorCommand)(new class extends L.EditorCommand{constructor(){super({id:"editor.cancelOperation",kbOpts:{weight:100,primary:9},precondition:C})}runEditorCommand(i,n){i.get(g).cancel(n)}})}),define(ne[104],se([1,0,11,5,19,2,800]),function(Q,e,L,k,y,D,S){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.TextModelCancellationTokenSource=e.EditorStateCancellationTokenSource=e.EditorState=void 0;class f{constructor(s,i){if(this.flags=i,this.flags&1){const n=s.getModel();this.modelVersionId=n?L.format("{0}#{1}",n.uri.toString(),n.getVersionId()):null}else this.modelVersionId=null;this.flags&4?this.position=s.getPosition():this.position=null,this.flags&2?this.selection=s.getSelection():this.selection=null,this.flags&8?(this.scrollLeft=s.getScrollLeft(),this.scrollTop=s.getScrollTop()):(this.scrollLeft=-1,this.scrollTop=-1)}_equals(s){if(!(s instanceof f))return!1;const i=s;return!(this.modelVersionId!==i.modelVersionId||this.scrollLeft!==i.scrollLeft||this.scrollTop!==i.scrollTop||!this.position&&i.position||this.position&&!i.position||this.position&&i.position&&!this.position.equals(i.position)||!this.selection&&i.selection||this.selection&&!i.selection||this.selection&&i.selection&&!this.selection.equalsRange(i.selection))}validate(s){return this._equals(new f(s,this.flags))}}e.EditorState=f;class _ extends S.EditorKeybindingCancellationTokenSource{constructor(s,i,n,t){super(s,t),this._listener=new D.DisposableStore,i&4&&this._listener.add(s.onDidChangeCursorPosition(a=>{(!n||!k.Range.containsPosition(n,a.position))&&this.cancel()})),i&2&&this._listener.add(s.onDidChangeCursorSelection(a=>{(!n||!k.Range.containsRange(n,a.selection))&&this.cancel()})),i&8&&this._listener.add(s.onDidScrollChange(a=>this.cancel())),i&1&&(this._listener.add(s.onDidChangeModel(a=>this.cancel())),this._listener.add(s.onDidChangeModelContent(a=>this.cancel())))}dispose(){this._listener.dispose(),super.dispose()}}e.EditorStateCancellationTokenSource=_;class g extends y.CancellationTokenSource{constructor(s,i){super(i),this._listener=s.onDidChangeContent(()=>this.cancel())}dispose(){this._listener.dispose(),super.dispose()}}e.TextModelCancellationTokenSource=g}),define(ne[137],se([1,0,14,19,9,2,22,132,5,24,18,51,104,637,27,43,77,79,113]),function(Q,e,L,k,y,D,S,f,_,g,C,s,i,n,t,a,u,h,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.applyCodeAction=e.ApplyCodeActionReason=e.getCodeActions=e.fixAllCommandId=e.organizeImportsCommandId=e.sourceActionCommandId=e.refactorCommandId=e.autoFixCommandId=e.quickFixCommandId=e.codeActionCommandId=void 0,e.codeActionCommandId="editor.action.codeAction",e.quickFixCommandId="editor.action.quickFix",e.autoFixCommandId="editor.action.autoFix",e.refactorCommandId="editor.action.refactor",e.sourceActionCommandId="editor.action.sourceAction",e.organizeImportsCommandId="editor.action.organizeImports",e.fixAllCommandId="editor.action.fixAll";class c extends D.Disposable{static codeActionsPreferredComparator(I,M){return I.isPreferred&&!M.isPreferred?-1:!I.isPreferred&&M.isPreferred?1:0}static codeActionsComparator({action:I},{action:M}){return(0,L.isNonEmptyArray)(I.diagnostics)?(0,L.isNonEmptyArray)(M.diagnostics)?c.codeActionsPreferredComparator(I,M):-1:(0,L.isNonEmptyArray)(M.diagnostics)?1:c.codeActionsPreferredComparator(I,M)}constructor(I,M,P){super(),this.documentation=M,this._register(P),this.allActions=[...I].sort(c.codeActionsComparator),this.validActions=this.allActions.filter(({action:x})=>!x.disabled)}get hasAutoFix(){return this.validActions.some(({action:I})=>!!I.kind&&r.CodeActionKind.QuickFix.contains(new r.CodeActionKind(I.kind))&&!!I.isPreferred)}}const o={actions:[],documentation:void 0};function d(E,I,M,P,x,T){var A;return we(this,void 0,void 0,function*(){const N=P.filter||{},F={only:(A=N.include)===null||A===void 0?void 0:A.value,trigger:P.type},O=new i.TextModelCancellationTokenSource(I,T),W=l(E,I,N),U=new D.DisposableStore,j=W.map(K=>we(this,void 0,void 0,function*(){try{x.report(K);const G=yield K.provideCodeActions(I,M,F,O.token);if(G&&U.add(G),O.token.isCancellationRequested)return o;const Z=(G?.actions||[]).filter(X=>X&&(0,r.filtersAction)(N,X)),J=m(K,Z,N.include);return{actions:Z.map(X=>new r.CodeActionItem(X,K)),documentation:J}}catch(G){if((0,y.isCancellationError)(G))throw G;return(0,y.onUnexpectedExternalError)(G),o}})),R=E.onDidChange(()=>{const K=E.all(I);(0,L.equals)(K,W)||O.cancel()});try{const K=yield Promise.all(j),G=K.map(J=>J.actions).flat(),Z=[...(0,L.coalesce)(K.map(J=>J.documentation)),...p(E,I,P,G)];return new c(G,Z,U)}finally{R.dispose(),O.dispose()}})}e.getCodeActions=d;function l(E,I,M){return E.all(I).filter(P=>P.providedCodeActionKinds?P.providedCodeActionKinds.some(x=>(0,r.mayIncludeActionsOfKind)(M,new r.CodeActionKind(x))):!0)}function*p(E,I,M,P){var x,T,A;if(I&&P.length)for(const N of E.all(I))N._getAdditionalMenuItems&&(yield*(x=N._getAdditionalMenuItems)===null||x===void 0?void 0:x.call(N,{trigger:M.type,only:(A=(T=M.filter)===null||T===void 0?void 0:T.include)===null||A===void 0?void 0:A.value},P.map(F=>F.action)))}function m(E,I,M){if(!E.documentation)return;const P=E.documentation.map(x=>({kind:new r.CodeActionKind(x.kind),command:x.command}));if(M){let x;for(const T of P)T.kind.contains(M)&&(x?x.kind.contains(T.kind)&&(x=T):x=T);if(x)return x?.command}for(const x of I)if(x.kind){for(const T of P)if(T.kind.contains(new r.CodeActionKind(x.kind)))return T.command}}var v;(function(E){E.OnSave="onSave",E.FromProblemsView="fromProblemsView",E.FromCodeActions="fromCodeActions"})(v||(e.ApplyCodeActionReason=v={}));function b(E,I,M,P,x=k.CancellationToken.None){var T;return we(this,void 0,void 0,function*(){const A=E.get(f.IBulkEditService),N=E.get(t.ICommandService),F=E.get(h.ITelemetryService),O=E.get(a.INotificationService);if(F.publicLog2("codeAction.applyCodeAction",{codeActionTitle:I.action.title,codeActionKind:I.action.kind,codeActionIsPreferred:!!I.action.isPreferred,reason:M}),yield I.resolve(x),!x.isCancellationRequested&&!(!((T=I.action.edit)===null||T===void 0)&&T.edits.length&&!(yield A.apply(I.action.edit,{editor:P?.editor,label:I.action.title,quotableLabel:I.action.title,code:"undoredo.codeAction",respectAutoSaveConfig:M!==v.OnSave,showPreview:P?.preview})).isApplied)&&I.action.command)try{yield N.executeCommand(I.action.command.id,...I.action.command.arguments||[])}catch(W){const U=w(W);O.error(typeof U=="string"?U:n.localize(0,null))}})}e.applyCodeAction=b;function w(E){return typeof E=="string"?E:E instanceof Error&&typeof E.message=="string"?E.message:void 0}t.CommandsRegistry.registerCommand("_executeCodeActionProvider",function(E,I,M,P,x){return we(this,void 0,void 0,function*(){if(!(I instanceof S.URI))throw(0,y.illegalArgument)();const{codeActionProvider:T}=E.get(C.ILanguageFeaturesService),A=E.get(s.IModelService).getModel(I);if(!A)throw(0,y.illegalArgument)();const N=g.Selection.isISelection(M)?g.Selection.liftSelection(M):_.Range.isIRange(M)?A.validateRange(M):void 0;if(!N)throw(0,y.illegalArgument)();const F=typeof P=="string"?new r.CodeActionKind(P):void 0,O=yield d(T,A,N,{type:1,triggerAction:r.CodeActionTriggerSource.Default,filter:{includeSourceActions:!0,include:F}},u.Progress.None,k.CancellationToken.None),W=[],U=Math.min(O.validActions.length,typeof x=="number"?x:0);for(let j=0;j<U;j++)W.push(O.validActions[j].resolve(k.CancellationToken.None));try{return yield Promise.all(W),O.validActions.map(j=>j.action)}finally{setTimeout(()=>O.dispose(),100)}})})}),define(ne[801],se([1,0,100,137,113,34]),function(Q,e,L,k,y,D){"use strict";var S;Object.defineProperty(e,"__esModule",{value:!0}),e.CodeActionKeybindingResolver=void 0;let f=S=class{constructor(g){this.keybindingService=g}getResolver(){const g=new L.Lazy(()=>this.keybindingService.getKeybindings().filter(C=>S.codeActionCommands.indexOf(C.command)>=0).filter(C=>C.resolvedKeybinding).map(C=>{let s=C.commandArgs;return C.command===k.organizeImportsCommandId?s={kind:y.CodeActionKind.SourceOrganizeImports.value}:C.command===k.fixAllCommandId&&(s={kind:y.CodeActionKind.SourceFixAll.value}),Object.assign({resolvedKeybinding:C.resolvedKeybinding},y.CodeActionCommandArgs.fromUser(s,{kind:y.CodeActionKind.None,apply:"never"}))}));return C=>{if(C.kind){const s=this.bestKeybindingForCodeAction(C,g.value);return s?.resolvedKeybinding}}}bestKeybindingForCodeAction(g,C){if(!g.kind)return;const s=new y.CodeActionKind(g.kind);return C.filter(i=>i.kind.contains(s)).filter(i=>i.preferred?g.isPreferred:!0).reduceRight((i,n)=>i?i.kind.contains(n.kind)?n:i:n,void 0)}};e.CodeActionKeybindingResolver=f,f.codeActionCommands=[k.refactorCommandId,k.codeActionCommandId,k.sourceActionCommandId,k.organizeImportsCommandId,k.fixAllCommandId],e.CodeActionKeybindingResolver=f=S=ke([fe(0,D.IKeybindingService)],f)}),define(ne[349],se([1,0,13,9,6,2,45,15,77,113,137]),function(Q,e,L,k,y,D,S,f,_,g,C){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.CodeActionModel=e.CodeActionsState=e.SUPPORTED_CODE_ACTIONS=void 0,e.SUPPORTED_CODE_ACTIONS=new f.RawContextKey("supportedCodeAction","");class s extends D.Disposable{constructor(u,h,r,c=250){super(),this._editor=u,this._markerService=h,this._signalChange=r,this._delay=c,this._autoTriggerTimer=this._register(new L.TimeoutTimer),this._register(this._markerService.onMarkerChanged(o=>this._onMarkerChanges(o))),this._register(this._editor.onDidChangeCursorPosition(()=>this._tryAutoTrigger()))}trigger(u){const h=this._getRangeOfSelectionUnlessWhitespaceEnclosed(u);this._signalChange(h?{trigger:u,selection:h}:void 0)}_onMarkerChanges(u){const h=this._editor.getModel();h&&u.some(r=>(0,S.isEqual)(r,h.uri))&&this._tryAutoTrigger()}_tryAutoTrigger(){this._autoTriggerTimer.cancelAndSet(()=>{this.trigger({type:2,triggerAction:g.CodeActionTriggerSource.Default})},this._delay)}_getRangeOfSelectionUnlessWhitespaceEnclosed(u){if(!this._editor.hasModel())return;const h=this._editor.getModel(),r=this._editor.getSelection();if(r.isEmpty()&&u.type===2){const{lineNumber:c,column:o}=r.getPosition(),d=h.getLineContent(c);if(d.length===0)return;if(o===1){if(/\s/.test(d[0]))return}else if(o===h.getLineMaxColumn(c)){if(/\s/.test(d[d.length-1]))return}else if(/\s/.test(d[o-2])&&/\s/.test(d[o-1]))return}return r}}var i;(function(a){a.Empty={type:0};class u{constructor(r,c,o){this.trigger=r,this.position=c,this._cancellablePromise=o,this.type=1,this.actions=o.catch(d=>{if((0,k.isCancellationError)(d))return n;throw d})}cancel(){this._cancellablePromise.cancel()}}a.Triggered=u})(i||(e.CodeActionsState=i={}));const n=Object.freeze({allActions:[],validActions:[],dispose:()=>{},documentation:[],hasAutoFix:!1});class t extends D.Disposable{constructor(u,h,r,c,o){super(),this._editor=u,this._registry=h,this._markerService=r,this._progressService=o,this._codeActionOracle=this._register(new D.MutableDisposable),this._state=i.Empty,this._onDidChangeState=this._register(new y.Emitter),this.onDidChangeState=this._onDidChangeState.event,this._disposed=!1,this._supportedCodeActions=e.SUPPORTED_CODE_ACTIONS.bindTo(c),this._register(this._editor.onDidChangeModel(()=>this._update())),this._register(this._editor.onDidChangeModelLanguage(()=>this._update())),this._register(this._registry.onDidChange(()=>this._update())),this._update()}dispose(){this._disposed||(this._disposed=!0,super.dispose(),this.setState(i.Empty,!0))}_update(){if(this._disposed)return;this._codeActionOracle.value=void 0,this.setState(i.Empty);const u=this._editor.getModel();if(u&&this._registry.has(u)&&!this._editor.getOption(89)){const h=this._registry.all(u).flatMap(r=>{var c;return(c=r.providedCodeActionKinds)!==null&&c!==void 0?c:[]});this._supportedCodeActions.set(h.join(" ")),this._codeActionOracle.value=new s(this._editor,this._markerService,r=>{var c;if(!r){this.setState(i.Empty);return}const o=(0,L.createCancelablePromise)(d=>(0,C.getCodeActions)(this._registry,u,r.selection,r.trigger,_.Progress.None,d));r.trigger.type===1&&((c=this._progressService)===null||c===void 0||c.showWhile(o,250)),this.setState(new i.Triggered(r.trigger,r.selection.getStartPosition(),o))},void 0),this._codeActionOracle.value.trigger({type:2,triggerAction:g.CodeActionTriggerSource.Default})}else this._supportedCodeActions.reset()}trigger(u){var h;(h=this._codeActionOracle.value)===null||h===void 0||h.trigger(u)}setState(u,h){u!==this._state&&(this._state.type===1&&this._state.cancel(),this._state=u,!h&&!this._disposed&&this._onDidChangeState.fire(u))}}e.CodeActionModel=t}),define(ne[350],se([1,0,7,61,25,6,2,26,207,137,642,34,438]),function(Q,e,L,k,y,D,S,f,_,g,C,s){"use strict";var i;Object.defineProperty(e,"__esModule",{value:!0}),e.LightBulbWidget=void 0;var n;(function(a){a.Hidden={type:0};class u{constructor(r,c,o,d){this.actions=r,this.trigger=c,this.editorPosition=o,this.widgetPosition=d,this.type=1}}a.Showing=u})(n||(n={}));let t=i=class extends S.Disposable{constructor(u,h){super(),this._editor=u,this._onClick=this._register(new D.Emitter),this.onClick=this._onClick.event,this._state=n.Hidden,this._domNode=L.$("div.lightBulbWidget"),this._register(k.Gesture.ignoreTarget(this._domNode)),this._editor.addContentWidget(this),this._register(this._editor.onDidChangeModelContent(r=>{const c=this._editor.getModel();(this.state.type!==1||!c||this.state.editorPosition.lineNumber>=c.getLineCount())&&this.hide()})),this._register(L.addStandardDisposableGenericMouseDownListener(this._domNode,r=>{if(this.state.type!==1)return;this._editor.focus(),r.preventDefault();const{top:c,height:o}=L.getDomNodePagePosition(this._domNode),d=this._editor.getOption(65);let l=Math.floor(d/3);this.state.widgetPosition.position!==null&&this.state.widgetPosition.position.lineNumber<this.state.editorPosition.lineNumber&&(l+=d),this._onClick.fire({x:r.posx,y:c+o+l,actions:this.state.actions,trigger:this.state.trigger})})),this._register(L.addDisposableListener(this._domNode,"mouseenter",r=>{(r.buttons&1)===1&&this.hide()})),this._register(this._editor.onDidChangeConfiguration(r=>{r.hasChanged(63)&&!this._editor.getOption(63).enabled&&this.hide()})),this._register(D.Event.runAndSubscribe(h.onDidUpdateKeybindings,()=>{var r,c,o,d;this._preferredKbLabel=(c=(r=h.lookupKeybinding(g.autoFixCommandId))===null||r===void 0?void 0:r.getLabel())!==null&&c!==void 0?c:void 0,this._quickFixKbLabel=(d=(o=h.lookupKeybinding(g.quickFixCommandId))===null||o===void 0?void 0:o.getLabel())!==null&&d!==void 0?d:void 0,this._updateLightBulbTitleAndIcon()}))}dispose(){super.dispose(),this._editor.removeContentWidget(this)}getId(){return"LightBulbWidget"}getDomNode(){return this._domNode}getPosition(){return this._state.type===1?this._state.widgetPosition:null}update(u,h,r){if(u.validActions.length<=0)return this.hide();const c=this._editor.getOptions();if(!c.get(63).enabled)return this.hide();const o=this._editor.getModel();if(!o)return this.hide();const{lineNumber:d,column:l}=o.validatePosition(r),p=o.getOptions().tabSize,m=c.get(49),v=o.getLineContent(d),b=(0,_.computeIndentLevel)(v,p),w=m.spaceWidth*b>22,E=M=>M>2&&this._editor.getTopForLineNumber(M)===this._editor.getTopForLineNumber(M-1);let I=d;if(!w){if(d>1&&!E(d-1))I-=1;else if(!E(d+1))I+=1;else if(l*m.spaceWidth<22)return this.hide()}this.state=new n.Showing(u,h,r,{position:{lineNumber:I,column:1},preference:i._posPref}),this._editor.layoutContentWidget(this)}hide(){this.state!==n.Hidden&&(this.state=n.Hidden,this._editor.layoutContentWidget(this))}get state(){return this._state}set state(u){this._state=u,this._updateLightBulbTitleAndIcon()}_updateLightBulbTitleAndIcon(){if(this.state.type===1&&this.state.actions.hasAutoFix&&(this._domNode.classList.remove(...f.ThemeIcon.asClassNameArray(y.Codicon.lightBulb)),this._domNode.classList.add(...f.ThemeIcon.asClassNameArray(y.Codicon.lightbulbAutofix)),this._preferredKbLabel)){this.title=C.localize(0,null,this._preferredKbLabel);return}this._domNode.classList.remove(...f.ThemeIcon.asClassNameArray(y.Codicon.lightbulbAutofix)),this._domNode.classList.add(...f.ThemeIcon.asClassNameArray(y.Codicon.lightBulb)),this._quickFixKbLabel?this.title=C.localize(1,null,this._quickFixKbLabel):this.title=C.localize(2,null)}set title(u){this._domNode.title=u}};e.LightBulbWidget=t,t.ID="editor.contrib.lightbulbWidget",t._posPref=[0],e.LightBulbWidget=t=i=ke([fe(1,s.IKeybindingService)],t)}),define(ne[802],se([1,0,16,145,659]),function(Q,e,L,k,y){"use strict";Object.defineProperty(e,"__esModule",{value:!0});class D extends L.EditorAction{constructor(){super({id:"editor.action.fontZoomIn",label:y.localize(0,null),alias:"Editor Font Zoom In",precondition:void 0})}run(g,C){k.EditorZoom.setZoomLevel(k.EditorZoom.getZoomLevel()+1)}}class S extends L.EditorAction{constructor(){super({id:"editor.action.fontZoomOut",label:y.localize(1,null),alias:"Editor Font Zoom Out",precondition:void 0})}run(g,C){k.EditorZoom.setZoomLevel(k.EditorZoom.getZoomLevel()-1)}}class f extends L.EditorAction{constructor(){super({id:"editor.action.fontZoomReset",label:y.localize(2,null),alias:"Editor Font Zoom Reset",precondition:void 0})}run(g,C){k.EditorZoom.setZoomLevel(0)}}(0,L.registerEditorAction)(D),(0,L.registerEditorAction)(S),(0,L.registerEditorAction)(f)}),define(ne[351],se([1,0,49,14,19,9,46,64,20,22,104,177,12,5,24,115,69,294,660,27,744,8,18,70]),function(Q,e,L,k,y,D,S,f,_,g,C,s,i,n,t,a,u,h,r,c,o,d,l,p){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.getOnTypeFormattingEdits=e.getDocumentFormattingEditsUntilResult=e.getDocumentRangeFormattingEditsUntilResult=e.formatDocumentWithProvider=e.formatDocumentWithSelectedProvider=e.formatDocumentRangesWithProvider=e.formatDocumentRangesWithSelectedProvider=e.FormattingConflicts=e.getRealAndSyntheticDocumentFormattersOrdered=e.alertFormattingEdits=void 0;function m(A){if(A=A.filter(W=>W.range),!A.length)return;let{range:N}=A[0];for(let W=1;W<A.length;W++)N=n.Range.plusRange(N,A[W].range);const{startLineNumber:F,endLineNumber:O}=N;F===O?A.length===1?(0,L.alert)(r.localize(0,null,F)):(0,L.alert)(r.localize(1,null,A.length,F)):A.length===1?(0,L.alert)(r.localize(2,null,F,O)):(0,L.alert)(r.localize(3,null,A.length,F,O))}e.alertFormattingEdits=m;function v(A,N,F){const O=[],W=new o.ExtensionIdentifierSet,U=A.ordered(F);for(const R of U)O.push(R),R.extensionId&&W.add(R.extensionId);const j=N.ordered(F);for(const R of j){if(R.extensionId){if(W.has(R.extensionId))continue;W.add(R.extensionId)}O.push({displayName:R.displayName,extensionId:R.extensionId,provideDocumentFormattingEdits(K,G,Z){return R.provideDocumentRangeFormattingEdits(K,K.getFullModelRange(),G,Z)}})}return O}e.getRealAndSyntheticDocumentFormattersOrdered=v;class b{static setFormatterSelector(N){return{dispose:b._selectors.unshift(N)}}static select(N,F,O){return we(this,void 0,void 0,function*(){if(N.length===0)return;const W=S.Iterable.first(b._selectors);if(W)return yield W(N,F,O)})}}e.FormattingConflicts=b,b._selectors=new f.LinkedList;function w(A,N,F,O,W,U){return we(this,void 0,void 0,function*(){const j=A.get(d.IInstantiationService),{documentRangeFormattingEditProvider:R}=A.get(l.ILanguageFeaturesService),K=(0,s.isCodeEditor)(N)?N.getModel():N,G=R.ordered(K),Z=yield b.select(G,K,O);Z&&(W.report(Z),yield j.invokeFunction(E,Z,N,F,U))})}e.formatDocumentRangesWithSelectedProvider=w;function E(A,N,F,O,W){var U,j;return we(this,void 0,void 0,function*(){const R=A.get(a.IEditorWorkerService),K=A.get(p.ILogService);let G,Z;(0,s.isCodeEditor)(F)?(G=F.getModel(),Z=new C.EditorStateCancellationTokenSource(F,5,void 0,W)):(G=F,Z=new C.TextModelCancellationTokenSource(F,W));const J=[];let X=0;for(const ie of(0,k.asArray)(O).sort(n.Range.compareRangesUsingStarts))X>0&&n.Range.areIntersectingOrTouching(J[X-1],ie)?J[X-1]=n.Range.fromPositions(J[X-1].getStartPosition(),ie.getEndPosition()):X=J.push(ie);const H=ie=>we(this,void 0,void 0,function*(){var ae,ce;K.trace("[format][provideDocumentRangeFormattingEdits] (request)",(ae=N.extensionId)===null||ae===void 0?void 0:ae.value,ie);const de=(yield N.provideDocumentRangeFormattingEdits(G,ie,G.getFormattingOptions(),Z.token))||[];return K.trace("[format][provideDocumentRangeFormattingEdits] (response)",(ce=N.extensionId)===null||ce===void 0?void 0:ce.value,de),de}),B=(ie,ae)=>{if(!ie.length||!ae.length)return!1;const ce=ie.reduce((de,he)=>n.Range.plusRange(de,he.range),ie[0].range);if(!ae.some(de=>n.Range.intersectRanges(ce,de.range)))return!1;for(const de of ie)for(const he of ae)if(n.Range.intersectRanges(de.range,he.range))return!0;return!1},V=[],Y=[];try{if(typeof N.provideDocumentRangesFormattingEdits=="function"){K.trace("[format][provideDocumentRangeFormattingEdits] (request)",(U=N.extensionId)===null||U===void 0?void 0:U.value,J);const ie=(yield N.provideDocumentRangesFormattingEdits(G,J,G.getFormattingOptions(),Z.token))||[];K.trace("[format][provideDocumentRangeFormattingEdits] (response)",(j=N.extensionId)===null||j===void 0?void 0:j.value,ie),Y.push(ie)}else{for(const ie of J){if(Z.token.isCancellationRequested)return!0;Y.push(yield H(ie))}for(let ie=0;ie<J.length;++ie)for(let ae=ie+1;ae<J.length;++ae){if(Z.token.isCancellationRequested)return!0;if(B(Y[ie],Y[ae])){const ce=n.Range.plusRange(J[ie],J[ae]),de=yield H(ce);J.splice(ae,1),J.splice(ie,1),J.push(ce),Y.splice(ae,1),Y.splice(ie,1),Y.push(de),ie=0,ae=0}}}for(const ie of Y){if(Z.token.isCancellationRequested)return!0;const ae=yield R.computeMoreMinimalEdits(G.uri,ie);ae&&V.push(...ae)}}finally{Z.dispose()}if(V.length===0)return!1;if((0,s.isCodeEditor)(F))h.FormattingEdit.execute(F,V,!0),m(V),F.revealPositionInCenterIfOutsideViewport(F.getPosition(),1);else{const[{range:ie}]=V,ae=new t.Selection(ie.startLineNumber,ie.startColumn,ie.endLineNumber,ie.endColumn);G.pushEditOperations([ae],V.map(ce=>({text:ce.text,range:n.Range.lift(ce.range),forceMoveMarkers:!0})),ce=>{for(const{range:de}of ce)if(n.Range.areIntersectingOrTouching(de,ae))return[new t.Selection(de.startLineNumber,de.startColumn,de.endLineNumber,de.endColumn)];return null})}return!0})}e.formatDocumentRangesWithProvider=E;function I(A,N,F,O,W){return we(this,void 0,void 0,function*(){const U=A.get(d.IInstantiationService),j=A.get(l.ILanguageFeaturesService),R=(0,s.isCodeEditor)(N)?N.getModel():N,K=v(j.documentFormattingEditProvider,j.documentRangeFormattingEditProvider,R),G=yield b.select(K,R,F);G&&(O.report(G),yield U.invokeFunction(M,G,N,F,W))})}e.formatDocumentWithSelectedProvider=I;function M(A,N,F,O,W){return we(this,void 0,void 0,function*(){const U=A.get(a.IEditorWorkerService);let j,R;(0,s.isCodeEditor)(F)?(j=F.getModel(),R=new C.EditorStateCancellationTokenSource(F,5,void 0,W)):(j=F,R=new C.TextModelCancellationTokenSource(F,W));let K;try{const G=yield N.provideDocumentFormattingEdits(j,j.getFormattingOptions(),R.token);if(K=yield U.computeMoreMinimalEdits(j.uri,G),R.token.isCancellationRequested)return!0}finally{R.dispose()}if(!K||K.length===0)return!1;if((0,s.isCodeEditor)(F))h.FormattingEdit.execute(F,K,O!==2),O!==2&&(m(K),F.revealPositionInCenterIfOutsideViewport(F.getPosition(),1));else{const[{range:G}]=K,Z=new t.Selection(G.startLineNumber,G.startColumn,G.endLineNumber,G.endColumn);j.pushEditOperations([Z],K.map(J=>({text:J.text,range:n.Range.lift(J.range),forceMoveMarkers:!0})),J=>{for(const{range:X}of J)if(n.Range.areIntersectingOrTouching(X,Z))return[new t.Selection(X.startLineNumber,X.startColumn,X.endLineNumber,X.endColumn)];return null})}return!0})}e.formatDocumentWithProvider=M;function P(A,N,F,O,W,U){return we(this,void 0,void 0,function*(){const j=N.documentRangeFormattingEditProvider.ordered(F);for(const R of j){const K=yield Promise.resolve(R.provideDocumentRangeFormattingEdits(F,O,W,U)).catch(D.onUnexpectedExternalError);if((0,k.isNonEmptyArray)(K))return yield A.computeMoreMinimalEdits(F.uri,K)}})}e.getDocumentRangeFormattingEditsUntilResult=P;function x(A,N,F,O,W){return we(this,void 0,void 0,function*(){const U=v(N.documentFormattingEditProvider,N.documentRangeFormattingEditProvider,F);for(const j of U){const R=yield Promise.resolve(j.provideDocumentFormattingEdits(F,O,W)).catch(D.onUnexpectedExternalError);if((0,k.isNonEmptyArray)(R))return yield A.computeMoreMinimalEdits(F.uri,R)}})}e.getDocumentFormattingEditsUntilResult=x;function T(A,N,F,O,W,U,j){const R=N.onTypeFormattingEditProvider.ordered(F);return R.length===0||R[0].autoFormatTriggerCharacters.indexOf(W)<0?Promise.resolve(void 0):Promise.resolve(R[0].provideOnTypeFormattingEdits(F,O,W,U,j)).catch(D.onUnexpectedExternalError).then(K=>A.computeMoreMinimalEdits(F.uri,K))}e.getOnTypeFormattingEdits=T,c.CommandsRegistry.registerCommand("_executeFormatRangeProvider",function(A,...N){return we(this,void 0,void 0,function*(){const[F,O,W]=N;(0,_.assertType)(g.URI.isUri(F)),(0,_.assertType)(n.Range.isIRange(O));const U=A.get(u.ITextModelService),j=A.get(a.IEditorWorkerService),R=A.get(l.ILanguageFeaturesService),K=yield U.createModelReference(F);try{return P(j,R,K.object.textEditorModel,n.Range.lift(O),W,y.CancellationToken.None)}finally{K.dispose()}})}),c.CommandsRegistry.registerCommand("_executeFormatDocumentProvider",function(A,...N){return we(this,void 0,void 0,function*(){const[F,O]=N;(0,_.assertType)(g.URI.isUri(F));const W=A.get(u.ITextModelService),U=A.get(a.IEditorWorkerService),j=A.get(l.ILanguageFeaturesService),R=yield W.createModelReference(F);try{return x(U,j,R.object.textEditorModel,O,y.CancellationToken.None)}finally{R.dispose()}})}),c.CommandsRegistry.registerCommand("_executeFormatOnTypeProvider",function(A,...N){return we(this,void 0,void 0,function*(){const[F,O,W,U]=N;(0,_.assertType)(g.URI.isUri(F)),(0,_.assertType)(i.Position.isIPosition(O)),(0,_.assertType)(typeof W=="string");const j=A.get(u.ITextModelService),R=A.get(a.IEditorWorkerService),K=A.get(l.ILanguageFeaturesService),G=yield j.createModelReference(F);try{return T(R,K,G.object.textEditorModel,i.Position.lift(O),W,U,y.CancellationToken.None)}finally{G.dispose()}})})}),define(ne[803],se([1,0,14,19,9,63,2,16,33,121,5,21,115,18,351,294,661,27,15,8,77]),function(Q,e,L,k,y,D,S,f,_,g,C,s,i,n,t,a,u,h,r,c,o){"use strict";Object.defineProperty(e,"__esModule",{value:!0});let d=class{constructor(b,w,E){this._editor=b,this._languageFeaturesService=w,this._workerService=E,this._disposables=new S.DisposableStore,this._sessionDisposables=new S.DisposableStore,this._disposables.add(w.onTypeFormattingEditProvider.onDidChange(this._update,this)),this._disposables.add(b.onDidChangeModel(()=>this._update())),this._disposables.add(b.onDidChangeModelLanguage(()=>this._update())),this._disposables.add(b.onDidChangeConfiguration(I=>{I.hasChanged(55)&&this._update()})),this._update()}dispose(){this._disposables.dispose(),this._sessionDisposables.dispose()}_update(){if(this._sessionDisposables.clear(),!this._editor.getOption(55)||!this._editor.hasModel())return;const b=this._editor.getModel(),[w]=this._languageFeaturesService.onTypeFormattingEditProvider.ordered(b);if(!w||!w.autoFormatTriggerCharacters)return;const E=new g.CharacterSet;for(const I of w.autoFormatTriggerCharacters)E.add(I.charCodeAt(0));this._sessionDisposables.add(this._editor.onDidType(I=>{const M=I.charCodeAt(I.length-1);E.has(M)&&this._trigger(String.fromCharCode(M))}))}_trigger(b){if(!this._editor.hasModel()||this._editor.getSelections().length>1||!this._editor.getSelection().isEmpty())return;const w=this._editor.getModel(),E=this._editor.getPosition(),I=new k.CancellationTokenSource,M=this._editor.onDidChangeModelContent(P=>{if(P.isFlush){I.cancel(),M.dispose();return}for(let x=0,T=P.changes.length;x<T;x++)if(P.changes[x].range.endLineNumber<=E.lineNumber){I.cancel(),M.dispose();return}});(0,t.getOnTypeFormattingEdits)(this._workerService,this._languageFeaturesService,w,E,b,w.getFormattingOptions(),I.token).then(P=>{I.token.isCancellationRequested||(0,L.isNonEmptyArray)(P)&&(a.FormattingEdit.execute(this._editor,P,!0),(0,t.alertFormattingEdits)(P))}).finally(()=>{M.dispose()})}};d.ID="editor.contrib.autoFormat",d=ke([fe(1,n.ILanguageFeaturesService),fe(2,i.IEditorWorkerService)],d);let l=class{constructor(b,w,E){this.editor=b,this._languageFeaturesService=w,this._instantiationService=E,this._callOnDispose=new S.DisposableStore,this._callOnModel=new S.DisposableStore,this._callOnDispose.add(b.onDidChangeConfiguration(()=>this._update())),this._callOnDispose.add(b.onDidChangeModel(()=>this._update())),this._callOnDispose.add(b.onDidChangeModelLanguage(()=>this._update())),this._callOnDispose.add(w.documentRangeFormattingEditProvider.onDidChange(this._update,this))}dispose(){this._callOnDispose.dispose(),this._callOnModel.dispose()}_update(){this._callOnModel.clear(),this.editor.getOption(54)&&this.editor.hasModel()&&this._languageFeaturesService.documentRangeFormattingEditProvider.has(this.editor.getModel())&&this._callOnModel.add(this.editor.onDidPaste(({range:b})=>this._trigger(b)))}_trigger(b){this.editor.hasModel()&&(this.editor.getSelections().length>1||this._instantiationService.invokeFunction(t.formatDocumentRangesWithSelectedProvider,this.editor,b,2,o.Progress.None,k.CancellationToken.None).catch(y.onUnexpectedError))}};l.ID="editor.contrib.formatOnPaste",l=ke([fe(1,n.ILanguageFeaturesService),fe(2,c.IInstantiationService)],l);class p extends f.EditorAction{constructor(){super({id:"editor.action.formatDocument",label:u.localize(0,null),alias:"Format Document",precondition:r.ContextKeyExpr.and(s.EditorContextKeys.notInCompositeEditor,s.EditorContextKeys.writable,s.EditorContextKeys.hasDocumentFormattingProvider),kbOpts:{kbExpr:s.EditorContextKeys.editorTextFocus,primary:1572,linux:{primary:3111},weight:100},contextMenuOpts:{group:"1_modification",order:1.3}})}run(b,w){return we(this,void 0,void 0,function*(){if(w.hasModel()){const E=b.get(c.IInstantiationService);yield b.get(o.IEditorProgressService).showWhile(E.invokeFunction(t.formatDocumentWithSelectedProvider,w,1,o.Progress.None,k.CancellationToken.None),250)}})}}class m extends f.EditorAction{constructor(){super({id:"editor.action.formatSelection",label:u.localize(1,null),alias:"Format Selection",precondition:r.ContextKeyExpr.and(s.EditorContextKeys.writable,s.EditorContextKeys.hasDocumentSelectionFormattingProvider),kbOpts:{kbExpr:s.EditorContextKeys.editorTextFocus,primary:(0,D.KeyChord)(2089,2084),weight:100},contextMenuOpts:{when:s.EditorContextKeys.hasNonEmptySelection,group:"1_modification",order:1.31}})}run(b,w){return we(this,void 0,void 0,function*(){if(!w.hasModel())return;const E=b.get(c.IInstantiationService),I=w.getModel(),M=w.getSelections().map(x=>x.isEmpty()?new C.Range(x.startLineNumber,1,x.startLineNumber,I.getLineMaxColumn(x.startLineNumber)):x);yield b.get(o.IEditorProgressService).showWhile(E.invokeFunction(t.formatDocumentRangesWithSelectedProvider,w,M,1,o.Progress.None,k.CancellationToken.None),250)})}}(0,f.registerEditorContribution)(d.ID,d,2),(0,f.registerEditorContribution)(l.ID,l,2),(0,f.registerEditorAction)(p),(0,f.registerEditorAction)(m),h.CommandsRegistry.registerCommand("editor.action.format",v=>we(void 0,void 0,void 0,function*(){const b=v.get(_.ICodeEditorService).getFocusedCodeEditor();if(!b||!b.hasModel())return;const w=v.get(h.ICommandService);b.getSelection().isEmpty()?yield w.executeCommand("editor.action.formatDocument"):yield w.executeCommand("editor.action.formatSelection")}))}),define(ne[247],se([1,0,14,19,9,16,18,155]),function(Q,e,L,k,y,D,S,f){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.getReferencesAtPosition=e.getTypeDefinitionsAtPosition=e.getImplementationsAtPosition=e.getDeclarationsAtPosition=e.getDefinitionsAtPosition=void 0;function _(a,u,h,r){return we(this,void 0,void 0,function*(){const o=h.ordered(a).map(l=>Promise.resolve(r(l,a,u)).then(void 0,p=>{(0,y.onUnexpectedExternalError)(p)})),d=yield Promise.all(o);return(0,L.coalesce)(d.flat())})}function g(a,u,h,r){return _(u,h,a,(c,o,d)=>c.provideDefinition(o,d,r))}e.getDefinitionsAtPosition=g;function C(a,u,h,r){return _(u,h,a,(c,o,d)=>c.provideDeclaration(o,d,r))}e.getDeclarationsAtPosition=C;function s(a,u,h,r){return _(u,h,a,(c,o,d)=>c.provideImplementation(o,d,r))}e.getImplementationsAtPosition=s;function i(a,u,h,r){return _(u,h,a,(c,o,d)=>c.provideTypeDefinition(o,d,r))}e.getTypeDefinitionsAtPosition=i;function n(a,u,h,r,c){return _(u,h,a,(o,d,l)=>we(this,void 0,void 0,function*(){const p=yield o.provideReferences(d,l,{includeDeclaration:!0},c);if(!r||!p||p.length!==2)return p;const m=yield o.provideReferences(d,l,{includeDeclaration:!1},c);return m&&m.length===1?m:p}))}e.getReferencesAtPosition=n;function t(a){return we(this,void 0,void 0,function*(){const u=yield a(),h=new f.ReferencesModel(u,""),r=h.references.map(c=>c.link);return h.dispose(),r})}(0,D.registerModelAndPositionCommand)("_executeDefinitionProvider",(a,u,h)=>{const r=a.get(S.ILanguageFeaturesService),c=g(r.definitionProvider,u,h,k.CancellationToken.None);return t(()=>c)}),(0,D.registerModelAndPositionCommand)("_executeTypeDefinitionProvider",(a,u,h)=>{const r=a.get(S.ILanguageFeaturesService),c=i(r.typeDefinitionProvider,u,h,k.CancellationToken.None);return t(()=>c)}),(0,D.registerModelAndPositionCommand)("_executeDeclarationProvider",(a,u,h)=>{const r=a.get(S.ILanguageFeaturesService),c=C(r.declarationProvider,u,h,k.CancellationToken.None);return t(()=>c)}),(0,D.registerModelAndPositionCommand)("_executeReferenceProvider",(a,u,h)=>{const r=a.get(S.ILanguageFeaturesService),c=n(r.referenceProvider,u,h,!1,k.CancellationToken.None);return t(()=>c)}),(0,D.registerModelAndPositionCommand)("_executeImplementationProvider",(a,u,h)=>{const r=a.get(S.ILanguageFeaturesService),c=s(r.implementationProvider,u,h,k.CancellationToken.None);return t(()=>c)})}),define(ne[804],se([1,0,6,2,45,16,33,5,670,15,50,8,34,118,43]),function(Q,e,L,k,y,D,S,f,_,g,C,s,i,n,t){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ISymbolNavigationService=e.ctxHasSymbols=void 0,e.ctxHasSymbols=new g.RawContextKey("hasSymbols",!1,(0,_.localize)(0,null)),e.ISymbolNavigationService=(0,s.createDecorator)("ISymbolNavigationService");let a=class{constructor(r,c,o,d){this._editorService=c,this._notificationService=o,this._keybindingService=d,this._currentModel=void 0,this._currentIdx=-1,this._ignoreEditorChange=!1,this._ctxHasSymbols=e.ctxHasSymbols.bindTo(r)}reset(){var r,c;this._ctxHasSymbols.reset(),(r=this._currentState)===null||r===void 0||r.dispose(),(c=this._currentMessage)===null||c===void 0||c.dispose(),this._currentModel=void 0,this._currentIdx=-1}put(r){const c=r.parent.parent;if(c.references.length<=1){this.reset();return}this._currentModel=c,this._currentIdx=c.references.indexOf(r),this._ctxHasSymbols.set(!0),this._showMessage();const o=new u(this._editorService),d=o.onDidChange(l=>{if(this._ignoreEditorChange)return;const p=this._editorService.getActiveCodeEditor();if(!p)return;const m=p.getModel(),v=p.getPosition();if(!m||!v)return;let b=!1,w=!1;for(const E of c.references)if((0,y.isEqual)(E.uri,m.uri))b=!0,w=w||f.Range.containsPosition(E.range,v);else if(b)break;(!b||!w)&&this.reset()});this._currentState=(0,k.combinedDisposable)(o,d)}revealNext(r){if(!this._currentModel)return Promise.resolve();this._currentIdx+=1,this._currentIdx%=this._currentModel.references.length;const c=this._currentModel.references[this._currentIdx];return this._showMessage(),this._ignoreEditorChange=!0,this._editorService.openCodeEditor({resource:c.uri,options:{selection:f.Range.collapseToStart(c.range),selectionRevealType:3}},r).finally(()=>{this._ignoreEditorChange=!1})}_showMessage(){var r;(r=this._currentMessage)===null||r===void 0||r.dispose();const c=this._keybindingService.lookupKeybinding("editor.gotoNextSymbolFromResult"),o=c?(0,_.localize)(1,null,this._currentIdx+1,this._currentModel.references.length,c.getLabel()):(0,_.localize)(2,null,this._currentIdx+1,this._currentModel.references.length);this._currentMessage=this._notificationService.status(o)}};a=ke([fe(0,g.IContextKeyService),fe(1,S.ICodeEditorService),fe(2,t.INotificationService),fe(3,i.IKeybindingService)],a),(0,C.registerSingleton)(e.ISymbolNavigationService,a,1),(0,D.registerEditorCommand)(new class extends D.EditorCommand{constructor(){super({id:"editor.gotoNextSymbolFromResult",precondition:e.ctxHasSymbols,kbOpts:{weight:100,primary:70}})}runEditorCommand(h,r){return h.get(e.ISymbolNavigationService).revealNext(r)}}),n.KeybindingsRegistry.registerCommandAndKeybindingRule({id:"editor.gotoNextSymbolFromResult.cancel",weight:100,when:e.ctxHasSymbols,primary:9,handler(h){h.get(e.ISymbolNavigationService).reset()}});let u=class{constructor(r){this._listener=new Map,this._disposables=new k.DisposableStore,this._onDidChange=new L.Emitter,this.onDidChange=this._onDidChange.event,this._disposables.add(r.onCodeEditorRemove(this._onDidRemoveEditor,this)),this._disposables.add(r.onCodeEditorAdd(this._onDidAddEditor,this)),r.listCodeEditors().forEach(this._onDidAddEditor,this)}dispose(){this._disposables.dispose(),this._onDidChange.dispose(),(0,k.dispose)(this._listener.values())}_onDidAddEditor(r){this._listener.set(r,(0,k.combinedDisposable)(r.onDidChangeCursorPosition(c=>this._onDidChange.fire({editor:r})),r.onDidChangeModelContent(c=>this._onDidChange.fire({editor:r}))))}_onDidRemoveEditor(r){var c;(c=this._listener.get(r))===null||c===void 0||c.dispose(),this._listener.delete(r)}};u=ke([fe(0,S.ICodeEditorService)],u)}),define(ne[352],se([1,0,13,19,9,16,18]),function(Q,e,L,k,y,D,S){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.getHoverPromise=e.getHover=e.HoverProviderResult=void 0;class f{constructor(n,t,a){this.provider=n,this.hover=t,this.ordinal=a}}e.HoverProviderResult=f;function _(i,n,t,a,u){return we(this,void 0,void 0,function*(){try{const h=yield Promise.resolve(i.provideHover(t,a,u));if(h&&s(h))return new f(i,h,n)}catch(h){(0,y.onUnexpectedExternalError)(h)}})}function g(i,n,t,a){const h=i.ordered(n).map((r,c)=>_(r,c,n,t,a));return L.AsyncIterableObject.fromPromises(h).coalesce()}e.getHover=g;function C(i,n,t,a){return g(i,n,t,a).map(u=>u.hover).toPromise()}e.getHoverPromise=C,(0,D.registerModelAndPositionCommand)("_executeHoverProvider",(i,n,t)=>{const a=i.get(S.ILanguageFeaturesService);return C(a.hoverProvider,n,t,k.CancellationToken.None)});function s(i){const n=typeof i.range<"u",t=typeof i.contents<"u"&&i.contents&&i.contents.length>0;return n&&t}}),define(ne[248],se([1,0,7,14,13,55,2,117,12,5,41,352,672,28,56,18]),function(Q,e,L,k,y,D,S,f,_,g,C,s,i,n,t,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.renderMarkdownHovers=e.MarkdownHoverParticipant=e.MarkdownHover=void 0;const u=L.$;class h{constructor(d,l,p,m,v){this.owner=d,this.range=l,this.contents=p,this.isBeforeContent=m,this.ordinal=v}isValidForHoverAnchor(d){return d.type===1&&this.range.startColumn<=d.range.startColumn&&this.range.endColumn>=d.range.endColumn}}e.MarkdownHover=h;let r=class{constructor(d,l,p,m,v){this._editor=d,this._languageService=l,this._openerService=p,this._configurationService=m,this._languageFeaturesService=v,this.hoverOrdinal=3}createLoadingMessage(d){return new h(this,d.range,[new D.MarkdownString().appendText(i.localize(0,null))],!1,2e3)}computeSync(d,l){if(!this._editor.hasModel()||d.type!==1)return[];const p=this._editor.getModel(),m=d.range.startLineNumber,v=p.getLineMaxColumn(m),b=[];let w=1e3;const E=p.getLineLength(m),I=p.getLanguageIdAtPosition(d.range.startLineNumber,d.range.startColumn),M=this._editor.getOption(115),P=this._configurationService.getValue("editor.maxTokenizationLineLength",{overrideIdentifier:I});let x=!1;M>=0&&E>M&&d.range.startColumn>=M&&(x=!0,b.push(new h(this,d.range,[{value:i.localize(1,null)}],!1,w++))),!x&&typeof P=="number"&&E>=P&&b.push(new h(this,d.range,[{value:i.localize(2,null)}],!1,w++));let T=!1;for(const A of l){const N=A.range.startLineNumber===m?A.range.startColumn:1,F=A.range.endLineNumber===m?A.range.endColumn:v,O=A.options.hoverMessage;if(!O||(0,D.isEmptyMarkdownString)(O))continue;A.options.beforeContentClassName&&(T=!0);const W=new g.Range(d.range.startLineNumber,N,d.range.startLineNumber,F);b.push(new h(this,W,(0,k.asArray)(O),T,w++))}return b}computeAsync(d,l,p){if(!this._editor.hasModel()||d.type!==1)return y.AsyncIterableObject.EMPTY;const m=this._editor.getModel();if(!this._languageFeaturesService.hoverProvider.has(m))return y.AsyncIterableObject.EMPTY;const v=new _.Position(d.range.startLineNumber,d.range.startColumn);return(0,s.getHover)(this._languageFeaturesService.hoverProvider,m,v,p).filter(b=>!(0,D.isEmptyMarkdownString)(b.hover.contents)).map(b=>{const w=b.hover.range?g.Range.lift(b.hover.range):d.range;return new h(this,w,b.hover.contents,!1,b.ordinal)})}renderHoverParts(d,l){return c(d,l,this._editor,this._languageService,this._openerService)}};e.MarkdownHoverParticipant=r,e.MarkdownHoverParticipant=r=ke([fe(1,C.ILanguageService),fe(2,t.IOpenerService),fe(3,n.IConfigurationService),fe(4,a.ILanguageFeaturesService)],r);function c(o,d,l,p,m){d.sort((b,w)=>b.ordinal-w.ordinal);const v=new S.DisposableStore;for(const b of d)for(const w of b.contents){if((0,D.isEmptyMarkdownString)(w))continue;const E=u("div.hover-row.markdown-hover"),I=L.append(E,u("div.hover-contents")),M=v.add(new f.MarkdownRenderer({editor:l},p,m));v.add(M.onDidRenderAsync(()=>{I.className="hover-contents code-hover-contents",o.onContentsChanged()}));const P=v.add(M.render(w));I.appendChild(P.element),o.fragment.appendChild(E)}return v}e.renderMarkdownHovers=c}),define(ne[805],se([1,0,2,11,16,245,73,5,24,21,32,51,295,675,71,202,243]),function(Q,e,L,k,y,D,S,f,_,g,C,s,i,n,t,a,u){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.IndentationToTabsCommand=e.IndentationToSpacesCommand=e.AutoIndentOnPaste=e.AutoIndentOnPasteCommand=e.ReindentSelectedLinesAction=e.ReindentLinesAction=e.DetectIndentation=e.ChangeTabDisplaySize=e.IndentUsingSpaces=e.IndentUsingTabs=e.ChangeIndentationSizeAction=e.IndentationToTabsAction=e.IndentationToSpacesAction=e.getReindentEditOperations=void 0;function h(x,T,A,N,F){if(x.getLineCount()===1&&x.getLineMaxColumn(1)===1)return[];const O=T.getLanguageConfiguration(x.getLanguageId()).indentationRules;if(!O)return[];for(N=Math.min(N,x.getLineCount());A<=N&&O.unIndentedLinePattern;){const B=x.getLineContent(A);if(!O.unIndentedLinePattern.test(B))break;A++}if(A>N-1)return[];const{tabSize:W,indentSize:U,insertSpaces:j}=x.getOptions(),R=(B,V)=>(V=V||1,D.ShiftCommand.shiftIndent(B,B.length+V,W,U,j)),K=(B,V)=>(V=V||1,D.ShiftCommand.unshiftIndent(B,B.length+V,W,U,j)),G=[];let Z;const J=x.getLineContent(A);let X=J;if(F!=null){Z=F;const B=k.getLeadingWhitespace(J);X=Z+J.substring(B.length),O.decreaseIndentPattern&&O.decreaseIndentPattern.test(X)&&(Z=K(Z),X=Z+J.substring(B.length)),J!==X&&G.push(S.EditOperation.replaceMove(new _.Selection(A,1,A,B.length+1),(0,a.normalizeIndentation)(Z,U,j)))}else Z=k.getLeadingWhitespace(J);let H=Z;O.increaseIndentPattern&&O.increaseIndentPattern.test(X)?(H=R(H),Z=R(Z)):O.indentNextLinePattern&&O.indentNextLinePattern.test(X)&&(H=R(H)),A++;for(let B=A;B<=N;B++){const V=x.getLineContent(B),Y=k.getLeadingWhitespace(V),ie=H+V.substring(Y.length);O.decreaseIndentPattern&&O.decreaseIndentPattern.test(ie)&&(H=K(H),Z=K(Z)),Y!==H&&G.push(S.EditOperation.replaceMove(new _.Selection(B,1,B,Y.length+1),(0,a.normalizeIndentation)(H,U,j))),!(O.unIndentedLinePattern&&O.unIndentedLinePattern.test(V))&&(O.increaseIndentPattern&&O.increaseIndentPattern.test(ie)?(Z=R(Z),H=Z):O.indentNextLinePattern&&O.indentNextLinePattern.test(ie)?H=R(H):H=Z)}return G}e.getReindentEditOperations=h;class r extends y.EditorAction{constructor(){super({id:r.ID,label:n.localize(0,null),alias:"Convert Indentation to Spaces",precondition:g.EditorContextKeys.writable})}run(T,A){const N=A.getModel();if(!N)return;const F=N.getOptions(),O=A.getSelection();if(!O)return;const W=new M(O,F.tabSize);A.pushUndoStop(),A.executeCommands(this.id,[W]),A.pushUndoStop(),N.updateOptions({insertSpaces:!0})}}e.IndentationToSpacesAction=r,r.ID="editor.action.indentationToSpaces";class c extends y.EditorAction{constructor(){super({id:c.ID,label:n.localize(1,null),alias:"Convert Indentation to Tabs",precondition:g.EditorContextKeys.writable})}run(T,A){const N=A.getModel();if(!N)return;const F=N.getOptions(),O=A.getSelection();if(!O)return;const W=new P(O,F.tabSize);A.pushUndoStop(),A.executeCommands(this.id,[W]),A.pushUndoStop(),N.updateOptions({insertSpaces:!1})}}e.IndentationToTabsAction=c,c.ID="editor.action.indentationToTabs";class o extends y.EditorAction{constructor(T,A,N){super(N),this.insertSpaces=T,this.displaySizeOnly=A}run(T,A){const N=T.get(t.IQuickInputService),F=T.get(s.IModelService),O=A.getModel();if(!O)return;const W=F.getCreationOptions(O.getLanguageId(),O.uri,O.isForSimpleWidget),U=O.getOptions(),j=[1,2,3,4,5,6,7,8].map(K=>({id:K.toString(),label:K.toString(),description:K===W.tabSize&&K===U.tabSize?n.localize(2,null):K===W.tabSize?n.localize(3,null):K===U.tabSize?n.localize(4,null):void 0})),R=Math.min(O.getOptions().tabSize-1,7);setTimeout(()=>{N.pick(j,{placeHolder:n.localize(5,null),activeItem:j[R]}).then(K=>{if(K&&O&&!O.isDisposed()){const G=parseInt(K.label,10);this.displaySizeOnly?O.updateOptions({tabSize:G}):O.updateOptions({tabSize:G,indentSize:G,insertSpaces:this.insertSpaces})}})},50)}}e.ChangeIndentationSizeAction=o;class d extends o{constructor(){super(!1,!1,{id:d.ID,label:n.localize(6,null),alias:"Indent Using Tabs",precondition:void 0})}}e.IndentUsingTabs=d,d.ID="editor.action.indentUsingTabs";class l extends o{constructor(){super(!0,!1,{id:l.ID,label:n.localize(7,null),alias:"Indent Using Spaces",precondition:void 0})}}e.IndentUsingSpaces=l,l.ID="editor.action.indentUsingSpaces";class p extends o{constructor(){super(!0,!0,{id:p.ID,label:n.localize(8,null),alias:"Change Tab Display Size",precondition:void 0})}}e.ChangeTabDisplaySize=p,p.ID="editor.action.changeTabDisplaySize";class m extends y.EditorAction{constructor(){super({id:m.ID,label:n.localize(9,null),alias:"Detect Indentation from Content",precondition:void 0})}run(T,A){const N=T.get(s.IModelService),F=A.getModel();if(!F)return;const O=N.getCreationOptions(F.getLanguageId(),F.uri,F.isForSimpleWidget);F.detectIndentation(O.insertSpaces,O.tabSize)}}e.DetectIndentation=m,m.ID="editor.action.detectIndentation";class v extends y.EditorAction{constructor(){super({id:"editor.action.reindentlines",label:n.localize(10,null),alias:"Reindent Lines",precondition:g.EditorContextKeys.writable})}run(T,A){const N=T.get(C.ILanguageConfigurationService),F=A.getModel();if(!F)return;const O=h(F,N,1,F.getLineCount());O.length>0&&(A.pushUndoStop(),A.executeEdits(this.id,O),A.pushUndoStop())}}e.ReindentLinesAction=v;class b extends y.EditorAction{constructor(){super({id:"editor.action.reindentselectedlines",label:n.localize(11,null),alias:"Reindent Selected Lines",precondition:g.EditorContextKeys.writable})}run(T,A){const N=T.get(C.ILanguageConfigurationService),F=A.getModel();if(!F)return;const O=A.getSelections();if(O===null)return;const W=[];for(const U of O){let j=U.startLineNumber,R=U.endLineNumber;if(j!==R&&U.endColumn===1&&R--,j===1){if(j===R)continue}else j--;const K=h(F,N,j,R);W.push(...K)}W.length>0&&(A.pushUndoStop(),A.executeEdits(this.id,W),A.pushUndoStop())}}e.ReindentSelectedLinesAction=b;class w{constructor(T,A){this._initialSelection=A,this._edits=[],this._selectionId=null;for(const N of T)N.range&&typeof N.text=="string"&&this._edits.push(N)}getEditOperations(T,A){for(const F of this._edits)A.addEditOperation(f.Range.lift(F.range),F.text);let N=!1;Array.isArray(this._edits)&&this._edits.length===1&&this._initialSelection.isEmpty()&&(this._edits[0].range.startColumn===this._initialSelection.endColumn&&this._edits[0].range.startLineNumber===this._initialSelection.endLineNumber?(N=!0,this._selectionId=A.trackSelection(this._initialSelection,!0)):this._edits[0].range.endColumn===this._initialSelection.startColumn&&this._edits[0].range.endLineNumber===this._initialSelection.startLineNumber&&(N=!0,this._selectionId=A.trackSelection(this._initialSelection,!1))),N||(this._selectionId=A.trackSelection(this._initialSelection))}computeCursorState(T,A){return A.getTrackedSelection(this._selectionId)}}e.AutoIndentOnPasteCommand=w;let E=class{constructor(T,A){this.editor=T,this._languageConfigurationService=A,this.callOnDispose=new L.DisposableStore,this.callOnModel=new L.DisposableStore,this.callOnDispose.add(T.onDidChangeConfiguration(()=>this.update())),this.callOnDispose.add(T.onDidChangeModel(()=>this.update())),this.callOnDispose.add(T.onDidChangeModelLanguage(()=>this.update()))}update(){this.callOnModel.clear(),!(this.editor.getOption(11)<4||this.editor.getOption(54))&&this.editor.hasModel()&&this.callOnModel.add(this.editor.onDidPaste(({range:T})=>{this.trigger(T)}))}trigger(T){const A=this.editor.getSelections();if(A===null||A.length>1)return;const N=this.editor.getModel();if(!N||!N.tokenization.isCheapToTokenize(T.getStartPosition().lineNumber))return;const F=this.editor.getOption(11),{tabSize:O,indentSize:W,insertSpaces:U}=N.getOptions(),j=[],R={shiftIndent:J=>D.ShiftCommand.shiftIndent(J,J.length+1,O,W,U),unshiftIndent:J=>D.ShiftCommand.unshiftIndent(J,J.length+1,O,W,U)};let K=T.startLineNumber;for(;K<=T.endLineNumber;){if(this.shouldIgnoreLine(N,K)){K++;continue}break}if(K>T.endLineNumber)return;let G=N.getLineContent(K);if(!/\S/.test(G.substring(0,T.startColumn-1))){const J=(0,u.getGoodIndentForLine)(F,N,N.getLanguageId(),K,R,this._languageConfigurationService);if(J!==null){const X=k.getLeadingWhitespace(G),H=i.getSpaceCnt(J,O),B=i.getSpaceCnt(X,O);if(H!==B){const V=i.generateIndent(H,O,U);j.push({range:new f.Range(K,1,K,X.length+1),text:V}),G=V+G.substr(X.length)}else{const V=(0,u.getIndentMetadata)(N,K,this._languageConfigurationService);if(V===0||V===8)return}}}const Z=K;for(;K<T.endLineNumber;){if(!/\S/.test(N.getLineContent(K+1))){K++;continue}break}if(K!==T.endLineNumber){const J={tokenization:{getLineTokens:H=>N.tokenization.getLineTokens(H),getLanguageId:()=>N.getLanguageId(),getLanguageIdAtPosition:(H,B)=>N.getLanguageIdAtPosition(H,B)},getLineContent:H=>H===Z?G:N.getLineContent(H)},X=(0,u.getGoodIndentForLine)(F,J,N.getLanguageId(),K+1,R,this._languageConfigurationService);if(X!==null){const H=i.getSpaceCnt(X,O),B=i.getSpaceCnt(k.getLeadingWhitespace(N.getLineContent(K+1)),O);if(H!==B){const V=H-B;for(let Y=K+1;Y<=T.endLineNumber;Y++){const ie=N.getLineContent(Y),ae=k.getLeadingWhitespace(ie),de=i.getSpaceCnt(ae,O)+V,he=i.generateIndent(de,O,U);he!==ae&&j.push({range:new f.Range(Y,1,Y,ae.length+1),text:he})}}}}if(j.length>0){this.editor.pushUndoStop();const J=new w(j,this.editor.getSelection());this.editor.executeCommand("autoIndentOnPaste",J),this.editor.pushUndoStop()}}shouldIgnoreLine(T,A){T.tokenization.forceTokenization(A);const N=T.getLineFirstNonWhitespaceColumn(A);if(N===0)return!0;const F=T.tokenization.getLineTokens(A);if(F.getCount()>0){const O=F.findTokenIndexAtOffset(N);if(O>=0&&F.getStandardTokenType(O)===1)return!0}return!1}dispose(){this.callOnDispose.dispose(),this.callOnModel.dispose()}};e.AutoIndentOnPaste=E,E.ID="editor.contrib.autoIndentOnPaste",e.AutoIndentOnPaste=E=ke([fe(1,C.ILanguageConfigurationService)],E);function I(x,T,A,N){if(x.getLineCount()===1&&x.getLineMaxColumn(1)===1)return;let F="";for(let W=0;W<A;W++)F+=" ";const O=new RegExp(F,"gi");for(let W=1,U=x.getLineCount();W<=U;W++){let j=x.getLineFirstNonWhitespaceColumn(W);if(j===0&&(j=x.getLineMaxColumn(W)),j===1)continue;const R=new f.Range(W,1,W,j),K=x.getValueInRange(R),G=N?K.replace(/\t/ig,F):K.replace(O,"	");T.addEditOperation(R,G)}}class M{constructor(T,A){this.selection=T,this.tabSize=A,this.selectionId=null}getEditOperations(T,A){this.selectionId=A.trackSelection(this.selection),I(T,A,this.tabSize,!0)}computeCursorState(T,A){return A.getTrackedSelection(this.selectionId)}}e.IndentationToSpacesCommand=M;class P{constructor(T,A){this.selection=T,this.tabSize=A,this.selectionId=null}getEditOperations(T,A){this.selectionId=A.trackSelection(this.selection),I(T,A,this.tabSize,!1)}computeCursorState(T,A){return A.getTrackedSelection(this.selectionId)}}e.IndentationToTabsCommand=P,(0,y.registerEditorContribution)(E.ID,E,2),(0,y.registerEditorAction)(r),(0,y.registerEditorAction)(c),(0,y.registerEditorAction)(d),(0,y.registerEditorAction)(l),(0,y.registerEditorAction)(p),(0,y.registerEditorAction)(m),(0,y.registerEditorAction)(v),(0,y.registerEditorAction)(b)}),define(ne[806],se([1,0,16,205,21,682]),function(Q,e,L,k,y,D){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ExpandLineSelectionAction=void 0;class S extends L.EditorAction{constructor(){super({id:"expandLineSelection",label:D.localize(0,null),alias:"Expand Line Selection",precondition:void 0,kbOpts:{weight:0,kbExpr:y.EditorContextKeys.textInputFocus,primary:2090}})}run(_,g,C){if(C=C||{},!g.hasModel())return;const s=g._getViewModel();s.model.pushStackElement(),s.setCursorStates(C.source,3,k.CursorMoveCommands.expandLineSelection(s,s.getCursorStates())),s.revealPrimaryCursor(C.source,!0)}}e.ExpandLineSelectionAction=S,(0,L.registerEditorAction)(S)}),define(ne[807],se([1,0,63,189,16,123,484,246,73,12,5,24,21,545,780,546,683,30,32]),function(Q,e,L,k,y,D,S,f,_,g,C,s,i,n,t,a,u,h,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.KebabCaseAction=e.CamelCaseAction=e.SnakeCaseAction=e.TitleCaseAction=e.LowerCaseAction=e.UpperCaseAction=e.AbstractCaseAction=e.TransposeAction=e.JoinLinesAction=e.DeleteAllRightAction=e.DeleteAllLeftAction=e.AbstractDeleteAllToBoundaryAction=e.InsertLineAfterAction=e.InsertLineBeforeAction=e.IndentLinesAction=e.DeleteLinesAction=e.TrimTrailingWhitespaceAction=e.DeleteDuplicateLinesAction=e.SortLinesDescendingAction=e.SortLinesAscendingAction=e.AbstractSortLinesAction=e.DuplicateSelectionAction=void 0;class c extends y.EditorAction{constructor(Y,ie){super(ie),this.down=Y}run(Y,ie){if(!ie.hasModel())return;const ae=ie.getSelections().map((he,ue)=>({selection:he,index:ue,ignore:!1}));ae.sort((he,ue)=>C.Range.compareRangesUsingStarts(he.selection,ue.selection));let ce=ae[0];for(let he=1;he<ae.length;he++){const ue=ae[he];ce.selection.endLineNumber===ue.selection.startLineNumber&&(ce.index<ue.index?ue.ignore=!0:(ce.ignore=!0,ce=ue))}const de=[];for(const he of ae)de.push(new n.CopyLinesCommand(he.selection,this.down,he.ignore));ie.pushUndoStop(),ie.executeCommands(this.id,de),ie.pushUndoStop()}}class o extends c{constructor(){super(!1,{id:"editor.action.copyLinesUpAction",label:u.localize(0,null),alias:"Copy Line Up",precondition:i.EditorContextKeys.writable,kbOpts:{kbExpr:i.EditorContextKeys.editorTextFocus,primary:1552,linux:{primary:3600},weight:100},menuOpts:{menuId:h.MenuId.MenubarSelectionMenu,group:"2_line",title:u.localize(1,null),order:1}})}}class d extends c{constructor(){super(!0,{id:"editor.action.copyLinesDownAction",label:u.localize(2,null),alias:"Copy Line Down",precondition:i.EditorContextKeys.writable,kbOpts:{kbExpr:i.EditorContextKeys.editorTextFocus,primary:1554,linux:{primary:3602},weight:100},menuOpts:{menuId:h.MenuId.MenubarSelectionMenu,group:"2_line",title:u.localize(3,null),order:2}})}}class l extends y.EditorAction{constructor(){super({id:"editor.action.duplicateSelection",label:u.localize(4,null),alias:"Duplicate Selection",precondition:i.EditorContextKeys.writable,menuOpts:{menuId:h.MenuId.MenubarSelectionMenu,group:"2_line",title:u.localize(5,null),order:5}})}run(Y,ie,ae){if(!ie.hasModel())return;const ce=[],de=ie.getSelections(),he=ie.getModel();for(const ue of de)if(ue.isEmpty())ce.push(new n.CopyLinesCommand(ue,!0));else{const te=new s.Selection(ue.endLineNumber,ue.endColumn,ue.endLineNumber,ue.endColumn);ce.push(new D.ReplaceCommandThatSelectsText(te,he.getValueInRange(ue)))}ie.pushUndoStop(),ie.executeCommands(this.id,ce),ie.pushUndoStop()}}e.DuplicateSelectionAction=l;class p extends y.EditorAction{constructor(Y,ie){super(ie),this.down=Y}run(Y,ie){const ae=Y.get(r.ILanguageConfigurationService),ce=[],de=ie.getSelections()||[],he=ie.getOption(11);for(const ue of de)ce.push(new t.MoveLinesCommand(ue,this.down,he,ae));ie.pushUndoStop(),ie.executeCommands(this.id,ce),ie.pushUndoStop()}}class m extends p{constructor(){super(!1,{id:"editor.action.moveLinesUpAction",label:u.localize(6,null),alias:"Move Line Up",precondition:i.EditorContextKeys.writable,kbOpts:{kbExpr:i.EditorContextKeys.editorTextFocus,primary:528,linux:{primary:528},weight:100},menuOpts:{menuId:h.MenuId.MenubarSelectionMenu,group:"2_line",title:u.localize(7,null),order:3}})}}class v extends p{constructor(){super(!0,{id:"editor.action.moveLinesDownAction",label:u.localize(8,null),alias:"Move Line Down",precondition:i.EditorContextKeys.writable,kbOpts:{kbExpr:i.EditorContextKeys.editorTextFocus,primary:530,linux:{primary:530},weight:100},menuOpts:{menuId:h.MenuId.MenubarSelectionMenu,group:"2_line",title:u.localize(9,null),order:4}})}}class b extends y.EditorAction{constructor(Y,ie){super(ie),this.descending=Y}run(Y,ie){const ae=ie.getSelections()||[];for(const de of ae)if(!a.SortLinesCommand.canRun(ie.getModel(),de,this.descending))return;const ce=[];for(let de=0,he=ae.length;de<he;de++)ce[de]=new a.SortLinesCommand(ae[de],this.descending);ie.pushUndoStop(),ie.executeCommands(this.id,ce),ie.pushUndoStop()}}e.AbstractSortLinesAction=b;class w extends b{constructor(){super(!1,{id:"editor.action.sortLinesAscending",label:u.localize(10,null),alias:"Sort Lines Ascending",precondition:i.EditorContextKeys.writable})}}e.SortLinesAscendingAction=w;class E extends b{constructor(){super(!0,{id:"editor.action.sortLinesDescending",label:u.localize(11,null),alias:"Sort Lines Descending",precondition:i.EditorContextKeys.writable})}}e.SortLinesDescendingAction=E;class I extends y.EditorAction{constructor(){super({id:"editor.action.removeDuplicateLines",label:u.localize(12,null),alias:"Delete Duplicate Lines",precondition:i.EditorContextKeys.writable})}run(Y,ie){if(!ie.hasModel())return;const ae=ie.getModel();if(ae.getLineCount()===1&&ae.getLineMaxColumn(1)===1)return;const ce=[],de=[];let he=0;for(const ue of ie.getSelections()){const te=new Set,q=[];for(let re=ue.startLineNumber;re<=ue.endLineNumber;re++){const oe=ae.getLineContent(re);te.has(oe)||(q.push(oe),te.add(oe))}const z=new s.Selection(ue.startLineNumber,1,ue.endLineNumber,ae.getLineMaxColumn(ue.endLineNumber)),ee=ue.startLineNumber-he,$=new s.Selection(ee,1,ee+q.length-1,q[q.length-1].length);ce.push(_.EditOperation.replace(z,q.join(`
`))),de.push($),he+=ue.endLineNumber-ue.startLineNumber+1-q.length}ie.pushUndoStop(),ie.executeEdits(this.id,ce,de),ie.pushUndoStop()}}e.DeleteDuplicateLinesAction=I;class M extends y.EditorAction{constructor(){super({id:M.ID,label:u.localize(13,null),alias:"Trim Trailing Whitespace",precondition:i.EditorContextKeys.writable,kbOpts:{kbExpr:i.EditorContextKeys.editorTextFocus,primary:(0,L.KeyChord)(2089,2102),weight:100}})}run(Y,ie,ae){let ce=[];ae.reason==="auto-save"&&(ce=(ie.getSelections()||[]).map(ue=>new g.Position(ue.positionLineNumber,ue.positionColumn)));const de=ie.getSelection();if(de===null)return;const he=new S.TrimTrailingWhitespaceCommand(de,ce);ie.pushUndoStop(),ie.executeCommands(this.id,[he]),ie.pushUndoStop()}}e.TrimTrailingWhitespaceAction=M,M.ID="editor.action.trimTrailingWhitespace";class P extends y.EditorAction{constructor(){super({id:"editor.action.deleteLines",label:u.localize(14,null),alias:"Delete Line",precondition:i.EditorContextKeys.writable,kbOpts:{kbExpr:i.EditorContextKeys.textInputFocus,primary:3113,weight:100}})}run(Y,ie){if(!ie.hasModel())return;const ae=this._getLinesToRemove(ie),ce=ie.getModel();if(ce.getLineCount()===1&&ce.getLineMaxColumn(1)===1)return;let de=0;const he=[],ue=[];for(let te=0,q=ae.length;te<q;te++){const z=ae[te];let ee=z.startLineNumber,$=z.endLineNumber,re=1,oe=ce.getLineMaxColumn($);$<ce.getLineCount()?($+=1,oe=1):ee>1&&(ee-=1,re=ce.getLineMaxColumn(ee)),he.push(_.EditOperation.replace(new s.Selection(ee,re,$,oe),"")),ue.push(new s.Selection(ee-de,z.positionColumn,ee-de,z.positionColumn)),de+=z.endLineNumber-z.startLineNumber+1}ie.pushUndoStop(),ie.executeEdits(this.id,he,ue),ie.pushUndoStop()}_getLinesToRemove(Y){const ie=Y.getSelections().map(de=>{let he=de.endLineNumber;return de.startLineNumber<de.endLineNumber&&de.endColumn===1&&(he-=1),{startLineNumber:de.startLineNumber,selectionStartColumn:de.selectionStartColumn,endLineNumber:he,positionColumn:de.positionColumn}});ie.sort((de,he)=>de.startLineNumber===he.startLineNumber?de.endLineNumber-he.endLineNumber:de.startLineNumber-he.startLineNumber);const ae=[];let ce=ie[0];for(let de=1;de<ie.length;de++)ce.endLineNumber+1>=ie[de].startLineNumber?ce.endLineNumber=ie[de].endLineNumber:(ae.push(ce),ce=ie[de]);return ae.push(ce),ae}}e.DeleteLinesAction=P;class x extends y.EditorAction{constructor(){super({id:"editor.action.indentLines",label:u.localize(15,null),alias:"Indent Line",precondition:i.EditorContextKeys.writable,kbOpts:{kbExpr:i.EditorContextKeys.editorTextFocus,primary:2142,weight:100}})}run(Y,ie){const ae=ie._getViewModel();ae&&(ie.pushUndoStop(),ie.executeCommands(this.id,f.TypeOperations.indent(ae.cursorConfig,ie.getModel(),ie.getSelections())),ie.pushUndoStop())}}e.IndentLinesAction=x;class T extends y.EditorAction{constructor(){super({id:"editor.action.outdentLines",label:u.localize(16,null),alias:"Outdent Line",precondition:i.EditorContextKeys.writable,kbOpts:{kbExpr:i.EditorContextKeys.editorTextFocus,primary:2140,weight:100}})}run(Y,ie){k.CoreEditingCommands.Outdent.runEditorCommand(Y,ie,null)}}class A extends y.EditorAction{constructor(){super({id:"editor.action.insertLineBefore",label:u.localize(17,null),alias:"Insert Line Above",precondition:i.EditorContextKeys.writable,kbOpts:{kbExpr:i.EditorContextKeys.editorTextFocus,primary:3075,weight:100}})}run(Y,ie){const ae=ie._getViewModel();ae&&(ie.pushUndoStop(),ie.executeCommands(this.id,f.TypeOperations.lineInsertBefore(ae.cursorConfig,ie.getModel(),ie.getSelections())))}}e.InsertLineBeforeAction=A;class N extends y.EditorAction{constructor(){super({id:"editor.action.insertLineAfter",label:u.localize(18,null),alias:"Insert Line Below",precondition:i.EditorContextKeys.writable,kbOpts:{kbExpr:i.EditorContextKeys.editorTextFocus,primary:2051,weight:100}})}run(Y,ie){const ae=ie._getViewModel();ae&&(ie.pushUndoStop(),ie.executeCommands(this.id,f.TypeOperations.lineInsertAfter(ae.cursorConfig,ie.getModel(),ie.getSelections())))}}e.InsertLineAfterAction=N;class F extends y.EditorAction{run(Y,ie){if(!ie.hasModel())return;const ae=ie.getSelection(),ce=this._getRangesToDelete(ie),de=[];for(let te=0,q=ce.length-1;te<q;te++){const z=ce[te],ee=ce[te+1];C.Range.intersectRanges(z,ee)===null?de.push(z):ce[te+1]=C.Range.plusRange(z,ee)}de.push(ce[ce.length-1]);const he=this._getEndCursorState(ae,de),ue=de.map(te=>_.EditOperation.replace(te,""));ie.pushUndoStop(),ie.executeEdits(this.id,ue,he),ie.pushUndoStop()}}e.AbstractDeleteAllToBoundaryAction=F;class O extends F{constructor(){super({id:"deleteAllLeft",label:u.localize(19,null),alias:"Delete All Left",precondition:i.EditorContextKeys.writable,kbOpts:{kbExpr:i.EditorContextKeys.textInputFocus,primary:0,mac:{primary:2049},weight:100}})}_getEndCursorState(Y,ie){let ae=null;const ce=[];let de=0;return ie.forEach(he=>{let ue;if(he.endColumn===1&&de>0){const te=he.startLineNumber-de;ue=new s.Selection(te,he.startColumn,te,he.startColumn)}else ue=new s.Selection(he.startLineNumber,he.startColumn,he.startLineNumber,he.startColumn);de+=he.endLineNumber-he.startLineNumber,he.intersectRanges(Y)?ae=ue:ce.push(ue)}),ae&&ce.unshift(ae),ce}_getRangesToDelete(Y){const ie=Y.getSelections();if(ie===null)return[];let ae=ie;const ce=Y.getModel();return ce===null?[]:(ae.sort(C.Range.compareRangesUsingStarts),ae=ae.map(de=>{if(de.isEmpty())if(de.startColumn===1){const he=Math.max(1,de.startLineNumber-1),ue=de.startLineNumber===1?1:ce.getLineContent(he).length+1;return new C.Range(he,ue,de.startLineNumber,1)}else return new C.Range(de.startLineNumber,1,de.startLineNumber,de.startColumn);else return new C.Range(de.startLineNumber,1,de.endLineNumber,de.endColumn)}),ae)}}e.DeleteAllLeftAction=O;class W extends F{constructor(){super({id:"deleteAllRight",label:u.localize(20,null),alias:"Delete All Right",precondition:i.EditorContextKeys.writable,kbOpts:{kbExpr:i.EditorContextKeys.textInputFocus,primary:0,mac:{primary:297,secondary:[2068]},weight:100}})}_getEndCursorState(Y,ie){let ae=null;const ce=[];for(let de=0,he=ie.length,ue=0;de<he;de++){const te=ie[de],q=new s.Selection(te.startLineNumber-ue,te.startColumn,te.startLineNumber-ue,te.startColumn);te.intersectRanges(Y)?ae=q:ce.push(q)}return ae&&ce.unshift(ae),ce}_getRangesToDelete(Y){const ie=Y.getModel();if(ie===null)return[];const ae=Y.getSelections();if(ae===null)return[];const ce=ae.map(de=>{if(de.isEmpty()){const he=ie.getLineMaxColumn(de.startLineNumber);return de.startColumn===he?new C.Range(de.startLineNumber,de.startColumn,de.startLineNumber+1,1):new C.Range(de.startLineNumber,de.startColumn,de.startLineNumber,he)}return de});return ce.sort(C.Range.compareRangesUsingStarts),ce}}e.DeleteAllRightAction=W;class U extends y.EditorAction{constructor(){super({id:"editor.action.joinLines",label:u.localize(21,null),alias:"Join Lines",precondition:i.EditorContextKeys.writable,kbOpts:{kbExpr:i.EditorContextKeys.editorTextFocus,primary:0,mac:{primary:296},weight:100}})}run(Y,ie){const ae=ie.getSelections();if(ae===null)return;let ce=ie.getSelection();if(ce===null)return;ae.sort(C.Range.compareRangesUsingStarts);const de=[],he=ae.reduce(($,re)=>$.isEmpty()?$.endLineNumber===re.startLineNumber?(ce.equalsSelection($)&&(ce=re),re):re.startLineNumber>$.endLineNumber+1?(de.push($),re):new s.Selection($.startLineNumber,$.startColumn,re.endLineNumber,re.endColumn):re.startLineNumber>$.endLineNumber?(de.push($),re):new s.Selection($.startLineNumber,$.startColumn,re.endLineNumber,re.endColumn));de.push(he);const ue=ie.getModel();if(ue===null)return;const te=[],q=[];let z=ce,ee=0;for(let $=0,re=de.length;$<re;$++){const oe=de[$],ge=oe.startLineNumber,ve=1;let Se=0,Le,De;const ye=ue.getLineContent(oe.endLineNumber).length-oe.endColumn;if(oe.isEmpty()||oe.startLineNumber===oe.endLineNumber){const Pe=oe.getStartPosition();Pe.lineNumber<ue.getLineCount()?(Le=ge+1,De=ue.getLineMaxColumn(Le)):(Le=Pe.lineNumber,De=ue.getLineMaxColumn(Pe.lineNumber))}else Le=oe.endLineNumber,De=ue.getLineMaxColumn(Le);let Ee=ue.getLineContent(ge);for(let Pe=ge+1;Pe<=Le;Pe++){const Fe=ue.getLineContent(Pe),_e=ue.getLineFirstNonWhitespaceColumn(Pe);if(_e>=1){let me=!0;Ee===""&&(me=!1),me&&(Ee.charAt(Ee.length-1)===" "||Ee.charAt(Ee.length-1)==="	")&&(me=!1,Ee=Ee.replace(/[\s\uFEFF\xA0]+$/g," "));const le=Fe.substr(_e-1);Ee+=(me?" ":"")+le,me?Se=le.length+1:Se=le.length}else Se=0}const Me=new C.Range(ge,ve,Le,De);if(!Me.isEmpty()){let Pe;oe.isEmpty()?(te.push(_.EditOperation.replace(Me,Ee)),Pe=new s.Selection(Me.startLineNumber-ee,Ee.length-Se+1,ge-ee,Ee.length-Se+1)):oe.startLineNumber===oe.endLineNumber?(te.push(_.EditOperation.replace(Me,Ee)),Pe=new s.Selection(oe.startLineNumber-ee,oe.startColumn,oe.endLineNumber-ee,oe.endColumn)):(te.push(_.EditOperation.replace(Me,Ee)),Pe=new s.Selection(oe.startLineNumber-ee,oe.startColumn,oe.startLineNumber-ee,Ee.length-ye)),C.Range.intersectRanges(Me,ce)!==null?z=Pe:q.push(Pe)}ee+=Me.endLineNumber-Me.startLineNumber}q.unshift(z),ie.pushUndoStop(),ie.executeEdits(this.id,te,q),ie.pushUndoStop()}}e.JoinLinesAction=U;class j extends y.EditorAction{constructor(){super({id:"editor.action.transpose",label:u.localize(22,null),alias:"Transpose Characters around the Cursor",precondition:i.EditorContextKeys.writable})}run(Y,ie){const ae=ie.getSelections();if(ae===null)return;const ce=ie.getModel();if(ce===null)return;const de=[];for(let he=0,ue=ae.length;he<ue;he++){const te=ae[he];if(!te.isEmpty())continue;const q=te.getStartPosition(),z=ce.getLineMaxColumn(q.lineNumber);if(q.column>=z){if(q.lineNumber===ce.getLineCount())continue;const ee=new C.Range(q.lineNumber,Math.max(1,q.column-1),q.lineNumber+1,1),$=ce.getValueInRange(ee).split("").reverse().join("");de.push(new D.ReplaceCommand(new s.Selection(q.lineNumber,Math.max(1,q.column-1),q.lineNumber+1,1),$))}else{const ee=new C.Range(q.lineNumber,Math.max(1,q.column-1),q.lineNumber,q.column+1),$=ce.getValueInRange(ee).split("").reverse().join("");de.push(new D.ReplaceCommandThatPreservesSelection(ee,$,new s.Selection(q.lineNumber,q.column+1,q.lineNumber,q.column+1)))}}ie.pushUndoStop(),ie.executeCommands(this.id,de),ie.pushUndoStop()}}e.TransposeAction=j;class R extends y.EditorAction{run(Y,ie){const ae=ie.getSelections();if(ae===null)return;const ce=ie.getModel();if(ce===null)return;const de=ie.getOption(128),he=[];for(const ue of ae)if(ue.isEmpty()){const te=ue.getStartPosition(),q=ie.getConfiguredWordAtPosition(te);if(!q)continue;const z=new C.Range(te.lineNumber,q.startColumn,te.lineNumber,q.endColumn),ee=ce.getValueInRange(z);he.push(_.EditOperation.replace(z,this._modifyText(ee,de)))}else{const te=ce.getValueInRange(ue);he.push(_.EditOperation.replace(ue,this._modifyText(te,de)))}ie.pushUndoStop(),ie.executeEdits(this.id,he),ie.pushUndoStop()}}e.AbstractCaseAction=R;class K extends R{constructor(){super({id:"editor.action.transformToUppercase",label:u.localize(23,null),alias:"Transform to Uppercase",precondition:i.EditorContextKeys.writable})}_modifyText(Y,ie){return Y.toLocaleUpperCase()}}e.UpperCaseAction=K;class G extends R{constructor(){super({id:"editor.action.transformToLowercase",label:u.localize(24,null),alias:"Transform to Lowercase",precondition:i.EditorContextKeys.writable})}_modifyText(Y,ie){return Y.toLocaleLowerCase()}}e.LowerCaseAction=G;class Z{constructor(Y,ie){this._pattern=Y,this._flags=ie,this._actual=null,this._evaluated=!1}get(){if(!this._evaluated){this._evaluated=!0;try{this._actual=new RegExp(this._pattern,this._flags)}catch{}}return this._actual}isSupported(){return this.get()!==null}}class J extends R{constructor(){super({id:"editor.action.transformToTitlecase",label:u.localize(25,null),alias:"Transform to Title Case",precondition:i.EditorContextKeys.writable})}_modifyText(Y,ie){const ae=J.titleBoundary.get();return ae?Y.toLocaleLowerCase().replace(ae,ce=>ce.toLocaleUpperCase()):Y}}e.TitleCaseAction=J,J.titleBoundary=new Z("(^|[^\\p{L}\\p{N}']|((^|\\P{L})'))\\p{L}","gmu");class X extends R{constructor(){super({id:"editor.action.transformToSnakecase",label:u.localize(26,null),alias:"Transform to Snake Case",precondition:i.EditorContextKeys.writable})}_modifyText(Y,ie){const ae=X.caseBoundary.get(),ce=X.singleLetters.get();return!ae||!ce?Y:Y.replace(ae,"$1_$2").replace(ce,"$1_$2$3").toLocaleLowerCase()}}e.SnakeCaseAction=X,X.caseBoundary=new Z("(\\p{Ll})(\\p{Lu})","gmu"),X.singleLetters=new Z("(\\p{Lu}|\\p{N})(\\p{Lu})(\\p{Ll})","gmu");class H extends R{constructor(){super({id:"editor.action.transformToCamelcase",label:u.localize(27,null),alias:"Transform to Camel Case",precondition:i.EditorContextKeys.writable})}_modifyText(Y,ie){const ae=H.wordBoundary.get();if(!ae)return Y;const ce=Y.split(ae);return ce.shift()+ce.map(he=>he.substring(0,1).toLocaleUpperCase()+he.substring(1)).join("")}}e.CamelCaseAction=H,H.wordBoundary=new Z("[_\\s-]","gm");class B extends R{static isSupported(){return[this.caseBoundary,this.singleLetters,this.underscoreBoundary].every(ie=>ie.isSupported())}constructor(){super({id:"editor.action.transformToKebabcase",label:u.localize(28,null),alias:"Transform to Kebab Case",precondition:i.EditorContextKeys.writable})}_modifyText(Y,ie){const ae=B.caseBoundary.get(),ce=B.singleLetters.get(),de=B.underscoreBoundary.get();return!ae||!ce||!de?Y:Y.replace(de,"$1-$3").replace(ae,"$1-$2").replace(ce,"$1-$2").toLocaleLowerCase()}}e.KebabCaseAction=B,B.caseBoundary=new Z("(\\p{Ll})(\\p{Lu})","gmu"),B.singleLetters=new Z("(\\p{Lu}|\\p{N})(\\p{Lu}\\p{Ll})","gmu"),B.underscoreBoundary=new Z("(\\S)(_)(\\S)","gm"),(0,y.registerEditorAction)(o),(0,y.registerEditorAction)(d),(0,y.registerEditorAction)(l),(0,y.registerEditorAction)(m),(0,y.registerEditorAction)(v),(0,y.registerEditorAction)(w),(0,y.registerEditorAction)(E),(0,y.registerEditorAction)(I),(0,y.registerEditorAction)(M),(0,y.registerEditorAction)(P),(0,y.registerEditorAction)(x),(0,y.registerEditorAction)(T),(0,y.registerEditorAction)(A),(0,y.registerEditorAction)(N),(0,y.registerEditorAction)(O),(0,y.registerEditorAction)(W),(0,y.registerEditorAction)(U),(0,y.registerEditorAction)(j),(0,y.registerEditorAction)(K),(0,y.registerEditorAction)(G),X.caseBoundary.isSupported()&&X.singleLetters.isSupported()&&(0,y.registerEditorAction)(X),H.wordBoundary.isSupported()&&(0,y.registerEditorAction)(H),J.titleBoundary.isSupported()&&(0,y.registerEditorAction)(J),B.isSupported()&&(0,y.registerEditorAction)(B)}),define(ne[808],se([1,0,2,16]),function(Q,e,L,k){"use strict";Object.defineProperty(e,"__esModule",{value:!0});class y extends L.Disposable{constructor(S){super(),this._editor=S,this._register(this._editor.onMouseDown(f=>{const _=this._editor.getOption(115);_>=0&&f.target.type===6&&f.target.position.column>=_&&this._editor.updateOptions({stopRenderingLineAfter:-1})}))}}y.ID="editor.contrib.longLinesHelper",(0,k.registerEditorContribution)(y.ID,y,2)}),define(ne[190],se([1,0,183,49,6,55,2,16,5,117,686,15,56,7,456]),function(Q,e,L,k,y,D,S,f,_,g,C,s,i,n){"use strict";var t;Object.defineProperty(e,"__esModule",{value:!0}),e.MessageController=void 0;let a=t=class{static get(c){return c.getContribution(t.ID)}constructor(c,o,d){this._openerService=d,this._messageWidget=new S.MutableDisposable,this._messageListeners=new S.DisposableStore,this._mouseOverMessage=!1,this._editor=c,this._visible=t.MESSAGE_VISIBLE.bindTo(o)}dispose(){var c;(c=this._message)===null||c===void 0||c.dispose(),this._messageListeners.dispose(),this._messageWidget.dispose(),this._visible.reset()}showMessage(c,o){(0,k.alert)((0,D.isMarkdownString)(c)?c.value:c),this._visible.set(!0),this._messageWidget.clear(),this._messageListeners.clear(),this._message=(0,D.isMarkdownString)(c)?(0,L.renderMarkdown)(c,{actionHandler:{callback:l=>(0,g.openLinkFromMarkdown)(this._openerService,l,(0,D.isMarkdownString)(c)?c.isTrusted:void 0),disposables:this._messageListeners}}):void 0,this._messageWidget.value=new h(this._editor,o,typeof c=="string"?c:this._message.element),this._messageListeners.add(y.Event.debounce(this._editor.onDidBlurEditorText,(l,p)=>p,0)(()=>{this._mouseOverMessage||this._messageWidget.value&&n.isAncestor(document.activeElement,this._messageWidget.value.getDomNode())||this.closeMessage()})),this._messageListeners.add(this._editor.onDidChangeCursorPosition(()=>this.closeMessage())),this._messageListeners.add(this._editor.onDidDispose(()=>this.closeMessage())),this._messageListeners.add(this._editor.onDidChangeModel(()=>this.closeMessage())),this._messageListeners.add(n.addDisposableListener(this._messageWidget.value.getDomNode(),n.EventType.MOUSE_ENTER,()=>this._mouseOverMessage=!0,!0)),this._messageListeners.add(n.addDisposableListener(this._messageWidget.value.getDomNode(),n.EventType.MOUSE_LEAVE,()=>this._mouseOverMessage=!1,!0));let d;this._messageListeners.add(this._editor.onMouseMove(l=>{l.target.position&&(d?d.containsPosition(l.target.position)||this.closeMessage():d=new _.Range(o.lineNumber-3,1,l.target.position.lineNumber+3,1))}))}closeMessage(){this._visible.reset(),this._messageListeners.clear(),this._messageWidget.value&&this._messageListeners.add(h.fadeOut(this._messageWidget.value))}};e.MessageController=a,a.ID="editor.contrib.messageController",a.MESSAGE_VISIBLE=new s.RawContextKey("messageVisible",!1,C.localize(0,null)),e.MessageController=a=t=ke([fe(1,s.IContextKeyService),fe(2,i.IOpenerService)],a);const u=f.EditorCommand.bindToContribution(a.get);(0,f.registerEditorCommand)(new u({id:"leaveEditorMessage",precondition:a.MESSAGE_VISIBLE,handler:r=>r.closeMessage(),kbOpts:{weight:100+30,primary:9}}));class h{static fadeOut(c){const o=()=>{c.dispose(),clearTimeout(d),c.getDomNode().removeEventListener("animationend",o)},d=setTimeout(o,110);return c.getDomNode().addEventListener("animationend",o),c.getDomNode().classList.add("fadeOut"),{dispose:o}}constructor(c,{lineNumber:o,column:d},l){this.allowEditorOverflow=!0,this.suppressMouseDown=!1,this._editor=c,this._editor.revealLinesInCenterIfOutsideViewport(o,o,0),this._position={lineNumber:o,column:d},this._domNode=document.createElement("div"),this._domNode.classList.add("monaco-editor-overlaymessage"),this._domNode.style.marginLeft="-6px";const p=document.createElement("div");p.classList.add("anchor","top"),this._domNode.appendChild(p);const m=document.createElement("div");typeof l=="string"?(m.classList.add("message"),m.textContent=l):(l.classList.add("message"),m.appendChild(l)),this._domNode.appendChild(m);const v=document.createElement("div");v.classList.add("anchor","below"),this._domNode.appendChild(v),this._editor.addContentWidget(this),this._domNode.classList.add("fadeIn")}dispose(){this._editor.removeContentWidget(this)}getId(){return"messageoverlay"}getDomNode(){return this._domNode}getPosition(){return{position:this._position,preference:[1,2],positionAffinity:1}}afterRender(c){this._domNode.classList.toggle("below",c===2)}}(0,f.registerEditorContribution)(a.ID,a,4)}),define(ne[809],se([1,0,55,2,16,190,693]),function(Q,e,L,k,y,D,S){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ReadOnlyMessageController=void 0;class f extends k.Disposable{constructor(g){super(),this.editor=g,this._register(this.editor.onDidAttemptReadOnlyEdit(()=>this._onDidAttemptReadOnlyEdit()))}_onDidAttemptReadOnlyEdit(){const g=D.MessageController.get(this.editor);if(g&&this.editor.hasModel()){let C=this.editor.getOptions().get(90);C||(this.editor.isSimpleWidget?C=new L.MarkdownString(S.localize(0,null)):C=new L.MarkdownString(S.localize(1,null))),g.showMessage(C,this.editor.getPosition())}}}e.ReadOnlyMessageController=f,f.ID="editor.contrib.readOnlyMessageController",(0,y.registerEditorContribution)(f.ID,f,2)}),define(ne[810],se([1,0,14,19,9,16,12,5,24,21,298,547,696,30,27,18,69,20,22]),function(Q,e,L,k,y,D,S,f,_,g,C,s,i,n,t,a,u,h,r){"use strict";var c;Object.defineProperty(e,"__esModule",{value:!0}),e.provideSelectionRanges=e.SmartSelectController=void 0;class o{constructor(w,E){this.index=w,this.ranges=E}mov(w){const E=this.index+(w?1:-1);if(E<0||E>=this.ranges.length)return this;const I=new o(E,this.ranges);return I.ranges[E].equalsRange(this.ranges[this.index])?I.mov(w):I}}let d=c=class{static get(w){return w.getContribution(c.ID)}constructor(w,E){this._editor=w,this._languageFeaturesService=E,this._ignoreSelection=!1}dispose(){var w;(w=this._selectionListener)===null||w===void 0||w.dispose()}run(w){return we(this,void 0,void 0,function*(){if(!this._editor.hasModel())return;const E=this._editor.getSelections(),I=this._editor.getModel();if(this._state||(yield v(this._languageFeaturesService.selectionRangeProvider,I,E.map(P=>P.getPosition()),this._editor.getOption(111),k.CancellationToken.None).then(P=>{var x;if(!(!L.isNonEmptyArray(P)||P.length!==E.length)&&!(!this._editor.hasModel()||!L.equals(this._editor.getSelections(),E,(T,A)=>T.equalsSelection(A)))){for(let T=0;T<P.length;T++)P[T]=P[T].filter(A=>A.containsPosition(E[T].getStartPosition())&&A.containsPosition(E[T].getEndPosition())),P[T].unshift(E[T]);this._state=P.map(T=>new o(0,T)),(x=this._selectionListener)===null||x===void 0||x.dispose(),this._selectionListener=this._editor.onDidChangeCursorPosition(()=>{var T;this._ignoreSelection||((T=this._selectionListener)===null||T===void 0||T.dispose(),this._state=void 0)})}})),!this._state)return;this._state=this._state.map(P=>P.mov(w));const M=this._state.map(P=>_.Selection.fromPositions(P.ranges[P.index].getStartPosition(),P.ranges[P.index].getEndPosition()));this._ignoreSelection=!0;try{this._editor.setSelections(M)}finally{this._ignoreSelection=!1}})}};e.SmartSelectController=d,d.ID="editor.contrib.smartSelectController",e.SmartSelectController=d=c=ke([fe(1,a.ILanguageFeaturesService)],d);class l extends D.EditorAction{constructor(w,E){super(E),this._forward=w}run(w,E){return we(this,void 0,void 0,function*(){const I=d.get(E);I&&(yield I.run(this._forward))})}}class p extends l{constructor(){super(!0,{id:"editor.action.smartSelect.expand",label:i.localize(0,null),alias:"Expand Selection",precondition:void 0,kbOpts:{kbExpr:g.EditorContextKeys.editorTextFocus,primary:1553,mac:{primary:3345,secondary:[1297]},weight:100},menuOpts:{menuId:n.MenuId.MenubarSelectionMenu,group:"1_basic",title:i.localize(1,null),order:2}})}}t.CommandsRegistry.registerCommandAlias("editor.action.smartSelect.grow","editor.action.smartSelect.expand");class m extends l{constructor(){super(!1,{id:"editor.action.smartSelect.shrink",label:i.localize(2,null),alias:"Shrink Selection",precondition:void 0,kbOpts:{kbExpr:g.EditorContextKeys.editorTextFocus,primary:1551,mac:{primary:3343,secondary:[1295]},weight:100},menuOpts:{menuId:n.MenuId.MenubarSelectionMenu,group:"1_basic",title:i.localize(3,null),order:3}})}}(0,D.registerEditorContribution)(d.ID,d,4),(0,D.registerEditorAction)(p),(0,D.registerEditorAction)(m);function v(b,w,E,I,M){return we(this,void 0,void 0,function*(){const P=b.all(w).concat(new s.WordSelectionRangeProvider(I.selectSubwords));P.length===1&&P.unshift(new C.BracketSelectionRangeProvider);const x=[],T=[];for(const A of P)x.push(Promise.resolve(A.provideSelectionRanges(w,E,M)).then(N=>{if(L.isNonEmptyArray(N)&&N.length===E.length)for(let F=0;F<E.length;F++){T[F]||(T[F]=[]);for(const O of N[F])f.Range.isIRange(O.range)&&f.Range.containsPosition(O.range,E[F])&&T[F].push(f.Range.lift(O.range))}},y.onUnexpectedExternalError));return yield Promise.all(x),T.map(A=>{if(A.length===0)return[];A.sort((W,U)=>S.Position.isBefore(W.getStartPosition(),U.getStartPosition())?1:S.Position.isBefore(U.getStartPosition(),W.getStartPosition())||S.Position.isBefore(W.getEndPosition(),U.getEndPosition())?-1:S.Position.isBefore(U.getEndPosition(),W.getEndPosition())?1:0);const N=[];let F;for(const W of A)(!F||f.Range.containsRange(W,F)&&!f.Range.equalsRange(W,F))&&(N.push(W),F=W);if(!I.selectLeadingAndTrailingWhitespace)return N;const O=[N[0]];for(let W=1;W<N.length;W++){const U=N[W-1],j=N[W];if(j.startLineNumber!==U.startLineNumber||j.endLineNumber!==U.endLineNumber){const R=new f.Range(U.startLineNumber,w.getLineFirstNonWhitespaceColumn(U.startLineNumber),U.endLineNumber,w.getLineLastNonWhitespaceColumn(U.endLineNumber));R.containsRange(U)&&!R.equalsRange(U)&&j.containsRange(R)&&!j.equalsRange(R)&&O.push(R);const K=new f.Range(U.startLineNumber,1,U.endLineNumber,w.getLineMaxColumn(U.endLineNumber));K.containsRange(U)&&!K.equalsRange(R)&&j.containsRange(K)&&!j.equalsRange(K)&&O.push(K)}O.push(j)}return O})})}e.provideSelectionRanges=v,t.CommandsRegistry.registerCommand("_executeSelectionRangeProvider",function(b,...w){return we(this,void 0,void 0,function*(){const[E,I]=w;(0,h.assertType)(r.URI.isUri(E));const M=b.get(a.ILanguageFeaturesService).selectionRangeProvider,P=yield b.get(u.ITextModelService).createModelReference(E);try{return v(M,P.object.textEditorModel,I,{selectLeadingAndTrailingWhitespace:!0,selectSubwords:!0},k.CancellationToken.None)}finally{P.dispose()}})})}),define(ne[811],se([1,0,19,72,46,2,16,33,5,18,300,135,347,301,96,8]),function(Q,e,L,k,y,D,S,f,_,g,C,s,i,n,t,a){"use strict";var u;Object.defineProperty(e,"__esModule",{value:!0}),e.SuggestInlineCompletions=void 0;class h{constructor(l,p,m,v,b,w){this.range=l,this.insertText=p,this.filterText=m,this.additionalTextEdits=v,this.command=b,this.completion=w}}let r=class extends D.RefCountedDisposable{constructor(l,p,m,v,b,w){super(b.disposable),this.model=l,this.line=p,this.word=m,this.completionModel=v,this._suggestMemoryService=w}canBeReused(l,p,m){return this.model===l&&this.line===p&&this.word.word.length>0&&this.word.startColumn===m.startColumn&&this.word.endColumn<m.endColumn&&this.completionModel.getIncompleteProvider().size===0}get items(){var l;const p=[],{items:m}=this.completionModel,v=this._suggestMemoryService.select(this.model,{lineNumber:this.line,column:this.word.endColumn+this.completionModel.lineContext.characterCountDelta},m),b=y.Iterable.slice(m,v),w=y.Iterable.slice(m,0,v);let E=5;for(const I of y.Iterable.concat(b,w)){if(I.score===k.FuzzyScore.Default)continue;const M=new _.Range(I.editStart.lineNumber,I.editStart.column,I.editInsertEnd.lineNumber,I.editInsertEnd.column+this.completionModel.lineContext.characterCountDelta),P=I.completion.insertTextRules&&I.completion.insertTextRules&4?{snippet:I.completion.insertText}:I.completion.insertText;p.push(new h(M,P,(l=I.filterTextLow)!==null&&l!==void 0?l:I.labelLow,I.completion.additionalTextEdits,I.completion.command,I)),E-->=0&&I.resolve(L.CancellationToken.None)}return p}};r=ke([fe(5,i.ISuggestMemoryService)],r);let c=class{constructor(l,p,m,v){this._getEditorOption=l,this._languageFeatureService=p,this._clipboardService=m,this._suggestMemoryService=v}provideInlineCompletions(l,p,m,v){var b;return we(this,void 0,void 0,function*(){if(m.selectedSuggestionInfo)return;const w=this._getEditorOption(87,l);if(s.QuickSuggestionsOptions.isAllOff(w))return;l.tokenization.tokenizeIfCheap(p.lineNumber);const E=l.tokenization.getLineTokens(p.lineNumber),I=E.getStandardTokenType(E.findTokenIndexAtOffset(Math.max(p.column-1-1,0)));if(s.QuickSuggestionsOptions.valueFor(w,I)!=="inline")return;let M=l.getWordAtPosition(p),P;if(M?.word||(P=this._getTriggerCharacterInfo(l,p)),!M?.word&&!P||(M||(M=l.getWordUntilPosition(p)),M.endColumn!==p.column))return;let x;const T=l.getValueInRange(new _.Range(p.lineNumber,1,p.lineNumber,p.column));if(!P&&(!((b=this._lastResult)===null||b===void 0)&&b.canBeReused(l,p.lineNumber,M))){const A=new C.LineContext(T,p.column-this._lastResult.word.endColumn);this._lastResult.completionModel.lineContext=A,this._lastResult.acquire(),x=this._lastResult}else{const A=yield(0,s.provideSuggestionItems)(this._languageFeatureService.completionProvider,l,p,new s.CompletionOptions(void 0,void 0,P?.providers),P&&{triggerKind:1,triggerCharacter:P.ch},v);let N;A.needsClipboard&&(N=yield this._clipboardService.readText());const F=new C.CompletionModel(A.items,p.column,new C.LineContext(T,0),n.WordDistance.None,this._getEditorOption(116,l),this._getEditorOption(110,l),{boostFullMatch:!1,firstMatchCanBeWeak:!1},N);x=new r(l,p.lineNumber,M,F,A,this._suggestMemoryService)}return this._lastResult=x,x})}handleItemDidShow(l,p){p.completion.resolve(L.CancellationToken.None)}freeInlineCompletions(l){l.release()}_getTriggerCharacterInfo(l,p){var m;const v=l.getValueInRange(_.Range.fromPositions({lineNumber:p.lineNumber,column:p.column-1},p)),b=new Set;for(const w of this._languageFeatureService.completionProvider.all(l))!((m=w.triggerCharacters)===null||m===void 0)&&m.includes(v)&&b.add(w);if(b.size!==0)return{providers:b,ch:v}}};e.SuggestInlineCompletions=c,e.SuggestInlineCompletions=c=ke([fe(1,g.ILanguageFeaturesService),fe(2,t.IClipboardService),fe(3,i.ISuggestMemoryService)],c);let o=u=class{constructor(l,p,m,v){if(++u._counter===1){const b=v.createInstance(c,(w,E)=>{var I;return((I=m.listCodeEditors().find(P=>P.getModel()===E))!==null&&I!==void 0?I:l).getOption(w)});u._disposable=p.inlineCompletionsProvider.register("*",b)}}dispose(){var l;--u._counter===0&&((l=u._disposable)===null||l===void 0||l.dispose(),u._disposable=void 0)}};o._counter=0,o=u=ke([fe(1,g.ILanguageFeaturesService),fe(2,f.ICodeEditorService),fe(3,a.IInstantiationService)],o),(0,S.registerEditorContribution)("suggest.inlineCompletionsProvider",o,0)}),define(ne[812],se([1,0,58,16,708]),function(Q,e,L,k,y){"use strict";Object.defineProperty(e,"__esModule",{value:!0});class D extends k.EditorAction{constructor(){super({id:"editor.action.forceRetokenize",label:y.localize(0,null),alias:"Developer: Force Retokenize",precondition:void 0})}run(f,_){if(!_.hasModel())return;const g=_.getModel();g.tokenization.resetTokenization();const C=new L.StopWatch;g.tokenization.forceTokenization(g.getLineCount()),C.stop(),console.log(`tokenization took ${C.elapsed()}`)}}(0,k.registerEditorAction)(D)}),define(ne[813],se([1,0,2,45,16,33,710,156]),function(Q,e,L,k,y,D,S,f){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.UnusualLineTerminatorsDetector=void 0;const _="ignoreUnusualLineTerminators";function g(i,n,t){i.setModelProperty(n.uri,_,t)}function C(i,n){return i.getModelProperty(n.uri,_)}let s=class extends L.Disposable{constructor(n,t,a){super(),this._editor=n,this._dialogService=t,this._codeEditorService=a,this._isPresentingDialog=!1,this._config=this._editor.getOption(124),this._register(this._editor.onDidChangeConfiguration(u=>{u.hasChanged(124)&&(this._config=this._editor.getOption(124),this._checkForUnusualLineTerminators())})),this._register(this._editor.onDidChangeModel(()=>{this._checkForUnusualLineTerminators()})),this._register(this._editor.onDidChangeModelContent(u=>{u.isUndoing||this._checkForUnusualLineTerminators()})),this._checkForUnusualLineTerminators()}_checkForUnusualLineTerminators(){return we(this,void 0,void 0,function*(){if(this._config==="off"||!this._editor.hasModel())return;const n=this._editor.getModel();if(!n.mightContainUnusualLineTerminators()||C(this._codeEditorService,n)===!0||this._editor.getOption(89))return;if(this._config==="auto"){n.removeUnusualLineTerminators(this._editor.getSelections());return}if(this._isPresentingDialog)return;let a;try{this._isPresentingDialog=!0,a=yield this._dialogService.confirm({title:S.localize(0,null),message:S.localize(1,null),detail:S.localize(2,null,(0,k.basename)(n.uri)),primaryButton:S.localize(3,null),cancelButton:S.localize(4,null)})}finally{this._isPresentingDialog=!1}if(!a.confirmed){g(this._codeEditorService,n,!0);return}n.removeUnusualLineTerminators(this._editor.getSelections())})}};e.UnusualLineTerminatorsDetector=s,s.ID="editor.contrib.unusualLineTerminatorsDetector",e.UnusualLineTerminatorsDetector=s=ke([fe(1,f.IDialogService),fe(2,D.ICodeEditorService)],s),(0,y.registerEditorContribution)(s.ID,s,1)}),define(ne[353],se([1,0,16,123,36,74,178,146,12,5,24,21,32,713,84,15,238]),function(Q,e,L,k,y,D,S,f,_,g,C,s,i,n,t,a,u){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.DeleteInsideWord=e.DeleteWordRight=e.DeleteWordEndRight=e.DeleteWordStartRight=e.DeleteWordLeft=e.DeleteWordEndLeft=e.DeleteWordStartLeft=e.DeleteWordRightCommand=e.DeleteWordLeftCommand=e.DeleteWordCommand=e.CursorWordAccessibilityRightSelect=e.CursorWordAccessibilityRight=e.CursorWordRightSelect=e.CursorWordEndRightSelect=e.CursorWordStartRightSelect=e.CursorWordRight=e.CursorWordEndRight=e.CursorWordStartRight=e.CursorWordAccessibilityLeftSelect=e.CursorWordAccessibilityLeft=e.CursorWordLeftSelect=e.CursorWordEndLeftSelect=e.CursorWordStartLeftSelect=e.CursorWordLeft=e.CursorWordEndLeft=e.CursorWordStartLeft=e.WordRightCommand=e.WordLeftCommand=e.MoveWordCommand=void 0;class h extends L.EditorCommand{constructor(H){super(H),this._inSelectionMode=H.inSelectionMode,this._wordNavigationType=H.wordNavigationType}runEditorCommand(H,B,V){if(!B.hasModel())return;const Y=(0,f.getMapForWordSeparators)(B.getOption(128)),ie=B.getModel(),ce=B.getSelections().map(de=>{const he=new _.Position(de.positionLineNumber,de.positionColumn),ue=this._move(Y,ie,he,this._wordNavigationType);return this._moveTo(de,ue,this._inSelectionMode)});if(ie.pushStackElement(),B._getViewModel().setCursorStates("moveWordCommand",3,ce.map(de=>D.CursorState.fromModelSelection(de))),ce.length===1){const de=new _.Position(ce[0].positionLineNumber,ce[0].positionColumn);B.revealPosition(de,0)}}_moveTo(H,B,V){return V?new C.Selection(H.selectionStartLineNumber,H.selectionStartColumn,B.lineNumber,B.column):new C.Selection(B.lineNumber,B.column,B.lineNumber,B.column)}}e.MoveWordCommand=h;class r extends h{_move(H,B,V,Y){return S.WordOperations.moveWordLeft(H,B,V,Y)}}e.WordLeftCommand=r;class c extends h{_move(H,B,V,Y){return S.WordOperations.moveWordRight(H,B,V,Y)}}e.WordRightCommand=c;class o extends r{constructor(){super({inSelectionMode:!1,wordNavigationType:0,id:"cursorWordStartLeft",precondition:void 0})}}e.CursorWordStartLeft=o;class d extends r{constructor(){super({inSelectionMode:!1,wordNavigationType:2,id:"cursorWordEndLeft",precondition:void 0})}}e.CursorWordEndLeft=d;class l extends r{constructor(){var H;super({inSelectionMode:!1,wordNavigationType:1,id:"cursorWordLeft",precondition:void 0,kbOpts:{kbExpr:a.ContextKeyExpr.and(s.EditorContextKeys.textInputFocus,(H=a.ContextKeyExpr.and(t.CONTEXT_ACCESSIBILITY_MODE_ENABLED,u.IsWindowsContext))===null||H===void 0?void 0:H.negate()),primary:2063,mac:{primary:527},weight:100}})}}e.CursorWordLeft=l;class p extends r{constructor(){super({inSelectionMode:!0,wordNavigationType:0,id:"cursorWordStartLeftSelect",precondition:void 0})}}e.CursorWordStartLeftSelect=p;class m extends r{constructor(){super({inSelectionMode:!0,wordNavigationType:2,id:"cursorWordEndLeftSelect",precondition:void 0})}}e.CursorWordEndLeftSelect=m;class v extends r{constructor(){var H;super({inSelectionMode:!0,wordNavigationType:1,id:"cursorWordLeftSelect",precondition:void 0,kbOpts:{kbExpr:a.ContextKeyExpr.and(s.EditorContextKeys.textInputFocus,(H=a.ContextKeyExpr.and(t.CONTEXT_ACCESSIBILITY_MODE_ENABLED,u.IsWindowsContext))===null||H===void 0?void 0:H.negate()),primary:3087,mac:{primary:1551},weight:100}})}}e.CursorWordLeftSelect=v;class b extends r{constructor(){super({inSelectionMode:!1,wordNavigationType:3,id:"cursorWordAccessibilityLeft",precondition:void 0})}_move(H,B,V,Y){return super._move((0,f.getMapForWordSeparators)(y.EditorOptions.wordSeparators.defaultValue),B,V,Y)}}e.CursorWordAccessibilityLeft=b;class w extends r{constructor(){super({inSelectionMode:!0,wordNavigationType:3,id:"cursorWordAccessibilityLeftSelect",precondition:void 0})}_move(H,B,V,Y){return super._move((0,f.getMapForWordSeparators)(y.EditorOptions.wordSeparators.defaultValue),B,V,Y)}}e.CursorWordAccessibilityLeftSelect=w;class E extends c{constructor(){super({inSelectionMode:!1,wordNavigationType:0,id:"cursorWordStartRight",precondition:void 0})}}e.CursorWordStartRight=E;class I extends c{constructor(){var H;super({inSelectionMode:!1,wordNavigationType:2,id:"cursorWordEndRight",precondition:void 0,kbOpts:{kbExpr:a.ContextKeyExpr.and(s.EditorContextKeys.textInputFocus,(H=a.ContextKeyExpr.and(t.CONTEXT_ACCESSIBILITY_MODE_ENABLED,u.IsWindowsContext))===null||H===void 0?void 0:H.negate()),primary:2065,mac:{primary:529},weight:100}})}}e.CursorWordEndRight=I;class M extends c{constructor(){super({inSelectionMode:!1,wordNavigationType:2,id:"cursorWordRight",precondition:void 0})}}e.CursorWordRight=M;class P extends c{constructor(){super({inSelectionMode:!0,wordNavigationType:0,id:"cursorWordStartRightSelect",precondition:void 0})}}e.CursorWordStartRightSelect=P;class x extends c{constructor(){var H;super({inSelectionMode:!0,wordNavigationType:2,id:"cursorWordEndRightSelect",precondition:void 0,kbOpts:{kbExpr:a.ContextKeyExpr.and(s.EditorContextKeys.textInputFocus,(H=a.ContextKeyExpr.and(t.CONTEXT_ACCESSIBILITY_MODE_ENABLED,u.IsWindowsContext))===null||H===void 0?void 0:H.negate()),primary:3089,mac:{primary:1553},weight:100}})}}e.CursorWordEndRightSelect=x;class T extends c{constructor(){super({inSelectionMode:!0,wordNavigationType:2,id:"cursorWordRightSelect",precondition:void 0})}}e.CursorWordRightSelect=T;class A extends c{constructor(){super({inSelectionMode:!1,wordNavigationType:3,id:"cursorWordAccessibilityRight",precondition:void 0})}_move(H,B,V,Y){return super._move((0,f.getMapForWordSeparators)(y.EditorOptions.wordSeparators.defaultValue),B,V,Y)}}e.CursorWordAccessibilityRight=A;class N extends c{constructor(){super({inSelectionMode:!0,wordNavigationType:3,id:"cursorWordAccessibilityRightSelect",precondition:void 0})}_move(H,B,V,Y){return super._move((0,f.getMapForWordSeparators)(y.EditorOptions.wordSeparators.defaultValue),B,V,Y)}}e.CursorWordAccessibilityRightSelect=N;class F extends L.EditorCommand{constructor(H){super(H),this._whitespaceHeuristics=H.whitespaceHeuristics,this._wordNavigationType=H.wordNavigationType}runEditorCommand(H,B,V){const Y=H.get(i.ILanguageConfigurationService);if(!B.hasModel())return;const ie=(0,f.getMapForWordSeparators)(B.getOption(128)),ae=B.getModel(),ce=B.getSelections(),de=B.getOption(6),he=B.getOption(10),ue=Y.getLanguageConfiguration(ae.getLanguageId()).getAutoClosingPairs(),te=B._getViewModel(),q=ce.map(z=>{const ee=this._delete({wordSeparators:ie,model:ae,selection:z,whitespaceHeuristics:this._whitespaceHeuristics,autoClosingDelete:B.getOption(8),autoClosingBrackets:de,autoClosingQuotes:he,autoClosingPairs:ue,autoClosedCharacters:te.getCursorAutoClosedCharacters()},this._wordNavigationType);return new k.ReplaceCommand(ee,"")});B.pushUndoStop(),B.executeCommands(this.id,q),B.pushUndoStop()}}e.DeleteWordCommand=F;class O extends F{_delete(H,B){const V=S.WordOperations.deleteWordLeft(H,B);return V||new g.Range(1,1,1,1)}}e.DeleteWordLeftCommand=O;class W extends F{_delete(H,B){const V=S.WordOperations.deleteWordRight(H,B);if(V)return V;const Y=H.model.getLineCount(),ie=H.model.getLineMaxColumn(Y);return new g.Range(Y,ie,Y,ie)}}e.DeleteWordRightCommand=W;class U extends O{constructor(){super({whitespaceHeuristics:!1,wordNavigationType:0,id:"deleteWordStartLeft",precondition:s.EditorContextKeys.writable})}}e.DeleteWordStartLeft=U;class j extends O{constructor(){super({whitespaceHeuristics:!1,wordNavigationType:2,id:"deleteWordEndLeft",precondition:s.EditorContextKeys.writable})}}e.DeleteWordEndLeft=j;class R extends O{constructor(){super({whitespaceHeuristics:!0,wordNavigationType:0,id:"deleteWordLeft",precondition:s.EditorContextKeys.writable,kbOpts:{kbExpr:s.EditorContextKeys.textInputFocus,primary:2049,mac:{primary:513},weight:100}})}}e.DeleteWordLeft=R;class K extends W{constructor(){super({whitespaceHeuristics:!1,wordNavigationType:0,id:"deleteWordStartRight",precondition:s.EditorContextKeys.writable})}}e.DeleteWordStartRight=K;class G extends W{constructor(){super({whitespaceHeuristics:!1,wordNavigationType:2,id:"deleteWordEndRight",precondition:s.EditorContextKeys.writable})}}e.DeleteWordEndRight=G;class Z extends W{constructor(){super({whitespaceHeuristics:!0,wordNavigationType:2,id:"deleteWordRight",precondition:s.EditorContextKeys.writable,kbOpts:{kbExpr:s.EditorContextKeys.textInputFocus,primary:2068,mac:{primary:532},weight:100}})}}e.DeleteWordRight=Z;class J extends L.EditorAction{constructor(){super({id:"deleteInsideWord",precondition:s.EditorContextKeys.writable,label:n.localize(0,null),alias:"Delete Word"})}run(H,B,V){if(!B.hasModel())return;const Y=(0,f.getMapForWordSeparators)(B.getOption(128)),ie=B.getModel(),ce=B.getSelections().map(de=>{const he=S.WordOperations.deleteInsideWord(Y,ie,de);return new k.ReplaceCommand(he,"")});B.pushUndoStop(),B.executeCommands(this.id,ce),B.pushUndoStop()}}e.DeleteInsideWord=J,(0,L.registerEditorCommand)(new o),(0,L.registerEditorCommand)(new d),(0,L.registerEditorCommand)(new l),(0,L.registerEditorCommand)(new p),(0,L.registerEditorCommand)(new m),(0,L.registerEditorCommand)(new v),(0,L.registerEditorCommand)(new E),(0,L.registerEditorCommand)(new I),(0,L.registerEditorCommand)(new M),(0,L.registerEditorCommand)(new P),(0,L.registerEditorCommand)(new x),(0,L.registerEditorCommand)(new T),(0,L.registerEditorCommand)(new b),(0,L.registerEditorCommand)(new w),(0,L.registerEditorCommand)(new A),(0,L.registerEditorCommand)(new N),(0,L.registerEditorCommand)(new U),(0,L.registerEditorCommand)(new j),(0,L.registerEditorCommand)(new R),(0,L.registerEditorCommand)(new K),(0,L.registerEditorCommand)(new G),(0,L.registerEditorCommand)(new Z),(0,L.registerEditorAction)(J)}),define(ne[814],se([1,0,16,178,5,21,353,27]),function(Q,e,L,k,y,D,S,f){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.CursorWordPartRightSelect=e.CursorWordPartRight=e.WordPartRightCommand=e.CursorWordPartLeftSelect=e.CursorWordPartLeft=e.WordPartLeftCommand=e.DeleteWordPartRight=e.DeleteWordPartLeft=void 0;class _ extends S.DeleteWordCommand{constructor(){super({whitespaceHeuristics:!0,wordNavigationType:0,id:"deleteWordPartLeft",precondition:D.EditorContextKeys.writable,kbOpts:{kbExpr:D.EditorContextKeys.textInputFocus,primary:0,mac:{primary:769},weight:100}})}_delete(h,r){const c=k.WordPartOperations.deleteWordPartLeft(h);return c||new y.Range(1,1,1,1)}}e.DeleteWordPartLeft=_;class g extends S.DeleteWordCommand{constructor(){super({whitespaceHeuristics:!0,wordNavigationType:2,id:"deleteWordPartRight",precondition:D.EditorContextKeys.writable,kbOpts:{kbExpr:D.EditorContextKeys.textInputFocus,primary:0,mac:{primary:788},weight:100}})}_delete(h,r){const c=k.WordPartOperations.deleteWordPartRight(h);if(c)return c;const o=h.model.getLineCount(),d=h.model.getLineMaxColumn(o);return new y.Range(o,d,o,d)}}e.DeleteWordPartRight=g;class C extends S.MoveWordCommand{_move(h,r,c,o){return k.WordPartOperations.moveWordPartLeft(h,r,c)}}e.WordPartLeftCommand=C;class s extends C{constructor(){super({inSelectionMode:!1,wordNavigationType:0,id:"cursorWordPartLeft",precondition:void 0,kbOpts:{kbExpr:D.EditorContextKeys.textInputFocus,primary:0,mac:{primary:783},weight:100}})}}e.CursorWordPartLeft=s,f.CommandsRegistry.registerCommandAlias("cursorWordPartStartLeft","cursorWordPartLeft");class i extends C{constructor(){super({inSelectionMode:!0,wordNavigationType:0,id:"cursorWordPartLeftSelect",precondition:void 0,kbOpts:{kbExpr:D.EditorContextKeys.textInputFocus,primary:0,mac:{primary:1807},weight:100}})}}e.CursorWordPartLeftSelect=i,f.CommandsRegistry.registerCommandAlias("cursorWordPartStartLeftSelect","cursorWordPartLeftSelect");class n extends S.MoveWordCommand{_move(h,r,c,o){return k.WordPartOperations.moveWordPartRight(h,r,c)}}e.WordPartRightCommand=n;class t extends n{constructor(){super({inSelectionMode:!1,wordNavigationType:2,id:"cursorWordPartRight",precondition:void 0,kbOpts:{kbExpr:D.EditorContextKeys.textInputFocus,primary:0,mac:{primary:785},weight:100}})}}e.CursorWordPartRight=t;class a extends n{constructor(){super({inSelectionMode:!0,wordNavigationType:2,id:"cursorWordPartRightSelect",precondition:void 0,kbOpts:{kbExpr:D.EditorContextKeys.textInputFocus,primary:0,mac:{primary:1809},weight:100}})}}e.CursorWordPartRightSelect=a,(0,L.registerEditorCommand)(new _),(0,L.registerEditorCommand)(new g),(0,L.registerEditorCommand)(new s),(0,L.registerEditorCommand)(new i),(0,L.registerEditorCommand)(new t),(0,L.registerEditorCommand)(new a)}),define(ne[815],se([1,0,7,2,16,17,468]),function(Q,e,L,k,y,D){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.IPadShowKeyboard=void 0;class S extends k.Disposable{constructor(g){super(),this.editor=g,this.widget=null,D.isIOS&&(this._register(g.onDidChangeConfiguration(()=>this.update())),this.update())}update(){const g=!this.editor.getOption(89);!this.widget&&g?this.widget=new f(this.editor):this.widget&&!g&&(this.widget.dispose(),this.widget=null)}dispose(){super.dispose(),this.widget&&(this.widget.dispose(),this.widget=null)}}e.IPadShowKeyboard=S,S.ID="editor.contrib.iPadShowKeyboard";class f extends k.Disposable{constructor(g){super(),this.editor=g,this._domNode=document.createElement("textarea"),this._domNode.className="iPadShowKeyboard",this._register(L.addDisposableListener(this._domNode,"touchstart",C=>{this.editor.focus()})),this._register(L.addDisposableListener(this._domNode,"focus",C=>{this.editor.focus()})),this.editor.addOverlayWidget(this)}dispose(){this.editor.removeOverlayWidget(this),super.dispose()}getId(){return f.ID}getDomNode(){return this._domNode}getPosition(){return{preference:1}}}f.ID="editor.contrib.ShowKeyboardWidget",(0,y.registerEditorContribution)(S.ID,S,3)}),define(ne[816],se([1,0,7,38,2,16,29,124,154,41,133,94,469]),function(Q,e,L,k,y,D,S,f,_,g,C,s){"use strict";var i;Object.defineProperty(e,"__esModule",{value:!0});let n=i=class extends y.Disposable{static get(c){return c.getContribution(i.ID)}constructor(c,o,d){super(),this._editor=c,this._languageService=d,this._widget=null,this._register(this._editor.onDidChangeModel(l=>this.stop())),this._register(this._editor.onDidChangeModelLanguage(l=>this.stop())),this._register(S.TokenizationRegistry.onDidChange(l=>this.stop())),this._register(this._editor.onKeyUp(l=>l.keyCode===9&&this.stop()))}dispose(){this.stop(),super.dispose()}launch(){this._widget||this._editor.hasModel()&&(this._widget=new h(this._editor,this._languageService))}stop(){this._widget&&(this._widget.dispose(),this._widget=null)}};n.ID="editor.contrib.inspectTokens",n=i=ke([fe(1,C.IStandaloneThemeService),fe(2,g.ILanguageService)],n);class t extends D.EditorAction{constructor(){super({id:"editor.action.inspectTokens",label:s.InspectTokensNLS.inspectTokensAction,alias:"Developer: Inspect Tokens",precondition:void 0})}run(c,o){const d=n.get(o);d?.launch()}}function a(r){let c="";for(let o=0,d=r.length;o<d;o++){const l=r.charCodeAt(o);switch(l){case 9:c+="\u2192";break;case 32:c+="\xB7";break;default:c+=String.fromCharCode(l)}}return c}function u(r,c){const o=S.TokenizationRegistry.get(c);if(o)return o;const d=r.encodeLanguageId(c);return{getInitialState:()=>_.NullState,tokenize:(l,p,m)=>(0,_.nullTokenize)(c,m),tokenizeEncoded:(l,p,m)=>(0,_.nullTokenizeEncoded)(d,m)}}class h extends y.Disposable{constructor(c,o){super(),this.allowEditorOverflow=!0,this._editor=c,this._languageService=o,this._model=this._editor.getModel(),this._domNode=document.createElement("div"),this._domNode.className="tokens-inspect-widget",this._tokenizationSupport=u(this._languageService.languageIdCodec,this._model.getLanguageId()),this._compute(this._editor.getPosition()),this._register(this._editor.onDidChangeCursorPosition(d=>this._compute(this._editor.getPosition()))),this._editor.addContentWidget(this)}dispose(){this._editor.removeContentWidget(this),super.dispose()}getId(){return h._ID}_compute(c){const o=this._getTokensAtLine(c.lineNumber);let d=0;for(let b=o.tokens1.length-1;b>=0;b--){const w=o.tokens1[b];if(c.column-1>=w.offset){d=b;break}}let l=0;for(let b=o.tokens2.length>>>1;b>=0;b--)if(c.column-1>=o.tokens2[b<<1]){l=b;break}const p=this._model.getLineContent(c.lineNumber);let m="";if(d<o.tokens1.length){const b=o.tokens1[d].offset,w=d+1<o.tokens1.length?o.tokens1[d+1].offset:p.length;m=p.substring(b,w)}(0,L.reset)(this._domNode,(0,L.$)("h2.tm-token",void 0,a(m),(0,L.$)("span.tm-token-length",void 0,`${m.length} ${m.length===1?"char":"chars"}`))),(0,L.append)(this._domNode,(0,L.$)("hr.tokens-inspect-separator",{style:"clear:both"}));const v=(l<<1)+1<o.tokens2.length?this._decodeMetadata(o.tokens2[(l<<1)+1]):null;(0,L.append)(this._domNode,(0,L.$)("table.tm-metadata-table",void 0,(0,L.$)("tbody",void 0,(0,L.$)("tr",void 0,(0,L.$)("td.tm-metadata-key",void 0,"language"),(0,L.$)("td.tm-metadata-value",void 0,`${v?v.languageId:"-?-"}`)),(0,L.$)("tr",void 0,(0,L.$)("td.tm-metadata-key",void 0,"token type"),(0,L.$)("td.tm-metadata-value",void 0,`${v?this._tokenTypeToString(v.tokenType):"-?-"}`)),(0,L.$)("tr",void 0,(0,L.$)("td.tm-metadata-key",void 0,"font style"),(0,L.$)("td.tm-metadata-value",void 0,`${v?this._fontStyleToString(v.fontStyle):"-?-"}`)),(0,L.$)("tr",void 0,(0,L.$)("td.tm-metadata-key",void 0,"foreground"),(0,L.$)("td.tm-metadata-value",void 0,`${v?k.Color.Format.CSS.formatHex(v.foreground):"-?-"}`)),(0,L.$)("tr",void 0,(0,L.$)("td.tm-metadata-key",void 0,"background"),(0,L.$)("td.tm-metadata-value",void 0,`${v?k.Color.Format.CSS.formatHex(v.background):"-?-"}`))))),(0,L.append)(this._domNode,(0,L.$)("hr.tokens-inspect-separator")),d<o.tokens1.length&&(0,L.append)(this._domNode,(0,L.$)("span.tm-token-type",void 0,o.tokens1[d].type)),this._editor.layoutContentWidget(this)}_decodeMetadata(c){const o=S.TokenizationRegistry.getColorMap(),d=f.TokenMetadata.getLanguageId(c),l=f.TokenMetadata.getTokenType(c),p=f.TokenMetadata.getFontStyle(c),m=f.TokenMetadata.getForeground(c),v=f.TokenMetadata.getBackground(c);return{languageId:this._languageService.languageIdCodec.decodeLanguageId(d),tokenType:l,fontStyle:p,foreground:o[m],background:o[v]}}_tokenTypeToString(c){switch(c){case 0:return"Other";case 1:return"Comment";case 2:return"String";case 3:return"RegEx";default:return"??"}}_fontStyleToString(c){let o="";return c&1&&(o+="italic "),c&2&&(o+="bold "),c&4&&(o+="underline "),c&8&&(o+="strikethrough "),o.length===0&&(o="---"),o}_getTokensAtLine(c){const o=this._getStateBeforeLine(c),d=this._tokenizationSupport.tokenize(this._model.getLineContent(c),!0,o),l=this._tokenizationSupport.tokenizeEncoded(this._model.getLineContent(c),!0,o);return{startState:o,tokens1:d.tokens,tokens2:l.tokens,endState:d.endState}}_getStateBeforeLine(c){let o=this._tokenizationSupport.getInitialState();for(let d=1;d<c;d++)o=this._tokenizationSupport.tokenize(this._model.getLineContent(d),!0,o).endState;return o}getDomNode(){return this._domNode}getPosition(){return{position:this._editor.getPosition(),preference:[2,1]}}}h._ID="editor.contrib.inspectTokensWidget",(0,D.registerEditorContribution)(n.ID,n,4),(0,D.registerEditorAction)(t)}),define(ne[817],se([1,0,7,60,584,39,14,2,718,30,15,57,34,79]),function(Q,e,L,k,y,D,S,f,_,g,C,s,i,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.WorkbenchToolBar=void 0;let t=class extends y.ToolBar{constructor(u,h,r,c,o,d,l){super(u,o,Object.assign(Object.assign({getKeyBinding:m=>{var v;return(v=d.lookupKeybinding(m.id))!==null&&v!==void 0?v:void 0}},h),{allowContextMenu:!0,skipTelemetry:typeof h?.telemetrySource=="string"})),this._options=h,this._menuService=r,this._contextKeyService=c,this._contextMenuService=o,this._sessionDisposables=this._store.add(new f.DisposableStore);const p=h?.telemetrySource;p&&this._store.add(this.actionBar.onDidRun(m=>l.publicLog2("workbenchActionExecuted",{id:m.action.id,from:p})))}setActions(u,h=[],r){var c,o,d;this._sessionDisposables.clear();const l=u.slice(),p=h.slice(),m=[];let v=0;const b=[];let w=!1;if(((c=this._options)===null||c===void 0?void 0:c.hiddenItemStrategy)!==-1)for(let E=0;E<l.length;E++){const I=l[E];!(I instanceof g.MenuItemAction)&&!(I instanceof g.SubmenuItemAction)||I.hideActions&&(m.push(I.hideActions.toggle),I.hideActions.toggle.checked&&v++,I.hideActions.isHidden&&(w=!0,l[E]=void 0,((o=this._options)===null||o===void 0?void 0:o.hiddenItemStrategy)!==0&&(b[E]=I)))}if(((d=this._options)===null||d===void 0?void 0:d.maxNumberOfItems)!==void 0){let E=0;for(let I=0;I<l.length;I++){const M=l[I];M&&++E>=this._options.maxNumberOfItems&&(l[I]=void 0,b[I]=M)}}(0,S.coalesceInPlace)(l),(0,S.coalesceInPlace)(b),super.setActions(l,D.Separator.join(b,p)),m.length>0&&this._sessionDisposables.add((0,L.addDisposableListener)(this.getElement(),"contextmenu",E=>{var I,M,P,x,T;const A=new k.StandardMouseEvent(E),N=this.getItemAction(A.target);if(!N)return;A.preventDefault(),A.stopPropagation();let F=!1;if(v===1&&((I=this._options)===null||I===void 0?void 0:I.hiddenItemStrategy)===0){F=!0;for(let U=0;U<m.length;U++)if(m[U].checked){m[U]=(0,D.toAction)({id:N.id,label:N.label,checked:!0,enabled:!1,run(){}});break}}let O;if(!F&&(N instanceof g.MenuItemAction||N instanceof g.SubmenuItemAction)){if(!N.hideActions)return;O=N.hideActions.hide}else O=(0,D.toAction)({id:"label",label:(0,_.localize)(0,null),enabled:!1,run(){}});const W=D.Separator.join([O],m);!((M=this._options)===null||M===void 0)&&M.resetMenu&&!r&&(r=[this._options.resetMenu]),w&&r&&(W.push(new D.Separator),W.push((0,D.toAction)({id:"resetThisMenu",label:(0,_.localize)(1,null),run:()=>this._menuService.resetHiddenStates(r)}))),this._contextMenuService.showContextMenu({getAnchor:()=>A,getActions:()=>W,menuId:(P=this._options)===null||P===void 0?void 0:P.contextMenu,menuActionOptions:Object.assign({renderShortTitle:!0},(x=this._options)===null||x===void 0?void 0:x.menuOptions),skipTelemetry:typeof((T=this._options)===null||T===void 0?void 0:T.telemetrySource)=="string",contextKeyService:this._contextKeyService})}))}};e.WorkbenchToolBar=t,e.WorkbenchToolBar=t=ke([fe(2,g.IMenuService),fe(3,C.IContextKeyService),fe(4,s.IContextMenuService),fe(5,i.IKeybindingService),fe(6,n.ITelemetryService)],t)}),define(ne[818],se([1,0,564,9,72,2,65,730,27,28,156,8,34,771,87,79]),function(Q,e,L,k,y,D,S,f,_,g,C,s,i,n,t,a){"use strict";var u,h;Object.defineProperty(e,"__esModule",{value:!0}),e.CommandsHistory=e.AbstractCommandsQuickAccessProvider=void 0;let r=u=class extends n.PickerQuickAccessProvider{constructor(d,l,p,m,v,b){super(u.PREFIX,d),this.instantiationService=l,this.keybindingService=p,this.commandService=m,this.telemetryService=v,this.dialogService=b,this.commandsHistory=this._register(this.instantiationService.createInstance(c)),this.options=d}_getPicks(d,l,p,m){var v,b,w,E;return we(this,void 0,void 0,function*(){const I=yield this.getCommandPicks(p);if(p.isCancellationRequested)return[];const M=[];for(const N of I){const F=(v=u.WORD_FILTER(d,N.label))!==null&&v!==void 0?v:void 0,O=N.commandAlias&&(b=u.WORD_FILTER(d,N.commandAlias))!==null&&b!==void 0?b:void 0;F||O?(N.highlights={label:F,detail:this.options.showAlias?O:void 0},M.push(N)):d===N.commandId&&M.push(N)}const P=new Map;for(const N of M){const F=P.get(N.label);F?(N.description=N.commandId,F.description=F.commandId):P.set(N.label,N)}M.sort((N,F)=>{const O=this.commandsHistory.peek(N.commandId),W=this.commandsHistory.peek(F.commandId);if(O&&W)return O>W?-1:1;if(O)return-1;if(W)return 1;if(this.options.suggestedCommandIds){const U=this.options.suggestedCommandIds.has(N.commandId),j=this.options.suggestedCommandIds.has(F.commandId);if(U&&j)return 0;if(U)return-1;if(j)return 1}return N.label.localeCompare(F.label)});const x=[];let T=!1,A=!!this.options.suggestedCommandIds;for(let N=0;N<M.length;N++){const F=M[N];N===0&&this.commandsHistory.peek(F.commandId)&&(x.push({type:"separator",label:(0,f.localize)(0,null)}),T=!0),A&&!this.commandsHistory.peek(F.commandId)&&(!((w=this.options.suggestedCommandIds)===null||w===void 0)&&w.has(F.commandId))&&(x.push({type:"separator",label:(0,f.localize)(1,null)}),T=!0,A=!1),T&&!this.commandsHistory.peek(F.commandId)&&!(!((E=this.options.suggestedCommandIds)===null||E===void 0)&&E.has(F.commandId))&&(x.push({type:"separator",label:(0,f.localize)(2,null)}),T=!1),x.push(this.toCommandPick(F,m))}return this.hasAdditionalCommandPicks(d,p)?{picks:x,additionalPicks:(()=>we(this,void 0,void 0,function*(){const N=yield this.getAdditionalCommandPicks(I,M,d,p);return p.isCancellationRequested?[]:N.map(F=>this.toCommandPick(F,m))}))()}:x})}toCommandPick(d,l){if(d.type==="separator")return d;const p=this.keybindingService.lookupKeybinding(d.commandId),m=p?(0,f.localize)(3,null,d.label,p.getAriaLabel()):d.label;return Object.assign(Object.assign({},d),{ariaLabel:m,detail:this.options.showAlias&&d.commandAlias!==d.label?d.commandAlias:void 0,keybinding:p,accept:()=>we(this,void 0,void 0,function*(){var v,b;this.commandsHistory.push(d.commandId),this.telemetryService.publicLog2("workbenchActionExecuted",{id:d.commandId,from:(v=l?.from)!==null&&v!==void 0?v:"quick open"});try{!((b=d.args)===null||b===void 0)&&b.length?yield this.commandService.executeCommand(d.commandId,...d.args):yield this.commandService.executeCommand(d.commandId)}catch(w){(0,k.isCancellationError)(w)||this.dialogService.error((0,f.localize)(4,null,d.label),(0,L.toErrorMessage)(w))}})})}};e.AbstractCommandsQuickAccessProvider=r,r.PREFIX=">",r.WORD_FILTER=(0,y.or)(y.matchesPrefix,y.matchesWords,y.matchesContiguousSubString),e.AbstractCommandsQuickAccessProvider=r=u=ke([fe(1,s.IInstantiationService),fe(2,i.IKeybindingService),fe(3,_.ICommandService),fe(4,a.ITelemetryService),fe(5,C.IDialogService)],r);let c=h=class extends D.Disposable{constructor(d,l){super(),this.storageService=d,this.configurationService=l,this.configuredCommandsHistoryLength=0,this.updateConfiguration(),this.load(),this.registerListeners()}registerListeners(){this._register(this.configurationService.onDidChangeConfiguration(d=>this.updateConfiguration(d)))}updateConfiguration(d){d&&!d.affectsConfiguration("workbench.commandPalette.history")||(this.configuredCommandsHistoryLength=h.getConfiguredCommandHistoryLength(this.configurationService),h.cache&&h.cache.limit!==this.configuredCommandsHistoryLength&&(h.cache.limit=this.configuredCommandsHistoryLength,h.saveState(this.storageService)))}load(){const d=this.storageService.get(h.PREF_KEY_CACHE,0);let l;if(d)try{l=JSON.parse(d)}catch{}const p=h.cache=new S.LRUCache(this.configuredCommandsHistoryLength,1);if(l){let m;l.usesLRU?m=l.entries:m=l.entries.sort((v,b)=>v.value-b.value),m.forEach(v=>p.set(v.key,v.value))}h.counter=this.storageService.getNumber(h.PREF_KEY_COUNTER,0,h.counter)}push(d){h.cache&&(h.cache.set(d,h.counter++),h.saveState(this.storageService))}peek(d){var l;return(l=h.cache)===null||l===void 0?void 0:l.peek(d)}static saveState(d){if(!h.cache)return;const l={usesLRU:!0,entries:[]};h.cache.forEach((p,m)=>l.entries.push({key:m,value:p})),d.store(h.PREF_KEY_CACHE,JSON.stringify(l),0,0),d.store(h.PREF_KEY_COUNTER,h.counter,0,0)}static getConfiguredCommandHistoryLength(d){var l,p;const v=(p=(l=d.getValue().workbench)===null||l===void 0?void 0:l.commandPalette)===null||p===void 0?void 0:p.history;return typeof v=="number"?v:h.DEFAULT_COMMANDS_HISTORY_LENGTH}};e.CommandsHistory=c,c.DEFAULT_COMMANDS_HISTORY_LENGTH=50,c.PREF_KEY_CACHE="commandPalette.mru.cache",c.PREF_KEY_COUNTER="commandPalette.mru.counter",c.counter=1,e.CommandsHistory=c=h=ke([fe(0,t.IStorageService),fe(1,g.IConfigurationService)],c)}),define(ne[819],se([1,0,120,818]),function(Q,e,L,k){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.AbstractEditorCommandsQuickAccessProvider=void 0;class y extends k.AbstractCommandsQuickAccessProvider{constructor(S,f,_,g,C,s){super(S,f,_,g,C,s)}getCodeEditorCommandPicks(){const S=this.activeTextEditorControl;if(!S)return[];const f=[];for(const _ of S.getSupportedActions())f.push({commandId:_.id,commandAlias:_.alias,label:(0,L.stripIcons)(_.label)||_.id});return f}}e.AbstractEditorCommandsQuickAccessProvider=y}),define(ne[820],se([1,0,37,136,94,33,819,8,34,27,79,156,16,21,71]),function(Q,e,L,k,y,D,S,f,_,g,C,s,i,n,t){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.GotoLineAction=e.StandaloneCommandsQuickAccessProvider=void 0;let a=class extends S.AbstractEditorCommandsQuickAccessProvider{get activeTextEditorControl(){var r;return(r=this.codeEditorService.getFocusedCodeEditor())!==null&&r!==void 0?r:void 0}constructor(r,c,o,d,l,p){super({showAlias:!1},r,o,d,l,p),this.codeEditorService=c}getCommandPicks(){return we(this,void 0,void 0,function*(){return this.getCodeEditorCommandPicks()})}hasAdditionalCommandPicks(){return!1}getAdditionalCommandPicks(){return we(this,void 0,void 0,function*(){return[]})}};e.StandaloneCommandsQuickAccessProvider=a,e.StandaloneCommandsQuickAccessProvider=a=ke([fe(0,f.IInstantiationService),fe(1,D.ICodeEditorService),fe(2,_.IKeybindingService),fe(3,g.ICommandService),fe(4,C.ITelemetryService),fe(5,s.IDialogService)],a);class u extends i.EditorAction{constructor(){super({id:u.ID,label:y.QuickCommandNLS.quickCommandActionLabel,alias:"Command Palette",precondition:void 0,kbOpts:{kbExpr:n.EditorContextKeys.focus,primary:59,weight:100},contextMenuOpts:{group:"z_commands",order:1}})}run(r){r.get(t.IQuickInputService).quickAccess.show(a.PREFIX)}}e.GotoLineAction=u,u.ID="editor.action.quickCommand",(0,i.registerEditorAction)(u),L.Registry.as(k.Extensions.Quickaccess).registerQuickAccessProvider({ctor:a,prefix:a.PREFIX,helpEntries:[{description:y.QuickCommandNLS.quickCommandHelp,commandId:u.ID}]})}),define(ne[31],se([1,0,13,38,6,85,736,240,37]),function(Q,e,L,k,y,D,S,f,_){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.workbenchColorsSchemaId=e.resolveColorValue=e.ifDefinedThenElse=e.oneOf=e.transparent=e.lighten=e.darken=e.executeTransform=e.chartsPurple=e.chartsGreen=e.chartsOrange=e.chartsYellow=e.chartsBlue=e.chartsRed=e.chartsLines=e.chartsForeground=e.problemsInfoIconForeground=e.problemsWarningIconForeground=e.problemsErrorIconForeground=e.minimapSliderActiveBackground=e.minimapSliderHoverBackground=e.minimapSliderBackground=e.minimapForegroundOpacity=e.minimapBackground=e.minimapWarning=e.minimapError=e.minimapSelection=e.minimapSelectionOccurrenceHighlight=e.minimapFindMatch=e.overviewRulerSelectionHighlightForeground=e.overviewRulerFindMatchForeground=e.overviewRulerCommonContentForeground=e.overviewRulerIncomingContentForeground=e.overviewRulerCurrentContentForeground=e.mergeBorder=e.mergeCommonContentBackground=e.mergeCommonHeaderBackground=e.mergeIncomingContentBackground=e.mergeIncomingHeaderBackground=e.mergeCurrentContentBackground=e.mergeCurrentHeaderBackground=e.breadcrumbsPickerBackground=e.breadcrumbsActiveSelectionForeground=e.breadcrumbsFocusForeground=e.breadcrumbsBackground=e.breadcrumbsForeground=e.snippetFinalTabstopHighlightBorder=e.snippetFinalTabstopHighlightBackground=e.snippetTabstopHighlightBorder=e.snippetTabstopHighlightBackground=e.toolbarActiveBackground=e.toolbarHoverOutline=e.toolbarHoverBackground=e.menuSeparatorBackground=e.menuSelectionBorder=e.menuSelectionBackground=e.menuSelectionForeground=e.menuBackground=e.menuForeground=e.menuBorder=e.quickInputListFocusBackground=e.quickInputListFocusIconForeground=e.quickInputListFocusForeground=e._deprecatedQuickInputListFocusBackground=e.checkboxSelectBorder=e.checkboxBorder=e.checkboxForeground=e.checkboxSelectBackground=e.checkboxBackground=e.listDeemphasizedForeground=e.tableOddRowsBackgroundColor=e.tableColumnsBorder=e.treeInactiveIndentGuidesStroke=e.treeIndentGuidesStroke=e.listFilterMatchHighlightBorder=e.listFilterMatchHighlight=e.listFilterWidgetShadow=e.listFilterWidgetNoMatchesOutline=e.listFilterWidgetOutline=e.listFilterWidgetBackground=e.listWarningForeground=e.listErrorForeground=e.listInvalidItemForeground=e.listFocusHighlightForeground=e.listHighlightForeground=e.listDropBackground=e.listHoverForeground=e.listHoverBackground=e.listInactiveFocusOutline=e.listInactiveFocusBackground=e.listInactiveSelectionIconForeground=e.listInactiveSelectionForeground=e.listInactiveSelectionBackground=e.listActiveSelectionIconForeground=e.listActiveSelectionForeground=e.listActiveSelectionBackground=e.listFocusAndSelectionOutline=e.listFocusOutline=e.listFocusForeground=e.listFocusBackground=e.diffUnchangedTextBackground=e.diffUnchangedRegionForeground=e.diffUnchangedRegionBackground=e.diffDiagonalFill=e.diffBorder=e.diffRemovedOutline=e.diffInsertedOutline=e.diffOverviewRulerRemoved=e.diffOverviewRulerInserted=e.diffRemovedLineGutter=e.diffInsertedLineGutter=e.diffRemovedLine=e.diffInsertedLine=e.diffRemoved=e.diffInserted=e.defaultRemoveColor=e.defaultInsertColor=e.editorLightBulbAutoFixForeground=e.editorLightBulbForeground=e.editorInlayHintParameterBackground=e.editorInlayHintParameterForeground=e.editorInlayHintTypeBackground=e.editorInlayHintTypeForeground=e.editorInlayHintBackground=e.editorInlayHintForeground=e.editorActiveLinkForeground=e.editorHoverStatusBarBackground=e.editorHoverBorder=e.editorHoverForeground=e.editorHoverBackground=e.editorHoverHighlight=e.searchResultsInfoForeground=e.searchEditorFindMatchBorder=e.searchEditorFindMatch=e.editorFindRangeHighlightBorder=e.editorFindMatchHighlightBorder=e.editorFindMatchBorder=e.editorFindRangeHighlight=e.editorFindMatchHighlight=e.editorFindMatch=e.editorSelectionHighlightBorder=e.editorSelectionHighlight=e.editorInactiveSelection=e.editorSelectionForeground=e.editorSelectionBackground=e.keybindingLabelBottomBorder=e.keybindingLabelBorder=e.keybindingLabelForeground=e.keybindingLabelBackground=e.pickerGroupBorder=e.pickerGroupForeground=e.quickInputTitleBackground=e.quickInputForeground=e.quickInputBackground=e.editorWidgetResizeBorder=e.editorWidgetBorder=e.editorWidgetForeground=e.editorWidgetBackground=e.editorStickyScrollHoverBackground=e.editorStickyScrollBackground=e.editorForeground=e.editorBackground=e.sashHoverBorder=e.editorHintBorder=e.editorHintForeground=e.editorInfoBorder=e.editorInfoForeground=e.editorInfoBackground=e.editorWarningBorder=e.editorWarningForeground=e.editorWarningBackground=e.editorErrorBorder=e.editorErrorForeground=e.editorErrorBackground=e.progressBarBackground=e.scrollbarSliderActiveBackground=e.scrollbarSliderHoverBackground=e.scrollbarSliderBackground=e.scrollbarShadow=e.badgeForeground=e.badgeBackground=e.buttonSecondaryHoverBackground=e.buttonSecondaryBackground=e.buttonSecondaryForeground=e.buttonBorder=e.buttonHoverBackground=e.buttonBackground=e.buttonSeparator=e.buttonForeground=e.selectBorder=e.selectForeground=e.selectListBackground=e.selectBackground=e.inputValidationErrorBorder=e.inputValidationErrorForeground=e.inputValidationErrorBackground=e.inputValidationWarningBorder=e.inputValidationWarningForeground=e.inputValidationWarningBackground=e.inputValidationInfoBorder=e.inputValidationInfoForeground=e.inputValidationInfoBackground=e.inputPlaceholderForeground=e.inputActiveOptionForeground=e.inputActiveOptionBackground=e.inputActiveOptionHoverBackground=e.inputActiveOptionBorder=e.inputBorder=e.inputForeground=e.inputBackground=e.widgetBorder=e.widgetShadow=e.textCodeBlockBackground=e.textBlockQuoteBorder=e.textBlockQuoteBackground=e.textPreformatForeground=e.textLinkActiveForeground=e.textLinkForeground=e.textSeparatorForeground=e.selectionBackground=e.activeContrastBorder=e.contrastBorder=e.focusBorder=e.iconForeground=e.descriptionForeground=e.errorForeground=e.disabledForeground=e.foreground=e.registerColor=e.Extensions=e.asCssVariableWithDefault=e.asCssVariable=e.asCssVariableName=void 0;function g(P){return`--vscode-${P.replace(/\./g,"-")}`}e.asCssVariableName=g;function C(P){return`var(${g(P)})`}e.asCssVariable=C;function s(P,x){return`var(${g(P)}, ${x})`}e.asCssVariableWithDefault=s,e.Extensions={ColorContribution:"base.contributions.colors"};class i{constructor(){this._onDidChangeSchema=new y.Emitter,this.onDidChangeSchema=this._onDidChangeSchema.event,this.colorSchema={type:"object",properties:{}},this.colorReferenceSchema={type:"string",enum:[],enumDescriptions:[]},this.colorsById={}}registerColor(x,T,A,N=!1,F){const O={id:x,description:A,defaults:T,needsTransparency:N,deprecationMessage:F};this.colorsById[x]=O;const W={type:"string",description:A,format:"color-hex",defaultSnippets:[{body:"${1:#ff0000}"}]};return F&&(W.deprecationMessage=F),this.colorSchema.properties[x]=W,this.colorReferenceSchema.enum.push(x),this.colorReferenceSchema.enumDescriptions.push(A),this._onDidChangeSchema.fire(),x}getColors(){return Object.keys(this.colorsById).map(x=>this.colorsById[x])}resolveDefaultColor(x,T){const A=this.colorsById[x];if(A&&A.defaults){const N=A.defaults[T.type];return E(N,T)}}getColorSchema(){return this.colorSchema}toString(){const x=(T,A)=>{const N=T.indexOf(".")===-1?0:1,F=A.indexOf(".")===-1?0:1;return N!==F?N-F:T.localeCompare(A)};return Object.keys(this.colorsById).sort(x).map(T=>`- \`${T}\`: ${this.colorsById[T].description}`).join(`
`)}}const n=new i;_.Registry.add(e.Extensions.ColorContribution,n);function t(P,x,T,A,N){return n.registerColor(P,x,T,A,N)}e.registerColor=t,e.foreground=t("foreground",{dark:"#CCCCCC",light:"#616161",hcDark:"#FFFFFF",hcLight:"#292929"},S.localize(0,null)),e.disabledForeground=t("disabledForeground",{dark:"#CCCCCC80",light:"#61616180",hcDark:"#A5A5A5",hcLight:"#7F7F7F"},S.localize(1,null)),e.errorForeground=t("errorForeground",{dark:"#F48771",light:"#A1260D",hcDark:"#F48771",hcLight:"#B5200D"},S.localize(2,null)),e.descriptionForeground=t("descriptionForeground",{light:"#717171",dark:m(e.foreground,.7),hcDark:m(e.foreground,.7),hcLight:m(e.foreground,.7)},S.localize(3,null)),e.iconForeground=t("icon.foreground",{dark:"#C5C5C5",light:"#424242",hcDark:"#FFFFFF",hcLight:"#292929"},S.localize(4,null)),e.focusBorder=t("focusBorder",{dark:"#007FD4",light:"#0090F1",hcDark:"#F38518",hcLight:"#006BBD"},S.localize(5,null)),e.contrastBorder=t("contrastBorder",{light:null,dark:null,hcDark:"#6FC3DF",hcLight:"#0F4A85"},S.localize(6,null)),e.activeContrastBorder=t("contrastActiveBorder",{light:null,dark:null,hcDark:e.focusBorder,hcLight:e.focusBorder},S.localize(7,null)),e.selectionBackground=t("selection.background",{light:null,dark:null,hcDark:null,hcLight:null},S.localize(8,null)),e.textSeparatorForeground=t("textSeparator.foreground",{light:"#0000002e",dark:"#ffffff2e",hcDark:k.Color.black,hcLight:"#292929"},S.localize(9,null)),e.textLinkForeground=t("textLink.foreground",{light:"#006AB1",dark:"#3794FF",hcDark:"#3794FF",hcLight:"#0F4A85"},S.localize(10,null)),e.textLinkActiveForeground=t("textLink.activeForeground",{light:"#006AB1",dark:"#3794FF",hcDark:"#3794FF",hcLight:"#0F4A85"},S.localize(11,null)),e.textPreformatForeground=t("textPreformat.foreground",{light:"#A31515",dark:"#D7BA7D",hcDark:"#D7BA7D",hcLight:"#292929"},S.localize(12,null)),e.textBlockQuoteBackground=t("textBlockQuote.background",{light:"#7f7f7f1a",dark:"#7f7f7f1a",hcDark:null,hcLight:"#F2F2F2"},S.localize(13,null)),e.textBlockQuoteBorder=t("textBlockQuote.border",{light:"#007acc80",dark:"#007acc80",hcDark:k.Color.white,hcLight:"#292929"},S.localize(14,null)),e.textCodeBlockBackground=t("textCodeBlock.background",{light:"#dcdcdc66",dark:"#0a0a0a66",hcDark:k.Color.black,hcLight:"#F2F2F2"},S.localize(15,null)),e.widgetShadow=t("widget.shadow",{dark:m(k.Color.black,.36),light:m(k.Color.black,.16),hcDark:null,hcLight:null},S.localize(16,null)),e.widgetBorder=t("widget.border",{dark:null,light:null,hcDark:e.contrastBorder,hcLight:e.contrastBorder},S.localize(17,null)),e.inputBackground=t("input.background",{dark:"#3C3C3C",light:k.Color.white,hcDark:k.Color.black,hcLight:k.Color.white},S.localize(18,null)),e.inputForeground=t("input.foreground",{dark:e.foreground,light:e.foreground,hcDark:e.foreground,hcLight:e.foreground},S.localize(19,null)),e.inputBorder=t("input.border",{dark:null,light:null,hcDark:e.contrastBorder,hcLight:e.contrastBorder},S.localize(20,null)),e.inputActiveOptionBorder=t("inputOption.activeBorder",{dark:"#007ACC",light:"#007ACC",hcDark:e.contrastBorder,hcLight:e.contrastBorder},S.localize(21,null)),e.inputActiveOptionHoverBackground=t("inputOption.hoverBackground",{dark:"#5a5d5e80",light:"#b8b8b850",hcDark:null,hcLight:null},S.localize(22,null)),e.inputActiveOptionBackground=t("inputOption.activeBackground",{dark:m(e.focusBorder,.4),light:m(e.focusBorder,.2),hcDark:k.Color.transparent,hcLight:k.Color.transparent},S.localize(23,null)),e.inputActiveOptionForeground=t("inputOption.activeForeground",{dark:k.Color.white,light:k.Color.black,hcDark:e.foreground,hcLight:e.foreground},S.localize(24,null)),e.inputPlaceholderForeground=t("input.placeholderForeground",{light:m(e.foreground,.5),dark:m(e.foreground,.5),hcDark:m(e.foreground,.7),hcLight:m(e.foreground,.7)},S.localize(25,null)),e.inputValidationInfoBackground=t("inputValidation.infoBackground",{dark:"#063B49",light:"#D6ECF2",hcDark:k.Color.black,hcLight:k.Color.white},S.localize(26,null)),e.inputValidationInfoForeground=t("inputValidation.infoForeground",{dark:null,light:null,hcDark:null,hcLight:e.foreground},S.localize(27,null)),e.inputValidationInfoBorder=t("inputValidation.infoBorder",{dark:"#007acc",light:"#007acc",hcDark:e.contrastBorder,hcLight:e.contrastBorder},S.localize(28,null)),e.inputValidationWarningBackground=t("inputValidation.warningBackground",{dark:"#352A05",light:"#F6F5D2",hcDark:k.Color.black,hcLight:k.Color.white},S.localize(29,null)),e.inputValidationWarningForeground=t("inputValidation.warningForeground",{dark:null,light:null,hcDark:null,hcLight:e.foreground},S.localize(30,null)),e.inputValidationWarningBorder=t("inputValidation.warningBorder",{dark:"#B89500",light:"#B89500",hcDark:e.contrastBorder,hcLight:e.contrastBorder},S.localize(31,null)),e.inputValidationErrorBackground=t("inputValidation.errorBackground",{dark:"#5A1D1D",light:"#F2DEDE",hcDark:k.Color.black,hcLight:k.Color.white},S.localize(32,null)),e.inputValidationErrorForeground=t("inputValidation.errorForeground",{dark:null,light:null,hcDark:null,hcLight:e.foreground},S.localize(33,null)),e.inputValidationErrorBorder=t("inputValidation.errorBorder",{dark:"#BE1100",light:"#BE1100",hcDark:e.contrastBorder,hcLight:e.contrastBorder},S.localize(34,null)),e.selectBackground=t("dropdown.background",{dark:"#3C3C3C",light:k.Color.white,hcDark:k.Color.black,hcLight:k.Color.white},S.localize(35,null)),e.selectListBackground=t("dropdown.listBackground",{dark:null,light:null,hcDark:k.Color.black,hcLight:k.Color.white},S.localize(36,null)),e.selectForeground=t("dropdown.foreground",{dark:"#F0F0F0",light:e.foreground,hcDark:k.Color.white,hcLight:e.foreground},S.localize(37,null)),e.selectBorder=t("dropdown.border",{dark:e.selectBackground,light:"#CECECE",hcDark:e.contrastBorder,hcLight:e.contrastBorder},S.localize(38,null)),e.buttonForeground=t("button.foreground",{dark:k.Color.white,light:k.Color.white,hcDark:k.Color.white,hcLight:k.Color.white},S.localize(39,null)),e.buttonSeparator=t("button.separator",{dark:m(e.buttonForeground,.4),light:m(e.buttonForeground,.4),hcDark:m(e.buttonForeground,.4),hcLight:m(e.buttonForeground,.4)},S.localize(40,null)),e.buttonBackground=t("button.background",{dark:"#0E639C",light:"#007ACC",hcDark:null,hcLight:"#0F4A85"},S.localize(41,null)),e.buttonHoverBackground=t("button.hoverBackground",{dark:p(e.buttonBackground,.2),light:l(e.buttonBackground,.2),hcDark:e.buttonBackground,hcLight:e.buttonBackground},S.localize(42,null)),e.buttonBorder=t("button.border",{dark:e.contrastBorder,light:e.contrastBorder,hcDark:e.contrastBorder,hcLight:e.contrastBorder},S.localize(43,null)),e.buttonSecondaryForeground=t("button.secondaryForeground",{dark:k.Color.white,light:k.Color.white,hcDark:k.Color.white,hcLight:e.foreground},S.localize(44,null)),e.buttonSecondaryBackground=t("button.secondaryBackground",{dark:"#3A3D41",light:"#5F6A79",hcDark:null,hcLight:k.Color.white},S.localize(45,null)),e.buttonSecondaryHoverBackground=t("button.secondaryHoverBackground",{dark:p(e.buttonSecondaryBackground,.2),light:l(e.buttonSecondaryBackground,.2),hcDark:null,hcLight:null},S.localize(46,null)),e.badgeBackground=t("badge.background",{dark:"#4D4D4D",light:"#C4C4C4",hcDark:k.Color.black,hcLight:"#0F4A85"},S.localize(47,null)),e.badgeForeground=t("badge.foreground",{dark:k.Color.white,light:"#333",hcDark:k.Color.white,hcLight:k.Color.white},S.localize(48,null)),e.scrollbarShadow=t("scrollbar.shadow",{dark:"#000000",light:"#DDDDDD",hcDark:null,hcLight:null},S.localize(49,null)),e.scrollbarSliderBackground=t("scrollbarSlider.background",{dark:k.Color.fromHex("#797979").transparent(.4),light:k.Color.fromHex("#646464").transparent(.4),hcDark:m(e.contrastBorder,.6),hcLight:m(e.contrastBorder,.4)},S.localize(50,null)),e.scrollbarSliderHoverBackground=t("scrollbarSlider.hoverBackground",{dark:k.Color.fromHex("#646464").transparent(.7),light:k.Color.fromHex("#646464").transparent(.7),hcDark:m(e.contrastBorder,.8),hcLight:m(e.contrastBorder,.8)},S.localize(51,null)),e.scrollbarSliderActiveBackground=t("scrollbarSlider.activeBackground",{dark:k.Color.fromHex("#BFBFBF").transparent(.4),light:k.Color.fromHex("#000000").transparent(.6),hcDark:e.contrastBorder,hcLight:e.contrastBorder},S.localize(52,null)),e.progressBarBackground=t("progressBar.background",{dark:k.Color.fromHex("#0E70C0"),light:k.Color.fromHex("#0E70C0"),hcDark:e.contrastBorder,hcLight:e.contrastBorder},S.localize(53,null)),e.editorErrorBackground=t("editorError.background",{dark:null,light:null,hcDark:null,hcLight:null},S.localize(54,null),!0),e.editorErrorForeground=t("editorError.foreground",{dark:"#F14C4C",light:"#E51400",hcDark:"#F48771",hcLight:"#B5200D"},S.localize(55,null)),e.editorErrorBorder=t("editorError.border",{dark:null,light:null,hcDark:k.Color.fromHex("#E47777").transparent(.8),hcLight:"#B5200D"},S.localize(56,null)),e.editorWarningBackground=t("editorWarning.background",{dark:null,light:null,hcDark:null,hcLight:null},S.localize(57,null),!0),e.editorWarningForeground=t("editorWarning.foreground",{dark:"#CCA700",light:"#BF8803",hcDark:"#FFD370",hcLight:"#895503"},S.localize(58,null)),e.editorWarningBorder=t("editorWarning.border",{dark:null,light:null,hcDark:k.Color.fromHex("#FFCC00").transparent(.8),hcLight:k.Color.fromHex("#FFCC00").transparent(.8)},S.localize(59,null)),e.editorInfoBackground=t("editorInfo.background",{dark:null,light:null,hcDark:null,hcLight:null},S.localize(60,null),!0),e.editorInfoForeground=t("editorInfo.foreground",{dark:"#3794FF",light:"#1a85ff",hcDark:"#3794FF",hcLight:"#1a85ff"},S.localize(61,null)),e.editorInfoBorder=t("editorInfo.border",{dark:null,light:null,hcDark:k.Color.fromHex("#3794FF").transparent(.8),hcLight:"#292929"},S.localize(62,null)),e.editorHintForeground=t("editorHint.foreground",{dark:k.Color.fromHex("#eeeeee").transparent(.7),light:"#6c6c6c",hcDark:null,hcLight:null},S.localize(63,null)),e.editorHintBorder=t("editorHint.border",{dark:null,light:null,hcDark:k.Color.fromHex("#eeeeee").transparent(.8),hcLight:"#292929"},S.localize(64,null)),e.sashHoverBorder=t("sash.hoverBorder",{dark:e.focusBorder,light:e.focusBorder,hcDark:e.focusBorder,hcLight:e.focusBorder},S.localize(65,null)),e.editorBackground=t("editor.background",{light:"#ffffff",dark:"#1E1E1E",hcDark:k.Color.black,hcLight:k.Color.white},S.localize(66,null)),e.editorForeground=t("editor.foreground",{light:"#333333",dark:"#BBBBBB",hcDark:k.Color.white,hcLight:e.foreground},S.localize(67,null)),e.editorStickyScrollBackground=t("editorStickyScroll.background",{light:e.editorBackground,dark:e.editorBackground,hcDark:e.editorBackground,hcLight:e.editorBackground},S.localize(68,null)),e.editorStickyScrollHoverBackground=t("editorStickyScrollHover.background",{dark:"#2A2D2E",light:"#F0F0F0",hcDark:null,hcLight:k.Color.fromHex("#0F4A85").transparent(.1)},S.localize(69,null)),e.editorWidgetBackground=t("editorWidget.background",{dark:"#252526",light:"#F3F3F3",hcDark:"#0C141F",hcLight:k.Color.white},S.localize(70,null)),e.editorWidgetForeground=t("editorWidget.foreground",{dark:e.foreground,light:e.foreground,hcDark:e.foreground,hcLight:e.foreground},S.localize(71,null)),e.editorWidgetBorder=t("editorWidget.border",{dark:"#454545",light:"#C8C8C8",hcDark:e.contrastBorder,hcLight:e.contrastBorder},S.localize(72,null)),e.editorWidgetResizeBorder=t("editorWidget.resizeBorder",{light:null,dark:null,hcDark:null,hcLight:null},S.localize(73,null)),e.quickInputBackground=t("quickInput.background",{dark:e.editorWidgetBackground,light:e.editorWidgetBackground,hcDark:e.editorWidgetBackground,hcLight:e.editorWidgetBackground},S.localize(74,null)),e.quickInputForeground=t("quickInput.foreground",{dark:e.editorWidgetForeground,light:e.editorWidgetForeground,hcDark:e.editorWidgetForeground,hcLight:e.editorWidgetForeground},S.localize(75,null)),e.quickInputTitleBackground=t("quickInputTitle.background",{dark:new k.Color(new k.RGBA(255,255,255,.105)),light:new k.Color(new k.RGBA(0,0,0,.06)),hcDark:"#000000",hcLight:k.Color.white},S.localize(76,null)),e.pickerGroupForeground=t("pickerGroup.foreground",{dark:"#3794FF",light:"#0066BF",hcDark:k.Color.white,hcLight:"#0F4A85"},S.localize(77,null)),e.pickerGroupBorder=t("pickerGroup.border",{dark:"#3F3F46",light:"#CCCEDB",hcDark:k.Color.white,hcLight:"#0F4A85"},S.localize(78,null)),e.keybindingLabelBackground=t("keybindingLabel.background",{dark:new k.Color(new k.RGBA(128,128,128,.17)),light:new k.Color(new k.RGBA(221,221,221,.4)),hcDark:k.Color.transparent,hcLight:k.Color.transparent},S.localize(79,null)),e.keybindingLabelForeground=t("keybindingLabel.foreground",{dark:k.Color.fromHex("#CCCCCC"),light:k.Color.fromHex("#555555"),hcDark:k.Color.white,hcLight:e.foreground},S.localize(80,null)),e.keybindingLabelBorder=t("keybindingLabel.border",{dark:new k.Color(new k.RGBA(51,51,51,.6)),light:new k.Color(new k.RGBA(204,204,204,.4)),hcDark:new k.Color(new k.RGBA(111,195,223)),hcLight:e.contrastBorder},S.localize(81,null)),e.keybindingLabelBottomBorder=t("keybindingLabel.bottomBorder",{dark:new k.Color(new k.RGBA(68,68,68,.6)),light:new k.Color(new k.RGBA(187,187,187,.4)),hcDark:new k.Color(new k.RGBA(111,195,223)),hcLight:e.foreground},S.localize(82,null)),e.editorSelectionBackground=t("editor.selectionBackground",{light:"#ADD6FF",dark:"#264F78",hcDark:"#f3f518",hcLight:"#0F4A85"},S.localize(83,null)),e.editorSelectionForeground=t("editor.selectionForeground",{light:null,dark:null,hcDark:"#000000",hcLight:k.Color.white},S.localize(84,null)),e.editorInactiveSelection=t("editor.inactiveSelectionBackground",{light:m(e.editorSelectionBackground,.5),dark:m(e.editorSelectionBackground,.5),hcDark:m(e.editorSelectionBackground,.7),hcLight:m(e.editorSelectionBackground,.5)},S.localize(85,null),!0),e.editorSelectionHighlight=t("editor.selectionHighlightBackground",{light:w(e.editorSelectionBackground,e.editorBackground,.3,.6),dark:w(e.editorSelectionBackground,e.editorBackground,.3,.6),hcDark:null,hcLight:null},S.localize(86,null),!0),e.editorSelectionHighlightBorder=t("editor.selectionHighlightBorder",{light:null,dark:null,hcDark:e.activeContrastBorder,hcLight:e.activeContrastBorder},S.localize(87,null)),e.editorFindMatch=t("editor.findMatchBackground",{light:"#A8AC94",dark:"#515C6A",hcDark:null,hcLight:null},S.localize(88,null)),e.editorFindMatchHighlight=t("editor.findMatchHighlightBackground",{light:"#EA5C0055",dark:"#EA5C0055",hcDark:null,hcLight:null},S.localize(89,null),!0),e.editorFindRangeHighlight=t("editor.findRangeHighlightBackground",{dark:"#3a3d4166",light:"#b4b4b44d",hcDark:null,hcLight:null},S.localize(90,null),!0),e.editorFindMatchBorder=t("editor.findMatchBorder",{light:null,dark:null,hcDark:e.activeContrastBorder,hcLight:e.activeContrastBorder},S.localize(91,null)),e.editorFindMatchHighlightBorder=t("editor.findMatchHighlightBorder",{light:null,dark:null,hcDark:e.activeContrastBorder,hcLight:e.activeContrastBorder},S.localize(92,null)),e.editorFindRangeHighlightBorder=t("editor.findRangeHighlightBorder",{dark:null,light:null,hcDark:m(e.activeContrastBorder,.4),hcLight:m(e.activeContrastBorder,.4)},S.localize(93,null),!0),e.searchEditorFindMatch=t("searchEditor.findMatchBackground",{light:m(e.editorFindMatchHighlight,.66),dark:m(e.editorFindMatchHighlight,.66),hcDark:e.editorFindMatchHighlight,hcLight:e.editorFindMatchHighlight},S.localize(94,null)),e.searchEditorFindMatchBorder=t("searchEditor.findMatchBorder",{light:m(e.editorFindMatchHighlightBorder,.66),dark:m(e.editorFindMatchHighlightBorder,.66),hcDark:e.editorFindMatchHighlightBorder,hcLight:e.editorFindMatchHighlightBorder},S.localize(95,null)),e.searchResultsInfoForeground=t("search.resultsInfoForeground",{light:e.foreground,dark:m(e.foreground,.65),hcDark:e.foreground,hcLight:e.foreground},S.localize(96,null)),e.editorHoverHighlight=t("editor.hoverHighlightBackground",{light:"#ADD6FF26",dark:"#264f7840",hcDark:"#ADD6FF26",hcLight:null},S.localize(97,null),!0),e.editorHoverBackground=t("editorHoverWidget.background",{light:e.editorWidgetBackground,dark:e.editorWidgetBackground,hcDark:e.editorWidgetBackground,hcLight:e.editorWidgetBackground},S.localize(98,null)),e.editorHoverForeground=t("editorHoverWidget.foreground",{light:e.editorWidgetForeground,dark:e.editorWidgetForeground,hcDark:e.editorWidgetForeground,hcLight:e.editorWidgetForeground},S.localize(99,null)),e.editorHoverBorder=t("editorHoverWidget.border",{light:e.editorWidgetBorder,dark:e.editorWidgetBorder,hcDark:e.editorWidgetBorder,hcLight:e.editorWidgetBorder},S.localize(100,null)),e.editorHoverStatusBarBackground=t("editorHoverWidget.statusBarBackground",{dark:p(e.editorHoverBackground,.2),light:l(e.editorHoverBackground,.05),hcDark:e.editorWidgetBackground,hcLight:e.editorWidgetBackground},S.localize(101,null)),e.editorActiveLinkForeground=t("editorLink.activeForeground",{dark:"#4E94CE",light:k.Color.blue,hcDark:k.Color.cyan,hcLight:"#292929"},S.localize(102,null)),e.editorInlayHintForeground=t("editorInlayHint.foreground",{dark:"#969696",light:"#969696",hcDark:k.Color.white,hcLight:k.Color.black},S.localize(103,null)),e.editorInlayHintBackground=t("editorInlayHint.background",{dark:m(e.badgeBackground,.1),light:m(e.badgeBackground,.1),hcDark:m(k.Color.white,.1),hcLight:m(e.badgeBackground,.1)},S.localize(104,null)),e.editorInlayHintTypeForeground=t("editorInlayHint.typeForeground",{dark:e.editorInlayHintForeground,light:e.editorInlayHintForeground,hcDark:e.editorInlayHintForeground,hcLight:e.editorInlayHintForeground},S.localize(105,null)),e.editorInlayHintTypeBackground=t("editorInlayHint.typeBackground",{dark:e.editorInlayHintBackground,light:e.editorInlayHintBackground,hcDark:e.editorInlayHintBackground,hcLight:e.editorInlayHintBackground},S.localize(106,null)),e.editorInlayHintParameterForeground=t("editorInlayHint.parameterForeground",{dark:e.editorInlayHintForeground,light:e.editorInlayHintForeground,hcDark:e.editorInlayHintForeground,hcLight:e.editorInlayHintForeground},S.localize(107,null)),e.editorInlayHintParameterBackground=t("editorInlayHint.parameterBackground",{dark:e.editorInlayHintBackground,light:e.editorInlayHintBackground,hcDark:e.editorInlayHintBackground,hcLight:e.editorInlayHintBackground},S.localize(108,null)),e.editorLightBulbForeground=t("editorLightBulb.foreground",{dark:"#FFCC00",light:"#DDB100",hcDark:"#FFCC00",hcLight:"#007ACC"},S.localize(109,null)),e.editorLightBulbAutoFixForeground=t("editorLightBulbAutoFix.foreground",{dark:"#75BEFF",light:"#007ACC",hcDark:"#75BEFF",hcLight:"#007ACC"},S.localize(110,null)),e.defaultInsertColor=new k.Color(new k.RGBA(155,185,85,.2)),e.defaultRemoveColor=new k.Color(new k.RGBA(255,0,0,.2)),e.diffInserted=t("diffEditor.insertedTextBackground",{dark:"#9ccc2c33",light:"#9ccc2c40",hcDark:null,hcLight:null},S.localize(111,null),!0),e.diffRemoved=t("diffEditor.removedTextBackground",{dark:"#ff000033",light:"#ff000033",hcDark:null,hcLight:null},S.localize(112,null),!0),e.diffInsertedLine=t("diffEditor.insertedLineBackground",{dark:e.defaultInsertColor,light:e.defaultInsertColor,hcDark:null,hcLight:null},S.localize(113,null),!0),e.diffRemovedLine=t("diffEditor.removedLineBackground",{dark:e.defaultRemoveColor,light:e.defaultRemoveColor,hcDark:null,hcLight:null},S.localize(114,null),!0),e.diffInsertedLineGutter=t("diffEditorGutter.insertedLineBackground",{dark:null,light:null,hcDark:null,hcLight:null},S.localize(115,null)),e.diffRemovedLineGutter=t("diffEditorGutter.removedLineBackground",{dark:null,light:null,hcDark:null,hcLight:null},S.localize(116,null)),e.diffOverviewRulerInserted=t("diffEditorOverview.insertedForeground",{dark:null,light:null,hcDark:null,hcLight:null},S.localize(117,null)),e.diffOverviewRulerRemoved=t("diffEditorOverview.removedForeground",{dark:null,light:null,hcDark:null,hcLight:null},S.localize(118,null)),e.diffInsertedOutline=t("diffEditor.insertedTextBorder",{dark:null,light:null,hcDark:"#33ff2eff",hcLight:"#374E06"},S.localize(119,null)),e.diffRemovedOutline=t("diffEditor.removedTextBorder",{dark:null,light:null,hcDark:"#FF008F",hcLight:"#AD0707"},S.localize(120,null)),e.diffBorder=t("diffEditor.border",{dark:null,light:null,hcDark:e.contrastBorder,hcLight:e.contrastBorder},S.localize(121,null)),e.diffDiagonalFill=t("diffEditor.diagonalFill",{dark:"#cccccc33",light:"#22222233",hcDark:null,hcLight:null},S.localize(122,null)),e.diffUnchangedRegionBackground=t("diffEditor.unchangedRegionBackground",{dark:"#3e3e3e",light:"#e4e4e4",hcDark:null,hcLight:null},S.localize(123,null)),e.diffUnchangedRegionForeground=t("diffEditor.unchangedRegionForeground",{dark:"#a3a2a2",light:"#4d4c4c",hcDark:null,hcLight:null},S.localize(124,null)),e.diffUnchangedTextBackground=t("diffEditor.unchangedCodeBackground",{dark:"#74747429",light:"#b8b8b829",hcDark:null,hcLight:null},S.localize(125,null)),e.listFocusBackground=t("list.focusBackground",{dark:null,light:null,hcDark:null,hcLight:null},S.localize(126,null)),e.listFocusForeground=t("list.focusForeground",{dark:null,light:null,hcDark:null,hcLight:null},S.localize(127,null)),e.listFocusOutline=t("list.focusOutline",{dark:e.focusBorder,light:e.focusBorder,hcDark:e.activeContrastBorder,hcLight:e.activeContrastBorder},S.localize(128,null)),e.listFocusAndSelectionOutline=t("list.focusAndSelectionOutline",{dark:null,light:null,hcDark:null,hcLight:null},S.localize(129,null)),e.listActiveSelectionBackground=t("list.activeSelectionBackground",{dark:"#04395E",light:"#0060C0",hcDark:null,hcLight:k.Color.fromHex("#0F4A85").transparent(.1)},S.localize(130,null)),e.listActiveSelectionForeground=t("list.activeSelectionForeground",{dark:k.Color.white,light:k.Color.white,hcDark:null,hcLight:null},S.localize(131,null)),e.listActiveSelectionIconForeground=t("list.activeSelectionIconForeground",{dark:null,light:null,hcDark:null,hcLight:null},S.localize(132,null)),e.listInactiveSelectionBackground=t("list.inactiveSelectionBackground",{dark:"#37373D",light:"#E4E6F1",hcDark:null,hcLight:k.Color.fromHex("#0F4A85").transparent(.1)},S.localize(133,null)),e.listInactiveSelectionForeground=t("list.inactiveSelectionForeground",{dark:null,light:null,hcDark:null,hcLight:null},S.localize(134,null)),e.listInactiveSelectionIconForeground=t("list.inactiveSelectionIconForeground",{dark:null,light:null,hcDark:null,hcLight:null},S.localize(135,null)),e.listInactiveFocusBackground=t("list.inactiveFocusBackground",{dark:null,light:null,hcDark:null,hcLight:null},S.localize(136,null)),e.listInactiveFocusOutline=t("list.inactiveFocusOutline",{dark:null,light:null,hcDark:null,hcLight:null},S.localize(137,null)),e.listHoverBackground=t("list.hoverBackground",{dark:"#2A2D2E",light:"#F0F0F0",hcDark:k.Color.white.transparent(.1),hcLight:k.Color.fromHex("#0F4A85").transparent(.1)},S.localize(138,null)),e.listHoverForeground=t("list.hoverForeground",{dark:null,light:null,hcDark:null,hcLight:null},S.localize(139,null)),e.listDropBackground=t("list.dropBackground",{dark:"#062F4A",light:"#D6EBFF",hcDark:null,hcLight:null},S.localize(140,null)),e.listHighlightForeground=t("list.highlightForeground",{dark:"#2AAAFF",light:"#0066BF",hcDark:e.focusBorder,hcLight:e.focusBorder},S.localize(141,null)),e.listFocusHighlightForeground=t("list.focusHighlightForeground",{dark:e.listHighlightForeground,light:b(e.listActiveSelectionBackground,e.listHighlightForeground,"#BBE7FF"),hcDark:e.listHighlightForeground,hcLight:e.listHighlightForeground},S.localize(142,null)),e.listInvalidItemForeground=t("list.invalidItemForeground",{dark:"#B89500",light:"#B89500",hcDark:"#B89500",hcLight:"#B5200D"},S.localize(143,null)),e.listErrorForeground=t("list.errorForeground",{dark:"#F88070",light:"#B01011",hcDark:null,hcLight:null},S.localize(144,null)),e.listWarningForeground=t("list.warningForeground",{dark:"#CCA700",light:"#855F00",hcDark:null,hcLight:null},S.localize(145,null)),e.listFilterWidgetBackground=t("listFilterWidget.background",{light:l(e.editorWidgetBackground,0),dark:p(e.editorWidgetBackground,0),hcDark:e.editorWidgetBackground,hcLight:e.editorWidgetBackground},S.localize(146,null)),e.listFilterWidgetOutline=t("listFilterWidget.outline",{dark:k.Color.transparent,light:k.Color.transparent,hcDark:"#f38518",hcLight:"#007ACC"},S.localize(147,null)),e.listFilterWidgetNoMatchesOutline=t("listFilterWidget.noMatchesOutline",{dark:"#BE1100",light:"#BE1100",hcDark:e.contrastBorder,hcLight:e.contrastBorder},S.localize(148,null)),e.listFilterWidgetShadow=t("listFilterWidget.shadow",{dark:e.widgetShadow,light:e.widgetShadow,hcDark:e.widgetShadow,hcLight:e.widgetShadow},S.localize(149,null)),e.listFilterMatchHighlight=t("list.filterMatchBackground",{dark:e.editorFindMatchHighlight,light:e.editorFindMatchHighlight,hcDark:null,hcLight:null},S.localize(150,null)),e.listFilterMatchHighlightBorder=t("list.filterMatchBorder",{dark:e.editorFindMatchHighlightBorder,light:e.editorFindMatchHighlightBorder,hcDark:e.contrastBorder,hcLight:e.activeContrastBorder},S.localize(151,null)),e.treeIndentGuidesStroke=t("tree.indentGuidesStroke",{dark:"#585858",light:"#a9a9a9",hcDark:"#a9a9a9",hcLight:"#a5a5a5"},S.localize(152,null)),e.treeInactiveIndentGuidesStroke=t("tree.inactiveIndentGuidesStroke",{dark:m(e.treeIndentGuidesStroke,.4),light:m(e.treeIndentGuidesStroke,.4),hcDark:m(e.treeIndentGuidesStroke,.4),hcLight:m(e.treeIndentGuidesStroke,.4)},S.localize(153,null)),e.tableColumnsBorder=t("tree.tableColumnsBorder",{dark:"#CCCCCC20",light:"#61616120",hcDark:null,hcLight:null},S.localize(154,null)),e.tableOddRowsBackgroundColor=t("tree.tableOddRowsBackground",{dark:m(e.foreground,.04),light:m(e.foreground,.04),hcDark:null,hcLight:null},S.localize(155,null)),e.listDeemphasizedForeground=t("list.deemphasizedForeground",{dark:"#8C8C8C",light:"#8E8E90",hcDark:"#A7A8A9",hcLight:"#666666"},S.localize(156,null)),e.checkboxBackground=t("checkbox.background",{dark:e.selectBackground,light:e.selectBackground,hcDark:e.selectBackground,hcLight:e.selectBackground},S.localize(157,null)),e.checkboxSelectBackground=t("checkbox.selectBackground",{dark:e.editorWidgetBackground,light:e.editorWidgetBackground,hcDark:e.editorWidgetBackground,hcLight:e.editorWidgetBackground},S.localize(158,null)),e.checkboxForeground=t("checkbox.foreground",{dark:e.selectForeground,light:e.selectForeground,hcDark:e.selectForeground,hcLight:e.selectForeground},S.localize(159,null)),e.checkboxBorder=t("checkbox.border",{dark:e.selectBorder,light:e.selectBorder,hcDark:e.selectBorder,hcLight:e.selectBorder},S.localize(160,null)),e.checkboxSelectBorder=t("checkbox.selectBorder",{dark:e.iconForeground,light:e.iconForeground,hcDark:e.iconForeground,hcLight:e.iconForeground},S.localize(161,null)),e._deprecatedQuickInputListFocusBackground=t("quickInput.list.focusBackground",{dark:null,light:null,hcDark:null,hcLight:null},"",void 0,S.localize(162,null)),e.quickInputListFocusForeground=t("quickInputList.focusForeground",{dark:e.listActiveSelectionForeground,light:e.listActiveSelectionForeground,hcDark:e.listActiveSelectionForeground,hcLight:e.listActiveSelectionForeground},S.localize(163,null)),e.quickInputListFocusIconForeground=t("quickInputList.focusIconForeground",{dark:e.listActiveSelectionIconForeground,light:e.listActiveSelectionIconForeground,hcDark:e.listActiveSelectionIconForeground,hcLight:e.listActiveSelectionIconForeground},S.localize(164,null)),e.quickInputListFocusBackground=t("quickInputList.focusBackground",{dark:v(e._deprecatedQuickInputListFocusBackground,e.listActiveSelectionBackground),light:v(e._deprecatedQuickInputListFocusBackground,e.listActiveSelectionBackground),hcDark:null,hcLight:null},S.localize(165,null)),e.menuBorder=t("menu.border",{dark:null,light:null,hcDark:e.contrastBorder,hcLight:e.contrastBorder},S.localize(166,null)),e.menuForeground=t("menu.foreground",{dark:e.selectForeground,light:e.selectForeground,hcDark:e.selectForeground,hcLight:e.selectForeground},S.localize(167,null)),e.menuBackground=t("menu.background",{dark:e.selectBackground,light:e.selectBackground,hcDark:e.selectBackground,hcLight:e.selectBackground},S.localize(168,null)),e.menuSelectionForeground=t("menu.selectionForeground",{dark:e.listActiveSelectionForeground,light:e.listActiveSelectionForeground,hcDark:e.listActiveSelectionForeground,hcLight:e.listActiveSelectionForeground},S.localize(169,null)),e.menuSelectionBackground=t("menu.selectionBackground",{dark:e.listActiveSelectionBackground,light:e.listActiveSelectionBackground,hcDark:e.listActiveSelectionBackground,hcLight:e.listActiveSelectionBackground},S.localize(170,null)),e.menuSelectionBorder=t("menu.selectionBorder",{dark:null,light:null,hcDark:e.activeContrastBorder,hcLight:e.activeContrastBorder},S.localize(171,null)),e.menuSeparatorBackground=t("menu.separatorBackground",{dark:"#606060",light:"#D4D4D4",hcDark:e.contrastBorder,hcLight:e.contrastBorder},S.localize(172,null)),e.toolbarHoverBackground=t("toolbar.hoverBackground",{dark:"#5a5d5e50",light:"#b8b8b850",hcDark:null,hcLight:null},S.localize(173,null)),e.toolbarHoverOutline=t("toolbar.hoverOutline",{dark:null,light:null,hcDark:e.activeContrastBorder,hcLight:e.activeContrastBorder},S.localize(174,null)),e.toolbarActiveBackground=t("toolbar.activeBackground",{dark:p(e.toolbarHoverBackground,.1),light:l(e.toolbarHoverBackground,.1),hcDark:null,hcLight:null},S.localize(175,null)),e.snippetTabstopHighlightBackground=t("editor.snippetTabstopHighlightBackground",{dark:new k.Color(new k.RGBA(124,124,124,.3)),light:new k.Color(new k.RGBA(10,50,100,.2)),hcDark:new k.Color(new k.RGBA(124,124,124,.3)),hcLight:new k.Color(new k.RGBA(10,50,100,.2))},S.localize(176,null)),e.snippetTabstopHighlightBorder=t("editor.snippetTabstopHighlightBorder",{dark:null,light:null,hcDark:null,hcLight:null},S.localize(177,null)),e.snippetFinalTabstopHighlightBackground=t("editor.snippetFinalTabstopHighlightBackground",{dark:null,light:null,hcDark:null,hcLight:null},S.localize(178,null)),e.snippetFinalTabstopHighlightBorder=t("editor.snippetFinalTabstopHighlightBorder",{dark:"#525252",light:new k.Color(new k.RGBA(10,50,100,.5)),hcDark:"#525252",hcLight:"#292929"},S.localize(179,null)),e.breadcrumbsForeground=t("breadcrumb.foreground",{light:m(e.foreground,.8),dark:m(e.foreground,.8),hcDark:m(e.foreground,.8),hcLight:m(e.foreground,.8)},S.localize(180,null)),e.breadcrumbsBackground=t("breadcrumb.background",{light:e.editorBackground,dark:e.editorBackground,hcDark:e.editorBackground,hcLight:e.editorBackground},S.localize(181,null)),e.breadcrumbsFocusForeground=t("breadcrumb.focusForeground",{light:l(e.foreground,.2),dark:p(e.foreground,.1),hcDark:p(e.foreground,.1),hcLight:p(e.foreground,.1)},S.localize(182,null)),e.breadcrumbsActiveSelectionForeground=t("breadcrumb.activeSelectionForeground",{light:l(e.foreground,.2),dark:p(e.foreground,.1),hcDark:p(e.foreground,.1),hcLight:p(e.foreground,.1)},S.localize(183,null)),e.breadcrumbsPickerBackground=t("breadcrumbPicker.background",{light:e.editorWidgetBackground,dark:e.editorWidgetBackground,hcDark:e.editorWidgetBackground,hcLight:e.editorWidgetBackground},S.localize(184,null));const a=.5,u=k.Color.fromHex("#40C8AE").transparent(a),h=k.Color.fromHex("#40A6FF").transparent(a),r=k.Color.fromHex("#606060").transparent(.4),c=.4,o=1;e.mergeCurrentHeaderBackground=t("merge.currentHeaderBackground",{dark:u,light:u,hcDark:null,hcLight:null},S.localize(185,null),!0),e.mergeCurrentContentBackground=t("merge.currentContentBackground",{dark:m(e.mergeCurrentHeaderBackground,c),light:m(e.mergeCurrentHeaderBackground,c),hcDark:m(e.mergeCurrentHeaderBackground,c),hcLight:m(e.mergeCurrentHeaderBackground,c)},S.localize(186,null),!0),e.mergeIncomingHeaderBackground=t("merge.incomingHeaderBackground",{dark:h,light:h,hcDark:null,hcLight:null},S.localize(187,null),!0),e.mergeIncomingContentBackground=t("merge.incomingContentBackground",{dark:m(e.mergeIncomingHeaderBackground,c),light:m(e.mergeIncomingHeaderBackground,c),hcDark:m(e.mergeIncomingHeaderBackground,c),hcLight:m(e.mergeIncomingHeaderBackground,c)},S.localize(188,null),!0),e.mergeCommonHeaderBackground=t("merge.commonHeaderBackground",{dark:r,light:r,hcDark:null,hcLight:null},S.localize(189,null),!0),e.mergeCommonContentBackground=t("merge.commonContentBackground",{dark:m(e.mergeCommonHeaderBackground,c),light:m(e.mergeCommonHeaderBackground,c),hcDark:m(e.mergeCommonHeaderBackground,c),hcLight:m(e.mergeCommonHeaderBackground,c)},S.localize(190,null),!0),e.mergeBorder=t("merge.border",{dark:null,light:null,hcDark:"#C3DF6F",hcLight:"#007ACC"},S.localize(191,null)),e.overviewRulerCurrentContentForeground=t("editorOverviewRuler.currentContentForeground",{dark:m(e.mergeCurrentHeaderBackground,o),light:m(e.mergeCurrentHeaderBackground,o),hcDark:e.mergeBorder,hcLight:e.mergeBorder},S.localize(192,null)),e.overviewRulerIncomingContentForeground=t("editorOverviewRuler.incomingContentForeground",{dark:m(e.mergeIncomingHeaderBackground,o),light:m(e.mergeIncomingHeaderBackground,o),hcDark:e.mergeBorder,hcLight:e.mergeBorder},S.localize(193,null)),e.overviewRulerCommonContentForeground=t("editorOverviewRuler.commonContentForeground",{dark:m(e.mergeCommonHeaderBackground,o),light:m(e.mergeCommonHeaderBackground,o),hcDark:e.mergeBorder,hcLight:e.mergeBorder},S.localize(194,null)),e.overviewRulerFindMatchForeground=t("editorOverviewRuler.findMatchForeground",{dark:"#d186167e",light:"#d186167e",hcDark:"#AB5A00",hcLight:""},S.localize(195,null),!0),e.overviewRulerSelectionHighlightForeground=t("editorOverviewRuler.selectionHighlightForeground",{dark:"#A0A0A0CC",light:"#A0A0A0CC",hcDark:"#A0A0A0CC",hcLight:"#A0A0A0CC"},S.localize(196,null),!0),e.minimapFindMatch=t("minimap.findMatchHighlight",{light:"#d18616",dark:"#d18616",hcDark:"#AB5A00",hcLight:"#0F4A85"},S.localize(197,null),!0),e.minimapSelectionOccurrenceHighlight=t("minimap.selectionOccurrenceHighlight",{light:"#c9c9c9",dark:"#676767",hcDark:"#ffffff",hcLight:"#0F4A85"},S.localize(198,null),!0),e.minimapSelection=t("minimap.selectionHighlight",{light:"#ADD6FF",dark:"#264F78",hcDark:"#ffffff",hcLight:"#0F4A85"},S.localize(199,null),!0),e.minimapError=t("minimap.errorHighlight",{dark:new k.Color(new k.RGBA(255,18,18,.7)),light:new k.Color(new k.RGBA(255,18,18,.7)),hcDark:new k.Color(new k.RGBA(255,50,50,1)),hcLight:"#B5200D"},S.localize(200,null)),e.minimapWarning=t("minimap.warningHighlight",{dark:e.editorWarningForeground,light:e.editorWarningForeground,hcDark:e.editorWarningBorder,hcLight:e.editorWarningBorder},S.localize(201,null)),e.minimapBackground=t("minimap.background",{dark:null,light:null,hcDark:null,hcLight:null},S.localize(202,null)),e.minimapForegroundOpacity=t("minimap.foregroundOpacity",{dark:k.Color.fromHex("#000f"),light:k.Color.fromHex("#000f"),hcDark:k.Color.fromHex("#000f"),hcLight:k.Color.fromHex("#000f")},S.localize(203,null)),e.minimapSliderBackground=t("minimapSlider.background",{light:m(e.scrollbarSliderBackground,.5),dark:m(e.scrollbarSliderBackground,.5),hcDark:m(e.scrollbarSliderBackground,.5),hcLight:m(e.scrollbarSliderBackground,.5)},S.localize(204,null)),e.minimapSliderHoverBackground=t("minimapSlider.hoverBackground",{light:m(e.scrollbarSliderHoverBackground,.5),dark:m(e.scrollbarSliderHoverBackground,.5),hcDark:m(e.scrollbarSliderHoverBackground,.5),hcLight:m(e.scrollbarSliderHoverBackground,.5)},S.localize(205,null)),e.minimapSliderActiveBackground=t("minimapSlider.activeBackground",{light:m(e.scrollbarSliderActiveBackground,.5),dark:m(e.scrollbarSliderActiveBackground,.5),hcDark:m(e.scrollbarSliderActiveBackground,.5),hcLight:m(e.scrollbarSliderActiveBackground,.5)},S.localize(206,null)),e.problemsErrorIconForeground=t("problemsErrorIcon.foreground",{dark:e.editorErrorForeground,light:e.editorErrorForeground,hcDark:e.editorErrorForeground,hcLight:e.editorErrorForeground},S.localize(207,null)),e.problemsWarningIconForeground=t("problemsWarningIcon.foreground",{dark:e.editorWarningForeground,light:e.editorWarningForeground,hcDark:e.editorWarningForeground,hcLight:e.editorWarningForeground},S.localize(208,null)),e.problemsInfoIconForeground=t("problemsInfoIcon.foreground",{dark:e.editorInfoForeground,light:e.editorInfoForeground,hcDark:e.editorInfoForeground,hcLight:e.editorInfoForeground},S.localize(209,null)),e.chartsForeground=t("charts.foreground",{dark:e.foreground,light:e.foreground,hcDark:e.foreground,hcLight:e.foreground},S.localize(210,null)),e.chartsLines=t("charts.lines",{dark:m(e.foreground,.5),light:m(e.foreground,.5),hcDark:m(e.foreground,.5),hcLight:m(e.foreground,.5)},S.localize(211,null)),e.chartsRed=t("charts.red",{dark:e.editorErrorForeground,light:e.editorErrorForeground,hcDark:e.editorErrorForeground,hcLight:e.editorErrorForeground},S.localize(212,null)),e.chartsBlue=t("charts.blue",{dark:e.editorInfoForeground,light:e.editorInfoForeground,hcDark:e.editorInfoForeground,hcLight:e.editorInfoForeground},S.localize(213,null)),e.chartsYellow=t("charts.yellow",{dark:e.editorWarningForeground,light:e.editorWarningForeground,hcDark:e.editorWarningForeground,hcLight:e.editorWarningForeground},S.localize(214,null)),e.chartsOrange=t("charts.orange",{dark:e.minimapFindMatch,light:e.minimapFindMatch,hcDark:e.minimapFindMatch,hcLight:e.minimapFindMatch},S.localize(215,null)),e.chartsGreen=t("charts.green",{dark:"#89D185",light:"#388A34",hcDark:"#89D185",hcLight:"#374e06"},S.localize(216,null)),e.chartsPurple=t("charts.purple",{dark:"#B180D7",light:"#652D90",hcDark:"#B180D7",hcLight:"#652D90"},S.localize(217,null));function d(P,x){var T,A,N,F;switch(P.op){case 0:return(T=E(P.value,x))===null||T===void 0?void 0:T.darken(P.factor);case 1:return(A=E(P.value,x))===null||A===void 0?void 0:A.lighten(P.factor);case 2:return(N=E(P.value,x))===null||N===void 0?void 0:N.transparent(P.factor);case 3:{const O=E(P.background,x);return O?(F=E(P.value,x))===null||F===void 0?void 0:F.makeOpaque(O):E(P.value,x)}case 4:for(const O of P.values){const W=E(O,x);if(W)return W}return;case 6:return E(x.defines(P.if)?P.then:P.else,x);case 5:{const O=E(P.value,x);if(!O)return;const W=E(P.background,x);return W?O.isDarkerThan(W)?k.Color.getLighterColor(O,W,P.factor).transparent(P.transparency):k.Color.getDarkerColor(O,W,P.factor).transparent(P.transparency):O.transparent(P.factor*P.transparency)}default:throw(0,D.assertNever)(P)}}e.executeTransform=d;function l(P,x){return{op:0,value:P,factor:x}}e.darken=l;function p(P,x){return{op:1,value:P,factor:x}}e.lighten=p;function m(P,x){return{op:2,value:P,factor:x}}e.transparent=m;function v(...P){return{op:4,values:P}}e.oneOf=v;function b(P,x,T){return{op:6,if:P,then:x,else:T}}e.ifDefinedThenElse=b;function w(P,x,T,A){return{op:5,value:P,background:x,factor:T,transparency:A}}function E(P,x){if(P!==null){if(typeof P=="string")return P[0]==="#"?k.Color.fromHex(P):x.getColor(P);if(P instanceof k.Color)return P;if(typeof P=="object")return d(P,x)}}e.resolveColorValue=E,e.workbenchColorsSchemaId="vscode://schemas/workbench-colors";const I=_.Registry.as(f.Extensions.JSONContribution);I.registerSchema(e.workbenchColorsSchemaId,n.getColorSchema());const M=new L.RunOnceScheduler(()=>I.notifySchemaChanged(e.workbenchColorsSchemaId),200);n.onDidChangeSchema(()=>{M.isScheduled()||M.schedule()})}),define(ne[159],se([1,0,7,152,60,13,2,31]),function(Q,e,L,k,y,D,S,f){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.DynamicCssRules=e.GlobalEditorPointerMoveMonitor=e.EditorPointerEventFactory=e.EditorMouseEventFactory=e.EditorMouseEvent=e.createCoordinatesRelativeToEditor=e.createEditorPagePosition=e.CoordinatesRelativeToEditor=e.EditorPagePosition=e.ClientCoordinates=e.PageCoordinates=void 0;class _{constructor(l,p){this.x=l,this.y=p,this._pageCoordinatesBrand=void 0}toClientCoordinates(){return new g(this.x-window.scrollX,this.y-window.scrollY)}}e.PageCoordinates=_;class g{constructor(l,p){this.clientX=l,this.clientY=p,this._clientCoordinatesBrand=void 0}toPageCoordinates(){return new _(this.clientX+window.scrollX,this.clientY+window.scrollY)}}e.ClientCoordinates=g;class C{constructor(l,p,m,v){this.x=l,this.y=p,this.width=m,this.height=v,this._editorPagePositionBrand=void 0}}e.EditorPagePosition=C;class s{constructor(l,p){this.x=l,this.y=p,this._positionRelativeToEditorBrand=void 0}}e.CoordinatesRelativeToEditor=s;function i(d){const l=L.getDomNodePagePosition(d);return new C(l.left,l.top,l.width,l.height)}e.createEditorPagePosition=i;function n(d,l,p){const m=l.width/d.offsetWidth,v=l.height/d.offsetHeight,b=(p.x-l.x)/m,w=(p.y-l.y)/v;return new s(b,w)}e.createCoordinatesRelativeToEditor=n;class t extends y.StandardMouseEvent{constructor(l,p,m){super(l),this._editorMouseEventBrand=void 0,this.isFromPointerCapture=p,this.pos=new _(this.posx,this.posy),this.editorPos=i(m),this.relativePos=n(m,this.editorPos,this.pos)}}e.EditorMouseEvent=t;class a{constructor(l){this._editorViewDomNode=l}_create(l){return new t(l,!1,this._editorViewDomNode)}onContextMenu(l,p){return L.addDisposableListener(l,"contextmenu",m=>{p(this._create(m))})}onMouseUp(l,p){return L.addDisposableListener(l,"mouseup",m=>{p(this._create(m))})}onMouseDown(l,p){return L.addDisposableListener(l,L.EventType.MOUSE_DOWN,m=>{p(this._create(m))})}onPointerDown(l,p){return L.addDisposableListener(l,L.EventType.POINTER_DOWN,m=>{p(this._create(m),m.pointerId)})}onMouseLeave(l,p){return L.addDisposableListener(l,L.EventType.MOUSE_LEAVE,m=>{p(this._create(m))})}onMouseMove(l,p){return L.addDisposableListener(l,"mousemove",m=>p(this._create(m)))}}e.EditorMouseEventFactory=a;class u{constructor(l){this._editorViewDomNode=l}_create(l){return new t(l,!1,this._editorViewDomNode)}onPointerUp(l,p){return L.addDisposableListener(l,"pointerup",m=>{p(this._create(m))})}onPointerDown(l,p){return L.addDisposableListener(l,L.EventType.POINTER_DOWN,m=>{p(this._create(m),m.pointerId)})}onPointerLeave(l,p){return L.addDisposableListener(l,L.EventType.POINTER_LEAVE,m=>{p(this._create(m))})}onPointerMove(l,p){return L.addDisposableListener(l,"pointermove",m=>p(this._create(m)))}}e.EditorPointerEventFactory=u;class h extends S.Disposable{constructor(l){super(),this._editorViewDomNode=l,this._globalPointerMoveMonitor=this._register(new k.GlobalPointerMoveMonitor),this._keydownListener=null}startMonitoring(l,p,m,v,b){this._keydownListener=L.addStandardDisposableListener(document,"keydown",w=>{w.toKeyCodeChord().isModifierKey()||this._globalPointerMoveMonitor.stopMonitoring(!0,w.browserEvent)},!0),this._globalPointerMoveMonitor.startMonitoring(l,p,m,w=>{v(new t(w,!0,this._editorViewDomNode))},w=>{this._keydownListener.dispose(),b(w)})}stopMonitoring(){this._globalPointerMoveMonitor.stopMonitoring(!0)}}e.GlobalEditorPointerMoveMonitor=h;class r{constructor(l){this._editor=l,this._instanceId=++r._idPool,this._counter=0,this._rules=new Map,this._garbageCollectionScheduler=new D.RunOnceScheduler(()=>this.garbageCollect(),1e3)}createClassNameRef(l){const p=this.getOrCreateRule(l);return p.increaseRefCount(),{className:p.className,dispose:()=>{p.decreaseRefCount(),this._garbageCollectionScheduler.schedule()}}}getOrCreateRule(l){const p=this.computeUniqueKey(l);let m=this._rules.get(p);if(!m){const v=this._counter++;m=new c(p,`dyn-rule-${this._instanceId}-${v}`,L.isInShadowDOM(this._editor.getContainerDomNode())?this._editor.getContainerDomNode():void 0,l),this._rules.set(p,m)}return m}computeUniqueKey(l){return JSON.stringify(l)}garbageCollect(){for(const l of this._rules.values())l.hasReferences()||(this._rules.delete(l.key),l.dispose())}}e.DynamicCssRules=r,r._idPool=0;class c{constructor(l,p,m,v){this.key=l,this.className=p,this.properties=v,this._referenceCount=0,this._styleElement=L.createStyleSheet(m),this._styleElement.textContent=this.getCssText(this.className,this.properties)}getCssText(l,p){let m=`.${l} {`;for(const v in p){const b=p[v];let w;typeof b=="object"?w=(0,f.asCssVariable)(b.id):w=b;const E=o(v);m+=`
	${E}: ${w};`}return m+=`
}`,m}dispose(){this._styleElement.remove()}increaseRefCount(){this._referenceCount++}decreaseRefCount(){this._referenceCount--}hasReferences(){return this._referenceCount>0}}function o(d){return d.replace(/(^[A-Z])/,([l])=>l.toLowerCase()).replace(/([A-Z])/g,([l])=>`-${l.toLowerCase()}`)}}),define(ne[821],se([1,0,7,35,152,2,17,11,229,53,36,5,274,328,67,31,24,61,481,48,99,425]),function(Q,e,L,k,y,D,S,f,_,g,C,s,i,n,t,a,u,h,r,c,o){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.Minimap=void 0;const d=140,l=2;class p{constructor(T,A,N){const F=T.options,O=F.get(140),W=F.get(142),U=W.minimap,j=F.get(49),R=F.get(71);this.renderMinimap=U.renderMinimap,this.size=R.size,this.minimapHeightIsEditorHeight=U.minimapHeightIsEditorHeight,this.scrollBeyondLastLine=F.get(103),this.paddingTop=F.get(82).top,this.paddingBottom=F.get(82).bottom,this.showSlider=R.showSlider,this.autohide=R.autohide,this.pixelRatio=O,this.typicalHalfwidthCharacterWidth=j.typicalHalfwidthCharacterWidth,this.lineHeight=F.get(65),this.minimapLeft=U.minimapLeft,this.minimapWidth=U.minimapWidth,this.minimapHeight=W.height,this.canvasInnerWidth=U.minimapCanvasInnerWidth,this.canvasInnerHeight=U.minimapCanvasInnerHeight,this.canvasOuterWidth=U.minimapCanvasOuterWidth,this.canvasOuterHeight=U.minimapCanvasOuterHeight,this.isSampling=U.minimapIsSampling,this.editorHeight=W.height,this.fontScale=U.minimapScale,this.minimapLineHeight=U.minimapLineHeight,this.minimapCharWidth=1*this.fontScale,this.charRenderer=(0,o.once)(()=>r.MinimapCharRendererFactory.create(this.fontScale,j.fontFamily)),this.defaultBackgroundColor=N.getColor(2),this.backgroundColor=p._getMinimapBackground(A,this.defaultBackgroundColor),this.foregroundAlpha=p._getMinimapForegroundOpacity(A)}static _getMinimapBackground(T,A){const N=T.getColor(a.minimapBackground);return N?new i.RGBA8(N.rgba.r,N.rgba.g,N.rgba.b,Math.round(255*N.rgba.a)):A}static _getMinimapForegroundOpacity(T){const A=T.getColor(a.minimapForegroundOpacity);return A?i.RGBA8._clamp(Math.round(255*A.rgba.a)):255}equals(T){return this.renderMinimap===T.renderMinimap&&this.size===T.size&&this.minimapHeightIsEditorHeight===T.minimapHeightIsEditorHeight&&this.scrollBeyondLastLine===T.scrollBeyondLastLine&&this.paddingTop===T.paddingTop&&this.paddingBottom===T.paddingBottom&&this.showSlider===T.showSlider&&this.autohide===T.autohide&&this.pixelRatio===T.pixelRatio&&this.typicalHalfwidthCharacterWidth===T.typicalHalfwidthCharacterWidth&&this.lineHeight===T.lineHeight&&this.minimapLeft===T.minimapLeft&&this.minimapWidth===T.minimapWidth&&this.minimapHeight===T.minimapHeight&&this.canvasInnerWidth===T.canvasInnerWidth&&this.canvasInnerHeight===T.canvasInnerHeight&&this.canvasOuterWidth===T.canvasOuterWidth&&this.canvasOuterHeight===T.canvasOuterHeight&&this.isSampling===T.isSampling&&this.editorHeight===T.editorHeight&&this.fontScale===T.fontScale&&this.minimapLineHeight===T.minimapLineHeight&&this.minimapCharWidth===T.minimapCharWidth&&this.defaultBackgroundColor&&this.defaultBackgroundColor.equals(T.defaultBackgroundColor)&&this.backgroundColor&&this.backgroundColor.equals(T.backgroundColor)&&this.foregroundAlpha===T.foregroundAlpha}}class m{constructor(T,A,N,F,O,W,U,j,R){this.scrollTop=T,this.scrollHeight=A,this.sliderNeeded=N,this._computedSliderRatio=F,this.sliderTop=O,this.sliderHeight=W,this.topPaddingLineCount=U,this.startLineNumber=j,this.endLineNumber=R}getDesiredScrollTopFromDelta(T){return Math.round(this.scrollTop+T/this._computedSliderRatio)}getDesiredScrollTopFromTouchLocation(T){return Math.round((T-this.sliderHeight/2)/this._computedSliderRatio)}intersectWithViewport(T){const A=Math.max(this.startLineNumber,T.startLineNumber),N=Math.min(this.endLineNumber,T.endLineNumber);return A>N?null:[A,N]}getYForLineNumber(T,A){return+(T-this.startLineNumber+this.topPaddingLineCount)*A}static create(T,A,N,F,O,W,U,j,R,K,G){const Z=T.pixelRatio,J=T.minimapLineHeight,X=Math.floor(T.canvasInnerHeight/J),H=T.lineHeight;if(T.minimapHeightIsEditorHeight){let de=j*T.lineHeight+T.paddingTop+T.paddingBottom;T.scrollBeyondLastLine&&(de+=Math.max(0,O-T.lineHeight-T.paddingBottom));const he=Math.max(1,Math.floor(O*O/de)),ue=Math.max(0,T.minimapHeight-he),te=ue/(K-O),q=R*te,z=ue>0,ee=Math.floor(T.canvasInnerHeight/T.minimapLineHeight),$=Math.floor(T.paddingTop/T.lineHeight);return new m(R,K,z,te,q,he,$,1,Math.min(U,ee))}let B;if(W&&N!==U){const de=N-A+1;B=Math.floor(de*J/Z)}else{const de=O/H;B=Math.floor(de*J/Z)}const V=Math.floor(T.paddingTop/H);let Y=Math.floor(T.paddingBottom/H);if(T.scrollBeyondLastLine){const de=O/H;Y=Math.max(Y,de-1)}let ie;if(Y>0){const de=O/H;ie=(V+U+Y-de-1)*J/Z}else ie=Math.max(0,(V+U)*J/Z-B);ie=Math.min(T.minimapHeight-B,ie);const ae=ie/(K-O),ce=R*ae;if(X>=V+U+Y){const de=ie>0;return new m(R,K,de,ae,ce,B,V,1,U)}else{let de;A>1?de=A+V:de=Math.max(1,R/H);let he,ue=Math.max(1,Math.floor(de-ce*Z/J));ue<V?(he=V-ue+1,ue=1):(he=0,ue=Math.max(1,ue-V)),G&&G.scrollHeight===K&&(G.scrollTop>R&&(ue=Math.min(ue,G.startLineNumber),he=Math.max(he,G.topPaddingLineCount)),G.scrollTop<R&&(ue=Math.max(ue,G.startLineNumber),he=Math.min(he,G.topPaddingLineCount)));const te=Math.min(U,ue-he+X-1),q=(R-F)/H;let z;return R>=T.paddingTop?z=(A-ue+he+q)*J/Z:z=R/T.paddingTop*(he+q)*J/Z,new m(R,K,!0,ae,z,B,he,ue,te)}}}class v{constructor(T){this.dy=T}onContentChanged(){this.dy=-1}onTokensChanged(){this.dy=-1}}v.INVALID=new v(-1);class b{constructor(T,A,N){this.renderedLayout=T,this._imageData=A,this._renderedLines=new _.RenderedLinesCollection(()=>v.INVALID),this._renderedLines._set(T.startLineNumber,N)}linesEquals(T){if(!this.scrollEquals(T))return!1;const N=this._renderedLines._get().lines;for(let F=0,O=N.length;F<O;F++)if(N[F].dy===-1)return!1;return!0}scrollEquals(T){return this.renderedLayout.startLineNumber===T.startLineNumber&&this.renderedLayout.endLineNumber===T.endLineNumber}_get(){const T=this._renderedLines._get();return{imageData:this._imageData,rendLineNumberStart:T.rendLineNumberStart,lines:T.lines}}onLinesChanged(T,A){return this._renderedLines.onLinesChanged(T,A)}onLinesDeleted(T,A){this._renderedLines.onLinesDeleted(T,A)}onLinesInserted(T,A){this._renderedLines.onLinesInserted(T,A)}onTokensChanged(T){return this._renderedLines.onTokensChanged(T)}}class w{constructor(T,A,N,F){this._backgroundFillData=w._createBackgroundFillData(A,N,F),this._buffers=[T.createImageData(A,N),T.createImageData(A,N)],this._lastUsedBuffer=0}getBuffer(){this._lastUsedBuffer=1-this._lastUsedBuffer;const T=this._buffers[this._lastUsedBuffer];return T.data.set(this._backgroundFillData),T}static _createBackgroundFillData(T,A,N){const F=N.r,O=N.g,W=N.b,U=N.a,j=new Uint8ClampedArray(T*A*4);let R=0;for(let K=0;K<A;K++)for(let G=0;G<T;G++)j[R]=F,j[R+1]=O,j[R+2]=W,j[R+3]=U,R+=4;return j}}class E{static compute(T,A,N){if(T.renderMinimap===0||!T.isSampling)return[null,[]];const{minimapLineCount:F}=C.EditorLayoutInfoComputer.computeContainedMinimapLineCount({viewLineCount:A,scrollBeyondLastLine:T.scrollBeyondLastLine,paddingTop:T.paddingTop,paddingBottom:T.paddingBottom,height:T.editorHeight,lineHeight:T.lineHeight,pixelRatio:T.pixelRatio}),O=A/F,W=O/2;if(!N||N.minimapLines.length===0){const B=[];if(B[0]=1,F>1){for(let V=0,Y=F-1;V<Y;V++)B[V]=Math.round(V*O+W);B[F-1]=A}return[new E(O,B),[]]}const U=N.minimapLines,j=U.length,R=[];let K=0,G=0,Z=1;const J=10;let X=[],H=null;for(let B=0;B<F;B++){const V=Math.max(Z,Math.round(B*O)),Y=Math.max(V,Math.round((B+1)*O));for(;K<j&&U[K]<V;){if(X.length<J){const ae=K+1+G;H&&H.type==="deleted"&&H._oldIndex===K-1?H.deleteToLineNumber++:(H={type:"deleted",_oldIndex:K,deleteFromLineNumber:ae,deleteToLineNumber:ae},X.push(H)),G--}K++}let ie;if(K<j&&U[K]<=Y)ie=U[K],K++;else if(B===0?ie=1:B+1===F?ie=A:ie=Math.round(B*O+W),X.length<J){const ae=K+1+G;H&&H.type==="inserted"&&H._i===B-1?H.insertToLineNumber++:(H={type:"inserted",_i:B,insertFromLineNumber:ae,insertToLineNumber:ae},X.push(H)),G++}R[B]=ie,Z=ie}if(X.length<J)for(;K<j;){const B=K+1+G;H&&H.type==="deleted"&&H._oldIndex===K-1?H.deleteToLineNumber++:(H={type:"deleted",_oldIndex:K,deleteFromLineNumber:B,deleteToLineNumber:B},X.push(H)),G--,K++}else X=[{type:"flush"}];return[new E(O,R),X]}constructor(T,A){this.samplingRatio=T,this.minimapLines=A}modelLineToMinimapLine(T){return Math.min(this.minimapLines.length,Math.max(1,Math.round(T/this.samplingRatio)))}modelLineRangeToMinimapLineRange(T,A){let N=this.modelLineToMinimapLine(T)-1;for(;N>0&&this.minimapLines[N-1]>=T;)N--;let F=this.modelLineToMinimapLine(A)-1;for(;F+1<this.minimapLines.length&&this.minimapLines[F+1]<=A;)F++;if(N===F){const O=this.minimapLines[N];if(O<T||O>A)return null}return[N+1,F+1]}decorationLineRangeToMinimapLineRange(T,A){let N=this.modelLineToMinimapLine(T),F=this.modelLineToMinimapLine(A);return T!==A&&F===N&&(F===this.minimapLines.length?N>1&&N--:F++),[N,F]}onLinesDeleted(T){const A=T.toLineNumber-T.fromLineNumber+1;let N=this.minimapLines.length,F=0;for(let O=this.minimapLines.length-1;O>=0&&!(this.minimapLines[O]<T.fromLineNumber);O--)this.minimapLines[O]<=T.toLineNumber?(this.minimapLines[O]=Math.max(1,T.fromLineNumber-1),N=Math.min(N,O),F=Math.max(F,O)):this.minimapLines[O]-=A;return[N,F]}onLinesInserted(T){const A=T.toLineNumber-T.fromLineNumber+1;for(let N=this.minimapLines.length-1;N>=0&&!(this.minimapLines[N]<T.fromLineNumber);N--)this.minimapLines[N]+=A}}class I extends g.ViewPart{constructor(T){super(T),this.tokensColorTracker=n.MinimapTokensColorTracker.getInstance(),this._selections=[],this._minimapSelections=null,this.options=new p(this._context.configuration,this._context.theme,this.tokensColorTracker);const[A]=E.compute(this.options,this._context.viewModel.getLineCount(),null);this._samplingState=A,this._shouldCheckSampling=!1,this._actual=new M(T.theme,this)}dispose(){this._actual.dispose(),super.dispose()}getDomNode(){return this._actual.getDomNode()}_onOptionsMaybeChanged(){const T=new p(this._context.configuration,this._context.theme,this.tokensColorTracker);return this.options.equals(T)?!1:(this.options=T,this._recreateLineSampling(),this._actual.onDidChangeOptions(),!0)}onConfigurationChanged(T){return this._onOptionsMaybeChanged()}onCursorStateChanged(T){return this._selections=T.selections,this._minimapSelections=null,this._actual.onSelectionChanged()}onDecorationsChanged(T){return T.affectsMinimap?this._actual.onDecorationsChanged():!1}onFlushed(T){return this._samplingState&&(this._shouldCheckSampling=!0),this._actual.onFlushed()}onLinesChanged(T){if(this._samplingState){const A=this._samplingState.modelLineRangeToMinimapLineRange(T.fromLineNumber,T.fromLineNumber+T.count-1);return A?this._actual.onLinesChanged(A[0],A[1]-A[0]+1):!1}else return this._actual.onLinesChanged(T.fromLineNumber,T.count)}onLinesDeleted(T){if(this._samplingState){const[A,N]=this._samplingState.onLinesDeleted(T);return A<=N&&this._actual.onLinesChanged(A+1,N-A+1),this._shouldCheckSampling=!0,!0}else return this._actual.onLinesDeleted(T.fromLineNumber,T.toLineNumber)}onLinesInserted(T){return this._samplingState?(this._samplingState.onLinesInserted(T),this._shouldCheckSampling=!0,!0):this._actual.onLinesInserted(T.fromLineNumber,T.toLineNumber)}onScrollChanged(T){return this._actual.onScrollChanged()}onThemeChanged(T){return this._actual.onThemeChanged(),this._onOptionsMaybeChanged(),!0}onTokensChanged(T){if(this._samplingState){const A=[];for(const N of T.ranges){const F=this._samplingState.modelLineRangeToMinimapLineRange(N.fromLineNumber,N.toLineNumber);F&&A.push({fromLineNumber:F[0],toLineNumber:F[1]})}return A.length?this._actual.onTokensChanged(A):!1}else return this._actual.onTokensChanged(T.ranges)}onTokensColorsChanged(T){return this._onOptionsMaybeChanged(),this._actual.onTokensColorsChanged()}onZonesChanged(T){return this._actual.onZonesChanged()}prepareRender(T){this._shouldCheckSampling&&(this._shouldCheckSampling=!1,this._recreateLineSampling())}render(T){let A=T.visibleRange.startLineNumber,N=T.visibleRange.endLineNumber;this._samplingState&&(A=this._samplingState.modelLineToMinimapLine(A),N=this._samplingState.modelLineToMinimapLine(N));const F={viewportContainsWhitespaceGaps:T.viewportData.whitespaceViewportData.length>0,scrollWidth:T.scrollWidth,scrollHeight:T.scrollHeight,viewportStartLineNumber:A,viewportEndLineNumber:N,viewportStartLineNumberVerticalOffset:T.getVerticalOffsetForLineNumber(A),scrollTop:T.scrollTop,scrollLeft:T.scrollLeft,viewportWidth:T.viewportWidth,viewportHeight:T.viewportHeight};this._actual.render(F)}_recreateLineSampling(){this._minimapSelections=null;const T=!!this._samplingState,[A,N]=E.compute(this.options,this._context.viewModel.getLineCount(),this._samplingState);if(this._samplingState=A,T&&this._samplingState)for(const F of N)switch(F.type){case"deleted":this._actual.onLinesDeleted(F.deleteFromLineNumber,F.deleteToLineNumber);break;case"inserted":this._actual.onLinesInserted(F.insertFromLineNumber,F.insertToLineNumber);break;case"flush":this._actual.onFlushed();break}}getLineCount(){return this._samplingState?this._samplingState.minimapLines.length:this._context.viewModel.getLineCount()}getRealLineCount(){return this._context.viewModel.getLineCount()}getLineContent(T){return this._samplingState?this._context.viewModel.getLineContent(this._samplingState.minimapLines[T-1]):this._context.viewModel.getLineContent(T)}getLineMaxColumn(T){return this._samplingState?this._context.viewModel.getLineMaxColumn(this._samplingState.minimapLines[T-1]):this._context.viewModel.getLineMaxColumn(T)}getMinimapLinesRenderingData(T,A,N){if(this._samplingState){const F=[];for(let O=0,W=A-T+1;O<W;O++)N[O]?F[O]=this._context.viewModel.getViewLineData(this._samplingState.minimapLines[T+O-1]):F[O]=null;return F}return this._context.viewModel.getMinimapLinesRenderingData(T,A,N).data}getSelections(){if(this._minimapSelections===null)if(this._samplingState){this._minimapSelections=[];for(const T of this._selections){const[A,N]=this._samplingState.decorationLineRangeToMinimapLineRange(T.startLineNumber,T.endLineNumber);this._minimapSelections.push(new u.Selection(A,T.startColumn,N,T.endColumn))}}else this._minimapSelections=this._selections;return this._minimapSelections}getMinimapDecorationsInViewport(T,A){let N;if(this._samplingState){const O=this._samplingState.minimapLines[T-1],W=this._samplingState.minimapLines[A-1];N=new s.Range(O,1,W,this._context.viewModel.getLineMaxColumn(W))}else N=new s.Range(T,1,A,this._context.viewModel.getLineMaxColumn(A));const F=this._context.viewModel.getMinimapDecorationsInRange(N);if(this._samplingState){const O=[];for(const W of F){if(!W.options.minimap)continue;const U=W.range,j=this._samplingState.modelLineToMinimapLine(U.startLineNumber),R=this._samplingState.modelLineToMinimapLine(U.endLineNumber);O.push(new t.ViewModelDecoration(new s.Range(j,U.startColumn,R,U.endColumn),W.options))}return O}return F}getOptions(){return this._context.viewModel.model.getOptions()}revealLineNumber(T){this._samplingState&&(T=this._samplingState.minimapLines[T-1]),this._context.viewModel.revealRange("mouse",!1,new s.Range(T,1,T,1),1,0)}setScrollTop(T){this._context.viewModel.viewLayout.setScrollPosition({scrollTop:T},1)}}e.Minimap=I;class M extends D.Disposable{constructor(T,A){super(),this._renderDecorations=!1,this._gestureInProgress=!1,this._theme=T,this._model=A,this._lastRenderData=null,this._buffers=null,this._selectionColor=this._theme.getColor(a.minimapSelection),this._domNode=(0,k.createFastDomNode)(document.createElement("div")),g.PartFingerprints.write(this._domNode,8),this._domNode.setClassName(this._getMinimapDomNodeClassName()),this._domNode.setPosition("absolute"),this._domNode.setAttribute("role","presentation"),this._domNode.setAttribute("aria-hidden","true"),this._shadow=(0,k.createFastDomNode)(document.createElement("div")),this._shadow.setClassName("minimap-shadow-hidden"),this._domNode.appendChild(this._shadow),this._canvas=(0,k.createFastDomNode)(document.createElement("canvas")),this._canvas.setPosition("absolute"),this._canvas.setLeft(0),this._domNode.appendChild(this._canvas),this._decorationsCanvas=(0,k.createFastDomNode)(document.createElement("canvas")),this._decorationsCanvas.setPosition("absolute"),this._decorationsCanvas.setClassName("minimap-decorations-layer"),this._decorationsCanvas.setLeft(0),this._domNode.appendChild(this._decorationsCanvas),this._slider=(0,k.createFastDomNode)(document.createElement("div")),this._slider.setPosition("absolute"),this._slider.setClassName("minimap-slider"),this._slider.setLayerHinting(!0),this._slider.setContain("strict"),this._domNode.appendChild(this._slider),this._sliderHorizontal=(0,k.createFastDomNode)(document.createElement("div")),this._sliderHorizontal.setPosition("absolute"),this._sliderHorizontal.setClassName("minimap-slider-horizontal"),this._slider.appendChild(this._sliderHorizontal),this._applyLayout(),this._pointerDownListener=L.addStandardDisposableListener(this._domNode.domNode,L.EventType.POINTER_DOWN,N=>{if(N.preventDefault(),this._model.options.renderMinimap===0||!this._lastRenderData)return;if(this._model.options.size!=="proportional"){if(N.button===0&&this._lastRenderData){const R=L.getDomNodePagePosition(this._slider.domNode),K=R.top+R.height/2;this._startSliderDragging(N,K,this._lastRenderData.renderedLayout)}return}const O=this._model.options.minimapLineHeight,W=this._model.options.canvasInnerHeight/this._model.options.canvasOuterHeight*N.offsetY;let j=Math.floor(W/O)+this._lastRenderData.renderedLayout.startLineNumber-this._lastRenderData.renderedLayout.topPaddingLineCount;j=Math.min(j,this._model.getLineCount()),this._model.revealLineNumber(j)}),this._sliderPointerMoveMonitor=new y.GlobalPointerMoveMonitor,this._sliderPointerDownListener=L.addStandardDisposableListener(this._slider.domNode,L.EventType.POINTER_DOWN,N=>{N.preventDefault(),N.stopPropagation(),N.button===0&&this._lastRenderData&&this._startSliderDragging(N,N.pageY,this._lastRenderData.renderedLayout)}),this._gestureDisposable=h.Gesture.addTarget(this._domNode.domNode),this._sliderTouchStartListener=L.addDisposableListener(this._domNode.domNode,h.EventType.Start,N=>{N.preventDefault(),N.stopPropagation(),this._lastRenderData&&(this._slider.toggleClassName("active",!0),this._gestureInProgress=!0,this.scrollDueToTouchEvent(N))},{passive:!1}),this._sliderTouchMoveListener=L.addDisposableListener(this._domNode.domNode,h.EventType.Change,N=>{N.preventDefault(),N.stopPropagation(),this._lastRenderData&&this._gestureInProgress&&this.scrollDueToTouchEvent(N)},{passive:!1}),this._sliderTouchEndListener=L.addStandardDisposableListener(this._domNode.domNode,h.EventType.End,N=>{N.preventDefault(),N.stopPropagation(),this._gestureInProgress=!1,this._slider.toggleClassName("active",!1)})}_startSliderDragging(T,A,N){if(!T.target||!(T.target instanceof Element))return;const F=T.pageX;this._slider.toggleClassName("active",!0);const O=(W,U)=>{const j=L.getDomNodePagePosition(this._domNode.domNode),R=Math.min(Math.abs(U-F),Math.abs(U-j.left),Math.abs(U-j.left-j.width));if(S.isWindows&&R>d){this._model.setScrollTop(N.scrollTop);return}const K=W-A;this._model.setScrollTop(N.getDesiredScrollTopFromDelta(K))};T.pageY!==A&&O(T.pageY,F),this._sliderPointerMoveMonitor.startMonitoring(T.target,T.pointerId,T.buttons,W=>O(W.pageY,W.pageX),()=>{this._slider.toggleClassName("active",!1)})}scrollDueToTouchEvent(T){const A=this._domNode.domNode.getBoundingClientRect().top,N=this._lastRenderData.renderedLayout.getDesiredScrollTopFromTouchLocation(T.pageY-A);this._model.setScrollTop(N)}dispose(){this._pointerDownListener.dispose(),this._sliderPointerMoveMonitor.dispose(),this._sliderPointerDownListener.dispose(),this._gestureDisposable.dispose(),this._sliderTouchStartListener.dispose(),this._sliderTouchMoveListener.dispose(),this._sliderTouchEndListener.dispose(),super.dispose()}_getMinimapDomNodeClassName(){const T=["minimap"];return this._model.options.showSlider==="always"?T.push("slider-always"):T.push("slider-mouseover"),this._model.options.autohide&&T.push("autohide"),T.join(" ")}getDomNode(){return this._domNode}_applyLayout(){this._domNode.setLeft(this._model.options.minimapLeft),this._domNode.setWidth(this._model.options.minimapWidth),this._domNode.setHeight(this._model.options.minimapHeight),this._shadow.setHeight(this._model.options.minimapHeight),this._canvas.setWidth(this._model.options.canvasOuterWidth),this._canvas.setHeight(this._model.options.canvasOuterHeight),this._canvas.domNode.width=this._model.options.canvasInnerWidth,this._canvas.domNode.height=this._model.options.canvasInnerHeight,this._decorationsCanvas.setWidth(this._model.options.canvasOuterWidth),this._decorationsCanvas.setHeight(this._model.options.canvasOuterHeight),this._decorationsCanvas.domNode.width=this._model.options.canvasInnerWidth,this._decorationsCanvas.domNode.height=this._model.options.canvasInnerHeight,this._slider.setWidth(this._model.options.minimapWidth)}_getBuffer(){return this._buffers||this._model.options.canvasInnerWidth>0&&this._model.options.canvasInnerHeight>0&&(this._buffers=new w(this._canvas.domNode.getContext("2d"),this._model.options.canvasInnerWidth,this._model.options.canvasInnerHeight,this._model.options.backgroundColor)),this._buffers?this._buffers.getBuffer():null}onDidChangeOptions(){this._lastRenderData=null,this._buffers=null,this._applyLayout(),this._domNode.setClassName(this._getMinimapDomNodeClassName())}onSelectionChanged(){return this._renderDecorations=!0,!0}onDecorationsChanged(){return this._renderDecorations=!0,!0}onFlushed(){return this._lastRenderData=null,!0}onLinesChanged(T,A){return this._lastRenderData?this._lastRenderData.onLinesChanged(T,A):!1}onLinesDeleted(T,A){var N;return(N=this._lastRenderData)===null||N===void 0||N.onLinesDeleted(T,A),!0}onLinesInserted(T,A){var N;return(N=this._lastRenderData)===null||N===void 0||N.onLinesInserted(T,A),!0}onScrollChanged(){return this._renderDecorations=!0,!0}onThemeChanged(){return this._selectionColor=this._theme.getColor(a.minimapSelection),this._renderDecorations=!0,!0}onTokensChanged(T){return this._lastRenderData?this._lastRenderData.onTokensChanged(T):!1}onTokensColorsChanged(){return this._lastRenderData=null,this._buffers=null,!0}onZonesChanged(){return this._lastRenderData=null,!0}render(T){if(this._model.options.renderMinimap===0){this._shadow.setClassName("minimap-shadow-hidden"),this._sliderHorizontal.setWidth(0),this._sliderHorizontal.setHeight(0);return}T.scrollLeft+T.viewportWidth>=T.scrollWidth?this._shadow.setClassName("minimap-shadow-hidden"):this._shadow.setClassName("minimap-shadow-visible");const N=m.create(this._model.options,T.viewportStartLineNumber,T.viewportEndLineNumber,T.viewportStartLineNumberVerticalOffset,T.viewportHeight,T.viewportContainsWhitespaceGaps,this._model.getLineCount(),this._model.getRealLineCount(),T.scrollTop,T.scrollHeight,this._lastRenderData?this._lastRenderData.renderedLayout:null);this._slider.setDisplay(N.sliderNeeded?"block":"none"),this._slider.setTop(N.sliderTop),this._slider.setHeight(N.sliderHeight),this._sliderHorizontal.setLeft(0),this._sliderHorizontal.setWidth(this._model.options.minimapWidth),this._sliderHorizontal.setTop(0),this._sliderHorizontal.setHeight(N.sliderHeight),this.renderDecorations(N),this._lastRenderData=this.renderLines(N)}renderDecorations(T){if(this._renderDecorations){this._renderDecorations=!1;const A=this._model.getSelections();A.sort(s.Range.compareRangesUsingStarts);const N=this._model.getMinimapDecorationsInViewport(T.startLineNumber,T.endLineNumber);N.sort((Z,J)=>(Z.options.zIndex||0)-(J.options.zIndex||0));const{canvasInnerWidth:F,canvasInnerHeight:O}=this._model.options,W=this._model.options.minimapLineHeight,U=this._model.options.minimapCharWidth,j=this._model.getOptions().tabSize,R=this._decorationsCanvas.domNode.getContext("2d");R.clearRect(0,0,F,O);const K=new P(T.startLineNumber,T.endLineNumber,!1);this._renderSelectionLineHighlights(R,A,K,T,W),this._renderDecorationsLineHighlights(R,N,K,T,W);const G=new P(T.startLineNumber,T.endLineNumber,null);this._renderSelectionsHighlights(R,A,G,T,W,j,U,F),this._renderDecorationsHighlights(R,N,G,T,W,j,U,F)}}_renderSelectionLineHighlights(T,A,N,F,O){if(!this._selectionColor||this._selectionColor.isTransparent())return;T.fillStyle=this._selectionColor.transparent(.5).toString();let W=0,U=0;for(const j of A){const R=F.intersectWithViewport(j);if(!R)continue;const[K,G]=R;for(let X=K;X<=G;X++)N.set(X,!0);const Z=F.getYForLineNumber(K,O),J=F.getYForLineNumber(G,O);U>=Z||(U>W&&T.fillRect(C.MINIMAP_GUTTER_WIDTH,W,T.canvas.width,U-W),W=Z),U=J}U>W&&T.fillRect(C.MINIMAP_GUTTER_WIDTH,W,T.canvas.width,U-W)}_renderDecorationsLineHighlights(T,A,N,F,O){const W=new Map;for(let U=A.length-1;U>=0;U--){const j=A[U],R=j.options.minimap;if(!R||R.position!==c.MinimapPosition.Inline)continue;const K=F.intersectWithViewport(j.range);if(!K)continue;const[G,Z]=K,J=R.getColor(this._theme.value);if(!J||J.isTransparent())continue;let X=W.get(J.toString());X||(X=J.transparent(.5).toString(),W.set(J.toString(),X)),T.fillStyle=X;for(let H=G;H<=Z;H++){if(N.has(H))continue;N.set(H,!0);const B=F.getYForLineNumber(G,O);T.fillRect(C.MINIMAP_GUTTER_WIDTH,B,T.canvas.width,O)}}}_renderSelectionsHighlights(T,A,N,F,O,W,U,j){if(!(!this._selectionColor||this._selectionColor.isTransparent()))for(const R of A){const K=F.intersectWithViewport(R);if(!K)continue;const[G,Z]=K;for(let J=G;J<=Z;J++)this.renderDecorationOnLine(T,N,R,this._selectionColor,F,J,O,O,W,U,j)}}_renderDecorationsHighlights(T,A,N,F,O,W,U,j){for(const R of A){const K=R.options.minimap;if(!K)continue;const G=F.intersectWithViewport(R.range);if(!G)continue;const[Z,J]=G,X=K.getColor(this._theme.value);if(!(!X||X.isTransparent()))for(let H=Z;H<=J;H++)switch(K.position){case c.MinimapPosition.Inline:this.renderDecorationOnLine(T,N,R.range,X,F,H,O,O,W,U,j);continue;case c.MinimapPosition.Gutter:{const B=F.getYForLineNumber(H,O),V=2;this.renderDecoration(T,X,V,B,l,O);continue}}}}renderDecorationOnLine(T,A,N,F,O,W,U,j,R,K,G){const Z=O.getYForLineNumber(W,j);if(Z+U<0||Z>this._model.options.canvasInnerHeight)return;const{startLineNumber:J,endLineNumber:X}=N,H=J===W?N.startColumn:1,B=X===W?N.endColumn:this._model.getLineMaxColumn(W),V=this.getXOffsetForPosition(A,W,H,R,K,G),Y=this.getXOffsetForPosition(A,W,B,R,K,G);this.renderDecoration(T,F,V,Z,Y-V,U)}getXOffsetForPosition(T,A,N,F,O,W){if(N===1)return C.MINIMAP_GUTTER_WIDTH;if((N-1)*O>=W)return W;let j=T.get(A);if(!j){const R=this._model.getLineContent(A);j=[C.MINIMAP_GUTTER_WIDTH];let K=C.MINIMAP_GUTTER_WIDTH;for(let G=1;G<R.length+1;G++){const Z=R.charCodeAt(G-1),J=Z===9?F*O:f.isFullWidthCharacter(Z)?2*O:O,X=K+J;if(X>=W){j[G]=W;break}j[G]=X,K=X}T.set(A,j)}return N-1<j.length?j[N-1]:W}renderDecoration(T,A,N,F,O,W){T.fillStyle=A&&A.toString()||"",T.fillRect(N,F,O,W)}renderLines(T){const A=T.startLineNumber,N=T.endLineNumber,F=this._model.options.minimapLineHeight;if(this._lastRenderData&&this._lastRenderData.linesEquals(T)){const oe=this._lastRenderData._get();return new b(T,oe.imageData,oe.lines)}const O=this._getBuffer();if(!O)return null;const[W,U,j]=M._renderUntouchedLines(O,T.topPaddingLineCount,A,N,F,this._lastRenderData),R=this._model.getMinimapLinesRenderingData(A,N,j),K=this._model.getOptions().tabSize,G=this._model.options.defaultBackgroundColor,Z=this._model.options.backgroundColor,J=this._model.options.foregroundAlpha,X=this._model.tokensColorTracker,H=X.backgroundIsLight(),B=this._model.options.renderMinimap,V=this._model.options.charRenderer(),Y=this._model.options.fontScale,ie=this._model.options.minimapCharWidth,ce=(B===1?2:2+1)*Y,de=F>ce?Math.floor((F-ce)/2):0,he=Z.a/255,ue=new i.RGBA8(Math.round((Z.r-G.r)*he+G.r),Math.round((Z.g-G.g)*he+G.g),Math.round((Z.b-G.b)*he+G.b),255);let te=T.topPaddingLineCount*F;const q=[];for(let oe=0,ge=N-A+1;oe<ge;oe++)j[oe]&&M._renderLine(O,ue,Z.a,H,B,ie,X,J,V,te,de,K,R[oe],Y,F),q[oe]=new v(te),te+=F;const z=W===-1?0:W,$=(U===-1?O.height:U)-z;return this._canvas.domNode.getContext("2d").putImageData(O,0,0,0,z,O.width,$),new b(T,O,q)}static _renderUntouchedLines(T,A,N,F,O,W){const U=[];if(!W){for(let te=0,q=F-N+1;te<q;te++)U[te]=!0;return[-1,-1,U]}const j=W._get(),R=j.imageData.data,K=j.rendLineNumberStart,G=j.lines,Z=G.length,J=T.width,X=T.data,H=(F-N+1)*O*J*4;let B=-1,V=-1,Y=-1,ie=-1,ae=-1,ce=-1,de=A*O;for(let te=N;te<=F;te++){const q=te-N,z=te-K,ee=z>=0&&z<Z?G[z].dy:-1;if(ee===-1){U[q]=!0,de+=O;continue}const $=ee*J*4,re=(ee+O)*J*4,oe=de*J*4,ge=(de+O)*J*4;ie===$&&ce===oe?(ie=re,ce=ge):(Y!==-1&&(X.set(R.subarray(Y,ie),ae),B===-1&&Y===0&&Y===ae&&(B=ie),V===-1&&ie===H&&Y===ae&&(V=Y)),Y=$,ie=re,ae=oe,ce=ge),U[q]=!1,de+=O}Y!==-1&&(X.set(R.subarray(Y,ie),ae),B===-1&&Y===0&&Y===ae&&(B=ie),V===-1&&ie===H&&Y===ae&&(V=Y));const he=B===-1?-1:B/(J*4),ue=V===-1?-1:V/(J*4);return[he,ue,U]}static _renderLine(T,A,N,F,O,W,U,j,R,K,G,Z,J,X,H){const B=J.content,V=J.tokens,Y=T.width-W,ie=H===1;let ae=C.MINIMAP_GUTTER_WIDTH,ce=0,de=0;for(let he=0,ue=V.getCount();he<ue;he++){const te=V.getEndOffset(he),q=V.getForeground(he),z=U.getColor(q);for(;ce<te;ce++){if(ae>Y)return;const ee=B.charCodeAt(ce);if(ee===9){const $=Z-(ce+de)%Z;de+=$-1,ae+=$*W}else if(ee===32)ae+=W;else{const $=f.isFullWidthCharacter(ee)?2:1;for(let re=0;re<$;re++)if(O===2?R.blockRenderChar(T,ae,K+G,z,j,A,N,ie):R.renderChar(T,ae,K+G,ee,z,j,A,N,X,F,ie),ae+=W,ae>Y)return}}}}}class P{constructor(T,A,N){this._startLineNumber=T,this._endLineNumber=A,this._defaultValue=N,this._values=[];for(let F=0,O=this._endLineNumber-this._startLineNumber+1;F<O;F++)this._values[F]=N}has(T){return this.get(T)!==this._defaultValue}set(T,A){T<this._startLineNumber||T>this._endLineNumber||(this._values[T-this._startLineNumber]=A)}get(T){return T<this._startLineNumber||T>this._endLineNumber?this._defaultValue:this._values[T-this._startLineNumber]}}}),define(ne[822],se([1,0,608,31]),function(Q,e,L,k){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.diffMoveBorderActive=e.diffMoveBorder=void 0,e.diffMoveBorder=(0,k.registerColor)("diffEditor.move.border",{dark:"#8b8b8b9c",light:"#8b8b8b9c",hcDark:"#8b8b8b9c",hcLight:"#8b8b8b9c"},(0,L.localize)(0,null)),e.diffMoveBorderActive=(0,k.registerColor)("diffEditor.moveActive.border",{dark:"#FFA500",light:"#FFA500",hcDark:"#FFA500",hcLight:"#FFA500"},(0,L.localize)(1,null))}),define(ne[249],se([1,0,706,31,463]),function(Q,e,L,k){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.SYMBOL_ICON_VARIABLE_FOREGROUND=e.SYMBOL_ICON_UNIT_FOREGROUND=e.SYMBOL_ICON_TYPEPARAMETER_FOREGROUND=e.SYMBOL_ICON_TEXT_FOREGROUND=e.SYMBOL_ICON_STRUCT_FOREGROUND=e.SYMBOL_ICON_STRING_FOREGROUND=e.SYMBOL_ICON_SNIPPET_FOREGROUND=e.SYMBOL_ICON_REFERENCE_FOREGROUND=e.SYMBOL_ICON_PROPERTY_FOREGROUND=e.SYMBOL_ICON_PACKAGE_FOREGROUND=e.SYMBOL_ICON_OPERATOR_FOREGROUND=e.SYMBOL_ICON_OBJECT_FOREGROUND=e.SYMBOL_ICON_NUMBER_FOREGROUND=e.SYMBOL_ICON_NULL_FOREGROUND=e.SYMBOL_ICON_NAMESPACE_FOREGROUND=e.SYMBOL_ICON_MODULE_FOREGROUND=e.SYMBOL_ICON_METHOD_FOREGROUND=e.SYMBOL_ICON_KEYWORD_FOREGROUND=e.SYMBOL_ICON_KEY_FOREGROUND=e.SYMBOL_ICON_INTERFACE_FOREGROUND=e.SYMBOL_ICON_FUNCTION_FOREGROUND=e.SYMBOL_ICON_FOLDER_FOREGROUND=e.SYMBOL_ICON_FILE_FOREGROUND=e.SYMBOL_ICON_FIELD_FOREGROUND=e.SYMBOL_ICON_EVENT_FOREGROUND=e.SYMBOL_ICON_ENUMERATOR_MEMBER_FOREGROUND=e.SYMBOL_ICON_ENUMERATOR_FOREGROUND=e.SYMBOL_ICON_CONSTRUCTOR_FOREGROUND=e.SYMBOL_ICON_CONSTANT_FOREGROUND=e.SYMBOL_ICON_COLOR_FOREGROUND=e.SYMBOL_ICON_CLASS_FOREGROUND=e.SYMBOL_ICON_BOOLEAN_FOREGROUND=e.SYMBOL_ICON_ARRAY_FOREGROUND=void 0,e.SYMBOL_ICON_ARRAY_FOREGROUND=(0,k.registerColor)("symbolIcon.arrayForeground",{dark:k.foreground,light:k.foreground,hcDark:k.foreground,hcLight:k.foreground},(0,L.localize)(0,null)),e.SYMBOL_ICON_BOOLEAN_FOREGROUND=(0,k.registerColor)("symbolIcon.booleanForeground",{dark:k.foreground,light:k.foreground,hcDark:k.foreground,hcLight:k.foreground},(0,L.localize)(1,null)),e.SYMBOL_ICON_CLASS_FOREGROUND=(0,k.registerColor)("symbolIcon.classForeground",{dark:"#EE9D28",light:"#D67E00",hcDark:"#EE9D28",hcLight:"#D67E00"},(0,L.localize)(2,null)),e.SYMBOL_ICON_COLOR_FOREGROUND=(0,k.registerColor)("symbolIcon.colorForeground",{dark:k.foreground,light:k.foreground,hcDark:k.foreground,hcLight:k.foreground},(0,L.localize)(3,null)),e.SYMBOL_ICON_CONSTANT_FOREGROUND=(0,k.registerColor)("symbolIcon.constantForeground",{dark:k.foreground,light:k.foreground,hcDark:k.foreground,hcLight:k.foreground},(0,L.localize)(4,null)),e.SYMBOL_ICON_CONSTRUCTOR_FOREGROUND=(0,k.registerColor)("symbolIcon.constructorForeground",{dark:"#B180D7",light:"#652D90",hcDark:"#B180D7",hcLight:"#652D90"},(0,L.localize)(5,null)),e.SYMBOL_ICON_ENUMERATOR_FOREGROUND=(0,k.registerColor)("symbolIcon.enumeratorForeground",{dark:"#EE9D28",light:"#D67E00",hcDark:"#EE9D28",hcLight:"#D67E00"},(0,L.localize)(6,null)),e.SYMBOL_ICON_ENUMERATOR_MEMBER_FOREGROUND=(0,k.registerColor)("symbolIcon.enumeratorMemberForeground",{dark:"#75BEFF",light:"#007ACC",hcDark:"#75BEFF",hcLight:"#007ACC"},(0,L.localize)(7,null)),e.SYMBOL_ICON_EVENT_FOREGROUND=(0,k.registerColor)("symbolIcon.eventForeground",{dark:"#EE9D28",light:"#D67E00",hcDark:"#EE9D28",hcLight:"#D67E00"},(0,L.localize)(8,null)),e.SYMBOL_ICON_FIELD_FOREGROUND=(0,k.registerColor)("symbolIcon.fieldForeground",{dark:"#75BEFF",light:"#007ACC",hcDark:"#75BEFF",hcLight:"#007ACC"},(0,L.localize)(9,null)),e.SYMBOL_ICON_FILE_FOREGROUND=(0,k.registerColor)("symbolIcon.fileForeground",{dark:k.foreground,light:k.foreground,hcDark:k.foreground,hcLight:k.foreground},(0,L.localize)(10,null)),e.SYMBOL_ICON_FOLDER_FOREGROUND=(0,k.registerColor)("symbolIcon.folderForeground",{dark:k.foreground,light:k.foreground,hcDark:k.foreground,hcLight:k.foreground},(0,L.localize)(11,null)),e.SYMBOL_ICON_FUNCTION_FOREGROUND=(0,k.registerColor)("symbolIcon.functionForeground",{dark:"#B180D7",light:"#652D90",hcDark:"#B180D7",hcLight:"#652D90"},(0,L.localize)(12,null)),e.SYMBOL_ICON_INTERFACE_FOREGROUND=(0,k.registerColor)("symbolIcon.interfaceForeground",{dark:"#75BEFF",light:"#007ACC",hcDark:"#75BEFF",hcLight:"#007ACC"},(0,L.localize)(13,null)),e.SYMBOL_ICON_KEY_FOREGROUND=(0,k.registerColor)("symbolIcon.keyForeground",{dark:k.foreground,light:k.foreground,hcDark:k.foreground,hcLight:k.foreground},(0,L.localize)(14,null)),e.SYMBOL_ICON_KEYWORD_FOREGROUND=(0,k.registerColor)("symbolIcon.keywordForeground",{dark:k.foreground,light:k.foreground,hcDark:k.foreground,hcLight:k.foreground},(0,L.localize)(15,null)),e.SYMBOL_ICON_METHOD_FOREGROUND=(0,k.registerColor)("symbolIcon.methodForeground",{dark:"#B180D7",light:"#652D90",hcDark:"#B180D7",hcLight:"#652D90"},(0,L.localize)(16,null)),e.SYMBOL_ICON_MODULE_FOREGROUND=(0,k.registerColor)("symbolIcon.moduleForeground",{dark:k.foreground,light:k.foreground,hcDark:k.foreground,hcLight:k.foreground},(0,L.localize)(17,null)),e.SYMBOL_ICON_NAMESPACE_FOREGROUND=(0,k.registerColor)("symbolIcon.namespaceForeground",{dark:k.foreground,light:k.foreground,hcDark:k.foreground,hcLight:k.foreground},(0,L.localize)(18,null)),e.SYMBOL_ICON_NULL_FOREGROUND=(0,k.registerColor)("symbolIcon.nullForeground",{dark:k.foreground,light:k.foreground,hcDark:k.foreground,hcLight:k.foreground},(0,L.localize)(19,null)),e.SYMBOL_ICON_NUMBER_FOREGROUND=(0,k.registerColor)("symbolIcon.numberForeground",{dark:k.foreground,light:k.foreground,hcDark:k.foreground,hcLight:k.foreground},(0,L.localize)(20,null)),e.SYMBOL_ICON_OBJECT_FOREGROUND=(0,k.registerColor)("symbolIcon.objectForeground",{dark:k.foreground,light:k.foreground,hcDark:k.foreground,hcLight:k.foreground},(0,L.localize)(21,null)),e.SYMBOL_ICON_OPERATOR_FOREGROUND=(0,k.registerColor)("symbolIcon.operatorForeground",{dark:k.foreground,light:k.foreground,hcDark:k.foreground,hcLight:k.foreground},(0,L.localize)(22,null)),e.SYMBOL_ICON_PACKAGE_FOREGROUND=(0,k.registerColor)("symbolIcon.packageForeground",{dark:k.foreground,light:k.foreground,hcDark:k.foreground,hcLight:k.foreground},(0,L.localize)(23,null)),e.SYMBOL_ICON_PROPERTY_FOREGROUND=(0,k.registerColor)("symbolIcon.propertyForeground",{dark:k.foreground,light:k.foreground,hcDark:k.foreground,hcLight:k.foreground},(0,L.localize)(24,null)),e.SYMBOL_ICON_REFERENCE_FOREGROUND=(0,k.registerColor)("symbolIcon.referenceForeground",{dark:k.foreground,light:k.foreground,hcDark:k.foreground,hcLight:k.foreground},(0,L.localize)(25,null)),e.SYMBOL_ICON_SNIPPET_FOREGROUND=(0,k.registerColor)("symbolIcon.snippetForeground",{dark:k.foreground,light:k.foreground,hcDark:k.foreground,hcLight:k.foreground},(0,L.localize)(26,null)),e.SYMBOL_ICON_STRING_FOREGROUND=(0,k.registerColor)("symbolIcon.stringForeground",{dark:k.foreground,light:k.foreground,hcDark:k.foreground,hcLight:k.foreground},(0,L.localize)(27,null)),e.SYMBOL_ICON_STRUCT_FOREGROUND=(0,k.registerColor)("symbolIcon.structForeground",{dark:k.foreground,light:k.foreground,hcDark:k.foreground,hcLight:k.foreground},(0,L.localize)(28,null)),e.SYMBOL_ICON_TEXT_FOREGROUND=(0,k.registerColor)("symbolIcon.textForeground",{dark:k.foreground,light:k.foreground,hcDark:k.foreground,hcLight:k.foreground},(0,L.localize)(29,null)),e.SYMBOL_ICON_TYPEPARAMETER_FOREGROUND=(0,k.registerColor)("symbolIcon.typeParameterForeground",{dark:k.foreground,light:k.foreground,hcDark:k.foreground,hcLight:k.foreground},(0,L.localize)(30,null)),e.SYMBOL_ICON_UNIT_FOREGROUND=(0,k.registerColor)("symbolIcon.unitForeground",{dark:k.foreground,light:k.foreground,hcDark:k.foreground,hcLight:k.foreground},(0,L.localize)(31,null)),e.SYMBOL_ICON_VARIABLE_FOREGROUND=(0,k.registerColor)("symbolIcon.variableForeground",{dark:"#75BEFF",light:"#007ACC",hcDark:"#75BEFF",hcLight:"#007ACC"},(0,L.localize)(32,null))}),define(ne[823],se([1,0,25,113,641,172,249]),function(Q,e,L,k,y){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.toMenuItems=void 0;const D=Object.freeze({kind:k.CodeActionKind.Empty,title:(0,y.localize)(0,null)}),S=Object.freeze([{kind:k.CodeActionKind.QuickFix,title:(0,y.localize)(1,null)},{kind:k.CodeActionKind.RefactorExtract,title:(0,y.localize)(2,null),icon:L.Codicon.wrench},{kind:k.CodeActionKind.RefactorInline,title:(0,y.localize)(3,null),icon:L.Codicon.wrench},{kind:k.CodeActionKind.RefactorRewrite,title:(0,y.localize)(4,null),icon:L.Codicon.wrench},{kind:k.CodeActionKind.RefactorMove,title:(0,y.localize)(5,null),icon:L.Codicon.wrench},{kind:k.CodeActionKind.SurroundWith,title:(0,y.localize)(6,null),icon:L.Codicon.symbolSnippet},{kind:k.CodeActionKind.Source,title:(0,y.localize)(7,null),icon:L.Codicon.symbolFile},D]);function f(_,g,C){if(!g)return _.map(n=>({kind:"action",item:n,group:D,disabled:!!n.action.disabled,label:n.action.disabled||n.action.title}));const s=S.map(n=>({group:n,actions:[]}));for(const n of _){const t=n.action.kind?new k.CodeActionKind(n.action.kind):k.CodeActionKind.None;for(const a of s)if(a.group.kind.contains(t)){a.actions.push(n);break}}const i=[];for(const n of s)if(n.actions.length){i.push({kind:"header",group:n.group});for(const t of n.actions)i.push({kind:"action",item:t,group:n.group,label:t.action.title,disabled:!!t.action.disabled,keybinding:C(t.action)})}return i}e.toMenuItems=f}),define(ne[105],se([1,0,31,38]),function(Q,e,L,k){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.defaultMenuStyles=e.defaultSelectBoxStyles=e.getListStyles=e.defaultListStyles=e.defaultBreadcrumbsWidgetStyles=e.defaultCountBadgeStyles=e.defaultFindWidgetStyles=e.defaultInputBoxStyles=e.defaultDialogStyles=e.defaultCheckboxStyles=e.defaultToggleStyles=e.defaultProgressBarStyles=e.defaultButtonStyles=e.defaultKeybindingLabelStyles=void 0;function y(S,f){const _=Object.assign({},f);for(const g in S){const C=S[g];_[g]=C!==void 0?(0,L.asCssVariable)(C):void 0}return _}e.defaultKeybindingLabelStyles={keybindingLabelBackground:(0,L.asCssVariable)(L.keybindingLabelBackground),keybindingLabelForeground:(0,L.asCssVariable)(L.keybindingLabelForeground),keybindingLabelBorder:(0,L.asCssVariable)(L.keybindingLabelBorder),keybindingLabelBottomBorder:(0,L.asCssVariable)(L.keybindingLabelBottomBorder),keybindingLabelShadow:(0,L.asCssVariable)(L.widgetShadow)},e.defaultButtonStyles={buttonForeground:(0,L.asCssVariable)(L.buttonForeground),buttonSeparator:(0,L.asCssVariable)(L.buttonSeparator),buttonBackground:(0,L.asCssVariable)(L.buttonBackground),buttonHoverBackground:(0,L.asCssVariable)(L.buttonHoverBackground),buttonSecondaryForeground:(0,L.asCssVariable)(L.buttonSecondaryForeground),buttonSecondaryBackground:(0,L.asCssVariable)(L.buttonSecondaryBackground),buttonSecondaryHoverBackground:(0,L.asCssVariable)(L.buttonSecondaryHoverBackground),buttonBorder:(0,L.asCssVariable)(L.buttonBorder)},e.defaultProgressBarStyles={progressBarBackground:(0,L.asCssVariable)(L.progressBarBackground)},e.defaultToggleStyles={inputActiveOptionBorder:(0,L.asCssVariable)(L.inputActiveOptionBorder),inputActiveOptionForeground:(0,L.asCssVariable)(L.inputActiveOptionForeground),inputActiveOptionBackground:(0,L.asCssVariable)(L.inputActiveOptionBackground)},e.defaultCheckboxStyles={checkboxBackground:(0,L.asCssVariable)(L.checkboxBackground),checkboxBorder:(0,L.asCssVariable)(L.checkboxBorder),checkboxForeground:(0,L.asCssVariable)(L.checkboxForeground)},e.defaultDialogStyles={dialogBackground:(0,L.asCssVariable)(L.editorWidgetBackground),dialogForeground:(0,L.asCssVariable)(L.editorWidgetForeground),dialogShadow:(0,L.asCssVariable)(L.widgetShadow),dialogBorder:(0,L.asCssVariable)(L.contrastBorder),errorIconForeground:(0,L.asCssVariable)(L.problemsErrorIconForeground),warningIconForeground:(0,L.asCssVariable)(L.problemsWarningIconForeground),infoIconForeground:(0,L.asCssVariable)(L.problemsInfoIconForeground),textLinkForeground:(0,L.asCssVariable)(L.textLinkForeground)},e.defaultInputBoxStyles={inputBackground:(0,L.asCssVariable)(L.inputBackground),inputForeground:(0,L.asCssVariable)(L.inputForeground),inputBorder:(0,L.asCssVariable)(L.inputBorder),inputValidationInfoBorder:(0,L.asCssVariable)(L.inputValidationInfoBorder),inputValidationInfoBackground:(0,L.asCssVariable)(L.inputValidationInfoBackground),inputValidationInfoForeground:(0,L.asCssVariable)(L.inputValidationInfoForeground),inputValidationWarningBorder:(0,L.asCssVariable)(L.inputValidationWarningBorder),inputValidationWarningBackground:(0,L.asCssVariable)(L.inputValidationWarningBackground),inputValidationWarningForeground:(0,L.asCssVariable)(L.inputValidationWarningForeground),inputValidationErrorBorder:(0,L.asCssVariable)(L.inputValidationErrorBorder),inputValidationErrorBackground:(0,L.asCssVariable)(L.inputValidationErrorBackground),inputValidationErrorForeground:(0,L.asCssVariable)(L.inputValidationErrorForeground)},e.defaultFindWidgetStyles={listFilterWidgetBackground:(0,L.asCssVariable)(L.listFilterWidgetBackground),listFilterWidgetOutline:(0,L.asCssVariable)(L.listFilterWidgetOutline),listFilterWidgetNoMatchesOutline:(0,L.asCssVariable)(L.listFilterWidgetNoMatchesOutline),listFilterWidgetShadow:(0,L.asCssVariable)(L.listFilterWidgetShadow),inputBoxStyles:e.defaultInputBoxStyles,toggleStyles:e.defaultToggleStyles},e.defaultCountBadgeStyles={badgeBackground:(0,L.asCssVariable)(L.badgeBackground),badgeForeground:(0,L.asCssVariable)(L.badgeForeground),badgeBorder:(0,L.asCssVariable)(L.contrastBorder)},e.defaultBreadcrumbsWidgetStyles={breadcrumbsBackground:(0,L.asCssVariable)(L.breadcrumbsBackground),breadcrumbsForeground:(0,L.asCssVariable)(L.breadcrumbsForeground),breadcrumbsHoverForeground:(0,L.asCssVariable)(L.breadcrumbsFocusForeground),breadcrumbsFocusForeground:(0,L.asCssVariable)(L.breadcrumbsFocusForeground),breadcrumbsFocusAndSelectionForeground:(0,L.asCssVariable)(L.breadcrumbsActiveSelectionForeground)},e.defaultListStyles={listBackground:void 0,listInactiveFocusForeground:void 0,listFocusBackground:(0,L.asCssVariable)(L.listFocusBackground),listFocusForeground:(0,L.asCssVariable)(L.listFocusForeground),listFocusOutline:(0,L.asCssVariable)(L.listFocusOutline),listActiveSelectionBackground:(0,L.asCssVariable)(L.listActiveSelectionBackground),listActiveSelectionForeground:(0,L.asCssVariable)(L.listActiveSelectionForeground),listActiveSelectionIconForeground:(0,L.asCssVariable)(L.listActiveSelectionIconForeground),listFocusAndSelectionOutline:(0,L.asCssVariable)(L.listFocusAndSelectionOutline),listFocusAndSelectionBackground:(0,L.asCssVariable)(L.listActiveSelectionBackground),listFocusAndSelectionForeground:(0,L.asCssVariable)(L.listActiveSelectionForeground),listInactiveSelectionBackground:(0,L.asCssVariable)(L.listInactiveSelectionBackground),listInactiveSelectionIconForeground:(0,L.asCssVariable)(L.listInactiveSelectionIconForeground),listInactiveSelectionForeground:(0,L.asCssVariable)(L.listInactiveSelectionForeground),listInactiveFocusBackground:(0,L.asCssVariable)(L.listInactiveFocusBackground),listInactiveFocusOutline:(0,L.asCssVariable)(L.listInactiveFocusOutline),listHoverBackground:(0,L.asCssVariable)(L.listHoverBackground),listHoverForeground:(0,L.asCssVariable)(L.listHoverForeground),listDropBackground:(0,L.asCssVariable)(L.listDropBackground),listSelectionOutline:(0,L.asCssVariable)(L.activeContrastBorder),listHoverOutline:(0,L.asCssVariable)(L.activeContrastBorder),treeIndentGuidesStroke:(0,L.asCssVariable)(L.treeIndentGuidesStroke),treeInactiveIndentGuidesStroke:(0,L.asCssVariable)(L.treeInactiveIndentGuidesStroke),tableColumnsBorder:(0,L.asCssVariable)(L.tableColumnsBorder),tableOddRowsBackgroundColor:(0,L.asCssVariable)(L.tableOddRowsBackgroundColor)};function D(S){return y(S,e.defaultListStyles)}e.getListStyles=D,e.defaultSelectBoxStyles={selectBackground:(0,L.asCssVariable)(L.selectBackground),selectListBackground:(0,L.asCssVariable)(L.selectListBackground),selectForeground:(0,L.asCssVariable)(L.selectForeground),decoratorRightForeground:(0,L.asCssVariable)(L.pickerGroupForeground),selectBorder:(0,L.asCssVariable)(L.selectBorder),focusBorder:(0,L.asCssVariable)(L.focusBorder),listFocusBackground:(0,L.asCssVariable)(L.quickInputListFocusBackground),listInactiveSelectionIconForeground:(0,L.asCssVariable)(L.quickInputListFocusIconForeground),listFocusForeground:(0,L.asCssVariable)(L.quickInputListFocusForeground),listFocusOutline:(0,L.asCssVariableWithDefault)(L.activeContrastBorder,k.Color.transparent.toString()),listHoverBackground:(0,L.asCssVariable)(L.listHoverBackground),listHoverForeground:(0,L.asCssVariable)(L.listHoverForeground),listHoverOutline:(0,L.asCssVariable)(L.activeContrastBorder),selectListBorder:(0,L.asCssVariable)(L.editorWidgetBorder),listBackground:void 0,listActiveSelectionBackground:void 0,listActiveSelectionForeground:void 0,listActiveSelectionIconForeground:void 0,listFocusAndSelectionBackground:void 0,listDropBackground:void 0,listInactiveSelectionBackground:void 0,listInactiveSelectionForeground:void 0,listInactiveFocusBackground:void 0,listInactiveFocusOutline:void 0,listSelectionOutline:void 0,listFocusAndSelectionForeground:void 0,listFocusAndSelectionOutline:void 0,listInactiveFocusForeground:void 0,tableColumnsBorder:void 0,tableOddRowsBackgroundColor:void 0,treeIndentGuidesStroke:void 0,treeInactiveIndentGuidesStroke:void 0},e.defaultMenuStyles={shadowColor:(0,L.asCssVariable)(L.widgetShadow),borderColor:(0,L.asCssVariable)(L.menuBorder),foregroundColor:(0,L.asCssVariable)(L.menuForeground),backgroundColor:(0,L.asCssVariable)(L.menuBackground),selectionForegroundColor:(0,L.asCssVariable)(L.menuSelectionForeground),selectionBackgroundColor:(0,L.asCssVariable)(L.menuSelectionBackground),selectionBorderColor:(0,L.asCssVariable)(L.menuSelectionBorder),separatorColor:(0,L.asCssVariable)(L.menuSeparatorBackground),scrollbarShadow:(0,L.asCssVariable)(L.scrollbarShadow),scrollbarSliderBackground:(0,L.asCssVariable)(L.scrollbarSliderBackground),scrollbarSliderHoverBackground:(0,L.asCssVariable)(L.scrollbarSliderHoverBackground),scrollbarSliderActiveBackground:(0,L.asCssVariable)(L.scrollbarSliderActiveBackground)}}),define(ne[824],se([1,0,7,307,308,226,72,2,45,69,667,8,34,158,105,155]),function(Q,e,L,k,y,D,S,f,_,g,C,s,i,n,t,a){"use strict";var u;Object.defineProperty(e,"__esModule",{value:!0}),e.AccessibilityProvider=e.OneReferenceRenderer=e.FileReferencesRenderer=e.IdentityProvider=e.StringRepresentationProvider=e.Delegate=e.DataSource=void 0;let h=class{constructor(w){this._resolverService=w}hasChildren(w){return w instanceof a.ReferencesModel||w instanceof a.FileReferences}getChildren(w){if(w instanceof a.ReferencesModel)return w.groups;if(w instanceof a.FileReferences)return w.resolve(this._resolverService).then(E=>E.children);throw new Error("bad tree")}};e.DataSource=h,e.DataSource=h=ke([fe(0,g.ITextModelService)],h);class r{getHeight(){return 23}getTemplateId(w){return w instanceof a.FileReferences?l.id:m.id}}e.Delegate=r;let c=class{constructor(w){this._keybindingService=w}getKeyboardNavigationLabel(w){var E;if(w instanceof a.OneReference){const I=(E=w.parent.getPreview(w))===null||E===void 0?void 0:E.preview(w.range);if(I)return I.value}return(0,_.basename)(w.uri)}};e.StringRepresentationProvider=c,e.StringRepresentationProvider=c=ke([fe(0,i.IKeybindingService)],c);class o{getId(w){return w instanceof a.OneReference?w.id:w.uri}}e.IdentityProvider=o;let d=class extends f.Disposable{constructor(w,E){super(),this._labelService=E;const I=document.createElement("div");I.classList.add("reference-file"),this.file=this._register(new D.IconLabel(I,{supportHighlights:!0})),this.badge=new k.CountBadge(L.append(I,L.$(".count")),{},t.defaultCountBadgeStyles),w.appendChild(I)}set(w,E){const I=(0,_.dirname)(w.uri);this.file.setLabel(this._labelService.getUriBasenameLabel(w.uri),this._labelService.getUriLabel(I,{relative:!0}),{title:this._labelService.getUriLabel(w.uri),matches:E});const M=w.children.length;this.badge.setCount(M),M>1?this.badge.setTitleFormat((0,C.localize)(0,null,M)):this.badge.setTitleFormat((0,C.localize)(1,null,M))}};d=ke([fe(1,n.ILabelService)],d);let l=u=class{constructor(w){this._instantiationService=w,this.templateId=u.id}renderTemplate(w){return this._instantiationService.createInstance(d,w)}renderElement(w,E,I){I.set(w.element,(0,S.createMatches)(w.filterData))}disposeTemplate(w){w.dispose()}};e.FileReferencesRenderer=l,l.id="FileReferencesRenderer",e.FileReferencesRenderer=l=u=ke([fe(0,s.IInstantiationService)],l);class p{constructor(w){this.label=new y.HighlightedLabel(w)}set(w,E){var I;const M=(I=w.parent.getPreview(w))===null||I===void 0?void 0:I.preview(w.range);if(!M||!M.value)this.label.set(`${(0,_.basename)(w.uri)}:${w.range.startLineNumber+1}:${w.range.startColumn+1}`);else{const{value:P,highlight:x}=M;E&&!S.FuzzyScore.isDefault(E)?(this.label.element.classList.toggle("referenceMatch",!1),this.label.set(P,(0,S.createMatches)(E))):(this.label.element.classList.toggle("referenceMatch",!0),this.label.set(P,[x]))}}}class m{constructor(){this.templateId=m.id}renderTemplate(w){return new p(w)}renderElement(w,E,I){I.set(w.element,w.filterData)}disposeTemplate(){}}e.OneReferenceRenderer=m,m.id="OneReferenceRenderer";class v{getWidgetAriaLabel(){return(0,C.localize)(2,null)}getAriaLabel(w){return w.ariaMessage}}e.AccessibilityProvider=v}),define(ne[825],se([1,0,7,222,114,25,2,17,26,715,57,34,105,31,269]),function(Q,e,L,k,y,D,S,f,_,g,C,s,i,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ActionList=e.previewSelectedActionCommand=e.acceptSelectedActionCommand=void 0,e.acceptSelectedActionCommand="acceptSelectedCodeAction",e.previewSelectedActionCommand="previewSelectedCodeAction";class t{get templateId(){return"header"}renderTemplate(l){l.classList.add("group-header");const p=document.createElement("span");return l.append(p),{container:l,text:p}}renderElement(l,p,m){var v,b;m.text.textContent=(b=(v=l.group)===null||v===void 0?void 0:v.title)!==null&&b!==void 0?b:""}disposeTemplate(l){}}let a=class{get templateId(){return"action"}constructor(l,p){this._supportsPreview=l,this._keybindingService=p}renderTemplate(l){l.classList.add(this.templateId);const p=document.createElement("div");p.className="icon",l.append(p);const m=document.createElement("span");m.className="title",l.append(m);const v=new k.KeybindingLabel(l,f.OS);return{container:l,icon:p,text:m,keybinding:v}}renderElement(l,p,m){var v,b,w;if(!((v=l.group)===null||v===void 0)&&v.icon?(m.icon.className=_.ThemeIcon.asClassName(l.group.icon),l.group.icon.color&&(m.icon.style.color=(0,n.asCssVariable)(l.group.icon.color.id))):(m.icon.className=_.ThemeIcon.asClassName(D.Codicon.lightBulb),m.icon.style.color="var(--vscode-editorLightBulb-foreground)"),!l.item||!l.label)return;m.text.textContent=o(l.label),m.keybinding.set(l.keybinding),L.setVisibility(!!l.keybinding,m.keybinding.element);const E=(b=this._keybindingService.lookupKeybinding(e.acceptSelectedActionCommand))===null||b===void 0?void 0:b.getLabel(),I=(w=this._keybindingService.lookupKeybinding(e.previewSelectedActionCommand))===null||w===void 0?void 0:w.getLabel();m.container.classList.toggle("option-disabled",l.disabled),l.disabled?m.container.title=l.label:E&&I?this._supportsPreview?m.container.title=(0,g.localize)(0,null,E,I):m.container.title=(0,g.localize)(1,null,E):m.container.title=""}disposeTemplate(l){}};a=ke([fe(1,s.IKeybindingService)],a);class u extends UIEvent{constructor(){super("acceptSelectedAction")}}class h extends UIEvent{constructor(){super("previewSelectedAction")}}function r(d){if(d.kind==="action")return d.label}let c=class extends S.Disposable{constructor(l,p,m,v,b,w){super(),this._delegate=v,this._contextViewService=b,this._keybindingService=w,this._actionLineHeight=24,this._headerLineHeight=26,this.domNode=document.createElement("div"),this.domNode.classList.add("actionList");const E={getHeight:I=>I.kind==="header"?this._headerLineHeight:this._actionLineHeight,getTemplateId:I=>I.kind};this._list=this._register(new y.List(l,this.domNode,E,[new a(p,this._keybindingService),new t],{keyboardSupport:!1,typeNavigationEnabled:!0,keyboardNavigationLabelProvider:{getKeyboardNavigationLabel:r},accessibilityProvider:{getAriaLabel:I=>{if(I.kind==="action"){let M=I.label?o(I?.label):"";return I.disabled&&(M=(0,g.localize)(2,null,M,I.disabled)),M}return null},getWidgetAriaLabel:()=>(0,g.localize)(3,null),getRole:I=>I.kind==="action"?"option":"separator",getWidgetRole:()=>"listbox"}})),this._list.style(i.defaultListStyles),this._register(this._list.onMouseClick(I=>this.onListClick(I))),this._register(this._list.onMouseOver(I=>this.onListHover(I))),this._register(this._list.onDidChangeFocus(()=>this._list.domFocus())),this._register(this._list.onDidChangeSelection(I=>this.onListSelection(I))),this._allMenuItems=m,this._list.splice(0,this._list.length,this._allMenuItems),this._list.length&&this.focusNext()}focusCondition(l){return!l.disabled&&l.kind==="action"}hide(l){this._delegate.onHide(l),this._contextViewService.hideContextView()}layout(l){const p=this._allMenuItems.filter(M=>M.kind==="header").length,v=this._allMenuItems.length*this._actionLineHeight+p*this._headerLineHeight-p*this._actionLineHeight;this._list.layout(v);const b=this._allMenuItems.map((M,P)=>{const x=document.getElementById(this._list.getElementID(P));if(x){x.style.width="auto";const T=x.getBoundingClientRect().width;return x.style.width="",T}return 0}),w=Math.max(...b,l),E=.7,I=Math.min(v,document.body.clientHeight*E);return this._list.layout(I,w),this.domNode.style.height=`${I}px`,this._list.domFocus(),w}focusPrevious(){this._list.focusPrevious(1,!0,void 0,this.focusCondition)}focusNext(){this._list.focusNext(1,!0,void 0,this.focusCondition)}acceptSelected(l){const p=this._list.getFocus();if(p.length===0)return;const m=p[0],v=this._list.element(m);if(!this.focusCondition(v))return;const b=l?new h:new u;this._list.setSelection([m],b)}onListSelection(l){if(!l.elements.length)return;const p=l.elements[0];p.item&&this.focusCondition(p)?this._delegate.onSelect(p.item,l.browserEvent instanceof h):this._list.setSelection([])}onListHover(l){this._list.setFocus(typeof l.index=="number"?[l.index]:[])}onListClick(l){l.element&&this.focusCondition(l.element)&&this._list.setFocus([])}};e.ActionList=c,e.ActionList=c=ke([fe(4,C.IContextViewService),fe(5,s.IKeybindingService)],c);function o(d){return d.replace(/\r\n|\r|\n/g," ")}}),define(ne[826],se([1,0,7,68,2,716,825,30,15,57,50,8,31,269]),function(Q,e,L,k,y,D,S,f,_,g,C,s,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.IActionWidgetService=void 0,(0,i.registerColor)("actionBar.toggledBackground",{dark:i.inputActiveOptionBackground,light:i.inputActiveOptionBackground,hcDark:i.inputActiveOptionBackground,hcLight:i.inputActiveOptionBackground},(0,D.localize)(0,null));const n={Visible:new _.RawContextKey("codeActionMenuVisible",!1,(0,D.localize)(1,null))};e.IActionWidgetService=(0,s.createDecorator)("actionWidgetService");let t=class extends y.Disposable{get isVisible(){return n.Visible.getValue(this._contextKeyService)||!1}constructor(h,r,c){super(),this._contextViewService=h,this._contextKeyService=r,this._instantiationService=c,this._list=this._register(new y.MutableDisposable)}show(h,r,c,o,d,l,p){const m=n.Visible.bindTo(this._contextKeyService),v=this._instantiationService.createInstance(S.ActionList,h,r,c,o);this._contextViewService.showContextView({getAnchor:()=>d,render:b=>(m.set(!0),this._renderWidget(b,v,p??[])),onHide:b=>{m.reset(),this._onWidgetClosed(b)}},l,!1)}acceptSelected(h){var r;(r=this._list.value)===null||r===void 0||r.acceptSelected(h)}focusPrevious(){var h,r;(r=(h=this._list)===null||h===void 0?void 0:h.value)===null||r===void 0||r.focusPrevious()}focusNext(){var h,r;(r=(h=this._list)===null||h===void 0?void 0:h.value)===null||r===void 0||r.focusNext()}hide(){var h;(h=this._list.value)===null||h===void 0||h.hide(),this._list.clear()}_renderWidget(h,r,c){var o;const d=document.createElement("div");if(d.classList.add("action-widget"),h.appendChild(d),this._list.value=r,this._list.value)d.appendChild(this._list.value.domNode);else throw new Error("List has no value");const l=new y.DisposableStore,p=document.createElement("div"),m=h.appendChild(p);m.classList.add("context-view-block"),l.add(L.addDisposableListener(m,L.EventType.MOUSE_DOWN,M=>M.stopPropagation()));const v=document.createElement("div"),b=h.appendChild(v);b.classList.add("context-view-pointerBlock"),l.add(L.addDisposableListener(b,L.EventType.POINTER_MOVE,()=>b.remove())),l.add(L.addDisposableListener(b,L.EventType.MOUSE_DOWN,()=>b.remove()));let w=0;if(c.length){const M=this._createActionBar(".action-widget-action-bar",c);M&&(d.appendChild(M.getContainer().parentElement),l.add(M),w=M.getContainer().offsetWidth)}const E=(o=this._list.value)===null||o===void 0?void 0:o.layout(w);d.style.width=`${E}px`;const I=l.add(L.trackFocus(h));return l.add(I.onDidBlur(()=>this.hide())),l}_createActionBar(h,r){if(!r.length)return;const c=L.$(h),o=new k.ActionBar(c);return o.push(r,{icon:!1,label:!0}),o}_onWidgetClosed(h){var r;(r=this._list.value)===null||r===void 0||r.hide(h)}};t=ke([fe(0,g.IContextViewService),fe(1,_.IContextKeyService),fe(2,s.IInstantiationService)],t),(0,C.registerSingleton)(e.IActionWidgetService,t,1);const a=100+1e3;(0,f.registerAction2)(class extends f.Action2{constructor(){super({id:"hideCodeActionWidget",title:{value:(0,D.localize)(2,null),original:"Hide action widget"},precondition:n.Visible,keybinding:{weight:a,primary:9,secondary:[1033]}})}run(u){u.get(e.IActionWidgetService).hide()}}),(0,f.registerAction2)(class extends f.Action2{constructor(){super({id:"selectPrevCodeAction",title:{value:(0,D.localize)(3,null),original:"Select previous action"},precondition:n.Visible,keybinding:{weight:a,primary:16,secondary:[2064],mac:{primary:16,secondary:[2064,302]}}})}run(u){const h=u.get(e.IActionWidgetService);h instanceof t&&h.focusPrevious()}}),(0,f.registerAction2)(class extends f.Action2{constructor(){super({id:"selectNextCodeAction",title:{value:(0,D.localize)(4,null),original:"Select next action"},precondition:n.Visible,keybinding:{weight:a,primary:18,secondary:[2066],mac:{primary:18,secondary:[2066,300]}}})}run(u){const h=u.get(e.IActionWidgetService);h instanceof t&&h.focusNext()}}),(0,f.registerAction2)(class extends f.Action2{constructor(){super({id:S.acceptSelectedActionCommand,title:{value:(0,D.localize)(5,null),original:"Accept selected action"},precondition:n.Visible,keybinding:{weight:a,primary:3,secondary:[2137]}})}run(u){const h=u.get(e.IActionWidgetService);h instanceof t&&h.acceptSelected()}}),(0,f.registerAction2)(class extends f.Action2{constructor(){super({id:S.previewSelectedActionCommand,title:{value:(0,D.localize)(6,null),original:"Preview selected action"},precondition:n.Visible,keybinding:{weight:a,primary:2051}})}run(u){const h=u.get(e.IActionWidgetService);h instanceof t&&h.acceptSelected(!0)}})}),define(ne[250],se([1,0,7,9,100,2,12,18,137,801,823,350,190,640,826,27,28,15,8,97,77,113,349]),function(Q,e,L,k,y,D,S,f,_,g,C,s,i,n,t,a,u,h,r,c,o,d,l){"use strict";var p;Object.defineProperty(e,"__esModule",{value:!0}),e.CodeActionController=void 0;let m=p=class extends D.Disposable{static get(b){return b.getContribution(p.ID)}constructor(b,w,E,I,M,P,x,T,A,N){super(),this._commandService=x,this._configurationService=T,this._actionWidgetService=A,this._instantiationService=N,this._activeCodeActions=this._register(new D.MutableDisposable),this._showDisabled=!1,this._disposed=!1,this._editor=b,this._model=this._register(new l.CodeActionModel(this._editor,M.codeActionProvider,w,E,P)),this._register(this._model.onDidChangeState(F=>this.update(F))),this._lightBulbWidget=new y.Lazy(()=>{const F=this._editor.getContribution(s.LightBulbWidget.ID);return F&&this._register(F.onClick(O=>this.showCodeActionList(O.actions,O,{includeDisabledActions:!1,fromLightbulb:!0}))),F}),this._resolver=I.createInstance(g.CodeActionKeybindingResolver),this._register(this._editor.onDidLayoutChange(()=>this._actionWidgetService.hide()))}dispose(){this._disposed=!0,super.dispose()}showCodeActions(b,w,E){return this.showCodeActionList(w,E,{includeDisabledActions:!1,fromLightbulb:!1})}manualTriggerAtCurrentPosition(b,w,E,I){var M;if(!this._editor.hasModel())return;(M=i.MessageController.get(this._editor))===null||M===void 0||M.closeMessage();const P=this._editor.getPosition();this._trigger({type:1,triggerAction:w,filter:E,autoApply:I,context:{notAvailableMessage:b,position:P}})}_trigger(b){return this._model.trigger(b)}_applyCodeAction(b,w,E){return we(this,void 0,void 0,function*(){try{yield this._instantiationService.invokeFunction(_.applyCodeAction,b,_.ApplyCodeActionReason.FromCodeActions,{preview:E,editor:this._editor})}finally{w&&this._trigger({type:2,triggerAction:d.CodeActionTriggerSource.QuickFix,filter:{}})}})}update(b){var w,E,I,M,P,x,T;return we(this,void 0,void 0,function*(){if(b.type!==1){(w=this._lightBulbWidget.rawValue)===null||w===void 0||w.hide();return}let A;try{A=yield b.actions}catch(N){(0,k.onUnexpectedError)(N);return}if(!this._disposed)if((E=this._lightBulbWidget.value)===null||E===void 0||E.update(A,b.trigger,b.position),b.trigger.type===1){if(!((I=b.trigger.filter)===null||I===void 0)&&I.include){const F=this.tryGetValidActionToApply(b.trigger,A);if(F){try{(M=this._lightBulbWidget.value)===null||M===void 0||M.hide(),yield this._applyCodeAction(F,!1,!1)}finally{A.dispose()}return}if(b.trigger.context){const O=this.getInvalidActionThatWouldHaveBeenApplied(b.trigger,A);if(O&&O.action.disabled){(P=i.MessageController.get(this._editor))===null||P===void 0||P.showMessage(O.action.disabled,b.trigger.context.position),A.dispose();return}}}const N=!!(!((x=b.trigger.filter)===null||x===void 0)&&x.include);if(b.trigger.context&&(!A.allActions.length||!N&&!A.validActions.length)){(T=i.MessageController.get(this._editor))===null||T===void 0||T.showMessage(b.trigger.context.notAvailableMessage,b.trigger.context.position),this._activeCodeActions.value=A,A.dispose();return}this._activeCodeActions.value=A,this.showCodeActionList(A,this.toCoords(b.position),{includeDisabledActions:N,fromLightbulb:!1})}else this._actionWidgetService.isVisible?A.dispose():this._activeCodeActions.value=A})}getInvalidActionThatWouldHaveBeenApplied(b,w){if(w.allActions.length&&(b.autoApply==="first"&&w.validActions.length===0||b.autoApply==="ifSingle"&&w.allActions.length===1))return w.allActions.find(({action:E})=>E.disabled)}tryGetValidActionToApply(b,w){if(w.validActions.length&&(b.autoApply==="first"&&w.validActions.length>0||b.autoApply==="ifSingle"&&w.validActions.length===1))return w.validActions[0]}showCodeActionList(b,w,E){return we(this,void 0,void 0,function*(){const I=this._editor.getDomNode();if(!I)return;const M=E.includeDisabledActions&&(this._showDisabled||b.validActions.length===0)?b.allActions:b.validActions;if(!M.length)return;const P=S.Position.isIPosition(w)?this.toCoords(w):w,x={onSelect:(T,A)=>we(this,void 0,void 0,function*(){this._applyCodeAction(T,!0,!!A),this._actionWidgetService.hide()}),onHide:()=>{var T;(T=this._editor)===null||T===void 0||T.focus()}};this._actionWidgetService.show("codeActionWidget",!0,(0,C.toMenuItems)(M,this._shouldShowHeaders(),this._resolver.getResolver()),x,P,I,this._getActionBarActions(b,w,E))})}toCoords(b){if(!this._editor.hasModel())return{x:0,y:0};this._editor.revealPosition(b,1),this._editor.render();const w=this._editor.getScrolledVisiblePosition(b),E=(0,L.getDomNodePagePosition)(this._editor.getDomNode()),I=E.left+w.left,M=E.top+w.top+w.height;return{x:I,y:M}}_shouldShowHeaders(){var b;const w=(b=this._editor)===null||b===void 0?void 0:b.getModel();return this._configurationService.getValue("editor.codeActionWidget.showHeaders",{resource:w?.uri})}_getActionBarActions(b,w,E){if(E.fromLightbulb)return[];const I=b.documentation.map(M=>{var P;return{id:M.id,label:M.title,tooltip:(P=M.tooltip)!==null&&P!==void 0?P:"",class:void 0,enabled:!0,run:()=>{var x;return this._commandService.executeCommand(M.id,...(x=M.arguments)!==null&&x!==void 0?x:[])}}});return E.includeDisabledActions&&b.validActions.length>0&&b.allActions.length!==b.validActions.length&&I.push(this._showDisabled?{id:"hideMoreActions",label:(0,n.localize)(0,null),enabled:!0,tooltip:"",class:void 0,run:()=>(this._showDisabled=!1,this.showCodeActionList(b,w,E))}:{id:"showMoreActions",label:(0,n.localize)(1,null),enabled:!0,tooltip:"",class:void 0,run:()=>(this._showDisabled=!0,this.showCodeActionList(b,w,E))}),I}};e.CodeActionController=m,m.ID="editor.contrib.codeActionController",e.CodeActionController=m=p=ke([fe(1,c.IMarkerService),fe(2,h.IContextKeyService),fe(3,r.IInstantiationService),fe(4,f.ILanguageFeaturesService),fe(5,o.IEditorProgressService),fe(6,a.ICommandService),fe(7,u.IConfigurationService),fe(8,t.IActionWidgetService),fe(9,r.IInstantiationService)],m)}),define(ne[827],se([1,0,11,16,21,137,638,15,113,250,349]),function(Q,e,L,k,y,D,S,f,_,g,C){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.AutoFixAction=e.FixAllAction=e.OrganizeImportsAction=e.SourceAction=e.RefactorAction=e.CodeActionCommand=e.QuickFixAction=void 0;function s(d){return f.ContextKeyExpr.regex(C.SUPPORTED_CODE_ACTIONS.keys()[0],new RegExp("(\\s|^)"+(0,L.escapeRegExpCharacters)(d.value)+"\\b"))}const i={type:"object",defaultSnippets:[{body:{kind:""}}],properties:{kind:{type:"string",description:S.localize(0,null)},apply:{type:"string",description:S.localize(1,null),default:"ifSingle",enum:["first","ifSingle","never"],enumDescriptions:[S.localize(2,null),S.localize(3,null),S.localize(4,null)]},preferred:{type:"boolean",default:!1,description:S.localize(5,null)}}};function n(d,l,p,m,v=_.CodeActionTriggerSource.Default){if(d.hasModel()){const b=g.CodeActionController.get(d);b?.manualTriggerAtCurrentPosition(l,v,p,m)}}class t extends k.EditorAction{constructor(){super({id:D.quickFixCommandId,label:S.localize(6,null),alias:"Quick Fix...",precondition:f.ContextKeyExpr.and(y.EditorContextKeys.writable,y.EditorContextKeys.hasCodeActionsProvider),kbOpts:{kbExpr:y.EditorContextKeys.textInputFocus,primary:2137,weight:100}})}run(l,p){return n(p,S.localize(7,null),void 0,void 0,_.CodeActionTriggerSource.QuickFix)}}e.QuickFixAction=t;class a extends k.EditorCommand{constructor(){super({id:D.codeActionCommandId,precondition:f.ContextKeyExpr.and(y.EditorContextKeys.writable,y.EditorContextKeys.hasCodeActionsProvider),description:{description:"Trigger a code action",args:[{name:"args",schema:i}]}})}runEditorCommand(l,p,m){const v=_.CodeActionCommandArgs.fromUser(m,{kind:_.CodeActionKind.Empty,apply:"ifSingle"});return n(p,typeof m?.kind=="string"?v.preferred?S.localize(8,null,m.kind):S.localize(9,null,m.kind):v.preferred?S.localize(10,null):S.localize(11,null),{include:v.kind,includeSourceActions:!0,onlyIncludePreferredActions:v.preferred},v.apply)}}e.CodeActionCommand=a;class u extends k.EditorAction{constructor(){super({id:D.refactorCommandId,label:S.localize(12,null),alias:"Refactor...",precondition:f.ContextKeyExpr.and(y.EditorContextKeys.writable,y.EditorContextKeys.hasCodeActionsProvider),kbOpts:{kbExpr:y.EditorContextKeys.textInputFocus,primary:3120,mac:{primary:1328},weight:100},contextMenuOpts:{group:"1_modification",order:2,when:f.ContextKeyExpr.and(y.EditorContextKeys.writable,s(_.CodeActionKind.Refactor))},description:{description:"Refactor...",args:[{name:"args",schema:i}]}})}run(l,p,m){const v=_.CodeActionCommandArgs.fromUser(m,{kind:_.CodeActionKind.Refactor,apply:"never"});return n(p,typeof m?.kind=="string"?v.preferred?S.localize(13,null,m.kind):S.localize(14,null,m.kind):v.preferred?S.localize(15,null):S.localize(16,null),{include:_.CodeActionKind.Refactor.contains(v.kind)?v.kind:_.CodeActionKind.None,onlyIncludePreferredActions:v.preferred},v.apply,_.CodeActionTriggerSource.Refactor)}}e.RefactorAction=u;class h extends k.EditorAction{constructor(){super({id:D.sourceActionCommandId,label:S.localize(17,null),alias:"Source Action...",precondition:f.ContextKeyExpr.and(y.EditorContextKeys.writable,y.EditorContextKeys.hasCodeActionsProvider),contextMenuOpts:{group:"1_modification",order:2.1,when:f.ContextKeyExpr.and(y.EditorContextKeys.writable,s(_.CodeActionKind.Source))},description:{description:"Source Action...",args:[{name:"args",schema:i}]}})}run(l,p,m){const v=_.CodeActionCommandArgs.fromUser(m,{kind:_.CodeActionKind.Source,apply:"never"});return n(p,typeof m?.kind=="string"?v.preferred?S.localize(18,null,m.kind):S.localize(19,null,m.kind):v.preferred?S.localize(20,null):S.localize(21,null),{include:_.CodeActionKind.Source.contains(v.kind)?v.kind:_.CodeActionKind.None,includeSourceActions:!0,onlyIncludePreferredActions:v.preferred},v.apply,_.CodeActionTriggerSource.SourceAction)}}e.SourceAction=h;class r extends k.EditorAction{constructor(){super({id:D.organizeImportsCommandId,label:S.localize(22,null),alias:"Organize Imports",precondition:f.ContextKeyExpr.and(y.EditorContextKeys.writable,s(_.CodeActionKind.SourceOrganizeImports)),kbOpts:{kbExpr:y.EditorContextKeys.textInputFocus,primary:1581,weight:100}})}run(l,p){return n(p,S.localize(23,null),{include:_.CodeActionKind.SourceOrganizeImports,includeSourceActions:!0},"ifSingle",_.CodeActionTriggerSource.OrganizeImports)}}e.OrganizeImportsAction=r;class c extends k.EditorAction{constructor(){super({id:D.fixAllCommandId,label:S.localize(24,null),alias:"Fix All",precondition:f.ContextKeyExpr.and(y.EditorContextKeys.writable,s(_.CodeActionKind.SourceFixAll))})}run(l,p){return n(p,S.localize(25,null),{include:_.CodeActionKind.SourceFixAll,includeSourceActions:!0},"ifSingle",_.CodeActionTriggerSource.FixAll)}}e.FixAllAction=c;class o extends k.EditorAction{constructor(){super({id:D.autoFixCommandId,label:S.localize(26,null),alias:"Auto Fix...",precondition:f.ContextKeyExpr.and(y.EditorContextKeys.writable,s(_.CodeActionKind.QuickFix)),kbOpts:{kbExpr:y.EditorContextKeys.textInputFocus,primary:1625,mac:{primary:2649},weight:100}})}run(l,p){return n(p,S.localize(27,null),{include:_.CodeActionKind.QuickFix,onlyIncludePreferredActions:!0},"ifSingle",_.CodeActionTriggerSource.AutoFix)}}e.AutoFixAction=o}),define(ne[828],se([1,0,16,241,827,250,350,639,98,37]),function(Q,e,L,k,y,D,S,f,_,g){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),(0,L.registerEditorContribution)(D.CodeActionController.ID,D.CodeActionController,3),(0,L.registerEditorContribution)(S.LightBulbWidget.ID,S.LightBulbWidget,4),(0,L.registerEditorAction)(y.QuickFixAction),(0,L.registerEditorAction)(y.RefactorAction),(0,L.registerEditorAction)(y.SourceAction),(0,L.registerEditorAction)(y.OrganizeImportsAction),(0,L.registerEditorAction)(y.AutoFixAction),(0,L.registerEditorAction)(y.FixAllAction),(0,L.registerEditorCommand)(new y.CodeActionCommand),g.Registry.as(_.Extensions.Configuration).registerConfiguration(Object.assign(Object.assign({},k.editorConfigurationBaseNode),{properties:{"editor.codeActionWidget.showHeaders":{type:"boolean",scope:5,description:f.localize(0,null),default:!0}}}))}),define(ne[829],se([1,0,7,60,583,39,9,2,105]),function(Q,e,L,k,y,D,S,f,_){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ContextMenuHandler=void 0;class g{constructor(s,i,n,t){this.contextViewService=s,this.telemetryService=i,this.notificationService=n,this.keybindingService=t,this.focusToReturn=null,this.lastContainer=null,this.block=null,this.blockDisposable=null,this.options={blockMouse:!0}}configure(s){this.options=s}showContextMenu(s){const i=s.getActions();if(!i.length)return;this.focusToReturn=document.activeElement;let n;const t=(0,L.isHTMLElement)(s.domForShadowRoot)?s.domForShadowRoot:void 0;this.contextViewService.showContextView({getAnchor:()=>s.getAnchor(),canRelayout:!1,anchorAlignment:s.anchorAlignment,anchorAxisAlignment:s.anchorAxisAlignment,render:a=>{var u;this.lastContainer=a;const h=s.getMenuClassName?s.getMenuClassName():"";h&&(a.className+=" "+h),this.options.blockMouse&&(this.block=a.appendChild((0,L.$)(".context-view-block")),this.block.style.position="fixed",this.block.style.cursor="initial",this.block.style.left="0",this.block.style.top="0",this.block.style.width="100%",this.block.style.height="100%",this.block.style.zIndex="-1",(u=this.blockDisposable)===null||u===void 0||u.dispose(),this.blockDisposable=(0,L.addDisposableListener)(this.block,L.EventType.MOUSE_DOWN,o=>o.stopPropagation()));const r=new f.DisposableStore,c=s.actionRunner||new D.ActionRunner;return c.onWillRun(o=>this.onActionRun(o,!s.skipTelemetry),this,r),c.onDidRun(this.onDidActionRun,this,r),n=new y.Menu(a,i,{actionViewItemProvider:s.getActionViewItem,context:s.getActionsContext?s.getActionsContext():null,actionRunner:c,getKeyBinding:s.getKeyBinding?s.getKeyBinding:o=>this.keybindingService.lookupKeybinding(o.id)},_.defaultMenuStyles),n.onDidCancel(()=>this.contextViewService.hideContextView(!0),null,r),n.onDidBlur(()=>this.contextViewService.hideContextView(!0),null,r),r.add((0,L.addDisposableListener)(window,L.EventType.BLUR,()=>this.contextViewService.hideContextView(!0))),r.add((0,L.addDisposableListener)(window,L.EventType.MOUSE_DOWN,o=>{if(o.defaultPrevented)return;const d=new k.StandardMouseEvent(o);let l=d.target;if(!d.rightButton){for(;l;){if(l===a)return;l=l.parentElement}this.contextViewService.hideContextView(!0)}})),(0,f.combinedDisposable)(r,n)},focus:()=>{n?.focus(!!s.autoSelectFirstItem)},onHide:a=>{var u,h,r;(u=s.onHide)===null||u===void 0||u.call(s,!!a),this.block&&(this.block.remove(),this.block=null),(h=this.blockDisposable)===null||h===void 0||h.dispose(),this.blockDisposable=null,this.lastContainer&&((0,L.getActiveElement)()===this.lastContainer||(0,L.isAncestor)((0,L.getActiveElement)(),this.lastContainer))&&((r=this.focusToReturn)===null||r===void 0||r.focus()),this.lastContainer=null}},t,!!t)}onActionRun(s,i){i&&this.telemetryService.publicLog2("workbenchActionExecuted",{id:s.action.id,from:"contextMenu"}),this.contextViewService.hideContextView(!1)}onDidActionRun(s){s.error&&!(0,S.isCancellationError)(s.error)&&this.notificationService.error(s.error)}}e.ContextMenuHandler=g}),define(ne[191],se([1,0,7,578,114,579,184,586,585,316,6,2,728,28,98,15,238,57,8,34,37,105]),function(Q,e,L,k,y,D,S,f,_,g,C,s,i,n,t,a,u,h,r,c,o,d){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.WorkbenchCompressibleAsyncDataTree=e.WorkbenchAsyncDataTree=e.WorkbenchDataTree=e.WorkbenchCompressibleObjectTree=e.WorkbenchObjectTree=e.WorkbenchTable=e.WorkbenchPagedList=e.WorkbenchList=e.WorkbenchTreeFindOpen=e.WorkbenchTreeElementHasChild=e.WorkbenchTreeElementCanExpand=e.WorkbenchTreeElementHasParent=e.WorkbenchTreeElementCanCollapse=e.WorkbenchListSupportsFind=e.WorkbenchListSelectionNavigation=e.WorkbenchListMultiSelection=e.WorkbenchListDoubleSelection=e.WorkbenchListHasSelectionOrFocus=e.WorkbenchListFocusContextKey=e.WorkbenchListSupportsMultiSelectContextKey=e.RawWorkbenchListFocusContextKey=e.WorkbenchListScrollAtBottomContextKey=e.WorkbenchListScrollAtTopContextKey=e.RawWorkbenchListScrollAtBoundaryContextKey=e.ListService=e.IListService=void 0,e.IListService=(0,r.createDecorator)("listService");class l{get lastFocusedList(){return this._lastFocusedWidget}constructor(){this.disposables=new s.DisposableStore,this.lists=[],this._lastFocusedWidget=void 0,this._hasCreatedStyleController=!1}setLastFocusedList(oe){var ge,ve;oe!==this._lastFocusedWidget&&((ge=this._lastFocusedWidget)===null||ge===void 0||ge.getHTMLElement().classList.remove("last-focused"),this._lastFocusedWidget=oe,(ve=this._lastFocusedWidget)===null||ve===void 0||ve.getHTMLElement().classList.add("last-focused"))}register(oe,ge){if(this._hasCreatedStyleController||(this._hasCreatedStyleController=!0,new y.DefaultStyleController((0,L.createStyleSheet)(),"").style(d.defaultListStyles)),this.lists.some(Se=>Se.widget===oe))throw new Error("Cannot register the same widget multiple times");const ve={widget:oe,extraContextKeys:ge};return this.lists.push(ve),oe.getHTMLElement()===document.activeElement&&this.setLastFocusedList(oe),(0,s.combinedDisposable)(oe.onDidFocus(()=>this.setLastFocusedList(oe)),(0,s.toDisposable)(()=>this.lists.splice(this.lists.indexOf(ve),1)),oe.onDidDispose(()=>{this.lists=this.lists.filter(Se=>Se!==ve),this._lastFocusedWidget===oe&&this.setLastFocusedList(void 0)}))}dispose(){this.disposables.dispose()}}e.ListService=l,e.RawWorkbenchListScrollAtBoundaryContextKey=new a.RawContextKey("listScrollAtBoundary","none"),e.WorkbenchListScrollAtTopContextKey=a.ContextKeyExpr.or(e.RawWorkbenchListScrollAtBoundaryContextKey.isEqualTo("top"),e.RawWorkbenchListScrollAtBoundaryContextKey.isEqualTo("both")),e.WorkbenchListScrollAtBottomContextKey=a.ContextKeyExpr.or(e.RawWorkbenchListScrollAtBoundaryContextKey.isEqualTo("bottom"),e.RawWorkbenchListScrollAtBoundaryContextKey.isEqualTo("both")),e.RawWorkbenchListFocusContextKey=new a.RawContextKey("listFocus",!0),e.WorkbenchListSupportsMultiSelectContextKey=new a.RawContextKey("listSupportsMultiselect",!0),e.WorkbenchListFocusContextKey=a.ContextKeyExpr.and(e.RawWorkbenchListFocusContextKey,a.ContextKeyExpr.not(u.InputFocusedContextKey)),e.WorkbenchListHasSelectionOrFocus=new a.RawContextKey("listHasSelectionOrFocus",!1),e.WorkbenchListDoubleSelection=new a.RawContextKey("listDoubleSelection",!1),e.WorkbenchListMultiSelection=new a.RawContextKey("listMultiSelection",!1),e.WorkbenchListSelectionNavigation=new a.RawContextKey("listSelectionNavigation",!1),e.WorkbenchListSupportsFind=new a.RawContextKey("listSupportsFind",!0),e.WorkbenchTreeElementCanCollapse=new a.RawContextKey("treeElementCanCollapse",!1),e.WorkbenchTreeElementHasParent=new a.RawContextKey("treeElementHasParent",!1),e.WorkbenchTreeElementCanExpand=new a.RawContextKey("treeElementCanExpand",!1),e.WorkbenchTreeElementHasChild=new a.RawContextKey("treeElementHasChild",!1),e.WorkbenchTreeFindOpen=new a.RawContextKey("treeFindOpen",!1);const p="listTypeNavigationMode",m="listAutomaticKeyboardNavigation";function v(re,oe){const ge=re.createScoped(oe.getHTMLElement());return e.RawWorkbenchListFocusContextKey.bindTo(ge),ge}function b(re,oe){const ge=e.RawWorkbenchListScrollAtBoundaryContextKey.bindTo(re),ve=()=>{const Se=oe.scrollTop===0,Le=oe.scrollHeight-oe.renderHeight-oe.scrollTop<1;Se&&Le?ge.set("both"):Se?ge.set("top"):Le?ge.set("bottom"):ge.set("none")};return ve(),oe.onDidScroll(ve)}const w="workbench.list.multiSelectModifier",E="workbench.list.openMode",I="workbench.list.horizontalScrolling",M="workbench.list.defaultFindMode",P="workbench.list.typeNavigationMode",x="workbench.list.keyboardNavigation",T="workbench.list.scrollByPage",A="workbench.list.defaultFindMatchType",N="workbench.tree.indent",F="workbench.tree.renderIndentGuides",O="workbench.list.smoothScrolling",W="workbench.list.mouseWheelScrollSensitivity",U="workbench.list.fastScrollSensitivity",j="workbench.tree.expandMode";function R(re){return re.getValue(w)==="alt"}class K extends s.Disposable{constructor(oe){super(),this.configurationService=oe,this.useAltAsMultipleSelectionModifier=R(oe),this.registerListeners()}registerListeners(){this._register(this.configurationService.onDidChangeConfiguration(oe=>{oe.affectsConfiguration(w)&&(this.useAltAsMultipleSelectionModifier=R(this.configurationService))}))}isSelectionSingleChangeEvent(oe){return this.useAltAsMultipleSelectionModifier?oe.browserEvent.altKey:(0,y.isSelectionSingleChangeEvent)(oe)}isSelectionRangeChangeEvent(oe){return(0,y.isSelectionRangeChangeEvent)(oe)}}function G(re,oe){var ge;const ve=re.get(n.IConfigurationService),Se=re.get(c.IKeybindingService),Le=new s.DisposableStore;return[Object.assign(Object.assign({},oe),{keyboardNavigationDelegate:{mightProducePrintableCharacter(ye){return Se.mightProducePrintableCharacter(ye)}},smoothScrolling:!!ve.getValue(O),mouseWheelScrollSensitivity:ve.getValue(W),fastScrollSensitivity:ve.getValue(U),multipleSelectionController:(ge=oe.multipleSelectionController)!==null&&ge!==void 0?ge:Le.add(new K(ve)),keyboardNavigationEventFilter:ie(Se),scrollByPage:!!ve.getValue(T)}),Le]}let Z=class extends y.List{constructor(oe,ge,ve,Se,Le,De,ye,Ee,Me){const Pe=typeof Le.horizontalScrolling<"u"?Le.horizontalScrolling:!!Ee.getValue(I),[Fe,_e]=Me.invokeFunction(G,Le);super(oe,ge,ve,Se,Object.assign(Object.assign({keyboardSupport:!1},Fe),{horizontalScrolling:Pe})),this.disposables.add(_e),this.contextKeyService=v(De,this),this.disposables.add(b(this.contextKeyService,this)),this.listSupportsMultiSelect=e.WorkbenchListSupportsMultiSelectContextKey.bindTo(this.contextKeyService),this.listSupportsMultiSelect.set(Le.multipleSelectionSupport!==!1),e.WorkbenchListSelectionNavigation.bindTo(this.contextKeyService).set(!!Le.selectionNavigation),this.listHasSelectionOrFocus=e.WorkbenchListHasSelectionOrFocus.bindTo(this.contextKeyService),this.listDoubleSelection=e.WorkbenchListDoubleSelection.bindTo(this.contextKeyService),this.listMultiSelection=e.WorkbenchListMultiSelection.bindTo(this.contextKeyService),this.horizontalScrolling=Le.horizontalScrolling,this._useAltAsMultipleSelectionModifier=R(Ee),this.disposables.add(this.contextKeyService),this.disposables.add(ye.register(this)),this.updateStyles(Le.overrideStyles),this.disposables.add(this.onDidChangeSelection(()=>{const le=this.getSelection(),pe=this.getFocus();this.contextKeyService.bufferChangeEvents(()=>{this.listHasSelectionOrFocus.set(le.length>0||pe.length>0),this.listMultiSelection.set(le.length>1),this.listDoubleSelection.set(le.length===2)})})),this.disposables.add(this.onDidChangeFocus(()=>{const le=this.getSelection(),pe=this.getFocus();this.listHasSelectionOrFocus.set(le.length>0||pe.length>0)})),this.disposables.add(Ee.onDidChangeConfiguration(le=>{le.affectsConfiguration(w)&&(this._useAltAsMultipleSelectionModifier=R(Ee));let pe={};if(le.affectsConfiguration(I)&&this.horizontalScrolling===void 0){const Ce=!!Ee.getValue(I);pe=Object.assign(Object.assign({},pe),{horizontalScrolling:Ce})}if(le.affectsConfiguration(T)){const Ce=!!Ee.getValue(T);pe=Object.assign(Object.assign({},pe),{scrollByPage:Ce})}if(le.affectsConfiguration(O)){const Ce=!!Ee.getValue(O);pe=Object.assign(Object.assign({},pe),{smoothScrolling:Ce})}if(le.affectsConfiguration(W)){const Ce=Ee.getValue(W);pe=Object.assign(Object.assign({},pe),{mouseWheelScrollSensitivity:Ce})}if(le.affectsConfiguration(U)){const Ce=Ee.getValue(U);pe=Object.assign(Object.assign({},pe),{fastScrollSensitivity:Ce})}Object.keys(pe).length>0&&this.updateOptions(pe)})),this.navigator=new B(this,Object.assign({configurationService:Ee},Le)),this.disposables.add(this.navigator)}updateOptions(oe){super.updateOptions(oe),oe.overrideStyles!==void 0&&this.updateStyles(oe.overrideStyles),oe.multipleSelectionSupport!==void 0&&this.listSupportsMultiSelect.set(!!oe.multipleSelectionSupport)}updateStyles(oe){this.style(oe?(0,d.getListStyles)(oe):d.defaultListStyles)}};e.WorkbenchList=Z,e.WorkbenchList=Z=ke([fe(5,a.IContextKeyService),fe(6,e.IListService),fe(7,n.IConfigurationService),fe(8,r.IInstantiationService)],Z);let J=class extends k.PagedList{constructor(oe,ge,ve,Se,Le,De,ye,Ee,Me){const Pe=typeof Le.horizontalScrolling<"u"?Le.horizontalScrolling:!!Ee.getValue(I),[Fe,_e]=Me.invokeFunction(G,Le);super(oe,ge,ve,Se,Object.assign(Object.assign({keyboardSupport:!1},Fe),{horizontalScrolling:Pe})),this.disposables=new s.DisposableStore,this.disposables.add(_e),this.contextKeyService=v(De,this),this.disposables.add(b(this.contextKeyService,this.widget)),this.horizontalScrolling=Le.horizontalScrolling,this.listSupportsMultiSelect=e.WorkbenchListSupportsMultiSelectContextKey.bindTo(this.contextKeyService),this.listSupportsMultiSelect.set(Le.multipleSelectionSupport!==!1),e.WorkbenchListSelectionNavigation.bindTo(this.contextKeyService).set(!!Le.selectionNavigation),this._useAltAsMultipleSelectionModifier=R(Ee),this.disposables.add(this.contextKeyService),this.disposables.add(ye.register(this)),this.updateStyles(Le.overrideStyles),this.disposables.add(Ee.onDidChangeConfiguration(le=>{le.affectsConfiguration(w)&&(this._useAltAsMultipleSelectionModifier=R(Ee));let pe={};if(le.affectsConfiguration(I)&&this.horizontalScrolling===void 0){const Ce=!!Ee.getValue(I);pe=Object.assign(Object.assign({},pe),{horizontalScrolling:Ce})}if(le.affectsConfiguration(T)){const Ce=!!Ee.getValue(T);pe=Object.assign(Object.assign({},pe),{scrollByPage:Ce})}if(le.affectsConfiguration(O)){const Ce=!!Ee.getValue(O);pe=Object.assign(Object.assign({},pe),{smoothScrolling:Ce})}if(le.affectsConfiguration(W)){const Ce=Ee.getValue(W);pe=Object.assign(Object.assign({},pe),{mouseWheelScrollSensitivity:Ce})}if(le.affectsConfiguration(U)){const Ce=Ee.getValue(U);pe=Object.assign(Object.assign({},pe),{fastScrollSensitivity:Ce})}Object.keys(pe).length>0&&this.updateOptions(pe)})),this.navigator=new B(this,Object.assign({configurationService:Ee},Le)),this.disposables.add(this.navigator)}updateOptions(oe){super.updateOptions(oe),oe.overrideStyles!==void 0&&this.updateStyles(oe.overrideStyles),oe.multipleSelectionSupport!==void 0&&this.listSupportsMultiSelect.set(!!oe.multipleSelectionSupport)}updateStyles(oe){this.style(oe?(0,d.getListStyles)(oe):d.defaultListStyles)}dispose(){this.disposables.dispose(),super.dispose()}};e.WorkbenchPagedList=J,e.WorkbenchPagedList=J=ke([fe(5,a.IContextKeyService),fe(6,e.IListService),fe(7,n.IConfigurationService),fe(8,r.IInstantiationService)],J);let X=class extends D.Table{constructor(oe,ge,ve,Se,Le,De,ye,Ee,Me,Pe){const Fe=typeof De.horizontalScrolling<"u"?De.horizontalScrolling:!!Me.getValue(I),[_e,me]=Pe.invokeFunction(G,De);super(oe,ge,ve,Se,Le,Object.assign(Object.assign({keyboardSupport:!1},_e),{horizontalScrolling:Fe})),this.disposables.add(me),this.contextKeyService=v(ye,this),this.disposables.add(b(this.contextKeyService,this)),this.listSupportsMultiSelect=e.WorkbenchListSupportsMultiSelectContextKey.bindTo(this.contextKeyService),this.listSupportsMultiSelect.set(De.multipleSelectionSupport!==!1),e.WorkbenchListSelectionNavigation.bindTo(this.contextKeyService).set(!!De.selectionNavigation),this.listHasSelectionOrFocus=e.WorkbenchListHasSelectionOrFocus.bindTo(this.contextKeyService),this.listDoubleSelection=e.WorkbenchListDoubleSelection.bindTo(this.contextKeyService),this.listMultiSelection=e.WorkbenchListMultiSelection.bindTo(this.contextKeyService),this.horizontalScrolling=De.horizontalScrolling,this._useAltAsMultipleSelectionModifier=R(Me),this.disposables.add(this.contextKeyService),this.disposables.add(Ee.register(this)),this.updateStyles(De.overrideStyles),this.disposables.add(this.onDidChangeSelection(()=>{const pe=this.getSelection(),Ce=this.getFocus();this.contextKeyService.bufferChangeEvents(()=>{this.listHasSelectionOrFocus.set(pe.length>0||Ce.length>0),this.listMultiSelection.set(pe.length>1),this.listDoubleSelection.set(pe.length===2)})})),this.disposables.add(this.onDidChangeFocus(()=>{const pe=this.getSelection(),Ce=this.getFocus();this.listHasSelectionOrFocus.set(pe.length>0||Ce.length>0)})),this.disposables.add(Me.onDidChangeConfiguration(pe=>{pe.affectsConfiguration(w)&&(this._useAltAsMultipleSelectionModifier=R(Me));let Ce={};if(pe.affectsConfiguration(I)&&this.horizontalScrolling===void 0){const be=!!Me.getValue(I);Ce=Object.assign(Object.assign({},Ce),{horizontalScrolling:be})}if(pe.affectsConfiguration(T)){const be=!!Me.getValue(T);Ce=Object.assign(Object.assign({},Ce),{scrollByPage:be})}if(pe.affectsConfiguration(O)){const be=!!Me.getValue(O);Ce=Object.assign(Object.assign({},Ce),{smoothScrolling:be})}if(pe.affectsConfiguration(W)){const be=Me.getValue(W);Ce=Object.assign(Object.assign({},Ce),{mouseWheelScrollSensitivity:be})}if(pe.affectsConfiguration(U)){const be=Me.getValue(U);Ce=Object.assign(Object.assign({},Ce),{fastScrollSensitivity:be})}Object.keys(Ce).length>0&&this.updateOptions(Ce)})),this.navigator=new V(this,Object.assign({configurationService:Me},De)),this.disposables.add(this.navigator)}updateOptions(oe){super.updateOptions(oe),oe.overrideStyles!==void 0&&this.updateStyles(oe.overrideStyles),oe.multipleSelectionSupport!==void 0&&this.listSupportsMultiSelect.set(!!oe.multipleSelectionSupport)}updateStyles(oe){this.style(oe?(0,d.getListStyles)(oe):d.defaultListStyles)}dispose(){this.disposables.dispose(),super.dispose()}};e.WorkbenchTable=X,e.WorkbenchTable=X=ke([fe(6,a.IContextKeyService),fe(7,e.IListService),fe(8,n.IConfigurationService),fe(9,r.IInstantiationService)],X);class H extends s.Disposable{constructor(oe,ge){var ve;super(),this.widget=oe,this._onDidOpen=this._register(new C.Emitter),this.onDidOpen=this._onDidOpen.event,this._register(C.Event.filter(this.widget.onDidChangeSelection,Se=>Se.browserEvent instanceof KeyboardEvent)(Se=>this.onSelectionFromKeyboard(Se))),this._register(this.widget.onPointer(Se=>this.onPointer(Se.element,Se.browserEvent))),this._register(this.widget.onMouseDblClick(Se=>this.onMouseDblClick(Se.element,Se.browserEvent))),typeof ge?.openOnSingleClick!="boolean"&&ge?.configurationService?(this.openOnSingleClick=ge?.configurationService.getValue(E)!=="doubleClick",this._register(ge?.configurationService.onDidChangeConfiguration(Se=>{Se.affectsConfiguration(E)&&(this.openOnSingleClick=ge?.configurationService.getValue(E)!=="doubleClick")}))):this.openOnSingleClick=(ve=ge?.openOnSingleClick)!==null&&ve!==void 0?ve:!0}onSelectionFromKeyboard(oe){if(oe.elements.length!==1)return;const ge=oe.browserEvent,ve=typeof ge.preserveFocus=="boolean"?ge.preserveFocus:!0,Se=typeof ge.pinned=="boolean"?ge.pinned:!ve,Le=!1;this._open(this.getSelectedElement(),ve,Se,Le,oe.browserEvent)}onPointer(oe,ge){if(!this.openOnSingleClick||ge.detail===2)return;const Se=ge.button===1,Le=!0,De=Se,ye=ge.ctrlKey||ge.metaKey||ge.altKey;this._open(oe,Le,De,ye,ge)}onMouseDblClick(oe,ge){if(!ge)return;const ve=ge.target;if(ve.classList.contains("monaco-tl-twistie")||ve.classList.contains("monaco-icon-label")&&ve.classList.contains("folder-icon")&&ge.offsetX<16)return;const Le=!1,De=!0,ye=ge.ctrlKey||ge.metaKey||ge.altKey;this._open(oe,Le,De,ye,ge)}_open(oe,ge,ve,Se,Le){oe&&this._onDidOpen.fire({editorOptions:{preserveFocus:ge,pinned:ve,revealIfVisible:!0},sideBySide:Se,element:oe,browserEvent:Le})}}class B extends H{constructor(oe,ge){super(oe,ge),this.widget=oe}getSelectedElement(){return this.widget.getSelectedElements()[0]}}class V extends H{constructor(oe,ge){super(oe,ge)}getSelectedElement(){return this.widget.getSelectedElements()[0]}}class Y extends H{constructor(oe,ge){super(oe,ge)}getSelectedElement(){var oe;return(oe=this.widget.getSelection()[0])!==null&&oe!==void 0?oe:void 0}}function ie(re){let oe=!1;return ge=>{if(ge.toKeyCodeChord().isModifierKey())return!1;if(oe)return oe=!1,!1;const ve=re.softDispatch(ge,ge.target);return ve.kind===1?(oe=!0,!1):(oe=!1,ve.kind===0)}}let ae=class extends g.ObjectTree{constructor(oe,ge,ve,Se,Le,De,ye,Ee,Me){const{options:Pe,getTypeNavigationMode:Fe,disposable:_e}=De.invokeFunction(z,Le);super(oe,ge,ve,Se,Pe),this.disposables.add(_e),this.internals=new ee(this,Le,Fe,Le.overrideStyles,ye,Ee,Me),this.disposables.add(this.internals)}updateOptions(oe){super.updateOptions(oe),this.internals.updateOptions(oe)}};e.WorkbenchObjectTree=ae,e.WorkbenchObjectTree=ae=ke([fe(5,r.IInstantiationService),fe(6,a.IContextKeyService),fe(7,e.IListService),fe(8,n.IConfigurationService)],ae);let ce=class extends g.CompressibleObjectTree{constructor(oe,ge,ve,Se,Le,De,ye,Ee,Me){const{options:Pe,getTypeNavigationMode:Fe,disposable:_e}=De.invokeFunction(z,Le);super(oe,ge,ve,Se,Pe),this.disposables.add(_e),this.internals=new ee(this,Le,Fe,Le.overrideStyles,ye,Ee,Me),this.disposables.add(this.internals)}updateOptions(oe={}){super.updateOptions(oe),oe.overrideStyles&&this.internals.updateStyleOverrides(oe.overrideStyles),this.internals.updateOptions(oe)}};e.WorkbenchCompressibleObjectTree=ce,e.WorkbenchCompressibleObjectTree=ce=ke([fe(5,r.IInstantiationService),fe(6,a.IContextKeyService),fe(7,e.IListService),fe(8,n.IConfigurationService)],ce);let de=class extends _.DataTree{constructor(oe,ge,ve,Se,Le,De,ye,Ee,Me,Pe){const{options:Fe,getTypeNavigationMode:_e,disposable:me}=ye.invokeFunction(z,De);super(oe,ge,ve,Se,Le,Fe),this.disposables.add(me),this.internals=new ee(this,De,_e,De.overrideStyles,Ee,Me,Pe),this.disposables.add(this.internals)}updateOptions(oe={}){super.updateOptions(oe),oe.overrideStyles!==void 0&&this.internals.updateStyleOverrides(oe.overrideStyles),this.internals.updateOptions(oe)}};e.WorkbenchDataTree=de,e.WorkbenchDataTree=de=ke([fe(6,r.IInstantiationService),fe(7,a.IContextKeyService),fe(8,e.IListService),fe(9,n.IConfigurationService)],de);let he=class extends f.AsyncDataTree{get onDidOpen(){return this.internals.onDidOpen}constructor(oe,ge,ve,Se,Le,De,ye,Ee,Me,Pe){const{options:Fe,getTypeNavigationMode:_e,disposable:me}=ye.invokeFunction(z,De);super(oe,ge,ve,Se,Le,Fe),this.disposables.add(me),this.internals=new ee(this,De,_e,De.overrideStyles,Ee,Me,Pe),this.disposables.add(this.internals)}updateOptions(oe={}){super.updateOptions(oe),oe.overrideStyles&&this.internals.updateStyleOverrides(oe.overrideStyles),this.internals.updateOptions(oe)}};e.WorkbenchAsyncDataTree=he,e.WorkbenchAsyncDataTree=he=ke([fe(6,r.IInstantiationService),fe(7,a.IContextKeyService),fe(8,e.IListService),fe(9,n.IConfigurationService)],he);let ue=class extends f.CompressibleAsyncDataTree{constructor(oe,ge,ve,Se,Le,De,ye,Ee,Me,Pe,Fe){const{options:_e,getTypeNavigationMode:me,disposable:le}=Ee.invokeFunction(z,ye);super(oe,ge,ve,Se,Le,De,_e),this.disposables.add(le),this.internals=new ee(this,ye,me,ye.overrideStyles,Me,Pe,Fe),this.disposables.add(this.internals)}updateOptions(oe){super.updateOptions(oe),this.internals.updateOptions(oe)}};e.WorkbenchCompressibleAsyncDataTree=ue,e.WorkbenchCompressibleAsyncDataTree=ue=ke([fe(7,r.IInstantiationService),fe(8,a.IContextKeyService),fe(9,e.IListService),fe(10,n.IConfigurationService)],ue);function te(re){const oe=re.getValue(M);if(oe==="highlight")return S.TreeFindMode.Highlight;if(oe==="filter")return S.TreeFindMode.Filter;const ge=re.getValue(x);if(ge==="simple"||ge==="highlight")return S.TreeFindMode.Highlight;if(ge==="filter")return S.TreeFindMode.Filter}function q(re){const oe=re.getValue(A);if(oe==="fuzzy")return S.TreeFindMatchType.Fuzzy;if(oe==="contiguous")return S.TreeFindMatchType.Contiguous}function z(re,oe){var ge;const ve=re.get(n.IConfigurationService),Se=re.get(h.IContextViewService),Le=re.get(a.IContextKeyService),De=re.get(r.IInstantiationService),ye=()=>{const me=Le.getContextKeyValue(p);if(me==="automatic")return y.TypeNavigationMode.Automatic;if(me==="trigger"||Le.getContextKeyValue(m)===!1)return y.TypeNavigationMode.Trigger;const pe=ve.getValue(P);if(pe==="automatic")return y.TypeNavigationMode.Automatic;if(pe==="trigger")return y.TypeNavigationMode.Trigger},Ee=oe.horizontalScrolling!==void 0?oe.horizontalScrolling:!!ve.getValue(I),[Me,Pe]=De.invokeFunction(G,oe),Fe=oe.paddingBottom,_e=oe.renderIndentGuides!==void 0?oe.renderIndentGuides:ve.getValue(F);return{getTypeNavigationMode:ye,disposable:Pe,options:Object.assign(Object.assign({keyboardSupport:!1},Me),{indent:typeof ve.getValue(N)=="number"?ve.getValue(N):void 0,renderIndentGuides:_e,smoothScrolling:!!ve.getValue(O),defaultFindMode:te(ve),defaultFindMatchType:q(ve),horizontalScrolling:Ee,scrollByPage:!!ve.getValue(T),paddingBottom:Fe,hideTwistiesOfChildlessElements:oe.hideTwistiesOfChildlessElements,expandOnlyOnTwistieClick:(ge=oe.expandOnlyOnTwistieClick)!==null&&ge!==void 0?ge:ve.getValue(j)==="doubleClick",contextViewProvider:Se,findWidgetStyles:d.defaultFindWidgetStyles})}}let ee=class{get onDidOpen(){return this.navigator.onDidOpen}constructor(oe,ge,ve,Se,Le,De,ye){var Ee;this.tree=oe,this.disposables=[],this.contextKeyService=v(Le,oe),this.disposables.push(b(this.contextKeyService,oe)),this.listSupportsMultiSelect=e.WorkbenchListSupportsMultiSelectContextKey.bindTo(this.contextKeyService),this.listSupportsMultiSelect.set(ge.multipleSelectionSupport!==!1),e.WorkbenchListSelectionNavigation.bindTo(this.contextKeyService).set(!!ge.selectionNavigation),this.listSupportFindWidget=e.WorkbenchListSupportsFind.bindTo(this.contextKeyService),this.listSupportFindWidget.set((Ee=ge.findWidgetEnabled)!==null&&Ee!==void 0?Ee:!0),this.hasSelectionOrFocus=e.WorkbenchListHasSelectionOrFocus.bindTo(this.contextKeyService),this.hasDoubleSelection=e.WorkbenchListDoubleSelection.bindTo(this.contextKeyService),this.hasMultiSelection=e.WorkbenchListMultiSelection.bindTo(this.contextKeyService),this.treeElementCanCollapse=e.WorkbenchTreeElementCanCollapse.bindTo(this.contextKeyService),this.treeElementHasParent=e.WorkbenchTreeElementHasParent.bindTo(this.contextKeyService),this.treeElementCanExpand=e.WorkbenchTreeElementCanExpand.bindTo(this.contextKeyService),this.treeElementHasChild=e.WorkbenchTreeElementHasChild.bindTo(this.contextKeyService),this.treeFindOpen=e.WorkbenchTreeFindOpen.bindTo(this.contextKeyService),this._useAltAsMultipleSelectionModifier=R(ye),this.updateStyleOverrides(Se);const Pe=()=>{const _e=oe.getFocus()[0];if(!_e)return;const me=oe.getNode(_e);this.treeElementCanCollapse.set(me.collapsible&&!me.collapsed),this.treeElementHasParent.set(!!oe.getParentElement(_e)),this.treeElementCanExpand.set(me.collapsible&&me.collapsed),this.treeElementHasChild.set(!!oe.getFirstElementChild(_e))},Fe=new Set;Fe.add(p),Fe.add(m),this.disposables.push(this.contextKeyService,De.register(oe),oe.onDidChangeSelection(()=>{const _e=oe.getSelection(),me=oe.getFocus();this.contextKeyService.bufferChangeEvents(()=>{this.hasSelectionOrFocus.set(_e.length>0||me.length>0),this.hasMultiSelection.set(_e.length>1),this.hasDoubleSelection.set(_e.length===2)})}),oe.onDidChangeFocus(()=>{const _e=oe.getSelection(),me=oe.getFocus();this.hasSelectionOrFocus.set(_e.length>0||me.length>0),Pe()}),oe.onDidChangeCollapseState(Pe),oe.onDidChangeModel(Pe),oe.onDidChangeFindOpenState(_e=>this.treeFindOpen.set(_e)),ye.onDidChangeConfiguration(_e=>{let me={};if(_e.affectsConfiguration(w)&&(this._useAltAsMultipleSelectionModifier=R(ye)),_e.affectsConfiguration(N)){const le=ye.getValue(N);me=Object.assign(Object.assign({},me),{indent:le})}if(_e.affectsConfiguration(F)&&ge.renderIndentGuides===void 0){const le=ye.getValue(F);me=Object.assign(Object.assign({},me),{renderIndentGuides:le})}if(_e.affectsConfiguration(O)){const le=!!ye.getValue(O);me=Object.assign(Object.assign({},me),{smoothScrolling:le})}if(_e.affectsConfiguration(M)||_e.affectsConfiguration(x)){const le=te(ye);me=Object.assign(Object.assign({},me),{defaultFindMode:le})}if(_e.affectsConfiguration(P)||_e.affectsConfiguration(x)){const le=ve();me=Object.assign(Object.assign({},me),{typeNavigationMode:le})}if(_e.affectsConfiguration(A)){const le=q(ye);me=Object.assign(Object.assign({},me),{defaultFindMatchType:le})}if(_e.affectsConfiguration(I)&&ge.horizontalScrolling===void 0){const le=!!ye.getValue(I);me=Object.assign(Object.assign({},me),{horizontalScrolling:le})}if(_e.affectsConfiguration(T)){const le=!!ye.getValue(T);me=Object.assign(Object.assign({},me),{scrollByPage:le})}if(_e.affectsConfiguration(j)&&ge.expandOnlyOnTwistieClick===void 0&&(me=Object.assign(Object.assign({},me),{expandOnlyOnTwistieClick:ye.getValue(j)==="doubleClick"})),_e.affectsConfiguration(W)){const le=ye.getValue(W);me=Object.assign(Object.assign({},me),{mouseWheelScrollSensitivity:le})}if(_e.affectsConfiguration(U)){const le=ye.getValue(U);me=Object.assign(Object.assign({},me),{fastScrollSensitivity:le})}Object.keys(me).length>0&&oe.updateOptions(me)}),this.contextKeyService.onDidChangeContext(_e=>{_e.affectsSome(Fe)&&oe.updateOptions({typeNavigationMode:ve()})})),this.navigator=new Y(oe,Object.assign({configurationService:ye},ge)),this.disposables.push(this.navigator)}updateOptions(oe){oe.multipleSelectionSupport!==void 0&&this.listSupportsMultiSelect.set(!!oe.multipleSelectionSupport)}updateStyleOverrides(oe){this.tree.style(oe?(0,d.getListStyles)(oe):d.defaultListStyles)}dispose(){this.disposables=(0,s.dispose)(this.disposables)}};ee=ke([fe(4,a.IContextKeyService),fe(5,e.IListService),fe(6,n.IConfigurationService)],ee),o.Registry.as(t.Extensions.Configuration).registerConfiguration({id:"workbench",order:7,title:(0,i.localize)(0,null),type:"object",properties:{[w]:{type:"string",enum:["ctrlCmd","alt"],markdownEnumDescriptions:[(0,i.localize)(1,null),(0,i.localize)(2,null)],default:"ctrlCmd",description:(0,i.localize)(3,null)},[E]:{type:"string",enum:["singleClick","doubleClick"],default:"singleClick",description:(0,i.localize)(4,null)},[I]:{type:"boolean",default:!1,description:(0,i.localize)(5,null)},[T]:{type:"boolean",default:!1,description:(0,i.localize)(6,null)},[N]:{type:"number",default:8,minimum:4,maximum:40,description:(0,i.localize)(7,null)},[F]:{type:"string",enum:["none","onHover","always"],default:"onHover",description:(0,i.localize)(8,null)},[O]:{type:"boolean",default:!1,description:(0,i.localize)(9,null)},[W]:{type:"number",default:1,markdownDescription:(0,i.localize)(10,null)},[U]:{type:"number",default:5,markdownDescription:(0,i.localize)(11,null)},[M]:{type:"string",enum:["highlight","filter"],enumDescriptions:[(0,i.localize)(12,null),(0,i.localize)(13,null)],default:"highlight",description:(0,i.localize)(14,null)},[x]:{type:"string",enum:["simple","highlight","filter"],enumDescriptions:[(0,i.localize)(15,null),(0,i.localize)(16,null),(0,i.localize)(17,null)],default:"highlight",description:(0,i.localize)(18,null),deprecated:!0,deprecationMessage:(0,i.localize)(19,null)},[A]:{type:"string",enum:["fuzzy","contiguous"],enumDescriptions:[(0,i.localize)(20,null),(0,i.localize)(21,null)],default:"fuzzy",description:(0,i.localize)(22,null)},[j]:{type:"string",enum:["singleClick","doubleClick"],default:"singleClick",description:(0,i.localize)(23,null)},[P]:{type:"string",enum:["automatic","trigger"],default:"automatic",description:(0,i.localize)(24,null)}}})}),define(ne[62],se([1,0,13,25,26,6,20,22,737,240,37]),function(Q,e,L,k,y,D,S,f,_,g,C){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.spinningLoading=e.syncing=e.gotoNextLocation=e.gotoPreviousLocation=e.widgetClose=e.iconsSchemaId=e.getIconRegistry=e.registerIcon=e.IconFontDefinition=e.IconContribution=e.Extensions=void 0,e.Extensions={IconContribution:"base.contributions.icons"};var s;(function(o){function d(l,p){let m=l.defaults;for(;y.ThemeIcon.isThemeIcon(m);){const v=t.getIcon(m.id);if(!v)return;m=v.defaults}return m}o.getDefinition=d})(s||(e.IconContribution=s={}));var i;(function(o){function d(p){return{weight:p.weight,style:p.style,src:p.src.map(m=>({format:m.format,location:m.location.toString()}))}}o.toJSONObject=d;function l(p){const m=v=>(0,S.isString)(v)?v:void 0;if(p&&Array.isArray(p.src)&&p.src.every(v=>(0,S.isString)(v.format)&&(0,S.isString)(v.location)))return{weight:m(p.weight),style:m(p.style),src:p.src.map(v=>({format:v.format,location:f.URI.parse(v.location)}))}}o.fromJSONObject=l})(i||(e.IconFontDefinition=i={}));class n{constructor(){this._onDidChange=new D.Emitter,this.onDidChange=this._onDidChange.event,this.iconSchema={definitions:{icons:{type:"object",properties:{fontId:{type:"string",description:(0,_.localize)(0,null)},fontCharacter:{type:"string",description:(0,_.localize)(1,null)}},additionalProperties:!1,defaultSnippets:[{body:{fontCharacter:"\\\\e030"}}]}},type:"object",properties:{}},this.iconReferenceSchema={type:"string",pattern:`^${y.ThemeIcon.iconNameExpression}$`,enum:[],enumDescriptions:[]},this.iconsById={},this.iconFontsById={}}registerIcon(d,l,p,m){const v=this.iconsById[d];if(v){if(p&&!v.description){v.description=p,this.iconSchema.properties[d].markdownDescription=`${p} $(${d})`;const E=this.iconReferenceSchema.enum.indexOf(d);E!==-1&&(this.iconReferenceSchema.enumDescriptions[E]=p),this._onDidChange.fire()}return v}const b={id:d,description:p,defaults:l,deprecationMessage:m};this.iconsById[d]=b;const w={$ref:"#/definitions/icons"};return m&&(w.deprecationMessage=m),p&&(w.markdownDescription=`${p}: $(${d})`),this.iconSchema.properties[d]=w,this.iconReferenceSchema.enum.push(d),this.iconReferenceSchema.enumDescriptions.push(p||""),this._onDidChange.fire(),{id:d}}getIcons(){return Object.keys(this.iconsById).map(d=>this.iconsById[d])}getIcon(d){return this.iconsById[d]}getIconSchema(){return this.iconSchema}toString(){const d=(v,b)=>v.id.localeCompare(b.id),l=v=>{for(;y.ThemeIcon.isThemeIcon(v.defaults);)v=this.iconsById[v.defaults.id];return`codicon codicon-${v?v.id:""}`},p=[];p.push("| preview     | identifier                        | default codicon ID                | description"),p.push("| ----------- | --------------------------------- | --------------------------------- | --------------------------------- |");const m=Object.keys(this.iconsById).map(v=>this.iconsById[v]);for(const v of m.filter(b=>!!b.description).sort(d))p.push(`|<i class="${l(v)}"></i>|${v.id}|${y.ThemeIcon.isThemeIcon(v.defaults)?v.defaults.id:v.id}|${v.description||""}|`);p.push("| preview     | identifier                        "),p.push("| ----------- | --------------------------------- |");for(const v of m.filter(b=>!y.ThemeIcon.isThemeIcon(b.defaults)).sort(d))p.push(`|<i class="${l(v)}"></i>|${v.id}|`);return p.join(`
`)}}const t=new n;C.Registry.add(e.Extensions.IconContribution,t);function a(o,d,l,p){return t.registerIcon(o,d,l,p)}e.registerIcon=a;function u(){return t}e.getIconRegistry=u;function h(){const o=(0,k.getCodiconFontCharacters)();for(const d in o){const l="\\"+o[d].toString(16);t.registerIcon(d,{fontCharacter:l})}}h(),e.iconsSchemaId="vscode://schemas/icons";const r=C.Registry.as(g.Extensions.JSONContribution);r.registerSchema(e.iconsSchemaId,t.getIconSchema());const c=new L.RunOnceScheduler(()=>r.notifySchemaChanged(e.iconsSchemaId),200);t.onDidChange(()=>{c.isScheduled()||c.schedule()}),e.widgetClose=a("widget-close",k.Codicon.close,(0,_.localize)(2,null)),e.gotoPreviousLocation=a("goto-previous-location",k.Codicon.arrowUp,(0,_.localize)(3,null)),e.gotoNextLocation=a("goto-next-location",k.Codicon.arrowDown,(0,_.localize)(4,null)),e.syncing=y.ThemeIcon.modify(k.Codicon.sync,"spin"),e.spinningLoading=y.ThemeIcon.modify(k.Codicon.loading,"spin")}),define(ne[354],se([1,0,7,35,89,68,75,39,25,2,26,59,36,12,41,86,95,67,615,116,28,62,434]),function(Q,e,L,k,y,D,S,f,_,g,C,s,i,n,t,a,u,h,r,c,o,d){"use strict";var l;Object.defineProperty(e,"__esModule",{value:!0}),e.DiffReview=void 0;const p=3;class m{constructor(P,x,T,A){this.originalLineStart=P,this.originalLineEnd=x,this.modifiedLineStart=T,this.modifiedLineEnd=A}getType(){return this.originalLineStart===0?1:this.modifiedLineStart===0?2:0}}class v{constructor(P){this.entries=P}}const b=(0,d.registerIcon)("diff-review-insert",_.Codicon.add,r.localize(0,null)),w=(0,d.registerIcon)("diff-review-remove",_.Codicon.remove,r.localize(1,null)),E=(0,d.registerIcon)("diff-review-close",_.Codicon.close,r.localize(2,null));let I=l=class extends g.Disposable{constructor(P,x,T,A){super(),this._languageService=x,this._audioCueService=T,this._configurationService=A,this._width=0,this._diffEditor=P,this._isVisible=!1,this.shadow=(0,k.createFastDomNode)(document.createElement("div")),this.shadow.setClassName("diff-review-shadow"),this.actionBarContainer=(0,k.createFastDomNode)(document.createElement("div")),this.actionBarContainer.setClassName("diff-review-actions"),this._actionBar=this._register(new D.ActionBar(this.actionBarContainer.domNode)),this._actionBar.push(new f.Action("diffreview.close",r.localize(3,null),"close-diff-review "+C.ThemeIcon.asClassName(E),!0,()=>we(this,void 0,void 0,function*(){return this.hide()})),{label:!1,icon:!0}),this.domNode=(0,k.createFastDomNode)(document.createElement("div")),this.domNode.setClassName("diff-review monaco-editor-background"),this._content=(0,k.createFastDomNode)(document.createElement("div")),this._content.setClassName("diff-review-content"),this._content.setAttribute("role","code"),this.scrollbar=this._register(new S.DomScrollableElement(this._content.domNode,{})),this.domNode.domNode.appendChild(this.scrollbar.getDomNode()),this._register(P.onDidUpdateDiff(()=>{this._isVisible&&(this._diffs=this._compute(),this._render())})),this._register(P.getModifiedEditor().onDidChangeCursorPosition(()=>{this._isVisible&&this._render()})),this._register(L.addStandardDisposableListener(this.domNode.domNode,"click",N=>{N.preventDefault();const F=L.findParentWithClass(N.target,"diff-review-row");F&&this._goToRow(F)})),this._register(L.addStandardDisposableListener(this.domNode.domNode,"keydown",N=>{(N.equals(18)||N.equals(2066)||N.equals(530))&&(N.preventDefault(),this._goToRow(this._getNextRow(),"next")),(N.equals(16)||N.equals(2064)||N.equals(528))&&(N.preventDefault(),this._goToRow(this._getPrevRow(),"previous")),(N.equals(9)||N.equals(2057)||N.equals(521)||N.equals(1033)||N.equals(10)||N.equals(3))&&(N.preventDefault(),this.accept())})),this._register(this._configurationService.onDidChangeConfiguration(N=>{N.affectsConfiguration("accessibility.verbosity.diffEditor")&&this._diffEditor.updateOptions({accessibilityVerbose:this._configurationService.getValue("accessibility.verbosity.diffEditor")})})),this._diffs=[],this._currentDiff=null}prev(){let P=0;if(this._isVisible||(this._diffs=this._compute()),this._isVisible){let T=-1;for(let A=0,N=this._diffs.length;A<N;A++)if(this._diffs[A]===this._currentDiff){T=A;break}P=this._diffs.length+T-1}else P=this._findDiffIndex(this._diffEditor.getPosition());if(this._diffs.length===0)return;P=P%this._diffs.length;const x=this._diffs[P].entries;this._diffEditor.setPosition(new n.Position(x[0].modifiedLineStart,1)),this._diffEditor.setSelection({startColumn:1,startLineNumber:x[0].modifiedLineStart,endColumn:1073741824,endLineNumber:x[x.length-1].modifiedLineEnd}),this._isVisible=!0,this._diffEditor.doLayout(),this._render(),this._goToRow(this._getPrevRow(),"previous")}next(){let P=0;if(this._isVisible||(this._diffs=this._compute()),this._isVisible){let T=-1;for(let A=0,N=this._diffs.length;A<N;A++)if(this._diffs[A]===this._currentDiff){T=A;break}P=T+1}else P=this._findDiffIndex(this._diffEditor.getPosition());if(this._diffs.length===0)return;P=P%this._diffs.length;const x=this._diffs[P].entries;this._diffEditor.setPosition(new n.Position(x[0].modifiedLineStart,1)),this._diffEditor.setSelection({startColumn:1,startLineNumber:x[0].modifiedLineStart,endColumn:1073741824,endLineNumber:x[x.length-1].modifiedLineEnd}),this._isVisible=!0,this._diffEditor.doLayout(),this._render(),this._goToRow(this._getNextRow(),"next")}accept(){let P=-1;const x=this._getCurrentFocusedRow();if(x){const T=parseInt(x.getAttribute("data-line"),10);isNaN(T)||(P=T)}this.hide(),P!==-1&&(this._diffEditor.setPosition(new n.Position(P,1)),this._diffEditor.revealPosition(new n.Position(P,1),1))}hide(){this._isVisible=!1,this._diffEditor.updateOptions({readOnly:!1}),this._diffEditor.focus(),this._diffEditor.doLayout(),this._render()}_getPrevRow(){const P=this._getCurrentFocusedRow();return P?P.previousElementSibling?P.previousElementSibling:P:this._getFirstRow()}_getNextRow(){const P=this._getCurrentFocusedRow();return P?P.nextElementSibling?P.nextElementSibling:P:this._getFirstRow()}_getFirstRow(){return this.domNode.domNode.querySelector(".diff-review-row")}_getCurrentFocusedRow(){const P=document.activeElement;return P&&/diff-review-row/.test(P.className)?P:null}_goToRow(P,x){const T=this._getCurrentFocusedRow();P.tabIndex=0,P.focus(),T&&T!==P&&(T.tabIndex=-1);const A=x?x==="next"?T?.nextElementSibling:T?.previousElementSibling:T;A?.classList.contains("line-insert")?this._audioCueService.playAudioCue(c.AudioCue.diffLineInserted,{allowManyInParallel:!0}):A?.classList.contains("line-delete")&&this._audioCueService.playAudioCue(c.AudioCue.diffLineDeleted,{allowManyInParallel:!0}),this.scrollbar.scanDomNode()}isVisible(){return this._isVisible}layout(P,x,T){this._width=x,this.shadow.setTop(P-6),this.shadow.setWidth(x),this.shadow.setHeight(this._isVisible?6:0),this.domNode.setTop(P),this.domNode.setWidth(x),this.domNode.setHeight(T),this._content.setHeight(T),this._content.setWidth(x),this._isVisible?(this.actionBarContainer.setAttribute("aria-hidden","false"),this.actionBarContainer.setDisplay("block")):(this.actionBarContainer.setAttribute("aria-hidden","true"),this.actionBarContainer.setDisplay("none"))}_compute(){const P=this._diffEditor.getLineChanges();if(!P||P.length===0)return[];const x=this._diffEditor.getOriginalEditor().getModel(),T=this._diffEditor.getModifiedEditor().getModel();return!x||!T?[]:l._mergeAdjacent(P,x.getLineCount(),T.getLineCount())}static _mergeAdjacent(P,x,T){if(!P||P.length===0)return[];const A=[];let N=0;for(let U=0,j=P.length;U<j;U++){const R=P[U],K=R.originalStartLineNumber,G=R.originalEndLineNumber,Z=R.modifiedStartLineNumber,J=R.modifiedEndLineNumber,X=[];let H=0;{const B=G===0?K:K-1,V=J===0?Z:Z-1;let Y=1,ie=1;if(U>0){const de=P[U-1];de.originalEndLineNumber===0?Y=de.originalStartLineNumber+1:Y=de.originalEndLineNumber+1,de.modifiedEndLineNumber===0?ie=de.modifiedStartLineNumber+1:ie=de.modifiedEndLineNumber+1}let ae=B-p+1,ce=V-p+1;if(ae<Y){const de=Y-ae;ae=ae+de,ce=ce+de}if(ce<ie){const de=ie-ce;ae=ae+de,ce=ce+de}X[H++]=new m(ae,B,ce,V)}G!==0&&(X[H++]=new m(K,G,0,0)),J!==0&&(X[H++]=new m(0,0,Z,J));{const B=G===0?K+1:G+1,V=J===0?Z+1:J+1;let Y=x,ie=T;if(U+1<j){const de=P[U+1];de.originalEndLineNumber===0?Y=de.originalStartLineNumber:Y=de.originalStartLineNumber-1,de.modifiedEndLineNumber===0?ie=de.modifiedStartLineNumber:ie=de.modifiedStartLineNumber-1}let ae=B+p-1,ce=V+p-1;if(ae>Y){const de=Y-ae;ae=ae+de,ce=ce+de}if(ce>ie){const de=ie-ce;ae=ae+de,ce=ce+de}X[H++]=new m(B,ae,V,ce)}A[N++]=new v(X)}let F=A[0].entries;const O=[];let W=0;for(let U=1,j=A.length;U<j;U++){const R=A[U].entries,K=F[F.length-1],G=R[0];if(K.getType()===0&&G.getType()===0&&G.originalLineStart<=K.originalLineEnd){F[F.length-1]=new m(K.originalLineStart,G.originalLineEnd,K.modifiedLineStart,G.modifiedLineEnd),F=F.concat(R.slice(1));continue}O[W++]=new v(F),F=R}return O[W++]=new v(F),O}_findDiffIndex(P){const x=P.lineNumber;for(let T=0,A=this._diffs.length;T<A;T++){const N=this._diffs[T].entries,F=N[N.length-1].modifiedLineEnd;if(x<=F)return T}return 0}_render(){const P=this._diffEditor.getOriginalEditor().getOptions(),x=this._diffEditor.getModifiedEditor().getOptions(),T=this._diffEditor.getOriginalEditor().getModel(),A=this._diffEditor.getModifiedEditor().getModel(),N=T.getOptions(),F=A.getOptions();if(!this._isVisible||!T||!A){L.clearNode(this._content.domNode),this._currentDiff=null,this.scrollbar.scanDomNode();return}this._diffEditor.updateOptions({readOnly:!0});const O=this._findDiffIndex(this._diffEditor.getPosition());if(this._diffs[O]===this._currentDiff)return;this._currentDiff=this._diffs[O];const W=this._diffs[O].entries,U=document.createElement("div");U.className="diff-review-table",U.setAttribute("role","list"),U.setAttribute("aria-label",'Difference review. Use "Stage | Unstage | Revert Selected Ranges" commands'),(0,s.applyFontInfo)(U,x.get(49));let j=0,R=0,K=0,G=0;for(let ce=0,de=W.length;ce<de;ce++){const he=W[ce],ue=he.originalLineStart,te=he.originalLineEnd,q=he.modifiedLineStart,z=he.modifiedLineEnd;ue!==0&&(j===0||ue<j)&&(j=ue),te!==0&&(R===0||te>R)&&(R=te),q!==0&&(K===0||q<K)&&(K=q),z!==0&&(G===0||z>G)&&(G=z)}const Z=document.createElement("div");Z.className="diff-review-row";const J=document.createElement("div");J.className="diff-review-cell diff-review-summary";const X=R-j+1,H=G-K+1;J.appendChild(document.createTextNode(`${O+1}/${this._diffs.length}: @@ -${j},${X} +${K},${H} @@`)),Z.setAttribute("data-line",String(K));const B=ce=>ce===0?r.localize(4,null):ce===1?r.localize(5,null):r.localize(6,null,ce),V=B(X),Y=B(H);Z.setAttribute("aria-label",r.localize(7,null,O+1,this._diffs.length,j,V,K,Y)),Z.appendChild(J),Z.setAttribute("role","listitem"),U.appendChild(Z);const ie=x.get(65);let ae=K;for(let ce=0,de=W.length;ce<de;ce++){const he=W[ce];l._renderSection(U,he,ae,ie,this._width,P,T,N,x,A,F,this._languageService.languageIdCodec),he.modifiedLineStart!==0&&(ae=he.modifiedLineEnd)}L.clearNode(this._content.domNode),this._content.domNode.appendChild(U),this.scrollbar.scanDomNode()}static _renderSection(P,x,T,A,N,F,O,W,U,j,R,K){const G=x.getType();let Z="diff-review-row",J="";const X="diff-review-spacer";let H=null;switch(G){case 1:Z="diff-review-row line-insert",J=" char-insert",H=b;break;case 2:Z="diff-review-row line-delete",J=" char-delete",H=w;break}const B=x.originalLineStart,V=x.originalLineEnd,Y=x.modifiedLineStart,ie=x.modifiedLineEnd,ae=Math.max(ie-Y,V-B),ce=F.get(142),de=ce.glyphMarginWidth+ce.lineNumbersWidth,he=U.get(142),ue=10+he.glyphMarginWidth+he.lineNumbersWidth;for(let te=0;te<=ae;te++){const q=B===0?0:B+te,z=Y===0?0:Y+te,ee=document.createElement("div");ee.style.minWidth=N+"px",ee.className=Z,ee.setAttribute("role","listitem"),z!==0&&(T=z),ee.setAttribute("data-line",String(T));const $=document.createElement("div");$.className="diff-review-cell",$.style.height=`${A}px`,ee.appendChild($);const re=document.createElement("span");re.style.width=de+"px",re.style.minWidth=de+"px",re.className="diff-review-line-number"+J,q!==0?re.appendChild(document.createTextNode(String(q))):re.innerText="\xA0",$.appendChild(re);const oe=document.createElement("span");oe.style.width=ue+"px",oe.style.minWidth=ue+"px",oe.style.paddingRight="10px",oe.className="diff-review-line-number"+J,z!==0?oe.appendChild(document.createTextNode(String(z))):oe.innerText="\xA0",$.appendChild(oe);const ge=document.createElement("span");if(ge.className=X,H){const Le=document.createElement("span");Le.className=C.ThemeIcon.asClassName(H),Le.innerText="\xA0\xA0",ge.appendChild(Le)}else ge.innerText="\xA0\xA0";$.appendChild(ge);let ve;if(z!==0){let Le=this._renderLine(j,U,R.tabSize,z,K);l._ttPolicy&&(Le=l._ttPolicy.createHTML(Le)),$.insertAdjacentHTML("beforeend",Le),ve=j.getLineContent(z)}else{let Le=this._renderLine(O,F,W.tabSize,q,K);l._ttPolicy&&(Le=l._ttPolicy.createHTML(Le)),$.insertAdjacentHTML("beforeend",Le),ve=O.getLineContent(q)}ve.length===0&&(ve=r.localize(8,null));let Se="";switch(G){case 0:q===z?Se=r.localize(9,null,ve,q):Se=r.localize(10,null,ve,q,z);break;case 1:Se=r.localize(11,null,ve,z);break;case 2:Se=r.localize(12,null,ve,q);break}ee.setAttribute("aria-label",Se),P.appendChild(ee)}}static _renderLine(P,x,T,A,N){const F=P.getLineContent(A),O=x.get(49),W=a.LineTokens.createEmpty(F,N),U=h.ViewLineRenderingData.isBasicASCII(F,P.mightContainNonBasicASCII()),j=h.ViewLineRenderingData.containsRTL(F,U,P.mightContainRTL());return(0,u.renderViewLine2)(new u.RenderLineInput(O.isMonospace&&!x.get(32),O.canUseHalfwidthRightwardsArrow,F,!1,U,j,0,W,[],T,0,O.spaceWidth,O.middotWidth,O.wsmiddotWidth,x.get(115),x.get(97),x.get(92),x.get(50)!==i.EditorFontLigatures.OFF,null)).html}};e.DiffReview=I,I._ttPolicy=(0,y.createTrustedTypesPolicy)("diffReview",{createHTML:M=>M}),e.DiffReview=I=l=ke([fe(1,t.ILanguageService),fe(2,c.IAudioCueService),fe(3,o.IConfigurationService)],I)}),define(ne[830],se([1,0,7,68,75,39,25,2,42,26,59,102,354,36,66,90,12,5,109,41,86,95,67,607,116,8,62]),function(Q,e,L,k,y,D,S,f,_,g,C,s,i,n,t,a,u,h,r,c,o,d,l,p,m,v,b){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.AccessibleDiffViewer=void 0;const w=(0,b.registerIcon)("diff-review-insert",S.Codicon.add,(0,p.localize)(0,null)),E=(0,b.registerIcon)("diff-review-remove",S.Codicon.remove,(0,p.localize)(1,null)),I=(0,b.registerIcon)("diff-review-close",S.Codicon.close,(0,p.localize)(2,null));let M=class extends f.Disposable{constructor(Z,J,X,H,B,V,Y,ie,ae){super(),this._parentNode=Z,this._visible=J,this._setVisible=X,this._canClose=H,this._width=B,this._height=V,this._diffs=Y,this._editors=ie,this._instantiationService=ae,this.model=(0,_.derivedWithStore)("model",(ce,de)=>{const he=this._visible.read(ce);if(this._parentNode.style.visibility=he?"visible":"hidden",!he)return null;const ue=de.add(this._instantiationService.createInstance(P,this._diffs,this._editors,this._setVisible,this._canClose)),te=de.add(this._instantiationService.createInstance(j,this._parentNode,ue,this._width,this._height,this._editors));return{model:ue,view:te}}),this._register((0,_.keepAlive)(this.model,!0))}next(){(0,_.transaction)(Z=>{const J=this._visible.get();this._setVisible(!0,Z),J&&this.model.get().model.nextGroup(Z)})}prev(){(0,_.transaction)(Z=>{this._setVisible(!0,Z),this.model.get().model.previousGroup(Z)})}close(){(0,_.transaction)(Z=>{this._setVisible(!1,Z)})}};e.AccessibleDiffViewer=M,e.AccessibleDiffViewer=M=ke([fe(8,v.IInstantiationService)],M);let P=class extends f.Disposable{constructor(Z,J,X,H,B){super(),this._diffs=Z,this._editors=J,this._setVisible=X,this.canClose=H,this._audioCueService=B,this._groups=(0,_.observableValue)("groups",[]),this._currentGroupIdx=(0,_.observableValue)("currentGroupIdx",0),this._currentElementIdx=(0,_.observableValue)("currentElementIdx",0),this.groups=this._groups,this.currentGroup=this._currentGroupIdx.map((V,Y)=>this._groups.read(Y)[V]),this.currentGroupIndex=this._currentGroupIdx,this.currentElement=this._currentElementIdx.map((V,Y)=>{var ie;return(ie=this.currentGroup.read(Y))===null||ie===void 0?void 0:ie.lines[V]}),this._register((0,_.autorun)(V=>{const Y=this._diffs.read(V);if(!Y){this._groups.set([],void 0);return}const ie=T(Y,this._editors.original.getModel().getLineCount(),this._editors.modified.getModel().getLineCount());(0,_.transaction)(ae=>{const ce=this._editors.modified.getPosition();if(ce){const de=ie.findIndex(he=>ce?.lineNumber<he.range.modified.endLineNumberExclusive);de!==-1&&this._currentGroupIdx.set(de,ae)}this._groups.set(ie,ae)})})),this._register((0,_.autorun)(V=>{const Y=this.currentElement.read(V);Y?.type===A.Deleted?this._audioCueService.playAudioCue(m.AudioCue.diffLineDeleted,{source:"accessibleDiffViewer.currentElementChanged"}):Y?.type===A.Added&&this._audioCueService.playAudioCue(m.AudioCue.diffLineInserted,{source:"accessibleDiffViewer.currentElementChanged"})})),this._register((0,_.autorun)(V=>{var Y;const ie=this.currentElement.read(V);if(ie&&ie.type!==A.Header){const ae=(Y=ie.modifiedLineNumber)!==null&&Y!==void 0?Y:ie.diff.modifiedRange.startLineNumber;this._editors.modified.setSelection(h.Range.fromPositions(new u.Position(ae,1)))}}))}_goToGroupDelta(Z,J){const X=this.groups.get();!X||X.length<=1||(0,_.subtransaction)(J,H=>{this._currentGroupIdx.set(a.OffsetRange.ofLength(X.length).clipCyclic(this._currentGroupIdx.get()+Z),H),this._currentElementIdx.set(0,H)})}nextGroup(Z){this._goToGroupDelta(1,Z)}previousGroup(Z){this._goToGroupDelta(-1,Z)}_goToLineDelta(Z){const J=this.currentGroup.get();!J||J.lines.length<=1||(0,_.transaction)(X=>{this._currentElementIdx.set(a.OffsetRange.ofLength(J.lines.length).clip(this._currentElementIdx.get()+Z),X)})}goToNextLine(){this._goToLineDelta(1)}goToPreviousLine(){this._goToLineDelta(-1)}goToLine(Z){const J=this.currentGroup.get();if(!J)return;const X=J.lines.indexOf(Z);X!==-1&&(0,_.transaction)(H=>{this._currentElementIdx.set(X,H)})}revealCurrentElementInEditor(){this._setVisible(!1,void 0);const Z=this.currentElement.get();Z&&(Z.type===A.Deleted?(this._editors.original.setSelection(h.Range.fromPositions(new u.Position(Z.originalLineNumber,1))),this._editors.original.revealLine(Z.originalLineNumber),this._editors.original.focus()):(Z.type!==A.Header&&(this._editors.modified.setSelection(h.Range.fromPositions(new u.Position(Z.modifiedLineNumber,1))),this._editors.modified.revealLine(Z.modifiedLineNumber)),this._editors.modified.focus()))}close(){this._setVisible(!1,void 0),this._editors.modified.focus()}};P=ke([fe(4,m.IAudioCueService)],P);const x=3;function T(G,Z,J){const X=[];for(const H of K(G,(B,V)=>V.modifiedRange.startLineNumber-B.modifiedRange.endLineNumberExclusive<2*x)){const B=[];B.push(new F);const V=new t.LineRange(Math.max(1,H[0].originalRange.startLineNumber-x),Math.min(H[H.length-1].originalRange.endLineNumberExclusive+x,Z+1)),Y=new t.LineRange(Math.max(1,H[0].modifiedRange.startLineNumber-x),Math.min(H[H.length-1].modifiedRange.endLineNumberExclusive+x,J+1));R(H,(ce,de)=>{const he=new t.LineRange(ce?ce.originalRange.endLineNumberExclusive:V.startLineNumber,de?de.originalRange.startLineNumber:V.endLineNumberExclusive),ue=new t.LineRange(ce?ce.modifiedRange.endLineNumberExclusive:Y.startLineNumber,de?de.modifiedRange.startLineNumber:Y.endLineNumberExclusive);he.forEach(te=>{B.push(new U(te,ue.startLineNumber+(te-he.startLineNumber)))}),de&&(de.originalRange.forEach(te=>{B.push(new O(de,te))}),de.modifiedRange.forEach(te=>{B.push(new W(de,te))}))});const ie=H[0].modifiedRange.join(H[H.length-1].modifiedRange),ae=H[0].originalRange.join(H[H.length-1].originalRange);X.push(new N(new r.SimpleLineRangeMapping(ie,ae),B))}return X}var A;(function(G){G[G.Header=0]="Header",G[G.Unchanged=1]="Unchanged",G[G.Deleted=2]="Deleted",G[G.Added=3]="Added"})(A||(A={}));class N{constructor(Z,J){this.range=Z,this.lines=J}}class F{constructor(){this.type=A.Header}}class O{constructor(Z,J){this.diff=Z,this.originalLineNumber=J,this.type=A.Deleted,this.modifiedLineNumber=void 0}}class W{constructor(Z,J){this.diff=Z,this.modifiedLineNumber=J,this.type=A.Added,this.originalLineNumber=void 0}}class U{constructor(Z,J){this.originalLineNumber=Z,this.modifiedLineNumber=J,this.type=A.Unchanged}}let j=class extends f.Disposable{constructor(Z,J,X,H,B,V){super(),this._element=Z,this._model=J,this._width=X,this._height=H,this._editors=B,this._languageService=V,this.domNode=this._element,this.domNode.className="diff-review monaco-editor-background";const Y=document.createElement("div");Y.className="diff-review-actions",this._actionBar=this._register(new k.ActionBar(Y)),this._register((0,_.autorun)(ie=>{this._actionBar.clear(),this._model.canClose.read(ie)&&this._actionBar.push(new D.Action("diffreview.close",(0,p.localize)(3,null),"close-diff-review "+g.ThemeIcon.asClassName(I),!0,()=>we(this,void 0,void 0,function*(){return J.close()})),{label:!1,icon:!0})})),this._content=document.createElement("div"),this._content.className="diff-review-content",this._content.setAttribute("role","code"),this._scrollbar=this._register(new y.DomScrollableElement(this._content,{})),(0,L.reset)(this.domNode,this._scrollbar.getDomNode(),Y),this._register((0,f.toDisposable)(()=>{(0,L.reset)(this.domNode)})),this._register((0,s.applyStyle)(this.domNode,{width:this._width,height:this._height})),this._register((0,s.applyStyle)(this._content,{width:this._width,height:this._height})),this._register((0,_.autorunWithStore)((ie,ae)=>{this._model.currentGroup.read(ie),this._render(ae)})),this._register((0,L.addStandardDisposableListener)(this.domNode,"keydown",ie=>{(ie.equals(18)||ie.equals(2066)||ie.equals(530))&&(ie.preventDefault(),this._model.goToNextLine()),(ie.equals(16)||ie.equals(2064)||ie.equals(528))&&(ie.preventDefault(),this._model.goToPreviousLine()),(ie.equals(9)||ie.equals(2057)||ie.equals(521)||ie.equals(1033))&&(ie.preventDefault(),this._model.close()),(ie.equals(10)||ie.equals(3))&&(ie.preventDefault(),this._model.revealCurrentElementInEditor())}))}_render(Z){const J=this._editors.original.getOptions(),X=this._editors.modified.getOptions(),H=document.createElement("div");H.className="diff-review-table",H.setAttribute("role","list"),H.setAttribute("aria-label",(0,p.localize)(4,null)),(0,C.applyFontInfo)(H,X.get(49)),(0,L.reset)(this._content,H);const B=this._editors.original.getModel(),V=this._editors.modified.getModel();if(!B||!V)return;const Y=B.getOptions(),ie=V.getOptions(),ae=X.get(65),ce=this._model.currentGroup.get();for(const de of ce?.lines||[]){if(!ce)break;let he;if(de.type===A.Header){const te=document.createElement("div");te.className="diff-review-row",te.setAttribute("role","listitem");const q=ce.range,z=this._model.currentGroupIndex.get(),ee=this._model.groups.get().length,$=ve=>ve===0?(0,p.localize)(5,null):ve===1?(0,p.localize)(6,null):(0,p.localize)(7,null,ve),re=$(q.original.length),oe=$(q.modified.length);te.setAttribute("aria-label",(0,p.localize)(8,null,z+1,ee,q.original.startLineNumber,re,q.modified.startLineNumber,oe));const ge=document.createElement("div");ge.className="diff-review-cell diff-review-summary",ge.appendChild(document.createTextNode(`${z+1}/${ee}: @@ -${q.original.startLineNumber},${q.original.length} +${q.modified.startLineNumber},${q.modified.length} @@`)),te.appendChild(ge),he=te}else he=this._createRow(de,ae,this._width.get(),J,B,Y,X,V,ie);H.appendChild(he);const ue=(0,_.derived)(te=>this._model.currentElement.read(te)===de);Z.add((0,_.autorun)(te=>{const q=ue.read(te);he.tabIndex=q?0:-1,q&&he.focus()})),Z.add((0,L.addDisposableListener)(he,"focus",()=>{this._model.goToLine(de)}))}this._scrollbar.scanDomNode()}_createRow(Z,J,X,H,B,V,Y,ie,ae){const ce=H.get(142),de=ce.glyphMarginWidth+ce.lineNumbersWidth,he=Y.get(142),ue=10+he.glyphMarginWidth+he.lineNumbersWidth;let te="diff-review-row",q="";const z="diff-review-spacer";let ee=null;switch(Z.type){case A.Added:te="diff-review-row line-insert",q=" char-insert",ee=w;break;case A.Deleted:te="diff-review-row line-delete",q=" char-delete",ee=E;break}const $=document.createElement("div");$.style.minWidth=X+"px",$.className=te,$.setAttribute("role","listitem"),$.ariaLevel="";const re=document.createElement("div");re.className="diff-review-cell",re.style.height=`${J}px`,$.appendChild(re);const oe=document.createElement("span");oe.style.width=de+"px",oe.style.minWidth=de+"px",oe.className="diff-review-line-number"+q,Z.originalLineNumber!==void 0?oe.appendChild(document.createTextNode(String(Z.originalLineNumber))):oe.innerText="\xA0",re.appendChild(oe);const ge=document.createElement("span");ge.style.width=ue+"px",ge.style.minWidth=ue+"px",ge.style.paddingRight="10px",ge.className="diff-review-line-number"+q,Z.modifiedLineNumber!==void 0?ge.appendChild(document.createTextNode(String(Z.modifiedLineNumber))):ge.innerText="\xA0",re.appendChild(ge);const ve=document.createElement("span");if(ve.className=z,ee){const De=document.createElement("span");De.className=g.ThemeIcon.asClassName(ee),De.innerText="\xA0\xA0",ve.appendChild(De)}else ve.innerText="\xA0\xA0";re.appendChild(ve);let Se;if(Z.modifiedLineNumber!==void 0){let De=this._getLineHtml(ie,Y,ae.tabSize,Z.modifiedLineNumber,this._languageService.languageIdCodec);i.DiffReview._ttPolicy&&(De=i.DiffReview._ttPolicy.createHTML(De)),re.insertAdjacentHTML("beforeend",De),Se=ie.getLineContent(Z.modifiedLineNumber)}else{let De=this._getLineHtml(B,H,V.tabSize,Z.originalLineNumber,this._languageService.languageIdCodec);i.DiffReview._ttPolicy&&(De=i.DiffReview._ttPolicy.createHTML(De)),re.insertAdjacentHTML("beforeend",De),Se=B.getLineContent(Z.originalLineNumber)}Se.length===0&&(Se=(0,p.localize)(9,null));let Le="";switch(Z.type){case A.Unchanged:Z.originalLineNumber===Z.modifiedLineNumber?Le=(0,p.localize)(10,null,Se,Z.originalLineNumber):Le=(0,p.localize)(11,null,Se,Z.originalLineNumber,Z.modifiedLineNumber);break;case A.Added:Le=(0,p.localize)(12,null,Se,Z.modifiedLineNumber);break;case A.Deleted:Le=(0,p.localize)(13,null,Se,Z.originalLineNumber);break}return $.setAttribute("aria-label",Le),$}_getLineHtml(Z,J,X,H,B){const V=Z.getLineContent(H),Y=J.get(49),ie=o.LineTokens.createEmpty(V,B),ae=l.ViewLineRenderingData.isBasicASCII(V,Z.mightContainNonBasicASCII()),ce=l.ViewLineRenderingData.containsRTL(V,ae,Z.mightContainRTL());return(0,d.renderViewLine2)(new d.RenderLineInput(Y.isMonospace&&!J.get(32),Y.canUseHalfwidthRightwardsArrow,V,!1,ae,ce,0,ie,[],X,0,Y.spaceWidth,Y.middotWidth,Y.wsmiddotWidth,J.get(115),J.get(97),J.get(92),J.get(50)!==n.EditorFontLigatures.OFF,null)).html}};j=ke([fe(5,c.ILanguageService)],j);function R(G,Z){let J;for(const X of G)Z(J,X),J=X;Z(J,void 0)}function*K(G,Z){let J,X;for(const H of G)X!==void 0&&Z(X,H)?J.push(H):(J&&(yield J),J=[H]),X=H;J&&(yield J)}}),define(ne[831],se([1,0,52,7,152,83,25,38,6,2,26,644,31,62,199]),function(Q,e,L,k,y,D,S,f,_,g,C,s,i,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ColorPickerWidget=e.InsertButton=e.ColorPickerBody=e.ColorPickerHeader=void 0;const t=k.$;class a extends g.Disposable{constructor(v,b,w,E=!1){super(),this.model=b,this.showingStandaloneColorPicker=E,this._closeButton=null,this._domNode=t(".colorpicker-header"),k.append(v,this._domNode),this._pickedColorNode=k.append(this._domNode,t(".picked-color")),k.append(this._pickedColorNode,t("span.codicon.codicon-color-mode")),this._pickedColorPresentation=k.append(this._pickedColorNode,document.createElement("span")),this._pickedColorPresentation.classList.add("picked-color-presentation");const I=(0,s.localize)(0,null);this._pickedColorNode.setAttribute("title",I),this._originalColorNode=k.append(this._domNode,t(".original-color")),this._originalColorNode.style.backgroundColor=f.Color.Format.CSS.format(this.model.originalColor)||"",this.backgroundColor=w.getColorTheme().getColor(i.editorHoverBackground)||f.Color.white,this._register(w.onDidColorThemeChange(M=>{this.backgroundColor=M.getColor(i.editorHoverBackground)||f.Color.white})),this._register(k.addDisposableListener(this._pickedColorNode,k.EventType.CLICK,()=>this.model.selectNextColorPresentation())),this._register(k.addDisposableListener(this._originalColorNode,k.EventType.CLICK,()=>{this.model.color=this.model.originalColor,this.model.flushColor()})),this._register(b.onDidChangeColor(this.onDidChangeColor,this)),this._register(b.onDidChangePresentation(this.onDidChangePresentation,this)),this._pickedColorNode.style.backgroundColor=f.Color.Format.CSS.format(b.color)||"",this._pickedColorNode.classList.toggle("light",b.color.rgba.a<.5?this.backgroundColor.isLighter():b.color.isLighter()),this.onDidChangeColor(this.model.color),this.showingStandaloneColorPicker&&(this._domNode.classList.add("standalone-colorpicker"),this._closeButton=this._register(new u(this._domNode)))}get closeButton(){return this._closeButton}get pickedColorNode(){return this._pickedColorNode}get originalColorNode(){return this._originalColorNode}onDidChangeColor(v){this._pickedColorNode.style.backgroundColor=f.Color.Format.CSS.format(v)||"",this._pickedColorNode.classList.toggle("light",v.rgba.a<.5?this.backgroundColor.isLighter():v.isLighter()),this.onDidChangePresentation()}onDidChangePresentation(){this._pickedColorPresentation.textContent=this.model.presentation?this.model.presentation.label:""}}e.ColorPickerHeader=a;class u extends g.Disposable{constructor(v){super(),this._onClicked=this._register(new _.Emitter),this.onClicked=this._onClicked.event,this._button=document.createElement("div"),this._button.classList.add("close-button"),k.append(v,this._button);const b=document.createElement("div");b.classList.add("close-button-inner-div"),k.append(this._button,b),k.append(b,t(".button"+C.ThemeIcon.asCSSSelector((0,n.registerIcon)("color-picker-close",S.Codicon.close,(0,s.localize)(1,null))))).classList.add("close-icon"),this._button.onclick=()=>{this._onClicked.fire()}}}class h extends g.Disposable{constructor(v,b,w,E=!1){super(),this.model=b,this.pixelRatio=w,this._insertButton=null,this._domNode=t(".colorpicker-body"),k.append(v,this._domNode),this._saturationBox=new r(this._domNode,this.model,this.pixelRatio),this._register(this._saturationBox),this._register(this._saturationBox.onDidChange(this.onDidSaturationValueChange,this)),this._register(this._saturationBox.onColorFlushed(this.flushColor,this)),this._opacityStrip=new o(this._domNode,this.model,E),this._register(this._opacityStrip),this._register(this._opacityStrip.onDidChange(this.onDidOpacityChange,this)),this._register(this._opacityStrip.onColorFlushed(this.flushColor,this)),this._hueStrip=new d(this._domNode,this.model,E),this._register(this._hueStrip),this._register(this._hueStrip.onDidChange(this.onDidHueChange,this)),this._register(this._hueStrip.onColorFlushed(this.flushColor,this)),E&&(this._insertButton=this._register(new l(this._domNode)),this._domNode.classList.add("standalone-colorpicker"))}flushColor(){this.model.flushColor()}onDidSaturationValueChange({s:v,v:b}){const w=this.model.color.hsva;this.model.color=new f.Color(new f.HSVA(w.h,v,b,w.a))}onDidOpacityChange(v){const b=this.model.color.hsva;this.model.color=new f.Color(new f.HSVA(b.h,b.s,b.v,v))}onDidHueChange(v){const b=this.model.color.hsva,w=(1-v)*360;this.model.color=new f.Color(new f.HSVA(w===360?0:w,b.s,b.v,b.a))}get domNode(){return this._domNode}get saturationBox(){return this._saturationBox}get enterButton(){return this._insertButton}layout(){this._saturationBox.layout(),this._opacityStrip.layout(),this._hueStrip.layout()}}e.ColorPickerBody=h;class r extends g.Disposable{constructor(v,b,w){super(),this.model=b,this.pixelRatio=w,this._onDidChange=new _.Emitter,this.onDidChange=this._onDidChange.event,this._onColorFlushed=new _.Emitter,this.onColorFlushed=this._onColorFlushed.event,this._domNode=t(".saturation-wrap"),k.append(v,this._domNode),this._canvas=document.createElement("canvas"),this._canvas.className="saturation-box",k.append(this._domNode,this._canvas),this.selection=t(".saturation-selection"),k.append(this._domNode,this.selection),this.layout(),this._register(k.addDisposableListener(this._domNode,k.EventType.POINTER_DOWN,E=>this.onPointerDown(E))),this._register(this.model.onDidChangeColor(this.onDidChangeColor,this)),this.monitor=null}get domNode(){return this._domNode}onPointerDown(v){if(!v.target||!(v.target instanceof Element))return;this.monitor=this._register(new y.GlobalPointerMoveMonitor);const b=k.getDomNodePagePosition(this._domNode);v.target!==this.selection&&this.onDidChangePosition(v.offsetX,v.offsetY),this.monitor.startMonitoring(v.target,v.pointerId,v.buttons,E=>this.onDidChangePosition(E.pageX-b.left,E.pageY-b.top),()=>null);const w=k.addDisposableListener(document,k.EventType.POINTER_UP,()=>{this._onColorFlushed.fire(),w.dispose(),this.monitor&&(this.monitor.stopMonitoring(!0),this.monitor=null)},!0)}onDidChangePosition(v,b){const w=Math.max(0,Math.min(1,v/this.width)),E=Math.max(0,Math.min(1,1-b/this.height));this.paintSelection(w,E),this._onDidChange.fire({s:w,v:E})}layout(){this.width=this._domNode.offsetWidth,this.height=this._domNode.offsetHeight,this._canvas.width=this.width*this.pixelRatio,this._canvas.height=this.height*this.pixelRatio,this.paint();const v=this.model.color.hsva;this.paintSelection(v.s,v.v)}paint(){const v=this.model.color.hsva,b=new f.Color(new f.HSVA(v.h,1,1,1)),w=this._canvas.getContext("2d"),E=w.createLinearGradient(0,0,this._canvas.width,0);E.addColorStop(0,"rgba(255, 255, 255, 1)"),E.addColorStop(.5,"rgba(255, 255, 255, 0.5)"),E.addColorStop(1,"rgba(255, 255, 255, 0)");const I=w.createLinearGradient(0,0,0,this._canvas.height);I.addColorStop(0,"rgba(0, 0, 0, 0)"),I.addColorStop(1,"rgba(0, 0, 0, 1)"),w.rect(0,0,this._canvas.width,this._canvas.height),w.fillStyle=f.Color.Format.CSS.format(b),w.fill(),w.fillStyle=E,w.fill(),w.fillStyle=I,w.fill()}paintSelection(v,b){this.selection.style.left=`${v*this.width}px`,this.selection.style.top=`${this.height-b*this.height}px`}onDidChangeColor(v){if(this.monitor&&this.monitor.isMonitoring())return;this.paint();const b=v.hsva;this.paintSelection(b.s,b.v)}}class c extends g.Disposable{constructor(v,b,w=!1){super(),this.model=b,this._onDidChange=new _.Emitter,this.onDidChange=this._onDidChange.event,this._onColorFlushed=new _.Emitter,this.onColorFlushed=this._onColorFlushed.event,w?(this.domNode=k.append(v,t(".standalone-strip")),this.overlay=k.append(this.domNode,t(".standalone-overlay"))):(this.domNode=k.append(v,t(".strip")),this.overlay=k.append(this.domNode,t(".overlay"))),this.slider=k.append(this.domNode,t(".slider")),this.slider.style.top="0px",this._register(k.addDisposableListener(this.domNode,k.EventType.POINTER_DOWN,E=>this.onPointerDown(E))),this._register(b.onDidChangeColor(this.onDidChangeColor,this)),this.layout()}layout(){this.height=this.domNode.offsetHeight-this.slider.offsetHeight;const v=this.getValue(this.model.color);this.updateSliderPosition(v)}onDidChangeColor(v){const b=this.getValue(v);this.updateSliderPosition(b)}onPointerDown(v){if(!v.target||!(v.target instanceof Element))return;const b=this._register(new y.GlobalPointerMoveMonitor),w=k.getDomNodePagePosition(this.domNode);this.domNode.classList.add("grabbing"),v.target!==this.slider&&this.onDidChangeTop(v.offsetY),b.startMonitoring(v.target,v.pointerId,v.buttons,I=>this.onDidChangeTop(I.pageY-w.top),()=>null);const E=k.addDisposableListener(document,k.EventType.POINTER_UP,()=>{this._onColorFlushed.fire(),E.dispose(),b.stopMonitoring(!0),this.domNode.classList.remove("grabbing")},!0)}onDidChangeTop(v){const b=Math.max(0,Math.min(1,1-v/this.height));this.updateSliderPosition(b),this._onDidChange.fire(b)}updateSliderPosition(v){this.slider.style.top=`${(1-v)*this.height}px`}}class o extends c{constructor(v,b,w=!1){super(v,b,w),this.domNode.classList.add("opacity-strip"),this.onDidChangeColor(this.model.color)}onDidChangeColor(v){super.onDidChangeColor(v);const{r:b,g:w,b:E}=v.rgba,I=new f.Color(new f.RGBA(b,w,E,1)),M=new f.Color(new f.RGBA(b,w,E,0));this.overlay.style.background=`linear-gradient(to bottom, ${I} 0%, ${M} 100%)`}getValue(v){return v.hsva.a}}class d extends c{constructor(v,b,w=!1){super(v,b,w),this.domNode.classList.add("hue-strip")}getValue(v){return 1-v.hsva.h/360}}class l extends g.Disposable{constructor(v){super(),this._onClicked=this._register(new _.Emitter),this.onClicked=this._onClicked.event,this._button=k.append(v,document.createElement("button")),this._button.classList.add("insert-button"),this._button.textContent="Insert",this._button.onclick=b=>{this._onClicked.fire()}}get button(){return this._button}}e.InsertButton=l;class p extends D.Widget{constructor(v,b,w,E,I=!1){super(),this.model=b,this.pixelRatio=w,this._register(L.PixelRatio.onDidChange(()=>this.layout()));const M=t(".colorpicker-widget");v.appendChild(M),this.header=this._register(new a(M,this.model,E,I)),this.body=this._register(new h(M,this.model,this.pixelRatio,I))}layout(){this.body.layout()}}e.ColorPickerWidget=p}),define(ne[832],se([1,0,7,49,75,25,6,2,11,20,41,117,236,689,15,56,31,62,26,457]),function(Q,e,L,k,y,D,S,f,_,g,C,s,i,n,t,a,u,h,r){"use strict";var c;Object.defineProperty(e,"__esModule",{value:!0}),e.ParameterHintsWidget=void 0;const o=L.$,d=(0,h.registerIcon)("parameter-hints-next",D.Codicon.chevronDown,n.localize(0,null)),l=(0,h.registerIcon)("parameter-hints-previous",D.Codicon.chevronUp,n.localize(1,null));let p=c=class extends f.Disposable{constructor(v,b,w,E,I){super(),this.editor=v,this.model=b,this.renderDisposeables=this._register(new f.DisposableStore),this.visible=!1,this.announcedLabel=null,this.allowEditorOverflow=!0,this.markdownRenderer=this._register(new s.MarkdownRenderer({editor:v},I,E)),this.keyVisible=i.Context.Visible.bindTo(w),this.keyMultipleSignatures=i.Context.MultipleSignatures.bindTo(w)}createParameterHintDOMNodes(){const v=o(".editor-widget.parameter-hints-widget"),b=L.append(v,o(".phwrapper"));b.tabIndex=-1;const w=L.append(b,o(".controls")),E=L.append(w,o(".button"+r.ThemeIcon.asCSSSelector(l))),I=L.append(w,o(".overloads")),M=L.append(w,o(".button"+r.ThemeIcon.asCSSSelector(d)));this._register(L.addDisposableListener(E,"click",F=>{L.EventHelper.stop(F),this.previous()})),this._register(L.addDisposableListener(M,"click",F=>{L.EventHelper.stop(F),this.next()}));const P=o(".body"),x=new y.DomScrollableElement(P,{alwaysConsumeMouseWheel:!0});this._register(x),b.appendChild(x.getDomNode());const T=L.append(P,o(".signature")),A=L.append(P,o(".docs"));v.style.userSelect="text",this.domNodes={element:v,signature:T,overloads:I,docs:A,scrollbar:x},this.editor.addContentWidget(this),this.hide(),this._register(this.editor.onDidChangeCursorSelection(F=>{this.visible&&this.editor.layoutContentWidget(this)}));const N=()=>{if(!this.domNodes)return;const F=this.editor.getOption(49);this.domNodes.element.style.fontSize=`${F.fontSize}px`,this.domNodes.element.style.lineHeight=`${F.lineHeight/F.fontSize}`};N(),this._register(S.Event.chain(this.editor.onDidChangeConfiguration.bind(this.editor)).filter(F=>F.hasChanged(49)).on(N,null)),this._register(this.editor.onDidLayoutChange(F=>this.updateMaxHeight())),this.updateMaxHeight()}show(){this.visible||(this.domNodes||this.createParameterHintDOMNodes(),this.keyVisible.set(!0),this.visible=!0,setTimeout(()=>{var v;(v=this.domNodes)===null||v===void 0||v.element.classList.add("visible")},100),this.editor.layoutContentWidget(this))}hide(){var v;this.renderDisposeables.clear(),this.visible&&(this.keyVisible.reset(),this.visible=!1,this.announcedLabel=null,(v=this.domNodes)===null||v===void 0||v.element.classList.remove("visible"),this.editor.layoutContentWidget(this))}getPosition(){return this.visible?{position:this.editor.getPosition(),preference:[1,2]}:null}render(v){var b;if(this.renderDisposeables.clear(),!this.domNodes)return;const w=v.signatures.length>1;this.domNodes.element.classList.toggle("multiple",w),this.keyMultipleSignatures.set(w),this.domNodes.signature.innerText="",this.domNodes.docs.innerText="";const E=v.signatures[v.activeSignature];if(!E)return;const I=L.append(this.domNodes.signature,o(".code")),M=this.editor.getOption(49);I.style.fontSize=`${M.fontSize}px`,I.style.fontFamily=M.fontFamily;const P=E.parameters.length>0,x=(b=E.activeParameter)!==null&&b!==void 0?b:v.activeParameter;if(P)this.renderParameters(I,E,x);else{const N=L.append(I,o("span"));N.textContent=E.label}const T=E.parameters[x];if(T?.documentation){const N=o("span.documentation");if(typeof T.documentation=="string")N.textContent=T.documentation;else{const F=this.renderMarkdownDocs(T.documentation);N.appendChild(F.element)}L.append(this.domNodes.docs,o("p",{},N))}if(E.documentation!==void 0)if(typeof E.documentation=="string")L.append(this.domNodes.docs,o("p",{},E.documentation));else{const N=this.renderMarkdownDocs(E.documentation);L.append(this.domNodes.docs,N.element)}const A=this.hasDocs(E,T);if(this.domNodes.signature.classList.toggle("has-docs",A),this.domNodes.docs.classList.toggle("empty",!A),this.domNodes.overloads.textContent=String(v.activeSignature+1).padStart(v.signatures.length.toString().length,"0")+"/"+v.signatures.length,T){let N="";const F=E.parameters[x];Array.isArray(F.label)?N=E.label.substring(F.label[0],F.label[1]):N=F.label,F.documentation&&(N+=typeof F.documentation=="string"?`, ${F.documentation}`:`, ${F.documentation.value}`),E.documentation&&(N+=typeof E.documentation=="string"?`, ${E.documentation}`:`, ${E.documentation.value}`),this.announcedLabel!==N&&(k.alert(n.localize(2,null,N)),this.announcedLabel=N)}this.editor.layoutContentWidget(this),this.domNodes.scrollbar.scanDomNode()}renderMarkdownDocs(v){const b=this.renderDisposeables.add(this.markdownRenderer.render(v,{asyncRenderCallback:()=>{var w;(w=this.domNodes)===null||w===void 0||w.scrollbar.scanDomNode()}}));return b.element.classList.add("markdown-docs"),b}hasDocs(v,b){return!!(b&&typeof b.documentation=="string"&&(0,g.assertIsDefined)(b.documentation).length>0||b&&typeof b.documentation=="object"&&(0,g.assertIsDefined)(b.documentation).value.length>0||v.documentation&&typeof v.documentation=="string"&&(0,g.assertIsDefined)(v.documentation).length>0||v.documentation&&typeof v.documentation=="object"&&(0,g.assertIsDefined)(v.documentation.value).length>0)}renderParameters(v,b,w){const[E,I]=this.getParameterLabelOffsets(b,w),M=document.createElement("span");M.textContent=b.label.substring(0,E);const P=document.createElement("span");P.textContent=b.label.substring(E,I),P.className="parameter active";const x=document.createElement("span");x.textContent=b.label.substring(I),L.append(v,M,P,x)}getParameterLabelOffsets(v,b){const w=v.parameters[b];if(w){if(Array.isArray(w.label))return w.label;if(w.label.length){const E=new RegExp(`(\\W|^)${(0,_.escapeRegExpCharacters)(w.label)}(?=\\W|$)`,"g");E.test(v.label);const I=E.lastIndex-w.label.length;return I>=0?[I,E.lastIndex]:[0,0]}else return[0,0]}else return[0,0]}next(){this.editor.focus(),this.model.next()}previous(){this.editor.focus(),this.model.previous()}getDomNode(){return this.domNodes||this.createParameterHintDOMNodes(),this.domNodes.element}getId(){return c.ID}updateMaxHeight(){if(!this.domNodes)return;const b=`${Math.max(this.editor.getLayoutInfo().height/4,250)}px`;this.domNodes.element.style.maxHeight=b;const w=this.domNodes.element.getElementsByClassName("phwrapper");w.length&&(w[0].style.maxHeight=b)}};e.ParameterHintsWidget=p,p.ID="editor.widget.parameterHintsWidget",e.ParameterHintsWidget=p=c=ke([fe(2,t.IContextKeyService),fe(3,a.IOpenerService),fe(4,C.ILanguageService)],p),(0,u.registerColor)("editorHoverWidget.highlightForeground",{dark:u.listHighlightForeground,light:u.listHighlightForeground,hcDark:u.listHighlightForeground,hcLight:u.listHighlightForeground},n.localize(3,null))}),define(ne[833],se([1,0,100,2,16,21,29,18,753,236,688,15,8,832]),function(Q,e,L,k,y,D,S,f,_,g,C,s,i,n){"use strict";var t;Object.defineProperty(e,"__esModule",{value:!0}),e.TriggerParameterHintsAction=e.ParameterHintsController=void 0;let a=t=class extends k.Disposable{static get(o){return o.getContribution(t.ID)}constructor(o,d,l){super(),this.editor=o,this.model=this._register(new _.ParameterHintsModel(o,l.signatureHelpProvider)),this._register(this.model.onChangedHints(p=>{var m;p?(this.widget.value.show(),this.widget.value.render(p)):(m=this.widget.rawValue)===null||m===void 0||m.hide()})),this.widget=new L.Lazy(()=>this._register(d.createInstance(n.ParameterHintsWidget,this.editor,this.model)))}cancel(){this.model.cancel()}previous(){var o;(o=this.widget.rawValue)===null||o===void 0||o.previous()}next(){var o;(o=this.widget.rawValue)===null||o===void 0||o.next()}trigger(o){this.model.trigger(o,0)}};e.ParameterHintsController=a,a.ID="editor.controller.parameterHints",e.ParameterHintsController=a=t=ke([fe(1,i.IInstantiationService),fe(2,f.ILanguageFeaturesService)],a);class u extends y.EditorAction{constructor(){super({id:"editor.action.triggerParameterHints",label:C.localize(0,null),alias:"Trigger Parameter Hints",precondition:D.EditorContextKeys.hasSignatureHelpProvider,kbOpts:{kbExpr:D.EditorContextKeys.editorTextFocus,primary:3082,weight:100}})}run(o,d){const l=a.get(d);l?.trigger({triggerKind:S.SignatureHelpTriggerKind.Invoke})}}e.TriggerParameterHintsAction=u,(0,y.registerEditorContribution)(a.ID,a,2),(0,y.registerEditorAction)(u);const h=100+75,r=y.EditorCommand.bindToContribution(a.get);(0,y.registerEditorCommand)(new r({id:"closeParameterHints",precondition:g.Context.Visible,handler:c=>c.cancel(),kbOpts:{weight:h,kbExpr:D.EditorContextKeys.focus,primary:9,secondary:[1033]}})),(0,y.registerEditorCommand)(new r({id:"showPrevParameterHint",precondition:s.ContextKeyExpr.and(g.Context.Visible,g.Context.MultipleSignatures),handler:c=>c.previous(),kbOpts:{weight:h,kbExpr:D.EditorContextKeys.focus,primary:16,secondary:[528],mac:{primary:16,secondary:[528,302]}}})),(0,y.registerEditorCommand)(new r({id:"showNextParameterHint",precondition:s.ContextKeyExpr.and(g.Context.Visible,g.Context.MultipleSignatures),handler:c=>c.next(),kbOpts:{weight:h,kbExpr:D.EditorContextKeys.focus,primary:18,secondary:[530],mac:{primary:18,secondary:[530,300]}}}))}),define(ne[834],se([1,0,7,68,39,2,117,8,770,62,26,464]),function(Q,e,L,k,y,D,S,f,_,g,C){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.BannerController=void 0;const s=26;let i=class extends D.Disposable{constructor(a,u){super(),this._editor=a,this.instantiationService=u,this.banner=this._register(this.instantiationService.createInstance(n))}hide(){this._editor.setBanner(null,0),this.banner.clear()}show(a){this.banner.show(Object.assign(Object.assign({},a),{onClose:()=>{var u;this.hide(),(u=a.onClose)===null||u===void 0||u.call(a)}})),this._editor.setBanner(this.banner.element,s)}};e.BannerController=i,e.BannerController=i=ke([fe(1,f.IInstantiationService)],i);let n=class extends D.Disposable{constructor(a){super(),this.instantiationService=a,this.markdownRenderer=this.instantiationService.createInstance(S.MarkdownRenderer,{}),this.element=(0,L.$)("div.editor-banner"),this.element.tabIndex=0}getAriaLabel(a){if(a.ariaLabel)return a.ariaLabel;if(typeof a.message=="string")return a.message}getBannerMessage(a){if(typeof a=="string"){const u=(0,L.$)("span");return u.innerText=a,u}return this.markdownRenderer.render(a).element}clear(){(0,L.clearNode)(this.element)}show(a){(0,L.clearNode)(this.element);const u=this.getAriaLabel(a);u&&this.element.setAttribute("aria-label",u);const h=(0,L.append)(this.element,(0,L.$)("div.icon-container"));h.setAttribute("aria-hidden","true"),a.icon&&h.appendChild((0,L.$)(`div${C.ThemeIcon.asCSSSelector(a.icon)}`));const r=(0,L.append)(this.element,(0,L.$)("div.message-container"));if(r.setAttribute("aria-hidden","true"),r.appendChild(this.getBannerMessage(a.message)),this.messageActionsContainer=(0,L.append)(this.element,(0,L.$)("div.message-actions-container")),a.actions)for(const o of a.actions)this._register(this.instantiationService.createInstance(_.Link,this.messageActionsContainer,Object.assign(Object.assign({},o),{tabIndex:-1}),{}));const c=(0,L.append)(this.element,(0,L.$)("div.action-container"));this.actionBar=this._register(new k.ActionBar(c)),this.actionBar.push(this._register(new y.Action("banner.close","Close Banner",C.ThemeIcon.asClassName(g.widgetClose),!0,()=>{typeof a.onClose=="function"&&a.onClose()})),{icon:!0,label:!1}),this.actionBar.setFocusable(!1)}};n=ke([fe(0,f.IInstantiationService)],n)}),define(ne[835],se([1,0,7,6,26,62]),function(Q,e,L,k,y,D){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.UnthemedProductIconTheme=e.getIconsStyleSheet=void 0;function S(_){const g=new k.Emitter,C=(0,D.getIconRegistry)();return C.onDidChange(()=>g.fire()),_?.onDidProductIconThemeChange(()=>g.fire()),{onDidChange:g.event,getCSS(){const s=_?_.getProductIconTheme():new f,i={},n=a=>{const u=s.getIcon(a);if(!u)return;const h=u.font;return h?(i[h.id]=h.definition,`.codicon-${a.id}:before { content: '${u.fontCharacter}'; font-family: ${(0,L.asCSSPropertyValue)(h.id)}; }`):`.codicon-${a.id}:before { content: '${u.fontCharacter}'; }`},t=[];for(const a of C.getIcons()){const u=n(a);u&&t.push(u)}for(const a in i){const u=i[a],h=u.weight?`font-weight: ${u.weight};`:"",r=u.style?`font-style: ${u.style};`:"",c=u.src.map(o=>`${(0,L.asCSSUrl)(o.location)} format('${o.format}')`).join(", ");t.push(`@font-face { src: ${c}; font-family: ${(0,L.asCSSPropertyValue)(a)};${h}${r} font-display: block; }`)}return t.join(`
`)}}}e.getIconsStyleSheet=S;class f{getIcon(g){const C=(0,D.getIconRegistry)();let s=g.defaults;for(;y.ThemeIcon.isThemeIcon(s);){const i=C.getIcon(s.id);if(!i)return;s=i.defaults}return s}}e.UnthemedProductIconTheme=f}),define(ne[88],se([1,0]),function(Q,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.isDark=e.isHighContrast=e.ColorScheme=void 0;var L;(function(D){D.DARK="dark",D.LIGHT="light",D.HIGH_CONTRAST_DARK="hcDark",D.HIGH_CONTRAST_LIGHT="hcLight"})(L||(e.ColorScheme=L={}));function k(D){return D===L.HIGH_CONTRAST_DARK||D===L.HIGH_CONTRAST_LIGHT}e.isHighContrast=k;function y(D){return D===L.DARK||D===L.HIGH_CONTRAST_DARK}e.isDark=y}),define(ne[251],se([1,0,52,35,17,478,144,127,95,88,36]),function(Q,e,L,k,y,D,S,f,_,g,C){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.getColumnOfNodeOffset=e.ViewLine=e.ViewLineOptions=void 0;const s=function(){return y.isNative?!0:!(y.isLinux||L.isFirefox||L.isSafari)}();let i=!0;class n{constructor(p,m){this.themeType=m;const v=p.options,b=v.get(49);v.get(37)==="off"?this.renderWhitespace=v.get(97):this.renderWhitespace="none",this.renderControlCharacters=v.get(92),this.spaceWidth=b.spaceWidth,this.middotWidth=b.middotWidth,this.wsmiddotWidth=b.wsmiddotWidth,this.useMonospaceOptimizations=b.isMonospace&&!v.get(32),this.canUseHalfwidthRightwardsArrow=b.canUseHalfwidthRightwardsArrow,this.lineHeight=v.get(65),this.stopRenderingLineAfter=v.get(115),this.fontLigatures=v.get(50)}equals(p){return this.themeType===p.themeType&&this.renderWhitespace===p.renderWhitespace&&this.renderControlCharacters===p.renderControlCharacters&&this.spaceWidth===p.spaceWidth&&this.middotWidth===p.middotWidth&&this.wsmiddotWidth===p.wsmiddotWidth&&this.useMonospaceOptimizations===p.useMonospaceOptimizations&&this.canUseHalfwidthRightwardsArrow===p.canUseHalfwidthRightwardsArrow&&this.lineHeight===p.lineHeight&&this.stopRenderingLineAfter===p.stopRenderingLineAfter&&this.fontLigatures===p.fontLigatures}}e.ViewLineOptions=n;class t{constructor(p){this._options=p,this._isMaybeInvalid=!0,this._renderedViewLine=null}getDomNode(){return this._renderedViewLine&&this._renderedViewLine.domNode?this._renderedViewLine.domNode.domNode:null}setDomNode(p){if(this._renderedViewLine)this._renderedViewLine.domNode=(0,k.createFastDomNode)(p);else throw new Error("I have no rendered view line to set the dom node to...")}onContentChanged(){this._isMaybeInvalid=!0}onTokensChanged(){this._isMaybeInvalid=!0}onDecorationsChanged(){this._isMaybeInvalid=!0}onOptionsChanged(p){this._isMaybeInvalid=!0,this._options=p}onSelectionChanged(){return(0,g.isHighContrast)(this._options.themeType)||this._options.renderWhitespace==="selection"?(this._isMaybeInvalid=!0,!0):!1}renderLine(p,m,v,b){if(this._isMaybeInvalid===!1)return!1;this._isMaybeInvalid=!1;const w=v.getViewLineRenderingData(p),E=this._options,I=f.LineDecoration.filter(w.inlineDecorations,p,w.minColumn,w.maxColumn);let M=null;if((0,g.isHighContrast)(E.themeType)||this._options.renderWhitespace==="selection"){const A=v.selections;for(const N of A){if(N.endLineNumber<p||N.startLineNumber>p)continue;const F=N.startLineNumber===p?N.startColumn:w.minColumn,O=N.endLineNumber===p?N.endColumn:w.maxColumn;F<O&&((0,g.isHighContrast)(E.themeType)&&I.push(new f.LineDecoration(F,O,"inline-selected-text",0)),this._options.renderWhitespace==="selection"&&(M||(M=[]),M.push(new _.LineRange(F-1,O-1))))}}const P=new _.RenderLineInput(E.useMonospaceOptimizations,E.canUseHalfwidthRightwardsArrow,w.content,w.continuesWithWrappedLine,w.isBasicASCII,w.containsRTL,w.minColumn-1,w.tokens,I,w.tabSize,w.startVisibleColumn,E.spaceWidth,E.middotWidth,E.wsmiddotWidth,E.stopRenderingLineAfter,E.renderWhitespace,E.renderControlCharacters,E.fontLigatures!==C.EditorFontLigatures.OFF,M);if(this._renderedViewLine&&this._renderedViewLine.input.equals(P))return!1;b.appendString('<div style="top:'),b.appendString(String(m)),b.appendString("px;height:"),b.appendString(String(this._options.lineHeight)),b.appendString('px;" class="'),b.appendString(t.CLASS_NAME),b.appendString('">');const x=(0,_.renderViewLine)(P,b);b.appendString("</div>");let T=null;return i&&s&&w.isBasicASCII&&E.useMonospaceOptimizations&&x.containsForeignElements===0&&(T=new a(this._renderedViewLine?this._renderedViewLine.domNode:null,P,x.characterMapping)),T||(T=r(this._renderedViewLine?this._renderedViewLine.domNode:null,P,x.characterMapping,x.containsRTL,x.containsForeignElements)),this._renderedViewLine=T,!0}layoutLine(p,m){this._renderedViewLine&&this._renderedViewLine.domNode&&(this._renderedViewLine.domNode.setTop(m),this._renderedViewLine.domNode.setHeight(this._options.lineHeight))}getWidth(p){return this._renderedViewLine?this._renderedViewLine.getWidth(p):0}getWidthIsFast(){return this._renderedViewLine?this._renderedViewLine.getWidthIsFast():!0}needsMonospaceFontCheck(){return this._renderedViewLine?this._renderedViewLine instanceof a:!1}monospaceAssumptionsAreValid(){return this._renderedViewLine&&this._renderedViewLine instanceof a?this._renderedViewLine.monospaceAssumptionsAreValid():i}onMonospaceAssumptionsInvalidated(){this._renderedViewLine&&this._renderedViewLine instanceof a&&(this._renderedViewLine=this._renderedViewLine.toSlowRenderedLine())}getVisibleRangesForRange(p,m,v,b){if(!this._renderedViewLine)return null;m=Math.min(this._renderedViewLine.input.lineContent.length+1,Math.max(1,m)),v=Math.min(this._renderedViewLine.input.lineContent.length+1,Math.max(1,v));const w=this._renderedViewLine.input.stopRenderingLineAfter;if(w!==-1&&m>w+1&&v>w+1)return new S.VisibleRanges(!0,[new S.FloatHorizontalRange(this.getWidth(b),0)]);w!==-1&&m>w+1&&(m=w+1),w!==-1&&v>w+1&&(v=w+1);const E=this._renderedViewLine.getVisibleRangesForRange(p,m,v,b);return E&&E.length>0?new S.VisibleRanges(!1,E):null}getColumnOfNodeOffset(p,m){return this._renderedViewLine?this._renderedViewLine.getColumnOfNodeOffset(p,m):1}}e.ViewLine=t,t.CLASS_NAME="view-line";class a{constructor(p,m,v){this._cachedWidth=-1,this.domNode=p,this.input=m;const b=Math.floor(m.lineContent.length/300);if(b>0){this._keyColumnPixelOffsetCache=new Float32Array(b);for(let w=0;w<b;w++)this._keyColumnPixelOffsetCache[w]=-1}else this._keyColumnPixelOffsetCache=null;this._characterMapping=v,this._charWidth=m.spaceWidth}getWidth(p){if(!this.domNode||this.input.lineContent.length<300){const m=this._characterMapping.getHorizontalOffset(this._characterMapping.length);return Math.round(this._charWidth*m)}return this._cachedWidth===-1&&(this._cachedWidth=this._getReadingTarget(this.domNode).offsetWidth,p?.markDidDomLayout()),this._cachedWidth}getWidthIsFast(){return this.input.lineContent.length<300||this._cachedWidth!==-1}monospaceAssumptionsAreValid(){if(!this.domNode)return i;if(this.input.lineContent.length<300){const p=this.getWidth(null),m=this.domNode.domNode.firstChild.offsetWidth;Math.abs(p-m)>=2&&(console.warn("monospace assumptions have been violated, therefore disabling monospace optimizations!"),i=!1)}return i}toSlowRenderedLine(){return r(this.domNode,this.input,this._characterMapping,!1,0)}getVisibleRangesForRange(p,m,v,b){const w=this._getColumnPixelOffset(p,m,b),E=this._getColumnPixelOffset(p,v,b);return[new S.FloatHorizontalRange(w,E-w)]}_getColumnPixelOffset(p,m,v){if(m<=300){const P=this._characterMapping.getHorizontalOffset(m);return this._charWidth*P}const b=Math.floor((m-1)/300)-1,w=(b+1)*300+1;let E=-1;if(this._keyColumnPixelOffsetCache&&(E=this._keyColumnPixelOffsetCache[b],E===-1&&(E=this._actualReadPixelOffset(p,w,v),this._keyColumnPixelOffsetCache[b]=E)),E===-1){const P=this._characterMapping.getHorizontalOffset(m);return this._charWidth*P}const I=this._characterMapping.getHorizontalOffset(w),M=this._characterMapping.getHorizontalOffset(m);return E+this._charWidth*(M-I)}_getReadingTarget(p){return p.domNode.firstChild}_actualReadPixelOffset(p,m,v){if(!this.domNode)return-1;const b=this._characterMapping.getDomPosition(m),w=D.RangeUtil.readHorizontalRanges(this._getReadingTarget(this.domNode),b.partIndex,b.charIndex,b.partIndex,b.charIndex,v);return!w||w.length===0?-1:w[0].left}getColumnOfNodeOffset(p,m){return d(this._characterMapping,p,m)}}class u{constructor(p,m,v,b,w){if(this.domNode=p,this.input=m,this._characterMapping=v,this._isWhitespaceOnly=/^\s*$/.test(m.lineContent),this._containsForeignElements=w,this._cachedWidth=-1,this._pixelOffsetCache=null,!b||this._characterMapping.length===0){this._pixelOffsetCache=new Float32Array(Math.max(2,this._characterMapping.length+1));for(let E=0,I=this._characterMapping.length;E<=I;E++)this._pixelOffsetCache[E]=-1}}_getReadingTarget(p){return p.domNode.firstChild}getWidth(p){return this.domNode?(this._cachedWidth===-1&&(this._cachedWidth=this._getReadingTarget(this.domNode).offsetWidth,p?.markDidDomLayout()),this._cachedWidth):0}getWidthIsFast(){return this._cachedWidth!==-1}getVisibleRangesForRange(p,m,v,b){if(!this.domNode)return null;if(this._pixelOffsetCache!==null){const w=this._readPixelOffset(this.domNode,p,m,b);if(w===-1)return null;const E=this._readPixelOffset(this.domNode,p,v,b);return E===-1?null:[new S.FloatHorizontalRange(w,E-w)]}return this._readVisibleRangesForRange(this.domNode,p,m,v,b)}_readVisibleRangesForRange(p,m,v,b,w){if(v===b){const E=this._readPixelOffset(p,m,v,w);return E===-1?null:[new S.FloatHorizontalRange(E,0)]}else return this._readRawVisibleRangesForRange(p,v,b,w)}_readPixelOffset(p,m,v,b){if(this._characterMapping.length===0){if(this._containsForeignElements===0||this._containsForeignElements===2)return 0;if(this._containsForeignElements===1)return this.getWidth(b);const w=this._getReadingTarget(p);return w.firstChild?(b.markDidDomLayout(),w.firstChild.offsetWidth):0}if(this._pixelOffsetCache!==null){const w=this._pixelOffsetCache[v];if(w!==-1)return w;const E=this._actualReadPixelOffset(p,m,v,b);return this._pixelOffsetCache[v]=E,E}return this._actualReadPixelOffset(p,m,v,b)}_actualReadPixelOffset(p,m,v,b){if(this._characterMapping.length===0){const M=D.RangeUtil.readHorizontalRanges(this._getReadingTarget(p),0,0,0,0,b);return!M||M.length===0?-1:M[0].left}if(v===this._characterMapping.length&&this._isWhitespaceOnly&&this._containsForeignElements===0)return this.getWidth(b);const w=this._characterMapping.getDomPosition(v),E=D.RangeUtil.readHorizontalRanges(this._getReadingTarget(p),w.partIndex,w.charIndex,w.partIndex,w.charIndex,b);if(!E||E.length===0)return-1;const I=E[0].left;if(this.input.isBasicASCII){const M=this._characterMapping.getHorizontalOffset(v),P=Math.round(this.input.spaceWidth*M);if(Math.abs(P-I)<=1)return P}return I}_readRawVisibleRangesForRange(p,m,v,b){if(m===1&&v===this._characterMapping.length)return[new S.FloatHorizontalRange(0,this.getWidth(b))];const w=this._characterMapping.getDomPosition(m),E=this._characterMapping.getDomPosition(v);return D.RangeUtil.readHorizontalRanges(this._getReadingTarget(p),w.partIndex,w.charIndex,E.partIndex,E.charIndex,b)}getColumnOfNodeOffset(p,m){return d(this._characterMapping,p,m)}}class h extends u{_readVisibleRangesForRange(p,m,v,b,w){const E=super._readVisibleRangesForRange(p,m,v,b,w);if(!E||E.length===0||v===b||v===1&&b===this._characterMapping.length)return E;if(!this.input.containsRTL){const I=this._readPixelOffset(p,m,b,w);if(I!==-1){const M=E[E.length-1];M.left<I&&(M.width=I-M.left)}}return E}}const r=function(){return L.isWebKit?c:o}();function c(l,p,m,v,b){return new h(l,p,m,v,b)}function o(l,p,m,v,b){return new u(l,p,m,v,b)}function d(l,p,m){const v=p.textContent.length;let b=-1;for(;p;)p=p.previousSibling,b++;return l.getColumn(new _.DomPosition(b,m),v)}e.getColumnOfNodeOffset=d}),define(ne[355],se([1,0,159,53,251,12,5,82,7,275]),function(Q,e,L,k,y,D,S,f,_,g){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.MouseTargetFactory=e.HitTestContext=e.MouseTarget=e.PointerHandlerLastRenderData=void 0;class C{constructor(v=null){this.hitTarget=v,this.type=0}}class s{constructor(v,b,w){this.position=v,this.spanNode=b,this.injectedText=w,this.type=1}}var i;(function(m){function v(b,w,E){const I=b.getPositionFromDOMInfo(w,E);return I?new s(I,w,null):new C(w)}m.createFromDOMInfo=v})(i||(i={}));class n{constructor(v,b){this.lastViewCursorsRenderData=v,this.lastTextareaPosition=b}}e.PointerHandlerLastRenderData=n;class t{static _deduceRage(v,b=null){return!b&&v?new S.Range(v.lineNumber,v.column,v.lineNumber,v.column):b??null}static createUnknown(v,b,w){return{type:0,element:v,mouseColumn:b,position:w,range:this._deduceRage(w)}}static createTextarea(v,b){return{type:1,element:v,mouseColumn:b,position:null,range:null}}static createMargin(v,b,w,E,I,M){return{type:v,element:b,mouseColumn:w,position:E,range:I,detail:M}}static createViewZone(v,b,w,E,I){return{type:v,element:b,mouseColumn:w,position:E,range:this._deduceRage(E),detail:I}}static createContentText(v,b,w,E,I){return{type:6,element:v,mouseColumn:b,position:w,range:this._deduceRage(w,E),detail:I}}static createContentEmpty(v,b,w,E){return{type:7,element:v,mouseColumn:b,position:w,range:this._deduceRage(w),detail:E}}static createContentWidget(v,b,w){return{type:9,element:v,mouseColumn:b,position:null,range:null,detail:w}}static createScrollbar(v,b,w){return{type:11,element:v,mouseColumn:b,position:w,range:this._deduceRage(w)}}static createOverlayWidget(v,b,w){return{type:12,element:v,mouseColumn:b,position:null,range:null,detail:w}}static createOutsideEditor(v,b,w,E){return{type:13,element:null,mouseColumn:v,position:b,range:this._deduceRage(b),outsidePosition:w,outsideDistance:E}}static _typeToString(v){return v===1?"TEXTAREA":v===2?"GUTTER_GLYPH_MARGIN":v===3?"GUTTER_LINE_NUMBERS":v===4?"GUTTER_LINE_DECORATIONS":v===5?"GUTTER_VIEW_ZONE":v===6?"CONTENT_TEXT":v===7?"CONTENT_EMPTY":v===8?"CONTENT_VIEW_ZONE":v===9?"CONTENT_WIDGET":v===10?"OVERVIEW_RULER":v===11?"SCROLLBAR":v===12?"OVERLAY_WIDGET":"UNKNOWN"}static toString(v){return this._typeToString(v.type)+": "+v.position+" - "+v.range+" - "+JSON.stringify(v.detail)}}e.MouseTarget=t;class a{static isTextArea(v){return v.length===2&&v[0]===3&&v[1]===6}static isChildOfViewLines(v){return v.length>=4&&v[0]===3&&v[3]===7}static isStrictChildOfViewLines(v){return v.length>4&&v[0]===3&&v[3]===7}static isChildOfScrollableElement(v){return v.length>=2&&v[0]===3&&v[1]===5}static isChildOfMinimap(v){return v.length>=2&&v[0]===3&&v[1]===8}static isChildOfContentWidgets(v){return v.length>=4&&v[0]===3&&v[3]===1}static isChildOfOverflowGuard(v){return v.length>=1&&v[0]===3}static isChildOfOverflowingContentWidgets(v){return v.length>=1&&v[0]===2}static isChildOfOverlayWidgets(v){return v.length>=2&&v[0]===3&&v[1]===4}}class u{constructor(v,b,w){this.viewModel=v.viewModel;const E=v.configuration.options;this.layoutInfo=E.get(142),this.viewDomNode=b.viewDomNode,this.lineHeight=E.get(65),this.stickyTabStops=E.get(114),this.typicalHalfwidthCharacterWidth=E.get(49).typicalHalfwidthCharacterWidth,this.lastRenderData=w,this._context=v,this._viewHelper=b}getZoneAtCoord(v){return u.getZoneAtCoord(this._context,v)}static getZoneAtCoord(v,b){const w=v.viewLayout.getWhitespaceAtVerticalOffset(b);if(w){const E=w.verticalOffset+w.height/2,I=v.viewModel.getLineCount();let M=null,P,x=null;return w.afterLineNumber!==I&&(x=new D.Position(w.afterLineNumber+1,1)),w.afterLineNumber>0&&(M=new D.Position(w.afterLineNumber,v.viewModel.getLineMaxColumn(w.afterLineNumber))),x===null?P=M:M===null?P=x:b<E?P=M:P=x,{viewZoneId:w.id,afterLineNumber:w.afterLineNumber,positionBefore:M,positionAfter:x,position:P}}return null}getFullLineRangeAtCoord(v){if(this._context.viewLayout.isAfterLines(v)){const E=this._context.viewModel.getLineCount(),I=this._context.viewModel.getLineMaxColumn(E);return{range:new S.Range(E,I,E,I),isAfterLines:!0}}const b=this._context.viewLayout.getLineNumberAtVerticalOffset(v),w=this._context.viewModel.getLineMaxColumn(b);return{range:new S.Range(b,1,b,w),isAfterLines:!1}}getLineNumberAtVerticalOffset(v){return this._context.viewLayout.getLineNumberAtVerticalOffset(v)}isAfterLines(v){return this._context.viewLayout.isAfterLines(v)}isInTopPadding(v){return this._context.viewLayout.isInTopPadding(v)}isInBottomPadding(v){return this._context.viewLayout.isInBottomPadding(v)}getVerticalOffsetForLineNumber(v){return this._context.viewLayout.getVerticalOffsetForLineNumber(v)}findAttribute(v,b){return u._findAttribute(v,b,this._viewHelper.viewDomNode)}static _findAttribute(v,b,w){for(;v&&v!==document.body;){if(v.hasAttribute&&v.hasAttribute(b))return v.getAttribute(b);if(v===w)return null;v=v.parentNode}return null}getLineWidth(v){return this._viewHelper.getLineWidth(v)}visibleRangeForPosition(v,b){return this._viewHelper.visibleRangeForPosition(v,b)}getPositionFromDOMInfo(v,b){return this._viewHelper.getPositionFromDOMInfo(v,b)}getCurrentScrollTop(){return this._context.viewLayout.getCurrentScrollTop()}getCurrentScrollLeft(){return this._context.viewLayout.getCurrentScrollLeft()}}e.HitTestContext=u;class h{constructor(v,b,w,E){this.editorPos=b,this.pos=w,this.relativePos=E,this.mouseVerticalOffset=Math.max(0,v.getCurrentScrollTop()+this.relativePos.y),this.mouseContentHorizontalOffset=v.getCurrentScrollLeft()+this.relativePos.x-v.layoutInfo.contentLeft,this.isInMarginArea=this.relativePos.x<v.layoutInfo.contentLeft&&this.relativePos.x>=v.layoutInfo.glyphMarginLeft,this.isInContentArea=!this.isInMarginArea,this.mouseColumn=Math.max(0,d._getMouseColumn(this.mouseContentHorizontalOffset,v.typicalHalfwidthCharacterWidth))}}class r extends h{constructor(v,b,w,E,I){super(v,b,w,E),this._ctx=v,I?(this.target=I,this.targetPath=k.PartFingerprints.collect(I,v.viewDomNode)):(this.target=null,this.targetPath=new Uint8Array(0))}toString(){return`pos(${this.pos.x},${this.pos.y}), editorPos(${this.editorPos.x},${this.editorPos.y}), relativePos(${this.relativePos.x},${this.relativePos.y}), mouseVerticalOffset: ${this.mouseVerticalOffset}, mouseContentHorizontalOffset: ${this.mouseContentHorizontalOffset}
	target: ${this.target?this.target.outerHTML:null}`}_getMouseColumn(v=null){return v&&v.column<this._ctx.viewModel.getLineMaxColumn(v.lineNumber)?f.CursorColumns.visibleColumnFromColumn(this._ctx.viewModel.getLineContent(v.lineNumber),v.column,this._ctx.viewModel.model.getOptions().tabSize)+1:this.mouseColumn}fulfillUnknown(v=null){return t.createUnknown(this.target,this._getMouseColumn(v),v)}fulfillTextarea(){return t.createTextarea(this.target,this._getMouseColumn())}fulfillMargin(v,b,w,E){return t.createMargin(v,this.target,this._getMouseColumn(b),b,w,E)}fulfillViewZone(v,b,w){return t.createViewZone(v,this.target,this._getMouseColumn(b),b,w)}fulfillContentText(v,b,w){return t.createContentText(this.target,this._getMouseColumn(v),v,b,w)}fulfillContentEmpty(v,b){return t.createContentEmpty(this.target,this._getMouseColumn(v),v,b)}fulfillContentWidget(v){return t.createContentWidget(this.target,this._getMouseColumn(),v)}fulfillScrollbar(v){return t.createScrollbar(this.target,this._getMouseColumn(v),v)}fulfillOverlayWidget(v){return t.createOverlayWidget(this.target,this._getMouseColumn(),v)}withTarget(v){return new r(this._ctx,this.editorPos,this.pos,this.relativePos,v)}}const c={isAfterLines:!0};function o(m){return{isAfterLines:!1,horizontalDistanceToText:m}}class d{constructor(v,b){this._context=v,this._viewHelper=b}mouseTargetIsWidget(v){const b=v.target,w=k.PartFingerprints.collect(b,this._viewHelper.viewDomNode);return!!(a.isChildOfContentWidgets(w)||a.isChildOfOverflowingContentWidgets(w)||a.isChildOfOverlayWidgets(w))}createMouseTarget(v,b,w,E,I){const M=new u(this._context,this._viewHelper,v),P=new r(M,b,w,E,I);try{const x=d._createMouseTarget(M,P,!1);if(x.type===6&&M.stickyTabStops&&x.position!==null){const T=d._snapToSoftTabBoundary(x.position,M.viewModel),A=S.Range.fromPositions(T,T).plusRange(x.range);return P.fulfillContentText(T,A,x.detail)}return x}catch{return P.fulfillUnknown()}}static _createMouseTarget(v,b,w){if(b.target===null){if(w)return b.fulfillUnknown();const M=d._doHitTest(v,b);return M.type===1?d.createMouseTargetFromHitTestPosition(v,b,M.spanNode,M.position,M.injectedText):this._createMouseTarget(v,b.withTarget(M.hitTarget),!0)}const E=b;let I=null;return!a.isChildOfOverflowGuard(b.targetPath)&&!a.isChildOfOverflowingContentWidgets(b.targetPath)&&(I=I||b.fulfillUnknown()),I=I||d._hitTestContentWidget(v,E),I=I||d._hitTestOverlayWidget(v,E),I=I||d._hitTestMinimap(v,E),I=I||d._hitTestScrollbarSlider(v,E),I=I||d._hitTestViewZone(v,E),I=I||d._hitTestMargin(v,E),I=I||d._hitTestViewCursor(v,E),I=I||d._hitTestTextArea(v,E),I=I||d._hitTestViewLines(v,E,w),I=I||d._hitTestScrollbar(v,E),I||b.fulfillUnknown()}static _hitTestContentWidget(v,b){if(a.isChildOfContentWidgets(b.targetPath)||a.isChildOfOverflowingContentWidgets(b.targetPath)){const w=v.findAttribute(b.target,"widgetId");return w?b.fulfillContentWidget(w):b.fulfillUnknown()}return null}static _hitTestOverlayWidget(v,b){if(a.isChildOfOverlayWidgets(b.targetPath)){const w=v.findAttribute(b.target,"widgetId");return w?b.fulfillOverlayWidget(w):b.fulfillUnknown()}return null}static _hitTestViewCursor(v,b){if(b.target){const w=v.lastRenderData.lastViewCursorsRenderData;for(const E of w)if(b.target===E.domNode)return b.fulfillContentText(E.position,null,{mightBeForeignElement:!1,injectedText:null})}if(b.isInContentArea){const w=v.lastRenderData.lastViewCursorsRenderData,E=b.mouseContentHorizontalOffset,I=b.mouseVerticalOffset;for(const M of w){if(E<M.contentLeft||E>M.contentLeft+M.width)continue;const P=v.getVerticalOffsetForLineNumber(M.position.lineNumber);if(P<=I&&I<=P+M.height)return b.fulfillContentText(M.position,null,{mightBeForeignElement:!1,injectedText:null})}}return null}static _hitTestViewZone(v,b){const w=v.getZoneAtCoord(b.mouseVerticalOffset);if(w){const E=b.isInContentArea?8:5;return b.fulfillViewZone(E,w.position,w)}return null}static _hitTestTextArea(v,b){return a.isTextArea(b.targetPath)?v.lastRenderData.lastTextareaPosition?b.fulfillContentText(v.lastRenderData.lastTextareaPosition,null,{mightBeForeignElement:!1,injectedText:null}):b.fulfillTextarea():null}static _hitTestMargin(v,b){if(b.isInMarginArea){const w=v.getFullLineRangeAtCoord(b.mouseVerticalOffset),E=w.range.getStartPosition();let I=Math.abs(b.relativePos.x);const M={isAfterLines:w.isAfterLines,glyphMarginLeft:v.layoutInfo.glyphMarginLeft,glyphMarginWidth:v.layoutInfo.glyphMarginWidth,lineNumbersWidth:v.layoutInfo.lineNumbersWidth,offsetX:I};return I-=v.layoutInfo.glyphMarginLeft,I<=v.layoutInfo.glyphMarginWidth?b.fulfillMargin(2,E,w.range,M):(I-=v.layoutInfo.glyphMarginWidth,I<=v.layoutInfo.lineNumbersWidth?b.fulfillMargin(3,E,w.range,M):(I-=v.layoutInfo.lineNumbersWidth,b.fulfillMargin(4,E,w.range,M)))}return null}static _hitTestViewLines(v,b,w){if(!a.isChildOfViewLines(b.targetPath))return null;if(v.isInTopPadding(b.mouseVerticalOffset))return b.fulfillContentEmpty(new D.Position(1,1),c);if(v.isAfterLines(b.mouseVerticalOffset)||v.isInBottomPadding(b.mouseVerticalOffset)){const I=v.viewModel.getLineCount(),M=v.viewModel.getLineMaxColumn(I);return b.fulfillContentEmpty(new D.Position(I,M),c)}if(w){if(a.isStrictChildOfViewLines(b.targetPath)){const I=v.getLineNumberAtVerticalOffset(b.mouseVerticalOffset);if(v.viewModel.getLineLength(I)===0){const P=v.getLineWidth(I),x=o(b.mouseContentHorizontalOffset-P);return b.fulfillContentEmpty(new D.Position(I,1),x)}const M=v.getLineWidth(I);if(b.mouseContentHorizontalOffset>=M){const P=o(b.mouseContentHorizontalOffset-M),x=new D.Position(I,v.viewModel.getLineMaxColumn(I));return b.fulfillContentEmpty(x,P)}}return b.fulfillUnknown()}const E=d._doHitTest(v,b);return E.type===1?d.createMouseTargetFromHitTestPosition(v,b,E.spanNode,E.position,E.injectedText):this._createMouseTarget(v,b.withTarget(E.hitTarget),!0)}static _hitTestMinimap(v,b){if(a.isChildOfMinimap(b.targetPath)){const w=v.getLineNumberAtVerticalOffset(b.mouseVerticalOffset),E=v.viewModel.getLineMaxColumn(w);return b.fulfillScrollbar(new D.Position(w,E))}return null}static _hitTestScrollbarSlider(v,b){if(a.isChildOfScrollableElement(b.targetPath)&&b.target&&b.target.nodeType===1){const w=b.target.className;if(w&&/\b(slider|scrollbar)\b/.test(w)){const E=v.getLineNumberAtVerticalOffset(b.mouseVerticalOffset),I=v.viewModel.getLineMaxColumn(E);return b.fulfillScrollbar(new D.Position(E,I))}}return null}static _hitTestScrollbar(v,b){if(a.isChildOfScrollableElement(b.targetPath)){const w=v.getLineNumberAtVerticalOffset(b.mouseVerticalOffset),E=v.viewModel.getLineMaxColumn(w);return b.fulfillScrollbar(new D.Position(w,E))}return null}getMouseColumn(v){const b=this._context.configuration.options,w=b.get(142),E=this._context.viewLayout.getCurrentScrollLeft()+v.x-w.contentLeft;return d._getMouseColumn(E,b.get(49).typicalHalfwidthCharacterWidth)}static _getMouseColumn(v,b){return v<0?1:Math.round(v/b)+1}static createMouseTargetFromHitTestPosition(v,b,w,E,I){const M=E.lineNumber,P=E.column,x=v.getLineWidth(M);if(b.mouseContentHorizontalOffset>x){const R=o(b.mouseContentHorizontalOffset-x);return b.fulfillContentEmpty(E,R)}const T=v.visibleRangeForPosition(M,P);if(!T)return b.fulfillUnknown(E);const A=T.left;if(Math.abs(b.mouseContentHorizontalOffset-A)<1)return b.fulfillContentText(E,null,{mightBeForeignElement:!!I,injectedText:I});const N=[];if(N.push({offset:T.left,column:P}),P>1){const R=v.visibleRangeForPosition(M,P-1);R&&N.push({offset:R.left,column:P-1})}const F=v.viewModel.getLineMaxColumn(M);if(P<F){const R=v.visibleRangeForPosition(M,P+1);R&&N.push({offset:R.left,column:P+1})}N.sort((R,K)=>R.offset-K.offset);const O=b.pos.toClientCoordinates(),W=w.getBoundingClientRect(),U=W.left<=O.clientX&&O.clientX<=W.right;let j=null;for(let R=1;R<N.length;R++){const K=N[R-1],G=N[R];if(K.offset<=b.mouseContentHorizontalOffset&&b.mouseContentHorizontalOffset<=G.offset){j=new S.Range(M,K.column,M,G.column);const Z=Math.abs(K.offset-b.mouseContentHorizontalOffset),J=Math.abs(G.offset-b.mouseContentHorizontalOffset);E=Z<J?new D.Position(M,K.column):new D.Position(M,G.column);break}}return b.fulfillContentText(E,j,{mightBeForeignElement:!U||!!I,injectedText:I})}static _doHitTestWithCaretRangeFromPoint(v,b){const w=v.getLineNumberAtVerticalOffset(b.mouseVerticalOffset),E=v.getVerticalOffsetForLineNumber(w),I=E+v.lineHeight;if(!(w===v.viewModel.getLineCount()&&b.mouseVerticalOffset>I)){const P=Math.floor((E+I)/2);let x=b.pos.y+(P-b.mouseVerticalOffset);x<=b.editorPos.y&&(x=b.editorPos.y+1),x>=b.editorPos.y+b.editorPos.height&&(x=b.editorPos.y+b.editorPos.height-1);const T=new L.PageCoordinates(b.pos.x,x),A=this._actualDoHitTestWithCaretRangeFromPoint(v,T.toClientCoordinates());if(A.type===1)return A}return this._actualDoHitTestWithCaretRangeFromPoint(v,b.pos.toClientCoordinates())}static _actualDoHitTestWithCaretRangeFromPoint(v,b){const w=_.getShadowRoot(v.viewDomNode);let E;if(w?typeof w.caretRangeFromPoint>"u"?E=l(w,b.clientX,b.clientY):E=w.caretRangeFromPoint(b.clientX,b.clientY):E=document.caretRangeFromPoint(b.clientX,b.clientY),!E||!E.startContainer)return new C;const I=E.startContainer;if(I.nodeType===I.TEXT_NODE){const M=I.parentNode,P=M?M.parentNode:null,x=P?P.parentNode:null;return(x&&x.nodeType===x.ELEMENT_NODE?x.className:null)===y.ViewLine.CLASS_NAME?i.createFromDOMInfo(v,M,E.startOffset):new C(I.parentNode)}else if(I.nodeType===I.ELEMENT_NODE){const M=I.parentNode,P=M?M.parentNode:null;return(P&&P.nodeType===P.ELEMENT_NODE?P.className:null)===y.ViewLine.CLASS_NAME?i.createFromDOMInfo(v,I,I.textContent.length):new C(I)}return new C}static _doHitTestWithCaretPositionFromPoint(v,b){const w=document.caretPositionFromPoint(b.clientX,b.clientY);if(w.offsetNode.nodeType===w.offsetNode.TEXT_NODE){const E=w.offsetNode.parentNode,I=E?E.parentNode:null,M=I?I.parentNode:null;return(M&&M.nodeType===M.ELEMENT_NODE?M.className:null)===y.ViewLine.CLASS_NAME?i.createFromDOMInfo(v,w.offsetNode.parentNode,w.offset):new C(w.offsetNode.parentNode)}if(w.offsetNode.nodeType===w.offsetNode.ELEMENT_NODE){const E=w.offsetNode.parentNode,I=E&&E.nodeType===E.ELEMENT_NODE?E.className:null,M=E?E.parentNode:null,P=M&&M.nodeType===M.ELEMENT_NODE?M.className:null;if(I===y.ViewLine.CLASS_NAME){const x=w.offsetNode.childNodes[Math.min(w.offset,w.offsetNode.childNodes.length-1)];if(x)return i.createFromDOMInfo(v,x,0)}else if(P===y.ViewLine.CLASS_NAME)return i.createFromDOMInfo(v,w.offsetNode,0)}return new C(w.offsetNode)}static _snapToSoftTabBoundary(v,b){const w=b.getLineContent(v.lineNumber),{tabSize:E}=b.model.getOptions(),I=g.AtomicTabMoveOperations.atomicPosition(w,v.column-1,E,2);return I!==-1?new D.Position(v.lineNumber,I+1):v}static _doHitTest(v,b){let w=new C;if(typeof document.caretRangeFromPoint=="function"?w=this._doHitTestWithCaretRangeFromPoint(v,b):document.caretPositionFromPoint&&(w=this._doHitTestWithCaretPositionFromPoint(v,b.pos.toClientCoordinates())),w.type===1){const E=v.viewModel.getInjectedTextAt(w.position),I=v.viewModel.normalizePosition(w.position,2);(E||!I.equals(w.position))&&(w=new s(I,w.spanNode,E))}return w}}e.MouseTargetFactory=d;function l(m,v,b){const w=document.createRange();let E=m.elementFromPoint(v,b);if(E!==null){for(;E&&E.firstChild&&E.firstChild.nodeType!==E.firstChild.TEXT_NODE&&E.lastChild&&E.lastChild.firstChild;)E=E.lastChild;const I=E.getBoundingClientRect(),M=window.getComputedStyle(E,null).getPropertyValue("font-style"),P=window.getComputedStyle(E,null).getPropertyValue("font-variant"),x=window.getComputedStyle(E,null).getPropertyValue("font-weight"),T=window.getComputedStyle(E,null).getPropertyValue("font-size"),A=window.getComputedStyle(E,null).getPropertyValue("line-height"),N=window.getComputedStyle(E,null).getPropertyValue("font-family"),F=`${M} ${P} ${x} ${T}/${A} ${N}`,O=E.innerText;let W=I.left,U=0,j;if(v>I.left+I.width)U=O.length;else{const R=p.getInstance();for(let K=0;K<O.length+1;K++){if(j=R.getCharWidth(O.charAt(K),F)/2,W+=j,v<W){U=K;break}W+=j}}w.setStart(E.firstChild,U),w.setEnd(E.firstChild,U)}return w}class p{static getInstance(){return p._INSTANCE||(p._INSTANCE=new p),p._INSTANCE}constructor(){this._cache={},this._canvas=document.createElement("canvas")}getCharWidth(v,b){const w=v+b;if(this._cache[w])return this._cache[w];const E=this._canvas.getContext("2d");E.font=b;const M=E.measureText(v).width;return this._cache[w]=M,M}}p._INSTANCE=null}),define(ne[836],se([1,0,7,60,2,17,355,159,145,12,24,150,75]),function(Q,e,L,k,y,D,S,f,_,g,C,s,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.MouseHandler=void 0;class n extends s.ViewEventHandler{constructor(c,o,d){super(),this._mouseLeaveMonitor=null,this._context=c,this.viewController=o,this.viewHelper=d,this.mouseTargetFactory=new S.MouseTargetFactory(this._context,d),this._mouseDownOperation=this._register(new t(this._context,this.viewController,this.viewHelper,this.mouseTargetFactory,(m,v)=>this._createMouseTarget(m,v),m=>this._getMouseColumn(m))),this.lastMouseLeaveTime=-1,this._height=this._context.configuration.options.get(142).height;const l=new f.EditorMouseEventFactory(this.viewHelper.viewDomNode);this._register(l.onContextMenu(this.viewHelper.viewDomNode,m=>this._onContextMenu(m,!0))),this._register(l.onMouseMove(this.viewHelper.viewDomNode,m=>{this._onMouseMove(m),this._mouseLeaveMonitor||(this._mouseLeaveMonitor=L.addDisposableListener(document,"mousemove",v=>{this.viewHelper.viewDomNode.contains(v.target)||this._onMouseLeave(new f.EditorMouseEvent(v,!1,this.viewHelper.viewDomNode))}))})),this._register(l.onMouseUp(this.viewHelper.viewDomNode,m=>this._onMouseUp(m))),this._register(l.onMouseLeave(this.viewHelper.viewDomNode,m=>this._onMouseLeave(m)));let p=0;this._register(l.onPointerDown(this.viewHelper.viewDomNode,(m,v)=>{p=v})),this._register(L.addDisposableListener(this.viewHelper.viewDomNode,L.EventType.POINTER_UP,m=>{this._mouseDownOperation.onPointerUp()})),this._register(l.onMouseDown(this.viewHelper.viewDomNode,m=>this._onMouseDown(m,p))),this._setupMouseWheelZoomListener(),this._context.addEventHandler(this)}_setupMouseWheelZoomListener(){const c=i.MouseWheelClassifier.INSTANCE;let o=0,d=_.EditorZoom.getZoomLevel(),l=!1,p=0;const m=b=>{if(this.viewController.emitMouseWheel(b),!this._context.configuration.options.get(74))return;const w=new k.StandardWheelEvent(b);if(c.acceptStandardWheelEvent(w),c.isPhysicalMouseWheel()){if(v(b)){const E=_.EditorZoom.getZoomLevel(),I=w.deltaY>0?1:-1;_.EditorZoom.setZoomLevel(E+I),w.preventDefault(),w.stopPropagation()}}else Date.now()-o>50&&(d=_.EditorZoom.getZoomLevel(),l=v(b),p=0),o=Date.now(),p+=w.deltaY,l&&(_.EditorZoom.setZoomLevel(d+p/5),w.preventDefault(),w.stopPropagation())};this._register(L.addDisposableListener(this.viewHelper.viewDomNode,L.EventType.MOUSE_WHEEL,m,{capture:!0,passive:!1}));function v(b){return D.isMacintosh?(b.metaKey||b.ctrlKey)&&!b.shiftKey&&!b.altKey:b.ctrlKey&&!b.metaKey&&!b.shiftKey&&!b.altKey}}dispose(){this._context.removeEventHandler(this),this._mouseLeaveMonitor&&(this._mouseLeaveMonitor.dispose(),this._mouseLeaveMonitor=null),super.dispose()}onConfigurationChanged(c){if(c.hasChanged(142)){const o=this._context.configuration.options.get(142).height;this._height!==o&&(this._height=o,this._mouseDownOperation.onHeightChanged())}return!1}onCursorStateChanged(c){return this._mouseDownOperation.onCursorStateChanged(c),!1}onFocusChanged(c){return!1}getTargetAtClientPoint(c,o){const l=new f.ClientCoordinates(c,o).toPageCoordinates(),p=(0,f.createEditorPagePosition)(this.viewHelper.viewDomNode);if(l.y<p.y||l.y>p.y+p.height||l.x<p.x||l.x>p.x+p.width)return null;const m=(0,f.createCoordinatesRelativeToEditor)(this.viewHelper.viewDomNode,p,l);return this.mouseTargetFactory.createMouseTarget(this.viewHelper.getLastRenderData(),p,l,m,null)}_createMouseTarget(c,o){let d=c.target;if(!this.viewHelper.viewDomNode.contains(d)){const l=L.getShadowRoot(this.viewHelper.viewDomNode);l&&(d=l.elementsFromPoint(c.posx,c.posy).find(p=>this.viewHelper.viewDomNode.contains(p)))}return this.mouseTargetFactory.createMouseTarget(this.viewHelper.getLastRenderData(),c.editorPos,c.pos,c.relativePos,o?d:null)}_getMouseColumn(c){return this.mouseTargetFactory.getMouseColumn(c.relativePos)}_onContextMenu(c,o){this.viewController.emitContextMenu({event:c,target:this._createMouseTarget(c,o)})}_onMouseMove(c){this.mouseTargetFactory.mouseTargetIsWidget(c)||c.preventDefault(),!(this._mouseDownOperation.isActive()||c.timestamp<this.lastMouseLeaveTime)&&this.viewController.emitMouseMove({event:c,target:this._createMouseTarget(c,!0)})}_onMouseLeave(c){this._mouseLeaveMonitor&&(this._mouseLeaveMonitor.dispose(),this._mouseLeaveMonitor=null),this.lastMouseLeaveTime=new Date().getTime(),this.viewController.emitMouseLeave({event:c,target:null})}_onMouseUp(c){this.viewController.emitMouseUp({event:c,target:this._createMouseTarget(c,!0)})}_onMouseDown(c,o){const d=this._createMouseTarget(c,!0),l=d.type===6||d.type===7,p=d.type===2||d.type===3||d.type===4,m=d.type===3,v=this._context.configuration.options.get(107),b=d.type===8||d.type===5,w=d.type===9;let E=c.leftButton||c.middleButton;D.isMacintosh&&c.leftButton&&c.ctrlKey&&(E=!1);const I=()=>{c.preventDefault(),this.viewHelper.focusTextArea()};if(E&&(l||m&&v))I(),this._mouseDownOperation.start(d.type,c,o);else if(p)c.preventDefault();else if(b){const M=d.detail;E&&this.viewHelper.shouldSuppressMouseDownOnViewZone(M.viewZoneId)&&(I(),this._mouseDownOperation.start(d.type,c,o),c.preventDefault())}else w&&this.viewHelper.shouldSuppressMouseDownOnWidget(d.detail)&&(I(),c.preventDefault());this.viewController.emitMouseDown({event:c,target:d})}}e.MouseHandler=n;class t extends y.Disposable{constructor(c,o,d,l,p,m){super(),this._context=c,this._viewController=o,this._viewHelper=d,this._mouseTargetFactory=l,this._createMouseTarget=p,this._getMouseColumn=m,this._mouseMoveMonitor=this._register(new f.GlobalEditorPointerMoveMonitor(this._viewHelper.viewDomNode)),this._topBottomDragScrolling=this._register(new a(this._context,this._viewHelper,this._mouseTargetFactory,(v,b,w)=>this._dispatchMouse(v,b,w))),this._mouseState=new h,this._currentSelection=new C.Selection(1,1,1,1),this._isActive=!1,this._lastMouseEvent=null}dispose(){super.dispose()}isActive(){return this._isActive}_onMouseDownThenMove(c){this._lastMouseEvent=c,this._mouseState.setModifiers(c);const o=this._findMousePosition(c,!1);o&&(this._mouseState.isDragAndDrop?this._viewController.emitMouseDrag({event:c,target:o}):o.type===13&&(o.outsidePosition==="above"||o.outsidePosition==="below")?this._topBottomDragScrolling.start(o,c):(this._topBottomDragScrolling.stop(),this._dispatchMouse(o,!0,1)))}start(c,o,d){this._lastMouseEvent=o,this._mouseState.setStartedOnLineNumbers(c===3),this._mouseState.setStartButtons(o),this._mouseState.setModifiers(o);const l=this._findMousePosition(o,!0);if(!l||!l.position)return;this._mouseState.trySetCount(o.detail,l.position),o.detail=this._mouseState.count;const p=this._context.configuration.options;if(!p.get(89)&&p.get(34)&&!p.get(21)&&!this._mouseState.altKey&&o.detail<2&&!this._isActive&&!this._currentSelection.isEmpty()&&l.type===6&&l.position&&this._currentSelection.containsPosition(l.position)){this._mouseState.isDragAndDrop=!0,this._isActive=!0,this._mouseMoveMonitor.startMonitoring(this._viewHelper.viewLinesDomNode,d,o.buttons,m=>this._onMouseDownThenMove(m),m=>{const v=this._findMousePosition(this._lastMouseEvent,!1);m&&m instanceof KeyboardEvent?this._viewController.emitMouseDropCanceled():this._viewController.emitMouseDrop({event:this._lastMouseEvent,target:v?this._createMouseTarget(this._lastMouseEvent,!0):null}),this._stop()});return}this._mouseState.isDragAndDrop=!1,this._dispatchMouse(l,o.shiftKey,1),this._isActive||(this._isActive=!0,this._mouseMoveMonitor.startMonitoring(this._viewHelper.viewLinesDomNode,d,o.buttons,m=>this._onMouseDownThenMove(m),()=>this._stop()))}_stop(){this._isActive=!1,this._topBottomDragScrolling.stop()}onHeightChanged(){this._mouseMoveMonitor.stopMonitoring()}onPointerUp(){this._mouseMoveMonitor.stopMonitoring()}onCursorStateChanged(c){this._currentSelection=c.selections[0]}_getPositionOutsideEditor(c){const o=c.editorPos,d=this._context.viewModel,l=this._context.viewLayout,p=this._getMouseColumn(c);if(c.posy<o.y){const v=o.y-c.posy,b=Math.max(l.getCurrentScrollTop()-v,0),w=S.HitTestContext.getZoneAtCoord(this._context,b);if(w){const I=this._helpPositionJumpOverViewZone(w);if(I)return S.MouseTarget.createOutsideEditor(p,I,"above",v)}const E=l.getLineNumberAtVerticalOffset(b);return S.MouseTarget.createOutsideEditor(p,new g.Position(E,1),"above",v)}if(c.posy>o.y+o.height){const v=c.posy-o.y-o.height,b=l.getCurrentScrollTop()+c.relativePos.y,w=S.HitTestContext.getZoneAtCoord(this._context,b);if(w){const I=this._helpPositionJumpOverViewZone(w);if(I)return S.MouseTarget.createOutsideEditor(p,I,"below",v)}const E=l.getLineNumberAtVerticalOffset(b);return S.MouseTarget.createOutsideEditor(p,new g.Position(E,d.getLineMaxColumn(E)),"below",v)}const m=l.getLineNumberAtVerticalOffset(l.getCurrentScrollTop()+c.relativePos.y);if(c.posx<o.x){const v=o.x-c.posx;return S.MouseTarget.createOutsideEditor(p,new g.Position(m,1),"left",v)}if(c.posx>o.x+o.width){const v=c.posx-o.x-o.width;return S.MouseTarget.createOutsideEditor(p,new g.Position(m,d.getLineMaxColumn(m)),"right",v)}return null}_findMousePosition(c,o){const d=this._getPositionOutsideEditor(c);if(d)return d;const l=this._createMouseTarget(c,o);if(!l.position)return null;if(l.type===8||l.type===5){const m=this._helpPositionJumpOverViewZone(l.detail);if(m)return S.MouseTarget.createViewZone(l.type,l.element,l.mouseColumn,m,l.detail)}return l}_helpPositionJumpOverViewZone(c){const o=new g.Position(this._currentSelection.selectionStartLineNumber,this._currentSelection.selectionStartColumn),d=c.positionBefore,l=c.positionAfter;return d&&l?d.isBefore(o)?d:l:null}_dispatchMouse(c,o,d){c.position&&this._viewController.dispatchMouse({position:c.position,mouseColumn:c.mouseColumn,startedOnLineNumbers:this._mouseState.startedOnLineNumbers,revealType:d,inSelectionMode:o,mouseDownCount:this._mouseState.count,altKey:this._mouseState.altKey,ctrlKey:this._mouseState.ctrlKey,metaKey:this._mouseState.metaKey,shiftKey:this._mouseState.shiftKey,leftButton:this._mouseState.leftButton,middleButton:this._mouseState.middleButton,onInjectedText:c.type===6&&c.detail.injectedText!==null})}}class a extends y.Disposable{constructor(c,o,d,l){super(),this._context=c,this._viewHelper=o,this._mouseTargetFactory=d,this._dispatchMouse=l,this._operation=null}dispose(){super.dispose(),this.stop()}start(c,o){this._operation?this._operation.setPosition(c,o):this._operation=new u(this._context,this._viewHelper,this._mouseTargetFactory,this._dispatchMouse,c,o)}stop(){this._operation&&(this._operation.dispose(),this._operation=null)}}class u extends y.Disposable{constructor(c,o,d,l,p,m){super(),this._context=c,this._viewHelper=o,this._mouseTargetFactory=d,this._dispatchMouse=l,this._position=p,this._mouseEvent=m,this._lastTime=Date.now(),this._animationFrameDisposable=L.scheduleAtNextAnimationFrame(()=>this._execute())}dispose(){this._animationFrameDisposable.dispose()}setPosition(c,o){this._position=c,this._mouseEvent=o}_tick(){const c=Date.now(),o=c-this._lastTime;return this._lastTime=c,o}_getScrollSpeed(){const c=this._context.configuration.options.get(65),o=this._context.configuration.options.get(142).height/c,d=this._position.outsideDistance/c;return d<=1.5?Math.max(30,o*(1+d)):d<=3?Math.max(60,o*(2+d)):Math.max(200,o*(7+d))}_execute(){const c=this._context.configuration.options.get(65),o=this._getScrollSpeed(),d=this._tick(),l=o*(d/1e3)*c,p=this._position.outsidePosition==="above"?-l:l;this._context.viewModel.viewLayout.deltaScrollNow(0,p),this._viewHelper.renderNow();const m=this._context.viewLayout.getLinesViewportData(),v=this._position.outsidePosition==="above"?m.startLineNumber:m.endLineNumber;let b;{const w=(0,f.createEditorPagePosition)(this._viewHelper.viewDomNode),E=this._context.configuration.options.get(142).horizontalScrollbarHeight,I=new f.PageCoordinates(this._mouseEvent.pos.x,w.y+w.height-E-.1),M=(0,f.createCoordinatesRelativeToEditor)(this._viewHelper.viewDomNode,w,I);b=this._mouseTargetFactory.createMouseTarget(this._viewHelper.getLastRenderData(),w,I,M,null)}(!b.position||b.position.lineNumber!==v)&&(this._position.outsidePosition==="above"?b=S.MouseTarget.createOutsideEditor(this._position.mouseColumn,new g.Position(v,1),"above",this._position.outsideDistance):b=S.MouseTarget.createOutsideEditor(this._position.mouseColumn,new g.Position(v,this._context.viewModel.getLineMaxColumn(v)),"below",this._position.outsideDistance)),this._dispatchMouse(b,!0,2),this._animationFrameDisposable=L.scheduleAtNextAnimationFrame(()=>this._execute())}}class h{get altKey(){return this._altKey}get ctrlKey(){return this._ctrlKey}get metaKey(){return this._metaKey}get shiftKey(){return this._shiftKey}get leftButton(){return this._leftButton}get middleButton(){return this._middleButton}get startedOnLineNumbers(){return this._startedOnLineNumbers}constructor(){this._altKey=!1,this._ctrlKey=!1,this._metaKey=!1,this._shiftKey=!1,this._leftButton=!1,this._middleButton=!1,this._startedOnLineNumbers=!1,this._lastMouseDownPosition=null,this._lastMouseDownPositionEqualCount=0,this._lastMouseDownCount=0,this._lastSetMouseDownCountTime=0,this.isDragAndDrop=!1}get count(){return this._lastMouseDownCount}setModifiers(c){this._altKey=c.altKey,this._ctrlKey=c.ctrlKey,this._metaKey=c.metaKey,this._shiftKey=c.shiftKey}setStartButtons(c){this._leftButton=c.leftButton,this._middleButton=c.middleButton}setStartedOnLineNumbers(c){this._startedOnLineNumbers=c}trySetCount(c,o){const d=new Date().getTime();d-this._lastSetMouseDownCountTime>h.CLEAR_MOUSE_DOWN_COUNT_TIME&&(c=1),this._lastSetMouseDownCountTime=d,c>this._lastMouseDownCount+1&&(c=this._lastMouseDownCount+1),this._lastMouseDownPosition&&this._lastMouseDownPosition.equals(o)?this._lastMouseDownPositionEqualCount++:this._lastMouseDownPositionEqualCount=1,this._lastMouseDownPosition=o,this._lastMouseDownCount=Math.min(c,this._lastMouseDownPositionEqualCount)}}h.CLEAR_MOUSE_DOWN_COUNT_TIME=400}),define(ne[837],se([1,0,7,17,61,2,836,159,217,185]),function(Q,e,L,k,y,D,S,f,_,g){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.PointerHandler=e.PointerEventHandler=void 0;class C extends S.MouseHandler{constructor(t,a,u){super(t,a,u),this._register(y.Gesture.addTarget(this.viewHelper.linesContentDomNode)),this._register(L.addDisposableListener(this.viewHelper.linesContentDomNode,y.EventType.Tap,r=>this.onTap(r))),this._register(L.addDisposableListener(this.viewHelper.linesContentDomNode,y.EventType.Change,r=>this.onChange(r))),this._register(L.addDisposableListener(this.viewHelper.linesContentDomNode,y.EventType.Contextmenu,r=>this._onContextMenu(new f.EditorMouseEvent(r,!1,this.viewHelper.viewDomNode),!1))),this._lastPointerType="mouse",this._register(L.addDisposableListener(this.viewHelper.linesContentDomNode,"pointerdown",r=>{const c=r.pointerType;if(c==="mouse"){this._lastPointerType="mouse";return}else c==="touch"?this._lastPointerType="touch":this._lastPointerType="pen"}));const h=new f.EditorPointerEventFactory(this.viewHelper.viewDomNode);this._register(h.onPointerMove(this.viewHelper.viewDomNode,r=>this._onMouseMove(r))),this._register(h.onPointerUp(this.viewHelper.viewDomNode,r=>this._onMouseUp(r))),this._register(h.onPointerLeave(this.viewHelper.viewDomNode,r=>this._onMouseLeave(r))),this._register(h.onPointerDown(this.viewHelper.viewDomNode,(r,c)=>this._onMouseDown(r,c)))}onTap(t){if(!t.initialTarget||!this.viewHelper.linesContentDomNode.contains(t.initialTarget))return;t.preventDefault(),this.viewHelper.focusTextArea();const a=this._createMouseTarget(new f.EditorMouseEvent(t,!1,this.viewHelper.viewDomNode),!1);a.position&&this.viewController.dispatchMouse({position:a.position,mouseColumn:a.position.column,startedOnLineNumbers:!1,revealType:1,mouseDownCount:t.tapCount,inSelectionMode:!1,altKey:!1,ctrlKey:!1,metaKey:!1,shiftKey:!1,leftButton:!1,middleButton:!1,onInjectedText:a.type===6&&a.detail.injectedText!==null})}onChange(t){this._lastPointerType==="touch"&&this._context.viewModel.viewLayout.deltaScrollNow(-t.translationX,-t.translationY)}_onMouseDown(t,a){t.browserEvent.pointerType!=="touch"&&super._onMouseDown(t,a)}}e.PointerEventHandler=C;class s extends S.MouseHandler{constructor(t,a,u){super(t,a,u),this._register(y.Gesture.addTarget(this.viewHelper.linesContentDomNode)),this._register(L.addDisposableListener(this.viewHelper.linesContentDomNode,y.EventType.Tap,h=>this.onTap(h))),this._register(L.addDisposableListener(this.viewHelper.linesContentDomNode,y.EventType.Change,h=>this.onChange(h))),this._register(L.addDisposableListener(this.viewHelper.linesContentDomNode,y.EventType.Contextmenu,h=>this._onContextMenu(new f.EditorMouseEvent(h,!1,this.viewHelper.viewDomNode),!1)))}onTap(t){t.preventDefault(),this.viewHelper.focusTextArea();const a=this._createMouseTarget(new f.EditorMouseEvent(t,!1,this.viewHelper.viewDomNode),!1);if(a.position){const u=document.createEvent("CustomEvent");u.initEvent(g.TextAreaSyntethicEvents.Tap,!1,!0),this.viewHelper.dispatchTextAreaEvent(u),this.viewController.moveTo(a.position,1)}}onChange(t){this._context.viewModel.viewLayout.deltaScrollNow(-t.translationX,-t.translationY)}}class i extends D.Disposable{constructor(t,a,u){super(),k.isIOS&&_.BrowserFeatures.pointerEvents?this.handler=this._register(new C(t,a,u)):window.TouchEvent?this.handler=this._register(new s(t,a,u)):this.handler=this._register(new S.MouseHandler(t,a,u))}getTargetAtClientPoint(t,a){return this.handler.getTargetAtClientPoint(t,a)}}e.PointerHandler=i}),define(ne[838],se([1,0,173,13,17,59,144,229,53,477,251,12,5,421]),function(Q,e,L,k,y,D,S,f,_,g,C,s,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ViewLines=void 0;class n{constructor(){this._currentVisibleRange=new i.Range(1,1,1,1)}getCurrentVisibleRange(){return this._currentVisibleRange}setCurrentVisibleRange(r){this._currentVisibleRange=r}}class t{constructor(r,c,o,d,l,p,m){this.minimalReveal=r,this.lineNumber=c,this.startColumn=o,this.endColumn=d,this.startScrollTop=l,this.stopScrollTop=p,this.scrollType=m,this.type="range",this.minLineNumber=c,this.maxLineNumber=c}}class a{constructor(r,c,o,d,l){this.minimalReveal=r,this.selections=c,this.startScrollTop=o,this.stopScrollTop=d,this.scrollType=l,this.type="selections";let p=c[0].startLineNumber,m=c[0].endLineNumber;for(let v=1,b=c.length;v<b;v++){const w=c[v];p=Math.min(p,w.startLineNumber),m=Math.max(m,w.endLineNumber)}this.minLineNumber=p,this.maxLineNumber=m}}class u extends _.ViewPart{constructor(r,c){super(r),this._linesContent=c,this._textRangeRestingSpot=document.createElement("div"),this._visibleLines=new f.VisibleLinesCollection(this),this.domNode=this._visibleLines.domNode;const o=this._context.configuration,d=this._context.configuration.options,l=d.get(49),p=d.get(143);this._lineHeight=d.get(65),this._typicalHalfwidthCharacterWidth=l.typicalHalfwidthCharacterWidth,this._isViewportWrapping=p.isViewportWrapping,this._revealHorizontalRightPadding=d.get(98),this._cursorSurroundingLines=d.get(28),this._cursorSurroundingLinesStyle=d.get(29),this._canUseLayerHinting=!d.get(31),this._viewLineOptions=new C.ViewLineOptions(o,this._context.theme.type),_.PartFingerprints.write(this.domNode,7),this.domNode.setClassName(`view-lines ${L.MOUSE_CURSOR_TEXT_CSS_CLASS_NAME}`),(0,D.applyFontInfo)(this.domNode,l),this._maxLineWidth=0,this._asyncUpdateLineWidths=new k.RunOnceScheduler(()=>{this._updateLineWidthsSlow()},200),this._asyncCheckMonospaceFontAssumptions=new k.RunOnceScheduler(()=>{this._checkMonospaceFontAssumptions()},2e3),this._lastRenderedData=new n,this._horizontalRevealRequest=null,this._stickyScrollEnabled=d.get(113).enabled,this._maxNumberStickyLines=d.get(113).maxLineCount}dispose(){this._asyncUpdateLineWidths.dispose(),this._asyncCheckMonospaceFontAssumptions.dispose(),super.dispose()}getDomNode(){return this.domNode}createVisibleLine(){return new C.ViewLine(this._viewLineOptions)}onConfigurationChanged(r){this._visibleLines.onConfigurationChanged(r),r.hasChanged(143)&&(this._maxLineWidth=0);const c=this._context.configuration.options,o=c.get(49),d=c.get(143);return this._lineHeight=c.get(65),this._typicalHalfwidthCharacterWidth=o.typicalHalfwidthCharacterWidth,this._isViewportWrapping=d.isViewportWrapping,this._revealHorizontalRightPadding=c.get(98),this._cursorSurroundingLines=c.get(28),this._cursorSurroundingLinesStyle=c.get(29),this._canUseLayerHinting=!c.get(31),this._stickyScrollEnabled=c.get(113).enabled,this._maxNumberStickyLines=c.get(113).maxLineCount,(0,D.applyFontInfo)(this.domNode,o),this._onOptionsMaybeChanged(),r.hasChanged(142)&&(this._maxLineWidth=0),!0}_onOptionsMaybeChanged(){const r=this._context.configuration,c=new C.ViewLineOptions(r,this._context.theme.type);if(!this._viewLineOptions.equals(c)){this._viewLineOptions=c;const o=this._visibleLines.getStartLineNumber(),d=this._visibleLines.getEndLineNumber();for(let l=o;l<=d;l++)this._visibleLines.getVisibleLine(l).onOptionsChanged(this._viewLineOptions);return!0}return!1}onCursorStateChanged(r){const c=this._visibleLines.getStartLineNumber(),o=this._visibleLines.getEndLineNumber();let d=!1;for(let l=c;l<=o;l++)d=this._visibleLines.getVisibleLine(l).onSelectionChanged()||d;return d}onDecorationsChanged(r){{const c=this._visibleLines.getStartLineNumber(),o=this._visibleLines.getEndLineNumber();for(let d=c;d<=o;d++)this._visibleLines.getVisibleLine(d).onDecorationsChanged()}return!0}onFlushed(r){const c=this._visibleLines.onFlushed(r);return this._maxLineWidth=0,c}onLinesChanged(r){return this._visibleLines.onLinesChanged(r)}onLinesDeleted(r){return this._visibleLines.onLinesDeleted(r)}onLinesInserted(r){return this._visibleLines.onLinesInserted(r)}onRevealRangeRequest(r){const c=this._computeScrollTopToRevealRange(this._context.viewLayout.getFutureViewport(),r.source,r.minimalReveal,r.range,r.selections,r.verticalType);if(c===-1)return!1;let o=this._context.viewLayout.validateScrollPosition({scrollTop:c});r.revealHorizontal?r.range&&r.range.startLineNumber!==r.range.endLineNumber?o={scrollTop:o.scrollTop,scrollLeft:0}:r.range?this._horizontalRevealRequest=new t(r.minimalReveal,r.range.startLineNumber,r.range.startColumn,r.range.endColumn,this._context.viewLayout.getCurrentScrollTop(),o.scrollTop,r.scrollType):r.selections&&r.selections.length>0&&(this._horizontalRevealRequest=new a(r.minimalReveal,r.selections,this._context.viewLayout.getCurrentScrollTop(),o.scrollTop,r.scrollType)):this._horizontalRevealRequest=null;const l=Math.abs(this._context.viewLayout.getCurrentScrollTop()-o.scrollTop)<=this._lineHeight?1:r.scrollType;return this._context.viewModel.viewLayout.setScrollPosition(o,l),!0}onScrollChanged(r){if(this._horizontalRevealRequest&&r.scrollLeftChanged&&(this._horizontalRevealRequest=null),this._horizontalRevealRequest&&r.scrollTopChanged){const c=Math.min(this._horizontalRevealRequest.startScrollTop,this._horizontalRevealRequest.stopScrollTop),o=Math.max(this._horizontalRevealRequest.startScrollTop,this._horizontalRevealRequest.stopScrollTop);(r.scrollTop<c||r.scrollTop>o)&&(this._horizontalRevealRequest=null)}return this.domNode.setWidth(r.scrollWidth),this._visibleLines.onScrollChanged(r)||!0}onTokensChanged(r){return this._visibleLines.onTokensChanged(r)}onZonesChanged(r){return this._context.viewModel.viewLayout.setMaxLineWidth(this._maxLineWidth),this._visibleLines.onZonesChanged(r)}onThemeChanged(r){return this._onOptionsMaybeChanged()}getPositionFromDOMInfo(r,c){const o=this._getViewLineDomNode(r);if(o===null)return null;const d=this._getLineNumberFor(o);if(d===-1||d<1||d>this._context.viewModel.getLineCount())return null;if(this._context.viewModel.getLineMaxColumn(d)===1)return new s.Position(d,1);const l=this._visibleLines.getStartLineNumber(),p=this._visibleLines.getEndLineNumber();if(d<l||d>p)return null;let m=this._visibleLines.getVisibleLine(d).getColumnOfNodeOffset(r,c);const v=this._context.viewModel.getLineMinColumn(d);return m<v&&(m=v),new s.Position(d,m)}_getViewLineDomNode(r){for(;r&&r.nodeType===1;){if(r.className===C.ViewLine.CLASS_NAME)return r;r=r.parentElement}return null}_getLineNumberFor(r){const c=this._visibleLines.getStartLineNumber(),o=this._visibleLines.getEndLineNumber();for(let d=c;d<=o;d++){const l=this._visibleLines.getVisibleLine(d);if(r===l.getDomNode())return d}return-1}getLineWidth(r){const c=this._visibleLines.getStartLineNumber(),o=this._visibleLines.getEndLineNumber();if(r<c||r>o)return-1;const d=new g.DomReadingContext(this.domNode.domNode,this._textRangeRestingSpot),l=this._visibleLines.getVisibleLine(r).getWidth(d);return this._updateLineWidthsSlowIfDomDidLayout(d),l}linesVisibleRangesForRange(r,c){if(this.shouldRender())return null;const o=r.endLineNumber,d=i.Range.intersectRanges(r,this._lastRenderedData.getCurrentVisibleRange());if(!d)return null;const l=[];let p=0;const m=new g.DomReadingContext(this.domNode.domNode,this._textRangeRestingSpot);let v=0;c&&(v=this._context.viewModel.coordinatesConverter.convertViewPositionToModelPosition(new s.Position(d.startLineNumber,1)).lineNumber);const b=this._visibleLines.getStartLineNumber(),w=this._visibleLines.getEndLineNumber();for(let E=d.startLineNumber;E<=d.endLineNumber;E++){if(E<b||E>w)continue;const I=E===d.startLineNumber?d.startColumn:1,M=E!==d.endLineNumber,P=M?this._context.viewModel.getLineMaxColumn(E):d.endColumn,x=this._visibleLines.getVisibleLine(E).getVisibleRangesForRange(E,I,P,m);if(x){if(c&&E<o){const T=v;v=this._context.viewModel.coordinatesConverter.convertViewPositionToModelPosition(new s.Position(E+1,1)).lineNumber,T!==v&&(x.ranges[x.ranges.length-1].width+=this._typicalHalfwidthCharacterWidth)}l[p++]=new S.LineVisibleRanges(x.outsideRenderedLine,E,S.HorizontalRange.from(x.ranges),M)}}return this._updateLineWidthsSlowIfDomDidLayout(m),p===0?null:l}_visibleRangesForLineRange(r,c,o){if(this.shouldRender()||r<this._visibleLines.getStartLineNumber()||r>this._visibleLines.getEndLineNumber())return null;const d=new g.DomReadingContext(this.domNode.domNode,this._textRangeRestingSpot),l=this._visibleLines.getVisibleLine(r).getVisibleRangesForRange(r,c,o,d);return this._updateLineWidthsSlowIfDomDidLayout(d),l}visibleRangeForPosition(r){const c=this._visibleRangesForLineRange(r.lineNumber,r.column,r.column);return c?new S.HorizontalPosition(c.outsideRenderedLine,c.ranges[0].left):null}_updateLineWidthsFast(){return this._updateLineWidths(!0)}_updateLineWidthsSlow(){this._updateLineWidths(!1)}_updateLineWidthsSlowIfDomDidLayout(r){r.didDomLayout&&(this._asyncUpdateLineWidths.isScheduled()||(this._asyncUpdateLineWidths.cancel(),this._updateLineWidthsSlow()))}_updateLineWidths(r){const c=this._visibleLines.getStartLineNumber(),o=this._visibleLines.getEndLineNumber();let d=1,l=!0;for(let p=c;p<=o;p++){const m=this._visibleLines.getVisibleLine(p);if(r&&!m.getWidthIsFast()){l=!1;continue}d=Math.max(d,m.getWidth(null))}return l&&c===1&&o===this._context.viewModel.getLineCount()&&(this._maxLineWidth=0),this._ensureMaxLineWidth(d),l}_checkMonospaceFontAssumptions(){let r=-1,c=-1;const o=this._visibleLines.getStartLineNumber(),d=this._visibleLines.getEndLineNumber();for(let l=o;l<=d;l++){const p=this._visibleLines.getVisibleLine(l);if(p.needsMonospaceFontCheck()){const m=p.getWidth(null);m>c&&(c=m,r=l)}}if(r!==-1&&!this._visibleLines.getVisibleLine(r).monospaceAssumptionsAreValid())for(let l=o;l<=d;l++)this._visibleLines.getVisibleLine(l).onMonospaceAssumptionsInvalidated()}prepareRender(){throw new Error("Not supported")}render(){throw new Error("Not supported")}renderText(r){if(this._visibleLines.renderLines(r),this._lastRenderedData.setCurrentVisibleRange(r.visibleRange),this.domNode.setWidth(this._context.viewLayout.getScrollWidth()),this.domNode.setHeight(Math.min(this._context.viewLayout.getScrollHeight(),1e6)),this._horizontalRevealRequest){const o=this._horizontalRevealRequest;if(r.startLineNumber<=o.minLineNumber&&o.maxLineNumber<=r.endLineNumber){this._horizontalRevealRequest=null,this.onDidRender();const d=this._computeScrollLeftToReveal(o);d&&(this._isViewportWrapping||this._ensureMaxLineWidth(d.maxHorizontalOffset),this._context.viewModel.viewLayout.setScrollPosition({scrollLeft:d.scrollLeft},o.scrollType))}}if(this._updateLineWidthsFast()?this._asyncUpdateLineWidths.cancel():this._asyncUpdateLineWidths.schedule(),y.isLinux&&!this._asyncCheckMonospaceFontAssumptions.isScheduled()){const o=this._visibleLines.getStartLineNumber(),d=this._visibleLines.getEndLineNumber();for(let l=o;l<=d;l++)if(this._visibleLines.getVisibleLine(l).needsMonospaceFontCheck()){this._asyncCheckMonospaceFontAssumptions.schedule();break}}this._linesContent.setLayerHinting(this._canUseLayerHinting),this._linesContent.setContain("strict");const c=this._context.viewLayout.getCurrentScrollTop()-r.bigNumbersDelta;this._linesContent.setTop(-c),this._linesContent.setLeft(-this._context.viewLayout.getCurrentScrollLeft())}_ensureMaxLineWidth(r){const c=Math.ceil(r);this._maxLineWidth<c&&(this._maxLineWidth=c,this._context.viewModel.viewLayout.setMaxLineWidth(this._maxLineWidth))}_computeScrollTopToRevealRange(r,c,o,d,l,p){const m=r.top,v=r.height,b=m+v;let w,E,I;if(l&&l.length>0){let A=l[0].startLineNumber,N=l[0].endLineNumber;for(let F=1,O=l.length;F<O;F++){const W=l[F];A=Math.min(A,W.startLineNumber),N=Math.max(N,W.endLineNumber)}w=!1,E=this._context.viewLayout.getVerticalOffsetForLineNumber(A),I=this._context.viewLayout.getVerticalOffsetForLineNumber(N)+this._lineHeight}else if(d)w=!0,E=this._context.viewLayout.getVerticalOffsetForLineNumber(d.startLineNumber),I=this._context.viewLayout.getVerticalOffsetForLineNumber(d.endLineNumber)+this._lineHeight;else return-1;const M=(c==="mouse"||o)&&this._cursorSurroundingLinesStyle==="default";let P=0,x=0;if(M)o||(P=this._lineHeight);else{const A=Math.min(v/this._lineHeight/2,this._cursorSurroundingLines);this._stickyScrollEnabled?P=Math.max(A,this._maxNumberStickyLines)*this._lineHeight:P=A*this._lineHeight,x=Math.max(0,A-1)*this._lineHeight}o||(p===0||p===4)&&(x+=this._lineHeight),E-=P,I+=x;let T;if(I-E>v){if(!w)return-1;T=E}else if(p===5||p===6)if(p===6&&m<=E&&I<=b)T=m;else{const A=Math.max(5*this._lineHeight,v*.2),N=E-A,F=I-v;T=Math.max(F,N)}else if(p===1||p===2)if(p===2&&m<=E&&I<=b)T=m;else{const A=(E+I)/2;T=Math.max(0,A-v/2)}else T=this._computeMinimumScrolling(m,b,E,I,p===3,p===4);return T}_computeScrollLeftToReveal(r){const c=this._context.viewLayout.getCurrentViewport(),o=this._context.configuration.options.get(142),d=c.left,l=d+c.width-o.verticalScrollbarWidth;let p=1073741824,m=0;if(r.type==="range"){const b=this._visibleRangesForLineRange(r.lineNumber,r.startColumn,r.endColumn);if(!b)return null;for(const w of b.ranges)p=Math.min(p,Math.round(w.left)),m=Math.max(m,Math.round(w.left+w.width))}else for(const b of r.selections){if(b.startLineNumber!==b.endLineNumber)return null;const w=this._visibleRangesForLineRange(b.startLineNumber,b.startColumn,b.endColumn);if(!w)return null;for(const E of w.ranges)p=Math.min(p,Math.round(E.left)),m=Math.max(m,Math.round(E.left+E.width))}return r.minimalReveal||(p=Math.max(0,p-u.HORIZONTAL_EXTRA_PX),m+=this._revealHorizontalRightPadding),r.type==="selections"&&m-p>c.width?null:{scrollLeft:this._computeMinimumScrolling(d,l,p,m),maxHorizontalOffset:m}}_computeMinimumScrolling(r,c,o,d,l,p){r=r|0,c=c|0,o=o|0,d=d|0,l=!!l,p=!!p;const m=c-r;if(d-o<m){if(l)return o;if(p)return Math.max(0,d-m);if(o<r)return o;if(d>c)return Math.max(0,d-m)}else return o;return r}}e.ViewLines=u,u.HORIZONTAL_EXTRA_PX=30}),define(ne[356],se([1,0,7,44,68,226,222,14,13,384,106,9,6,120,2,17,11,734,339,100,22,88,174]),function(Q,e,L,k,y,D,S,f,_,g,C,s,i,n,t,a,u,h,r,c,o,d){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.QuickInputList=e.QuickInputListFocus=void 0;const l=L.$;class p{constructor(T,A,N,F,O,W,U){var j,R,K;this._checked=!1,this._hidden=!1,this.hasCheckbox=F,this.index=N,this.fireButtonTriggered=O,this.fireSeparatorButtonTriggered=W,this._onChecked=U,this.onChecked=F?i.Event.map(i.Event.filter(this._onChecked.event,G=>G.listElement===this),G=>G.checked):i.Event.None,T.type==="separator"?this._separator=T:(this.item=T,A&&A.type==="separator"&&!A.buttons&&(this._separator=A),this.saneDescription=this.item.description,this.saneDetail=this.item.detail,this._labelHighlights=(j=this.item.highlights)===null||j===void 0?void 0:j.label,this._descriptionHighlights=(R=this.item.highlights)===null||R===void 0?void 0:R.description,this._detailHighlights=(K=this.item.highlights)===null||K===void 0?void 0:K.detail,this.saneTooltip=this.item.tooltip),this._init=new c.Lazy(()=>{var G;const Z=(G=T.label)!==null&&G!==void 0?G:"",J=(0,n.parseLabelWithIcons)(Z).text.trim(),X=T.ariaLabel||[Z,this.saneDescription,this.saneDetail].map(H=>(0,n.getCodiconAriaLabel)(H)).filter(H=>!!H).join(", ");return{saneLabel:Z,saneSortLabel:J,saneAriaLabel:X}})}get saneLabel(){return this._init.value.saneLabel}get saneSortLabel(){return this._init.value.saneSortLabel}get saneAriaLabel(){return this._init.value.saneAriaLabel}get element(){return this._element}set element(T){this._element=T}get hidden(){return this._hidden}set hidden(T){this._hidden=T}get checked(){return this._checked}set checked(T){T!==this._checked&&(this._checked=T,this._onChecked.fire({listElement:this,checked:T}))}get separator(){return this._separator}set separator(T){this._separator=T}get labelHighlights(){return this._labelHighlights}set labelHighlights(T){this._labelHighlights=T}get descriptionHighlights(){return this._descriptionHighlights}set descriptionHighlights(T){this._descriptionHighlights=T}get detailHighlights(){return this._detailHighlights}set detailHighlights(T){this._detailHighlights=T}}class m{constructor(T){this.themeService=T}get templateId(){return m.ID}renderTemplate(T){const A=Object.create(null);A.toDisposeElement=[],A.toDisposeTemplate=[],A.entry=L.append(T,l(".quick-input-list-entry"));const N=L.append(A.entry,l("label.quick-input-list-label"));A.toDisposeTemplate.push(L.addStandardDisposableListener(N,L.EventType.CLICK,R=>{A.checkbox.offsetParent||R.preventDefault()})),A.checkbox=L.append(N,l("input.quick-input-list-checkbox")),A.checkbox.type="checkbox",A.toDisposeTemplate.push(L.addStandardDisposableListener(A.checkbox,L.EventType.CHANGE,R=>{A.element.checked=A.checkbox.checked}));const F=L.append(N,l(".quick-input-list-rows")),O=L.append(F,l(".quick-input-list-row")),W=L.append(F,l(".quick-input-list-row"));A.label=new D.IconLabel(O,{supportHighlights:!0,supportDescriptionHighlights:!0,supportIcons:!0}),A.icon=L.prepend(A.label.element,l(".quick-input-list-icon"));const U=L.append(O,l(".quick-input-list-entry-keybinding"));A.keybinding=new S.KeybindingLabel(U,a.OS);const j=L.append(W,l(".quick-input-list-label-meta"));return A.detail=new D.IconLabel(j,{supportHighlights:!0,supportIcons:!0}),A.separator=L.append(A.entry,l(".quick-input-list-separator")),A.actionBar=new y.ActionBar(A.entry),A.actionBar.domNode.classList.add("quick-input-list-entry-action-bar"),A.toDisposeTemplate.push(A.actionBar),A}renderElement(T,A,N){var F,O,W,U;N.element=T,T.element=(F=N.entry)!==null&&F!==void 0?F:void 0;const j=T.item?T.item:T.separator;N.checkbox.checked=T.checked,N.toDisposeElement.push(T.onChecked(X=>N.checkbox.checked=X));const{labelHighlights:R,descriptionHighlights:K,detailHighlights:G}=T;if(!((O=T.item)===null||O===void 0)&&O.iconPath){const X=(0,d.isDark)(this.themeService.getColorTheme().type)?T.item.iconPath.dark:(W=T.item.iconPath.light)!==null&&W!==void 0?W:T.item.iconPath.dark,H=o.URI.revive(X);N.icon.className="quick-input-list-icon",N.icon.style.backgroundImage=L.asCSSUrl(H)}else N.icon.style.backgroundImage="",N.icon.className=!((U=T.item)===null||U===void 0)&&U.iconClass?`quick-input-list-icon ${T.item.iconClass}`:"";const Z={matches:R||[],descriptionTitle:T.saneDescription,descriptionMatches:K||[],labelEscapeNewLines:!0};j.type!=="separator"?(Z.extraClasses=j.iconClasses,Z.italic=j.italic,Z.strikethrough=j.strikethrough,N.entry.classList.remove("quick-input-list-separator-as-item")):N.entry.classList.add("quick-input-list-separator-as-item"),N.label.setLabel(T.saneLabel,T.saneDescription,Z),N.keybinding.set(j.type==="separator"?void 0:j.keybinding),T.saneDetail?(N.detail.element.style.display="",N.detail.setLabel(T.saneDetail,void 0,{matches:G,title:T.saneDetail,labelEscapeNewLines:!0})):N.detail.element.style.display="none",T.item&&T.separator&&T.separator.label?(N.separator.textContent=T.separator.label,N.separator.style.display=""):N.separator.style.display="none",N.entry.classList.toggle("quick-input-list-separator-border",!!T.separator);const J=j.buttons;J&&J.length?(N.actionBar.push(J.map((X,H)=>{let B=X.iconClass||(X.iconPath?(0,r.getIconClass)(X.iconPath):void 0);return X.alwaysVisible&&(B=B?`${B} always-visible`:"always-visible"),{id:`id-${H}`,class:B,enabled:!0,label:"",tooltip:X.tooltip||"",run:()=>{j.type!=="separator"?T.fireButtonTriggered({button:X,item:j}):T.fireSeparatorButtonTriggered({button:X,separator:j})}}}),{icon:!0,label:!1}),N.entry.classList.add("has-actions")):N.entry.classList.remove("has-actions")}disposeElement(T,A,N){N.toDisposeElement=(0,t.dispose)(N.toDisposeElement),N.actionBar.clear()}disposeTemplate(T){T.toDisposeElement=(0,t.dispose)(T.toDisposeElement),T.toDisposeTemplate=(0,t.dispose)(T.toDisposeTemplate)}}m.ID="listelement";class v{getHeight(T){return T.item?T.saneDetail?44:22:24}getTemplateId(T){return m.ID}}var b;(function(x){x[x.First=1]="First",x[x.Second=2]="Second",x[x.Last=3]="Last",x[x.Next=4]="Next",x[x.Previous=5]="Previous",x[x.NextPage=6]="NextPage",x[x.PreviousPage=7]="PreviousPage"})(b||(e.QuickInputListFocus=b={}));class w{constructor(T,A,N,F){this.parent=T,this.options=N,this.inputElements=[],this.elements=[],this.elementsToIndexes=new Map,this.matchOnDescription=!1,this.matchOnDetail=!1,this.matchOnLabel=!0,this.matchOnLabelMode="fuzzy",this.sortByLabel=!0,this._onChangedAllVisibleChecked=new i.Emitter,this.onChangedAllVisibleChecked=this._onChangedAllVisibleChecked.event,this._onChangedCheckedCount=new i.Emitter,this.onChangedCheckedCount=this._onChangedCheckedCount.event,this._onChangedVisibleCount=new i.Emitter,this.onChangedVisibleCount=this._onChangedVisibleCount.event,this._onChangedCheckedElements=new i.Emitter,this.onChangedCheckedElements=this._onChangedCheckedElements.event,this._onButtonTriggered=new i.Emitter,this.onButtonTriggered=this._onButtonTriggered.event,this._onSeparatorButtonTriggered=new i.Emitter,this.onSeparatorButtonTriggered=this._onSeparatorButtonTriggered.event,this._onKeyDown=new i.Emitter,this.onKeyDown=this._onKeyDown.event,this._onLeave=new i.Emitter,this.onLeave=this._onLeave.event,this._listElementChecked=new i.Emitter,this._fireCheckedEvents=!0,this.elementDisposables=[],this.disposables=[],this.id=A,this.container=L.append(this.parent,l(".quick-input-list"));const O=new v,W=new P;if(this.list=N.createList("QuickInput",this.container,O,[new m(F)],{identityProvider:{getId:U=>{var j,R,K,G,Z,J,X,H;return(H=(J=(G=(R=(j=U.item)===null||j===void 0?void 0:j.id)!==null&&R!==void 0?R:(K=U.item)===null||K===void 0?void 0:K.label)!==null&&G!==void 0?G:(Z=U.separator)===null||Z===void 0?void 0:Z.id)!==null&&J!==void 0?J:(X=U.separator)===null||X===void 0?void 0:X.label)!==null&&H!==void 0?H:""}},setRowLineHeight:!1,multipleSelectionSupport:!1,horizontalScrolling:!1,accessibilityProvider:W}),this.list.getHTMLElement().id=A,this.disposables.push(this.list),this.disposables.push(this.list.onKeyDown(U=>{const j=new k.StandardKeyboardEvent(U);switch(j.keyCode){case 10:this.toggleCheckbox();break;case 31:(a.isMacintosh?U.metaKey:U.ctrlKey)&&this.list.setFocus((0,f.range)(this.list.length));break;case 16:{const R=this.list.getFocus();R.length===1&&R[0]===0&&this._onLeave.fire();break}case 18:{const R=this.list.getFocus();R.length===1&&R[0]===this.list.length-1&&this._onLeave.fire();break}}this._onKeyDown.fire(j)})),this.disposables.push(this.list.onMouseDown(U=>{U.browserEvent.button!==2&&U.browserEvent.preventDefault()})),this.disposables.push(L.addDisposableListener(this.container,L.EventType.CLICK,U=>{(U.x||U.y)&&this._onLeave.fire()})),this.disposables.push(this.list.onMouseMiddleClick(U=>{this._onLeave.fire()})),this.disposables.push(this.list.onContextMenu(U=>{typeof U.index=="number"&&(U.browserEvent.preventDefault(),this.list.setSelection([U.index]))})),N.hoverDelegate){const U=new _.ThrottledDelayer(N.hoverDelegate.delay);this.disposables.push(this.list.onMouseOver(j=>we(this,void 0,void 0,function*(){var R;if(j.browserEvent.target instanceof HTMLAnchorElement){U.cancel();return}if(!(!(j.browserEvent.relatedTarget instanceof HTMLAnchorElement)&&L.isAncestor(j.browserEvent.relatedTarget,(R=j.element)===null||R===void 0?void 0:R.element)))try{yield U.trigger(()=>we(this,void 0,void 0,function*(){j.element&&this.showHover(j.element)}))}catch(K){if(!(0,s.isCancellationError)(K))throw K}}))),this.disposables.push(this.list.onMouseOut(j=>{var R;L.isAncestor(j.browserEvent.relatedTarget,(R=j.element)===null||R===void 0?void 0:R.element)||U.cancel()})),this.disposables.push(U)}this.disposables.push(this._listElementChecked.event(U=>this.fireCheckedEvents())),this.disposables.push(this._onChangedAllVisibleChecked,this._onChangedCheckedCount,this._onChangedVisibleCount,this._onChangedCheckedElements,this._onButtonTriggered,this._onSeparatorButtonTriggered,this._onLeave,this._onKeyDown)}get onDidChangeFocus(){return i.Event.map(this.list.onDidChangeFocus,T=>T.elements.map(A=>A.item))}get onDidChangeSelection(){return i.Event.map(this.list.onDidChangeSelection,T=>({items:T.elements.map(A=>A.item),event:T.browserEvent}))}get scrollTop(){return this.list.scrollTop}set scrollTop(T){this.list.scrollTop=T}get ariaLabel(){return this.list.getHTMLElement().ariaLabel}set ariaLabel(T){this.list.getHTMLElement().ariaLabel=T}getAllVisibleChecked(){return this.allVisibleChecked(this.elements,!1)}allVisibleChecked(T,A=!0){for(let N=0,F=T.length;N<F;N++){const O=T[N];if(!O.hidden)if(O.checked)A=!0;else return!1}return A}getCheckedCount(){let T=0;const A=this.elements;for(let N=0,F=A.length;N<F;N++)A[N].checked&&T++;return T}getVisibleCount(){let T=0;const A=this.elements;for(let N=0,F=A.length;N<F;N++)A[N].hidden||T++;return T}setAllVisibleChecked(T){try{this._fireCheckedEvents=!1,this.elements.forEach(A=>{A.hidden||(A.checked=T)})}finally{this._fireCheckedEvents=!0,this.fireCheckedEvents()}}setElements(T){this.elementDisposables=(0,t.dispose)(this.elementDisposables);const A=W=>this.fireButtonTriggered(W),N=W=>this.fireSeparatorButtonTriggered(W);this.inputElements=T;const F=new Map,O=this.parent.classList.contains("show-checkboxes");this.elements=T.reduce((W,U,j)=>{var R;const K=j>0?T[j-1]:void 0;if(U.type==="separator"&&!U.buttons)return W;const G=new p(U,K,j,O,A,N,this._listElementChecked),Z=W.length;return W.push(G),F.set((R=G.item)!==null&&R!==void 0?R:G.separator,Z),W},[]),this.elementsToIndexes=F,this.list.splice(0,this.list.length),this.list.splice(0,this.list.length,this.elements),this._onChangedVisibleCount.fire(this.elements.length)}getFocusedElements(){return this.list.getFocusedElements().map(T=>T.item)}setFocusedElements(T){if(this.list.setFocus(T.filter(A=>this.elementsToIndexes.has(A)).map(A=>this.elementsToIndexes.get(A))),T.length>0){const A=this.list.getFocus()[0];typeof A=="number"&&this.list.reveal(A)}}getActiveDescendant(){return this.list.getHTMLElement().getAttribute("aria-activedescendant")}setSelectedElements(T){this.list.setSelection(T.filter(A=>this.elementsToIndexes.has(A)).map(A=>this.elementsToIndexes.get(A)))}getCheckedElements(){return this.elements.filter(T=>T.checked).map(T=>T.item).filter(T=>!!T)}setCheckedElements(T){try{this._fireCheckedEvents=!1;const A=new Set;for(const N of T)A.add(N);for(const N of this.elements)N.checked=A.has(N.item)}finally{this._fireCheckedEvents=!0,this.fireCheckedEvents()}}set enabled(T){this.list.getHTMLElement().style.pointerEvents=T?"":"none"}focus(T){if(!this.list.length)return;switch(T===b.Second&&this.list.length<2&&(T=b.First),T){case b.First:this.list.scrollTop=0,this.list.focusFirst(void 0,N=>!!N.item);break;case b.Second:this.list.scrollTop=0,this.list.focusNth(1,void 0,N=>!!N.item);break;case b.Last:this.list.scrollTop=this.list.scrollHeight,this.list.focusLast(void 0,N=>!!N.item);break;case b.Next:{this.list.focusNext(void 0,!0,void 0,F=>!!F.item);const N=this.list.getFocus()[0];N!==0&&!this.elements[N-1].item&&this.list.firstVisibleIndex>N-1&&this.list.reveal(N-1);break}case b.Previous:{this.list.focusPrevious(void 0,!0,void 0,F=>!!F.item);const N=this.list.getFocus()[0];N!==0&&!this.elements[N-1].item&&this.list.firstVisibleIndex>N-1&&this.list.reveal(N-1);break}case b.NextPage:this.list.focusNextPage(void 0,N=>!!N.item);break;case b.PreviousPage:this.list.focusPreviousPage(void 0,N=>!!N.item);break}const A=this.list.getFocus()[0];typeof A=="number"&&this.list.reveal(A)}clearFocus(){this.list.setFocus([])}domFocus(){this.list.domFocus()}showHover(T){var A,N,F;this.options.hoverDelegate!==void 0&&(this._lastHover&&!this._lastHover.isDisposed&&((N=(A=this.options.hoverDelegate).onDidHideHover)===null||N===void 0||N.call(A),(F=this._lastHover)===null||F===void 0||F.dispose()),!(!T.element||!T.saneTooltip)&&(this._lastHover=this.options.hoverDelegate.showHover({content:T.saneTooltip,target:T.element,linkHandler:O=>{this.options.linkOpenerDelegate(O)},showPointer:!0,container:this.container,hoverPosition:1},!1)))}layout(T){this.list.getHTMLElement().style.maxHeight=T?`${Math.floor(T/44)*44+6}px`:"",this.list.layout()}filter(T){if(!(this.sortByLabel||this.matchOnLabel||this.matchOnDescription||this.matchOnDetail))return this.list.layout(),!1;const A=T;if(T=T.trim(),!T||!(this.matchOnLabel||this.matchOnDescription||this.matchOnDetail))this.elements.forEach(F=>{F.labelHighlights=void 0,F.descriptionHighlights=void 0,F.detailHighlights=void 0,F.hidden=!1;const O=F.index&&this.inputElements[F.index-1];F.item&&(F.separator=O&&O.type==="separator"&&!O.buttons?O:void 0)});else{let F;this.elements.forEach(O=>{var W,U,j,R;let K;this.matchOnLabelMode==="fuzzy"?K=this.matchOnLabel&&(W=(0,n.matchesFuzzyIconAware)(T,(0,n.parseLabelWithIcons)(O.saneLabel)))!==null&&W!==void 0?W:void 0:K=this.matchOnLabel&&(U=E(A,(0,n.parseLabelWithIcons)(O.saneLabel)))!==null&&U!==void 0?U:void 0;const G=this.matchOnDescription&&(j=(0,n.matchesFuzzyIconAware)(T,(0,n.parseLabelWithIcons)(O.saneDescription||"")))!==null&&j!==void 0?j:void 0,Z=this.matchOnDetail&&(R=(0,n.matchesFuzzyIconAware)(T,(0,n.parseLabelWithIcons)(O.saneDetail||"")))!==null&&R!==void 0?R:void 0;if(K||G||Z?(O.labelHighlights=K,O.descriptionHighlights=G,O.detailHighlights=Z,O.hidden=!1):(O.labelHighlights=void 0,O.descriptionHighlights=void 0,O.detailHighlights=void 0,O.hidden=O.item?!O.item.alwaysShow:!0),O.item?O.separator=void 0:O.separator&&(O.hidden=!0),!this.sortByLabel){const J=O.index&&this.inputElements[O.index-1];F=J&&J.type==="separator"?J:F,F&&!O.hidden&&(O.separator=F,F=void 0)}})}const N=this.elements.filter(F=>!F.hidden);if(this.sortByLabel&&T){const F=T.toLowerCase();N.sort((O,W)=>M(O,W,F))}return this.elementsToIndexes=N.reduce((F,O,W)=>{var U;return F.set((U=O.item)!==null&&U!==void 0?U:O.separator,W),F},new Map),this.list.splice(0,this.list.length,N),this.list.setFocus([]),this.list.layout(),this._onChangedAllVisibleChecked.fire(this.getAllVisibleChecked()),this._onChangedVisibleCount.fire(N.length),!0}toggleCheckbox(){try{this._fireCheckedEvents=!1;const T=this.list.getFocusedElements(),A=this.allVisibleChecked(T);for(const N of T)N.checked=!A}finally{this._fireCheckedEvents=!0,this.fireCheckedEvents()}}display(T){this.container.style.display=T?"":"none"}isDisplayed(){return this.container.style.display!=="none"}dispose(){this.elementDisposables=(0,t.dispose)(this.elementDisposables),this.disposables=(0,t.dispose)(this.disposables)}fireCheckedEvents(){this._fireCheckedEvents&&(this._onChangedAllVisibleChecked.fire(this.getAllVisibleChecked()),this._onChangedCheckedCount.fire(this.getCheckedCount()),this._onChangedCheckedElements.fire(this.getCheckedElements()))}fireButtonTriggered(T){this._onButtonTriggered.fire(T)}fireSeparatorButtonTriggered(T){this._onSeparatorButtonTriggered.fire(T)}style(T){this.list.style(T)}toggleHover(){const T=this.list.getFocusedElements()[0];if(!T?.saneTooltip)return;if(this._lastHover&&!this._lastHover.isDisposed){this._lastHover.dispose();return}const A=this.list.getFocusedElements()[0];if(!A)return;this.showHover(A);const N=new t.DisposableStore;N.add(this.list.onDidChangeFocus(F=>{F.indexes.length&&this.showHover(F.elements[0])})),this._lastHover&&N.add(this._lastHover),this._toggleHover=N,this.elementDisposables.push(this._toggleHover)}}e.QuickInputList=w,ke([C.memoize],w.prototype,"onDidChangeFocus",null),ke([C.memoize],w.prototype,"onDidChangeSelection",null);function E(x,T){const{text:A,iconOffsets:N}=T;if(!N||N.length===0)return I(x,A);const F=(0,u.ltrim)(A," "),O=A.length-F.length,W=I(x,F);if(W)for(const U of W){const j=N[U.start+O]+O;U.start+=j,U.end+=j}return W}function I(x,T){const A=T.toLowerCase().indexOf(x.toLowerCase());return A!==-1?[{start:A,end:A+x.length}]:null}function M(x,T,A){const N=x.labelHighlights||[],F=T.labelHighlights||[];return N.length&&!F.length?-1:!N.length&&F.length?1:N.length===0&&F.length===0?0:(0,g.compareAnything)(x.saneSortLabel,T.saneSortLabel,A)}class P{getWidgetAriaLabel(){return(0,h.localize)(0,null)}getAriaLabel(T){var A;return!((A=T.separator)===null||A===void 0)&&A.label?`${T.saneAriaLabel}, ${T.separator.label}`:T.saneAriaLabel}getWidgetRole(){return"listbox"}getRole(T){return T.hasCheckbox?"checkbox":"option"}isChecked(T){if(T.hasCheckbox)return{value:T.checked,onDidChange:T.onChecked}}}}),define(ne[839],se([1,0,7,44,153,39,14,13,25,6,2,17,101,26,732,71,356,339,174]),function(Q,e,L,k,y,D,S,f,_,g,C,s,i,n,t,a,u,h){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.InputBox=e.QuickPick=e.backButton=void 0,e.backButton={iconClass:n.ThemeIcon.asClassName(_.Codicon.quickInputBack),tooltip:(0,t.localize)(0,null),handle:-1};class r extends C.Disposable{constructor(l){super(),this.ui=l,this._widgetUpdated=!1,this.visible=!1,this._enabled=!0,this._busy=!1,this._ignoreFocusOut=!1,this._buttons=[],this.buttonsUpdated=!1,this._toggles=[],this.togglesUpdated=!1,this.noValidationMessage=r.noPromptMessage,this._severity=i.default.Ignore,this.onDidTriggerButtonEmitter=this._register(new g.Emitter),this.onDidHideEmitter=this._register(new g.Emitter),this.onDisposeEmitter=this._register(new g.Emitter),this.visibleDisposables=this._register(new C.DisposableStore),this.onDidHide=this.onDidHideEmitter.event}get title(){return this._title}set title(l){this._title=l,this.update()}get description(){return this._description}set description(l){this._description=l,this.update()}get step(){return this._steps}set step(l){this._steps=l,this.update()}get totalSteps(){return this._totalSteps}set totalSteps(l){this._totalSteps=l,this.update()}get enabled(){return this._enabled}set enabled(l){this._enabled=l,this.update()}get contextKey(){return this._contextKey}set contextKey(l){this._contextKey=l,this.update()}get busy(){return this._busy}set busy(l){this._busy=l,this.update()}get ignoreFocusOut(){return this._ignoreFocusOut}set ignoreFocusOut(l){const p=this._ignoreFocusOut!==l&&!s.isIOS;this._ignoreFocusOut=l&&!s.isIOS,p&&this.update()}get buttons(){return this._buttons}set buttons(l){this._buttons=l,this.buttonsUpdated=!0,this.update()}get toggles(){return this._toggles}set toggles(l){this._toggles=l??[],this.togglesUpdated=!0,this.update()}get validationMessage(){return this._validationMessage}set validationMessage(l){this._validationMessage=l,this.update()}get severity(){return this._severity}set severity(l){this._severity=l,this.update()}show(){this.visible||(this.visibleDisposables.add(this.ui.onDidTriggerButton(l=>{this.buttons.indexOf(l)!==-1&&this.onDidTriggerButtonEmitter.fire(l)})),this.ui.show(this),this.visible=!0,this._lastValidationMessage=void 0,this._lastSeverity=void 0,this.buttons.length&&(this.buttonsUpdated=!0),this.toggles.length&&(this.togglesUpdated=!0),this.update())}hide(){this.visible&&this.ui.hide()}didHide(l=a.QuickInputHideReason.Other){this.visible=!1,this.visibleDisposables.clear(),this.onDidHideEmitter.fire({reason:l})}update(){var l,p;if(!this.visible)return;const m=this.getTitle();m&&this.ui.title.textContent!==m?this.ui.title.textContent=m:!m&&this.ui.title.innerHTML!=="&nbsp;"&&(this.ui.title.innerText="\xA0");const v=this.getDescription();if(this.ui.description1.textContent!==v&&(this.ui.description1.textContent=v),this.ui.description2.textContent!==v&&(this.ui.description2.textContent=v),this._widgetUpdated&&(this._widgetUpdated=!1,this._widget?L.reset(this.ui.widget,this._widget):L.reset(this.ui.widget)),this.busy&&!this.busyDelay&&(this.busyDelay=new f.TimeoutTimer,this.busyDelay.setIfNotSet(()=>{this.visible&&this.ui.progressBar.infinite()},800)),!this.busy&&this.busyDelay&&(this.ui.progressBar.stop(),this.busyDelay.cancel(),this.busyDelay=void 0),this.buttonsUpdated){this.buttonsUpdated=!1,this.ui.leftActionBar.clear();const w=this.buttons.filter(I=>I===e.backButton);this.ui.leftActionBar.push(w.map((I,M)=>{const P=new D.Action(`id-${M}`,"",I.iconClass||(0,h.getIconClass)(I.iconPath),!0,()=>we(this,void 0,void 0,function*(){this.onDidTriggerButtonEmitter.fire(I)}));return P.tooltip=I.tooltip||"",P}),{icon:!0,label:!1}),this.ui.rightActionBar.clear();const E=this.buttons.filter(I=>I!==e.backButton);this.ui.rightActionBar.push(E.map((I,M)=>{const P=new D.Action(`id-${M}`,"",I.iconClass||(0,h.getIconClass)(I.iconPath),!0,()=>we(this,void 0,void 0,function*(){this.onDidTriggerButtonEmitter.fire(I)}));return P.tooltip=I.tooltip||"",P}),{icon:!0,label:!1})}if(this.togglesUpdated){this.togglesUpdated=!1;const w=(p=(l=this.toggles)===null||l===void 0?void 0:l.filter(E=>E instanceof y.Toggle))!==null&&p!==void 0?p:[];this.ui.inputBox.toggles=w}this.ui.ignoreFocusOut=this.ignoreFocusOut,this.ui.setEnabled(this.enabled),this.ui.setContextKey(this.contextKey);const b=this.validationMessage||this.noValidationMessage;this._lastValidationMessage!==b&&(this._lastValidationMessage=b,L.reset(this.ui.message),(0,h.renderQuickInputDescription)(b,this.ui.message,{callback:w=>{this.ui.linkOpenerDelegate(w)},disposables:this.visibleDisposables})),this._lastSeverity!==this.severity&&(this._lastSeverity=this.severity,this.showMessageDecoration(this.severity))}getTitle(){return this.title&&this.step?`${this.title} (${this.getSteps()})`:this.title?this.title:this.step?this.getSteps():""}getDescription(){return this.description||""}getSteps(){return this.step&&this.totalSteps?(0,t.localize)(2,null,this.step,this.totalSteps):this.step?String(this.step):""}showMessageDecoration(l){if(this.ui.inputBox.showDecoration(l),l!==i.default.Ignore){const p=this.ui.inputBox.stylesForType(l);this.ui.message.style.color=p.foreground?`${p.foreground}`:"",this.ui.message.style.backgroundColor=p.background?`${p.background}`:"",this.ui.message.style.border=p.border?`1px solid ${p.border}`:"",this.ui.message.style.marginBottom="-2px"}else this.ui.message.style.color="",this.ui.message.style.backgroundColor="",this.ui.message.style.border="",this.ui.message.style.marginBottom=""}dispose(){this.hide(),this.onDisposeEmitter.fire(),super.dispose()}}r.noPromptMessage=(0,t.localize)(1,null);class c extends r{constructor(){super(...arguments),this._value="",this.onDidChangeValueEmitter=this._register(new g.Emitter),this.onWillAcceptEmitter=this._register(new g.Emitter),this.onDidAcceptEmitter=this._register(new g.Emitter),this.onDidCustomEmitter=this._register(new g.Emitter),this._items=[],this.itemsUpdated=!1,this._canSelectMany=!1,this._canAcceptInBackground=!1,this._matchOnDescription=!1,this._matchOnDetail=!1,this._matchOnLabel=!0,this._matchOnLabelMode="fuzzy",this._sortByLabel=!0,this._autoFocusOnList=!0,this._keepScrollPosition=!1,this._itemActivation=a.ItemActivation.FIRST,this._activeItems=[],this.activeItemsUpdated=!1,this.activeItemsToConfirm=[],this.onDidChangeActiveEmitter=this._register(new g.Emitter),this._selectedItems=[],this.selectedItemsUpdated=!1,this.selectedItemsToConfirm=[],this.onDidChangeSelectionEmitter=this._register(new g.Emitter),this.onDidTriggerItemButtonEmitter=this._register(new g.Emitter),this.onDidTriggerSeparatorButtonEmitter=this._register(new g.Emitter),this.valueSelectionUpdated=!0,this._ok="default",this._customButton=!1,this.filterValue=l=>l,this.onDidChangeValue=this.onDidChangeValueEmitter.event,this.onWillAccept=this.onWillAcceptEmitter.event,this.onDidAccept=this.onDidAcceptEmitter.event,this.onDidChangeActive=this.onDidChangeActiveEmitter.event,this.onDidChangeSelection=this.onDidChangeSelectionEmitter.event,this.onDidTriggerItemButton=this.onDidTriggerItemButtonEmitter.event,this.onDidTriggerSeparatorButton=this.onDidTriggerSeparatorButtonEmitter.event}get quickNavigate(){return this._quickNavigate}set quickNavigate(l){this._quickNavigate=l,this.update()}get value(){return this._value}set value(l){this.doSetValue(l)}doSetValue(l,p){this._value!==l&&(this._value=l,p||this.update(),this.visible&&this.ui.list.filter(this.filterValue(this._value))&&this.trySelectFirst(),this.onDidChangeValueEmitter.fire(this._value))}set ariaLabel(l){this._ariaLabel=l,this.update()}get ariaLabel(){return this._ariaLabel}get placeholder(){return this._placeholder}set placeholder(l){this._placeholder=l,this.update()}get items(){return this._items}get scrollTop(){return this.ui.list.scrollTop}set scrollTop(l){this.ui.list.scrollTop=l}set items(l){this._items=l,this.itemsUpdated=!0,this.update()}get canSelectMany(){return this._canSelectMany}set canSelectMany(l){this._canSelectMany=l,this.update()}get canAcceptInBackground(){return this._canAcceptInBackground}set canAcceptInBackground(l){this._canAcceptInBackground=l}get matchOnDescription(){return this._matchOnDescription}set matchOnDescription(l){this._matchOnDescription=l,this.update()}get matchOnDetail(){return this._matchOnDetail}set matchOnDetail(l){this._matchOnDetail=l,this.update()}get matchOnLabel(){return this._matchOnLabel}set matchOnLabel(l){this._matchOnLabel=l,this.update()}get matchOnLabelMode(){return this._matchOnLabelMode}set matchOnLabelMode(l){this._matchOnLabelMode=l,this.update()}get sortByLabel(){return this._sortByLabel}set sortByLabel(l){this._sortByLabel=l,this.update()}get autoFocusOnList(){return this._autoFocusOnList}set autoFocusOnList(l){this._autoFocusOnList=l,this.update()}get keepScrollPosition(){return this._keepScrollPosition}set keepScrollPosition(l){this._keepScrollPosition=l}get itemActivation(){return this._itemActivation}set itemActivation(l){this._itemActivation=l}get activeItems(){return this._activeItems}set activeItems(l){this._activeItems=l,this.activeItemsUpdated=!0,this.update()}get selectedItems(){return this._selectedItems}set selectedItems(l){this._selectedItems=l,this.selectedItemsUpdated=!0,this.update()}get keyMods(){return this._quickNavigate?a.NO_KEY_MODS:this.ui.keyMods}set valueSelection(l){this._valueSelection=l,this.valueSelectionUpdated=!0,this.update()}get customButton(){return this._customButton}set customButton(l){this._customButton=l,this.update()}get customLabel(){return this._customButtonLabel}set customLabel(l){this._customButtonLabel=l,this.update()}get customHover(){return this._customButtonHover}set customHover(l){this._customButtonHover=l,this.update()}get ok(){return this._ok}set ok(l){this._ok=l,this.update()}get hideInput(){return!!this._hideInput}set hideInput(l){this._hideInput=l,this.update()}trySelectFirst(){this.autoFocusOnList&&(this.canSelectMany||this.ui.list.focus(u.QuickInputListFocus.First))}show(){this.visible||(this.visibleDisposables.add(this.ui.inputBox.onDidChange(l=>{this.doSetValue(l,!0)})),this.visibleDisposables.add(this.ui.inputBox.onMouseDown(l=>{this.autoFocusOnList||this.ui.list.clearFocus()})),this.visibleDisposables.add((this._hideInput?this.ui.list:this.ui.inputBox).onKeyDown(l=>{switch(l.keyCode){case 18:this.ui.list.focus(u.QuickInputListFocus.Next),this.canSelectMany&&this.ui.list.domFocus(),L.EventHelper.stop(l,!0);break;case 16:this.ui.list.getFocusedElements().length?this.ui.list.focus(u.QuickInputListFocus.Previous):this.ui.list.focus(u.QuickInputListFocus.Last),this.canSelectMany&&this.ui.list.domFocus(),L.EventHelper.stop(l,!0);break;case 12:this.ui.list.focus(u.QuickInputListFocus.NextPage),this.canSelectMany&&this.ui.list.domFocus(),L.EventHelper.stop(l,!0);break;case 11:this.ui.list.focus(u.QuickInputListFocus.PreviousPage),this.canSelectMany&&this.ui.list.domFocus(),L.EventHelper.stop(l,!0);break;case 17:if(!this._canAcceptInBackground||!this.ui.inputBox.isSelectionAtEnd())return;this.activeItems[0]&&(this._selectedItems=[this.activeItems[0]],this.onDidChangeSelectionEmitter.fire(this.selectedItems),this.handleAccept(!0));break;case 14:(l.ctrlKey||l.metaKey)&&!l.shiftKey&&!l.altKey&&(this.ui.list.focus(u.QuickInputListFocus.First),L.EventHelper.stop(l,!0));break;case 13:(l.ctrlKey||l.metaKey)&&!l.shiftKey&&!l.altKey&&(this.ui.list.focus(u.QuickInputListFocus.Last),L.EventHelper.stop(l,!0));break}})),this.visibleDisposables.add(this.ui.onDidAccept(()=>{this.canSelectMany?this.ui.list.getCheckedElements().length||(this._selectedItems=[],this.onDidChangeSelectionEmitter.fire(this.selectedItems)):this.activeItems[0]&&(this._selectedItems=[this.activeItems[0]],this.onDidChangeSelectionEmitter.fire(this.selectedItems)),this.handleAccept(!1)})),this.visibleDisposables.add(this.ui.onDidCustom(()=>{this.onDidCustomEmitter.fire()})),this.visibleDisposables.add(this.ui.list.onDidChangeFocus(l=>{this.activeItemsUpdated||this.activeItemsToConfirm!==this._activeItems&&(0,S.equals)(l,this._activeItems,(p,m)=>p===m)||(this._activeItems=l,this.onDidChangeActiveEmitter.fire(l))})),this.visibleDisposables.add(this.ui.list.onDidChangeSelection(({items:l,event:p})=>{if(this.canSelectMany){l.length&&this.ui.list.setSelectedElements([]);return}this.selectedItemsToConfirm!==this._selectedItems&&(0,S.equals)(l,this._selectedItems,(m,v)=>m===v)||(this._selectedItems=l,this.onDidChangeSelectionEmitter.fire(l),l.length&&this.handleAccept(p instanceof MouseEvent&&p.button===1))})),this.visibleDisposables.add(this.ui.list.onChangedCheckedElements(l=>{this.canSelectMany&&(this.selectedItemsToConfirm!==this._selectedItems&&(0,S.equals)(l,this._selectedItems,(p,m)=>p===m)||(this._selectedItems=l,this.onDidChangeSelectionEmitter.fire(l)))})),this.visibleDisposables.add(this.ui.list.onButtonTriggered(l=>this.onDidTriggerItemButtonEmitter.fire(l))),this.visibleDisposables.add(this.ui.list.onSeparatorButtonTriggered(l=>this.onDidTriggerSeparatorButtonEmitter.fire(l))),this.visibleDisposables.add(this.registerQuickNavigation()),this.valueSelectionUpdated=!0),super.show()}handleAccept(l){let p=!1;this.onWillAcceptEmitter.fire({veto:()=>p=!0}),p||this.onDidAcceptEmitter.fire({inBackground:l})}registerQuickNavigation(){return L.addDisposableListener(this.ui.container,L.EventType.KEY_UP,l=>{if(this.canSelectMany||!this._quickNavigate)return;const p=new k.StandardKeyboardEvent(l),m=p.keyCode;this._quickNavigate.keybindings.some(w=>{const E=w.getChords();return E.length>1?!1:E[0].shiftKey&&m===4?!(p.ctrlKey||p.altKey||p.metaKey):!!(E[0].altKey&&m===6||E[0].ctrlKey&&m===5||E[0].metaKey&&m===57)})&&(this.activeItems[0]&&(this._selectedItems=[this.activeItems[0]],this.onDidChangeSelectionEmitter.fire(this.selectedItems),this.handleAccept(!1)),this._quickNavigate=void 0)})}update(){if(!this.visible)return;const l=this.keepScrollPosition?this.scrollTop:0,p=!!this.description,m={title:!!this.title||!!this.step||!!this.buttons.length,description:p,checkAll:this.canSelectMany&&!this._hideCheckAll,checkBox:this.canSelectMany,inputBox:!this._hideInput,progressBar:!this._hideInput||p,visibleCount:!0,count:this.canSelectMany&&!this._hideCountBadge,ok:this.ok==="default"?this.canSelectMany:this.ok,list:!0,message:!!this.validationMessage,customButton:this.customButton};this.ui.setVisibilities(m),super.update(),this.ui.inputBox.value!==this.value&&(this.ui.inputBox.value=this.value),this.valueSelectionUpdated&&(this.valueSelectionUpdated=!1,this.ui.inputBox.select(this._valueSelection&&{start:this._valueSelection[0],end:this._valueSelection[1]})),this.ui.inputBox.placeholder!==(this.placeholder||"")&&(this.ui.inputBox.placeholder=this.placeholder||"");let v=this.ariaLabel;if(!v&&m.inputBox&&(v=this.placeholder||c.DEFAULT_ARIA_LABEL,this.title&&(v+=` - ${this.title}`)),this.ui.list.ariaLabel!==v&&(this.ui.list.ariaLabel=v??null),this.ui.list.matchOnDescription=this.matchOnDescription,this.ui.list.matchOnDetail=this.matchOnDetail,this.ui.list.matchOnLabel=this.matchOnLabel,this.ui.list.matchOnLabelMode=this.matchOnLabelMode,this.ui.list.sortByLabel=this.sortByLabel,this.itemsUpdated)switch(this.itemsUpdated=!1,this.ui.list.setElements(this.items),this.ui.list.filter(this.filterValue(this.ui.inputBox.value)),this.ui.checkAll.checked=this.ui.list.getAllVisibleChecked(),this.ui.visibleCount.setCount(this.ui.list.getVisibleCount()),this.ui.count.setCount(this.ui.list.getCheckedCount()),this._itemActivation){case a.ItemActivation.NONE:this._itemActivation=a.ItemActivation.FIRST;break;case a.ItemActivation.SECOND:this.ui.list.focus(u.QuickInputListFocus.Second),this._itemActivation=a.ItemActivation.FIRST;break;case a.ItemActivation.LAST:this.ui.list.focus(u.QuickInputListFocus.Last),this._itemActivation=a.ItemActivation.FIRST;break;default:this.trySelectFirst();break}this.ui.container.classList.contains("show-checkboxes")!==!!this.canSelectMany&&(this.canSelectMany?this.ui.list.clearFocus():this.trySelectFirst()),this.activeItemsUpdated&&(this.activeItemsUpdated=!1,this.activeItemsToConfirm=this._activeItems,this.ui.list.setFocusedElements(this.activeItems),this.activeItemsToConfirm===this._activeItems&&(this.activeItemsToConfirm=null)),this.selectedItemsUpdated&&(this.selectedItemsUpdated=!1,this.selectedItemsToConfirm=this._selectedItems,this.canSelectMany?this.ui.list.setCheckedElements(this.selectedItems):this.ui.list.setSelectedElements(this.selectedItems),this.selectedItemsToConfirm===this._selectedItems&&(this.selectedItemsToConfirm=null)),this.ui.customButton.label=this.customLabel||"",this.ui.customButton.element.title=this.customHover||"",m.inputBox||(this.ui.list.domFocus(),this.canSelectMany&&this.ui.list.focus(u.QuickInputListFocus.First)),this.keepScrollPosition&&(this.scrollTop=l)}}e.QuickPick=c,c.DEFAULT_ARIA_LABEL=(0,t.localize)(3,null);class o extends r{constructor(){super(...arguments),this._value="",this.valueSelectionUpdated=!0,this._password=!1,this.onDidValueChangeEmitter=this._register(new g.Emitter),this.onDidAcceptEmitter=this._register(new g.Emitter),this.onDidChangeValue=this.onDidValueChangeEmitter.event,this.onDidAccept=this.onDidAcceptEmitter.event}get value(){return this._value}set value(l){this._value=l||"",this.update()}get placeholder(){return this._placeholder}set placeholder(l){this._placeholder=l,this.update()}get password(){return this._password}set password(l){this._password=l,this.update()}show(){this.visible||(this.visibleDisposables.add(this.ui.inputBox.onDidChange(l=>{l!==this.value&&(this._value=l,this.onDidValueChangeEmitter.fire(l))})),this.visibleDisposables.add(this.ui.onDidAccept(()=>this.onDidAcceptEmitter.fire())),this.valueSelectionUpdated=!0),super.show()}update(){if(!this.visible)return;this.ui.container.classList.remove("hidden-input");const l={title:!!this.title||!!this.step||!!this.buttons.length,description:!!this.description||!!this.step,inputBox:!0,message:!0,progressBar:!0};this.ui.setVisibilities(l),super.update(),this.ui.inputBox.value!==this.value&&(this.ui.inputBox.value=this.value),this.valueSelectionUpdated&&(this.valueSelectionUpdated=!1,this.ui.inputBox.select(this._valueSelection&&{start:this._valueSelection[0],end:this._valueSelection[1]})),this.ui.inputBox.placeholder!==(this.placeholder||"")&&(this.ui.inputBox.placeholder=this.placeholder||""),this.ui.inputBox.password!==this.password&&(this.ui.inputBox.password=this.password)}}e.InputBox=o}),define(ne[840],se([1,0,7,68,313,307,574,19,6,2,101,733,71,772,356,839]),function(Q,e,L,k,y,D,S,f,_,g,C,s,i,n,t,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.QuickInputController=void 0;const u=L.$;class h extends g.Disposable{constructor(c,o){super(),this.options=c,this.themeService=o,this.enabled=!0,this.onDidAcceptEmitter=this._register(new _.Emitter),this.onDidCustomEmitter=this._register(new _.Emitter),this.onDidTriggerButtonEmitter=this._register(new _.Emitter),this.keyMods={ctrlCmd:!1,alt:!1},this.controller=null,this.onShowEmitter=this._register(new _.Emitter),this.onShow=this.onShowEmitter.event,this.onHideEmitter=this._register(new _.Emitter),this.onHide=this.onHideEmitter.event,this.idPrefix=c.idPrefix,this.parentElement=c.container,this.styles=c.styles,this.registerKeyModsListeners()}registerKeyModsListeners(){const c=o=>{this.keyMods.ctrlCmd=o.ctrlKey||o.metaKey,this.keyMods.alt=o.altKey};this._register(L.addDisposableListener(window,L.EventType.KEY_DOWN,c,!0)),this._register(L.addDisposableListener(window,L.EventType.KEY_UP,c,!0)),this._register(L.addDisposableListener(window,L.EventType.MOUSE_DOWN,c,!0))}getUI(){if(this.ui)return this.ui;const c=L.append(this.parentElement,u(".quick-input-widget.show-file-icons"));c.tabIndex=-1,c.style.display="none";const o=L.createStyleSheet(c),d=L.append(c,u(".quick-input-titlebar")),l=this.options.hoverDelegate?{hoverDelegate:this.options.hoverDelegate}:void 0,p=this._register(new k.ActionBar(d,l));p.domNode.classList.add("quick-input-left-action-bar");const m=L.append(d,u(".quick-input-title")),v=this._register(new k.ActionBar(d,l));v.domNode.classList.add("quick-input-right-action-bar");const b=L.append(c,u(".quick-input-header")),w=L.append(b,u("input.quick-input-check-all"));w.type="checkbox",w.setAttribute("aria-label",(0,s.localize)(0,null)),this._register(L.addStandardDisposableListener(w,L.EventType.CHANGE,H=>{const B=w.checked;J.setAllVisibleChecked(B)})),this._register(L.addDisposableListener(w,L.EventType.CLICK,H=>{(H.x||H.y)&&P.setFocus()}));const E=L.append(b,u(".quick-input-description")),I=L.append(b,u(".quick-input-and-message")),M=L.append(I,u(".quick-input-filter")),P=this._register(new n.QuickInputBox(M,this.styles.inputBox,this.styles.toggle));P.setAttribute("aria-describedby",`${this.idPrefix}message`);const x=L.append(M,u(".quick-input-visible-count"));x.setAttribute("aria-live","polite"),x.setAttribute("aria-atomic","true");const T=new D.CountBadge(x,{countFormat:(0,s.localize)(1,null)},this.styles.countBadge),A=L.append(M,u(".quick-input-count"));A.setAttribute("aria-live","polite");const N=new D.CountBadge(A,{countFormat:(0,s.localize)(2,null)},this.styles.countBadge),F=L.append(b,u(".quick-input-action")),O=new y.Button(F,this.styles.button);O.label=(0,s.localize)(3,null),this._register(O.onDidClick(H=>{this.onDidAcceptEmitter.fire()}));const W=L.append(b,u(".quick-input-action")),U=new y.Button(W,this.styles.button);U.label=(0,s.localize)(4,null),this._register(U.onDidClick(H=>{this.onDidCustomEmitter.fire()}));const j=L.append(I,u(`#${this.idPrefix}message.quick-input-message`)),R=new S.ProgressBar(c,this.styles.progressBar);R.getContainer().classList.add("quick-input-progress");const K=L.append(c,u(".quick-input-html-widget"));K.tabIndex=-1;const G=L.append(c,u(".quick-input-description")),Z=this.idPrefix+"list",J=this._register(new t.QuickInputList(c,Z,this.options,this.themeService));P.setAttribute("aria-controls",Z),this._register(J.onDidChangeFocus(()=>{var H;P.setAttribute("aria-activedescendant",(H=J.getActiveDescendant())!==null&&H!==void 0?H:"")})),this._register(J.onChangedAllVisibleChecked(H=>{w.checked=H})),this._register(J.onChangedVisibleCount(H=>{T.setCount(H)})),this._register(J.onChangedCheckedCount(H=>{N.setCount(H)})),this._register(J.onLeave(()=>{setTimeout(()=>{P.setFocus(),this.controller instanceof a.QuickPick&&this.controller.canSelectMany&&J.clearFocus()},0)}));const X=L.trackFocus(c);return this._register(X),this._register(L.addDisposableListener(c,L.EventType.FOCUS,H=>{L.isAncestor(H.relatedTarget,c)||(this.previousFocusElement=H.relatedTarget instanceof HTMLElement?H.relatedTarget:void 0)},!0)),this._register(X.onDidBlur(()=>{!this.getUI().ignoreFocusOut&&!this.options.ignoreFocusOut()&&this.hide(i.QuickInputHideReason.Blur),this.previousFocusElement=void 0})),this._register(L.addDisposableListener(c,L.EventType.FOCUS,H=>{P.setFocus()})),this._register(L.addStandardDisposableListener(c,L.EventType.KEY_DOWN,H=>{if(!L.isAncestor(H.target,K))switch(H.keyCode){case 3:L.EventHelper.stop(H,!0),this.enabled&&this.onDidAcceptEmitter.fire();break;case 9:L.EventHelper.stop(H,!0),this.hide(i.QuickInputHideReason.Gesture);break;case 2:if(!H.altKey&&!H.ctrlKey&&!H.metaKey){const B=[".quick-input-list .monaco-action-bar .always-visible",".quick-input-list-entry:hover .monaco-action-bar",".monaco-list-row.focused .monaco-action-bar"];if(c.classList.contains("show-checkboxes")?B.push("input"):B.push("input[type=text]"),this.getUI().list.isDisplayed()&&B.push(".monaco-list"),this.getUI().message&&B.push(".quick-input-message a"),this.getUI().widget){if(L.isAncestor(H.target,this.getUI().widget))break;B.push(".quick-input-html-widget")}const V=c.querySelectorAll(B.join(", "));H.shiftKey&&H.target===V[0]?(L.EventHelper.stop(H,!0),J.clearFocus()):!H.shiftKey&&L.isAncestor(H.target,V[V.length-1])&&(L.EventHelper.stop(H,!0),V[0].focus())}break;case 10:H.ctrlKey&&(L.EventHelper.stop(H,!0),this.getUI().list.toggleHover());break}})),this.ui={container:c,styleSheet:o,leftActionBar:p,titleBar:d,title:m,description1:G,description2:E,widget:K,rightActionBar:v,checkAll:w,inputContainer:I,filterContainer:M,inputBox:P,visibleCountContainer:x,visibleCount:T,countContainer:A,count:N,okContainer:F,ok:O,message:j,customButtonContainer:W,customButton:U,list:J,progressBar:R,onDidAccept:this.onDidAcceptEmitter.event,onDidCustom:this.onDidCustomEmitter.event,onDidTriggerButton:this.onDidTriggerButtonEmitter.event,ignoreFocusOut:!1,keyMods:this.keyMods,show:H=>this.show(H),hide:()=>this.hide(),setVisibilities:H=>this.setVisibilities(H),setEnabled:H=>this.setEnabled(H),setContextKey:H=>this.options.setContextKey(H),linkOpenerDelegate:H=>this.options.linkOpenerDelegate(H)},this.updateStyles(),this.ui}pick(c,o={},d=f.CancellationToken.None){return new Promise((l,p)=>{let m=E=>{var I;m=l,(I=o.onKeyMods)===null||I===void 0||I.call(o,v.keyMods),l(E)};if(d.isCancellationRequested){m(void 0);return}const v=this.createQuickPick();let b;const w=[v,v.onDidAccept(()=>{if(v.canSelectMany)m(v.selectedItems.slice()),v.hide();else{const E=v.activeItems[0];E&&(m(E),v.hide())}}),v.onDidChangeActive(E=>{const I=E[0];I&&o.onDidFocus&&o.onDidFocus(I)}),v.onDidChangeSelection(E=>{if(!v.canSelectMany){const I=E[0];I&&(m(I),v.hide())}}),v.onDidTriggerItemButton(E=>o.onDidTriggerItemButton&&o.onDidTriggerItemButton(Object.assign(Object.assign({},E),{removeItem:()=>{const I=v.items.indexOf(E.item);if(I!==-1){const M=v.items.slice(),P=M.splice(I,1),x=v.activeItems.filter(A=>A!==P[0]),T=v.keepScrollPosition;v.keepScrollPosition=!0,v.items=M,x&&(v.activeItems=x),v.keepScrollPosition=T}}}))),v.onDidTriggerSeparatorButton(E=>{var I;return(I=o.onDidTriggerSeparatorButton)===null||I===void 0?void 0:I.call(o,E)}),v.onDidChangeValue(E=>{b&&!E&&(v.activeItems.length!==1||v.activeItems[0]!==b)&&(v.activeItems=[b])}),d.onCancellationRequested(()=>{v.hide()}),v.onDidHide(()=>{(0,g.dispose)(w),m(void 0)})];v.title=o.title,v.canSelectMany=!!o.canPickMany,v.placeholder=o.placeHolder,v.ignoreFocusOut=!!o.ignoreFocusLost,v.matchOnDescription=!!o.matchOnDescription,v.matchOnDetail=!!o.matchOnDetail,v.matchOnLabel=o.matchOnLabel===void 0||o.matchOnLabel,v.autoFocusOnList=o.autoFocusOnList===void 0||o.autoFocusOnList,v.quickNavigate=o.quickNavigate,v.hideInput=!!o.hideInput,v.contextKey=o.contextKey,v.busy=!0,Promise.all([c,o.activeItem]).then(([E,I])=>{b=I,v.busy=!1,v.items=E,v.canSelectMany&&(v.selectedItems=E.filter(M=>M.type!=="separator"&&M.picked)),b&&(v.activeItems=[b])}),v.show(),Promise.resolve(c).then(void 0,E=>{p(E),v.hide()})})}createQuickPick(){const c=this.getUI();return new a.QuickPick(c)}createInputBox(){const c=this.getUI();return new a.InputBox(c)}show(c){const o=this.getUI();this.onShowEmitter.fire();const d=this.controller;this.controller=c,d?.didHide(),this.setEnabled(!0),o.leftActionBar.clear(),o.title.textContent="",o.description1.textContent="",o.description2.textContent="",L.reset(o.widget),o.rightActionBar.clear(),o.checkAll.checked=!1,o.inputBox.placeholder="",o.inputBox.password=!1,o.inputBox.showDecoration(C.default.Ignore),o.visibleCount.setCount(0),o.count.setCount(0),L.reset(o.message),o.progressBar.stop(),o.list.setElements([]),o.list.matchOnDescription=!1,o.list.matchOnDetail=!1,o.list.matchOnLabel=!0,o.list.sortByLabel=!0,o.ignoreFocusOut=!1,o.inputBox.toggles=void 0;const l=this.options.backKeybindingLabel();a.backButton.tooltip=l?(0,s.localize)(5,null,l):(0,s.localize)(6,null),o.container.style.display="",this.updateLayout(),o.inputBox.setFocus()}setVisibilities(c){const o=this.getUI();o.title.style.display=c.title?"":"none",o.description1.style.display=c.description&&(c.inputBox||c.checkAll)?"":"none",o.description2.style.display=c.description&&!(c.inputBox||c.checkAll)?"":"none",o.checkAll.style.display=c.checkAll?"":"none",o.inputContainer.style.display=c.inputBox?"":"none",o.filterContainer.style.display=c.inputBox?"":"none",o.visibleCountContainer.style.display=c.visibleCount?"":"none",o.countContainer.style.display=c.count?"":"none",o.okContainer.style.display=c.ok?"":"none",o.customButtonContainer.style.display=c.customButton?"":"none",o.message.style.display=c.message?"":"none",o.progressBar.getContainer().style.display=c.progressBar?"":"none",o.list.display(!!c.list),o.container.classList.toggle("show-checkboxes",!!c.checkBox),o.container.classList.toggle("hidden-input",!c.inputBox&&!c.description),this.updateLayout()}setEnabled(c){if(c!==this.enabled){this.enabled=c;for(const o of this.getUI().leftActionBar.viewItems)o.action.enabled=c;for(const o of this.getUI().rightActionBar.viewItems)o.action.enabled=c;this.getUI().checkAll.disabled=!c,this.getUI().inputBox.enabled=c,this.getUI().ok.enabled=c,this.getUI().list.enabled=c}}hide(c){var o,d,l;const p=this.controller;if(!p)return;const m=!L.isAncestor(document.activeElement,(d=(o=this.ui)===null||o===void 0?void 0:o.container)!==null&&d!==void 0?d:null);if(this.controller=null,this.onHideEmitter.fire(),this.getUI().container.style.display="none",!m){let v=this.previousFocusElement;for(;v&&!v.offsetParent;)v=(l=v.parentElement)!==null&&l!==void 0?l:void 0;v?.offsetParent?(v.focus(),this.previousFocusElement=void 0):this.options.returnFocus()}p.didHide(c)}layout(c,o){this.dimension=c,this.titleBarOffset=o,this.updateLayout()}updateLayout(){if(this.ui&&this.isDisplayed()){this.ui.container.style.top=`${this.titleBarOffset}px`;const c=this.ui.container.style,o=Math.min(this.dimension.width*.62,h.MAX_WIDTH);c.width=o+"px",c.marginLeft="-"+o/2+"px",this.ui.inputBox.layout(),this.ui.list.layout(this.dimension&&this.dimension.height*.4)}}applyStyles(c){this.styles=c,this.updateStyles()}updateStyles(){if(this.ui){const{quickInputTitleBackground:c,quickInputBackground:o,quickInputForeground:d,widgetBorder:l,widgetShadow:p}=this.styles.widget;this.ui.titleBar.style.backgroundColor=c??"",this.ui.container.style.backgroundColor=o??"",this.ui.container.style.color=d??"",this.ui.container.style.border=l?`1px solid ${l}`:"",this.ui.container.style.boxShadow=p?`0 0 8px 2px ${p}`:"",this.ui.list.style(this.styles.list);const m=[];this.styles.pickerGroup.pickerGroupBorder&&m.push(`.quick-input-list .quick-input-list-entry { border-top-color:  ${this.styles.pickerGroup.pickerGroupBorder}; }`),this.styles.pickerGroup.pickerGroupForeground&&m.push(`.quick-input-list .quick-input-list-separator { color:  ${this.styles.pickerGroup.pickerGroupForeground}; }`),this.styles.pickerGroup.pickerGroupForeground&&m.push(".quick-input-list .quick-input-list-separator-as-item { color: var(--vscode-descriptionForeground); }"),(this.styles.keybindingLabel.keybindingLabelBackground||this.styles.keybindingLabel.keybindingLabelBorder||this.styles.keybindingLabel.keybindingLabelBottomBorder||this.styles.keybindingLabel.keybindingLabelShadow||this.styles.keybindingLabel.keybindingLabelForeground)&&(m.push(".quick-input-list .monaco-keybinding > .monaco-keybinding-key {"),this.styles.keybindingLabel.keybindingLabelBackground&&m.push(`background-color: ${this.styles.keybindingLabel.keybindingLabelBackground};`),this.styles.keybindingLabel.keybindingLabelBorder&&m.push(`border-color: ${this.styles.keybindingLabel.keybindingLabelBorder};`),this.styles.keybindingLabel.keybindingLabelBottomBorder&&m.push(`border-bottom-color: ${this.styles.keybindingLabel.keybindingLabelBottomBorder};`),this.styles.keybindingLabel.keybindingLabelShadow&&m.push(`box-shadow: inset 0 -1px 0 ${this.styles.keybindingLabel.keybindingLabelShadow};`),this.styles.keybindingLabel.keybindingLabelForeground&&m.push(`color: ${this.styles.keybindingLabel.keybindingLabelForeground};`),m.push("}"));const v=m.join(`
`);v!==this.ui.styleSheet.textContent&&(this.ui.styleSheet.textContent=v)}}isDisplayed(){return this.ui&&this.ui.container.style.display!=="none"}}e.QuickInputController=h,h.MAX_WIDTH=600}),define(ne[23],se([1,0,6,2,8,37,88]),function(Q,e,L,k,y,D,S){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.Themable=e.registerThemingParticipant=e.Extensions=e.getThemeTypeSelector=e.themeColorFromId=e.IThemeService=void 0,e.IThemeService=(0,y.createDecorator)("themeService");function f(n){return{id:n}}e.themeColorFromId=f;function _(n){switch(n){case S.ColorScheme.DARK:return"vs-dark";case S.ColorScheme.HIGH_CONTRAST_DARK:return"hc-black";case S.ColorScheme.HIGH_CONTRAST_LIGHT:return"hc-light";default:return"vs"}}e.getThemeTypeSelector=_,e.Extensions={ThemingContribution:"base.contributions.theming"};class g{constructor(){this.themingParticipants=[],this.themingParticipants=[],this.onThemingParticipantAddedEmitter=new L.Emitter}onColorThemeChange(t){return this.themingParticipants.push(t),this.onThemingParticipantAddedEmitter.fire(t),(0,k.toDisposable)(()=>{const a=this.themingParticipants.indexOf(t);this.themingParticipants.splice(a,1)})}getThemingParticipants(){return this.themingParticipants}}const C=new g;D.Registry.add(e.Extensions.ThemingContribution,C);function s(n){return C.onColorThemeChange(n)}e.registerThemingParticipant=s;class i extends k.Disposable{constructor(t){super(),this.themeService=t,this.theme=t.getColorTheme(),this._register(this.themeService.onDidColorThemeChange(a=>this.onThemeChange(a)))}onThemeChange(t){this.theme=t,this.updateStyles()}updateStyles(){}}e.Themable=i}),define(ne[841],se([1,0,6,2,64,23]),function(Q,e,L,k,y,D){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.GlobalStyleSheet=e.AbstractCodeEditorService=void 0;let S=class extends k.Disposable{constructor(g){super(),this._themeService=g,this._onWillCreateCodeEditor=this._register(new L.Emitter),this._onCodeEditorAdd=this._register(new L.Emitter),this.onCodeEditorAdd=this._onCodeEditorAdd.event,this._onCodeEditorRemove=this._register(new L.Emitter),this.onCodeEditorRemove=this._onCodeEditorRemove.event,this._onWillCreateDiffEditor=this._register(new L.Emitter),this._onDiffEditorAdd=this._register(new L.Emitter),this.onDiffEditorAdd=this._onDiffEditorAdd.event,this._onDiffEditorRemove=this._register(new L.Emitter),this.onDiffEditorRemove=this._onDiffEditorRemove.event,this._decorationOptionProviders=new Map,this._codeEditorOpenHandlers=new y.LinkedList,this._modelProperties=new Map,this._codeEditors=Object.create(null),this._diffEditors=Object.create(null),this._globalStyleSheet=null}willCreateCodeEditor(){this._onWillCreateCodeEditor.fire()}addCodeEditor(g){this._codeEditors[g.getId()]=g,this._onCodeEditorAdd.fire(g)}removeCodeEditor(g){delete this._codeEditors[g.getId()]&&this._onCodeEditorRemove.fire(g)}listCodeEditors(){return Object.keys(this._codeEditors).map(g=>this._codeEditors[g])}willCreateDiffEditor(){this._onWillCreateDiffEditor.fire()}addDiffEditor(g){this._diffEditors[g.getId()]=g,this._onDiffEditorAdd.fire(g)}removeDiffEditor(g){delete this._diffEditors[g.getId()]&&this._onDiffEditorRemove.fire(g)}listDiffEditors(){return Object.keys(this._diffEditors).map(g=>this._diffEditors[g])}getFocusedCodeEditor(){let g=null;const C=this.listCodeEditors();for(const s of C){if(s.hasTextFocus())return s;s.hasWidgetFocus()&&(g=s)}return g}removeDecorationType(g){const C=this._decorationOptionProviders.get(g);C&&(C.refCount--,C.refCount<=0&&(this._decorationOptionProviders.delete(g),C.dispose(),this.listCodeEditors().forEach(s=>s.removeDecorationsByType(g))))}setModelProperty(g,C,s){const i=g.toString();let n;this._modelProperties.has(i)?n=this._modelProperties.get(i):(n=new Map,this._modelProperties.set(i,n)),n.set(C,s)}getModelProperty(g,C){const s=g.toString();if(this._modelProperties.has(s))return this._modelProperties.get(s).get(C)}openCodeEditor(g,C,s){return we(this,void 0,void 0,function*(){for(const i of this._codeEditorOpenHandlers){const n=yield i(g,C,s);if(n!==null)return n}return null})}registerCodeEditorOpenHandler(g){const C=this._codeEditorOpenHandlers.unshift(g);return(0,k.toDisposable)(C)}};e.AbstractCodeEditorService=S,e.AbstractCodeEditorService=S=ke([fe(0,D.IThemeService)],S);class f{constructor(g){this._styleSheet=g}}e.GlobalStyleSheet=f}),define(ne[842],se([1,0,7,35,75,53,23]),function(Q,e,L,k,y,D,S){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.EditorScrollbar=void 0;class f extends D.ViewPart{constructor(g,C,s,i){super(g);const n=this._context.configuration.options,t=n.get(101),a=n.get(73),u=n.get(39),h=n.get(104),r={listenOnDomNode:s.domNode,className:"editor-scrollable "+(0,S.getThemeTypeSelector)(g.theme.type),useShadows:!1,lazyRender:!0,vertical:t.vertical,horizontal:t.horizontal,verticalHasArrows:t.verticalHasArrows,horizontalHasArrows:t.horizontalHasArrows,verticalScrollbarSize:t.verticalScrollbarSize,verticalSliderSize:t.verticalSliderSize,horizontalScrollbarSize:t.horizontalScrollbarSize,horizontalSliderSize:t.horizontalSliderSize,handleMouseWheel:t.handleMouseWheel,alwaysConsumeMouseWheel:t.alwaysConsumeMouseWheel,arrowSize:t.arrowSize,mouseWheelScrollSensitivity:a,fastScrollSensitivity:u,scrollPredominantAxis:h,scrollByPage:t.scrollByPage};this.scrollbar=this._register(new y.SmoothScrollableElement(C.domNode,r,this._context.viewLayout.getScrollable())),D.PartFingerprints.write(this.scrollbar.getDomNode(),5),this.scrollbarDomNode=(0,k.createFastDomNode)(this.scrollbar.getDomNode()),this.scrollbarDomNode.setPosition("absolute"),this._setLayout();const c=(o,d,l)=>{const p={};if(d){const m=o.scrollTop;m&&(p.scrollTop=this._context.viewLayout.getCurrentScrollTop()+m,o.scrollTop=0)}if(l){const m=o.scrollLeft;m&&(p.scrollLeft=this._context.viewLayout.getCurrentScrollLeft()+m,o.scrollLeft=0)}this._context.viewModel.viewLayout.setScrollPosition(p,1)};this._register(L.addDisposableListener(s.domNode,"scroll",o=>c(s.domNode,!0,!0))),this._register(L.addDisposableListener(C.domNode,"scroll",o=>c(C.domNode,!0,!1))),this._register(L.addDisposableListener(i.domNode,"scroll",o=>c(i.domNode,!0,!1))),this._register(L.addDisposableListener(this.scrollbarDomNode.domNode,"scroll",o=>c(this.scrollbarDomNode.domNode,!0,!1)))}dispose(){super.dispose()}_setLayout(){const g=this._context.configuration.options,C=g.get(142);this.scrollbarDomNode.setLeft(C.contentLeft),g.get(71).side==="right"?this.scrollbarDomNode.setWidth(C.contentWidth+C.minimap.minimapWidth):this.scrollbarDomNode.setWidth(C.contentWidth),this.scrollbarDomNode.setHeight(C.height)}getOverviewRulerLayoutInfo(){return this.scrollbar.getOverviewRulerLayoutInfo()}getDomNode(){return this.scrollbarDomNode}delegateVerticalScrollbarPointerDown(g){this.scrollbar.delegateVerticalScrollbarPointerDown(g)}delegateScrollFromMouseWheelEvent(g){this.scrollbar.delegateScrollFromMouseWheelEvent(g)}onConfigurationChanged(g){if(g.hasChanged(101)||g.hasChanged(73)||g.hasChanged(39)){const C=this._context.configuration.options,s=C.get(101),i=C.get(73),n=C.get(39),t=C.get(104),a={vertical:s.vertical,horizontal:s.horizontal,verticalScrollbarSize:s.verticalScrollbarSize,horizontalScrollbarSize:s.horizontalScrollbarSize,scrollByPage:s.scrollByPage,handleMouseWheel:s.handleMouseWheel,mouseWheelScrollSensitivity:i,fastScrollSensitivity:n,scrollPredominantAxis:t};this.scrollbar.updateOptions(a)}return g.hasChanged(142)&&this._setLayout(),!0}onScrollChanged(g){return!0}onThemeChanged(g){return this.scrollbar.updateClassName("editor-scrollable "+(0,S.getThemeTypeSelector)(this._context.theme.type)),!0}prepareRender(g){}render(g){this.scrollbar.renderNow()}}e.EditorScrollbar=f}),define(ne[843],se([1,0,112,31,23,429]),function(Q,e,L,k,y){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.SelectionsOverlay=void 0;class D{constructor(i){this.left=i.left,this.width=i.width,this.startStyle=null,this.endStyle=null}}class S{constructor(i,n){this.lineNumber=i,this.ranges=n}}function f(s){return new D(s)}function _(s){return new S(s.lineNumber,s.ranges.map(f))}class g extends L.DynamicViewOverlay{constructor(i){super(),this._previousFrameVisibleRangesWithStyle=[],this._context=i;const n=this._context.configuration.options;this._lineHeight=n.get(65),this._roundedSelection=n.get(99),this._typicalHalfwidthCharacterWidth=n.get(49).typicalHalfwidthCharacterWidth,this._selections=[],this._renderResult=null,this._context.addEventHandler(this)}dispose(){this._context.removeEventHandler(this),this._renderResult=null,super.dispose()}onConfigurationChanged(i){const n=this._context.configuration.options;return this._lineHeight=n.get(65),this._roundedSelection=n.get(99),this._typicalHalfwidthCharacterWidth=n.get(49).typicalHalfwidthCharacterWidth,!0}onCursorStateChanged(i){return this._selections=i.selections.slice(0),!0}onDecorationsChanged(i){return!0}onFlushed(i){return!0}onLinesChanged(i){return!0}onLinesDeleted(i){return!0}onLinesInserted(i){return!0}onScrollChanged(i){return i.scrollTopChanged}onZonesChanged(i){return!0}_visibleRangesHaveGaps(i){for(let n=0,t=i.length;n<t;n++)if(i[n].ranges.length>1)return!0;return!1}_enrichVisibleRangesWithStyle(i,n,t){const a=this._typicalHalfwidthCharacterWidth/4;let u=null,h=null;if(t&&t.length>0&&n.length>0){const r=n[0].lineNumber;if(r===i.startLineNumber)for(let o=0;!u&&o<t.length;o++)t[o].lineNumber===r&&(u=t[o].ranges[0]);const c=n[n.length-1].lineNumber;if(c===i.endLineNumber)for(let o=t.length-1;!h&&o>=0;o--)t[o].lineNumber===c&&(h=t[o].ranges[0]);u&&!u.startStyle&&(u=null),h&&!h.startStyle&&(h=null)}for(let r=0,c=n.length;r<c;r++){const o=n[r].ranges[0],d=o.left,l=o.left+o.width,p={top:0,bottom:0},m={top:0,bottom:0};if(r>0){const v=n[r-1].ranges[0].left,b=n[r-1].ranges[0].left+n[r-1].ranges[0].width;C(d-v)<a?p.top=2:d>v&&(p.top=1),C(l-b)<a?m.top=2:v<l&&l<b&&(m.top=1)}else u&&(p.top=u.startStyle.top,m.top=u.endStyle.top);if(r+1<c){const v=n[r+1].ranges[0].left,b=n[r+1].ranges[0].left+n[r+1].ranges[0].width;C(d-v)<a?p.bottom=2:v<d&&d<b&&(p.bottom=1),C(l-b)<a?m.bottom=2:l<b&&(m.bottom=1)}else h&&(p.bottom=h.startStyle.bottom,m.bottom=h.endStyle.bottom);o.startStyle=p,o.endStyle=m}}_getVisibleRangesWithStyle(i,n,t){const u=(n.linesVisibleRangesForRange(i,!0)||[]).map(_);return!this._visibleRangesHaveGaps(u)&&this._roundedSelection&&this._enrichVisibleRangesWithStyle(n.visibleRange,u,t),u}_createSelectionPiece(i,n,t,a,u){return'<div class="cslr '+t+'" style="top:'+i.toString()+"px;left:"+a.toString()+"px;width:"+u.toString()+"px;height:"+n+'px;"></div>'}_actualRenderOneSelection(i,n,t,a){if(a.length===0)return;const u=!!a[0].ranges[0].startStyle,h=this._lineHeight.toString(),r=(this._lineHeight-1).toString(),c=a[0].lineNumber,o=a[a.length-1].lineNumber;for(let d=0,l=a.length;d<l;d++){const p=a[d],m=p.lineNumber,v=m-n,b=t&&(m===o||m===c)?r:h,w=t&&m===c?1:0;let E="",I="";for(let M=0,P=p.ranges.length;M<P;M++){const x=p.ranges[M];if(u){const A=x.startStyle,N=x.endStyle;if(A.top===1||A.bottom===1){E+=this._createSelectionPiece(w,b,g.SELECTION_CLASS_NAME,x.left-g.ROUNDED_PIECE_WIDTH,g.ROUNDED_PIECE_WIDTH);let F=g.EDITOR_BACKGROUND_CLASS_NAME;A.top===1&&(F+=" "+g.SELECTION_TOP_RIGHT),A.bottom===1&&(F+=" "+g.SELECTION_BOTTOM_RIGHT),E+=this._createSelectionPiece(w,b,F,x.left-g.ROUNDED_PIECE_WIDTH,g.ROUNDED_PIECE_WIDTH)}if(N.top===1||N.bottom===1){E+=this._createSelectionPiece(w,b,g.SELECTION_CLASS_NAME,x.left+x.width,g.ROUNDED_PIECE_WIDTH);let F=g.EDITOR_BACKGROUND_CLASS_NAME;N.top===1&&(F+=" "+g.SELECTION_TOP_LEFT),N.bottom===1&&(F+=" "+g.SELECTION_BOTTOM_LEFT),E+=this._createSelectionPiece(w,b,F,x.left+x.width,g.ROUNDED_PIECE_WIDTH)}}let T=g.SELECTION_CLASS_NAME;if(u){const A=x.startStyle,N=x.endStyle;A.top===0&&(T+=" "+g.SELECTION_TOP_LEFT),A.bottom===0&&(T+=" "+g.SELECTION_BOTTOM_LEFT),N.top===0&&(T+=" "+g.SELECTION_TOP_RIGHT),N.bottom===0&&(T+=" "+g.SELECTION_BOTTOM_RIGHT)}I+=this._createSelectionPiece(w,b,T,x.left,x.width)}i[v][0]+=E,i[v][1]+=I}}prepareRender(i){const n=[],t=i.visibleRange.startLineNumber,a=i.visibleRange.endLineNumber;for(let h=t;h<=a;h++){const r=h-t;n[r]=["",""]}const u=[];for(let h=0,r=this._selections.length;h<r;h++){const c=this._selections[h];if(c.isEmpty()){u[h]=null;continue}const o=this._getVisibleRangesWithStyle(c,i,this._previousFrameVisibleRangesWithStyle[h]);u[h]=o,this._actualRenderOneSelection(n,t,this._selections.length>1,o)}this._previousFrameVisibleRangesWithStyle=u,this._renderResult=n.map(([h,r])=>h+r)}render(i,n){if(!this._renderResult)return"";const t=n-i;return t<0||t>=this._renderResult.length?"":this._renderResult[t]}}e.SelectionsOverlay=g,g.SELECTION_CLASS_NAME="selected-text",g.SELECTION_TOP_LEFT="top-left-radius",g.SELECTION_BOTTOM_LEFT="bottom-left-radius",g.SELECTION_TOP_RIGHT="top-right-radius",g.SELECTION_BOTTOM_RIGHT="bottom-right-radius",g.EDITOR_BACKGROUND_CLASS_NAME="monaco-editor-background",g.ROUNDED_PIECE_WIDTH=10,(0,y.registerThemingParticipant)((s,i)=>{const n=s.getColor(k.editorSelectionForeground);n&&!n.isTransparent()&&i.addRule(`.monaco-editor .view-line span.inline-selected-text { color: ${n}; }`)});function C(s){return s<0?-s:s}}),define(ne[357],se([1,0,7,35,195,2,42,102,12,212,31,23]),function(Q,e,L,k,y,D,S,f,_,g,C,s){"use strict";var i;Object.defineProperty(e,"__esModule",{value:!0}),e.OverviewRulerPart=void 0;let n=i=class extends D.Disposable{constructor(a,u,h,r,c,o,d,l){super(),this._editors=a,this._rootElement=u,this._diffModel=h,this._rootWidth=r,this._rootHeight=c,this._modifiedEditorLayoutInfo=o,this._options=d,this._themeService=l;const p=(0,S.observableFromEvent)(this._themeService.onDidColorThemeChange,()=>this._themeService.getColorTheme()),m=(0,S.derived)(w=>{const E=p.read(w),I=E.getColor(C.diffOverviewRulerInserted)||(E.getColor(C.diffInserted)||C.defaultInsertColor).transparent(2),M=E.getColor(C.diffOverviewRulerRemoved)||(E.getColor(C.diffRemoved)||C.defaultRemoveColor).transparent(2);return{insertColor:I,removeColor:M}}),v=(0,S.observableFromEvent)(this._editors.modified.onDidScrollChange,()=>this._editors.modified.getScrollTop()),b=(0,S.observableFromEvent)(this._editors.modified.onDidScrollChange,()=>this._editors.modified.getScrollHeight());this._register((0,S.autorunWithStore)((w,E)=>{if(!this._options.renderOverviewRuler.read(w))return;const I=(0,k.createFastDomNode)(document.createElement("div"));I.setClassName("diffViewport"),I.setPosition("absolute");const M=(0,L.h)("div.diffOverview",{style:{position:"absolute",top:"0px",width:i.ENTIRE_DIFF_OVERVIEW_WIDTH+"px"}}).root;E.add((0,f.appendRemoveOnDispose)(M,I.domNode)),E.add((0,L.addStandardDisposableListener)(M,L.EventType.POINTER_DOWN,P=>{this._editors.modified.delegateVerticalScrollbarPointerDown(P)})),E.add((0,L.addDisposableListener)(M,L.EventType.MOUSE_WHEEL,P=>{this._editors.modified.delegateScrollFromMouseWheelEvent(P)},{passive:!1})),E.add((0,f.appendRemoveOnDispose)(this._rootElement,M)),E.add((0,S.autorunWithStore)((P,x)=>{const T=this._diffModel.read(P),A=this._editors.original.createOverviewRuler("original diffOverviewRuler");A&&(x.add(A),x.add((0,f.appendRemoveOnDispose)(M,A.getDomNode())));const N=this._editors.modified.createOverviewRuler("modified diffOverviewRuler");if(N&&(x.add(N),x.add((0,f.appendRemoveOnDispose)(M,N.getDomNode()))),!A||!N)return;const F=(0,S.observableSignalFromEvent)("viewZoneChanged",this._editors.original.onDidChangeViewZones),O=(0,S.observableSignalFromEvent)("viewZoneChanged",this._editors.modified.onDidChangeViewZones),W=(0,S.observableSignalFromEvent)("hiddenRangesChanged",this._editors.original.onDidChangeHiddenAreas),U=(0,S.observableSignalFromEvent)("hiddenRangesChanged",this._editors.modified.onDidChangeHiddenAreas);x.add((0,S.autorun)(j=>{var R;F.read(j),O.read(j),W.read(j),U.read(j);const K=m.read(j),G=(R=T?.diff.read(j))===null||R===void 0?void 0:R.mappings;function Z(H,B,V){const Y=V._getViewModel();return Y?H.filter(ie=>ie.length>0).map(ie=>{const ae=Y.coordinatesConverter.convertModelPositionToViewPosition(new _.Position(ie.startLineNumber,1)),ce=Y.coordinatesConverter.convertModelPositionToViewPosition(new _.Position(ie.endLineNumberExclusive,1)),de=ce.lineNumber-ae.lineNumber;return new g.OverviewRulerZone(ae.lineNumber,ce.lineNumber,de,B.toString())}):[]}const J=Z((G||[]).map(H=>H.lineRangeMapping.originalRange),K.removeColor,this._editors.original),X=Z((G||[]).map(H=>H.lineRangeMapping.modifiedRange),K.insertColor,this._editors.modified);A?.setZones(J),N?.setZones(X)})),x.add((0,S.autorun)(j=>{const R=this._rootHeight.read(j),K=this._rootWidth.read(j),G=this._modifiedEditorLayoutInfo.read(j);if(G){const Z=i.ENTIRE_DIFF_OVERVIEW_WIDTH-2*i.ONE_OVERVIEW_WIDTH;A.setLayout({top:0,height:R,right:Z+i.ONE_OVERVIEW_WIDTH,width:i.ONE_OVERVIEW_WIDTH}),N.setLayout({top:0,height:R,right:0,width:i.ONE_OVERVIEW_WIDTH});const J=v.read(j),X=b.read(j),H=this._editors.modified.getOption(101),B=new y.ScrollbarState(H.verticalHasArrows?H.arrowSize:0,H.verticalScrollbarSize,0,G.height,X,J);I.setTop(B.getSliderPosition()),I.setHeight(B.getSliderSize())}else I.setTop(0),I.setHeight(0);M.style.height=R+"px",M.style.left=K-i.ENTIRE_DIFF_OVERVIEW_WIDTH+"px",I.setWidth(i.ENTIRE_DIFF_OVERVIEW_WIDTH)}))}))}))}};e.OverviewRulerPart=n,n.ONE_OVERVIEW_WIDTH=15,n.ENTIRE_DIFF_OVERVIEW_WIDTH=i.ONE_OVERVIEW_WIDTH*2,e.OverviewRulerPart=n=i=ke([fe(7,s.IThemeService)],n)}),define(ne[844],se([1,0,6,2,42,357,36,610,8,34]),function(Q,e,L,k,y,D,S,f,_,g){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.DiffEditorEditors=void 0;let C=class extends k.Disposable{constructor(i,n,t,a,u,h,r){super(),this.originalEditorElement=i,this.modifiedEditorElement=n,this._options=t,this._createInnerEditor=u,this._instantiationService=h,this._keybindingService=r,this._onDidContentSizeChange=this._register(new L.Emitter),this.original=this._register(this._createLeftHandSideEditor(t.editorOptions.get(),a.originalEditor||{})),this.modified=this._register(this._createRightHandSideEditor(t.editorOptions.get(),a.modifiedEditor||{})),this._register((0,y.autorunHandleChanges)({createEmptyChangeSummary:()=>({}),handleChange:(c,o)=>(c.didChange(t.editorOptions)&&Object.assign(o,c.change.changedOptions),!0)},(c,o)=>{t.editorOptions.read(c),this._options.renderSideBySide.read(c),this.modified.updateOptions(this._adjustOptionsForRightHandSide(c,o)),this.original.updateOptions(this._adjustOptionsForLeftHandSide(c,o))}))}_createLeftHandSideEditor(i,n){const t=this._adjustOptionsForLeftHandSide(void 0,i),a=this._constructInnerEditor(this._instantiationService,this.originalEditorElement,t,n);return a.setContextValue("isInDiffLeftEditor",!0),a}_createRightHandSideEditor(i,n){const t=this._adjustOptionsForRightHandSide(void 0,i),a=this._constructInnerEditor(this._instantiationService,this.modifiedEditorElement,t,n);return a.setContextValue("isInDiffRightEditor",!0),a}_constructInnerEditor(i,n,t,a){const u=this._createInnerEditor(i,n,t,a);return this._register(u.onDidContentSizeChange(h=>{const r=this.original.getContentWidth()+this.modified.getContentWidth()+D.OverviewRulerPart.ENTIRE_DIFF_OVERVIEW_WIDTH,c=Math.max(this.modified.getContentHeight(),this.original.getContentHeight());this._onDidContentSizeChange.fire({contentHeight:c,contentWidth:r,contentHeightChanged:h.contentHeightChanged,contentWidthChanged:h.contentWidthChanged})})),u}_adjustOptionsForLeftHandSide(i,n){const t=this._adjustOptionsForSubEditor(n);return this._options.renderSideBySide.get()?(t.unicodeHighlight=this._options.editorOptions.get().unicodeHighlight||{},t.wordWrapOverride1=this._options.diffWordWrap.get()):(t.wordWrapOverride1="off",t.wordWrapOverride2="off",t.stickyScroll={enabled:!1},t.unicodeHighlight={nonBasicASCII:!1,ambiguousCharacters:!1,invisibleCharacters:!1}),n.originalAriaLabel&&(t.ariaLabel=n.originalAriaLabel),t.ariaLabel=this._updateAriaLabel(t.ariaLabel),t.readOnly=!this._options.originalEditable.get(),t.dropIntoEditor={enabled:!t.readOnly},t.extraEditorClassName="original-in-monaco-diff-editor",t}_adjustOptionsForRightHandSide(i,n){const t=this._adjustOptionsForSubEditor(n);return n.modifiedAriaLabel&&(t.ariaLabel=n.modifiedAriaLabel),t.ariaLabel=this._updateAriaLabel(t.ariaLabel),t.wordWrapOverride1=this._options.diffWordWrap.get(),t.revealHorizontalRightPadding=S.EditorOptions.revealHorizontalRightPadding.defaultValue+D.OverviewRulerPart.ENTIRE_DIFF_OVERVIEW_WIDTH,t.scrollbar.verticalHasArrows=!1,t.extraEditorClassName="modified-in-monaco-diff-editor",t}_adjustOptionsForSubEditor(i){const n=Object.assign(Object.assign({},i),{dimension:{height:0,width:0}});return n.inDiffEditor=!0,n.automaticLayout=!1,n.scrollbar=Object.assign({},n.scrollbar||{}),n.scrollbar.vertical="visible",n.folding=!1,n.codeLens=this._options.diffCodeLens.get(),n.fixedOverflowWidgets=!0,n.minimap=Object.assign({},n.minimap||{}),n.minimap.enabled=!1,this._options.hideUnchangedRegions.get()?n.stickyScroll={enabled:!1}:n.stickyScroll=this._options.editorOptions.get().stickyScroll,n}_updateAriaLabel(i){var n;i||(i="");const t=(0,f.localize)(0,null,(n=this._keybindingService.lookupKeybinding("editor.action.accessibilityHelp"))===null||n===void 0?void 0:n.getAriaLabel());return this._options.accessibilityVerbose.get()?i+t:i?i.replaceAll(t,""):""}};e.DiffEditorEditors=C,e.DiffEditorEditors=C=ke([fe(5,_.IInstantiationService),fe(6,g.IKeybindingService)],C)}),define(ne[80],se([1,0,622,38,31,23]),function(Q,e,L,k,y,D){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.editorUnicodeHighlightBackground=e.editorUnicodeHighlightBorder=e.editorBracketPairGuideActiveBackground6=e.editorBracketPairGuideActiveBackground5=e.editorBracketPairGuideActiveBackground4=e.editorBracketPairGuideActiveBackground3=e.editorBracketPairGuideActiveBackground2=e.editorBracketPairGuideActiveBackground1=e.editorBracketPairGuideBackground6=e.editorBracketPairGuideBackground5=e.editorBracketPairGuideBackground4=e.editorBracketPairGuideBackground3=e.editorBracketPairGuideBackground2=e.editorBracketPairGuideBackground1=e.editorBracketHighlightingUnexpectedBracketForeground=e.editorBracketHighlightingForeground6=e.editorBracketHighlightingForeground5=e.editorBracketHighlightingForeground4=e.editorBracketHighlightingForeground3=e.editorBracketHighlightingForeground2=e.editorBracketHighlightingForeground1=e.overviewRulerInfo=e.overviewRulerWarning=e.overviewRulerError=e.overviewRulerRangeHighlight=e.ghostTextBackground=e.ghostTextForeground=e.ghostTextBorder=e.editorUnnecessaryCodeOpacity=e.editorUnnecessaryCodeBorder=e.editorGutter=e.editorOverviewRulerBackground=e.editorOverviewRulerBorder=e.editorBracketMatchBorder=e.editorBracketMatchBackground=e.editorCodeLensForeground=e.editorRuler=e.editorDimmedLineNumber=e.editorActiveLineNumber=e.editorActiveIndentGuide6=e.editorActiveIndentGuide5=e.editorActiveIndentGuide4=e.editorActiveIndentGuide3=e.editorActiveIndentGuide2=e.editorActiveIndentGuide1=e.editorIndentGuide6=e.editorIndentGuide5=e.editorIndentGuide4=e.editorIndentGuide3=e.editorIndentGuide2=e.editorIndentGuide1=e.deprecatedEditorActiveIndentGuides=e.deprecatedEditorIndentGuides=e.editorLineNumbers=e.editorWhitespaces=e.editorCursorBackground=e.editorCursorForeground=e.editorSymbolHighlightBorder=e.editorSymbolHighlight=e.editorRangeHighlightBorder=e.editorRangeHighlight=e.editorLineHighlightBorder=e.editorLineHighlight=void 0,e.editorLineHighlight=(0,y.registerColor)("editor.lineHighlightBackground",{dark:null,light:null,hcDark:null,hcLight:null},L.localize(0,null)),e.editorLineHighlightBorder=(0,y.registerColor)("editor.lineHighlightBorder",{dark:"#282828",light:"#eeeeee",hcDark:"#f38518",hcLight:y.contrastBorder},L.localize(1,null)),e.editorRangeHighlight=(0,y.registerColor)("editor.rangeHighlightBackground",{dark:"#ffffff0b",light:"#fdff0033",hcDark:null,hcLight:null},L.localize(2,null),!0),e.editorRangeHighlightBorder=(0,y.registerColor)("editor.rangeHighlightBorder",{dark:null,light:null,hcDark:y.activeContrastBorder,hcLight:y.activeContrastBorder},L.localize(3,null),!0),e.editorSymbolHighlight=(0,y.registerColor)("editor.symbolHighlightBackground",{dark:y.editorFindMatchHighlight,light:y.editorFindMatchHighlight,hcDark:null,hcLight:null},L.localize(4,null),!0),e.editorSymbolHighlightBorder=(0,y.registerColor)("editor.symbolHighlightBorder",{dark:null,light:null,hcDark:y.activeContrastBorder,hcLight:y.activeContrastBorder},L.localize(5,null),!0),e.editorCursorForeground=(0,y.registerColor)("editorCursor.foreground",{dark:"#AEAFAD",light:k.Color.black,hcDark:k.Color.white,hcLight:"#0F4A85"},L.localize(6,null)),e.editorCursorBackground=(0,y.registerColor)("editorCursor.background",null,L.localize(7,null)),e.editorWhitespaces=(0,y.registerColor)("editorWhitespace.foreground",{dark:"#e3e4e229",light:"#33333333",hcDark:"#e3e4e229",hcLight:"#CCCCCC"},L.localize(8,null)),e.editorLineNumbers=(0,y.registerColor)("editorLineNumber.foreground",{dark:"#858585",light:"#237893",hcDark:k.Color.white,hcLight:"#292929"},L.localize(9,null)),e.deprecatedEditorIndentGuides=(0,y.registerColor)("editorIndentGuide.background",{dark:e.editorWhitespaces,light:e.editorWhitespaces,hcDark:e.editorWhitespaces,hcLight:e.editorWhitespaces},L.localize(10,null),!1,L.localize(11,null)),e.deprecatedEditorActiveIndentGuides=(0,y.registerColor)("editorIndentGuide.activeBackground",{dark:e.editorWhitespaces,light:e.editorWhitespaces,hcDark:e.editorWhitespaces,hcLight:e.editorWhitespaces},L.localize(12,null),!1,L.localize(13,null)),e.editorIndentGuide1=(0,y.registerColor)("editorIndentGuide.background1",{dark:e.deprecatedEditorIndentGuides,light:e.deprecatedEditorIndentGuides,hcDark:e.deprecatedEditorIndentGuides,hcLight:e.deprecatedEditorIndentGuides},L.localize(14,null)),e.editorIndentGuide2=(0,y.registerColor)("editorIndentGuide.background2",{dark:"#00000000",light:"#00000000",hcDark:"#00000000",hcLight:"#00000000"},L.localize(15,null)),e.editorIndentGuide3=(0,y.registerColor)("editorIndentGuide.background3",{dark:"#00000000",light:"#00000000",hcDark:"#00000000",hcLight:"#00000000"},L.localize(16,null)),e.editorIndentGuide4=(0,y.registerColor)("editorIndentGuide.background4",{dark:"#00000000",light:"#00000000",hcDark:"#00000000",hcLight:"#00000000"},L.localize(17,null)),e.editorIndentGuide5=(0,y.registerColor)("editorIndentGuide.background5",{dark:"#00000000",light:"#00000000",hcDark:"#00000000",hcLight:"#00000000"},L.localize(18,null)),e.editorIndentGuide6=(0,y.registerColor)("editorIndentGuide.background6",{dark:"#00000000",light:"#00000000",hcDark:"#00000000",hcLight:"#00000000"},L.localize(19,null)),e.editorActiveIndentGuide1=(0,y.registerColor)("editorIndentGuide.activeBackground1",{dark:e.deprecatedEditorActiveIndentGuides,light:e.deprecatedEditorActiveIndentGuides,hcDark:e.deprecatedEditorActiveIndentGuides,hcLight:e.deprecatedEditorActiveIndentGuides},L.localize(20,null)),e.editorActiveIndentGuide2=(0,y.registerColor)("editorIndentGuide.activeBackground2",{dark:"#00000000",light:"#00000000",hcDark:"#00000000",hcLight:"#00000000"},L.localize(21,null)),e.editorActiveIndentGuide3=(0,y.registerColor)("editorIndentGuide.activeBackground3",{dark:"#00000000",light:"#00000000",hcDark:"#00000000",hcLight:"#00000000"},L.localize(22,null)),e.editorActiveIndentGuide4=(0,y.registerColor)("editorIndentGuide.activeBackground4",{dark:"#00000000",light:"#00000000",hcDark:"#00000000",hcLight:"#00000000"},L.localize(23,null)),e.editorActiveIndentGuide5=(0,y.registerColor)("editorIndentGuide.activeBackground5",{dark:"#00000000",light:"#00000000",hcDark:"#00000000",hcLight:"#00000000"},L.localize(24,null)),e.editorActiveIndentGuide6=(0,y.registerColor)("editorIndentGuide.activeBackground6",{dark:"#00000000",light:"#00000000",hcDark:"#00000000",hcLight:"#00000000"},L.localize(25,null));const S=(0,y.registerColor)("editorActiveLineNumber.foreground",{dark:"#c6c6c6",light:"#0B216F",hcDark:y.activeContrastBorder,hcLight:y.activeContrastBorder},L.localize(26,null),!1,L.localize(27,null));e.editorActiveLineNumber=(0,y.registerColor)("editorLineNumber.activeForeground",{dark:S,light:S,hcDark:S,hcLight:S},L.localize(28,null)),e.editorDimmedLineNumber=(0,y.registerColor)("editorLineNumber.dimmedForeground",{dark:null,light:null,hcDark:null,hcLight:null},L.localize(29,null)),e.editorRuler=(0,y.registerColor)("editorRuler.foreground",{dark:"#5A5A5A",light:k.Color.lightgrey,hcDark:k.Color.white,hcLight:"#292929"},L.localize(30,null)),e.editorCodeLensForeground=(0,y.registerColor)("editorCodeLens.foreground",{dark:"#999999",light:"#919191",hcDark:"#999999",hcLight:"#292929"},L.localize(31,null)),e.editorBracketMatchBackground=(0,y.registerColor)("editorBracketMatch.background",{dark:"#0064001a",light:"#0064001a",hcDark:"#0064001a",hcLight:"#0000"},L.localize(32,null)),e.editorBracketMatchBorder=(0,y.registerColor)("editorBracketMatch.border",{dark:"#888",light:"#B9B9B9",hcDark:y.contrastBorder,hcLight:y.contrastBorder},L.localize(33,null)),e.editorOverviewRulerBorder=(0,y.registerColor)("editorOverviewRuler.border",{dark:"#7f7f7f4d",light:"#7f7f7f4d",hcDark:"#7f7f7f4d",hcLight:"#666666"},L.localize(34,null)),e.editorOverviewRulerBackground=(0,y.registerColor)("editorOverviewRuler.background",null,L.localize(35,null)),e.editorGutter=(0,y.registerColor)("editorGutter.background",{dark:y.editorBackground,light:y.editorBackground,hcDark:y.editorBackground,hcLight:y.editorBackground},L.localize(36,null)),e.editorUnnecessaryCodeBorder=(0,y.registerColor)("editorUnnecessaryCode.border",{dark:null,light:null,hcDark:k.Color.fromHex("#fff").transparent(.8),hcLight:y.contrastBorder},L.localize(37,null)),e.editorUnnecessaryCodeOpacity=(0,y.registerColor)("editorUnnecessaryCode.opacity",{dark:k.Color.fromHex("#000a"),light:k.Color.fromHex("#0007"),hcDark:null,hcLight:null},L.localize(38,null)),e.ghostTextBorder=(0,y.registerColor)("editorGhostText.border",{dark:null,light:null,hcDark:k.Color.fromHex("#fff").transparent(.8),hcLight:k.Color.fromHex("#292929").transparent(.8)},L.localize(39,null)),e.ghostTextForeground=(0,y.registerColor)("editorGhostText.foreground",{dark:k.Color.fromHex("#ffffff56"),light:k.Color.fromHex("#0007"),hcDark:null,hcLight:null},L.localize(40,null)),e.ghostTextBackground=(0,y.registerColor)("editorGhostText.background",{dark:null,light:null,hcDark:null,hcLight:null},L.localize(41,null));const f=new k.Color(new k.RGBA(0,122,204,.6));e.overviewRulerRangeHighlight=(0,y.registerColor)("editorOverviewRuler.rangeHighlightForeground",{dark:f,light:f,hcDark:f,hcLight:f},L.localize(42,null),!0),e.overviewRulerError=(0,y.registerColor)("editorOverviewRuler.errorForeground",{dark:new k.Color(new k.RGBA(255,18,18,.7)),light:new k.Color(new k.RGBA(255,18,18,.7)),hcDark:new k.Color(new k.RGBA(255,50,50,1)),hcLight:"#B5200D"},L.localize(43,null)),e.overviewRulerWarning=(0,y.registerColor)("editorOverviewRuler.warningForeground",{dark:y.editorWarningForeground,light:y.editorWarningForeground,hcDark:y.editorWarningBorder,hcLight:y.editorWarningBorder},L.localize(44,null)),e.overviewRulerInfo=(0,y.registerColor)("editorOverviewRuler.infoForeground",{dark:y.editorInfoForeground,light:y.editorInfoForeground,hcDark:y.editorInfoBorder,hcLight:y.editorInfoBorder},L.localize(45,null)),e.editorBracketHighlightingForeground1=(0,y.registerColor)("editorBracketHighlight.foreground1",{dark:"#FFD700",light:"#0431FAFF",hcDark:"#FFD700",hcLight:"#0431FAFF"},L.localize(46,null)),e.editorBracketHighlightingForeground2=(0,y.registerColor)("editorBracketHighlight.foreground2",{dark:"#DA70D6",light:"#319331FF",hcDark:"#DA70D6",hcLight:"#319331FF"},L.localize(47,null)),e.editorBracketHighlightingForeground3=(0,y.registerColor)("editorBracketHighlight.foreground3",{dark:"#179FFF",light:"#7B3814FF",hcDark:"#87CEFA",hcLight:"#7B3814FF"},L.localize(48,null)),e.editorBracketHighlightingForeground4=(0,y.registerColor)("editorBracketHighlight.foreground4",{dark:"#00000000",light:"#00000000",hcDark:"#00000000",hcLight:"#00000000"},L.localize(49,null)),e.editorBracketHighlightingForeground5=(0,y.registerColor)("editorBracketHighlight.foreground5",{dark:"#00000000",light:"#00000000",hcDark:"#00000000",hcLight:"#00000000"},L.localize(50,null)),e.editorBracketHighlightingForeground6=(0,y.registerColor)("editorBracketHighlight.foreground6",{dark:"#00000000",light:"#00000000",hcDark:"#00000000",hcLight:"#00000000"},L.localize(51,null)),e.editorBracketHighlightingUnexpectedBracketForeground=(0,y.registerColor)("editorBracketHighlight.unexpectedBracket.foreground",{dark:new k.Color(new k.RGBA(255,18,18,.8)),light:new k.Color(new k.RGBA(255,18,18,.8)),hcDark:new k.Color(new k.RGBA(255,50,50,1)),hcLight:""},L.localize(52,null)),e.editorBracketPairGuideBackground1=(0,y.registerColor)("editorBracketPairGuide.background1",{dark:"#00000000",light:"#00000000",hcDark:"#00000000",hcLight:"#00000000"},L.localize(53,null)),e.editorBracketPairGuideBackground2=(0,y.registerColor)("editorBracketPairGuide.background2",{dark:"#00000000",light:"#00000000",hcDark:"#00000000",hcLight:"#00000000"},L.localize(54,null)),e.editorBracketPairGuideBackground3=(0,y.registerColor)("editorBracketPairGuide.background3",{dark:"#00000000",light:"#00000000",hcDark:"#00000000",hcLight:"#00000000"},L.localize(55,null)),e.editorBracketPairGuideBackground4=(0,y.registerColor)("editorBracketPairGuide.background4",{dark:"#00000000",light:"#00000000",hcDark:"#00000000",hcLight:"#00000000"},L.localize(56,null)),e.editorBracketPairGuideBackground5=(0,y.registerColor)("editorBracketPairGuide.background5",{dark:"#00000000",light:"#00000000",hcDark:"#00000000",hcLight:"#00000000"},L.localize(57,null)),e.editorBracketPairGuideBackground6=(0,y.registerColor)("editorBracketPairGuide.background6",{dark:"#00000000",light:"#00000000",hcDark:"#00000000",hcLight:"#00000000"},L.localize(58,null)),e.editorBracketPairGuideActiveBackground1=(0,y.registerColor)("editorBracketPairGuide.activeBackground1",{dark:"#00000000",light:"#00000000",hcDark:"#00000000",hcLight:"#00000000"},L.localize(59,null)),e.editorBracketPairGuideActiveBackground2=(0,y.registerColor)("editorBracketPairGuide.activeBackground2",{dark:"#00000000",light:"#00000000",hcDark:"#00000000",hcLight:"#00000000"},L.localize(60,null)),e.editorBracketPairGuideActiveBackground3=(0,y.registerColor)("editorBracketPairGuide.activeBackground3",{dark:"#00000000",light:"#00000000",hcDark:"#00000000",hcLight:"#00000000"},L.localize(61,null)),e.editorBracketPairGuideActiveBackground4=(0,y.registerColor)("editorBracketPairGuide.activeBackground4",{dark:"#00000000",light:"#00000000",hcDark:"#00000000",hcLight:"#00000000"},L.localize(62,null)),e.editorBracketPairGuideActiveBackground5=(0,y.registerColor)("editorBracketPairGuide.activeBackground5",{dark:"#00000000",light:"#00000000",hcDark:"#00000000",hcLight:"#00000000"},L.localize(63,null)),e.editorBracketPairGuideActiveBackground6=(0,y.registerColor)("editorBracketPairGuide.activeBackground6",{dark:"#00000000",light:"#00000000",hcDark:"#00000000",hcLight:"#00000000"},L.localize(64,null)),e.editorUnicodeHighlightBorder=(0,y.registerColor)("editorUnicodeHighlight.border",{dark:"#BD9B03",light:"#CEA33D",hcDark:"#ff0000",hcLight:"#CEA33D"},L.localize(65,null)),e.editorUnicodeHighlightBackground=(0,y.registerColor)("editorUnicodeHighlight.background",{dark:"#bd9b0326",light:"#cea33d14",hcDark:"#00000000",hcLight:"#cea33d14"},L.localize(66,null)),(0,D.registerThemingParticipant)((_,g)=>{const C=_.getColor(y.editorBackground),s=_.getColor(e.editorLineHighlight),i=s&&!s.isTransparent()?s:C;i&&g.addRule(`.monaco-editor .inputarea.ime-input { background-color: ${i}; }`)})}),define(ne[845],se([1,0,112,80,14,23,24,88,416]),function(Q,e,L,k,y,D,S,f){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.CurrentLineMarginHighlightOverlay=e.CurrentLineHighlightOverlay=e.AbstractLineHighlightOverlay=void 0;class _ extends L.DynamicViewOverlay{constructor(i){super(),this._context=i;const n=this._context.configuration.options,t=n.get(142);this._lineHeight=n.get(65),this._renderLineHighlight=n.get(94),this._renderLineHighlightOnlyWhenFocus=n.get(95),this._contentLeft=t.contentLeft,this._contentWidth=t.contentWidth,this._selectionIsEmpty=!0,this._focused=!1,this._cursorLineNumbers=[1],this._selections=[new S.Selection(1,1,1,1)],this._renderData=null,this._context.addEventHandler(this)}dispose(){this._context.removeEventHandler(this),super.dispose()}_readFromSelections(){let i=!1;const n=this._selections.map(a=>a.positionLineNumber);n.sort((a,u)=>a-u),y.equals(this._cursorLineNumbers,n)||(this._cursorLineNumbers=n,i=!0);const t=this._selections.every(a=>a.isEmpty());return this._selectionIsEmpty!==t&&(this._selectionIsEmpty=t,i=!0),i}onThemeChanged(i){return this._readFromSelections()}onConfigurationChanged(i){const n=this._context.configuration.options,t=n.get(142);return this._lineHeight=n.get(65),this._renderLineHighlight=n.get(94),this._renderLineHighlightOnlyWhenFocus=n.get(95),this._contentLeft=t.contentLeft,this._contentWidth=t.contentWidth,!0}onCursorStateChanged(i){return this._selections=i.selections,this._readFromSelections()}onFlushed(i){return!0}onLinesDeleted(i){return!0}onLinesInserted(i){return!0}onScrollChanged(i){return i.scrollWidthChanged||i.scrollTopChanged}onZonesChanged(i){return!0}onFocusChanged(i){return this._renderLineHighlightOnlyWhenFocus?(this._focused=i.isFocused,!0):!1}prepareRender(i){if(!this._shouldRenderThis()){this._renderData=null;return}const n=this._renderOne(i),t=i.visibleRange.startLineNumber,a=i.visibleRange.endLineNumber,u=this._cursorLineNumbers.length;let h=0;const r=[];for(let c=t;c<=a;c++){const o=c-t;for(;h<u&&this._cursorLineNumbers[h]<c;)h++;h<u&&this._cursorLineNumbers[h]===c?r[o]=n:r[o]=""}this._renderData=r}render(i,n){if(!this._renderData)return"";const t=n-i;return t>=this._renderData.length?"":this._renderData[t]}_shouldRenderInMargin(){return(this._renderLineHighlight==="gutter"||this._renderLineHighlight==="all")&&(!this._renderLineHighlightOnlyWhenFocus||this._focused)}_shouldRenderInContent(){return(this._renderLineHighlight==="line"||this._renderLineHighlight==="all")&&this._selectionIsEmpty&&(!this._renderLineHighlightOnlyWhenFocus||this._focused)}}e.AbstractLineHighlightOverlay=_;class g extends _{_renderOne(i){return`<div class="${"current-line"+(this._shouldRenderOther()?" current-line-both":"")}" style="width:${Math.max(i.scrollWidth,this._contentWidth)}px; height:${this._lineHeight}px;"></div>`}_shouldRenderThis(){return this._shouldRenderInContent()}_shouldRenderOther(){return this._shouldRenderInMargin()}}e.CurrentLineHighlightOverlay=g;class C extends _{_renderOne(i){return`<div class="${"current-line"+(this._shouldRenderInMargin()?" current-line-margin":"")+(this._shouldRenderOther()?" current-line-margin-both":"")}" style="width:${this._contentLeft}px; height:${this._lineHeight}px;"></div>`}_shouldRenderThis(){return!0}_shouldRenderOther(){return this._shouldRenderInContent()}}e.CurrentLineMarginHighlightOverlay=C,(0,D.registerThemingParticipant)((s,i)=>{const n=s.getColor(k.editorLineHighlight);if(n&&(i.addRule(`.monaco-editor .view-overlays .current-line { background-color: ${n}; }`),i.addRule(`.monaco-editor .margin-view-overlays .current-line-margin { background-color: ${n}; border: none; }`)),!n||n.isTransparent()||s.defines(k.editorLineHighlightBorder)){const t=s.getColor(k.editorLineHighlightBorder);t&&(i.addRule(`.monaco-editor .view-overlays .current-line { border: 2px solid ${t}; }`),i.addRule(`.monaco-editor .margin-view-overlays .current-line-margin { border: 2px solid ${t}; }`),(0,f.isHighContrast)(s.type)&&(i.addRule(".monaco-editor .view-overlays .current-line { border-width: 1px; }"),i.addRule(".monaco-editor .margin-view-overlays .current-line-margin { border-width: 1px; }")))}})}),define(ne[846],se([1,0,112,80,23,12,14,20,287,209,419]),function(Q,e,L,k,y,D,S,f,_,g){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.IndentGuidesOverlay=void 0;class C extends L.DynamicViewOverlay{constructor(n){super(),this._context=n,this._primaryPosition=null;const t=this._context.configuration.options,a=t.get(143),u=t.get(49);this._lineHeight=t.get(65),this._spaceWidth=u.spaceWidth,this._maxIndentLeft=a.wrappingColumn===-1?-1:a.wrappingColumn*u.typicalHalfwidthCharacterWidth,this._bracketPairGuideOptions=t.get(15),this._renderResult=null,this._context.addEventHandler(this)}dispose(){this._context.removeEventHandler(this),this._renderResult=null,super.dispose()}onConfigurationChanged(n){const t=this._context.configuration.options,a=t.get(143),u=t.get(49);return this._lineHeight=t.get(65),this._spaceWidth=u.spaceWidth,this._maxIndentLeft=a.wrappingColumn===-1?-1:a.wrappingColumn*u.typicalHalfwidthCharacterWidth,this._bracketPairGuideOptions=t.get(15),!0}onCursorStateChanged(n){var t;const u=n.selections[0].getPosition();return!((t=this._primaryPosition)===null||t===void 0)&&t.equals(u)?!1:(this._primaryPosition=u,!0)}onDecorationsChanged(n){return!0}onFlushed(n){return!0}onLinesChanged(n){return!0}onLinesDeleted(n){return!0}onLinesInserted(n){return!0}onScrollChanged(n){return n.scrollTopChanged}onZonesChanged(n){return!0}onLanguageConfigurationChanged(n){return!0}prepareRender(n){var t,a,u,h;if(!this._bracketPairGuideOptions.indentation&&this._bracketPairGuideOptions.bracketPairs===!1){this._renderResult=null;return}const r=n.visibleRange.startLineNumber,c=n.visibleRange.endLineNumber,o=n.scrollWidth,d=this._lineHeight,l=this._primaryPosition,p=this.getGuidesByLine(r,Math.min(c+1,this._context.viewModel.getLineCount()),l),m=[];for(let v=r;v<=c;v++){const b=v-r,w=p[b];let E="";const I=(a=(t=n.visibleRangeForPosition(new D.Position(v,1)))===null||t===void 0?void 0:t.left)!==null&&a!==void 0?a:0;for(const M of w){const P=M.column===-1?I+(M.visibleColumn-1)*this._spaceWidth:n.visibleRangeForPosition(new D.Position(v,M.column)).left;if(P>o||this._maxIndentLeft>0&&P>this._maxIndentLeft)break;const x=M.horizontalLine?M.horizontalLine.top?"horizontal-top":"horizontal-bottom":"vertical",T=M.horizontalLine?((h=(u=n.visibleRangeForPosition(new D.Position(v,M.horizontalLine.endColumn)))===null||u===void 0?void 0:u.left)!==null&&h!==void 0?h:P+this._spaceWidth)-P:this._spaceWidth;E+=`<div class="core-guide ${M.className} ${x}" style="left:${P}px;height:${d}px;width:${T}px"></div>`}m[b]=E}this._renderResult=m}getGuidesByLine(n,t,a){const u=this._bracketPairGuideOptions.bracketPairs!==!1?this._context.viewModel.getBracketGuidesInRangeByLine(n,t,a,{highlightActive:this._bracketPairGuideOptions.highlightActiveBracketPair,horizontalGuides:this._bracketPairGuideOptions.bracketPairsHorizontal===!0?g.HorizontalGuidesState.Enabled:this._bracketPairGuideOptions.bracketPairsHorizontal==="active"?g.HorizontalGuidesState.EnabledForActive:g.HorizontalGuidesState.Disabled,includeInactive:this._bracketPairGuideOptions.bracketPairs===!0}):null,h=this._bracketPairGuideOptions.indentation?this._context.viewModel.getLinesIndentGuides(n,t):null;let r=0,c=0,o=0;if(this._bracketPairGuideOptions.highlightActiveIndentation!==!1&&a){const p=this._context.viewModel.getActiveIndentGuide(a.lineNumber,n,t);r=p.startLineNumber,c=p.endLineNumber,o=p.indent}const{indentSize:d}=this._context.viewModel.model.getOptions(),l=[];for(let p=n;p<=t;p++){const m=new Array;l.push(m);const v=u?u[p-n]:[],b=new S.ArrayQueue(v),w=h?h[p-n]:0;for(let E=1;E<=w;E++){const I=(E-1)*d+1,M=(this._bracketPairGuideOptions.highlightActiveIndentation==="always"||v.length===0)&&r<=p&&p<=c&&E===o;m.push(...b.takeWhile(x=>x.visibleColumn<I)||[]);const P=b.peek();(!P||P.visibleColumn!==I||P.horizontalLine)&&m.push(new g.IndentGuide(I,-1,`core-guide-indent lvl-${(E-1)%30}`+(M?" indent-active":""),null,-1,-1))}m.push(...b.takeWhile(E=>!0)||[])}return l}render(n,t){if(!this._renderResult)return"";const a=t-n;return a<0||a>=this._renderResult.length?"":this._renderResult[a]}}e.IndentGuidesOverlay=C;function s(i){if(!(i&&i.isTransparent()))return i}(0,y.registerThemingParticipant)((i,n)=>{const t=[{bracketColor:k.editorBracketHighlightingForeground1,guideColor:k.editorBracketPairGuideBackground1,guideColorActive:k.editorBracketPairGuideActiveBackground1},{bracketColor:k.editorBracketHighlightingForeground2,guideColor:k.editorBracketPairGuideBackground2,guideColorActive:k.editorBracketPairGuideActiveBackground2},{bracketColor:k.editorBracketHighlightingForeground3,guideColor:k.editorBracketPairGuideBackground3,guideColorActive:k.editorBracketPairGuideActiveBackground3},{bracketColor:k.editorBracketHighlightingForeground4,guideColor:k.editorBracketPairGuideBackground4,guideColorActive:k.editorBracketPairGuideActiveBackground4},{bracketColor:k.editorBracketHighlightingForeground5,guideColor:k.editorBracketPairGuideBackground5,guideColorActive:k.editorBracketPairGuideActiveBackground5},{bracketColor:k.editorBracketHighlightingForeground6,guideColor:k.editorBracketPairGuideBackground6,guideColorActive:k.editorBracketPairGuideActiveBackground6}],a=new _.BracketPairGuidesClassNames,u=[{indentColor:k.editorIndentGuide1,indentColorActive:k.editorActiveIndentGuide1},{indentColor:k.editorIndentGuide2,indentColorActive:k.editorActiveIndentGuide2},{indentColor:k.editorIndentGuide3,indentColorActive:k.editorActiveIndentGuide3},{indentColor:k.editorIndentGuide4,indentColorActive:k.editorActiveIndentGuide4},{indentColor:k.editorIndentGuide5,indentColorActive:k.editorActiveIndentGuide5},{indentColor:k.editorIndentGuide6,indentColorActive:k.editorActiveIndentGuide6}],h=t.map(c=>{var o,d;const l=i.getColor(c.bracketColor),p=i.getColor(c.guideColor),m=i.getColor(c.guideColorActive),v=s((o=s(p))!==null&&o!==void 0?o:l?.transparent(.3)),b=s((d=s(m))!==null&&d!==void 0?d:l);if(!(!v||!b))return{guideColor:v,guideColorActive:b}}).filter(f.isDefined),r=u.map(c=>{const o=i.getColor(c.indentColor),d=i.getColor(c.indentColorActive),l=s(o),p=s(d);if(!(!l||!p))return{indentColor:l,indentColorActive:p}}).filter(f.isDefined);if(h.length>0){for(let c=0;c<30;c++){const o=h[c%h.length];n.addRule(`.monaco-editor .${a.getInlineClassNameOfLevel(c).replace(/ /g,".")} { --guide-color: ${o.guideColor}; --guide-color-active: ${o.guideColorActive}; }`)}n.addRule(".monaco-editor .vertical { box-shadow: 1px 0 0 0 var(--guide-color) inset; }"),n.addRule(".monaco-editor .horizontal-top { border-top: 1px solid var(--guide-color); }"),n.addRule(".monaco-editor .horizontal-bottom { border-bottom: 1px solid var(--guide-color); }"),n.addRule(`.monaco-editor .vertical.${a.activeClassName} { box-shadow: 1px 0 0 0 var(--guide-color-active) inset; }`),n.addRule(`.monaco-editor .horizontal-top.${a.activeClassName} { border-top: 1px solid var(--guide-color-active); }`),n.addRule(`.monaco-editor .horizontal-bottom.${a.activeClassName} { border-bottom: 1px solid var(--guide-color-active); }`)}if(r.length>0){for(let c=0;c<30;c++){const o=r[c%r.length];n.addRule(`.monaco-editor .lines-content .core-guide-indent.lvl-${c} { --indent-color: ${o.indentColor}; --indent-color-active: ${o.indentColorActive}; }`)}n.addRule(".monaco-editor .lines-content .core-guide-indent { box-shadow: 1px 0 0 0 var(--indent-color) inset; }"),n.addRule(".monaco-editor .lines-content .core-guide-indent.indent-active { box-shadow: 1px 0 0 0 var(--indent-color-active) inset; }")}})}),define(ne[358],se([1,0,17,112,12,23,80,420]),function(Q,e,L,k,y,D,S){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.LineNumbersOverlay=void 0;class f extends k.DynamicViewOverlay{constructor(g){super(),this._context=g,this._readConfig(),this._lastCursorModelPosition=new y.Position(1,1),this._renderResult=null,this._activeLineNumber=1,this._context.addEventHandler(this)}_readConfig(){const g=this._context.configuration.options;this._lineHeight=g.get(65);const C=g.get(66);this._renderLineNumbers=C.renderType,this._renderCustomLineNumbers=C.renderFn,this._renderFinalNewline=g.get(93);const s=g.get(142);this._lineNumbersLeft=s.lineNumbersLeft,this._lineNumbersWidth=s.lineNumbersWidth}dispose(){this._context.removeEventHandler(this),this._renderResult=null,super.dispose()}onConfigurationChanged(g){return this._readConfig(),!0}onCursorStateChanged(g){const C=g.selections[0].getPosition();this._lastCursorModelPosition=this._context.viewModel.coordinatesConverter.convertViewPositionToModelPosition(C);let s=!1;return this._activeLineNumber!==C.lineNumber&&(this._activeLineNumber=C.lineNumber,s=!0),(this._renderLineNumbers===2||this._renderLineNumbers===3)&&(s=!0),s}onFlushed(g){return!0}onLinesChanged(g){return!0}onLinesDeleted(g){return!0}onLinesInserted(g){return!0}onScrollChanged(g){return g.scrollTopChanged}onZonesChanged(g){return!0}_getLineRenderLineNumber(g){const C=this._context.viewModel.coordinatesConverter.convertViewPositionToModelPosition(new y.Position(g,1));if(C.column!==1)return"";const s=C.lineNumber;if(this._renderCustomLineNumbers)return this._renderCustomLineNumbers(s);if(this._renderLineNumbers===2){const i=Math.abs(this._lastCursorModelPosition.lineNumber-s);return i===0?'<span class="relative-current-line-number">'+s+"</span>":String(i)}return this._renderLineNumbers===3?this._lastCursorModelPosition.lineNumber===s||s%10===0?String(s):"":String(s)}prepareRender(g){if(this._renderLineNumbers===0){this._renderResult=null;return}const C=L.isLinux?this._lineHeight%2===0?" lh-even":" lh-odd":"",s=g.visibleRange.startLineNumber,i=g.visibleRange.endLineNumber,n=this._context.viewModel.getLineCount(),t=[];for(let a=s;a<=i;a++){const u=a-s,h=this._getLineRenderLineNumber(a);if(!h){t[u]="";continue}let r="";if(a===n&&this._context.viewModel.getLineLength(a)===0){if(this._renderFinalNewline==="off"){t[u]="";continue}this._renderFinalNewline==="dimmed"&&(r=" dimmed-line-number")}a===this._activeLineNumber&&(r=" active-line-number"),t[u]=`<div class="${f.CLASS_NAME}${C}${r}" style="left:${this._lineNumbersLeft}px;width:${this._lineNumbersWidth}px;">${h}</div>`}this._renderResult=t}render(g,C){if(!this._renderResult)return"";const s=C-g;return s<0||s>=this._renderResult.length?"":this._renderResult[s]}}e.LineNumbersOverlay=f,f.CLASS_NAME="line-numbers",(0,D.registerThemingParticipant)((_,g)=>{const C=_.getColor(S.editorLineNumbers),s=_.getColor(S.editorDimmedLineNumber);s?g.addRule(`.monaco-editor .line-numbers.dimmed-line-number { color: ${s}; }`):C&&g.addRule(`.monaco-editor .line-numbers.dimmed-line-number { color: ${C.transparent(.4)}; }`)})}),define(ne[847],se([1,0,601,52,35,17,11,59,185,273,53,358,289,36,146,12,5,24,173,29,38,263,34,414]),function(Q,e,L,k,y,D,S,f,_,g,C,s,i,n,t,a,u,h,r,c,o,d,l){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.TextAreaHandler=void 0;class p{constructor(E,I,M,P,x){this._context=E,this.modelLineNumber=I,this.distanceToModelLineStart=M,this.widthOfHiddenLineTextBefore=P,this.distanceToModelLineEnd=x,this._visibleTextAreaBrand=void 0,this.startPosition=null,this.endPosition=null,this.visibleTextareaStart=null,this.visibleTextareaEnd=null,this._previousPresentation=null}prepareRender(E){const I=new a.Position(this.modelLineNumber,this.distanceToModelLineStart+1),M=new a.Position(this.modelLineNumber,this._context.viewModel.model.getLineMaxColumn(this.modelLineNumber)-this.distanceToModelLineEnd);this.startPosition=this._context.viewModel.coordinatesConverter.convertModelPositionToViewPosition(I),this.endPosition=this._context.viewModel.coordinatesConverter.convertModelPositionToViewPosition(M),this.startPosition.lineNumber===this.endPosition.lineNumber?(this.visibleTextareaStart=E.visibleRangeForPosition(this.startPosition),this.visibleTextareaEnd=E.visibleRangeForPosition(this.endPosition)):(this.visibleTextareaStart=null,this.visibleTextareaEnd=null)}definePresentation(E){return this._previousPresentation||(E?this._previousPresentation=E:this._previousPresentation={foreground:1,italic:!1,bold:!1,underline:!1,strikethrough:!1}),this._previousPresentation}}const m=k.isFirefox;let v=class extends C.ViewPart{constructor(E,I,M,P){super(E),this._keybindingService=P,this._primaryCursorPosition=new a.Position(1,1),this._primaryCursorVisibleRange=null,this._viewController=I,this._visibleRangeProvider=M,this._scrollLeft=0,this._scrollTop=0;const x=this._context.configuration.options,T=x.get(142);this._setAccessibilityOptions(x),this._contentLeft=T.contentLeft,this._contentWidth=T.contentWidth,this._contentHeight=T.height,this._fontInfo=x.get(49),this._lineHeight=x.get(65),this._emptySelectionClipboard=x.get(36),this._copyWithSyntaxHighlighting=x.get(24),this._visibleTextArea=null,this._selections=[new h.Selection(1,1,1,1)],this._modelSelections=[new h.Selection(1,1,1,1)],this._lastRenderPosition=null,this.textArea=(0,y.createFastDomNode)(document.createElement("textarea")),C.PartFingerprints.write(this.textArea,6),this.textArea.setClassName(`inputarea ${r.MOUSE_CURSOR_TEXT_CSS_CLASS_NAME}`),this.textArea.setAttribute("wrap",this._textAreaWrapping&&!this._visibleTextArea?"on":"off");const{tabSize:A}=this._context.viewModel.model.getOptions();this.textArea.domNode.style.tabSize=`${A*this._fontInfo.spaceWidth}px`,this.textArea.setAttribute("autocorrect","off"),this.textArea.setAttribute("autocapitalize","off"),this.textArea.setAttribute("autocomplete","off"),this.textArea.setAttribute("spellcheck","false"),this.textArea.setAttribute("aria-label",this._getAriaLabel(x)),this.textArea.setAttribute("aria-required",x.get(5)?"true":"false"),this.textArea.setAttribute("tabindex",String(x.get(122))),this.textArea.setAttribute("role","textbox"),this.textArea.setAttribute("aria-roledescription",L.localize(0,null)),this.textArea.setAttribute("aria-multiline","true"),this.textArea.setAttribute("aria-autocomplete",x.get(89)?"none":"both"),this._ensureReadOnlyAttribute(),this.textAreaCover=(0,y.createFastDomNode)(document.createElement("div")),this.textAreaCover.setPosition("absolute");const N={getLineCount:()=>this._context.viewModel.getLineCount(),getLineMaxColumn:W=>this._context.viewModel.getLineMaxColumn(W),getValueInRange:(W,U)=>this._context.viewModel.getValueInRange(W,U),getValueLengthInRange:(W,U)=>this._context.viewModel.getValueLengthInRange(W,U),modifyPosition:(W,U)=>this._context.viewModel.modifyPosition(W,U)},F={getDataToCopy:()=>{const W=this._context.viewModel.getPlainTextToCopy(this._modelSelections,this._emptySelectionClipboard,D.isWindows),U=this._context.viewModel.model.getEOL(),j=this._emptySelectionClipboard&&this._modelSelections.length===1&&this._modelSelections[0].isEmpty(),R=Array.isArray(W)?W:null,K=Array.isArray(W)?W.join(U):W;let G,Z=null;if(_.CopyOptions.forceCopyWithSyntaxHighlighting||this._copyWithSyntaxHighlighting&&K.length<65536){const J=this._context.viewModel.getRichTextToCopy(this._modelSelections,this._emptySelectionClipboard);J&&(G=J.html,Z=J.mode)}return{isFromEmptySelection:j,multicursorText:R,text:K,html:G,mode:Z}},getScreenReaderContent:()=>{if(this._accessibilitySupport===1){const W=this._selections[0];if(D.isMacintosh&&W.isEmpty()){const j=W.getStartPosition();let R=this._getWordBeforePosition(j);if(R.length===0&&(R=this._getCharacterBeforePosition(j)),R.length>0)return new g.TextAreaState(R,R.length,R.length,u.Range.fromPositions(j),0)}const U=500;if(D.isMacintosh&&!W.isEmpty()&&N.getValueLengthInRange(W,0)<U){const j=N.getValueInRange(W,0);return new g.TextAreaState(j,0,j.length,W,0)}if(k.isSafari&&!W.isEmpty()){const j="vscode-placeholder";return new g.TextAreaState(j,0,j.length,null,void 0)}return g.TextAreaState.EMPTY}if(k.isAndroid){const W=this._selections[0];if(W.isEmpty()){const U=W.getStartPosition(),[j,R]=this._getAndroidWordAtPosition(U);if(j.length>0)return new g.TextAreaState(j,R,R,u.Range.fromPositions(U),0)}return g.TextAreaState.EMPTY}return g.PagedScreenReaderStrategy.fromEditorSelection(N,this._selections[0],this._accessibilityPageSize,this._accessibilitySupport===0)},deduceModelPosition:(W,U,j)=>this._context.viewModel.deduceModelPositionRelativeToViewPosition(W,U,j)},O=this._register(new _.TextAreaWrapper(this.textArea.domNode));this._textAreaInput=this._register(new _.TextAreaInput(F,O,D.OS,{isAndroid:k.isAndroid,isChrome:k.isChrome,isFirefox:k.isFirefox,isSafari:k.isSafari})),this._register(this._textAreaInput.onKeyDown(W=>{this._viewController.emitKeyDown(W)})),this._register(this._textAreaInput.onKeyUp(W=>{this._viewController.emitKeyUp(W)})),this._register(this._textAreaInput.onPaste(W=>{let U=!1,j=null,R=null;W.metadata&&(U=this._emptySelectionClipboard&&!!W.metadata.isFromEmptySelection,j=typeof W.metadata.multicursorText<"u"?W.metadata.multicursorText:null,R=W.metadata.mode),this._viewController.paste(W.text,U,j,R)})),this._register(this._textAreaInput.onCut(()=>{this._viewController.cut()})),this._register(this._textAreaInput.onType(W=>{W.replacePrevCharCnt||W.replaceNextCharCnt||W.positionDelta?(g._debugComposition&&console.log(` => compositionType: <<${W.text}>>, ${W.replacePrevCharCnt}, ${W.replaceNextCharCnt}, ${W.positionDelta}`),this._viewController.compositionType(W.text,W.replacePrevCharCnt,W.replaceNextCharCnt,W.positionDelta)):(g._debugComposition&&console.log(` => type: <<${W.text}>>`),this._viewController.type(W.text))})),this._register(this._textAreaInput.onSelectionChangeRequest(W=>{this._viewController.setSelection(W)})),this._register(this._textAreaInput.onCompositionStart(W=>{const U=this.textArea.domNode,j=this._modelSelections[0],{distanceToModelLineStart:R,widthOfHiddenTextBefore:K}=(()=>{const Z=U.value.substring(0,Math.min(U.selectionStart,U.selectionEnd)),J=Z.lastIndexOf(`
`),X=Z.substring(J+1),H=X.lastIndexOf("	"),B=X.length-H-1,V=j.getStartPosition(),Y=Math.min(V.column-1,B),ie=V.column-1-Y,ae=X.substring(0,X.length-Y),{tabSize:ce}=this._context.viewModel.model.getOptions(),de=b(ae,this._fontInfo,ce);return{distanceToModelLineStart:ie,widthOfHiddenTextBefore:de}})(),{distanceToModelLineEnd:G}=(()=>{const Z=U.value.substring(Math.max(U.selectionStart,U.selectionEnd)),J=Z.indexOf(`
`),X=J===-1?Z:Z.substring(0,J),H=X.indexOf("	"),B=H===-1?X.length:X.length-H-1,V=j.getEndPosition(),Y=Math.min(this._context.viewModel.model.getLineMaxColumn(V.lineNumber)-V.column,B);return{distanceToModelLineEnd:this._context.viewModel.model.getLineMaxColumn(V.lineNumber)-V.column-Y}})();this._context.viewModel.revealRange("keyboard",!0,u.Range.fromPositions(this._selections[0].getStartPosition()),0,1),this._visibleTextArea=new p(this._context,j.startLineNumber,R,K,G),this.textArea.setAttribute("wrap",this._textAreaWrapping&&!this._visibleTextArea?"on":"off"),this._visibleTextArea.prepareRender(this._visibleRangeProvider),this._render(),this.textArea.setClassName(`inputarea ${r.MOUSE_CURSOR_TEXT_CSS_CLASS_NAME} ime-input`),this._viewController.compositionStart(),this._context.viewModel.onCompositionStart()})),this._register(this._textAreaInput.onCompositionUpdate(W=>{this._visibleTextArea&&(this._visibleTextArea.prepareRender(this._visibleRangeProvider),this._render())})),this._register(this._textAreaInput.onCompositionEnd(()=>{this._visibleTextArea=null,this.textArea.setAttribute("wrap",this._textAreaWrapping&&!this._visibleTextArea?"on":"off"),this._render(),this.textArea.setClassName(`inputarea ${r.MOUSE_CURSOR_TEXT_CSS_CLASS_NAME}`),this._viewController.compositionEnd(),this._context.viewModel.onCompositionEnd()})),this._register(this._textAreaInput.onFocus(()=>{this._context.viewModel.setHasFocus(!0)})),this._register(this._textAreaInput.onBlur(()=>{this._context.viewModel.setHasFocus(!1)})),this._register(d.IME.onDidChange(()=>{this._ensureReadOnlyAttribute()}))}writeScreenReaderContent(E){this._textAreaInput.writeScreenReaderContent(E)}dispose(){super.dispose()}_getAndroidWordAtPosition(E){const I='`~!@#$%^&*()-=+[{]}\\|;:",.<>/?',M=this._context.viewModel.getLineContent(E.lineNumber),P=(0,t.getMapForWordSeparators)(I);let x=!0,T=E.column,A=!0,N=E.column,F=0;for(;F<50&&(x||A);){if(x&&T<=1&&(x=!1),x){const O=M.charCodeAt(T-2);P.get(O)!==0?x=!1:T--}if(A&&N>M.length&&(A=!1),A){const O=M.charCodeAt(N-1);P.get(O)!==0?A=!1:N++}F++}return[M.substring(T-1,N-1),E.column-T]}_getWordBeforePosition(E){const I=this._context.viewModel.getLineContent(E.lineNumber),M=(0,t.getMapForWordSeparators)(this._context.configuration.options.get(128));let P=E.column,x=0;for(;P>1;){const T=I.charCodeAt(P-2);if(M.get(T)!==0||x>50)return I.substring(P-1,E.column-1);x++,P--}return I.substring(0,E.column-1)}_getCharacterBeforePosition(E){if(E.column>1){const M=this._context.viewModel.getLineContent(E.lineNumber).charAt(E.column-2);if(!S.isHighSurrogate(M.charCodeAt(0)))return M}return""}_getAriaLabel(E){var I,M,P;if(E.get(2)===1){const T=(I=this._keybindingService.lookupKeybinding("editor.action.toggleScreenReaderAccessibilityMode"))===null||I===void 0?void 0:I.getAriaLabel(),A=(M=this._keybindingService.lookupKeybinding("workbench.action.showCommands"))===null||M===void 0?void 0:M.getAriaLabel(),N=(P=this._keybindingService.lookupKeybinding("workbench.action.openGlobalKeybindings"))===null||P===void 0?void 0:P.getAriaLabel(),F=L.localize(1,null);return T?L.localize(2,null,F,T):A?L.localize(3,null,F,A):N?L.localize(4,null,F,N):F}return E.get(4)}_setAccessibilityOptions(E){this._accessibilitySupport=E.get(2);const I=E.get(3);this._accessibilitySupport===2&&I===n.EditorOptions.accessibilityPageSize.defaultValue?this._accessibilityPageSize=500:this._accessibilityPageSize=I;const P=E.get(142).wrappingColumn;if(P!==-1&&this._accessibilitySupport!==1){const x=E.get(49);this._textAreaWrapping=!0,this._textAreaWidth=Math.round(P*x.typicalHalfwidthCharacterWidth)}else this._textAreaWrapping=!1,this._textAreaWidth=m?0:1}onConfigurationChanged(E){const I=this._context.configuration.options,M=I.get(142);this._setAccessibilityOptions(I),this._contentLeft=M.contentLeft,this._contentWidth=M.contentWidth,this._contentHeight=M.height,this._fontInfo=I.get(49),this._lineHeight=I.get(65),this._emptySelectionClipboard=I.get(36),this._copyWithSyntaxHighlighting=I.get(24),this.textArea.setAttribute("wrap",this._textAreaWrapping&&!this._visibleTextArea?"on":"off");const{tabSize:P}=this._context.viewModel.model.getOptions();return this.textArea.domNode.style.tabSize=`${P*this._fontInfo.spaceWidth}px`,this.textArea.setAttribute("aria-label",this._getAriaLabel(I)),this.textArea.setAttribute("aria-required",I.get(5)?"true":"false"),this.textArea.setAttribute("tabindex",String(I.get(122))),(E.hasChanged(33)||E.hasChanged(89))&&this._ensureReadOnlyAttribute(),E.hasChanged(2)&&this._textAreaInput.writeScreenReaderContent("strategy changed"),!0}onCursorStateChanged(E){return this._selections=E.selections.slice(0),this._modelSelections=E.modelSelections.slice(0),this._textAreaInput.writeScreenReaderContent("selection changed"),!0}onDecorationsChanged(E){return!0}onFlushed(E){return!0}onLinesChanged(E){return!0}onLinesDeleted(E){return!0}onLinesInserted(E){return!0}onScrollChanged(E){return this._scrollLeft=E.scrollLeft,this._scrollTop=E.scrollTop,!0}onZonesChanged(E){return!0}isFocused(){return this._textAreaInput.isFocused()}focusTextArea(){this._textAreaInput.focusTextArea()}getLastRenderData(){return this._lastRenderPosition}setAriaOptions(E){E.activeDescendant?(this.textArea.setAttribute("aria-haspopup","true"),this.textArea.setAttribute("aria-autocomplete","list"),this.textArea.setAttribute("aria-activedescendant",E.activeDescendant)):(this.textArea.setAttribute("aria-haspopup","false"),this.textArea.setAttribute("aria-autocomplete","both"),this.textArea.removeAttribute("aria-activedescendant")),E.role&&this.textArea.setAttribute("role",E.role)}_ensureReadOnlyAttribute(){const E=this._context.configuration.options;!d.IME.enabled||E.get(33)&&E.get(89)?this.textArea.setAttribute("readonly","true"):this.textArea.removeAttribute("readonly")}prepareRender(E){var I;this._primaryCursorPosition=new a.Position(this._selections[0].positionLineNumber,this._selections[0].positionColumn),this._primaryCursorVisibleRange=E.visibleRangeForPosition(this._primaryCursorPosition),(I=this._visibleTextArea)===null||I===void 0||I.prepareRender(E)}render(E){this._textAreaInput.writeScreenReaderContent("render"),this._render()}_render(){var E;if(this._visibleTextArea){const P=this._visibleTextArea.visibleTextareaStart,x=this._visibleTextArea.visibleTextareaEnd,T=this._visibleTextArea.startPosition,A=this._visibleTextArea.endPosition;if(T&&A&&P&&x&&x.left>=this._scrollLeft&&P.left<=this._scrollLeft+this._contentWidth){const N=this._context.viewLayout.getVerticalOffsetForLineNumber(this._primaryCursorPosition.lineNumber)-this._scrollTop,F=this._newlinecount(this.textArea.domNode.value.substr(0,this.textArea.domNode.selectionStart));let O=this._visibleTextArea.widthOfHiddenLineTextBefore,W=this._contentLeft+P.left-this._scrollLeft,U=x.left-P.left+1;if(W<this._contentLeft){const J=this._contentLeft-W;W+=J,O+=J,U-=J}U>this._contentWidth&&(U=this._contentWidth);const j=this._context.viewModel.getViewLineData(T.lineNumber),R=j.tokens.findTokenIndexAtOffset(T.column-1),K=j.tokens.findTokenIndexAtOffset(A.column-1),G=R===K,Z=this._visibleTextArea.definePresentation(G?j.tokens.getPresentation(R):null);this.textArea.domNode.scrollTop=F*this._lineHeight,this.textArea.domNode.scrollLeft=O,this._doRender({lastRenderPosition:null,top:N,left:W,width:U,height:this._lineHeight,useCover:!1,color:(c.TokenizationRegistry.getColorMap()||[])[Z.foreground],italic:Z.italic,bold:Z.bold,underline:Z.underline,strikethrough:Z.strikethrough})}return}if(!this._primaryCursorVisibleRange){this._renderAtTopLeft();return}const I=this._contentLeft+this._primaryCursorVisibleRange.left-this._scrollLeft;if(I<this._contentLeft||I>this._contentLeft+this._contentWidth){this._renderAtTopLeft();return}const M=this._context.viewLayout.getVerticalOffsetForLineNumber(this._selections[0].positionLineNumber)-this._scrollTop;if(M<0||M>this._contentHeight){this._renderAtTopLeft();return}if(D.isMacintosh){this._doRender({lastRenderPosition:this._primaryCursorPosition,top:M,left:this._textAreaWrapping?this._contentLeft:I,width:this._textAreaWidth,height:this._lineHeight,useCover:!1}),this.textArea.domNode.scrollLeft=this._primaryCursorVisibleRange.left;const P=(E=this._textAreaInput.textAreaState.newlineCountBeforeSelection)!==null&&E!==void 0?E:this._newlinecount(this.textArea.domNode.value.substr(0,this.textArea.domNode.selectionStart));this.textArea.domNode.scrollTop=P*this._lineHeight;return}this._doRender({lastRenderPosition:this._primaryCursorPosition,top:M,left:this._textAreaWrapping?this._contentLeft:I,width:this._textAreaWidth,height:m?0:1,useCover:!1})}_newlinecount(E){let I=0,M=-1;do{if(M=E.indexOf(`
`,M+1),M===-1)break;I++}while(!0);return I}_renderAtTopLeft(){this._doRender({lastRenderPosition:null,top:0,left:0,width:this._textAreaWidth,height:m?0:1,useCover:!0})}_doRender(E){this._lastRenderPosition=E.lastRenderPosition;const I=this.textArea,M=this.textAreaCover;(0,f.applyFontInfo)(I,this._fontInfo),I.setTop(E.top),I.setLeft(E.left),I.setWidth(E.width),I.setHeight(E.height),I.setColor(E.color?o.Color.Format.CSS.formatHex(E.color):""),I.setFontStyle(E.italic?"italic":""),E.bold&&I.setFontWeight("bold"),I.setTextDecoration(`${E.underline?" underline":""}${E.strikethrough?" line-through":""}`),M.setTop(E.useCover?E.top:0),M.setLeft(E.useCover?E.left:0),M.setWidth(E.useCover?E.width:0),M.setHeight(E.useCover?E.height:0);const P=this._context.configuration.options;P.get(56)?M.setClassName("monaco-editor-background textAreaCover "+i.Margin.OUTER_CLASS_NAME):P.get(66).renderType!==0?M.setClassName("monaco-editor-background textAreaCover "+s.LineNumbersOverlay.CLASS_NAME):M.setClassName("monaco-editor-background textAreaCover")}};e.TextAreaHandler=v,e.TextAreaHandler=v=ke([fe(3,l.IKeybindingService)],v);function b(w,E,I){if(w.length===0)return 0;const M=document.createElement("div");M.style.position="absolute",M.style.top="-50000px",M.style.width="50000px";const P=document.createElement("span");(0,f.applyFontInfo)(P,E),P.style.whiteSpace="pre",P.style.tabSize=`${I*E.spaceWidth}px`,P.append(w),M.appendChild(P),document.body.appendChild(M);const x=P.offsetWidth;return document.body.removeChild(M),x}}),define(ne[848],se([1,0,35,38,53,12,29,80,67]),function(Q,e,L,k,y,D,S,f,_){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.DecorationsOverviewRuler=void 0;class g{constructor(i,n){const t=i.options;this.lineHeight=t.get(65),this.pixelRatio=t.get(140),this.overviewRulerLanes=t.get(81),this.renderBorder=t.get(80);const a=n.getColor(f.editorOverviewRulerBorder);this.borderColor=a?a.toString():null,this.hideCursor=t.get(58);const u=n.getColor(f.editorCursorForeground);this.cursorColor=u?u.transparent(.7).toString():null,this.themeType=n.type;const h=t.get(71),r=h.enabled,c=h.side,o=n.getColor(f.editorOverviewRulerBackground),d=S.TokenizationRegistry.getDefaultBackground();o?this.backgroundColor=o:r&&c==="right"?this.backgroundColor=d:this.backgroundColor=null;const p=t.get(142).overviewRuler;this.top=p.top,this.right=p.right,this.domWidth=p.width,this.domHeight=p.height,this.overviewRulerLanes===0?(this.canvasWidth=0,this.canvasHeight=0):(this.canvasWidth=this.domWidth*this.pixelRatio|0,this.canvasHeight=this.domHeight*this.pixelRatio|0);const[m,v]=this._initLanes(1,this.canvasWidth,this.overviewRulerLanes);this.x=m,this.w=v}_initLanes(i,n,t){const a=n-i;if(t>=3){const u=Math.floor(a/3),h=Math.floor(a/3),r=a-u-h,c=i,o=c+u,d=c+u+r;return[[0,c,o,c,d,c,o,c],[0,u,r,u+r,h,u+r+h,r+h,u+r+h]]}else if(t===2){const u=Math.floor(a/2),h=a-u,r=i,c=r+u;return[[0,r,r,r,c,r,r,r],[0,u,u,u,h,u+h,u+h,u+h]]}else{const u=i,h=a;return[[0,u,u,u,u,u,u,u],[0,h,h,h,h,h,h,h]]}}equals(i){return this.lineHeight===i.lineHeight&&this.pixelRatio===i.pixelRatio&&this.overviewRulerLanes===i.overviewRulerLanes&&this.renderBorder===i.renderBorder&&this.borderColor===i.borderColor&&this.hideCursor===i.hideCursor&&this.cursorColor===i.cursorColor&&this.themeType===i.themeType&&k.Color.equals(this.backgroundColor,i.backgroundColor)&&this.top===i.top&&this.right===i.right&&this.domWidth===i.domWidth&&this.domHeight===i.domHeight&&this.canvasWidth===i.canvasWidth&&this.canvasHeight===i.canvasHeight}}class C extends y.ViewPart{constructor(i){super(i),this._domNode=(0,L.createFastDomNode)(document.createElement("canvas")),this._domNode.setClassName("decorationsOverviewRuler"),this._domNode.setPosition("absolute"),this._domNode.setLayerHinting(!0),this._domNode.setContain("strict"),this._domNode.setAttribute("aria-hidden","true"),this._updateSettings(!1),this._tokensColorTrackerListener=S.TokenizationRegistry.onDidChange(n=>{n.changedColorMap&&this._updateSettings(!0)}),this._cursorPositions=[]}dispose(){super.dispose(),this._tokensColorTrackerListener.dispose()}_updateSettings(i){const n=new g(this._context.configuration,this._context.theme);return this._settings&&this._settings.equals(n)?!1:(this._settings=n,this._domNode.setTop(this._settings.top),this._domNode.setRight(this._settings.right),this._domNode.setWidth(this._settings.domWidth),this._domNode.setHeight(this._settings.domHeight),this._domNode.domNode.width=this._settings.canvasWidth,this._domNode.domNode.height=this._settings.canvasHeight,i&&this._render(),!0)}onConfigurationChanged(i){return this._updateSettings(!1)}onCursorStateChanged(i){this._cursorPositions=[];for(let n=0,t=i.selections.length;n<t;n++)this._cursorPositions[n]=i.selections[n].getPosition();return this._cursorPositions.sort(D.Position.compare),!0}onDecorationsChanged(i){return!!i.affectsOverviewRuler}onFlushed(i){return!0}onScrollChanged(i){return i.scrollHeightChanged}onZonesChanged(i){return!0}onThemeChanged(i){return this._updateSettings(!1)}getDomNode(){return this._domNode.domNode}prepareRender(i){}render(i){this._render()}_render(){const i=this._settings.backgroundColor;if(this._settings.overviewRulerLanes===0){this._domNode.setBackgroundColor(i?k.Color.Format.CSS.formatHexA(i):""),this._domNode.setDisplay("none");return}this._domNode.setDisplay("block");const n=this._settings.canvasWidth,t=this._settings.canvasHeight,a=this._settings.lineHeight,u=this._context.viewLayout,h=this._context.viewLayout.getScrollHeight(),r=t/h,c=this._context.viewModel.getAllOverviewRulerDecorations(this._context.theme),o=6*this._settings.pixelRatio|0,d=o/2|0,l=this._domNode.domNode.getContext("2d");i?i.isOpaque()?(l.fillStyle=k.Color.Format.CSS.formatHexA(i),l.fillRect(0,0,n,t)):(l.clearRect(0,0,n,t),l.fillStyle=k.Color.Format.CSS.formatHexA(i),l.fillRect(0,0,n,t)):l.clearRect(0,0,n,t);const p=this._settings.x,m=this._settings.w;c.sort(_.OverviewRulerDecorationsGroup.cmp);for(const v of c){const b=v.color,w=v.data;l.fillStyle=b;let E=0,I=0,M=0;for(let P=0,x=w.length/3;P<x;P++){const T=w[3*P],A=w[3*P+1],N=w[3*P+2];let F=u.getVerticalOffsetForLineNumber(A)*r|0,O=(u.getVerticalOffsetForLineNumber(N)+a)*r|0;if(O-F<o){let U=(F+O)/2|0;U<d?U=d:U+d>t&&(U=t-d),F=U-d,O=U+d}F>M+1||T!==E?(P!==0&&l.fillRect(p[E],I,m[E],M-I),E=T,I=F,M=O):O>M&&(M=O)}l.fillRect(p[E],I,m[E],M-I)}if(!this._settings.hideCursor&&this._settings.cursorColor){const v=2*this._settings.pixelRatio|0,b=v/2|0,w=this._settings.x[7],E=this._settings.w[7];l.fillStyle=this._settings.cursorColor;let I=-100,M=-100;for(let P=0,x=this._cursorPositions.length;P<x;P++){const T=this._cursorPositions[P];let A=u.getVerticalOffsetForLineNumber(T.lineNumber)*r|0;A<b?A=b:A+b>t&&(A=t-b);const N=A-b,F=N+v;N>M+1?(P!==0&&l.fillRect(w,I,E,M-I),I=N,M=F):F>M&&(M=F)}l.fillRect(w,I,E,M-I)}this._settings.renderBorder&&this._settings.borderColor&&this._settings.overviewRulerLanes>0&&(l.beginPath(),l.lineWidth=1,l.strokeStyle=this._settings.borderColor,l.moveTo(0,0),l.lineTo(0,t),l.stroke(),l.moveTo(0,0),l.lineTo(n,0),l.stroke())}}e.DecorationsOverviewRuler=C}),define(ne[849],se([1,0,35,13,53,620,36,80,23,88,430]),function(Q,e,L,k,y,D,S,f,_,g){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ViewCursors=void 0;class C extends y.ViewPart{constructor(i){super(i);const n=this._context.configuration.options;this._readOnly=n.get(89),this._cursorBlinking=n.get(25),this._cursorStyle=n.get(27),this._cursorSmoothCaretAnimation=n.get(26),this._selectionIsEmpty=!0,this._isComposingInput=!1,this._isVisible=!1,this._primaryCursor=new D.ViewCursor(this._context),this._secondaryCursors=[],this._renderData=[],this._domNode=(0,L.createFastDomNode)(document.createElement("div")),this._domNode.setAttribute("role","presentation"),this._domNode.setAttribute("aria-hidden","true"),this._updateDomClassName(),this._domNode.appendChild(this._primaryCursor.getDomNode()),this._startCursorBlinkAnimation=new k.TimeoutTimer,this._cursorFlatBlinkInterval=new k.IntervalTimer,this._blinkingEnabled=!1,this._editorHasFocus=!1,this._updateBlinking()}dispose(){super.dispose(),this._startCursorBlinkAnimation.dispose(),this._cursorFlatBlinkInterval.dispose()}getDomNode(){return this._domNode}onCompositionStart(i){return this._isComposingInput=!0,this._updateBlinking(),!0}onCompositionEnd(i){return this._isComposingInput=!1,this._updateBlinking(),!0}onConfigurationChanged(i){const n=this._context.configuration.options;this._readOnly=n.get(89),this._cursorBlinking=n.get(25),this._cursorStyle=n.get(27),this._cursorSmoothCaretAnimation=n.get(26),this._updateBlinking(),this._updateDomClassName(),this._primaryCursor.onConfigurationChanged(i);for(let t=0,a=this._secondaryCursors.length;t<a;t++)this._secondaryCursors[t].onConfigurationChanged(i);return!0}_onCursorPositionChanged(i,n,t){const a=this._secondaryCursors.length!==n.length||this._cursorSmoothCaretAnimation==="explicit"&&t!==3;if(this._primaryCursor.onCursorPositionChanged(i,a),this._updateBlinking(),this._secondaryCursors.length<n.length){const u=n.length-this._secondaryCursors.length;for(let h=0;h<u;h++){const r=new D.ViewCursor(this._context);this._domNode.domNode.insertBefore(r.getDomNode().domNode,this._primaryCursor.getDomNode().domNode.nextSibling),this._secondaryCursors.push(r)}}else if(this._secondaryCursors.length>n.length){const u=this._secondaryCursors.length-n.length;for(let h=0;h<u;h++)this._domNode.removeChild(this._secondaryCursors[0].getDomNode()),this._secondaryCursors.splice(0,1)}for(let u=0;u<n.length;u++)this._secondaryCursors[u].onCursorPositionChanged(n[u],a)}onCursorStateChanged(i){const n=[];for(let a=0,u=i.selections.length;a<u;a++)n[a]=i.selections[a].getPosition();this._onCursorPositionChanged(n[0],n.slice(1),i.reason);const t=i.selections[0].isEmpty();return this._selectionIsEmpty!==t&&(this._selectionIsEmpty=t,this._updateDomClassName()),!0}onDecorationsChanged(i){return!0}onFlushed(i){return!0}onFocusChanged(i){return this._editorHasFocus=i.isFocused,this._updateBlinking(),!1}onLinesChanged(i){return!0}onLinesDeleted(i){return!0}onLinesInserted(i){return!0}onScrollChanged(i){return!0}onTokensChanged(i){const n=t=>{for(let a=0,u=i.ranges.length;a<u;a++)if(i.ranges[a].fromLineNumber<=t.lineNumber&&t.lineNumber<=i.ranges[a].toLineNumber)return!0;return!1};if(n(this._primaryCursor.getPosition()))return!0;for(const t of this._secondaryCursors)if(n(t.getPosition()))return!0;return!1}onZonesChanged(i){return!0}_getCursorBlinking(){return this._isComposingInput||!this._editorHasFocus?0:this._readOnly?5:this._cursorBlinking}_updateBlinking(){this._startCursorBlinkAnimation.cancel(),this._cursorFlatBlinkInterval.cancel();const i=this._getCursorBlinking(),n=i===0,t=i===5;n?this._hide():this._show(),this._blinkingEnabled=!1,this._updateDomClassName(),!n&&!t&&(i===1?this._cursorFlatBlinkInterval.cancelAndSet(()=>{this._isVisible?this._hide():this._show()},C.BLINK_INTERVAL):this._startCursorBlinkAnimation.setIfNotSet(()=>{this._blinkingEnabled=!0,this._updateDomClassName()},C.BLINK_INTERVAL))}_updateDomClassName(){this._domNode.setClassName(this._getClassName())}_getClassName(){let i="cursors-layer";switch(this._selectionIsEmpty||(i+=" has-selection"),this._cursorStyle){case S.TextEditorCursorStyle.Line:i+=" cursor-line-style";break;case S.TextEditorCursorStyle.Block:i+=" cursor-block-style";break;case S.TextEditorCursorStyle.Underline:i+=" cursor-underline-style";break;case S.TextEditorCursorStyle.LineThin:i+=" cursor-line-thin-style";break;case S.TextEditorCursorStyle.BlockOutline:i+=" cursor-block-outline-style";break;case S.TextEditorCursorStyle.UnderlineThin:i+=" cursor-underline-thin-style";break;default:i+=" cursor-line-style"}if(this._blinkingEnabled)switch(this._getCursorBlinking()){case 1:i+=" cursor-blink";break;case 2:i+=" cursor-smooth";break;case 3:i+=" cursor-phase";break;case 4:i+=" cursor-expand";break;case 5:i+=" cursor-solid";break;default:i+=" cursor-solid"}else i+=" cursor-solid";return(this._cursorSmoothCaretAnimation==="on"||this._cursorSmoothCaretAnimation==="explicit")&&(i+=" cursor-smooth-caret-animation"),i}_show(){this._primaryCursor.show();for(let i=0,n=this._secondaryCursors.length;i<n;i++)this._secondaryCursors[i].show();this._isVisible=!0}_hide(){this._primaryCursor.hide();for(let i=0,n=this._secondaryCursors.length;i<n;i++)this._secondaryCursors[i].hide();this._isVisible=!1}prepareRender(i){this._primaryCursor.prepareRender(i);for(let n=0,t=this._secondaryCursors.length;n<t;n++)this._secondaryCursors[n].prepareRender(i)}render(i){const n=[];let t=0;const a=this._primaryCursor.render(i);a&&(n[t++]=a);for(let u=0,h=this._secondaryCursors.length;u<h;u++){const r=this._secondaryCursors[u].render(i);r&&(n[t++]=r)}this._renderData=n}getLastRenderData(){return this._renderData}}e.ViewCursors=C,C.BLINK_INTERVAL=500,(0,_.registerThemingParticipant)((s,i)=>{const n=s.getColor(f.editorCursorForeground);if(n){let t=s.getColor(f.editorCursorBackground);t||(t=n.opposite()),i.addRule(`.monaco-editor .cursors-layer .cursor { background-color: ${n}; border-color: ${n}; color: ${t}; }`),(0,g.isHighContrast)(s.type)&&i.addRule(`.monaco-editor .cursors-layer.has-selection .cursor { border-left: 1px solid ${t}; border-right: 1px solid ${t}; }`)}})}),define(ne[850],se([1,0,112,11,95,12,80,431]),function(Q,e,L,k,y,D,S){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.WhitespaceOverlay=void 0;class f extends L.DynamicViewOverlay{constructor(C){super(),this._context=C,this._options=new _(this._context.configuration),this._selection=[],this._renderResult=null,this._context.addEventHandler(this)}dispose(){this._context.removeEventHandler(this),this._renderResult=null,super.dispose()}onConfigurationChanged(C){const s=new _(this._context.configuration);return this._options.equals(s)?C.hasChanged(142):(this._options=s,!0)}onCursorStateChanged(C){return this._selection=C.selections,this._options.renderWhitespace==="selection"}onDecorationsChanged(C){return!0}onFlushed(C){return!0}onLinesChanged(C){return!0}onLinesDeleted(C){return!0}onLinesInserted(C){return!0}onScrollChanged(C){return C.scrollTopChanged}onZonesChanged(C){return!0}prepareRender(C){if(this._options.renderWhitespace==="none"){this._renderResult=null;return}const s=C.visibleRange.startLineNumber,n=C.visibleRange.endLineNumber-s+1,t=new Array(n);for(let u=0;u<n;u++)t[u]=!0;const a=this._context.viewModel.getMinimapLinesRenderingData(C.viewportData.startLineNumber,C.viewportData.endLineNumber,t);this._renderResult=[];for(let u=C.viewportData.startLineNumber;u<=C.viewportData.endLineNumber;u++){const h=u-C.viewportData.startLineNumber,r=a.data[h];let c=null;if(this._options.renderWhitespace==="selection"){const o=this._selection;for(const d of o){if(d.endLineNumber<u||d.startLineNumber>u)continue;const l=d.startLineNumber===u?d.startColumn:r.minColumn,p=d.endLineNumber===u?d.endColumn:r.maxColumn;l<p&&(c||(c=[]),c.push(new y.LineRange(l-1,p-1)))}}this._renderResult[h]=this._applyRenderWhitespace(C,u,c,r)}}_applyRenderWhitespace(C,s,i,n){if(this._options.renderWhitespace==="selection"&&!i||this._options.renderWhitespace==="trailing"&&n.continuesWithWrappedLine)return"";const t=this._context.theme.getColor(S.editorWhitespaces),a=this._options.renderWithSVG,u=n.content,h=this._options.stopRenderingLineAfter===-1?u.length:Math.min(this._options.stopRenderingLineAfter,u.length),r=n.continuesWithWrappedLine,c=n.minColumn-1,o=this._options.renderWhitespace==="boundary",d=this._options.renderWhitespace==="trailing",l=this._options.lineHeight,p=this._options.middotWidth,m=this._options.wsmiddotWidth,v=this._options.spaceWidth,b=Math.abs(m-v),w=Math.abs(p-v),E=b<w?11825:183,I=this._options.canUseHalfwidthRightwardsArrow;let M="",P=!1,x=k.firstNonWhitespaceIndex(u),T;x===-1?(P=!0,x=h,T=h):T=k.lastNonWhitespaceIndex(u);let A=0,N=i&&i[A],F=0;for(let O=c;O<h;O++){const W=u.charCodeAt(O);if(N&&O>=N.endOffset&&(A++,N=i&&i[A]),W!==9&&W!==32||d&&!P&&O<=T)continue;if(o&&O>=x&&O<=T&&W===32){const j=O-1>=0?u.charCodeAt(O-1):0,R=O+1<h?u.charCodeAt(O+1):0;if(j!==32&&R!==32)continue}if(o&&r&&O===h-1){const j=O-1>=0?u.charCodeAt(O-1):0;if(W===32&&j!==32&&j!==9)continue}if(i&&(!N||N.startOffset>O||N.endOffset<=O))continue;const U=C.visibleRangeForPosition(new D.Position(s,O+1));U&&(a?(F=Math.max(F,U.left),W===9?M+=this._renderArrow(l,v,U.left):M+=`<circle cx="${(U.left+v/2).toFixed(2)}" cy="${(l/2).toFixed(2)}" r="${(v/7).toFixed(2)}" />`):W===9?M+=`<div class="mwh" style="left:${U.left}px;height:${l}px;">${I?String.fromCharCode(65515):String.fromCharCode(8594)}</div>`:M+=`<div class="mwh" style="left:${U.left}px;height:${l}px;">${String.fromCharCode(E)}</div>`)}return a?(F=Math.round(F+v),`<svg style="position:absolute;width:${F}px;height:${l}px" viewBox="0 0 ${F} ${l}" xmlns="http://www.w3.org/2000/svg" fill="${t}">`+M+"</svg>"):M}_renderArrow(C,s,i){const n=s/7,t=s,a=C/2,u=i,h={x:0,y:n/2},r={x:100/125*t,y:h.y},c={x:r.x-.2*r.x,y:r.y+.2*r.x},o={x:c.x+.1*r.x,y:c.y+.1*r.x},d={x:o.x+.35*r.x,y:o.y-.35*r.x},l={x:d.x,y:-d.y},p={x:o.x,y:-o.y},m={x:c.x,y:-c.y},v={x:r.x,y:-r.y},b={x:h.x,y:-h.y};return`<path d="M ${[h,r,c,o,d,l,p,m,v,b].map(I=>`${(u+I.x).toFixed(2)} ${(a+I.y).toFixed(2)}`).join(" L ")}" />`}render(C,s){if(!this._renderResult)return"";const i=s-C;return i<0||i>=this._renderResult.length?"":this._renderResult[i]}}e.WhitespaceOverlay=f;class _{constructor(C){const s=C.options,i=s.get(49),n=s.get(37);n==="off"?(this.renderWhitespace="none",this.renderWithSVG=!1):n==="svg"?(this.renderWhitespace=s.get(97),this.renderWithSVG=!0):(this.renderWhitespace=s.get(97),this.renderWithSVG=!1),this.spaceWidth=i.spaceWidth,this.middotWidth=i.middotWidth,this.wsmiddotWidth=i.wsmiddotWidth,this.canUseHalfwidthRightwardsArrow=i.canUseHalfwidthRightwardsArrow,this.lineHeight=s.get(65),this.stopRenderingLineAfter=s.get(115)}equals(C){return this.renderWhitespace===C.renderWhitespace&&this.renderWithSVG===C.renderWithSVG&&this.spaceWidth===C.spaceWidth&&this.middotWidth===C.middotWidth&&this.wsmiddotWidth===C.wsmiddotWidth&&this.canUseHalfwidthRightwardsArrow===C.canUseHalfwidthRightwardsArrow&&this.lineHeight===C.lineHeight&&this.stopRenderingLineAfter===C.stopRenderingLineAfter}}}),define(ne[851],se([1,0,7,24,5,35,9,837,847,793,272,592,53,589,845,522,842,846,358,838,523,289,524,821,525,848,534,526,527,843,849,528,12,144,535,531,150,23,355,521,260,850,210,48,8]),function(Q,e,L,k,y,D,S,f,_,g,C,s,i,n,t,a,u,h,r,c,o,d,l,p,m,v,b,w,E,I,M,P,x,T,A,N,F,O,W,U,j,R,K,G,Z){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.View=void 0;let J=class extends F.ViewEventHandler{constructor(B,V,Y,ie,ae,ce,de){super(),this._instantiationService=de,this._shouldRecomputeGlyphMarginLanes=!1,this._selections=[new k.Selection(1,1,1,1)],this._renderAnimationFrame=null;const he=new g.ViewController(V,ie,ae,B);this._context=new A.ViewContext(V,Y,ie),this._context.addEventHandler(this),this._viewParts=[],this._textAreaHandler=this._instantiationService.createInstance(_.TextAreaHandler,this._context,he,this._createTextAreaHandlerHelper()),this._viewParts.push(this._textAreaHandler),this._linesContent=(0,D.createFastDomNode)(document.createElement("div")),this._linesContent.setClassName("lines-content monaco-editor-background"),this._linesContent.setPosition("absolute"),this.domNode=(0,D.createFastDomNode)(document.createElement("div")),this.domNode.setClassName(this._getEditorClassName()),this.domNode.setAttribute("role","code"),this._overflowGuardContainer=(0,D.createFastDomNode)(document.createElement("div")),i.PartFingerprints.write(this._overflowGuardContainer,3),this._overflowGuardContainer.setClassName("overflow-guard"),this._scrollbar=new u.EditorScrollbar(this._context,this._linesContent,this.domNode,this._overflowGuardContainer),this._viewParts.push(this._scrollbar),this._viewLines=new c.ViewLines(this._context,this._linesContent),this._viewZones=new P.ViewZones(this._context),this._viewParts.push(this._viewZones);const ue=new v.DecorationsOverviewRuler(this._context);this._viewParts.push(ue);const te=new E.ScrollDecorationViewPart(this._context);this._viewParts.push(te);const q=new s.ContentViewOverlays(this._context);this._viewParts.push(q),q.addDynamicOverlay(new t.CurrentLineHighlightOverlay(this._context)),q.addDynamicOverlay(new I.SelectionsOverlay(this._context)),q.addDynamicOverlay(new h.IndentGuidesOverlay(this._context)),q.addDynamicOverlay(new a.DecorationsOverlay(this._context)),q.addDynamicOverlay(new R.WhitespaceOverlay(this._context));const z=new s.MarginViewOverlays(this._context);this._viewParts.push(z),z.addDynamicOverlay(new t.CurrentLineMarginHighlightOverlay(this._context)),z.addDynamicOverlay(new l.MarginViewLineDecorationsOverlay(this._context)),z.addDynamicOverlay(new o.LinesDecorationsOverlay(this._context)),z.addDynamicOverlay(new r.LineNumbersOverlay(this._context)),this._glyphMarginWidgets=new K.GlyphMarginWidgets(this._context),this._viewParts.push(this._glyphMarginWidgets);const ee=new d.Margin(this._context);ee.getDomNode().appendChild(this._viewZones.marginDomNode),ee.getDomNode().appendChild(z.getDomNode()),ee.getDomNode().appendChild(this._glyphMarginWidgets.domNode),this._viewParts.push(ee),this._contentWidgets=new n.ViewContentWidgets(this._context,this.domNode),this._viewParts.push(this._contentWidgets),this._viewCursors=new M.ViewCursors(this._context),this._viewParts.push(this._viewCursors),this._overlayWidgets=new m.ViewOverlayWidgets(this._context),this._viewParts.push(this._overlayWidgets);const $=new w.Rulers(this._context);this._viewParts.push($);const re=new U.BlockDecorations(this._context);this._viewParts.push(re);const oe=new p.Minimap(this._context);if(this._viewParts.push(oe),ue){const ge=this._scrollbar.getOverviewRulerLayoutInfo();ge.parent.insertBefore(ue.getDomNode(),ge.insertBefore)}this._linesContent.appendChild(q.getDomNode()),this._linesContent.appendChild($.domNode),this._linesContent.appendChild(this._viewZones.domNode),this._linesContent.appendChild(this._viewLines.getDomNode()),this._linesContent.appendChild(this._contentWidgets.domNode),this._linesContent.appendChild(this._viewCursors.getDomNode()),this._overflowGuardContainer.appendChild(ee.getDomNode()),this._overflowGuardContainer.appendChild(this._scrollbar.getDomNode()),this._overflowGuardContainer.appendChild(te.getDomNode()),this._overflowGuardContainer.appendChild(this._textAreaHandler.textArea),this._overflowGuardContainer.appendChild(this._textAreaHandler.textAreaCover),this._overflowGuardContainer.appendChild(this._overlayWidgets.getDomNode()),this._overflowGuardContainer.appendChild(oe.getDomNode()),this._overflowGuardContainer.appendChild(re.domNode),this.domNode.appendChild(this._overflowGuardContainer),ce?ce.appendChild(this._contentWidgets.overflowingContentWidgetsDomNode.domNode):this.domNode.appendChild(this._contentWidgets.overflowingContentWidgetsDomNode),this._applyLayout(),this._pointerHandler=this._register(new f.PointerHandler(this._context,he,this._createPointerHandlerHelper()))}_flushAccumulatedAndRenderNow(){this._shouldRecomputeGlyphMarginLanes&&(this._shouldRecomputeGlyphMarginLanes=!1,this._context.configuration.setGlyphMarginDecorationLaneCount(this._computeGlyphMarginLaneCount())),j.inputLatency.onRenderStart(),this._renderNow()}_computeGlyphMarginLaneCount(){const B=this._context.viewModel.model;let V=[];V=V.concat(B.getAllMarginDecorations().map(ae=>{var ce,de;const he=(de=(ce=ae.options.glyphMargin)===null||ce===void 0?void 0:ce.position)!==null&&de!==void 0?de:G.GlyphMarginLane.Left;return{range:ae.range,lane:he}})),V=V.concat(this._glyphMarginWidgets.getWidgets().map(ae=>({range:B.validateRange(ae.preference.range),lane:ae.preference.lane}))),V.sort((ae,ce)=>y.Range.compareRangesUsingStarts(ae.range,ce.range));let Y=null,ie=null;for(const ae of V)if(ae.lane===G.GlyphMarginLane.Left&&(!Y||y.Range.compareRangesUsingEnds(Y,ae.range)<0)&&(Y=ae.range),ae.lane===G.GlyphMarginLane.Right&&(!ie||y.Range.compareRangesUsingEnds(ie,ae.range)<0)&&(ie=ae.range),Y&&ie){if(Y.endLineNumber<ie.startLineNumber){Y=null;continue}if(ie.endLineNumber<Y.startLineNumber){ie=null;continue}return 2}return 1}_createPointerHandlerHelper(){return{viewDomNode:this.domNode.domNode,linesContentDomNode:this._linesContent.domNode,viewLinesDomNode:this._viewLines.getDomNode().domNode,focusTextArea:()=>{this.focus()},dispatchTextAreaEvent:B=>{this._textAreaHandler.textArea.domNode.dispatchEvent(B)},getLastRenderData:()=>{const B=this._viewCursors.getLastRenderData()||[],V=this._textAreaHandler.getLastRenderData();return new W.PointerHandlerLastRenderData(B,V)},renderNow:()=>{this.render(!0,!1)},shouldSuppressMouseDownOnViewZone:B=>this._viewZones.shouldSuppressMouseDownOnViewZone(B),shouldSuppressMouseDownOnWidget:B=>this._contentWidgets.shouldSuppressMouseDownOnWidget(B),getPositionFromDOMInfo:(B,V)=>(this._flushAccumulatedAndRenderNow(),this._viewLines.getPositionFromDOMInfo(B,V)),visibleRangeForPosition:(B,V)=>(this._flushAccumulatedAndRenderNow(),this._viewLines.visibleRangeForPosition(new x.Position(B,V))),getLineWidth:B=>(this._flushAccumulatedAndRenderNow(),this._viewLines.getLineWidth(B))}}_createTextAreaHandlerHelper(){return{visibleRangeForPosition:B=>(this._flushAccumulatedAndRenderNow(),this._viewLines.visibleRangeForPosition(B))}}_applyLayout(){const V=this._context.configuration.options.get(142);this.domNode.setWidth(V.width),this.domNode.setHeight(V.height),this._overflowGuardContainer.setWidth(V.width),this._overflowGuardContainer.setHeight(V.height),this._linesContent.setWidth(1e6),this._linesContent.setHeight(1e6)}_getEditorClassName(){const B=this._textAreaHandler.isFocused()?" focused":"";return this._context.configuration.options.get(139)+" "+(0,O.getThemeTypeSelector)(this._context.theme.type)+B}handleEvents(B){super.handleEvents(B),this._scheduleRender()}onConfigurationChanged(B){return this.domNode.setClassName(this._getEditorClassName()),this._applyLayout(),!1}onCursorStateChanged(B){return this._selections=B.selections,!1}onDecorationsChanged(B){return B.affectsGlyphMargin&&(this._shouldRecomputeGlyphMarginLanes=!0),!1}onFocusChanged(B){return this.domNode.setClassName(this._getEditorClassName()),!1}onThemeChanged(B){return this._context.theme.update(B.theme),this.domNode.setClassName(this._getEditorClassName()),!1}dispose(){this._renderAnimationFrame!==null&&(this._renderAnimationFrame.dispose(),this._renderAnimationFrame=null),this._contentWidgets.overflowingContentWidgetsDomNode.domNode.remove(),this._context.removeEventHandler(this),this._viewLines.dispose();for(const B of this._viewParts)B.dispose();super.dispose()}_scheduleRender(){this._renderAnimationFrame===null&&(this._renderAnimationFrame=L.runAtThisOrScheduleAtNextAnimationFrame(this._onRenderScheduled.bind(this),100))}_onRenderScheduled(){this._renderAnimationFrame=null,this._flushAccumulatedAndRenderNow()}_renderNow(){X(()=>this._actualRender())}_getViewPartsToRender(){const B=[];let V=0;for(const Y of this._viewParts)Y.shouldRender()&&(B[V++]=Y);return B}_actualRender(){if(!L.isInDOM(this.domNode.domNode))return;let B=this._getViewPartsToRender();if(!this._viewLines.shouldRender()&&B.length===0)return;const V=this._context.viewLayout.getLinesViewportData();this._context.viewModel.setViewport(V.startLineNumber,V.endLineNumber,V.centeredLineNumber);const Y=new N.ViewportData(this._selections,V,this._context.viewLayout.getWhitespaceViewportData(),this._context.viewModel);this._contentWidgets.shouldRender()&&this._contentWidgets.onBeforeRender(Y),this._viewLines.shouldRender()&&(this._viewLines.renderText(Y),this._viewLines.onDidRender(),B=this._getViewPartsToRender());const ie=new T.RenderingContext(this._context.viewLayout,Y,this._viewLines);for(const ae of B)ae.prepareRender(ie);for(const ae of B)ae.render(ie),ae.onDidRender()}delegateVerticalScrollbarPointerDown(B){this._scrollbar.delegateVerticalScrollbarPointerDown(B)}delegateScrollFromMouseWheelEvent(B){this._scrollbar.delegateScrollFromMouseWheelEvent(B)}restoreState(B){this._context.viewModel.viewLayout.setScrollPosition({scrollTop:B.scrollTop,scrollLeft:B.scrollLeft},1),this._context.viewModel.visibleLinesStabilized()}getOffsetForColumn(B,V){const Y=this._context.viewModel.model.validatePosition({lineNumber:B,column:V}),ie=this._context.viewModel.coordinatesConverter.convertModelPositionToViewPosition(Y);this._flushAccumulatedAndRenderNow();const ae=this._viewLines.visibleRangeForPosition(new x.Position(ie.lineNumber,ie.column));return ae?ae.left:-1}getTargetAtClientPoint(B,V){const Y=this._pointerHandler.getTargetAtClientPoint(B,V);return Y?C.ViewUserInputEvents.convertViewToModelMouseTarget(Y,this._context.viewModel.coordinatesConverter):null}createOverviewRuler(B){return new b.OverviewRuler(this._context,B)}change(B){this._viewZones.changeViewZones(B),this._scheduleRender()}render(B,V){if(V){this._viewLines.forceShouldRender();for(const Y of this._viewParts)Y.forceShouldRender()}B?this._flushAccumulatedAndRenderNow():this._scheduleRender()}writeScreenReaderContent(B){this._textAreaHandler.writeScreenReaderContent(B)}focus(){this._textAreaHandler.focusTextArea()}isFocused(){return this._textAreaHandler.isFocused()}setAriaOptions(B){this._textAreaHandler.setAriaOptions(B)}addContentWidget(B){this._contentWidgets.addWidget(B.widget),this.layoutContentWidget(B),this._scheduleRender()}layoutContentWidget(B){var V,Y,ie,ae,ce,de,he,ue;this._contentWidgets.setWidgetPosition(B.widget,(Y=(V=B.position)===null||V===void 0?void 0:V.position)!==null&&Y!==void 0?Y:null,(ae=(ie=B.position)===null||ie===void 0?void 0:ie.secondaryPosition)!==null&&ae!==void 0?ae:null,(de=(ce=B.position)===null||ce===void 0?void 0:ce.preference)!==null&&de!==void 0?de:null,(ue=(he=B.position)===null||he===void 0?void 0:he.positionAffinity)!==null&&ue!==void 0?ue:null),this._scheduleRender()}removeContentWidget(B){this._contentWidgets.removeWidget(B.widget),this._scheduleRender()}addOverlayWidget(B){this._overlayWidgets.addWidget(B.widget),this.layoutOverlayWidget(B),this._scheduleRender()}layoutOverlayWidget(B){const V=B.position?B.position.preference:null;this._overlayWidgets.setWidgetPosition(B.widget,V)&&this._scheduleRender()}removeOverlayWidget(B){this._overlayWidgets.removeWidget(B.widget),this._scheduleRender()}addGlyphMarginWidget(B){this._glyphMarginWidgets.addWidget(B.widget),this._shouldRecomputeGlyphMarginLanes=!0,this._scheduleRender()}layoutGlyphMarginWidget(B){const V=B.position;this._glyphMarginWidgets.setWidgetPosition(B.widget,V)&&(this._shouldRecomputeGlyphMarginLanes=!0,this._scheduleRender())}removeGlyphMarginWidget(B){this._glyphMarginWidgets.removeWidget(B.widget),this._shouldRecomputeGlyphMarginLanes=!0,this._scheduleRender()}};e.View=J,e.View=J=ke([fe(6,Z.IInstantiationService)],J);function X(H){try{return H()}catch(B){(0,S.onUnexpectedError)(B)}}}),define(ne[852],se([1,0,6,2,5,80,23]),function(Q,e,L,k,y,D,S){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ColorizedBracketPairsDecorationProvider=void 0;class f extends k.Disposable{constructor(C){super(),this.textModel=C,this.colorProvider=new _,this.onDidChangeEmitter=new L.Emitter,this.onDidChange=this.onDidChangeEmitter.event,this.colorizationOptions=C.getOptions().bracketPairColorizationOptions,this._register(C.bracketPairs.onDidChange(s=>{this.onDidChangeEmitter.fire()}))}handleDidChangeOptions(C){this.colorizationOptions=this.textModel.getOptions().bracketPairColorizationOptions}getDecorationsInRange(C,s,i,n){return n?[]:s===void 0?[]:this.colorizationOptions.enabled?this.textModel.bracketPairs.getBracketsInRange(C,!0).map(a=>({id:`bracket${a.range.toString()}-${a.nestingLevel}`,options:{description:"BracketPairColorization",inlineClassName:this.colorProvider.getInlineClassName(a,this.colorizationOptions.independentColorPoolPerBracketType)},ownerId:0,range:a.range})).toArray():[]}getAllDecorations(C,s){return C===void 0?[]:this.colorizationOptions.enabled?this.getDecorationsInRange(new y.Range(1,1,this.textModel.getLineCount(),1),C,s):[]}}e.ColorizedBracketPairsDecorationProvider=f;class _{constructor(){this.unexpectedClosingBracketClassName="unexpected-closing-bracket"}getInlineClassName(C,s){return C.isInvalid?this.unexpectedClosingBracketClassName:this.getInlineClassNameOfLevel(s?C.nestingLevelOfEqualBracketType:C.nestingLevel)}getInlineClassNameOfLevel(C){return`bracket-highlighting-${C%30}`}}(0,S.registerThemingParticipant)((g,C)=>{const s=[D.editorBracketHighlightingForeground1,D.editorBracketHighlightingForeground2,D.editorBracketHighlightingForeground3,D.editorBracketHighlightingForeground4,D.editorBracketHighlightingForeground5,D.editorBracketHighlightingForeground6],i=new _;C.addRule(`.monaco-editor .${i.unexpectedClosingBracketClassName} { color: ${g.getColor(D.editorBracketHighlightingUnexpectedBracketForeground)}; }`);const n=s.map(t=>g.getColor(t)).filter(t=>!!t).filter(t=>!t.isTransparent());for(let t=0;t<30;t++){const a=n[t%n.length];C.addRule(`.monaco-editor .${i.getInlineClassNameOfLevel(t)} { color: ${a}; }`)}})}),define(ne[853],se([1,0,97,2,48,23,80,51,5,54,6,31,65]),function(Q,e,L,k,y,D,S,f,_,g,C,s,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.MarkerDecorationsService=void 0;class n extends k.Disposable{constructor(u){super(),this.model=u,this._markersData=new Map,this._register((0,k.toDisposable)(()=>{this.model.deltaDecorations([...this._markersData.keys()],[]),this._markersData.clear()}))}update(u,h){const r=[...this._markersData.keys()];this._markersData.clear();const c=this.model.deltaDecorations(r,h);for(let o=0;o<c.length;o++)this._markersData.set(c[o],u[o]);return r.length!==0||c.length!==0}getMarker(u){return this._markersData.get(u.id)}}let t=class extends k.Disposable{constructor(u,h){super(),this._markerService=h,this._onDidChangeMarker=this._register(new C.Emitter),this._markerDecorations=new i.ResourceMap,u.getModels().forEach(r=>this._onModelAdded(r)),this._register(u.onModelAdded(this._onModelAdded,this)),this._register(u.onModelRemoved(this._onModelRemoved,this)),this._register(this._markerService.onMarkerChanged(this._handleMarkerChange,this))}dispose(){super.dispose(),this._markerDecorations.forEach(u=>u.dispose()),this._markerDecorations.clear()}getMarker(u,h){const r=this._markerDecorations.get(u);return r&&r.getMarker(h)||null}_handleMarkerChange(u){u.forEach(h=>{const r=this._markerDecorations.get(h);r&&this._updateDecorations(r)})}_onModelAdded(u){const h=new n(u);this._markerDecorations.set(u.uri,h),this._updateDecorations(h)}_onModelRemoved(u){var h;const r=this._markerDecorations.get(u.uri);r&&(r.dispose(),this._markerDecorations.delete(u.uri)),(u.uri.scheme===g.Schemas.inMemory||u.uri.scheme===g.Schemas.internal||u.uri.scheme===g.Schemas.vscode)&&((h=this._markerService)===null||h===void 0||h.read({resource:u.uri}).map(c=>c.owner).forEach(c=>this._markerService.remove(c,[u.uri])))}_updateDecorations(u){const h=this._markerService.read({resource:u.model.uri,take:500}),r=h.map(c=>({range:this._createDecorationRange(u.model,c),options:this._createDecorationOption(c)}));u.update(h,r)&&this._onDidChangeMarker.fire(u.model)}_createDecorationRange(u,h){let r=_.Range.lift(h);if(h.severity===L.MarkerSeverity.Hint&&!this._hasMarkerTag(h,1)&&!this._hasMarkerTag(h,2)&&(r=r.setEndPosition(r.startLineNumber,r.startColumn+2)),r=u.validateRange(r),r.isEmpty()){const c=u.getLineLastNonWhitespaceColumn(r.startLineNumber)||u.getLineMaxColumn(r.startLineNumber);if(c===1||r.endColumn>=c)return r;const o=u.getWordAtPosition(r.getStartPosition());o&&(r=new _.Range(r.startLineNumber,o.startColumn,r.endLineNumber,o.endColumn))}else if(h.endColumn===Number.MAX_VALUE&&h.startColumn===1&&r.startLineNumber===r.endLineNumber){const c=u.getLineFirstNonWhitespaceColumn(h.startLineNumber);c<r.endColumn&&(r=new _.Range(r.startLineNumber,c,r.endLineNumber,r.endColumn),h.startColumn=c)}return r}_createDecorationOption(u){let h,r,c,o,d;switch(u.severity){case L.MarkerSeverity.Hint:this._hasMarkerTag(u,2)?h=void 0:this._hasMarkerTag(u,1)?h="squiggly-unnecessary":h="squiggly-hint",c=0;break;case L.MarkerSeverity.Warning:h="squiggly-warning",r=(0,D.themeColorFromId)(S.overviewRulerWarning),c=20,d={color:(0,D.themeColorFromId)(s.minimapWarning),position:y.MinimapPosition.Inline};break;case L.MarkerSeverity.Info:h="squiggly-info",r=(0,D.themeColorFromId)(S.overviewRulerInfo),c=10;break;case L.MarkerSeverity.Error:default:h="squiggly-error",r=(0,D.themeColorFromId)(S.overviewRulerError),c=30,d={color:(0,D.themeColorFromId)(s.minimapError),position:y.MinimapPosition.Inline};break}return u.tags&&(u.tags.indexOf(1)!==-1&&(o="squiggly-inline-unnecessary"),u.tags.indexOf(2)!==-1&&(o="squiggly-inline-deprecated")),{description:"marker-decoration",stickiness:1,className:h,showIfCollapsed:!0,overviewRuler:{color:r,position:y.OverviewRulerLane.Right},minimap:d,zIndex:c,inlineClassName:o}}_hasMarkerTag(u,h){return u.tags?u.tags.indexOf(h)>=0:!1}};e.MarkerDecorationsService=t,e.MarkerDecorationsService=t=ke([fe(0,f.IModelService),fe(1,L.IMarkerService)],t)}),define(ne[252],se([1,0,124,23,70,519,41]),function(Q,e,L,k,y,D,S){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.toMultilineTokens2=e.SemanticTokensProviderStyling=void 0;let f=class{constructor(i,n,t,a){this._legend=i,this._themeService=n,this._languageService=t,this._logService=a,this._hasWarnedOverlappingTokens=!1,this._hasWarnedInvalidLengthTokens=!1,this._hasWarnedInvalidEditStart=!1,this._hashTable=new C}getMetadata(i,n,t){const a=this._languageService.languageIdCodec.encodeLanguageId(t),u=this._hashTable.get(i,n,a);let h;if(u)h=u.metadata,this._logService.getLevel()===y.LogLevel.Trace&&this._logService.trace(`SemanticTokensProviderStyling [CACHED] ${i} / ${n}: foreground ${L.TokenMetadata.getForeground(h)}, fontStyle ${L.TokenMetadata.getFontStyle(h).toString(2)}`);else{let r=this._legend.tokenTypes[i];const c=[];if(r){let o=n;for(let l=0;o>0&&l<this._legend.tokenModifiers.length;l++)o&1&&c.push(this._legend.tokenModifiers[l]),o=o>>1;o>0&&this._logService.getLevel()===y.LogLevel.Trace&&(this._logService.trace(`SemanticTokensProviderStyling: unknown token modifier index: ${n.toString(2)} for legend: ${JSON.stringify(this._legend.tokenModifiers)}`),c.push("not-in-legend"));const d=this._themeService.getColorTheme().getTokenStyleMetadata(r,c,t);if(typeof d>"u")h=2147483647;else{if(h=0,typeof d.italic<"u"){const l=(d.italic?1:0)<<11;h|=l|1}if(typeof d.bold<"u"){const l=(d.bold?2:0)<<11;h|=l|2}if(typeof d.underline<"u"){const l=(d.underline?4:0)<<11;h|=l|4}if(typeof d.strikethrough<"u"){const l=(d.strikethrough?8:0)<<11;h|=l|8}if(d.foreground){const l=d.foreground<<15;h|=l|16}h===0&&(h=2147483647)}}else this._logService.getLevel()===y.LogLevel.Trace&&this._logService.trace(`SemanticTokensProviderStyling: unknown token type index: ${i} for legend: ${JSON.stringify(this._legend.tokenTypes)}`),h=2147483647,r="not-in-legend";this._hashTable.add(i,n,a,h),this._logService.getLevel()===y.LogLevel.Trace&&this._logService.trace(`SemanticTokensProviderStyling ${i} (${r}) / ${n} (${c.join(" ")}): foreground ${L.TokenMetadata.getForeground(h)}, fontStyle ${L.TokenMetadata.getFontStyle(h).toString(2)}`)}return h}warnOverlappingSemanticTokens(i,n){this._hasWarnedOverlappingTokens||(this._hasWarnedOverlappingTokens=!0,console.warn(`Overlapping semantic tokens detected at lineNumber ${i}, column ${n}`))}warnInvalidLengthSemanticTokens(i,n){this._hasWarnedInvalidLengthTokens||(this._hasWarnedInvalidLengthTokens=!0,console.warn(`Semantic token with invalid length detected at lineNumber ${i}, column ${n}`))}warnInvalidEditStart(i,n,t,a,u){this._hasWarnedInvalidEditStart||(this._hasWarnedInvalidEditStart=!0,console.warn(`Invalid semantic tokens edit detected (previousResultId: ${i}, resultId: ${n}) at edit #${t}: The provided start offset ${a} is outside the previous data (length ${u}).`))}};e.SemanticTokensProviderStyling=f,e.SemanticTokensProviderStyling=f=ke([fe(1,k.IThemeService),fe(2,S.ILanguageService),fe(3,y.ILogService)],f);function _(s,i,n){const t=s.data,a=s.data.length/5|0,u=Math.max(Math.ceil(a/1024),400),h=[];let r=0,c=1,o=0;for(;r<a;){const d=r;let l=Math.min(d+u,a);if(l<a){let I=l;for(;I-1>d&&t[5*I]===0;)I--;if(I-1===d){let M=l;for(;M+1<a&&t[5*M]===0;)M++;l=M}else l=I}let p=new Uint32Array((l-d)*4),m=0,v=0,b=0,w=0;for(;r<l;){const I=5*r,M=t[I],P=t[I+1],x=c+M|0,T=M===0?o+P|0:P,A=t[I+2],N=T+A|0,F=t[I+3],O=t[I+4];if(N<=T)i.warnInvalidLengthSemanticTokens(x,T+1);else if(b===x&&w>T)i.warnOverlappingSemanticTokens(x,T+1);else{const W=i.getMetadata(F,O,n);W!==2147483647&&(v===0&&(v=x),p[m]=x-v,p[m+1]=T,p[m+2]=N,p[m+3]=W,m+=4,b=x,w=N)}c=x,o=T,r++}m!==p.length&&(p=p.subarray(0,m));const E=D.SparseMultilineTokens.create(v,p);h.push(E)}return h}e.toMultilineTokens2=_;class g{constructor(i,n,t,a){this.tokenTypeIndex=i,this.tokenModifierSet=n,this.languageId=t,this.metadata=a,this.next=null}}class C{constructor(){this._elementsCount=0,this._currentLengthIndex=0,this._currentLength=C._SIZES[this._currentLengthIndex],this._growCount=Math.round(this._currentLengthIndex+1<C._SIZES.length?2/3*this._currentLength:0),this._elements=[],C._nullOutEntries(this._elements,this._currentLength)}static _nullOutEntries(i,n){for(let t=0;t<n;t++)i[t]=null}_hash2(i,n){return(i<<5)-i+n|0}_hashFunc(i,n,t){return this._hash2(this._hash2(i,n),t)%this._currentLength}get(i,n,t){const a=this._hashFunc(i,n,t);let u=this._elements[a];for(;u;){if(u.tokenTypeIndex===i&&u.tokenModifierSet===n&&u.languageId===t)return u;u=u.next}return null}add(i,n,t,a){if(this._elementsCount++,this._growCount!==0&&this._elementsCount>=this._growCount){const u=this._elements;this._currentLengthIndex++,this._currentLength=C._SIZES[this._currentLengthIndex],this._growCount=Math.round(this._currentLengthIndex+1<C._SIZES.length?2/3*this._currentLength:0),this._elements=[],C._nullOutEntries(this._elements,this._currentLength);for(const h of u){let r=h;for(;r;){const c=r.next;r.next=null,this._add(r),r=c}}}this._add(new g(i,n,t,a))}_add(i){const n=this._hashFunc(i.tokenTypeIndex,i.tokenModifierSet,i.languageId);i.next=this._elements[n],this._elements[n]=i}}C._SIZES=[3,7,13,31,61,127,251,509,1021,2039,4093,8191,16381,32749,65521,131071,262139,524287,1048573,2097143]}),define(ne[854],se([1,0,2,41,23,70,252,234,50]),function(Q,e,L,k,y,D,S,f,_){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.SemanticTokensStylingService=void 0;let g=class extends L.Disposable{constructor(s,i,n){super(),this._themeService=s,this._logService=i,this._languageService=n,this._caches=new WeakMap,this._register(this._themeService.onDidColorThemeChange(()=>{this._caches=new WeakMap}))}getStyling(s){return this._caches.has(s)||this._caches.set(s,new S.SemanticTokensProviderStyling(s.getLegend(),this._themeService,this._languageService,this._logService)),this._caches.get(s)}};e.SemanticTokensStylingService=g,e.SemanticTokensStylingService=g=ke([fe(0,y.IThemeService),fe(1,D.ILogService),fe(2,k.ILanguageService)],g),(0,_.registerSingleton)(f.ISemanticTokensStylingService,g,1)}),define(ne[359],se([1,0,99,2,177,48,80,23,49]),function(Q,e,L,k,y,D,S,f,_){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.AbstractEditorNavigationQuickAccessProvider=void 0;class g{constructor(s){this.options=s,this.rangeHighlightDecorationId=void 0}provide(s,i){var n;const t=new k.DisposableStore;s.canAcceptInBackground=!!(!((n=this.options)===null||n===void 0)&&n.canAcceptInBackground),s.matchOnLabel=s.matchOnDescription=s.matchOnDetail=s.sortByLabel=!1;const a=t.add(new k.MutableDisposable);return a.value=this.doProvide(s,i),t.add(this.onDidActiveTextEditorControlChange(()=>{a.value=void 0,a.value=this.doProvide(s,i)})),t}doProvide(s,i){var n;const t=new k.DisposableStore,a=this.activeTextEditorControl;if(a&&this.canProvideWithTextEditor(a)){const u={editor:a},h=(0,y.getCodeEditor)(a);if(h){let r=(n=a.saveViewState())!==null&&n!==void 0?n:void 0;t.add(h.onDidChangeCursorPosition(()=>{var c;r=(c=a.saveViewState())!==null&&c!==void 0?c:void 0})),u.restoreViewState=()=>{r&&a===this.activeTextEditorControl&&a.restoreViewState(r)},t.add((0,L.once)(i.onCancellationRequested)(()=>{var c;return(c=u.restoreViewState)===null||c===void 0?void 0:c.call(u)}))}t.add((0,k.toDisposable)(()=>this.clearDecorations(a))),t.add(this.provideWithTextEditor(u,s,i))}else t.add(this.provideWithoutTextEditor(s,i));return t}canProvideWithTextEditor(s){return!0}gotoLocation({editor:s},i){s.setSelection(i.range),s.revealRangeInCenter(i.range,0),i.preserveFocus||s.focus();const n=s.getModel();n&&"getLineContent"in n&&(0,_.status)(`${n.getLineContent(i.range.startLineNumber)}`)}getModel(s){var i;return(0,y.isDiffEditor)(s)?(i=s.getModel())===null||i===void 0?void 0:i.modified:s.getModel()}addDecorations(s,i){s.changeDecorations(n=>{const t=[];this.rangeHighlightDecorationId&&(t.push(this.rangeHighlightDecorationId.overviewRulerDecorationId),t.push(this.rangeHighlightDecorationId.rangeHighlightId),this.rangeHighlightDecorationId=void 0);const a=[{range:i,options:{description:"quick-access-range-highlight",className:"rangeHighlight",isWholeLine:!0}},{range:i,options:{description:"quick-access-range-highlight-overview",overviewRuler:{color:(0,f.themeColorFromId)(S.overviewRulerRangeHighlight),position:D.OverviewRulerLane.Full}}}],[u,h]=n.deltaDecorations(t,a);this.rangeHighlightDecorationId={rangeHighlightId:u,overviewRulerDecorationId:h}})}clearDecorations(s){const i=this.rangeHighlightDecorationId;i&&(s.changeDecorations(n=>{n.deltaDecorations([i.overviewRulerDecorationId,i.rangeHighlightId],[])}),this.rangeHighlightDecorationId=void 0)}}e.AbstractEditorNavigationQuickAccessProvider=g}),define(ne[855],se([1,0,2,177,359,691]),function(Q,e,L,k,y,D){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.AbstractGotoLineQuickAccessProvider=void 0;class S extends y.AbstractEditorNavigationQuickAccessProvider{constructor(){super({canAcceptInBackground:!0})}provideWithoutTextEditor(_){const g=(0,D.localize)(0,null);return _.items=[{label:g}],_.ariaLabel=g,L.Disposable.None}provideWithTextEditor(_,g,C){const s=_.editor,i=new L.DisposableStore;i.add(g.onDidAccept(a=>{const[u]=g.selectedItems;if(u){if(!this.isValidLineNumber(s,u.lineNumber))return;this.gotoLocation(_,{range:this.toRange(u.lineNumber,u.column),keyMods:g.keyMods,preserveFocus:a.inBackground}),a.inBackground||g.hide()}}));const n=()=>{const a=this.parsePosition(s,g.value.trim().substr(S.PREFIX.length)),u=this.getPickLabel(s,a.lineNumber,a.column);if(g.items=[{lineNumber:a.lineNumber,column:a.column,label:u}],g.ariaLabel=u,!this.isValidLineNumber(s,a.lineNumber)){this.clearDecorations(s);return}const h=this.toRange(a.lineNumber,a.column);s.revealRangeInCenter(h,0),this.addDecorations(s,h)};n(),i.add(g.onDidChangeValue(()=>n()));const t=(0,k.getCodeEditor)(s);return t&&t.getOptions().get(66).renderType===2&&(t.updateOptions({lineNumbers:"on"}),i.add((0,L.toDisposable)(()=>t.updateOptions({lineNumbers:"relative"})))),i}toRange(_=1,g=1){return{startLineNumber:_,startColumn:g,endLineNumber:_,endColumn:g}}parsePosition(_,g){const C=g.split(/,|:|#/).map(i=>parseInt(i,10)).filter(i=>!isNaN(i)),s=this.lineCount(_)+1;return{lineNumber:C[0]>0?C[0]:s+C[0],column:C[1]}}getPickLabel(_,g,C){if(this.isValidLineNumber(_,g))return this.isValidColumn(_,g,C)?(0,D.localize)(1,null,g,C):(0,D.localize)(2,null,g);const s=_.getPosition()||{lineNumber:1,column:1},i=this.lineCount(_);return i>1?(0,D.localize)(3,null,s.lineNumber,s.column,i):(0,D.localize)(4,null,s.lineNumber,s.column)}isValidLineNumber(_,g){return!g||typeof g!="number"?!1:g>0&&g<=this.lineCount(_)}isValidColumn(_,g,C){if(!C||typeof C!="number")return!1;const s=this.getModel(_);if(!s)return!1;const i={lineNumber:g,column:C};return s.validatePosition(i).equals(i)}lineCount(_){var g,C;return(C=(g=this.getModel(_))===null||g===void 0?void 0:g.getLineCount())!==null&&C!==void 0?C:0}}e.AbstractGotoLineQuickAccessProvider=S,S.PREFIX=":"}),define(ne[856],se([1,0,13,19,25,26,570,2,11,5,29,188,359,692,18,14]),function(Q,e,L,k,y,D,S,f,_,g,C,s,i,n,t,a){"use strict";var u;Object.defineProperty(e,"__esModule",{value:!0}),e.AbstractGotoSymbolQuickAccessProvider=void 0;let h=u=class extends i.AbstractEditorNavigationQuickAccessProvider{constructor(d,l,p=Object.create(null)){super(p),this._languageFeaturesService=d,this._outlineModelService=l,this.options=p,this.options.canAcceptInBackground=!0}provideWithoutTextEditor(d){return this.provideLabelPick(d,(0,n.localize)(0,null)),f.Disposable.None}provideWithTextEditor(d,l,p){const m=d.editor,v=this.getModel(m);return v?this._languageFeaturesService.documentSymbolProvider.has(v)?this.doProvideWithEditorSymbols(d,v,l,p):this.doProvideWithoutEditorSymbols(d,v,l,p):f.Disposable.None}doProvideWithoutEditorSymbols(d,l,p,m){const v=new f.DisposableStore;return this.provideLabelPick(p,(0,n.localize)(1,null)),we(this,void 0,void 0,function*(){!(yield this.waitForLanguageSymbolRegistry(l,v))||m.isCancellationRequested||v.add(this.doProvideWithEditorSymbols(d,l,p,m))}),v}provideLabelPick(d,l){d.items=[{label:l,index:0,kind:14}],d.ariaLabel=l}waitForLanguageSymbolRegistry(d,l){return we(this,void 0,void 0,function*(){if(this._languageFeaturesService.documentSymbolProvider.has(d))return!0;const p=new L.DeferredPromise,m=l.add(this._languageFeaturesService.documentSymbolProvider.onDidChange(()=>{this._languageFeaturesService.documentSymbolProvider.has(d)&&(m.dispose(),p.complete(!0))}));return l.add((0,f.toDisposable)(()=>p.complete(!1))),p.p})}doProvideWithEditorSymbols(d,l,p,m){var v;const b=d.editor,w=new f.DisposableStore;w.add(p.onDidAccept(P=>{const[x]=p.selectedItems;x&&x.range&&(this.gotoLocation(d,{range:x.range.selection,keyMods:p.keyMods,preserveFocus:P.inBackground}),P.inBackground||p.hide())})),w.add(p.onDidTriggerItemButton(({item:P})=>{P&&P.range&&(this.gotoLocation(d,{range:P.range.selection,keyMods:p.keyMods,forceSideBySide:!0}),p.hide())}));const E=this.getDocumentSymbols(l,m);let I;const M=P=>we(this,void 0,void 0,function*(){I?.dispose(!0),p.busy=!1,I=new k.CancellationTokenSource(m),p.busy=!0;try{const x=(0,S.prepareQuery)(p.value.substr(u.PREFIX.length).trim()),T=yield this.doGetSymbolPicks(E,x,void 0,I.token);if(m.isCancellationRequested)return;if(T.length>0){if(p.items=T,P&&x.original.length===0){const A=(0,a.findLast)(T,N=>!!(N.type!=="separator"&&N.range&&g.Range.containsPosition(N.range.decoration,P)));A&&(p.activeItems=[A])}}else x.original.length>0?this.provideLabelPick(p,(0,n.localize)(2,null)):this.provideLabelPick(p,(0,n.localize)(3,null))}finally{m.isCancellationRequested||(p.busy=!1)}});return w.add(p.onDidChangeValue(()=>M(void 0))),M((v=b.getSelection())===null||v===void 0?void 0:v.getPosition()),w.add(p.onDidChangeActive(()=>{const[P]=p.activeItems;P&&P.range&&(b.revealRangeInCenter(P.range.selection,0),this.addDecorations(b,P.range.decoration))})),w}doGetSymbolPicks(d,l,p,m){var v,b;return we(this,void 0,void 0,function*(){const w=yield d;if(m.isCancellationRequested)return[];const E=l.original.indexOf(u.SCOPE_PREFIX)===0,I=E?1:0;let M,P;l.values&&l.values.length>1?(M=(0,S.pieceToQuery)(l.values[0]),P=(0,S.pieceToQuery)(l.values.slice(1))):M=l;let x;const T=(b=(v=this.options)===null||v===void 0?void 0:v.openSideBySideDirection)===null||b===void 0?void 0:b.call(v);T&&(x=[{iconClass:T==="right"?D.ThemeIcon.asClassName(y.Codicon.splitHorizontal):D.ThemeIcon.asClassName(y.Codicon.splitVertical),tooltip:T==="right"?(0,n.localize)(4,null):(0,n.localize)(5,null)}]);const A=[];for(let O=0;O<w.length;O++){const W=w[O],U=(0,_.trim)(W.name),j=`$(${C.SymbolKinds.toIcon(W.kind).id}) ${U}`,R=j.length-U.length;let K=W.containerName;p?.extraContainerLabel&&(K?K=`${p.extraContainerLabel} \u2022 ${K}`:K=p.extraContainerLabel);let G,Z,J,X;if(l.original.length>I){let B=!1;if(M!==l&&([G,Z]=(0,S.scoreFuzzy2)(j,Object.assign(Object.assign({},l),{values:void 0}),I,R),typeof G=="number"&&(B=!0)),typeof G!="number"&&([G,Z]=(0,S.scoreFuzzy2)(j,M,I,R),typeof G!="number"))continue;if(!B&&P){if(K&&P.original.length>0&&([J,X]=(0,S.scoreFuzzy2)(K,P)),typeof J!="number")continue;typeof G=="number"&&(G+=J)}}const H=W.tags&&W.tags.indexOf(1)>=0;A.push({index:O,kind:W.kind,score:G,label:j,ariaLabel:(0,C.getAriaLabelForSymbol)(W.name,W.kind),description:K,highlights:H?void 0:{label:Z,description:X},range:{selection:g.Range.collapseToStart(W.selectionRange),decoration:W.range},strikethrough:H,buttons:x})}const N=A.sort((O,W)=>E?this.compareByKindAndScore(O,W):this.compareByScore(O,W));let F=[];if(E){let j=function(){W&&typeof O=="number"&&U>0&&(W.label=(0,_.format)(c[O]||r,U))},O,W,U=0;for(const R of N)O!==R.kind?(j(),O=R.kind,U=1,W={type:"separator"},F.push(W)):U++,F.push(R);j()}else N.length>0&&(F=[{label:(0,n.localize)(6,null,A.length),type:"separator"},...N]);return F})}compareByScore(d,l){if(typeof d.score!="number"&&typeof l.score=="number")return 1;if(typeof d.score=="number"&&typeof l.score!="number")return-1;if(typeof d.score=="number"&&typeof l.score=="number"){if(d.score>l.score)return-1;if(d.score<l.score)return 1}return d.index<l.index?-1:d.index>l.index?1:0}compareByKindAndScore(d,l){const p=c[d.kind]||r,m=c[l.kind]||r,v=p.localeCompare(m);return v===0?this.compareByScore(d,l):v}getDocumentSymbols(d,l){return we(this,void 0,void 0,function*(){const p=yield this._outlineModelService.getOrCreate(d,l);return l.isCancellationRequested?[]:p.asListOfDocumentSymbols()})}};e.AbstractGotoSymbolQuickAccessProvider=h,h.PREFIX="@",h.SCOPE_PREFIX=":",h.PREFIX_BY_CATEGORY=`${u.PREFIX}${u.SCOPE_PREFIX}`,e.AbstractGotoSymbolQuickAccessProvider=h=u=ke([fe(0,t.ILanguageFeaturesService),fe(1,s.IOutlineModelService)],h);const r=(0,n.localize)(7,null),c={[5]:(0,n.localize)(8,null),[11]:(0,n.localize)(9,null),[8]:(0,n.localize)(10,null),[12]:(0,n.localize)(11,null),[4]:(0,n.localize)(12,null),[22]:(0,n.localize)(13,null),[23]:(0,n.localize)(14,null),[24]:(0,n.localize)(15,null),[10]:(0,n.localize)(16,null),[2]:(0,n.localize)(17,null),[3]:(0,n.localize)(18,null),[25]:(0,n.localize)(19,null),[1]:(0,n.localize)(20,null),[6]:(0,n.localize)(21,null),[9]:(0,n.localize)(22,null),[21]:(0,n.localize)(23,null),[14]:(0,n.localize)(24,null),[0]:(0,n.localize)(25,null),[17]:(0,n.localize)(26,null),[15]:(0,n.localize)(27,null),[16]:(0,n.localize)(28,null),[18]:(0,n.localize)(29,null),[19]:(0,n.localize)(30,null),[7]:(0,n.localize)(31,null),[13]:(0,n.localize)(32,null)}}),define(ne[857],se([1,0,2,12,695,15,34,31,23,459]),function(Q,e,L,k,y,D,S,f,_){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.RenameInputField=e.CONTEXT_RENAME_INPUT_VISIBLE=void 0,e.CONTEXT_RENAME_INPUT_VISIBLE=new D.RawContextKey("renameInputVisible",!1,(0,y.localize)(0,null));let g=class{constructor(s,i,n,t,a){this._editor=s,this._acceptKeybindings=i,this._themeService=n,this._keybindingService=t,this._disposables=new L.DisposableStore,this.allowEditorOverflow=!0,this._visibleContextKey=e.CONTEXT_RENAME_INPUT_VISIBLE.bindTo(a),this._editor.addContentWidget(this),this._disposables.add(this._editor.onDidChangeConfiguration(u=>{u.hasChanged(49)&&this._updateFont()})),this._disposables.add(n.onDidColorThemeChange(this._updateStyles,this))}dispose(){this._disposables.dispose(),this._editor.removeContentWidget(this)}getId(){return"__renameInputWidget"}getDomNode(){return this._domNode||(this._domNode=document.createElement("div"),this._domNode.className="monaco-editor rename-box",this._input=document.createElement("input"),this._input.className="rename-input",this._input.type="text",this._input.setAttribute("aria-label",(0,y.localize)(1,null)),this._domNode.appendChild(this._input),this._label=document.createElement("div"),this._label.className="rename-label",this._domNode.appendChild(this._label),this._updateFont(),this._updateStyles(this._themeService.getColorTheme())),this._domNode}_updateStyles(s){var i,n,t,a;if(!this._input||!this._domNode)return;const u=s.getColor(f.widgetShadow),h=s.getColor(f.widgetBorder);this._domNode.style.backgroundColor=String((i=s.getColor(f.editorWidgetBackground))!==null&&i!==void 0?i:""),this._domNode.style.boxShadow=u?` 0 0 8px 2px ${u}`:"",this._domNode.style.border=h?`1px solid ${h}`:"",this._domNode.style.color=String((n=s.getColor(f.inputForeground))!==null&&n!==void 0?n:""),this._input.style.backgroundColor=String((t=s.getColor(f.inputBackground))!==null&&t!==void 0?t:"");const r=s.getColor(f.inputBorder);this._input.style.borderWidth=r?"1px":"0px",this._input.style.borderStyle=r?"solid":"none",this._input.style.borderColor=(a=r?.toString())!==null&&a!==void 0?a:"none"}_updateFont(){if(!this._input||!this._label)return;const s=this._editor.getOption(49);this._input.style.fontFamily=s.fontFamily,this._input.style.fontWeight=s.fontWeight,this._input.style.fontSize=`${s.fontSize}px`,this._label.style.fontSize=`${s.fontSize*.8}px`}getPosition(){return this._visible?{position:this._position,preference:[2,1]}:null}beforeRender(){var s,i;const[n,t]=this._acceptKeybindings;return this._label.innerText=(0,y.localize)(2,null,(s=this._keybindingService.lookupKeybinding(n))===null||s===void 0?void 0:s.getLabel(),(i=this._keybindingService.lookupKeybinding(t))===null||i===void 0?void 0:i.getLabel()),null}afterRender(s){s||this.cancelInput(!0)}acceptInput(s){var i;(i=this._currentAcceptInput)===null||i===void 0||i.call(this,s)}cancelInput(s){var i;(i=this._currentCancelInput)===null||i===void 0||i.call(this,s)}getInput(s,i,n,t,a,u){this._domNode.classList.toggle("preview",a),this._position=new k.Position(s.startLineNumber,s.startColumn),this._input.value=i,this._input.setAttribute("selectionStart",n.toString()),this._input.setAttribute("selectionEnd",t.toString()),this._input.size=Math.max((s.endColumn-s.startColumn)*1.1,20);const h=new L.DisposableStore;return new Promise(r=>{this._currentCancelInput=c=>(this._currentAcceptInput=void 0,this._currentCancelInput=void 0,r(c),!0),this._currentAcceptInput=c=>{if(this._input.value.trim().length===0||this._input.value===i){this.cancelInput(!0);return}this._currentAcceptInput=void 0,this._currentCancelInput=void 0,r({newName:this._input.value,wantsPreview:a&&c})},h.add(u.onCancellationRequested(()=>this.cancelInput(!0))),h.add(this._editor.onDidBlurEditorWidget(()=>this.cancelInput(!document.hasFocus()))),this._show()}).finally(()=>{h.dispose(),this._hide()})}_show(){this._editor.revealLineInCenterIfOutsideViewport(this._position.lineNumber,0),this._visible=!0,this._visibleContextKey.set(!0),this._editor.layoutContentWidget(this),setTimeout(()=>{this._input.focus(),this._input.setSelectionRange(parseInt(this._input.getAttribute("selectionStart")),parseInt(this._input.getAttribute("selectionEnd")))},100)}_hide(){this._visible=!1,this._visibleContextKey.reset(),this._editor.layoutContentWidget(this)}};e.RenameInputField=g,e.RenameInputField=g=ke([fe(2,_.IThemeService),fe(3,S.IKeybindingService),fe(4,D.IContextKeyService)],g)}),define(ne[858],se([1,0,49,13,19,9,2,20,22,104,16,132,33,12,5,21,187,190,694,98,15,8,70,43,77,37,857,18]),function(Q,e,L,k,y,D,S,f,_,g,C,s,i,n,t,a,u,h,r,c,o,d,l,p,m,v,b,w){"use strict";var E;Object.defineProperty(e,"__esModule",{value:!0}),e.RenameAction=e.rename=void 0;class I{constructor(N,F,O){this.model=N,this.position=F,this._providerRenameIdx=0,this._providers=O.ordered(N)}hasProvider(){return this._providers.length>0}resolveRenameLocation(N){return we(this,void 0,void 0,function*(){const F=[];for(this._providerRenameIdx=0;this._providerRenameIdx<this._providers.length;this._providerRenameIdx++){const W=this._providers[this._providerRenameIdx];if(!W.resolveRenameLocation)break;const U=yield W.resolveRenameLocation(this.model,this.position,N);if(U){if(U.rejectReason){F.push(U.rejectReason);continue}return U}}const O=this.model.getWordAtPosition(this.position);return O?{range:new t.Range(this.position.lineNumber,O.startColumn,this.position.lineNumber,O.endColumn),text:O.word,rejectReason:F.length>0?F.join(`
`):void 0}:{range:t.Range.fromPositions(this.position),text:"",rejectReason:F.length>0?F.join(`
`):void 0}})}provideRenameEdits(N,F){return we(this,void 0,void 0,function*(){return this._provideRenameEdits(N,this._providerRenameIdx,[],F)})}_provideRenameEdits(N,F,O,W){return we(this,void 0,void 0,function*(){const U=this._providers[F];if(!U)return{edits:[],rejectReason:O.join(`
`)};const j=yield U.provideRenameEdits(this.model,this.position,N,W);if(j){if(j.rejectReason)return this._provideRenameEdits(N,F+1,O.concat(j.rejectReason),W)}else return this._provideRenameEdits(N,F+1,O.concat(r.localize(0,null)),W);return j})}}function M(A,N,F,O){return we(this,void 0,void 0,function*(){const W=new I(N,F,A),U=yield W.resolveRenameLocation(y.CancellationToken.None);return U?.rejectReason?{edits:[],rejectReason:U.rejectReason}:W.provideRenameEdits(O,y.CancellationToken.None)})}e.rename=M;let P=E=class{static get(N){return N.getContribution(E.ID)}constructor(N,F,O,W,U,j,R,K){this.editor=N,this._instaService=F,this._notificationService=O,this._bulkEditService=W,this._progressService=U,this._logService=j,this._configService=R,this._languageFeaturesService=K,this._disposableStore=new S.DisposableStore,this._cts=new y.CancellationTokenSource,this._renameInputField=this._disposableStore.add(this._instaService.createInstance(b.RenameInputField,this.editor,["acceptRenameInput","acceptRenameInputWithPreview"]))}dispose(){this._disposableStore.dispose(),this._cts.dispose(!0)}run(){var N,F;return we(this,void 0,void 0,function*(){if(this._cts.dispose(!0),this._cts=new y.CancellationTokenSource,!this.editor.hasModel())return;const O=this.editor.getPosition(),W=new I(this.editor.getModel(),O,this._languageFeaturesService.renameProvider);if(!W.hasProvider())return;const U=new g.EditorStateCancellationTokenSource(this.editor,5,void 0,this._cts.token);let j;try{const B=W.resolveRenameLocation(U.token);this._progressService.showWhile(B,250),j=yield B}catch(B){(N=h.MessageController.get(this.editor))===null||N===void 0||N.showMessage(B||r.localize(1,null),O);return}finally{U.dispose()}if(!j)return;if(j.rejectReason){(F=h.MessageController.get(this.editor))===null||F===void 0||F.showMessage(j.rejectReason,O);return}if(U.token.isCancellationRequested)return;const R=new g.EditorStateCancellationTokenSource(this.editor,5,j.range,this._cts.token),K=this.editor.getSelection();let G=0,Z=j.text.length;!t.Range.isEmpty(K)&&!t.Range.spansMultipleLines(K)&&t.Range.containsRange(j.range,K)&&(G=Math.max(0,K.startColumn-j.range.startColumn),Z=Math.min(j.range.endColumn,K.endColumn)-j.range.startColumn);const J=this._bulkEditService.hasPreviewHandler()&&this._configService.getValue(this.editor.getModel().uri,"editor.rename.enablePreview"),X=yield this._renameInputField.getInput(j.range,j.text,G,Z,J,R.token);if(typeof X=="boolean"){X&&this.editor.focus(),R.dispose();return}this.editor.focus();const H=(0,k.raceCancellation)(W.provideRenameEdits(X.newName,R.token),R.token).then(B=>we(this,void 0,void 0,function*(){if(!(!B||!this.editor.hasModel())){if(B.rejectReason){this._notificationService.info(B.rejectReason);return}this.editor.setSelection(t.Range.fromPositions(this.editor.getSelection().getPosition())),this._bulkEditService.apply(B,{editor:this.editor,showPreview:X.wantsPreview,label:r.localize(2,null,j?.text,X.newName),code:"undoredo.rename",quotableLabel:r.localize(3,null,j?.text,X.newName),respectAutoSaveConfig:!0}).then(V=>{V.ariaSummary&&(0,L.alert)(r.localize(4,null,j.text,X.newName,V.ariaSummary))}).catch(V=>{this._notificationService.error(r.localize(5,null)),this._logService.error(V)})}}),B=>{this._notificationService.error(r.localize(6,null)),this._logService.error(B)}).finally(()=>{R.dispose()});return this._progressService.showWhile(H,250),H})}acceptRenameInput(N){this._renameInputField.acceptInput(N)}cancelRenameInput(){this._renameInputField.cancelInput(!0)}};P.ID="editor.contrib.renameController",P=E=ke([fe(1,d.IInstantiationService),fe(2,p.INotificationService),fe(3,s.IBulkEditService),fe(4,m.IEditorProgressService),fe(5,l.ILogService),fe(6,u.ITextResourceConfigurationService),fe(7,w.ILanguageFeaturesService)],P);class x extends C.EditorAction{constructor(){super({id:"editor.action.rename",label:r.localize(7,null),alias:"Rename Symbol",precondition:o.ContextKeyExpr.and(a.EditorContextKeys.writable,a.EditorContextKeys.hasRenameProvider),kbOpts:{kbExpr:a.EditorContextKeys.editorTextFocus,primary:60,weight:100},contextMenuOpts:{group:"1_modification",order:1.1}})}runCommand(N,F){const O=N.get(i.ICodeEditorService),[W,U]=Array.isArray(F)&&F||[void 0,void 0];return _.URI.isUri(W)&&n.Position.isIPosition(U)?O.openCodeEditor({resource:W},O.getActiveCodeEditor()).then(j=>{j&&(j.setPosition(U),j.invokeWithinContext(R=>(this.reportTelemetry(R,j),this.run(R,j))))},D.onUnexpectedError):super.runCommand(N,F)}run(N,F){const O=P.get(F);return O?O.run():Promise.resolve()}}e.RenameAction=x,(0,C.registerEditorContribution)(P.ID,P,4),(0,C.registerEditorAction)(x);const T=C.EditorCommand.bindToContribution(P.get);(0,C.registerEditorCommand)(new T({id:"acceptRenameInput",precondition:b.CONTEXT_RENAME_INPUT_VISIBLE,handler:A=>A.acceptRenameInput(!1),kbOpts:{weight:100+99,kbExpr:o.ContextKeyExpr.and(a.EditorContextKeys.focus,o.ContextKeyExpr.not("isComposing")),primary:3}})),(0,C.registerEditorCommand)(new T({id:"acceptRenameInputWithPreview",precondition:o.ContextKeyExpr.and(b.CONTEXT_RENAME_INPUT_VISIBLE,o.ContextKeyExpr.has("config.editor.rename.enablePreview")),handler:A=>A.acceptRenameInput(!0),kbOpts:{weight:100+99,kbExpr:o.ContextKeyExpr.and(a.EditorContextKeys.focus,o.ContextKeyExpr.not("isComposing")),primary:1024+3}})),(0,C.registerEditorCommand)(new T({id:"cancelRenameInput",precondition:b.CONTEXT_RENAME_INPUT_VISIBLE,handler:A=>A.cancelRenameInput(),kbOpts:{weight:100+99,kbExpr:a.EditorContextKeys.focus,primary:9,secondary:[1033]}})),(0,C.registerModelAndPositionCommand)("_executeDocumentRenameProvider",function(A,N,F,...O){const[W]=O;(0,f.assertType)(typeof W=="string");const{renameProvider:U}=A.get(w.ILanguageFeaturesService);return M(U,N,F,W)}),(0,C.registerModelAndPositionCommand)("_executePrepareRename",function(A,N,F){return we(this,void 0,void 0,function*(){const{renameProvider:O}=A.get(w.ILanguageFeaturesService),U=yield new I(N,F,O).resolveRenameLocation(y.CancellationToken.None);if(U?.rejectReason)throw new Error(U.rejectReason);return U})}),v.Registry.as(c.Extensions.Configuration).registerConfiguration({id:"editor",properties:{"editor.rename.enablePreview":{scope:5,description:r.localize(8,null),default:!0,type:"boolean"}}})}),define(ne[859],se([1,0,2,9,51,28,13,19,23,252,333,76,58,18,234,149,297]),function(Q,e,L,k,y,D,S,f,_,g,C,s,i,n,t,a,u){"use strict";var h;Object.defineProperty(e,"__esModule",{value:!0}),e.DocumentSemanticTokensFeature=void 0;let r=class extends L.Disposable{constructor(l,p,m,v,b,w){super(),this._watchers=Object.create(null);const E=P=>{this._watchers[P.uri.toString()]=new c(P,l,m,b,w)},I=(P,x)=>{x.dispose(),delete this._watchers[P.uri.toString()]},M=()=>{for(const P of p.getModels()){const x=this._watchers[P.uri.toString()];(0,u.isSemanticColoringEnabled)(P,m,v)?x||E(P):x&&I(P,x)}};this._register(p.onModelAdded(P=>{(0,u.isSemanticColoringEnabled)(P,m,v)&&E(P)})),this._register(p.onModelRemoved(P=>{const x=this._watchers[P.uri.toString()];x&&I(P,x)})),this._register(v.onDidChangeConfiguration(P=>{P.affectsConfiguration(u.SEMANTIC_HIGHLIGHTING_SETTING_ID)&&M()})),this._register(m.onDidColorThemeChange(M))}dispose(){for(const l of Object.values(this._watchers))l.dispose();super.dispose()}};e.DocumentSemanticTokensFeature=r,e.DocumentSemanticTokensFeature=r=ke([fe(0,t.ISemanticTokensStylingService),fe(1,y.IModelService),fe(2,_.IThemeService),fe(3,D.IConfigurationService),fe(4,s.ILanguageFeatureDebounceService),fe(5,n.ILanguageFeaturesService)],r);let c=h=class extends L.Disposable{constructor(l,p,m,v,b){super(),this._semanticTokensStylingService=p,this._isDisposed=!1,this._model=l,this._provider=b.documentSemanticTokensProvider,this._debounceInformation=v.for(this._provider,"DocumentSemanticTokens",{min:h.REQUEST_MIN_DELAY,max:h.REQUEST_MAX_DELAY}),this._fetchDocumentSemanticTokens=this._register(new S.RunOnceScheduler(()=>this._fetchDocumentSemanticTokensNow(),h.REQUEST_MIN_DELAY)),this._currentDocumentResponse=null,this._currentDocumentRequestCancellationTokenSource=null,this._documentProvidersChangeListeners=[],this._providersChangedDuringRequest=!1,this._register(this._model.onDidChangeContent(()=>{this._fetchDocumentSemanticTokens.isScheduled()||this._fetchDocumentSemanticTokens.schedule(this._debounceInformation.get(this._model))})),this._register(this._model.onDidChangeAttached(()=>{this._fetchDocumentSemanticTokens.isScheduled()||this._fetchDocumentSemanticTokens.schedule(this._debounceInformation.get(this._model))})),this._register(this._model.onDidChangeLanguage(()=>{this._currentDocumentResponse&&(this._currentDocumentResponse.dispose(),this._currentDocumentResponse=null),this._currentDocumentRequestCancellationTokenSource&&(this._currentDocumentRequestCancellationTokenSource.cancel(),this._currentDocumentRequestCancellationTokenSource=null),this._setDocumentSemanticTokens(null,null,null,[]),this._fetchDocumentSemanticTokens.schedule(0)}));const w=()=>{(0,L.dispose)(this._documentProvidersChangeListeners),this._documentProvidersChangeListeners=[];for(const E of this._provider.all(l))typeof E.onDidChange=="function"&&this._documentProvidersChangeListeners.push(E.onDidChange(()=>{if(this._currentDocumentRequestCancellationTokenSource){this._providersChangedDuringRequest=!0;return}this._fetchDocumentSemanticTokens.schedule(0)}))};w(),this._register(this._provider.onDidChange(()=>{w(),this._fetchDocumentSemanticTokens.schedule(this._debounceInformation.get(this._model))})),this._register(m.onDidColorThemeChange(E=>{this._setDocumentSemanticTokens(null,null,null,[]),this._fetchDocumentSemanticTokens.schedule(this._debounceInformation.get(this._model))})),this._fetchDocumentSemanticTokens.schedule(0)}dispose(){this._currentDocumentResponse&&(this._currentDocumentResponse.dispose(),this._currentDocumentResponse=null),this._currentDocumentRequestCancellationTokenSource&&(this._currentDocumentRequestCancellationTokenSource.cancel(),this._currentDocumentRequestCancellationTokenSource=null),(0,L.dispose)(this._documentProvidersChangeListeners),this._documentProvidersChangeListeners=[],this._setDocumentSemanticTokens(null,null,null,[]),this._isDisposed=!0,super.dispose()}_fetchDocumentSemanticTokensNow(){if(this._currentDocumentRequestCancellationTokenSource)return;if(!(0,C.hasDocumentSemanticTokensProvider)(this._provider,this._model)){this._currentDocumentResponse&&this._model.tokenization.setSemanticTokens(null,!1);return}if(!this._model.isAttachedToEditor())return;const l=new f.CancellationTokenSource,p=this._currentDocumentResponse?this._currentDocumentResponse.provider:null,m=this._currentDocumentResponse&&this._currentDocumentResponse.resultId||null,v=(0,C.getDocumentSemanticTokens)(this._provider,this._model,p,m,l.token);this._currentDocumentRequestCancellationTokenSource=l,this._providersChangedDuringRequest=!1;const b=[],w=this._model.onDidChangeContent(I=>{b.push(I)}),E=new i.StopWatch(!1);v.then(I=>{if(this._debounceInformation.update(this._model,E.elapsed()),this._currentDocumentRequestCancellationTokenSource=null,w.dispose(),!I)this._setDocumentSemanticTokens(null,null,null,b);else{const{provider:M,tokens:P}=I,x=this._semanticTokensStylingService.getStyling(M);this._setDocumentSemanticTokens(M,P||null,x,b)}},I=>{I&&(k.isCancellationError(I)||typeof I.message=="string"&&I.message.indexOf("busy")!==-1)||k.onUnexpectedError(I),this._currentDocumentRequestCancellationTokenSource=null,w.dispose(),(b.length>0||this._providersChangedDuringRequest)&&(this._fetchDocumentSemanticTokens.isScheduled()||this._fetchDocumentSemanticTokens.schedule(this._debounceInformation.get(this._model)))})}static _copy(l,p,m,v,b){b=Math.min(b,m.length-v,l.length-p);for(let w=0;w<b;w++)m[v+w]=l[p+w]}_setDocumentSemanticTokens(l,p,m,v){const b=this._currentDocumentResponse,w=()=>{(v.length>0||this._providersChangedDuringRequest)&&!this._fetchDocumentSemanticTokens.isScheduled()&&this._fetchDocumentSemanticTokens.schedule(this._debounceInformation.get(this._model))};if(this._currentDocumentResponse&&(this._currentDocumentResponse.dispose(),this._currentDocumentResponse=null),this._isDisposed){l&&p&&l.releaseDocumentSemanticTokens(p.resultId);return}if(!l||!m){this._model.tokenization.setSemanticTokens(null,!1);return}if(!p){this._model.tokenization.setSemanticTokens(null,!0),w();return}if((0,C.isSemanticTokensEdits)(p)){if(!b){this._model.tokenization.setSemanticTokens(null,!0);return}if(p.edits.length===0)p={resultId:p.resultId,data:b.data};else{let E=0;for(const T of p.edits)E+=(T.data?T.data.length:0)-T.deleteCount;const I=b.data,M=new Uint32Array(I.length+E);let P=I.length,x=M.length;for(let T=p.edits.length-1;T>=0;T--){const A=p.edits[T];if(A.start>I.length){m.warnInvalidEditStart(b.resultId,p.resultId,T,A.start,I.length),this._model.tokenization.setSemanticTokens(null,!0);return}const N=P-(A.start+A.deleteCount);N>0&&(h._copy(I,P-N,M,x-N,N),x-=N),A.data&&(h._copy(A.data,0,M,x-A.data.length,A.data.length),x-=A.data.length),P=A.start}P>0&&h._copy(I,0,M,0,P),p={resultId:p.resultId,data:M}}}if((0,C.isSemanticTokens)(p)){this._currentDocumentResponse=new o(l,p.resultId,p.data);const E=(0,g.toMultilineTokens2)(p,m,this._model.getLanguageId());if(v.length>0)for(const I of v)for(const M of E)for(const P of I.changes)M.applyEdit(P.range,P.text);this._model.tokenization.setSemanticTokens(E,!0)}else this._model.tokenization.setSemanticTokens(null,!0);w()}};c.REQUEST_MIN_DELAY=300,c.REQUEST_MAX_DELAY=2e3,c=h=ke([fe(1,t.ISemanticTokensStylingService),fe(2,_.IThemeService),fe(3,s.ILanguageFeatureDebounceService),fe(4,n.ILanguageFeaturesService)],c);class o{constructor(l,p,m){this.provider=l,this.resultId=p,this.data=m}dispose(){this.provider.releaseDocumentSemanticTokens(this.resultId)}}(0,a.registerEditorFeature)(r)}),define(ne[860],se([1,0,13,2,16,333,297,252,28,23,76,58,18,234]),function(Q,e,L,k,y,D,S,f,_,g,C,s,i,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ViewportSemanticTokensContribution=void 0;let t=class extends k.Disposable{constructor(u,h,r,c,o,d){super(),this._semanticTokensStylingService=h,this._themeService=r,this._configurationService=c,this._editor=u,this._provider=d.documentRangeSemanticTokensProvider,this._debounceInformation=o.for(this._provider,"DocumentRangeSemanticTokens",{min:100,max:500}),this._tokenizeViewport=this._register(new L.RunOnceScheduler(()=>this._tokenizeViewportNow(),100)),this._outstandingRequests=[];const l=()=>{this._editor.hasModel()&&this._tokenizeViewport.schedule(this._debounceInformation.get(this._editor.getModel()))};this._register(this._editor.onDidScrollChange(()=>{l()})),this._register(this._editor.onDidChangeModel(()=>{this._cancelAll(),l()})),this._register(this._editor.onDidChangeModelContent(p=>{this._cancelAll(),l()})),this._register(this._provider.onDidChange(()=>{this._cancelAll(),l()})),this._register(this._configurationService.onDidChangeConfiguration(p=>{p.affectsConfiguration(S.SEMANTIC_HIGHLIGHTING_SETTING_ID)&&(this._cancelAll(),l())})),this._register(this._themeService.onDidColorThemeChange(()=>{this._cancelAll(),l()})),l()}_cancelAll(){for(const u of this._outstandingRequests)u.cancel();this._outstandingRequests=[]}_removeOutstandingRequest(u){for(let h=0,r=this._outstandingRequests.length;h<r;h++)if(this._outstandingRequests[h]===u){this._outstandingRequests.splice(h,1);return}}_tokenizeViewportNow(){if(!this._editor.hasModel())return;const u=this._editor.getModel();if(u.tokenization.hasCompleteSemanticTokens())return;if(!(0,S.isSemanticColoringEnabled)(u,this._themeService,this._configurationService)){u.tokenization.hasSomeSemanticTokens()&&u.tokenization.setSemanticTokens(null,!1);return}if(!(0,D.hasDocumentRangeSemanticTokensProvider)(this._provider,u)){u.tokenization.hasSomeSemanticTokens()&&u.tokenization.setSemanticTokens(null,!1);return}const h=this._editor.getVisibleRangesPlusViewportAboveBelow();this._outstandingRequests=this._outstandingRequests.concat(h.map(r=>this._requestRange(u,r)))}_requestRange(u,h){const r=u.getVersionId(),c=(0,L.createCancelablePromise)(d=>Promise.resolve((0,D.getDocumentRangeSemanticTokens)(this._provider,u,h,d))),o=new s.StopWatch(!1);return c.then(d=>{if(this._debounceInformation.update(u,o.elapsed()),!d||!d.tokens||u.isDisposed()||u.getVersionId()!==r)return;const{provider:l,tokens:p}=d,m=this._semanticTokensStylingService.getStyling(l);u.tokenization.setPartialSemanticTokens(h,(0,f.toMultilineTokens2)(p,m,u.getLanguageId()))}).then(()=>this._removeOutstandingRequest(c),()=>this._removeOutstandingRequest(c)),c}};e.ViewportSemanticTokensContribution=t,t.ID="editor.contrib.viewportSemanticTokens",e.ViewportSemanticTokensContribution=t=ke([fe(1,n.ISemanticTokensStylingService),fe(2,g.IThemeService),fe(3,_.IConfigurationService),fe(4,C.ILanguageFeatureDebounceService),fe(5,i.ILanguageFeaturesService)],t),(0,y.registerEditorContribution)(t.ID,t,1)}),define(ne[861],se([1,0,7,226,25,26,6,72,2,22,29,775,51,41,704,330,62,23,344]),function(Q,e,L,k,y,D,S,f,_,g,C,s,i,n,t,a,u,h,r){"use strict";var c;Object.defineProperty(e,"__esModule",{value:!0}),e.ItemRenderer=e.getAriaId=void 0;function o(v){return`suggest-aria-id:${v}`}e.getAriaId=o;const d=(0,u.registerIcon)("suggest-more-info",y.Codicon.chevronRight,t.localize(0,null)),l=new(c=class{extract(b,w){if(b.textLabel.match(c._regexStrict))return w[0]=b.textLabel,!0;if(b.completion.detail&&b.completion.detail.match(c._regexStrict))return w[0]=b.completion.detail,!0;if(typeof b.completion.documentation=="string"){const E=c._regexRelaxed.exec(b.completion.documentation);if(E&&(E.index===0||E.index+E[0].length===b.completion.documentation.length))return w[0]=E[0],!0}return!1}},c._regexRelaxed=/(#([\da-fA-F]{3}){1,2}|(rgb|hsl)a\(\s*(\d{1,3}%?\s*,\s*){3}(1|0?\.\d+)\)|(rgb|hsl)\(\s*\d{1,3}%?(\s*,\s*\d{1,3}%?){2}\s*\))/,c._regexStrict=new RegExp(`^${c._regexRelaxed.source}$`,"i"),c);let p=class{constructor(b,w,E,I){this._editor=b,this._modelService=w,this._languageService=E,this._themeService=I,this._onDidToggleDetails=new S.Emitter,this.onDidToggleDetails=this._onDidToggleDetails.event,this.templateId="suggestion"}dispose(){this._onDidToggleDetails.dispose()}renderTemplate(b){const w=new _.DisposableStore,E=b;E.classList.add("show-file-icons");const I=(0,L.append)(b,(0,L.$)(".icon")),M=(0,L.append)(I,(0,L.$)("span.colorspan")),P=(0,L.append)(b,(0,L.$)(".contents")),x=(0,L.append)(P,(0,L.$)(".main")),T=(0,L.append)(x,(0,L.$)(".icon-label.codicon")),A=(0,L.append)(x,(0,L.$)("span.left")),N=(0,L.append)(x,(0,L.$)("span.right")),F=new k.IconLabel(A,{supportHighlights:!0,supportIcons:!0});w.add(F);const O=(0,L.append)(A,(0,L.$)("span.signature-label")),W=(0,L.append)(A,(0,L.$)("span.qualifier-label")),U=(0,L.append)(N,(0,L.$)("span.details-label")),j=(0,L.append)(N,(0,L.$)("span.readMore"+D.ThemeIcon.asCSSSelector(d)));j.title=t.localize(1,null);const R=()=>{const K=this._editor.getOptions(),G=K.get(49),Z=G.getMassagedFontFamily(),J=G.fontFeatureSettings,X=K.get(117)||G.fontSize,H=K.get(118)||G.lineHeight,B=G.fontWeight,V=G.letterSpacing,Y=`${X}px`,ie=`${H}px`,ae=`${V}px`;E.style.fontSize=Y,E.style.fontWeight=B,E.style.letterSpacing=ae,x.style.fontFamily=Z,x.style.fontFeatureSettings=J,x.style.lineHeight=ie,I.style.height=ie,I.style.width=ie,j.style.height=ie,j.style.width=ie};return R(),w.add(this._editor.onDidChangeConfiguration(K=>{(K.hasChanged(49)||K.hasChanged(117)||K.hasChanged(118))&&R()})),{root:E,left:A,right:N,icon:I,colorspan:M,iconLabel:F,iconContainer:T,parametersLabel:O,qualifierLabel:W,detailsLabel:U,readMore:j,disposables:w}}renderElement(b,w,E){const{completion:I}=b;E.root.id=o(w),E.colorspan.style.backgroundColor="";const M={labelEscapeNewLines:!0,matches:(0,f.createMatches)(b.score)},P=[];if(I.kind===19&&l.extract(b,P))E.icon.className="icon customcolor",E.iconContainer.className="icon hide",E.colorspan.style.backgroundColor=P[0];else if(I.kind===20&&this._themeService.getFileIconTheme().hasFileIcons){E.icon.className="icon hide",E.iconContainer.className="icon hide";const x=(0,s.getIconClasses)(this._modelService,this._languageService,g.URI.from({scheme:"fake",path:b.textLabel}),a.FileKind.FILE),T=(0,s.getIconClasses)(this._modelService,this._languageService,g.URI.from({scheme:"fake",path:I.detail}),a.FileKind.FILE);M.extraClasses=x.length>T.length?x:T}else I.kind===23&&this._themeService.getFileIconTheme().hasFolderIcons?(E.icon.className="icon hide",E.iconContainer.className="icon hide",M.extraClasses=[(0,s.getIconClasses)(this._modelService,this._languageService,g.URI.from({scheme:"fake",path:b.textLabel}),a.FileKind.FOLDER),(0,s.getIconClasses)(this._modelService,this._languageService,g.URI.from({scheme:"fake",path:I.detail}),a.FileKind.FOLDER)].flat()):(E.icon.className="icon hide",E.iconContainer.className="",E.iconContainer.classList.add("suggest-icon",...D.ThemeIcon.asClassNameArray(C.CompletionItemKinds.toIcon(I.kind))));I.tags&&I.tags.indexOf(1)>=0&&(M.extraClasses=(M.extraClasses||[]).concat(["deprecated"]),M.matches=[]),E.iconLabel.setLabel(b.textLabel,void 0,M),typeof I.label=="string"?(E.parametersLabel.textContent="",E.detailsLabel.textContent=m(I.detail||""),E.root.classList.add("string-label")):(E.parametersLabel.textContent=m(I.label.detail||""),E.detailsLabel.textContent=m(I.label.description||""),E.root.classList.remove("string-label")),this._editor.getOption(116).showInlineDetails?(0,L.show)(E.detailsLabel):(0,L.hide)(E.detailsLabel),(0,r.canExpandCompletionItem)(b)?(E.right.classList.add("can-expand-details"),(0,L.show)(E.readMore),E.readMore.onmousedown=x=>{x.stopPropagation(),x.preventDefault()},E.readMore.onclick=x=>{x.stopPropagation(),x.preventDefault(),this._onDidToggleDetails.fire()}):(E.right.classList.remove("can-expand-details"),(0,L.hide)(E.readMore),E.readMore.onmousedown=null,E.readMore.onclick=null)}disposeTemplate(b){b.disposables.dispose()}};e.ItemRenderer=p,e.ItemRenderer=p=ke([fe(1,i.IModelService),fe(2,n.ILanguageService),fe(3,h.IThemeService)],p);function m(v){return v.replace(/\r\n|\r|\n/g,"")}}),define(ne[862],se([1,0,855,37,136,33,94,6,16,21,71]),function(Q,e,L,k,y,D,S,f,_,g,C){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.GotoLineAction=e.StandaloneGotoLineQuickAccessProvider=void 0;let s=class extends L.AbstractGotoLineQuickAccessProvider{constructor(t){super(),this.editorService=t,this.onDidActiveTextEditorControlChange=f.Event.None}get activeTextEditorControl(){var t;return(t=this.editorService.getFocusedCodeEditor())!==null&&t!==void 0?t:void 0}};e.StandaloneGotoLineQuickAccessProvider=s,e.StandaloneGotoLineQuickAccessProvider=s=ke([fe(0,D.ICodeEditorService)],s);class i extends _.EditorAction{constructor(){super({id:i.ID,label:S.GoToLineNLS.gotoLineActionLabel,alias:"Go to Line/Column...",precondition:void 0,kbOpts:{kbExpr:g.EditorContextKeys.focus,primary:2085,mac:{primary:293},weight:100}})}run(t){t.get(C.IQuickInputService).quickAccess.show(s.PREFIX)}}e.GotoLineAction=i,i.ID="editor.action.gotoLine",(0,_.registerEditorAction)(i),k.Registry.as(y.Extensions.Quickaccess).registerQuickAccessProvider({ctor:s,prefix:s.PREFIX,helpEntries:[{description:S.GoToLineNLS.gotoLineActionLabel,commandId:i.ID}]})}),define(ne[863],se([1,0,856,37,136,33,94,6,16,21,71,188,18,172,249]),function(Q,e,L,k,y,D,S,f,_,g,C,s,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.GotoSymbolAction=e.StandaloneGotoSymbolQuickAccessProvider=void 0;let n=class extends L.AbstractGotoSymbolQuickAccessProvider{constructor(u,h,r){super(h,r),this.editorService=u,this.onDidActiveTextEditorControlChange=f.Event.None}get activeTextEditorControl(){var u;return(u=this.editorService.getFocusedCodeEditor())!==null&&u!==void 0?u:void 0}};e.StandaloneGotoSymbolQuickAccessProvider=n,e.StandaloneGotoSymbolQuickAccessProvider=n=ke([fe(0,D.ICodeEditorService),fe(1,i.ILanguageFeaturesService),fe(2,s.IOutlineModelService)],n);class t extends _.EditorAction{constructor(){super({id:t.ID,label:S.QuickOutlineNLS.quickOutlineActionLabel,alias:"Go to Symbol...",precondition:g.EditorContextKeys.hasDocumentSymbolProvider,kbOpts:{kbExpr:g.EditorContextKeys.focus,primary:3117,weight:100},contextMenuOpts:{group:"navigation",order:3}})}run(u){u.get(C.IQuickInputService).quickAccess.show(L.AbstractGotoSymbolQuickAccessProvider.PREFIX,{itemActivation:C.ItemActivation.NONE})}}e.GotoSymbolAction=t,t.ID="editor.action.quickOutline",(0,_.registerEditorAction)(t),k.Registry.as(y.Extensions.Quickaccess).registerQuickAccessProvider({ctor:n,prefix:L.AbstractGotoSymbolQuickAccessProvider.PREFIX,helpEntries:[{description:S.QuickOutlineNLS.quickOutlineActionLabel,prefix:L.AbstractGotoSymbolQuickAccessProvider.PREFIX,commandId:t.ID},{description:S.QuickOutlineNLS.quickOutlineByCategoryActionLabel,prefix:L.AbstractGotoSymbolQuickAccessProvider.PREFIX_BY_CATEGORY}]})}),define(ne[360],se([1,0,7,54,841,33,15,50,23]),function(Q,e,L,k,y,D,S,f,_){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.StandaloneCodeEditorService=void 0;let g=class extends y.AbstractCodeEditorService{constructor(s,i){super(i),this.onCodeEditorAdd(()=>this._checkContextKey()),this.onCodeEditorRemove(()=>this._checkContextKey()),this._editorIsOpen=s.createKey("editorIsOpen",!1),this._activeCodeEditor=null,this.registerCodeEditorOpenHandler((n,t,a)=>we(this,void 0,void 0,function*(){return t?this.doOpenEditor(t,n):null}))}_checkContextKey(){let s=!1;for(const i of this.listCodeEditors())if(!i.isSimpleWidget){s=!0;break}this._editorIsOpen.set(s)}setActiveCodeEditor(s){this._activeCodeEditor=s}getActiveCodeEditor(){return this._activeCodeEditor}doOpenEditor(s,i){if(!this.findModel(s,i.resource)){if(i.resource){const a=i.resource.scheme;if(a===k.Schemas.http||a===k.Schemas.https)return(0,L.windowOpenNoOpener)(i.resource.toString()),s}return null}const t=i.options?i.options.selection:null;if(t)if(typeof t.endLineNumber=="number"&&typeof t.endColumn=="number")s.setSelection(t),s.revealRangeInCenter(t,1);else{const a={lineNumber:t.startLineNumber,column:t.startColumn};s.setPosition(a),s.revealPositionInCenter(a,1)}return s}findModel(s,i){const n=s.getModel();return n&&n.uri.toString()!==i.toString()?null:n}};e.StandaloneCodeEditorService=g,e.StandaloneCodeEditorService=g=ke([fe(0,S.IContextKeyService),fe(1,_.IThemeService)],g),(0,f.registerSingleton)(D.ICodeEditorService,g,0)}),define(ne[864],se([1,0,80,31]),function(Q,e,L,k){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.hc_light=e.hc_black=e.vs_dark=e.vs=void 0,e.vs={base:"vs",inherit:!1,rules:[{token:"",foreground:"000000",background:"fffffe"},{token:"invalid",foreground:"cd3131"},{token:"emphasis",fontStyle:"italic"},{token:"strong",fontStyle:"bold"},{token:"variable",foreground:"001188"},{token:"variable.predefined",foreground:"4864AA"},{token:"constant",foreground:"dd0000"},{token:"comment",foreground:"008000"},{token:"number",foreground:"098658"},{token:"number.hex",foreground:"3030c0"},{token:"regexp",foreground:"800000"},{token:"annotation",foreground:"808080"},{token:"type",foreground:"008080"},{token:"delimiter",foreground:"000000"},{token:"delimiter.html",foreground:"383838"},{token:"delimiter.xml",foreground:"0000FF"},{token:"tag",foreground:"800000"},{token:"tag.id.pug",foreground:"4F76AC"},{token:"tag.class.pug",foreground:"4F76AC"},{token:"meta.scss",foreground:"800000"},{token:"metatag",foreground:"e00000"},{token:"metatag.content.html",foreground:"FF0000"},{token:"metatag.html",foreground:"808080"},{token:"metatag.xml",foreground:"808080"},{token:"metatag.php",fontStyle:"bold"},{token:"key",foreground:"863B00"},{token:"string.key.json",foreground:"A31515"},{token:"string.value.json",foreground:"0451A5"},{token:"attribute.name",foreground:"FF0000"},{token:"attribute.value",foreground:"0451A5"},{token:"attribute.value.number",foreground:"098658"},{token:"attribute.value.unit",foreground:"098658"},{token:"attribute.value.html",foreground:"0000FF"},{token:"attribute.value.xml",foreground:"0000FF"},{token:"string",foreground:"A31515"},{token:"string.html",foreground:"0000FF"},{token:"string.sql",foreground:"FF0000"},{token:"string.yaml",foreground:"0451A5"},{token:"keyword",foreground:"0000FF"},{token:"keyword.json",foreground:"0451A5"},{token:"keyword.flow",foreground:"AF00DB"},{token:"keyword.flow.scss",foreground:"0000FF"},{token:"operator.scss",foreground:"666666"},{token:"operator.sql",foreground:"778899"},{token:"operator.swift",foreground:"666666"},{token:"predefined.sql",foreground:"C700C7"}],colors:{[k.editorBackground]:"#FFFFFE",[k.editorForeground]:"#000000",[k.editorInactiveSelection]:"#E5EBF1",[L.editorIndentGuide1]:"#D3D3D3",[L.editorActiveIndentGuide1]:"#939393",[k.editorSelectionHighlight]:"#ADD6FF4D"}},e.vs_dark={base:"vs-dark",inherit:!1,rules:[{token:"",foreground:"D4D4D4",background:"1E1E1E"},{token:"invalid",foreground:"f44747"},{token:"emphasis",fontStyle:"italic"},{token:"strong",fontStyle:"bold"},{token:"variable",foreground:"74B0DF"},{token:"variable.predefined",foreground:"4864AA"},{token:"variable.parameter",foreground:"9CDCFE"},{token:"constant",foreground:"569CD6"},{token:"comment",foreground:"608B4E"},{token:"number",foreground:"B5CEA8"},{token:"number.hex",foreground:"5BB498"},{token:"regexp",foreground:"B46695"},{token:"annotation",foreground:"cc6666"},{token:"type",foreground:"3DC9B0"},{token:"delimiter",foreground:"DCDCDC"},{token:"delimiter.html",foreground:"808080"},{token:"delimiter.xml",foreground:"808080"},{token:"tag",foreground:"569CD6"},{token:"tag.id.pug",foreground:"4F76AC"},{token:"tag.class.pug",foreground:"4F76AC"},{token:"meta.scss",foreground:"A79873"},{token:"meta.tag",foreground:"CE9178"},{token:"metatag",foreground:"DD6A6F"},{token:"metatag.content.html",foreground:"9CDCFE"},{token:"metatag.html",foreground:"569CD6"},{token:"metatag.xml",foreground:"569CD6"},{token:"metatag.php",fontStyle:"bold"},{token:"key",foreground:"9CDCFE"},{token:"string.key.json",foreground:"9CDCFE"},{token:"string.value.json",foreground:"CE9178"},{token:"attribute.name",foreground:"9CDCFE"},{token:"attribute.value",foreground:"CE9178"},{token:"attribute.value.number.css",foreground:"B5CEA8"},{token:"attribute.value.unit.css",foreground:"B5CEA8"},{token:"attribute.value.hex.css",foreground:"D4D4D4"},{token:"string",foreground:"CE9178"},{token:"string.sql",foreground:"FF0000"},{token:"keyword",foreground:"569CD6"},{token:"keyword.flow",foreground:"C586C0"},{token:"keyword.json",foreground:"CE9178"},{token:"keyword.flow.scss",foreground:"569CD6"},{token:"operator.scss",foreground:"909090"},{token:"operator.sql",foreground:"778899"},{token:"operator.swift",foreground:"909090"},{token:"predefined.sql",foreground:"FF00FF"}],colors:{[k.editorBackground]:"#1E1E1E",[k.editorForeground]:"#D4D4D4",[k.editorInactiveSelection]:"#3A3D41",[L.editorIndentGuide1]:"#404040",[L.editorActiveIndentGuide1]:"#707070",[k.editorSelectionHighlight]:"#ADD6FF26"}},e.hc_black={base:"hc-black",inherit:!1,rules:[{token:"",foreground:"FFFFFF",background:"000000"},{token:"invalid",foreground:"f44747"},{token:"emphasis",fontStyle:"italic"},{token:"strong",fontStyle:"bold"},{token:"variable",foreground:"1AEBFF"},{token:"variable.parameter",foreground:"9CDCFE"},{token:"constant",foreground:"569CD6"},{token:"comment",foreground:"608B4E"},{token:"number",foreground:"FFFFFF"},{token:"regexp",foreground:"C0C0C0"},{token:"annotation",foreground:"569CD6"},{token:"type",foreground:"3DC9B0"},{token:"delimiter",foreground:"FFFF00"},{token:"delimiter.html",foreground:"FFFF00"},{token:"tag",foreground:"569CD6"},{token:"tag.id.pug",foreground:"4F76AC"},{token:"tag.class.pug",foreground:"4F76AC"},{token:"meta",foreground:"D4D4D4"},{token:"meta.tag",foreground:"CE9178"},{token:"metatag",foreground:"569CD6"},{token:"metatag.content.html",foreground:"1AEBFF"},{token:"metatag.html",foreground:"569CD6"},{token:"metatag.xml",foreground:"569CD6"},{token:"metatag.php",fontStyle:"bold"},{token:"key",foreground:"9CDCFE"},{token:"string.key",foreground:"9CDCFE"},{token:"string.value",foreground:"CE9178"},{token:"attribute.name",foreground:"569CD6"},{token:"attribute.value",foreground:"3FF23F"},{token:"string",foreground:"CE9178"},{token:"string.sql",foreground:"FF0000"},{token:"keyword",foreground:"569CD6"},{token:"keyword.flow",foreground:"C586C0"},{token:"operator.sql",foreground:"778899"},{token:"operator.swift",foreground:"909090"},{token:"predefined.sql",foreground:"FF00FF"}],colors:{[k.editorBackground]:"#000000",[k.editorForeground]:"#FFFFFF",[L.editorIndentGuide1]:"#FFFFFF",[L.editorActiveIndentGuide1]:"#FFFFFF"}},e.hc_light={base:"hc-light",inherit:!1,rules:[{token:"",foreground:"292929",background:"FFFFFF"},{token:"invalid",foreground:"B5200D"},{token:"emphasis",fontStyle:"italic"},{token:"strong",fontStyle:"bold"},{token:"variable",foreground:"264F70"},{token:"variable.predefined",foreground:"4864AA"},{token:"constant",foreground:"dd0000"},{token:"comment",foreground:"008000"},{token:"number",foreground:"098658"},{token:"number.hex",foreground:"3030c0"},{token:"regexp",foreground:"800000"},{token:"annotation",foreground:"808080"},{token:"type",foreground:"008080"},{token:"delimiter",foreground:"000000"},{token:"delimiter.html",foreground:"383838"},{token:"tag",foreground:"800000"},{token:"tag.id.pug",foreground:"4F76AC"},{token:"tag.class.pug",foreground:"4F76AC"},{token:"meta.scss",foreground:"800000"},{token:"metatag",foreground:"e00000"},{token:"metatag.content.html",foreground:"B5200D"},{token:"metatag.html",foreground:"808080"},{token:"metatag.xml",foreground:"808080"},{token:"metatag.php",fontStyle:"bold"},{token:"key",foreground:"863B00"},{token:"string.key.json",foreground:"A31515"},{token:"string.value.json",foreground:"0451A5"},{token:"attribute.name",foreground:"264F78"},{token:"attribute.value",foreground:"0451A5"},{token:"string",foreground:"A31515"},{token:"string.sql",foreground:"B5200D"},{token:"keyword",foreground:"0000FF"},{token:"keyword.flow",foreground:"AF00DB"},{token:"operator.sql",foreground:"778899"},{token:"operator.swift",foreground:"666666"},{token:"predefined.sql",foreground:"C700C7"}],colors:{[k.editorBackground]:"#FFFFFF",[k.editorForeground]:"#292929",[L.editorIndentGuide1]:"#292929",[L.editorActiveIndentGuide1]:"#292929"}}}),define(ne[361],se([1,0,7,52,38,6,29,124,504,864,37,31,23,2,88,835]),function(Q,e,L,k,y,D,S,f,_,g,C,s,i,n,t,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.StandaloneThemeService=e.HC_LIGHT_THEME_NAME=e.HC_BLACK_THEME_NAME=e.VS_DARK_THEME_NAME=e.VS_LIGHT_THEME_NAME=void 0,e.VS_LIGHT_THEME_NAME="vs",e.VS_DARK_THEME_NAME="vs-dark",e.HC_BLACK_THEME_NAME="hc-black",e.HC_LIGHT_THEME_NAME="hc-light";const u=C.Registry.as(s.Extensions.ColorContribution),h=C.Registry.as(i.Extensions.ThemingContribution);class r{constructor(m,v){this.semanticHighlighting=!1,this.themeData=v;const b=v.base;m.length>0?(c(m)?this.id=m:this.id=b+" "+m,this.themeName=m):(this.id=b,this.themeName=b),this.colors=null,this.defaultColors=Object.create(null),this._tokenTheme=null}get base(){return this.themeData.base}notifyBaseUpdated(){this.themeData.inherit&&(this.colors=null,this._tokenTheme=null)}getColors(){if(!this.colors){const m=new Map;for(const v in this.themeData.colors)m.set(v,y.Color.fromHex(this.themeData.colors[v]));if(this.themeData.inherit){const v=o(this.themeData.base);for(const b in v.colors)m.has(b)||m.set(b,y.Color.fromHex(v.colors[b]))}this.colors=m}return this.colors}getColor(m,v){const b=this.getColors().get(m);if(b)return b;if(v!==!1)return this.getDefault(m)}getDefault(m){let v=this.defaultColors[m];return v||(v=u.resolveDefaultColor(m,this),this.defaultColors[m]=v,v)}defines(m){return this.getColors().has(m)}get type(){switch(this.base){case e.VS_LIGHT_THEME_NAME:return t.ColorScheme.LIGHT;case e.HC_BLACK_THEME_NAME:return t.ColorScheme.HIGH_CONTRAST_DARK;case e.HC_LIGHT_THEME_NAME:return t.ColorScheme.HIGH_CONTRAST_LIGHT;default:return t.ColorScheme.DARK}}get tokenTheme(){if(!this._tokenTheme){let m=[],v=[];if(this.themeData.inherit){const E=o(this.themeData.base);m=E.rules,E.encodedTokensColors&&(v=E.encodedTokensColors)}const b=this.themeData.colors["editor.foreground"],w=this.themeData.colors["editor.background"];if(b||w){const E={token:""};b&&(E.foreground=b),w&&(E.background=w),m.push(E)}m=m.concat(this.themeData.rules),this.themeData.encodedTokensColors&&(v=this.themeData.encodedTokensColors),this._tokenTheme=_.TokenTheme.createFromRawTokenTheme(m,v)}return this._tokenTheme}getTokenStyleMetadata(m,v,b){const E=this.tokenTheme._match([m].concat(v).join(".")).metadata,I=f.TokenMetadata.getForeground(E),M=f.TokenMetadata.getFontStyle(E);return{foreground:I,italic:!!(M&1),bold:!!(M&2),underline:!!(M&4),strikethrough:!!(M&8)}}}function c(p){return p===e.VS_LIGHT_THEME_NAME||p===e.VS_DARK_THEME_NAME||p===e.HC_BLACK_THEME_NAME||p===e.HC_LIGHT_THEME_NAME}function o(p){switch(p){case e.VS_LIGHT_THEME_NAME:return g.vs;case e.VS_DARK_THEME_NAME:return g.vs_dark;case e.HC_BLACK_THEME_NAME:return g.hc_black;case e.HC_LIGHT_THEME_NAME:return g.hc_light}}function d(p){const m=o(p);return new r(p,m)}class l extends n.Disposable{constructor(){super(),this._onColorThemeChange=this._register(new D.Emitter),this.onDidColorThemeChange=this._onColorThemeChange.event,this._onProductIconThemeChange=this._register(new D.Emitter),this.onDidProductIconThemeChange=this._onProductIconThemeChange.event,this._environment=Object.create(null),this._builtInProductIconTheme=new a.UnthemedProductIconTheme,this._autoDetectHighContrast=!0,this._knownThemes=new Map,this._knownThemes.set(e.VS_LIGHT_THEME_NAME,d(e.VS_LIGHT_THEME_NAME)),this._knownThemes.set(e.VS_DARK_THEME_NAME,d(e.VS_DARK_THEME_NAME)),this._knownThemes.set(e.HC_BLACK_THEME_NAME,d(e.HC_BLACK_THEME_NAME)),this._knownThemes.set(e.HC_LIGHT_THEME_NAME,d(e.HC_LIGHT_THEME_NAME));const m=(0,a.getIconsStyleSheet)(this);this._codiconCSS=m.getCSS(),this._themeCSS="",this._allCSS=`${this._codiconCSS}
${this._themeCSS}`,this._globalStyleElement=null,this._styleElements=[],this._colorMapOverride=null,this.setTheme(e.VS_LIGHT_THEME_NAME),this._onOSSchemeChanged(),m.onDidChange(()=>{this._codiconCSS=m.getCSS(),this._updateCSS()}),(0,k.addMatchMediaChangeListener)("(forced-colors: active)",()=>{this._onOSSchemeChanged()})}registerEditorContainer(m){return L.isInShadowDOM(m)?this._registerShadowDomContainer(m):this._registerRegularEditorContainer()}_registerRegularEditorContainer(){return this._globalStyleElement||(this._globalStyleElement=L.createStyleSheet(void 0,m=>{m.className="monaco-colors",m.textContent=this._allCSS}),this._styleElements.push(this._globalStyleElement)),n.Disposable.None}_registerShadowDomContainer(m){const v=L.createStyleSheet(m,b=>{b.className="monaco-colors",b.textContent=this._allCSS});return this._styleElements.push(v),{dispose:()=>{for(let b=0;b<this._styleElements.length;b++)if(this._styleElements[b]===v){this._styleElements.splice(b,1);return}}}}defineTheme(m,v){if(!/^[a-z0-9\-]+$/i.test(m))throw new Error("Illegal theme name!");if(!c(v.base)&&!c(m))throw new Error("Illegal theme base!");this._knownThemes.set(m,new r(m,v)),c(m)&&this._knownThemes.forEach(b=>{b.base===m&&b.notifyBaseUpdated()}),this._theme.themeName===m&&this.setTheme(m)}getColorTheme(){return this._theme}setColorMapOverride(m){this._colorMapOverride=m,this._updateThemeOrColorMap()}setTheme(m){let v;this._knownThemes.has(m)?v=this._knownThemes.get(m):v=this._knownThemes.get(e.VS_LIGHT_THEME_NAME),this._updateActualTheme(v)}_updateActualTheme(m){!m||this._theme===m||(this._theme=m,this._updateThemeOrColorMap())}_onOSSchemeChanged(){if(this._autoDetectHighContrast){const m=window.matchMedia("(forced-colors: active)").matches;if(m!==(0,t.isHighContrast)(this._theme.type)){let v;(0,t.isDark)(this._theme.type)?v=m?e.HC_BLACK_THEME_NAME:e.VS_DARK_THEME_NAME:v=m?e.HC_LIGHT_THEME_NAME:e.VS_LIGHT_THEME_NAME,this._updateActualTheme(this._knownThemes.get(v))}}}setAutoDetectHighContrast(m){this._autoDetectHighContrast=m,this._onOSSchemeChanged()}_updateThemeOrColorMap(){const m=[],v={},b={addRule:I=>{v[I]||(m.push(I),v[I]=!0)}};h.getThemingParticipants().forEach(I=>I(this._theme,b,this._environment));const w=[];for(const I of u.getColors()){const M=this._theme.getColor(I.id,!0);M&&w.push(`${(0,s.asCssVariableName)(I.id)}: ${M.toString()};`)}b.addRule(`.monaco-editor, .monaco-diff-editor { ${w.join(`
`)} }`);const E=this._colorMapOverride||this._theme.tokenTheme.getColorMap();b.addRule((0,_.generateTokensCSSForColorMap)(E)),this._themeCSS=m.join(`
`),this._updateCSS(),S.TokenizationRegistry.setColorMap(E),this._onColorThemeChange.fire(this._theme)}_updateCSS(){this._allCSS=`${this._codiconCSS}
${this._themeCSS}`,this._styleElements.forEach(m=>m.textContent=this._allCSS)}getFileIconTheme(){return{hasFileIcons:!1,hasFolderIcons:!1,hidesExplorerArrows:!1}}getProductIconTheme(){return this._builtInProductIconTheme}}e.StandaloneThemeService=l}),define(ne[865],se([1,0,16,133,94,88,361]),function(Q,e,L,k,y,D,S){"use strict";Object.defineProperty(e,"__esModule",{value:!0});class f extends L.EditorAction{constructor(){super({id:"editor.action.toggleHighContrast",label:y.ToggleHighContrastNLS.toggleHighContrast,alias:"Toggle High Contrast Theme",precondition:void 0}),this._originalThemeName=null}run(g,C){const s=g.get(k.IStandaloneThemeService),i=s.getColorTheme();(0,D.isHighContrast)(i.type)?(s.setTheme(this._originalThemeName||((0,D.isDark)(i.type)?S.VS_DARK_THEME_NAME:S.VS_LIGHT_THEME_NAME)),this._originalThemeName=null):(s.setTheme((0,D.isDark)(i.type)?S.HC_BLACK_THEME_NAME:S.HC_LIGHT_THEME_NAME),this._originalThemeName=i.themeName)}}(0,L.registerEditorAction)(f)}),define(ne[160],se([1,0,7,44,131,315,39,216,2,17,717,30,740,15,57,8,34,43,87,23,26,88,20,31,105,84,472]),function(Q,e,L,k,y,D,S,f,_,g,C,s,i,n,t,a,u,h,r,c,o,d,l,p,m,v){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.createActionViewItem=e.DropdownWithDefaultActionViewItem=e.SubmenuEntryActionViewItem=e.MenuEntryActionViewItem=e.createAndFillInActionBarActions=e.createAndFillInContextMenuActions=void 0;function b(A,N,F,O){const W=A.getActions(N),U=L.ModifierKeyEmitter.getInstance(),j=U.keyStatus.altKey||(g.isWindows||g.isLinux)&&U.keyStatus.shiftKey;E(W,F,j,O?R=>R===O:R=>R==="navigation")}e.createAndFillInContextMenuActions=b;function w(A,N,F,O,W,U){const j=A.getActions(N);E(j,F,!1,typeof O=="string"?K=>K===O:O,W,U)}e.createAndFillInActionBarActions=w;function E(A,N,F,O=j=>j==="navigation",W=()=>!1,U=!1){let j,R;Array.isArray(N)?(j=N,R=N):(j=N.primary,R=N.secondary);const K=new Set;for(const[G,Z]of A){let J;O(G)?(J=j,J.length>0&&U&&J.push(new S.Separator)):(J=R,J.length>0&&J.push(new S.Separator));for(let X of Z){F&&(X=X instanceof s.MenuItemAction&&X.alt?X.alt:X);const H=J.push(X);X instanceof S.SubmenuAction&&K.add({group:G,action:X,index:H-1})}}for(const{group:G,action:Z,index:J}of K){const X=O(G)?j:R,H=Z.actions;H.length<=1&&W(Z,G,X.length)&&X.splice(J,1,...H)}}let I=class extends y.ActionViewItem{constructor(N,F,O,W,U,j,R,K){super(void 0,N,{icon:!!(N.class||N.item.icon),label:!N.class&&!N.item.icon,draggable:F?.draggable,keybinding:F?.keybinding,hoverDelegate:F?.hoverDelegate}),this._keybindingService=O,this._notificationService=W,this._contextKeyService=U,this._themeService=j,this._contextMenuService=R,this._accessibilityService=K,this._wantsAltCommand=!1,this._itemClassDispose=this._register(new _.MutableDisposable),this._altKey=L.ModifierKeyEmitter.getInstance()}get _menuItemAction(){return this._action}get _commandAction(){return this._wantsAltCommand&&this._menuItemAction.alt||this._menuItemAction}onClick(N){return we(this,void 0,void 0,function*(){N.preventDefault(),N.stopPropagation();try{yield this.actionRunner.run(this._commandAction,this._context)}catch(F){this._notificationService.error(F)}})}render(N){if(super.render(N),N.classList.add("menu-entry"),this.options.icon&&this._updateItemClass(this._menuItemAction.item),this._menuItemAction.alt){let F=!1;const O=()=>{var W;const U=!!(!((W=this._menuItemAction.alt)===null||W===void 0)&&W.enabled)&&(!this._accessibilityService.isMotionReduced()||F)&&(this._altKey.keyStatus.altKey||this._altKey.keyStatus.shiftKey&&F);U!==this._wantsAltCommand&&(this._wantsAltCommand=U,this.updateLabel(),this.updateTooltip(),this.updateClass())};this._register(this._altKey.event(O)),this._register((0,L.addDisposableListener)(N,"mouseleave",W=>{F=!1,O()})),this._register((0,L.addDisposableListener)(N,"mouseenter",W=>{F=!0,O()})),O()}}updateLabel(){this.options.label&&this.label&&(this.label.textContent=this._commandAction.label)}getTooltip(){var N;const F=this._keybindingService.lookupKeybinding(this._commandAction.id,this._contextKeyService),O=F&&F.getLabel(),W=this._commandAction.tooltip||this._commandAction.label;let U=O?(0,C.localize)(0,null,W,O):W;if(!this._wantsAltCommand&&(!((N=this._menuItemAction.alt)===null||N===void 0)&&N.enabled)){const j=this._menuItemAction.alt.tooltip||this._menuItemAction.alt.label,R=this._keybindingService.lookupKeybinding(this._menuItemAction.alt.id,this._contextKeyService),K=R&&R.getLabel(),G=K?(0,C.localize)(1,null,j,K):j;U=(0,C.localize)(2,null,U,f.UILabelProvider.modifierLabels[g.OS].altKey,G)}return U}updateClass(){this.options.icon&&(this._commandAction!==this._menuItemAction?this._menuItemAction.alt&&this._updateItemClass(this._menuItemAction.alt.item):this._updateItemClass(this._menuItemAction.item))}_updateItemClass(N){this._itemClassDispose.value=void 0;const{element:F,label:O}=this;if(!F||!O)return;const W=this._commandAction.checked&&(0,i.isICommandActionToggleInfo)(N.toggled)&&N.toggled.icon?N.toggled.icon:N.icon;if(W)if(o.ThemeIcon.isThemeIcon(W)){const U=o.ThemeIcon.asClassNameArray(W);O.classList.add(...U),this._itemClassDispose.value=(0,_.toDisposable)(()=>{O.classList.remove(...U)})}else O.style.backgroundImage=(0,d.isDark)(this._themeService.getColorTheme().type)?(0,L.asCSSUrl)(W.dark):(0,L.asCSSUrl)(W.light),O.classList.add("icon"),this._itemClassDispose.value=(0,_.combinedDisposable)((0,_.toDisposable)(()=>{O.style.backgroundImage="",O.classList.remove("icon")}),this._themeService.onDidColorThemeChange(()=>{this.updateClass()}))}};e.MenuEntryActionViewItem=I,e.MenuEntryActionViewItem=I=ke([fe(2,u.IKeybindingService),fe(3,h.INotificationService),fe(4,n.IContextKeyService),fe(5,c.IThemeService),fe(6,t.IContextMenuService),fe(7,v.IAccessibilityService)],I);let M=class extends D.DropdownMenuActionViewItem{constructor(N,F,O,W,U){var j,R,K;const G=Object.assign(Object.assign({},F),{menuAsChild:(j=F?.menuAsChild)!==null&&j!==void 0?j:!1,classNames:(R=F?.classNames)!==null&&R!==void 0?R:o.ThemeIcon.isThemeIcon(N.item.icon)?o.ThemeIcon.asClassName(N.item.icon):void 0,keybindingProvider:(K=F?.keybindingProvider)!==null&&K!==void 0?K:Z=>O.lookupKeybinding(Z.id)});super(N,{getActions:()=>N.actions},W,G),this._keybindingService=O,this._contextMenuService=W,this._themeService=U}render(N){super.render(N),(0,l.assertType)(this.element),N.classList.add("menu-entry");const F=this._action,{icon:O}=F.item;if(O&&!o.ThemeIcon.isThemeIcon(O)){this.element.classList.add("icon");const W=()=>{this.element&&(this.element.style.backgroundImage=(0,d.isDark)(this._themeService.getColorTheme().type)?(0,L.asCSSUrl)(O.dark):(0,L.asCSSUrl)(O.light))};W(),this._register(this._themeService.onDidColorThemeChange(()=>{W()}))}}};e.SubmenuEntryActionViewItem=M,e.SubmenuEntryActionViewItem=M=ke([fe(2,u.IKeybindingService),fe(3,t.IContextMenuService),fe(4,c.IThemeService)],M);let P=class extends y.BaseActionViewItem{constructor(N,F,O,W,U,j,R,K){var G,Z,J;super(null,N),this._keybindingService=O,this._notificationService=W,this._contextMenuService=U,this._menuService=j,this._instaService=R,this._storageService=K,this._container=null,this._options=F,this._storageKey=`${N.item.submenu.id}_lastActionId`;let X;const H=F?.persistLastActionId?K.get(this._storageKey,1):void 0;H&&(X=N.actions.find(V=>H===V.id)),X||(X=N.actions[0]),this._defaultAction=this._instaService.createInstance(I,X,{keybinding:this._getDefaultActionKeybindingLabel(X)});const B=Object.assign(Object.assign({keybindingProvider:V=>this._keybindingService.lookupKeybinding(V.id)},F),{menuAsChild:(G=F?.menuAsChild)!==null&&G!==void 0?G:!0,classNames:(Z=F?.classNames)!==null&&Z!==void 0?Z:["codicon","codicon-chevron-down"],actionRunner:(J=F?.actionRunner)!==null&&J!==void 0?J:new S.ActionRunner});this._dropdown=new D.DropdownMenuActionViewItem(N,N.actions,this._contextMenuService,B),this._dropdown.actionRunner.onDidRun(V=>{V.action instanceof s.MenuItemAction&&this.update(V.action)})}update(N){var F;!((F=this._options)===null||F===void 0)&&F.persistLastActionId&&this._storageService.store(this._storageKey,N.id,1,1),this._defaultAction.dispose(),this._defaultAction=this._instaService.createInstance(I,N,{keybinding:this._getDefaultActionKeybindingLabel(N)}),this._defaultAction.actionRunner=new class extends S.ActionRunner{runAction(O,W){return we(this,void 0,void 0,function*(){yield O.run(void 0)})}},this._container&&this._defaultAction.render((0,L.prepend)(this._container,(0,L.$)(".action-container")))}_getDefaultActionKeybindingLabel(N){var F;let O;if(!((F=this._options)===null||F===void 0)&&F.renderKeybindingWithDefaultActionLabel){const W=this._keybindingService.lookupKeybinding(N.id);W&&(O=`(${W.getLabel()})`)}return O}setActionContext(N){super.setActionContext(N),this._defaultAction.setActionContext(N),this._dropdown.setActionContext(N)}render(N){this._container=N,super.render(this._container),this._container.classList.add("monaco-dropdown-with-default");const F=(0,L.$)(".action-container");this._defaultAction.render((0,L.append)(this._container,F)),this._register((0,L.addDisposableListener)(F,L.EventType.KEY_DOWN,W=>{const U=new k.StandardKeyboardEvent(W);U.equals(17)&&(this._defaultAction.element.tabIndex=-1,this._dropdown.focus(),U.stopPropagation())}));const O=(0,L.$)(".dropdown-action-container");this._dropdown.render((0,L.append)(this._container,O)),this._register((0,L.addDisposableListener)(O,L.EventType.KEY_DOWN,W=>{var U;const j=new k.StandardKeyboardEvent(W);j.equals(15)&&(this._defaultAction.element.tabIndex=0,this._dropdown.setFocusable(!1),(U=this._defaultAction.element)===null||U===void 0||U.focus(),j.stopPropagation())}))}focus(N){N?this._dropdown.focus():(this._defaultAction.element.tabIndex=0,this._defaultAction.element.focus())}blur(){this._defaultAction.element.tabIndex=-1,this._dropdown.blur(),this._container.blur()}setFocusable(N){N?this._defaultAction.element.tabIndex=0:(this._defaultAction.element.tabIndex=-1,this._dropdown.setFocusable(!1))}dispose(){this._defaultAction.dispose(),this._dropdown.dispose(),super.dispose()}};e.DropdownWithDefaultActionViewItem=P,e.DropdownWithDefaultActionViewItem=P=ke([fe(2,u.IKeybindingService),fe(3,h.INotificationService),fe(4,t.IContextMenuService),fe(5,s.IMenuService),fe(6,a.IInstantiationService),fe(7,r.IStorageService)],P);let x=class extends y.SelectActionViewItem{constructor(N,F){super(null,N,N.actions.map(O=>({text:O.id===S.Separator.ID?"\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500":O.label,isDisabled:!O.enabled})),0,F,m.defaultSelectBoxStyles,{ariaLabel:N.tooltip,optionsAsChildren:!0}),this.select(Math.max(0,N.actions.findIndex(O=>O.checked)))}render(N){super.render(N),N.style.borderColor=(0,p.asCssVariable)(p.selectBorder)}runAction(N,F){const O=this.action.actions[F];O&&this.actionRunner.run(O)}};x=ke([fe(1,t.IContextViewService)],x);function T(A,N,F){return N instanceof s.MenuItemAction?A.createInstance(I,N,F):N instanceof s.SubmenuItemAction?N.item.isSelection?A.createInstance(x,N):N.item.rememberDefaultAction?A.createInstance(P,N,Object.assign(Object.assign({},F),{persistLastActionId:!0})):A.createInstance(M,N,F):void 0}e.createActionViewItem=T}),define(ne[253],se([1,0,7,131,222,39,14,13,25,2,42,17,26,12,29,214,681,160,817,30,27,15,57,8,34,79,62,451]),function(Q,e,L,k,y,D,S,f,_,g,C,s,i,n,t,a,u,h,r,c,o,d,l,p,m,v,b){"use strict";var w;Object.defineProperty(e,"__esModule",{value:!0}),e.CustomizedMenuWorkbenchToolBar=e.InlineSuggestionHintsContentWidget=e.InlineCompletionsHintsWidget=void 0;let E=class extends g.Disposable{constructor(F,O,W){super(),this.editor=F,this.model=O,this.instantiationService=W,this.alwaysShowToolbar=(0,C.observableFromEvent)(this.editor.onDidChangeConfiguration,()=>this.editor.getOption(61).showToolbar==="always"),this.sessionPosition=void 0,this.position=(0,C.derived)(U=>{var j,R,K;const G=(j=this.model.read(U))===null||j===void 0?void 0:j.ghostText.read(U);if(!this.alwaysShowToolbar.read(U)||!G||G.parts.length===0)return this.sessionPosition=void 0,null;const Z=G.parts[0].column;this.sessionPosition&&this.sessionPosition.lineNumber!==G.lineNumber&&(this.sessionPosition=void 0);const J=new n.Position(G.lineNumber,Math.min(Z,(K=(R=this.sessionPosition)===null||R===void 0?void 0:R.column)!==null&&K!==void 0?K:Number.MAX_SAFE_INTEGER));return this.sessionPosition=J,J}),this._register((0,C.autorunWithStore)((U,j)=>{const R=this.model.read(U);if(!R||!this.alwaysShowToolbar.read(U))return;const K=j.add(this.instantiationService.createInstance(P,this.editor,!0,this.position,R.selectedInlineCompletionIndex,R.inlineCompletionsCount,R.selectedInlineCompletion.map(G=>{var Z;return(Z=G?.inlineCompletion.source.inlineCompletions.commands)!==null&&Z!==void 0?Z:[]})));F.addContentWidget(K),j.add((0,g.toDisposable)(()=>F.removeContentWidget(K))),j.add((0,C.autorun)(G=>{this.position.read(G)&&R.lastTriggerKind.read(G)!==t.InlineCompletionTriggerKind.Explicit&&R.triggerExplicitly()}))}))}};e.InlineCompletionsHintsWidget=E,e.InlineCompletionsHintsWidget=E=ke([fe(2,p.IInstantiationService)],E);const I=(0,b.registerIcon)("inline-suggestion-hints-next",_.Codicon.chevronRight,(0,u.localize)(0,null)),M=(0,b.registerIcon)("inline-suggestion-hints-previous",_.Codicon.chevronLeft,(0,u.localize)(1,null));let P=w=class extends g.Disposable{static get dropDownVisible(){return this._dropDownVisible}createCommandAction(F,O,W){const U=new D.Action(F,O,W,!0,()=>this._commandService.executeCommand(F)),j=this.keybindingService.lookupKeybinding(F,this._contextKeyService);let R=O;return j&&(R=(0,u.localize)(2,null,O,j.getLabel())),U.tooltip=R,U}constructor(F,O,W,U,j,R,K,G,Z,J,X){super(),this.editor=F,this.withBorder=O,this._position=W,this._currentSuggestionIdx=U,this._suggestionCount=j,this._extraCommands=R,this._commandService=K,this.keybindingService=Z,this._contextKeyService=J,this._menuService=X,this.id=`InlineSuggestionHintsContentWidget${w.id++}`,this.allowEditorOverflow=!0,this.suppressMouseDown=!1,this.nodes=(0,L.h)("div.inlineSuggestionsHints",{className:this.withBorder?".withBorder":""},[(0,L.h)("div@toolBar")]),this.previousAction=this.createCommandAction(a.showPreviousInlineSuggestionActionId,(0,u.localize)(3,null),i.ThemeIcon.asClassName(M)),this.availableSuggestionCountAction=new D.Action("inlineSuggestionHints.availableSuggestionCount","",void 0,!1),this.nextAction=this.createCommandAction(a.showNextInlineSuggestionActionId,(0,u.localize)(4,null),i.ThemeIcon.asClassName(I)),this.inlineCompletionsActionsMenus=this._register(this._menuService.createMenu(c.MenuId.InlineCompletionsActions,this._contextKeyService)),this.clearAvailableSuggestionCountLabelDebounced=this._register(new f.RunOnceScheduler(()=>{this.availableSuggestionCountAction.label=""},100)),this.disableButtonsDebounced=this._register(new f.RunOnceScheduler(()=>{this.previousAction.enabled=this.nextAction.enabled=!1},100)),this.lastCommands=[],this.toolBar=this._register(G.createInstance(A,this.nodes.toolBar,c.MenuId.InlineSuggestionToolbar,{menuOptions:{renderShortTitle:!0},toolbarOptions:{primaryGroup:H=>H.startsWith("primary")},actionViewItemProvider:(H,B)=>{if(H instanceof c.MenuItemAction)return G.createInstance(T,H,void 0);if(H===this.availableSuggestionCountAction){const V=new x(void 0,H,{label:!0,icon:!1});return V.setClass("availableSuggestionCount"),V}},telemetrySource:"InlineSuggestionToolbar"})),this.toolBar.setPrependedPrimaryActions([this.previousAction,this.availableSuggestionCountAction,this.nextAction]),this._register(this.toolBar.onDidChangeDropdownVisibility(H=>{w._dropDownVisible=H})),this._register((0,C.autorun)(H=>{this._position.read(H),this.editor.layoutContentWidget(this)})),this._register((0,C.autorun)(H=>{const B=this._suggestionCount.read(H),V=this._currentSuggestionIdx.read(H);B!==void 0?(this.clearAvailableSuggestionCountLabelDebounced.cancel(),this.availableSuggestionCountAction.label=`${V+1}/${B}`):this.clearAvailableSuggestionCountLabelDebounced.schedule(),B!==void 0&&B>1?(this.disableButtonsDebounced.cancel(),this.previousAction.enabled=this.nextAction.enabled=!0):this.disableButtonsDebounced.schedule()})),this._register((0,C.autorun)(H=>{const B=this._extraCommands.read(H);if((0,S.equals)(this.lastCommands,B))return;this.lastCommands=B;const V=B.map(Y=>({class:void 0,id:Y.id,enabled:!0,tooltip:Y.tooltip||"",label:Y.title,run:ie=>this._commandService.executeCommand(Y.id)}));for(const[Y,ie]of this.inlineCompletionsActionsMenus.getActions())for(const ae of ie)ae instanceof c.MenuItemAction&&V.push(ae);V.length>0&&V.unshift(new D.Separator),this.toolBar.setAdditionalSecondaryActions(V)}))}getId(){return this.id}getDomNode(){return this.nodes.root}getPosition(){return{position:this._position.get(),preference:[1,2],positionAffinity:3}}};e.InlineSuggestionHintsContentWidget=P,P._dropDownVisible=!1,P.id=0,e.InlineSuggestionHintsContentWidget=P=w=ke([fe(6,o.ICommandService),fe(7,p.IInstantiationService),fe(8,m.IKeybindingService),fe(9,d.IContextKeyService),fe(10,c.IMenuService)],P);class x extends k.ActionViewItem{constructor(){super(...arguments),this._className=void 0}setClass(F){this._className=F}render(F){super.render(F),this._className&&F.classList.add(this._className)}}class T extends h.MenuEntryActionViewItem{updateLabel(){const F=this._keybindingService.lookupKeybinding(this._action.id,this._contextKeyService);if(!F)return super.updateLabel();if(this.label){const O=(0,L.h)("div.keybinding").root;new y.KeybindingLabel(O,s.OS,Object.assign({disableTitle:!0},y.unthemedKeybindingLabelOptions)).set(F),this.label.textContent=this._action.label,this.label.appendChild(O),this.label.classList.add("inlineSuggestionStatusBarItemLabel")}}}let A=class extends r.WorkbenchToolBar{constructor(F,O,W,U,j,R,K,G){super(F,Object.assign({resetMenu:O},W),U,j,R,K,G),this.menuId=O,this.options2=W,this.menuService=U,this.contextKeyService=j,this.menu=this._store.add(this.menuService.createMenu(this.menuId,this.contextKeyService,{emitEventsForSubmenuChanges:!0})),this.additionalActions=[],this.prependedPrimaryActions=[],this._store.add(this.menu.onDidChange(()=>this.updateToolbar())),this.updateToolbar()}updateToolbar(){var F,O,W,U,j,R,K;const G=[],Z=[];(0,h.createAndFillInActionBarActions)(this.menu,(F=this.options2)===null||F===void 0?void 0:F.menuOptions,{primary:G,secondary:Z},(W=(O=this.options2)===null||O===void 0?void 0:O.toolbarOptions)===null||W===void 0?void 0:W.primaryGroup,(j=(U=this.options2)===null||U===void 0?void 0:U.toolbarOptions)===null||j===void 0?void 0:j.shouldInlineSubmenu,(K=(R=this.options2)===null||R===void 0?void 0:R.toolbarOptions)===null||K===void 0?void 0:K.useSeparatorsInPrimaryActions),Z.push(...this.additionalActions),G.unshift(...this.prependedPrimaryActions),this.setActions(G,Z)}setPrependedPrimaryActions(F){(0,S.equals)(this.prependedPrimaryActions,F,(O,W)=>O===W)||(this.prependedPrimaryActions=F,this.updateToolbar())}setAdditionalSecondaryActions(F){(0,S.equals)(this.additionalActions,F,(O,W)=>O===W)||(this.additionalActions=F,this.updateToolbar())}};e.CustomizedMenuWorkbenchToolBar=A,e.CustomizedMenuWorkbenchToolBar=A=ke([fe(3,c.IMenuService),fe(4,d.IContextKeyService),fe(5,l.IContextMenuService),fe(6,m.IKeybindingService),fe(7,v.ITelemetryService)],A)}),define(ne[866],se([1,0,7,68,2,705,160,30,15,8]),function(Q,e,L,k,y,D,S,f,_,g){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.SuggestWidgetStatus=void 0;class C extends S.MenuEntryActionViewItem{updateLabel(){const n=this._keybindingService.lookupKeybinding(this._action.id,this._contextKeyService);if(!n)return super.updateLabel();this.label&&(this.label.textContent=(0,D.localize)(0,null,this._action.label,C.symbolPrintEnter(n)))}static symbolPrintEnter(n){var t;return(t=n.getLabel())===null||t===void 0?void 0:t.replace(/\benter\b/gi,"\u23CE")}}let s=class{constructor(n,t,a,u,h){this._menuId=t,this._menuService=u,this._contextKeyService=h,this._menuDisposables=new y.DisposableStore,this.element=L.append(n,L.$(".suggest-status-bar"));const r=c=>c instanceof f.MenuItemAction?a.createInstance(C,c,void 0):void 0;this._leftActions=new k.ActionBar(this.element,{actionViewItemProvider:r}),this._rightActions=new k.ActionBar(this.element,{actionViewItemProvider:r}),this._leftActions.domNode.classList.add("left"),this._rightActions.domNode.classList.add("right")}dispose(){this._menuDisposables.dispose(),this.element.remove()}show(){const n=this._menuService.createMenu(this._menuId,this._contextKeyService),t=()=>{const a=[],u=[];for(const[h,r]of n.getActions())h==="left"?a.push(...r):u.push(...r);this._leftActions.clear(),this._leftActions.push(a),this._rightActions.clear(),this._rightActions.push(u)};this._menuDisposables.add(n.onDidChange(()=>t())),this._menuDisposables.add(n)}hide(){this._menuDisposables.clear()}};e.SuggestWidgetStatus=s,e.SuggestWidgetStatus=s=ke([fe(2,g.IInstantiationService),fe(3,f.IMenuService),fe(4,_.IContextKeyService)],s)}),define(ne[867],se([1,0,7,39,6,2,160,30,15,34,43,79,829,57]),function(Q,e,L,k,y,D,S,f,_,g,C,s,i,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ContextMenuMenuDelegate=e.ContextMenuService=void 0;let t=class extends D.Disposable{get contextMenuHandler(){return this._contextMenuHandler||(this._contextMenuHandler=new i.ContextMenuHandler(this.contextViewService,this.telemetryService,this.notificationService,this.keybindingService)),this._contextMenuHandler}constructor(h,r,c,o,d,l){super(),this.telemetryService=h,this.notificationService=r,this.contextViewService=c,this.keybindingService=o,this.menuService=d,this.contextKeyService=l,this._contextMenuHandler=void 0,this._onDidShowContextMenu=this._store.add(new y.Emitter),this._onDidHideContextMenu=this._store.add(new y.Emitter)}configure(h){this.contextMenuHandler.configure(h)}showContextMenu(h){h=a.transform(h,this.menuService,this.contextKeyService),this.contextMenuHandler.showContextMenu(Object.assign(Object.assign({},h),{onHide:r=>{var c;(c=h.onHide)===null||c===void 0||c.call(h,r),this._onDidHideContextMenu.fire()}})),L.ModifierKeyEmitter.getInstance().resetKeyStatus(),this._onDidShowContextMenu.fire()}};e.ContextMenuService=t,e.ContextMenuService=t=ke([fe(0,s.ITelemetryService),fe(1,C.INotificationService),fe(2,n.IContextViewService),fe(3,g.IKeybindingService),fe(4,f.IMenuService),fe(5,_.IContextKeyService)],t);var a;(function(u){function h(c){return c&&c.menuId instanceof f.MenuId}function r(c,o,d){if(!h(c))return c;const{menuId:l,menuActionOptions:p,contextKeyService:m}=c;return Object.assign(Object.assign({},c),{getActions:()=>{const v=[];if(l){const b=o.createMenu(l,m??d);(0,S.createAndFillInContextMenuActions)(b,p,v),b.dispose()}return c.getActions?k.Separator.join(c.getActions(),v):v}})}u.transform=r})(a||(e.ContextMenuMenuDelegate=a={}))}),define(ne[868],se([1,0,19,6,15,8,134,191,56,788,105,31,23,840]),function(Q,e,L,k,y,D,S,f,_,g,C,s,i,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.QuickInputService=void 0;let t=class extends i.Themable{get controller(){return this._controller||(this._controller=this._register(this.createController())),this._controller}get hasController(){return!!this._controller}get quickAccess(){return this._quickAccess||(this._quickAccess=this._register(this.instantiationService.createInstance(g.QuickAccessController))),this._quickAccess}constructor(u,h,r,c){super(r),this.instantiationService=u,this.contextKeyService=h,this.layoutService=c,this._onShow=this._register(new k.Emitter),this._onHide=this._register(new k.Emitter),this.contexts=new Map}createController(u=this.layoutService,h){const r={idPrefix:"quickInput_",container:u.container,ignoreFocusOut:()=>!1,backKeybindingLabel:()=>{},setContextKey:o=>this.setContextKey(o),linkOpenerDelegate:o=>{this.instantiationService.invokeFunction(d=>{d.get(_.IOpenerService).open(o,{allowCommands:!0,fromUserGesture:!0})})},returnFocus:()=>u.focus(),createList:(o,d,l,p,m)=>this.instantiationService.createInstance(f.WorkbenchList,o,d,l,p,m),styles:this.computeStyles()},c=this._register(new n.QuickInputController(Object.assign(Object.assign({},r),h),this.themeService));return c.layout(u.dimension,u.offset.quickPickTop),this._register(u.onDidLayout(o=>c.layout(o,u.offset.quickPickTop))),this._register(c.onShow(()=>{this.resetContextKeys(),this._onShow.fire()})),this._register(c.onHide(()=>{this.resetContextKeys(),this._onHide.fire()})),c}setContextKey(u){let h;u&&(h=this.contexts.get(u),h||(h=new y.RawContextKey(u,!1).bindTo(this.contextKeyService),this.contexts.set(u,h))),!(h&&h.get())&&(this.resetContextKeys(),h?.set(!0))}resetContextKeys(){this.contexts.forEach(u=>{u.get()&&u.reset()})}pick(u,h={},r=L.CancellationToken.None){return this.controller.pick(u,h,r)}createQuickPick(){return this.controller.createQuickPick()}createInputBox(){return this.controller.createInputBox()}updateStyles(){this.hasController&&this.controller.applyStyles(this.computeStyles())}computeStyles(){return{widget:{quickInputBackground:(0,s.asCssVariable)(s.quickInputBackground),quickInputForeground:(0,s.asCssVariable)(s.quickInputForeground),quickInputTitleBackground:(0,s.asCssVariable)(s.quickInputTitleBackground),widgetBorder:(0,s.asCssVariable)(s.widgetBorder),widgetShadow:(0,s.asCssVariable)(s.widgetShadow)},inputBox:C.defaultInputBoxStyles,toggle:C.defaultToggleStyles,countBadge:C.defaultCountBadgeStyles,button:C.defaultButtonStyles,progressBar:C.defaultProgressBarStyles,keybindingLabel:C.defaultKeybindingLabelStyles,list:(0,C.getListStyles)({listBackground:s.quickInputBackground,listFocusBackground:s.quickInputListFocusBackground,listFocusForeground:s.quickInputListFocusForeground,listInactiveFocusForeground:s.quickInputListFocusForeground,listInactiveSelectionIconForeground:s.quickInputListFocusIconForeground,listInactiveFocusBackground:s.quickInputListFocusBackground,listFocusOutline:s.activeContrastBorder,listInactiveFocusOutline:s.activeContrastBorder}),pickerGroup:{pickerGroupBorder:(0,s.asCssVariable)(s.pickerGroupBorder),pickerGroupForeground:(0,s.asCssVariable)(s.pickerGroupForeground)}}}};e.QuickInputService=t,e.QuickInputService=t=ke([fe(0,D.IInstantiationService),fe(1,y.IContextKeyService),fe(2,i.IThemeService),fe(3,S.ILayoutService)],t)}),define(ne[869],se([1,0,16,23,19,8,15,338,33,868,99,470]),function(Q,e,L,k,y,D,S,f,_,g,C){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.QuickInputEditorWidget=e.QuickInputEditorContribution=e.StandaloneQuickInputService=void 0;let s=class extends g.QuickInputService{constructor(u,h,r,c,o){super(h,r,c,new f.EditorScopedLayoutService(u.getContainerDomNode(),o)),this.host=void 0;const d=n.get(u);if(d){const l=d.widget;this.host={_serviceBrand:void 0,get hasContainer(){return!0},get container(){return l.getDomNode()},get dimension(){return u.getLayoutInfo()},get onDidLayout(){return u.onDidLayoutChange},focus:()=>u.focus(),offset:{top:0,quickPickTop:0}}}else this.host=void 0}createController(){return super.createController(this.host)}};s=ke([fe(1,D.IInstantiationService),fe(2,S.IContextKeyService),fe(3,k.IThemeService),fe(4,_.ICodeEditorService)],s);let i=class{get activeService(){const u=this.codeEditorService.getFocusedCodeEditor();if(!u)throw new Error("Quick input service needs a focused editor to work.");let h=this.mapEditorToService.get(u);if(!h){const r=h=this.instantiationService.createInstance(s,u);this.mapEditorToService.set(u,h),(0,C.once)(u.onDidDispose)(()=>{r.dispose(),this.mapEditorToService.delete(u)})}return h}get quickAccess(){return this.activeService.quickAccess}constructor(u,h){this.instantiationService=u,this.codeEditorService=h,this.mapEditorToService=new Map}pick(u,h={},r=y.CancellationToken.None){return this.activeService.pick(u,h,r)}createQuickPick(){return this.activeService.createQuickPick()}createInputBox(){return this.activeService.createInputBox()}};e.StandaloneQuickInputService=i,e.StandaloneQuickInputService=i=ke([fe(0,D.IInstantiationService),fe(1,_.ICodeEditorService)],i);class n{static get(u){return u.getContribution(n.ID)}constructor(u){this.editor=u,this.widget=new t(this.editor)}dispose(){this.widget.dispose()}}e.QuickInputEditorContribution=n,n.ID="editor.controller.quickInput";class t{constructor(u){this.codeEditor=u,this.domNode=document.createElement("div"),this.codeEditor.addOverlayWidget(this)}getId(){return t.ID}getDomNode(){return this.domNode}getPosition(){return{preference:2}}dispose(){this.codeEditor.removeOverlayWidget(this)}}e.QuickInputEditorWidget=t,t.ID="editor.contrib.quickInputWidget",(0,L.registerEditorContribution)(n.ID,n,4)}),define(ne[192],se([1,0,8]),function(Q,e,L){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.UndoRedoSource=e.UndoRedoGroup=e.ResourceEditStackSnapshot=e.IUndoRedoService=void 0,e.IUndoRedoService=(0,L.createDecorator)("undoRedoService");class k{constructor(f,_){this.resource=f,this.elements=_}}e.ResourceEditStackSnapshot=k;class y{constructor(){this.id=y._ID++,this.order=1}nextOrder(){return this.id===0?0:this.order++}}e.UndoRedoGroup=y,y._ID=0,y.None=new y;class D{constructor(){this.id=D._ID++,this.order=1}nextOrder(){return this.id===0?0:this.order++}}e.UndoRedoSource=D,D._ID=0,D.None=new D}),define(ne[40],se([1,0,14,38,9,6,2,11,22,122,202,66,12,5,24,175,41,32,48,596,852,329,287,509,510,320,597,181,626,111,192]),function(Q,e,L,k,y,D,S,f,_,g,C,s,i,n,t,a,u,h,r,c,o,d,l,p,m,v,b,w,E,I,M){"use strict";var P;Object.defineProperty(e,"__esModule",{value:!0}),e.AttachedViews=e.ModelDecorationOptions=e.ModelDecorationInjectedTextOptions=e.ModelDecorationMinimapOptions=e.ModelDecorationGlyphMarginOptions=e.ModelDecorationOverviewRulerOptions=e.TextModel=e.createTextBuffer=e.createTextBufferFactoryFromSnapshot=e.createTextBufferFactory=void 0;function x(q){const z=new b.PieceTreeTextBufferBuilder;return z.acceptChunk(q),z.finish()}e.createTextBufferFactory=x;function T(q){const z=new b.PieceTreeTextBufferBuilder;let ee;for(;typeof(ee=q.read())=="string";)z.acceptChunk(ee);return z.finish()}e.createTextBufferFactoryFromSnapshot=T;function A(q,z){let ee;return typeof q=="string"?ee=x(q):r.isITextSnapshot(q)?ee=T(q):ee=q,ee.create(z)}e.createTextBuffer=A;let N=0;const F=999,O=1e4;class W{constructor(z){this._source=z,this._eos=!1}read(){if(this._eos)return null;const z=[];let ee=0,$=0;do{const re=this._source.read();if(re===null)return this._eos=!0,ee===0?null:z.join("");if(re.length>0&&(z[ee++]=re,$+=re.length),$>=64*1024)return z.join("")}while(!0)}}const U=()=>{throw new Error("Invalid change accessor")};let j=P=class extends S.Disposable{static resolveOptions(z,ee){if(ee.detectIndentation){const $=(0,p.guessIndentation)(z,ee.tabSize,ee.insertSpaces);return new r.TextModelResolvedOptions({tabSize:$.tabSize,indentSize:"tabSize",insertSpaces:$.insertSpaces,trimAutoWhitespace:ee.trimAutoWhitespace,defaultEOL:ee.defaultEOL,bracketPairColorizationOptions:ee.bracketPairColorizationOptions})}return new r.TextModelResolvedOptions(ee)}get onDidChangeLanguage(){return this._tokenizationTextModelPart.onDidChangeLanguage}get onDidChangeLanguageConfiguration(){return this._tokenizationTextModelPart.onDidChangeLanguageConfiguration}get onDidChangeTokens(){return this._tokenizationTextModelPart.onDidChangeTokens}onDidChangeContent(z){return this._eventEmitter.slowEvent(ee=>z(ee.contentChangedEvent))}onDidChangeContentOrInjectedText(z){return(0,S.combinedDisposable)(this._eventEmitter.fastEvent(ee=>z(ee)),this._onDidChangeInjectedText.event(ee=>z(ee)))}_isDisposing(){return this.__isDisposing}get tokenization(){return this._tokenizationTextModelPart}get bracketPairs(){return this._bracketPairs}get guides(){return this._guidesTextModelPart}constructor(z,ee,$,re=null,oe,ge,ve){super(),this._undoRedoService=oe,this._languageService=ge,this._languageConfigurationService=ve,this._onWillDispose=this._register(new D.Emitter),this.onWillDispose=this._onWillDispose.event,this._onDidChangeDecorations=this._register(new de(Me=>this.handleBeforeFireDecorationsChangedEvent(Me))),this.onDidChangeDecorations=this._onDidChangeDecorations.event,this._onDidChangeOptions=this._register(new D.Emitter),this.onDidChangeOptions=this._onDidChangeOptions.event,this._onDidChangeAttached=this._register(new D.Emitter),this.onDidChangeAttached=this._onDidChangeAttached.event,this._onDidChangeInjectedText=this._register(new D.Emitter),this._eventEmitter=this._register(new he),this._languageSelectionListener=this._register(new S.MutableDisposable),this._deltaDecorationCallCnt=0,this._attachedViews=new ue,N++,this.id="$model"+N,this.isForSimpleWidget=$.isForSimpleWidget,typeof re>"u"||re===null?this._associatedResource=_.URI.parse("inmemory://model/"+N):this._associatedResource=re,this._attachedEditorCount=0;const{textBuffer:Se,disposable:Le}=A(z,$.defaultEOL);this._buffer=Se,this._bufferDisposable=Le,this._options=P.resolveOptions(this._buffer,$);const De=typeof ee=="string"?ee:ee.languageId;typeof ee!="string"&&(this._languageSelectionListener.value=ee.onDidChange(()=>this._setLanguage(ee.languageId))),this._bracketPairs=this._register(new c.BracketPairsTextModelPart(this,this._languageConfigurationService)),this._guidesTextModelPart=this._register(new l.GuidesTextModelPart(this,this._languageConfigurationService)),this._decorationProvider=this._register(new o.ColorizedBracketPairsDecorationProvider(this)),this._tokenizationTextModelPart=new E.TokenizationTextModelPart(this._languageService,this._languageConfigurationService,this,this._bracketPairs,De,this._attachedViews);const ye=this._buffer.getLineCount(),Ee=this._buffer.getValueLengthInRange(new n.Range(1,1,ye,this._buffer.getLineLength(ye)+1),0);$.largeFileOptimizations?this._isTooLargeForTokenization=Ee>P.LARGE_FILE_SIZE_THRESHOLD||ye>P.LARGE_FILE_LINE_COUNT_THRESHOLD:this._isTooLargeForTokenization=!1,this._isTooLargeForSyncing=Ee>P._MODEL_SYNC_LIMIT,this._versionId=1,this._alternativeVersionId=1,this._initialUndoRedoSnapshot=null,this._isDisposed=!1,this.__isDisposing=!1,this._instanceId=f.singleLetterHash(N),this._lastDecorationId=0,this._decorations=Object.create(null),this._decorationsTree=new Z,this._commandManager=new d.EditStack(this,this._undoRedoService),this._isUndoing=!1,this._isRedoing=!1,this._trimAutoWhitespaceLines=null,this._register(this._decorationProvider.onDidChange(()=>{this._onDidChangeDecorations.beginDeferredEmit(),this._onDidChangeDecorations.fire(),this._onDidChangeDecorations.endDeferredEmit()})),this._languageService.requestRichLanguageFeatures(De)}dispose(){this.__isDisposing=!0,this._onWillDispose.fire(),this._tokenizationTextModelPart.dispose(),this._isDisposed=!0,super.dispose(),this._bufferDisposable.dispose(),this.__isDisposing=!1;const z=new v.PieceTreeTextBuffer([],"",`
`,!1,!1,!0,!0);z.dispose(),this._buffer=z,this._bufferDisposable=S.Disposable.None}_assertNotDisposed(){if(this._isDisposed)throw new Error("Model is disposed!")}_emitContentChangedEvent(z,ee){this.__isDisposing||(this._tokenizationTextModelPart.handleDidChangeContent(ee),this._bracketPairs.handleDidChangeContent(ee),this._eventEmitter.fire(new I.InternalModelContentChangeEvent(z,ee)))}setValue(z){if(this._assertNotDisposed(),z==null)throw(0,y.illegalArgument)();const{textBuffer:ee,disposable:$}=A(z,this._options.defaultEOL);this._setValueFromTextBuffer(ee,$)}_createContentChanged2(z,ee,$,re,oe,ge,ve,Se){return{changes:[{range:z,rangeOffset:ee,rangeLength:$,text:re}],eol:this._buffer.getEOL(),isEolChange:Se,versionId:this.getVersionId(),isUndoing:oe,isRedoing:ge,isFlush:ve}}_setValueFromTextBuffer(z,ee){this._assertNotDisposed();const $=this.getFullModelRange(),re=this.getValueLengthInRange($),oe=this.getLineCount(),ge=this.getLineMaxColumn(oe);this._buffer=z,this._bufferDisposable.dispose(),this._bufferDisposable=ee,this._increaseVersionId(),this._decorations=Object.create(null),this._decorationsTree=new Z,this._commandManager.clear(),this._trimAutoWhitespaceLines=null,this._emitContentChangedEvent(new I.ModelRawContentChangedEvent([new I.ModelRawFlush],this._versionId,!1,!1),this._createContentChanged2(new n.Range(1,1,oe,ge),0,re,this.getValue(),!1,!1,!0,!1))}setEOL(z){this._assertNotDisposed();const ee=z===1?`\r
`:`
`;if(this._buffer.getEOL()===ee)return;const $=this.getFullModelRange(),re=this.getValueLengthInRange($),oe=this.getLineCount(),ge=this.getLineMaxColumn(oe);this._onBeforeEOLChange(),this._buffer.setEOL(ee),this._increaseVersionId(),this._onAfterEOLChange(),this._emitContentChangedEvent(new I.ModelRawContentChangedEvent([new I.ModelRawEOLChanged],this._versionId,!1,!1),this._createContentChanged2(new n.Range(1,1,oe,ge),0,re,this.getValue(),!1,!1,!1,!0))}_onBeforeEOLChange(){this._decorationsTree.ensureAllNodesHaveRanges(this)}_onAfterEOLChange(){const z=this.getVersionId(),ee=this._decorationsTree.collectNodesPostOrder();for(let $=0,re=ee.length;$<re;$++){const oe=ee[$],ge=oe.range,ve=oe.cachedAbsoluteStart-oe.start,Se=this._buffer.getOffsetAt(ge.startLineNumber,ge.startColumn),Le=this._buffer.getOffsetAt(ge.endLineNumber,ge.endColumn);oe.cachedAbsoluteStart=Se,oe.cachedAbsoluteEnd=Le,oe.cachedVersionId=z,oe.start=Se-ve,oe.end=Le-ve,(0,m.recomputeMaxEnd)(oe)}}onBeforeAttached(){return this._attachedEditorCount++,this._attachedEditorCount===1&&(this._tokenizationTextModelPart.handleDidChangeAttached(),this._onDidChangeAttached.fire(void 0)),this._attachedViews.attachView()}onBeforeDetached(z){this._attachedEditorCount--,this._attachedEditorCount===0&&(this._tokenizationTextModelPart.handleDidChangeAttached(),this._onDidChangeAttached.fire(void 0)),this._attachedViews.detachView(z)}isAttachedToEditor(){return this._attachedEditorCount>0}getAttachedEditorCount(){return this._attachedEditorCount}isTooLargeForSyncing(){return this._isTooLargeForSyncing}isTooLargeForTokenization(){return this._isTooLargeForTokenization}isDisposed(){return this._isDisposed}isDominatedByLongLines(){if(this._assertNotDisposed(),this.isTooLargeForTokenization())return!1;let z=0,ee=0;const $=this._buffer.getLineCount();for(let re=1;re<=$;re++){const oe=this._buffer.getLineLength(re);oe>=O?ee+=oe:z+=oe}return ee>z}get uri(){return this._associatedResource}getOptions(){return this._assertNotDisposed(),this._options}getFormattingOptions(){return{tabSize:this._options.indentSize,insertSpaces:this._options.insertSpaces}}updateOptions(z){this._assertNotDisposed();const ee=typeof z.tabSize<"u"?z.tabSize:this._options.tabSize,$=typeof z.indentSize<"u"?z.indentSize:this._options.originalIndentSize,re=typeof z.insertSpaces<"u"?z.insertSpaces:this._options.insertSpaces,oe=typeof z.trimAutoWhitespace<"u"?z.trimAutoWhitespace:this._options.trimAutoWhitespace,ge=typeof z.bracketColorizationOptions<"u"?z.bracketColorizationOptions:this._options.bracketPairColorizationOptions,ve=new r.TextModelResolvedOptions({tabSize:ee,indentSize:$,insertSpaces:re,defaultEOL:this._options.defaultEOL,trimAutoWhitespace:oe,bracketPairColorizationOptions:ge});if(this._options.equals(ve))return;const Se=this._options.createChangeEvent(ve);this._options=ve,this._bracketPairs.handleDidChangeOptions(Se),this._decorationProvider.handleDidChangeOptions(Se),this._onDidChangeOptions.fire(Se)}detectIndentation(z,ee){this._assertNotDisposed();const $=(0,p.guessIndentation)(this._buffer,ee,z);this.updateOptions({insertSpaces:$.insertSpaces,tabSize:$.tabSize,indentSize:$.tabSize})}normalizeIndentation(z){return this._assertNotDisposed(),(0,C.normalizeIndentation)(z,this._options.indentSize,this._options.insertSpaces)}getVersionId(){return this._assertNotDisposed(),this._versionId}mightContainRTL(){return this._buffer.mightContainRTL()}mightContainUnusualLineTerminators(){return this._buffer.mightContainUnusualLineTerminators()}removeUnusualLineTerminators(z=null){const ee=this.findMatches(f.UNUSUAL_LINE_TERMINATORS.source,!1,!0,!1,null,!1,1073741824);this._buffer.resetMightContainUnusualLineTerminators(),this.pushEditOperations(z,ee.map($=>({range:$.range,text:null})),()=>null)}mightContainNonBasicASCII(){return this._buffer.mightContainNonBasicASCII()}getAlternativeVersionId(){return this._assertNotDisposed(),this._alternativeVersionId}getInitialUndoRedoSnapshot(){return this._assertNotDisposed(),this._initialUndoRedoSnapshot}getOffsetAt(z){this._assertNotDisposed();const ee=this._validatePosition(z.lineNumber,z.column,0);return this._buffer.getOffsetAt(ee.lineNumber,ee.column)}getPositionAt(z){this._assertNotDisposed();const ee=Math.min(this._buffer.getLength(),Math.max(0,z));return this._buffer.getPositionAt(ee)}_increaseVersionId(){this._versionId=this._versionId+1,this._alternativeVersionId=this._versionId}_overwriteVersionId(z){this._versionId=z}_overwriteAlternativeVersionId(z){this._alternativeVersionId=z}_overwriteInitialUndoRedoSnapshot(z){this._initialUndoRedoSnapshot=z}getValue(z,ee=!1){this._assertNotDisposed();const $=this.getFullModelRange(),re=this.getValueInRange($,z);return ee?this._buffer.getBOM()+re:re}createSnapshot(z=!1){return new W(this._buffer.createSnapshot(z))}getValueLength(z,ee=!1){this._assertNotDisposed();const $=this.getFullModelRange(),re=this.getValueLengthInRange($,z);return ee?this._buffer.getBOM().length+re:re}getValueInRange(z,ee=0){return this._assertNotDisposed(),this._buffer.getValueInRange(this.validateRange(z),ee)}getValueLengthInRange(z,ee=0){return this._assertNotDisposed(),this._buffer.getValueLengthInRange(this.validateRange(z),ee)}getCharacterCountInRange(z,ee=0){return this._assertNotDisposed(),this._buffer.getCharacterCountInRange(this.validateRange(z),ee)}getLineCount(){return this._assertNotDisposed(),this._buffer.getLineCount()}getLineContent(z){if(this._assertNotDisposed(),z<1||z>this.getLineCount())throw new y.BugIndicatingError("Illegal value for lineNumber");return this._buffer.getLineContent(z)}getLineLength(z){if(this._assertNotDisposed(),z<1||z>this.getLineCount())throw new y.BugIndicatingError("Illegal value for lineNumber");return this._buffer.getLineLength(z)}getLinesContent(){return this._assertNotDisposed(),this._buffer.getLinesContent()}getEOL(){return this._assertNotDisposed(),this._buffer.getEOL()}getEndOfLineSequence(){return this._assertNotDisposed(),this._buffer.getEOL()===`
`?0:1}getLineMinColumn(z){return this._assertNotDisposed(),1}getLineMaxColumn(z){if(this._assertNotDisposed(),z<1||z>this.getLineCount())throw new y.BugIndicatingError("Illegal value for lineNumber");return this._buffer.getLineLength(z)+1}getLineFirstNonWhitespaceColumn(z){if(this._assertNotDisposed(),z<1||z>this.getLineCount())throw new y.BugIndicatingError("Illegal value for lineNumber");return this._buffer.getLineFirstNonWhitespaceColumn(z)}getLineLastNonWhitespaceColumn(z){if(this._assertNotDisposed(),z<1||z>this.getLineCount())throw new y.BugIndicatingError("Illegal value for lineNumber");return this._buffer.getLineLastNonWhitespaceColumn(z)}_validateRangeRelaxedNoAllocations(z){const ee=this._buffer.getLineCount(),$=z.startLineNumber,re=z.startColumn;let oe=Math.floor(typeof $=="number"&&!isNaN($)?$:1),ge=Math.floor(typeof re=="number"&&!isNaN(re)?re:1);if(oe<1)oe=1,ge=1;else if(oe>ee)oe=ee,ge=this.getLineMaxColumn(oe);else if(ge<=1)ge=1;else{const ye=this.getLineMaxColumn(oe);ge>=ye&&(ge=ye)}const ve=z.endLineNumber,Se=z.endColumn;let Le=Math.floor(typeof ve=="number"&&!isNaN(ve)?ve:1),De=Math.floor(typeof Se=="number"&&!isNaN(Se)?Se:1);if(Le<1)Le=1,De=1;else if(Le>ee)Le=ee,De=this.getLineMaxColumn(Le);else if(De<=1)De=1;else{const ye=this.getLineMaxColumn(Le);De>=ye&&(De=ye)}return $===oe&&re===ge&&ve===Le&&Se===De&&z instanceof n.Range&&!(z instanceof t.Selection)?z:new n.Range(oe,ge,Le,De)}_isValidPosition(z,ee,$){if(typeof z!="number"||typeof ee!="number"||isNaN(z)||isNaN(ee)||z<1||ee<1||(z|0)!==z||(ee|0)!==ee)return!1;const re=this._buffer.getLineCount();if(z>re)return!1;if(ee===1)return!0;const oe=this.getLineMaxColumn(z);if(ee>oe)return!1;if($===1){const ge=this._buffer.getLineCharCode(z,ee-2);if(f.isHighSurrogate(ge))return!1}return!0}_validatePosition(z,ee,$){const re=Math.floor(typeof z=="number"&&!isNaN(z)?z:1),oe=Math.floor(typeof ee=="number"&&!isNaN(ee)?ee:1),ge=this._buffer.getLineCount();if(re<1)return new i.Position(1,1);if(re>ge)return new i.Position(ge,this.getLineMaxColumn(ge));if(oe<=1)return new i.Position(re,1);const ve=this.getLineMaxColumn(re);if(oe>=ve)return new i.Position(re,ve);if($===1){const Se=this._buffer.getLineCharCode(re,oe-2);if(f.isHighSurrogate(Se))return new i.Position(re,oe-1)}return new i.Position(re,oe)}validatePosition(z){return this._assertNotDisposed(),z instanceof i.Position&&this._isValidPosition(z.lineNumber,z.column,1)?z:this._validatePosition(z.lineNumber,z.column,1)}_isValidRange(z,ee){const $=z.startLineNumber,re=z.startColumn,oe=z.endLineNumber,ge=z.endColumn;if(!this._isValidPosition($,re,0)||!this._isValidPosition(oe,ge,0))return!1;if(ee===1){const ve=re>1?this._buffer.getLineCharCode($,re-2):0,Se=ge>1&&ge<=this._buffer.getLineLength(oe)?this._buffer.getLineCharCode(oe,ge-2):0,Le=f.isHighSurrogate(ve),De=f.isHighSurrogate(Se);return!Le&&!De}return!0}validateRange(z){if(this._assertNotDisposed(),z instanceof n.Range&&!(z instanceof t.Selection)&&this._isValidRange(z,1))return z;const $=this._validatePosition(z.startLineNumber,z.startColumn,0),re=this._validatePosition(z.endLineNumber,z.endColumn,0),oe=$.lineNumber,ge=$.column,ve=re.lineNumber,Se=re.column;{const Le=ge>1?this._buffer.getLineCharCode(oe,ge-2):0,De=Se>1&&Se<=this._buffer.getLineLength(ve)?this._buffer.getLineCharCode(ve,Se-2):0,ye=f.isHighSurrogate(Le),Ee=f.isHighSurrogate(De);return!ye&&!Ee?new n.Range(oe,ge,ve,Se):oe===ve&&ge===Se?new n.Range(oe,ge-1,ve,Se-1):ye&&Ee?new n.Range(oe,ge-1,ve,Se+1):ye?new n.Range(oe,ge-1,ve,Se):new n.Range(oe,ge,ve,Se+1)}return new n.Range(oe,ge,ve,Se)}modifyPosition(z,ee){this._assertNotDisposed();const $=this.getOffsetAt(z)+ee;return this.getPositionAt(Math.min(this._buffer.getLength(),Math.max(0,$)))}getFullModelRange(){this._assertNotDisposed();const z=this.getLineCount();return new n.Range(1,1,z,this.getLineMaxColumn(z))}findMatchesLineByLine(z,ee,$,re){return this._buffer.findMatchesLineByLine(z,ee,$,re)}findMatches(z,ee,$,re,oe,ge,ve=F){this._assertNotDisposed();let Se=null;ee!==null&&(Array.isArray(ee)||(ee=[ee]),ee.every(ye=>n.Range.isIRange(ye))&&(Se=ee.map(ye=>this.validateRange(ye)))),Se===null&&(Se=[this.getFullModelRange()]),Se=Se.sort((ye,Ee)=>ye.startLineNumber-Ee.startLineNumber||ye.startColumn-Ee.startColumn);const Le=[];Le.push(Se.reduce((ye,Ee)=>n.Range.areIntersecting(ye,Ee)?ye.plusRange(Ee):(Le.push(ye),Ee)));let De;if(!$&&z.indexOf(`
`)<0){const Ee=new w.SearchParams(z,$,re,oe).parseSearchRequest();if(!Ee)return[];De=Me=>this.findMatchesLineByLine(Me,Ee,ge,ve)}else De=ye=>w.TextModelSearch.findMatches(this,new w.SearchParams(z,$,re,oe),ye,ge,ve);return Le.map(De).reduce((ye,Ee)=>ye.concat(Ee),[])}findNextMatch(z,ee,$,re,oe,ge){this._assertNotDisposed();const ve=this.validatePosition(ee);if(!$&&z.indexOf(`
`)<0){const Le=new w.SearchParams(z,$,re,oe).parseSearchRequest();if(!Le)return null;const De=this.getLineCount();let ye=new n.Range(ve.lineNumber,ve.column,De,this.getLineMaxColumn(De)),Ee=this.findMatchesLineByLine(ye,Le,ge,1);return w.TextModelSearch.findNextMatch(this,new w.SearchParams(z,$,re,oe),ve,ge),Ee.length>0||(ye=new n.Range(1,1,ve.lineNumber,this.getLineMaxColumn(ve.lineNumber)),Ee=this.findMatchesLineByLine(ye,Le,ge,1),Ee.length>0)?Ee[0]:null}return w.TextModelSearch.findNextMatch(this,new w.SearchParams(z,$,re,oe),ve,ge)}findPreviousMatch(z,ee,$,re,oe,ge){this._assertNotDisposed();const ve=this.validatePosition(ee);return w.TextModelSearch.findPreviousMatch(this,new w.SearchParams(z,$,re,oe),ve,ge)}pushStackElement(){this._commandManager.pushStackElement()}popStackElement(){this._commandManager.popStackElement()}pushEOL(z){if((this.getEOL()===`
`?0:1)!==z)try{this._onDidChangeDecorations.beginDeferredEmit(),this._eventEmitter.beginDeferredEmit(),this._initialUndoRedoSnapshot===null&&(this._initialUndoRedoSnapshot=this._undoRedoService.createSnapshot(this.uri)),this._commandManager.pushEOL(z)}finally{this._eventEmitter.endDeferredEmit(),this._onDidChangeDecorations.endDeferredEmit()}}_validateEditOperation(z){return z instanceof r.ValidAnnotatedEditOperation?z:new r.ValidAnnotatedEditOperation(z.identifier||null,this.validateRange(z.range),z.text,z.forceMoveMarkers||!1,z.isAutoWhitespaceEdit||!1,z._isTracked||!1)}_validateEditOperations(z){const ee=[];for(let $=0,re=z.length;$<re;$++)ee[$]=this._validateEditOperation(z[$]);return ee}pushEditOperations(z,ee,$,re){try{return this._onDidChangeDecorations.beginDeferredEmit(),this._eventEmitter.beginDeferredEmit(),this._pushEditOperations(z,this._validateEditOperations(ee),$,re)}finally{this._eventEmitter.endDeferredEmit(),this._onDidChangeDecorations.endDeferredEmit()}}_pushEditOperations(z,ee,$,re){if(this._options.trimAutoWhitespace&&this._trimAutoWhitespaceLines){const oe=ee.map(ve=>({range:this.validateRange(ve.range),text:ve.text}));let ge=!0;if(z)for(let ve=0,Se=z.length;ve<Se;ve++){const Le=z[ve];let De=!1;for(let ye=0,Ee=oe.length;ye<Ee;ye++){const Me=oe[ye].range,Pe=Me.startLineNumber>Le.endLineNumber,Fe=Le.startLineNumber>Me.endLineNumber;if(!Pe&&!Fe){De=!0;break}}if(!De){ge=!1;break}}if(ge)for(let ve=0,Se=this._trimAutoWhitespaceLines.length;ve<Se;ve++){const Le=this._trimAutoWhitespaceLines[ve],De=this.getLineMaxColumn(Le);let ye=!0;for(let Ee=0,Me=oe.length;Ee<Me;Ee++){const Pe=oe[Ee].range,Fe=oe[Ee].text;if(!(Le<Pe.startLineNumber||Le>Pe.endLineNumber)&&!(Le===Pe.startLineNumber&&Pe.startColumn===De&&Pe.isEmpty()&&Fe&&Fe.length>0&&Fe.charAt(0)===`
`)&&!(Le===Pe.startLineNumber&&Pe.startColumn===1&&Pe.isEmpty()&&Fe&&Fe.length>0&&Fe.charAt(Fe.length-1)===`
`)){ye=!1;break}}if(ye){const Ee=new n.Range(Le,1,Le,De);ee.push(new r.ValidAnnotatedEditOperation(null,Ee,null,!1,!1,!1))}}this._trimAutoWhitespaceLines=null}return this._initialUndoRedoSnapshot===null&&(this._initialUndoRedoSnapshot=this._undoRedoService.createSnapshot(this.uri)),this._commandManager.pushEditOperation(z,ee,$,re)}_applyUndo(z,ee,$,re){const oe=z.map(ge=>{const ve=this.getPositionAt(ge.newPosition),Se=this.getPositionAt(ge.newEnd);return{range:new n.Range(ve.lineNumber,ve.column,Se.lineNumber,Se.column),text:ge.oldText}});this._applyUndoRedoEdits(oe,ee,!0,!1,$,re)}_applyRedo(z,ee,$,re){const oe=z.map(ge=>{const ve=this.getPositionAt(ge.oldPosition),Se=this.getPositionAt(ge.oldEnd);return{range:new n.Range(ve.lineNumber,ve.column,Se.lineNumber,Se.column),text:ge.newText}});this._applyUndoRedoEdits(oe,ee,!1,!0,$,re)}_applyUndoRedoEdits(z,ee,$,re,oe,ge){try{this._onDidChangeDecorations.beginDeferredEmit(),this._eventEmitter.beginDeferredEmit(),this._isUndoing=$,this._isRedoing=re,this.applyEdits(z,!1),this.setEOL(ee),this._overwriteAlternativeVersionId(oe)}finally{this._isUndoing=!1,this._isRedoing=!1,this._eventEmitter.endDeferredEmit(ge),this._onDidChangeDecorations.endDeferredEmit()}}applyEdits(z,ee=!1){try{this._onDidChangeDecorations.beginDeferredEmit(),this._eventEmitter.beginDeferredEmit();const $=this._validateEditOperations(z);return this._doApplyEdits($,ee)}finally{this._eventEmitter.endDeferredEmit(),this._onDidChangeDecorations.endDeferredEmit()}}_doApplyEdits(z,ee){const $=this._buffer.getLineCount(),re=this._buffer.applyEdits(z,this._options.trimAutoWhitespace,ee),oe=this._buffer.getLineCount(),ge=re.changes;if(this._trimAutoWhitespaceLines=re.trimAutoWhitespaceLineNumbers,ge.length!==0){for(let Le=0,De=ge.length;Le<De;Le++){const ye=ge[Le];this._decorationsTree.acceptReplace(ye.rangeOffset,ye.rangeLength,ye.text.length,ye.forceMoveMarkers)}const ve=[];this._increaseVersionId();let Se=$;for(let Le=0,De=ge.length;Le<De;Le++){const ye=ge[Le],[Ee]=(0,g.countEOL)(ye.text);this._onDidChangeDecorations.fire();const Me=ye.range.startLineNumber,Pe=ye.range.endLineNumber,Fe=Pe-Me,_e=Ee,me=Math.min(Fe,_e),le=_e-Fe,pe=oe-Se-le+Me,Ce=pe,be=pe+_e,Ie=this._decorationsTree.getInjectedTextInInterval(this,this.getOffsetAt(new i.Position(Ce,1)),this.getOffsetAt(new i.Position(be,this.getLineMaxColumn(be))),0),Ne=I.LineInjectedText.fromDecorations(Ie),Re=new L.ArrayQueue(Ne);for(let Ve=me;Ve>=0;Ve--){const ze=Me+Ve,We=pe+Ve;Re.takeFromEndWhile(Oe=>Oe.lineNumber>We);const qe=Re.takeFromEndWhile(Oe=>Oe.lineNumber===We);ve.push(new I.ModelRawLineChanged(ze,this.getLineContent(We),qe))}if(me<Fe){const Ve=Me+me;ve.push(new I.ModelRawLinesDeleted(Ve+1,Pe))}if(me<_e){const Ve=new L.ArrayQueue(Ne),ze=Me+me,We=_e-me,qe=oe-Se-We+ze+1,Oe=[],Ge=[];for(let Qe=0;Qe<We;Qe++){const st=qe+Qe;Ge[Qe]=this.getLineContent(st),Ve.takeWhile(nt=>nt.lineNumber<st),Oe[Qe]=Ve.takeWhile(nt=>nt.lineNumber===st)}ve.push(new I.ModelRawLinesInserted(ze+1,Me+_e,Ge,Oe))}Se+=le}this._emitContentChangedEvent(new I.ModelRawContentChangedEvent(ve,this.getVersionId(),this._isUndoing,this._isRedoing),{changes:ge,eol:this._buffer.getEOL(),isEolChange:!1,versionId:this.getVersionId(),isUndoing:this._isUndoing,isRedoing:this._isRedoing,isFlush:!1})}return re.reverseEdits===null?void 0:re.reverseEdits}undo(){return this._undoRedoService.undo(this.uri)}canUndo(){return this._undoRedoService.canUndo(this.uri)}redo(){return this._undoRedoService.redo(this.uri)}canRedo(){return this._undoRedoService.canRedo(this.uri)}handleBeforeFireDecorationsChangedEvent(z){if(z===null||z.size===0)return;const $=Array.from(z).map(re=>new I.ModelRawLineChanged(re,this.getLineContent(re),this._getInjectedTextInLine(re)));this._onDidChangeInjectedText.fire(new I.ModelInjectedTextChangedEvent($))}changeDecorations(z,ee=0){this._assertNotDisposed();try{return this._onDidChangeDecorations.beginDeferredEmit(),this._changeDecorations(ee,z)}finally{this._onDidChangeDecorations.endDeferredEmit()}}_changeDecorations(z,ee){const $={addDecoration:(oe,ge)=>this._deltaDecorationsImpl(z,[],[{range:oe,options:ge}])[0],changeDecoration:(oe,ge)=>{this._changeDecorationImpl(oe,ge)},changeDecorationOptions:(oe,ge)=>{this._changeDecorationOptionsImpl(oe,ce(ge))},removeDecoration:oe=>{this._deltaDecorationsImpl(z,[oe],[])},deltaDecorations:(oe,ge)=>oe.length===0&&ge.length===0?[]:this._deltaDecorationsImpl(z,oe,ge)};let re=null;try{re=ee($)}catch(oe){(0,y.onUnexpectedError)(oe)}return $.addDecoration=U,$.changeDecoration=U,$.changeDecorationOptions=U,$.removeDecoration=U,$.deltaDecorations=U,re}deltaDecorations(z,ee,$=0){if(this._assertNotDisposed(),z||(z=[]),z.length===0&&ee.length===0)return[];try{return this._deltaDecorationCallCnt++,this._deltaDecorationCallCnt>1&&(console.warn("Invoking deltaDecorations recursively could lead to leaking decorations."),(0,y.onUnexpectedError)(new Error("Invoking deltaDecorations recursively could lead to leaking decorations."))),this._onDidChangeDecorations.beginDeferredEmit(),this._deltaDecorationsImpl($,z,ee)}finally{this._onDidChangeDecorations.endDeferredEmit(),this._deltaDecorationCallCnt--}}_getTrackedRange(z){return this.getDecorationRange(z)}_setTrackedRange(z,ee,$){const re=z?this._decorations[z]:null;if(!re)return ee?this._deltaDecorationsImpl(0,[],[{range:ee,options:ae[$]}],!0)[0]:null;if(!ee)return this._decorationsTree.delete(re),delete this._decorations[re.id],null;const oe=this._validateRangeRelaxedNoAllocations(ee),ge=this._buffer.getOffsetAt(oe.startLineNumber,oe.startColumn),ve=this._buffer.getOffsetAt(oe.endLineNumber,oe.endColumn);return this._decorationsTree.delete(re),re.reset(this.getVersionId(),ge,ve,oe),re.setOptions(ae[$]),this._decorationsTree.insert(re),re.id}removeAllDecorationsWithOwnerId(z){if(this._isDisposed)return;const ee=this._decorationsTree.collectNodesFromOwner(z);for(let $=0,re=ee.length;$<re;$++){const oe=ee[$];this._decorationsTree.delete(oe),delete this._decorations[oe.id]}}getDecorationOptions(z){const ee=this._decorations[z];return ee?ee.options:null}getDecorationRange(z){const ee=this._decorations[z];return ee?this._decorationsTree.getNodeRange(this,ee):null}getLineDecorations(z,ee=0,$=!1){return z<1||z>this.getLineCount()?[]:this.getLinesDecorations(z,z,ee,$)}getLinesDecorations(z,ee,$=0,re=!1,oe=!1){const ge=this.getLineCount(),ve=Math.min(ge,Math.max(1,z)),Se=Math.min(ge,Math.max(1,ee)),Le=this.getLineMaxColumn(Se),De=new n.Range(ve,1,Se,Le),ye=this._getDecorationsInRange(De,$,re,oe);return(0,L.pushMany)(ye,this._decorationProvider.getDecorationsInRange(De,$,re)),ye}getDecorationsInRange(z,ee=0,$=!1,re=!1,oe=!1){const ge=this.validateRange(z),ve=this._getDecorationsInRange(ge,ee,$,oe);return(0,L.pushMany)(ve,this._decorationProvider.getDecorationsInRange(ge,ee,$,re)),ve}getOverviewRulerDecorations(z=0,ee=!1){return this._decorationsTree.getAll(this,z,ee,!0,!1)}getInjectedTextDecorations(z=0){return this._decorationsTree.getAllInjectedText(this,z)}_getInjectedTextInLine(z){const ee=this._buffer.getOffsetAt(z,1),$=ee+this._buffer.getLineLength(z),re=this._decorationsTree.getInjectedTextInInterval(this,ee,$,0);return I.LineInjectedText.fromDecorations(re).filter(oe=>oe.lineNumber===z)}getAllDecorations(z=0,ee=!1){let $=this._decorationsTree.getAll(this,z,ee,!1,!1);return $=$.concat(this._decorationProvider.getAllDecorations(z,ee)),$}getAllMarginDecorations(z=0){return this._decorationsTree.getAll(this,z,!1,!1,!0)}_getDecorationsInRange(z,ee,$,re){const oe=this._buffer.getOffsetAt(z.startLineNumber,z.startColumn),ge=this._buffer.getOffsetAt(z.endLineNumber,z.endColumn);return this._decorationsTree.getAllInInterval(this,oe,ge,ee,$,re)}getRangeAt(z,ee){return this._buffer.getRangeAt(z,ee-z)}_changeDecorationImpl(z,ee){const $=this._decorations[z];if(!$)return;if($.options.after){const ve=this.getDecorationRange(z);this._onDidChangeDecorations.recordLineAffectedByInjectedText(ve.endLineNumber)}if($.options.before){const ve=this.getDecorationRange(z);this._onDidChangeDecorations.recordLineAffectedByInjectedText(ve.startLineNumber)}const re=this._validateRangeRelaxedNoAllocations(ee),oe=this._buffer.getOffsetAt(re.startLineNumber,re.startColumn),ge=this._buffer.getOffsetAt(re.endLineNumber,re.endColumn);this._decorationsTree.delete($),$.reset(this.getVersionId(),oe,ge,re),this._decorationsTree.insert($),this._onDidChangeDecorations.checkAffectedAndFire($.options),$.options.after&&this._onDidChangeDecorations.recordLineAffectedByInjectedText(re.endLineNumber),$.options.before&&this._onDidChangeDecorations.recordLineAffectedByInjectedText(re.startLineNumber)}_changeDecorationOptionsImpl(z,ee){const $=this._decorations[z];if(!$)return;const re=!!($.options.overviewRuler&&$.options.overviewRuler.color),oe=!!(ee.overviewRuler&&ee.overviewRuler.color);if(this._onDidChangeDecorations.checkAffectedAndFire($.options),this._onDidChangeDecorations.checkAffectedAndFire(ee),$.options.after||ee.after){const ge=this._decorationsTree.getNodeRange(this,$);this._onDidChangeDecorations.recordLineAffectedByInjectedText(ge.endLineNumber)}if($.options.before||ee.before){const ge=this._decorationsTree.getNodeRange(this,$);this._onDidChangeDecorations.recordLineAffectedByInjectedText(ge.startLineNumber)}re!==oe?(this._decorationsTree.delete($),$.setOptions(ee),this._decorationsTree.insert($)):$.setOptions(ee)}_deltaDecorationsImpl(z,ee,$,re=!1){const oe=this.getVersionId(),ge=ee.length;let ve=0;const Se=$.length;let Le=0;this._onDidChangeDecorations.beginDeferredEmit();try{const De=new Array(Se);for(;ve<ge||Le<Se;){let ye=null;if(ve<ge){do ye=this._decorations[ee[ve++]];while(!ye&&ve<ge);if(ye){if(ye.options.after){const Ee=this._decorationsTree.getNodeRange(this,ye);this._onDidChangeDecorations.recordLineAffectedByInjectedText(Ee.endLineNumber)}if(ye.options.before){const Ee=this._decorationsTree.getNodeRange(this,ye);this._onDidChangeDecorations.recordLineAffectedByInjectedText(Ee.startLineNumber)}this._decorationsTree.delete(ye),re||this._onDidChangeDecorations.checkAffectedAndFire(ye.options)}}if(Le<Se){if(!ye){const me=++this._lastDecorationId,le=`${this._instanceId};${me}`;ye=new m.IntervalNode(le,0,0),this._decorations[le]=ye}const Ee=$[Le],Me=this._validateRangeRelaxedNoAllocations(Ee.range),Pe=ce(Ee.options),Fe=this._buffer.getOffsetAt(Me.startLineNumber,Me.startColumn),_e=this._buffer.getOffsetAt(Me.endLineNumber,Me.endColumn);ye.ownerId=z,ye.reset(oe,Fe,_e,Me),ye.setOptions(Pe),ye.options.after&&this._onDidChangeDecorations.recordLineAffectedByInjectedText(Me.endLineNumber),ye.options.before&&this._onDidChangeDecorations.recordLineAffectedByInjectedText(Me.startLineNumber),re||this._onDidChangeDecorations.checkAffectedAndFire(Pe),this._decorationsTree.insert(ye),De[Le]=ye.id,Le++}else ye&&delete this._decorations[ye.id]}return De}finally{this._onDidChangeDecorations.endDeferredEmit()}}getLanguageId(){return this.tokenization.getLanguageId()}setLanguage(z,ee){typeof z=="string"?(this._languageSelectionListener.clear(),this._setLanguage(z,ee)):(this._languageSelectionListener.value=z.onDidChange(()=>this._setLanguage(z.languageId,ee)),this._setLanguage(z.languageId,ee))}_setLanguage(z,ee){this.tokenization.setLanguageId(z,ee),this._languageService.requestRichLanguageFeatures(z)}getLanguageIdAtPosition(z,ee){return this.tokenization.getLanguageIdAtPosition(z,ee)}getWordAtPosition(z){return this._tokenizationTextModelPart.getWordAtPosition(z)}getWordUntilPosition(z){return this._tokenizationTextModelPart.getWordUntilPosition(z)}normalizePosition(z,ee){return z}getLineIndentColumn(z){return R(this.getLineContent(z))+1}};e.TextModel=j,j._MODEL_SYNC_LIMIT=50*1024*1024,j.LARGE_FILE_SIZE_THRESHOLD=20*1024*1024,j.LARGE_FILE_LINE_COUNT_THRESHOLD=300*1e3,j.DEFAULT_CREATION_OPTIONS={isForSimpleWidget:!1,tabSize:a.EDITOR_MODEL_DEFAULTS.tabSize,indentSize:a.EDITOR_MODEL_DEFAULTS.indentSize,insertSpaces:a.EDITOR_MODEL_DEFAULTS.insertSpaces,detectIndentation:!1,defaultEOL:1,trimAutoWhitespace:a.EDITOR_MODEL_DEFAULTS.trimAutoWhitespace,largeFileOptimizations:a.EDITOR_MODEL_DEFAULTS.largeFileOptimizations,bracketPairColorizationOptions:a.EDITOR_MODEL_DEFAULTS.bracketPairColorizationOptions},e.TextModel=j=P=ke([fe(4,M.IUndoRedoService),fe(5,u.ILanguageService),fe(6,h.ILanguageConfigurationService)],j);function R(q){let z=0;for(const ee of q)if(ee===" "||ee==="	")z++;else break;return z}function K(q){return!!(q.options.overviewRuler&&q.options.overviewRuler.color)}function G(q){return!!q.options.after||!!q.options.before}class Z{constructor(){this._decorationsTree0=new m.IntervalTree,this._decorationsTree1=new m.IntervalTree,this._injectedTextDecorationsTree=new m.IntervalTree}ensureAllNodesHaveRanges(z){this.getAll(z,0,!1,!1,!1)}_ensureNodesHaveRanges(z,ee){for(const $ of ee)$.range===null&&($.range=z.getRangeAt($.cachedAbsoluteStart,$.cachedAbsoluteEnd));return ee}getAllInInterval(z,ee,$,re,oe,ge){const ve=z.getVersionId(),Se=this._intervalSearch(ee,$,re,oe,ve,ge);return this._ensureNodesHaveRanges(z,Se)}_intervalSearch(z,ee,$,re,oe,ge){const ve=this._decorationsTree0.intervalSearch(z,ee,$,re,oe,ge),Se=this._decorationsTree1.intervalSearch(z,ee,$,re,oe,ge),Le=this._injectedTextDecorationsTree.intervalSearch(z,ee,$,re,oe,ge);return ve.concat(Se).concat(Le)}getInjectedTextInInterval(z,ee,$,re){const oe=z.getVersionId(),ge=this._injectedTextDecorationsTree.intervalSearch(ee,$,re,!1,oe,!1);return this._ensureNodesHaveRanges(z,ge).filter(ve=>ve.options.showIfCollapsed||!ve.range.isEmpty())}getAllInjectedText(z,ee){const $=z.getVersionId(),re=this._injectedTextDecorationsTree.search(ee,!1,$,!1);return this._ensureNodesHaveRanges(z,re).filter(oe=>oe.options.showIfCollapsed||!oe.range.isEmpty())}getAll(z,ee,$,re,oe){const ge=z.getVersionId(),ve=this._search(ee,$,re,ge,oe);return this._ensureNodesHaveRanges(z,ve)}_search(z,ee,$,re,oe){if($)return this._decorationsTree1.search(z,ee,re,oe);{const ge=this._decorationsTree0.search(z,ee,re,oe),ve=this._decorationsTree1.search(z,ee,re,oe),Se=this._injectedTextDecorationsTree.search(z,ee,re,oe);return ge.concat(ve).concat(Se)}}collectNodesFromOwner(z){const ee=this._decorationsTree0.collectNodesFromOwner(z),$=this._decorationsTree1.collectNodesFromOwner(z),re=this._injectedTextDecorationsTree.collectNodesFromOwner(z);return ee.concat($).concat(re)}collectNodesPostOrder(){const z=this._decorationsTree0.collectNodesPostOrder(),ee=this._decorationsTree1.collectNodesPostOrder(),$=this._injectedTextDecorationsTree.collectNodesPostOrder();return z.concat(ee).concat($)}insert(z){G(z)?this._injectedTextDecorationsTree.insert(z):K(z)?this._decorationsTree1.insert(z):this._decorationsTree0.insert(z)}delete(z){G(z)?this._injectedTextDecorationsTree.delete(z):K(z)?this._decorationsTree1.delete(z):this._decorationsTree0.delete(z)}getNodeRange(z,ee){const $=z.getVersionId();return ee.cachedVersionId!==$&&this._resolveNode(ee,$),ee.range===null&&(ee.range=z.getRangeAt(ee.cachedAbsoluteStart,ee.cachedAbsoluteEnd)),ee.range}_resolveNode(z,ee){G(z)?this._injectedTextDecorationsTree.resolveNode(z,ee):K(z)?this._decorationsTree1.resolveNode(z,ee):this._decorationsTree0.resolveNode(z,ee)}acceptReplace(z,ee,$,re){this._decorationsTree0.acceptReplace(z,ee,$,re),this._decorationsTree1.acceptReplace(z,ee,$,re),this._injectedTextDecorationsTree.acceptReplace(z,ee,$,re)}}function J(q){return q.replace(/[^a-z0-9\-_]/gi," ")}class X{constructor(z){this.color=z.color||"",this.darkColor=z.darkColor||""}}class H extends X{constructor(z){super(z),this._resolvedColor=null,this.position=typeof z.position=="number"?z.position:r.OverviewRulerLane.Center}getColor(z){return this._resolvedColor||(z.type!=="light"&&this.darkColor?this._resolvedColor=this._resolveColor(this.darkColor,z):this._resolvedColor=this._resolveColor(this.color,z)),this._resolvedColor}invalidateCachedColor(){this._resolvedColor=null}_resolveColor(z,ee){if(typeof z=="string")return z;const $=z?ee.getColor(z.id):null;return $?$.toString():""}}e.ModelDecorationOverviewRulerOptions=H;class B{constructor(z){var ee;this.position=(ee=z?.position)!==null&&ee!==void 0?ee:r.GlyphMarginLane.Left}}e.ModelDecorationGlyphMarginOptions=B;class V extends X{constructor(z){super(z),this.position=z.position}getColor(z){return this._resolvedColor||(z.type!=="light"&&this.darkColor?this._resolvedColor=this._resolveColor(this.darkColor,z):this._resolvedColor=this._resolveColor(this.color,z)),this._resolvedColor}invalidateCachedColor(){this._resolvedColor=void 0}_resolveColor(z,ee){return typeof z=="string"?k.Color.fromHex(z):ee.getColor(z.id)}}e.ModelDecorationMinimapOptions=V;class Y{static from(z){return z instanceof Y?z:new Y(z)}constructor(z){this.content=z.content||"",this.inlineClassName=z.inlineClassName||null,this.inlineClassNameAffectsLetterSpacing=z.inlineClassNameAffectsLetterSpacing||!1,this.attachedData=z.attachedData||null,this.cursorStops=z.cursorStops||null}}e.ModelDecorationInjectedTextOptions=Y;class ie{static register(z){return new ie(z)}static createDynamic(z){return new ie(z)}constructor(z){var ee,$,re,oe,ge,ve;this.description=z.description,this.blockClassName=z.blockClassName?J(z.blockClassName):null,this.blockDoesNotCollapse=(ee=z.blockDoesNotCollapse)!==null&&ee!==void 0?ee:null,this.blockIsAfterEnd=($=z.blockIsAfterEnd)!==null&&$!==void 0?$:null,this.blockPadding=(re=z.blockPadding)!==null&&re!==void 0?re:null,this.stickiness=z.stickiness||0,this.zIndex=z.zIndex||0,this.className=z.className?J(z.className):null,this.shouldFillLineOnLineBreak=(oe=z.shouldFillLineOnLineBreak)!==null&&oe!==void 0?oe:null,this.hoverMessage=z.hoverMessage||null,this.glyphMarginHoverMessage=z.glyphMarginHoverMessage||null,this.isWholeLine=z.isWholeLine||!1,this.showIfCollapsed=z.showIfCollapsed||!1,this.collapseOnReplaceEdit=z.collapseOnReplaceEdit||!1,this.overviewRuler=z.overviewRuler?new H(z.overviewRuler):null,this.minimap=z.minimap?new V(z.minimap):null,this.glyphMargin=z.glyphMarginClassName?new B(z.glyphMargin):null,this.glyphMarginClassName=z.glyphMarginClassName?J(z.glyphMarginClassName):null,this.linesDecorationsClassName=z.linesDecorationsClassName?J(z.linesDecorationsClassName):null,this.firstLineDecorationClassName=z.firstLineDecorationClassName?J(z.firstLineDecorationClassName):null,this.marginClassName=z.marginClassName?J(z.marginClassName):null,this.inlineClassName=z.inlineClassName?J(z.inlineClassName):null,this.inlineClassNameAffectsLetterSpacing=z.inlineClassNameAffectsLetterSpacing||!1,this.beforeContentClassName=z.beforeContentClassName?J(z.beforeContentClassName):null,this.afterContentClassName=z.afterContentClassName?J(z.afterContentClassName):null,this.after=z.after?Y.from(z.after):null,this.before=z.before?Y.from(z.before):null,this.hideInCommentTokens=(ge=z.hideInCommentTokens)!==null&&ge!==void 0?ge:!1,this.hideInStringTokens=(ve=z.hideInStringTokens)!==null&&ve!==void 0?ve:!1}}e.ModelDecorationOptions=ie,ie.EMPTY=ie.register({description:"empty"});const ae=[ie.register({description:"tracked-range-always-grows-when-typing-at-edges",stickiness:0}),ie.register({description:"tracked-range-never-grows-when-typing-at-edges",stickiness:1}),ie.register({description:"tracked-range-grows-only-when-typing-before",stickiness:2}),ie.register({description:"tracked-range-grows-only-when-typing-after",stickiness:3})];function ce(q){return q instanceof ie?q:ie.createDynamic(q)}class de extends S.Disposable{constructor(z){super(),this.handleBeforeFire=z,this._actual=this._register(new D.Emitter),this.event=this._actual.event,this._affectedInjectedTextLines=null,this._deferredCnt=0,this._shouldFireDeferred=!1,this._affectsMinimap=!1,this._affectsOverviewRuler=!1,this._affectsGlyphMargin=!1}beginDeferredEmit(){this._deferredCnt++}endDeferredEmit(){var z;this._deferredCnt--,this._deferredCnt===0&&(this._shouldFireDeferred&&this.doFire(),(z=this._affectedInjectedTextLines)===null||z===void 0||z.clear(),this._affectedInjectedTextLines=null)}recordLineAffectedByInjectedText(z){this._affectedInjectedTextLines||(this._affectedInjectedTextLines=new Set),this._affectedInjectedTextLines.add(z)}checkAffectedAndFire(z){this._affectsMinimap||(this._affectsMinimap=!!(z.minimap&&z.minimap.position)),this._affectsOverviewRuler||(this._affectsOverviewRuler=!!(z.overviewRuler&&z.overviewRuler.color)),this._affectsGlyphMargin||(this._affectsGlyphMargin=!!z.glyphMarginClassName),this.tryFire()}fire(){this._affectsMinimap=!0,this._affectsOverviewRuler=!0,this._affectsGlyphMargin=!0,this.tryFire()}tryFire(){this._deferredCnt===0?this.doFire():this._shouldFireDeferred=!0}doFire(){this.handleBeforeFire(this._affectedInjectedTextLines);const z={affectsMinimap:this._affectsMinimap,affectsOverviewRuler:this._affectsOverviewRuler,affectsGlyphMargin:this._affectsGlyphMargin};this._shouldFireDeferred=!1,this._affectsMinimap=!1,this._affectsOverviewRuler=!1,this._affectsGlyphMargin=!1,this._actual.fire(z)}}class he extends S.Disposable{constructor(){super(),this._fastEmitter=this._register(new D.Emitter),this.fastEvent=this._fastEmitter.event,this._slowEmitter=this._register(new D.Emitter),this.slowEvent=this._slowEmitter.event,this._deferredCnt=0,this._deferredEvent=null}beginDeferredEmit(){this._deferredCnt++}endDeferredEmit(z=null){if(this._deferredCnt--,this._deferredCnt===0&&this._deferredEvent!==null){this._deferredEvent.rawContentChangedEvent.resultingSelection=z;const ee=this._deferredEvent;this._deferredEvent=null,this._fastEmitter.fire(ee),this._slowEmitter.fire(ee)}}fire(z){if(this._deferredCnt>0){this._deferredEvent?this._deferredEvent=this._deferredEvent.merge(z):this._deferredEvent=z;return}this._fastEmitter.fire(z),this._slowEmitter.fire(z)}}class ue{constructor(){this._onDidChangeVisibleRanges=new D.Emitter,this.onDidChangeVisibleRanges=this._onDidChangeVisibleRanges.event,this._views=new Set}attachView(){const z=new te(ee=>{this._onDidChangeVisibleRanges.fire({view:z,state:ee})});return this._views.add(z),z}detachView(z){this._views.delete(z),this._onDidChangeVisibleRanges.fire({view:z,state:void 0})}}e.AttachedViews=ue;class te{constructor(z){this.handleStateChange=z}setVisibleLines(z,ee){const $=z.map(re=>new s.LineRange(re.startLineNumber,re.endLineNumber+1));this.handleStateChange({visibleLineRanges:$,stabilized:ee})}}}),define(ne[362],se([1,0,25,55,26,40,609,62]),function(Q,e,L,k,y,D,S,f){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.arrowRevertChange=e.diffDeleteDecorationEmpty=e.diffWholeLineDeleteDecoration=e.diffDeleteDecoration=e.diffAddDecorationEmpty=e.diffWholeLineAddDecoration=e.diffAddDecoration=e.diffLineDeleteDecorationBackground=e.diffLineAddDecorationBackground=e.diffLineDeleteDecorationBackgroundWithIndicator=e.diffLineAddDecorationBackgroundWithIndicator=e.diffRemoveIcon=e.diffInsertIcon=void 0,e.diffInsertIcon=(0,f.registerIcon)("diff-insert",L.Codicon.add,(0,S.localize)(0,null)),e.diffRemoveIcon=(0,f.registerIcon)("diff-remove",L.Codicon.remove,(0,S.localize)(1,null)),e.diffLineAddDecorationBackgroundWithIndicator=D.ModelDecorationOptions.register({className:"line-insert",description:"line-insert",isWholeLine:!0,linesDecorationsClassName:"insert-sign "+y.ThemeIcon.asClassName(e.diffInsertIcon),marginClassName:"gutter-insert"}),e.diffLineDeleteDecorationBackgroundWithIndicator=D.ModelDecorationOptions.register({className:"line-delete",description:"line-delete",isWholeLine:!0,linesDecorationsClassName:"delete-sign "+y.ThemeIcon.asClassName(e.diffRemoveIcon),marginClassName:"gutter-delete"}),e.diffLineAddDecorationBackground=D.ModelDecorationOptions.register({className:"line-insert",description:"line-insert",isWholeLine:!0,marginClassName:"gutter-insert"}),e.diffLineDeleteDecorationBackground=D.ModelDecorationOptions.register({className:"line-delete",description:"line-delete",isWholeLine:!0,marginClassName:"gutter-delete"}),e.diffAddDecoration=D.ModelDecorationOptions.register({className:"char-insert",description:"char-insert",shouldFillLineOnLineBreak:!0}),e.diffWholeLineAddDecoration=D.ModelDecorationOptions.register({className:"char-insert",description:"char-insert",isWholeLine:!0}),e.diffAddDecorationEmpty=D.ModelDecorationOptions.register({className:"char-insert diff-range-empty",description:"char-insert diff-range-empty"}),e.diffDeleteDecoration=D.ModelDecorationOptions.register({className:"char-delete",description:"char-delete",shouldFillLineOnLineBreak:!0}),e.diffWholeLineDeleteDecoration=D.ModelDecorationOptions.register({className:"char-delete",description:"char-delete",isWholeLine:!0}),e.diffDeleteDecorationEmpty=D.ModelDecorationOptions.register({className:"char-delete diff-range-empty",description:"char-delete diff-range-empty"}),e.arrowRevertChange=D.ModelDecorationOptions.register({description:"diff-editor-arrow-revert-change",glyphMarginHoverMessage:new k.MarkdownString(void 0,{isTrusted:!0,supportThemeIcons:!0}).appendMarkdown((0,S.localize)(2,null)),glyphMarginClassName:"arrow-revert-change "+y.ThemeIcon.asClassName(L.Codicon.arrowRight),zIndex:10001})}),define(ne[870],se([1,0,2,42,362,323,102,12,5]),function(Q,e,L,k,y,D,S,f,_){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.DiffEditorDecorations=void 0;class g extends L.Disposable{constructor(s,i,n){super(),this._editors=s,this._diffModel=i,this._options=n,this._decorations=(0,k.derived)(t=>{var a;const u=(a=this._diffModel.read(t))===null||a===void 0?void 0:a.diff.read(t);if(!u)return null;const h=this._diffModel.read(t).movedTextToCompare.read(t),r=this._options.renderIndicators.read(t),c=this._options.showEmptyDecorations.read(t),o=[],d=[];if(!h)for(const p of u.mappings){if(p.lineRangeMapping.originalRange.isEmpty||o.push({range:p.lineRangeMapping.originalRange.toInclusiveRange(),options:r?y.diffLineDeleteDecorationBackgroundWithIndicator:y.diffLineDeleteDecorationBackground}),p.lineRangeMapping.modifiedRange.isEmpty||d.push({range:p.lineRangeMapping.modifiedRange.toInclusiveRange(),options:r?y.diffLineAddDecorationBackgroundWithIndicator:y.diffLineAddDecorationBackground}),p.lineRangeMapping.modifiedRange.isEmpty||p.lineRangeMapping.originalRange.isEmpty)p.lineRangeMapping.originalRange.isEmpty||o.push({range:p.lineRangeMapping.originalRange.toInclusiveRange(),options:y.diffWholeLineDeleteDecoration}),p.lineRangeMapping.modifiedRange.isEmpty||d.push({range:p.lineRangeMapping.modifiedRange.toInclusiveRange(),options:y.diffWholeLineAddDecoration});else for(const m of p.lineRangeMapping.innerChanges||[])p.lineRangeMapping.originalRange.contains(m.originalRange.startLineNumber)&&o.push({range:m.originalRange,options:m.originalRange.isEmpty()&&c?y.diffDeleteDecorationEmpty:y.diffDeleteDecoration}),p.lineRangeMapping.modifiedRange.contains(m.modifiedRange.startLineNumber)&&d.push({range:m.modifiedRange,options:m.modifiedRange.isEmpty()&&c?y.diffAddDecorationEmpty:y.diffAddDecoration});!p.lineRangeMapping.modifiedRange.isEmpty&&this._options.shouldRenderRevertArrows.read(t)&&!h&&d.push({range:_.Range.fromPositions(new f.Position(p.lineRangeMapping.modifiedRange.startLineNumber,1)),options:y.arrowRevertChange})}if(h)for(const p of h.changes){const m=p.originalRange.toInclusiveRange();m&&o.push({range:m,options:r?y.diffLineDeleteDecorationBackgroundWithIndicator:y.diffLineDeleteDecorationBackground});const v=p.modifiedRange.toInclusiveRange();v&&d.push({range:v,options:r?y.diffLineAddDecorationBackgroundWithIndicator:y.diffLineAddDecorationBackground});for(const b of p.innerChanges||[])o.push({range:b.originalRange,options:y.diffDeleteDecoration}),d.push({range:b.modifiedRange,options:y.diffAddDecoration})}const l=this._diffModel.read(t).activeMovedText.read(t);for(const p of u.movedTexts)o.push({range:p.lineRangeMapping.original.toInclusiveRange(),options:{description:"moved",blockClassName:"movedOriginal"+(p===l?" currentMove":""),blockPadding:[D.MovedBlocksLinesPart.movedCodeBlockPadding,0,D.MovedBlocksLinesPart.movedCodeBlockPadding,D.MovedBlocksLinesPart.movedCodeBlockPadding]}}),d.push({range:p.lineRangeMapping.modified.toInclusiveRange(),options:{description:"moved",blockClassName:"movedModified"+(p===l?" currentMove":""),blockPadding:[4,0,4,4]}});return{originalDecorations:o,modifiedDecorations:d}}),this._register((0,S.applyObservableDecorations)(this._editors.original,this._decorations.map(t=>t?.originalDecorations||[]))),this._register((0,S.applyObservableDecorations)(this._editors.modified,this._decorations.map(t=>t?.modifiedDecorations||[])))}}e.DiffEditorDecorations=g}),define(ne[871],se([1,0,6,2,17,40,175,78,41,187,28,192,143,329,54,47,32]),function(Q,e,L,k,y,D,S,f,_,g,C,s,i,n,t,a,u){"use strict";var h;Object.defineProperty(e,"__esModule",{value:!0}),e.ModelService=void 0;function r(m){return m.toString()}function c(m){const v=new i.StringSHA1,b=m.createSnapshot();let w;for(;w=b.read();)v.update(w);return v.digest()}class o{constructor(v,b,w){this.model=v,this._modelEventListeners=new k.DisposableStore,this.model=v,this._modelEventListeners.add(v.onWillDispose(()=>b(v))),this._modelEventListeners.add(v.onDidChangeLanguage(E=>w(v,E)))}dispose(){this._modelEventListeners.dispose()}}const d=y.isLinux||y.isMacintosh?1:2;class l{constructor(v,b,w,E,I,M,P,x){this.uri=v,this.initialUndoRedoSnapshot=b,this.time=w,this.sharesUndoRedoStack=E,this.heapSize=I,this.sha1=M,this.versionId=P,this.alternativeVersionId=x}}let p=h=class extends k.Disposable{constructor(v,b,w,E,I){super(),this._configurationService=v,this._resourcePropertiesService=b,this._undoRedoService=w,this._languageService=E,this._languageConfigurationService=I,this._onModelAdded=this._register(new L.Emitter),this.onModelAdded=this._onModelAdded.event,this._onModelRemoved=this._register(new L.Emitter),this.onModelRemoved=this._onModelRemoved.event,this._onModelModeChanged=this._register(new L.Emitter),this.onModelLanguageChanged=this._onModelModeChanged.event,this._modelCreationOptionsByLanguageAndResource=Object.create(null),this._models={},this._disposedModels=new Map,this._disposedModelsHeapSize=0,this._register(this._configurationService.onDidChangeConfiguration(M=>this._updateModelOptions(M))),this._updateModelOptions(void 0)}static _readModelOptions(v,b){var w;let E=S.EDITOR_MODEL_DEFAULTS.tabSize;if(v.editor&&typeof v.editor.tabSize<"u"){const O=parseInt(v.editor.tabSize,10);isNaN(O)||(E=O),E<1&&(E=1)}let I="tabSize";if(v.editor&&typeof v.editor.indentSize<"u"&&v.editor.indentSize!=="tabSize"){const O=parseInt(v.editor.indentSize,10);isNaN(O)||(I=Math.max(O,1))}let M=S.EDITOR_MODEL_DEFAULTS.insertSpaces;v.editor&&typeof v.editor.insertSpaces<"u"&&(M=v.editor.insertSpaces==="false"?!1:!!v.editor.insertSpaces);let P=d;const x=v.eol;x===`\r
`?P=2:x===`
`&&(P=1);let T=S.EDITOR_MODEL_DEFAULTS.trimAutoWhitespace;v.editor&&typeof v.editor.trimAutoWhitespace<"u"&&(T=v.editor.trimAutoWhitespace==="false"?!1:!!v.editor.trimAutoWhitespace);let A=S.EDITOR_MODEL_DEFAULTS.detectIndentation;v.editor&&typeof v.editor.detectIndentation<"u"&&(A=v.editor.detectIndentation==="false"?!1:!!v.editor.detectIndentation);let N=S.EDITOR_MODEL_DEFAULTS.largeFileOptimizations;v.editor&&typeof v.editor.largeFileOptimizations<"u"&&(N=v.editor.largeFileOptimizations==="false"?!1:!!v.editor.largeFileOptimizations);let F=S.EDITOR_MODEL_DEFAULTS.bracketPairColorizationOptions;return!((w=v.editor)===null||w===void 0)&&w.bracketPairColorization&&typeof v.editor.bracketPairColorization=="object"&&(F={enabled:!!v.editor.bracketPairColorization.enabled,independentColorPoolPerBracketType:!!v.editor.bracketPairColorization.independentColorPoolPerBracketType}),{isForSimpleWidget:b,tabSize:E,indentSize:I,insertSpaces:M,detectIndentation:A,defaultEOL:P,trimAutoWhitespace:T,largeFileOptimizations:N,bracketPairColorizationOptions:F}}_getEOL(v,b){if(v)return this._resourcePropertiesService.getEOL(v,b);const w=this._configurationService.getValue("files.eol",{overrideIdentifier:b});return w&&typeof w=="string"&&w!=="auto"?w:y.OS===3||y.OS===2?`
`:`\r
`}_shouldRestoreUndoStack(){const v=this._configurationService.getValue("files.restoreUndoStack");return typeof v=="boolean"?v:!0}getCreationOptions(v,b,w){const E=typeof v=="string"?v:v.languageId;let I=this._modelCreationOptionsByLanguageAndResource[E+b];if(!I){const M=this._configurationService.getValue("editor",{overrideIdentifier:E,resource:b}),P=this._getEOL(b,E);I=h._readModelOptions({editor:M,eol:P},w),this._modelCreationOptionsByLanguageAndResource[E+b]=I}return I}_updateModelOptions(v){const b=this._modelCreationOptionsByLanguageAndResource;this._modelCreationOptionsByLanguageAndResource=Object.create(null);const w=Object.keys(this._models);for(let E=0,I=w.length;E<I;E++){const M=w[E],P=this._models[M],x=P.model.getLanguageId(),T=P.model.uri;if(v&&!v.affectsConfiguration("editor",{overrideIdentifier:x,resource:T})&&!v.affectsConfiguration("files.eol",{overrideIdentifier:x,resource:T}))continue;const A=b[x+T],N=this.getCreationOptions(x,T,P.model.isForSimpleWidget);h._setModelOptionsForModel(P.model,N,A)}}static _setModelOptionsForModel(v,b,w){w&&w.defaultEOL!==b.defaultEOL&&v.getLineCount()===1&&v.setEOL(b.defaultEOL===1?0:1),!(w&&w.detectIndentation===b.detectIndentation&&w.insertSpaces===b.insertSpaces&&w.tabSize===b.tabSize&&w.indentSize===b.indentSize&&w.trimAutoWhitespace===b.trimAutoWhitespace&&(0,a.equals)(w.bracketPairColorizationOptions,b.bracketPairColorizationOptions))&&(b.detectIndentation?(v.detectIndentation(b.insertSpaces,b.tabSize),v.updateOptions({trimAutoWhitespace:b.trimAutoWhitespace,bracketColorizationOptions:b.bracketPairColorizationOptions})):v.updateOptions({insertSpaces:b.insertSpaces,tabSize:b.tabSize,indentSize:b.indentSize,trimAutoWhitespace:b.trimAutoWhitespace,bracketColorizationOptions:b.bracketPairColorizationOptions}))}_insertDisposedModel(v){this._disposedModels.set(r(v.uri),v),this._disposedModelsHeapSize+=v.heapSize}_removeDisposedModel(v){const b=this._disposedModels.get(r(v));return b&&(this._disposedModelsHeapSize-=b.heapSize),this._disposedModels.delete(r(v)),b}_ensureDisposedModelsHeapSize(v){if(this._disposedModelsHeapSize>v){const b=[];for(this._disposedModels.forEach(w=>{w.sharesUndoRedoStack||b.push(w)}),b.sort((w,E)=>w.time-E.time);b.length>0&&this._disposedModelsHeapSize>v;){const w=b.shift();this._removeDisposedModel(w.uri),w.initialUndoRedoSnapshot!==null&&this._undoRedoService.restoreSnapshot(w.initialUndoRedoSnapshot)}}}_createModelData(v,b,w,E){const I=this.getCreationOptions(b,w,E),M=new D.TextModel(v,b,I,w,this._undoRedoService,this._languageService,this._languageConfigurationService);if(w&&this._disposedModels.has(r(w))){const T=this._removeDisposedModel(w),A=this._undoRedoService.getElements(w),N=c(M)===T.sha1;if(N||T.sharesUndoRedoStack){for(const F of A.past)(0,n.isEditStackElement)(F)&&F.matchesResource(w)&&F.setModel(M);for(const F of A.future)(0,n.isEditStackElement)(F)&&F.matchesResource(w)&&F.setModel(M);this._undoRedoService.setElementsValidFlag(w,!0,F=>(0,n.isEditStackElement)(F)&&F.matchesResource(w)),N&&(M._overwriteVersionId(T.versionId),M._overwriteAlternativeVersionId(T.alternativeVersionId),M._overwriteInitialUndoRedoSnapshot(T.initialUndoRedoSnapshot))}else T.initialUndoRedoSnapshot!==null&&this._undoRedoService.restoreSnapshot(T.initialUndoRedoSnapshot)}const P=r(M.uri);if(this._models[P])throw new Error("ModelService: Cannot add model because it already exists!");const x=new o(M,T=>this._onWillDispose(T),(T,A)=>this._onDidChangeLanguage(T,A));return this._models[P]=x,x}createModel(v,b,w,E=!1){let I;return b?I=this._createModelData(v,b,w,E):I=this._createModelData(v,f.PLAINTEXT_LANGUAGE_ID,w,E),this._onModelAdded.fire(I.model),I.model}getModels(){const v=[],b=Object.keys(this._models);for(let w=0,E=b.length;w<E;w++){const I=b[w];v.push(this._models[I].model)}return v}getModel(v){const b=r(v),w=this._models[b];return w?w.model:null}_schemaShouldMaintainUndoRedoElements(v){return v.scheme===t.Schemas.file||v.scheme===t.Schemas.vscodeRemote||v.scheme===t.Schemas.vscodeUserData||v.scheme===t.Schemas.vscodeNotebookCell||v.scheme==="fake-fs"}_onWillDispose(v){const b=r(v.uri),w=this._models[b],E=this._undoRedoService.getUriComparisonKey(v.uri)!==v.uri.toString();let I=!1,M=0;if(E||this._shouldRestoreUndoStack()&&this._schemaShouldMaintainUndoRedoElements(v.uri)){const x=this._undoRedoService.getElements(v.uri);if(x.past.length>0||x.future.length>0){for(const T of x.past)(0,n.isEditStackElement)(T)&&T.matchesResource(v.uri)&&(I=!0,M+=T.heapSize(v.uri),T.setModel(v.uri));for(const T of x.future)(0,n.isEditStackElement)(T)&&T.matchesResource(v.uri)&&(I=!0,M+=T.heapSize(v.uri),T.setModel(v.uri))}}const P=h.MAX_MEMORY_FOR_CLOSED_FILES_UNDO_STACK;if(I)if(!E&&M>P){const x=w.model.getInitialUndoRedoSnapshot();x!==null&&this._undoRedoService.restoreSnapshot(x)}else this._ensureDisposedModelsHeapSize(P-M),this._undoRedoService.setElementsValidFlag(v.uri,!1,x=>(0,n.isEditStackElement)(x)&&x.matchesResource(v.uri)),this._insertDisposedModel(new l(v.uri,w.model.getInitialUndoRedoSnapshot(),Date.now(),E,M,c(v),v.getVersionId(),v.getAlternativeVersionId()));else if(!E){const x=w.model.getInitialUndoRedoSnapshot();x!==null&&this._undoRedoService.restoreSnapshot(x)}delete this._models[b],w.dispose(),delete this._modelCreationOptionsByLanguageAndResource[v.getLanguageId()+v.uri],this._onModelRemoved.fire(v)}_onDidChangeLanguage(v,b){const w=b.oldLanguage,E=v.getLanguageId(),I=this.getCreationOptions(w,v.uri,v.isForSimpleWidget),M=this.getCreationOptions(E,v.uri,v.isForSimpleWidget);h._setModelOptionsForModel(v,M,I),this._onModelModeChanged.fire({model:v,oldLanguageId:w})}};e.ModelService=p,p.MAX_MEMORY_FOR_CLOSED_FILES_UNDO_STACK=20*1024*1024,e.ModelService=p=h=ke([fe(0,C.IConfigurationService),fe(1,g.ITextResourcePropertiesService),fe(2,s.IUndoRedoService),fe(3,_.ILanguageService),fe(4,u.ILanguageConfigurationService)],p)}),define(ne[872],se([1,0,14,12,5,209,40,111,211,532,281,67]),function(Q,e,L,k,y,D,S,f,_,g,C,s){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ViewModelLinesFromModelAsIs=e.ViewModelLinesFromProjectedModel=void 0;class i{constructor(o,d,l,p,m,v,b,w,E,I){this._editorId=o,this.model=d,this._validModelVersionId=-1,this._domLineBreaksComputerFactory=l,this._monospaceLineBreaksComputerFactory=p,this.fontInfo=m,this.tabSize=v,this.wrappingStrategy=b,this.wrappingColumn=w,this.wrappingIndent=E,this.wordBreak=I,this._constructLines(!0,null)}dispose(){this.hiddenAreasDecorationIds=this.model.deltaDecorations(this.hiddenAreasDecorationIds,[])}createCoordinatesConverter(){return new u(this)}_constructLines(o,d){this.modelLineProjections=[],o&&(this.hiddenAreasDecorationIds=this.model.deltaDecorations(this.hiddenAreasDecorationIds,[]));const l=this.model.getLinesContent(),p=this.model.getInjectedTextDecorations(this._editorId),m=l.length,v=this.createLineBreaksComputer(),b=new L.ArrayQueue(f.LineInjectedText.fromDecorations(p));for(let A=0;A<m;A++){const N=b.takeWhile(F=>F.lineNumber===A+1);v.addRequest(l[A],N,d?d[A]:null)}const w=v.finalize(),E=[],I=this.hiddenAreasDecorationIds.map(A=>this.model.getDecorationRange(A)).sort(y.Range.compareRangesUsingStarts);let M=1,P=0,x=-1,T=x+1<I.length?P+1:m+2;for(let A=0;A<m;A++){const N=A+1;N===T&&(x++,M=I[x].startLineNumber,P=I[x].endLineNumber,T=x+1<I.length?P+1:m+2);const F=N>=M&&N<=P,O=(0,g.createModelLineProjection)(w[A],!F);E[A]=O.getViewLineCount(),this.modelLineProjections[A]=O}this._validModelVersionId=this.model.getVersionId(),this.projectedModelLineLineCounts=new C.ConstantTimePrefixSumComputer(E)}getHiddenAreas(){return this.hiddenAreasDecorationIds.map(o=>this.model.getDecorationRange(o))}setHiddenAreas(o){const d=o.map(P=>this.model.validateRange(P)),l=n(d),p=this.hiddenAreasDecorationIds.map(P=>this.model.getDecorationRange(P)).sort(y.Range.compareRangesUsingStarts);if(l.length===p.length){let P=!1;for(let x=0;x<l.length;x++)if(!l[x].equalsRange(p[x])){P=!0;break}if(!P)return!1}const m=l.map(P=>({range:P,options:S.ModelDecorationOptions.EMPTY}));this.hiddenAreasDecorationIds=this.model.deltaDecorations(this.hiddenAreasDecorationIds,m);const v=l;let b=1,w=0,E=-1,I=E+1<v.length?w+1:this.modelLineProjections.length+2,M=!1;for(let P=0;P<this.modelLineProjections.length;P++){const x=P+1;x===I&&(E++,b=v[E].startLineNumber,w=v[E].endLineNumber,I=E+1<v.length?w+1:this.modelLineProjections.length+2);let T=!1;if(x>=b&&x<=w?this.modelLineProjections[P].isVisible()&&(this.modelLineProjections[P]=this.modelLineProjections[P].setVisible(!1),T=!0):(M=!0,this.modelLineProjections[P].isVisible()||(this.modelLineProjections[P]=this.modelLineProjections[P].setVisible(!0),T=!0)),T){const A=this.modelLineProjections[P].getViewLineCount();this.projectedModelLineLineCounts.setValue(P,A)}}return M||this.setHiddenAreas([]),!0}modelPositionIsVisible(o,d){return o<1||o>this.modelLineProjections.length?!1:this.modelLineProjections[o-1].isVisible()}getModelLineViewLineCount(o){return o<1||o>this.modelLineProjections.length?1:this.modelLineProjections[o-1].getViewLineCount()}setTabSize(o){return this.tabSize===o?!1:(this.tabSize=o,this._constructLines(!1,null),!0)}setWrappingSettings(o,d,l,p,m){const v=this.fontInfo.equals(o),b=this.wrappingStrategy===d,w=this.wrappingColumn===l,E=this.wrappingIndent===p,I=this.wordBreak===m;if(v&&b&&w&&E&&I)return!1;const M=v&&b&&!w&&E&&I;this.fontInfo=o,this.wrappingStrategy=d,this.wrappingColumn=l,this.wrappingIndent=p,this.wordBreak=m;let P=null;if(M){P=[];for(let x=0,T=this.modelLineProjections.length;x<T;x++)P[x]=this.modelLineProjections[x].getProjectionData()}return this._constructLines(!1,P),!0}createLineBreaksComputer(){return(this.wrappingStrategy==="advanced"?this._domLineBreaksComputerFactory:this._monospaceLineBreaksComputerFactory).createLineBreaksComputer(this.fontInfo,this.tabSize,this.wrappingColumn,this.wrappingIndent,this.wordBreak)}onModelFlushed(){this._constructLines(!0,null)}onModelLinesDeleted(o,d,l){if(!o||o<=this._validModelVersionId)return null;const p=d===1?1:this.projectedModelLineLineCounts.getPrefixSum(d-1)+1,m=this.projectedModelLineLineCounts.getPrefixSum(l);return this.modelLineProjections.splice(d-1,l-d+1),this.projectedModelLineLineCounts.removeValues(d-1,l-d+1),new _.ViewLinesDeletedEvent(p,m)}onModelLinesInserted(o,d,l,p){if(!o||o<=this._validModelVersionId)return null;const m=d>2&&!this.modelLineProjections[d-2].isVisible(),v=d===1?1:this.projectedModelLineLineCounts.getPrefixSum(d-1)+1;let b=0;const w=[],E=[];for(let I=0,M=p.length;I<M;I++){const P=(0,g.createModelLineProjection)(p[I],!m);w.push(P);const x=P.getViewLineCount();b+=x,E[I]=x}return this.modelLineProjections=this.modelLineProjections.slice(0,d-1).concat(w).concat(this.modelLineProjections.slice(d-1)),this.projectedModelLineLineCounts.insertValues(d-1,E),new _.ViewLinesInsertedEvent(v,v+b-1)}onModelLineChanged(o,d,l){if(o!==null&&o<=this._validModelVersionId)return[!1,null,null,null];const p=d-1,m=this.modelLineProjections[p].getViewLineCount(),v=this.modelLineProjections[p].isVisible(),b=(0,g.createModelLineProjection)(l,v);this.modelLineProjections[p]=b;const w=this.modelLineProjections[p].getViewLineCount();let E=!1,I=0,M=-1,P=0,x=-1,T=0,A=-1;m>w?(I=this.projectedModelLineLineCounts.getPrefixSum(d-1)+1,M=I+w-1,T=M+1,A=T+(m-w)-1,E=!0):m<w?(I=this.projectedModelLineLineCounts.getPrefixSum(d-1)+1,M=I+m-1,P=M+1,x=P+(w-m)-1,E=!0):(I=this.projectedModelLineLineCounts.getPrefixSum(d-1)+1,M=I+w-1),this.projectedModelLineLineCounts.setValue(p,w);const N=I<=M?new _.ViewLinesChangedEvent(I,M-I+1):null,F=P<=x?new _.ViewLinesInsertedEvent(P,x):null,O=T<=A?new _.ViewLinesDeletedEvent(T,A):null;return[E,N,F,O]}acceptVersionId(o){this._validModelVersionId=o,this.modelLineProjections.length===1&&!this.modelLineProjections[0].isVisible()&&this.setHiddenAreas([])}getViewLineCount(){return this.projectedModelLineLineCounts.getTotalSum()}_toValidViewLineNumber(o){if(o<1)return 1;const d=this.getViewLineCount();return o>d?d:o|0}getActiveIndentGuide(o,d,l){o=this._toValidViewLineNumber(o),d=this._toValidViewLineNumber(d),l=this._toValidViewLineNumber(l);const p=this.convertViewPositionToModelPosition(o,this.getViewLineMinColumn(o)),m=this.convertViewPositionToModelPosition(d,this.getViewLineMinColumn(d)),v=this.convertViewPositionToModelPosition(l,this.getViewLineMinColumn(l)),b=this.model.guides.getActiveIndentGuide(p.lineNumber,m.lineNumber,v.lineNumber),w=this.convertModelPositionToViewPosition(b.startLineNumber,1),E=this.convertModelPositionToViewPosition(b.endLineNumber,this.model.getLineMaxColumn(b.endLineNumber));return{startLineNumber:w.lineNumber,endLineNumber:E.lineNumber,indent:b.indent}}getViewLineInfo(o){o=this._toValidViewLineNumber(o);const d=this.projectedModelLineLineCounts.getIndexOf(o-1),l=d.index,p=d.remainder;return new t(l+1,p)}getMinColumnOfViewLine(o){return this.modelLineProjections[o.modelLineNumber-1].getViewLineMinColumn(this.model,o.modelLineNumber,o.modelLineWrappedLineIdx)}getMaxColumnOfViewLine(o){return this.modelLineProjections[o.modelLineNumber-1].getViewLineMaxColumn(this.model,o.modelLineNumber,o.modelLineWrappedLineIdx)}getModelStartPositionOfViewLine(o){const d=this.modelLineProjections[o.modelLineNumber-1],l=d.getViewLineMinColumn(this.model,o.modelLineNumber,o.modelLineWrappedLineIdx),p=d.getModelColumnOfViewPosition(o.modelLineWrappedLineIdx,l);return new k.Position(o.modelLineNumber,p)}getModelEndPositionOfViewLine(o){const d=this.modelLineProjections[o.modelLineNumber-1],l=d.getViewLineMaxColumn(this.model,o.modelLineNumber,o.modelLineWrappedLineIdx),p=d.getModelColumnOfViewPosition(o.modelLineWrappedLineIdx,l);return new k.Position(o.modelLineNumber,p)}getViewLineInfosGroupedByModelRanges(o,d){const l=this.getViewLineInfo(o),p=this.getViewLineInfo(d),m=new Array;let v=this.getModelStartPositionOfViewLine(l),b=new Array;for(let w=l.modelLineNumber;w<=p.modelLineNumber;w++){const E=this.modelLineProjections[w-1];if(E.isVisible()){const I=w===l.modelLineNumber?l.modelLineWrappedLineIdx:0,M=w===p.modelLineNumber?p.modelLineWrappedLineIdx+1:E.getViewLineCount();for(let P=I;P<M;P++)b.push(new t(w,P))}if(!E.isVisible()&&v){const I=new k.Position(w-1,this.model.getLineMaxColumn(w-1)+1),M=y.Range.fromPositions(v,I);m.push(new a(M,b)),b=[],v=null}else E.isVisible()&&!v&&(v=new k.Position(w,1))}if(v){const w=y.Range.fromPositions(v,this.getModelEndPositionOfViewLine(p));m.push(new a(w,b))}return m}getViewLinesBracketGuides(o,d,l,p){const m=l?this.convertViewPositionToModelPosition(l.lineNumber,l.column):null,v=[];for(const b of this.getViewLineInfosGroupedByModelRanges(o,d)){const w=b.modelRange.startLineNumber,E=this.model.guides.getLinesBracketGuides(w,b.modelRange.endLineNumber,m,p);for(const I of b.viewLines){const P=E[I.modelLineNumber-w].map(x=>{if(x.forWrappedLinesAfterColumn!==-1&&this.modelLineProjections[I.modelLineNumber-1].getViewPositionOfModelPosition(0,x.forWrappedLinesAfterColumn).lineNumber>=I.modelLineWrappedLineIdx||x.forWrappedLinesBeforeOrAtColumn!==-1&&this.modelLineProjections[I.modelLineNumber-1].getViewPositionOfModelPosition(0,x.forWrappedLinesBeforeOrAtColumn).lineNumber<I.modelLineWrappedLineIdx)return;if(!x.horizontalLine)return x;let T=-1;if(x.column!==-1){const F=this.modelLineProjections[I.modelLineNumber-1].getViewPositionOfModelPosition(0,x.column);if(F.lineNumber===I.modelLineWrappedLineIdx)T=F.column;else if(F.lineNumber<I.modelLineWrappedLineIdx)T=this.getMinColumnOfViewLine(I);else if(F.lineNumber>I.modelLineWrappedLineIdx)return}const A=this.convertModelPositionToViewPosition(I.modelLineNumber,x.horizontalLine.endColumn),N=this.modelLineProjections[I.modelLineNumber-1].getViewPositionOfModelPosition(0,x.horizontalLine.endColumn);return N.lineNumber===I.modelLineWrappedLineIdx?new D.IndentGuide(x.visibleColumn,T,x.className,new D.IndentGuideHorizontalLine(x.horizontalLine.top,A.column),-1,-1):N.lineNumber<I.modelLineWrappedLineIdx||x.visibleColumn!==-1?void 0:new D.IndentGuide(x.visibleColumn,T,x.className,new D.IndentGuideHorizontalLine(x.horizontalLine.top,this.getMaxColumnOfViewLine(I)),-1,-1)});v.push(P.filter(x=>!!x))}}return v}getViewLinesIndentGuides(o,d){o=this._toValidViewLineNumber(o),d=this._toValidViewLineNumber(d);const l=this.convertViewPositionToModelPosition(o,this.getViewLineMinColumn(o)),p=this.convertViewPositionToModelPosition(d,this.getViewLineMaxColumn(d));let m=[];const v=[],b=[],w=l.lineNumber-1,E=p.lineNumber-1;let I=null;for(let T=w;T<=E;T++){const A=this.modelLineProjections[T];if(A.isVisible()){const N=A.getViewLineNumberOfModelPosition(0,T===w?l.column:1),F=A.getViewLineNumberOfModelPosition(0,this.model.getLineMaxColumn(T+1)),O=F-N+1;let W=0;O>1&&A.getViewLineMinColumn(this.model,T+1,F)===1&&(W=N===0?1:2),v.push(O),b.push(W),I===null&&(I=new k.Position(T+1,0))}else I!==null&&(m=m.concat(this.model.guides.getLinesIndentGuides(I.lineNumber,T)),I=null)}I!==null&&(m=m.concat(this.model.guides.getLinesIndentGuides(I.lineNumber,p.lineNumber)),I=null);const M=d-o+1,P=new Array(M);let x=0;for(let T=0,A=m.length;T<A;T++){let N=m[T];const F=Math.min(M-x,v[T]),O=b[T];let W;O===2?W=0:O===1?W=1:W=F;for(let U=0;U<F;U++)U===W&&(N=0),P[x++]=N}return P}getViewLineContent(o){const d=this.getViewLineInfo(o);return this.modelLineProjections[d.modelLineNumber-1].getViewLineContent(this.model,d.modelLineNumber,d.modelLineWrappedLineIdx)}getViewLineLength(o){const d=this.getViewLineInfo(o);return this.modelLineProjections[d.modelLineNumber-1].getViewLineLength(this.model,d.modelLineNumber,d.modelLineWrappedLineIdx)}getViewLineMinColumn(o){const d=this.getViewLineInfo(o);return this.modelLineProjections[d.modelLineNumber-1].getViewLineMinColumn(this.model,d.modelLineNumber,d.modelLineWrappedLineIdx)}getViewLineMaxColumn(o){const d=this.getViewLineInfo(o);return this.modelLineProjections[d.modelLineNumber-1].getViewLineMaxColumn(this.model,d.modelLineNumber,d.modelLineWrappedLineIdx)}getViewLineData(o){const d=this.getViewLineInfo(o);return this.modelLineProjections[d.modelLineNumber-1].getViewLineData(this.model,d.modelLineNumber,d.modelLineWrappedLineIdx)}getViewLinesData(o,d,l){o=this._toValidViewLineNumber(o),d=this._toValidViewLineNumber(d);const p=this.projectedModelLineLineCounts.getIndexOf(o-1);let m=o;const v=p.index,b=p.remainder,w=[];for(let E=v,I=this.model.getLineCount();E<I;E++){const M=this.modelLineProjections[E];if(!M.isVisible())continue;const P=E===v?b:0;let x=M.getViewLineCount()-P,T=!1;if(m+x>d&&(T=!0,x=d-m+1),M.getViewLinesData(this.model,E+1,P,x,m-o,l,w),m+=x,T)break}return w}validateViewPosition(o,d,l){o=this._toValidViewLineNumber(o);const p=this.projectedModelLineLineCounts.getIndexOf(o-1),m=p.index,v=p.remainder,b=this.modelLineProjections[m],w=b.getViewLineMinColumn(this.model,m+1,v),E=b.getViewLineMaxColumn(this.model,m+1,v);d<w&&(d=w),d>E&&(d=E);const I=b.getModelColumnOfViewPosition(v,d);return this.model.validatePosition(new k.Position(m+1,I)).equals(l)?new k.Position(o,d):this.convertModelPositionToViewPosition(l.lineNumber,l.column)}validateViewRange(o,d){const l=this.validateViewPosition(o.startLineNumber,o.startColumn,d.getStartPosition()),p=this.validateViewPosition(o.endLineNumber,o.endColumn,d.getEndPosition());return new y.Range(l.lineNumber,l.column,p.lineNumber,p.column)}convertViewPositionToModelPosition(o,d){const l=this.getViewLineInfo(o),p=this.modelLineProjections[l.modelLineNumber-1].getModelColumnOfViewPosition(l.modelLineWrappedLineIdx,d);return this.model.validatePosition(new k.Position(l.modelLineNumber,p))}convertViewRangeToModelRange(o){const d=this.convertViewPositionToModelPosition(o.startLineNumber,o.startColumn),l=this.convertViewPositionToModelPosition(o.endLineNumber,o.endColumn);return new y.Range(d.lineNumber,d.column,l.lineNumber,l.column)}convertModelPositionToViewPosition(o,d,l=2,p=!1,m=!1){const v=this.model.validatePosition(new k.Position(o,d)),b=v.lineNumber,w=v.column;let E=b-1,I=!1;if(m)for(;E<this.modelLineProjections.length&&!this.modelLineProjections[E].isVisible();)E++,I=!0;else for(;E>0&&!this.modelLineProjections[E].isVisible();)E--,I=!0;if(E===0&&!this.modelLineProjections[E].isVisible())return new k.Position(p?0:1,1);const M=1+this.projectedModelLineLineCounts.getPrefixSum(E);let P;return I?m?P=this.modelLineProjections[E].getViewPositionOfModelPosition(M,1,l):P=this.modelLineProjections[E].getViewPositionOfModelPosition(M,this.model.getLineMaxColumn(E+1),l):P=this.modelLineProjections[b-1].getViewPositionOfModelPosition(M,w,l),P}convertModelRangeToViewRange(o,d=0){if(o.isEmpty()){const l=this.convertModelPositionToViewPosition(o.startLineNumber,o.startColumn,d);return y.Range.fromPositions(l)}else{const l=this.convertModelPositionToViewPosition(o.startLineNumber,o.startColumn,1),p=this.convertModelPositionToViewPosition(o.endLineNumber,o.endColumn,0);return new y.Range(l.lineNumber,l.column,p.lineNumber,p.column)}}getViewLineNumberOfModelPosition(o,d){let l=o-1;if(this.modelLineProjections[l].isVisible()){const m=1+this.projectedModelLineLineCounts.getPrefixSum(l);return this.modelLineProjections[l].getViewLineNumberOfModelPosition(m,d)}for(;l>0&&!this.modelLineProjections[l].isVisible();)l--;if(l===0&&!this.modelLineProjections[l].isVisible())return 1;const p=1+this.projectedModelLineLineCounts.getPrefixSum(l);return this.modelLineProjections[l].getViewLineNumberOfModelPosition(p,this.model.getLineMaxColumn(l+1))}getDecorationsInRange(o,d,l,p,m){const v=this.convertViewPositionToModelPosition(o.startLineNumber,o.startColumn),b=this.convertViewPositionToModelPosition(o.endLineNumber,o.endColumn);if(b.lineNumber-v.lineNumber<=o.endLineNumber-o.startLineNumber)return this.model.getDecorationsInRange(new y.Range(v.lineNumber,1,b.lineNumber,b.column),d,l,p,m);let w=[];const E=v.lineNumber-1,I=b.lineNumber-1;let M=null;for(let A=E;A<=I;A++)if(this.modelLineProjections[A].isVisible())M===null&&(M=new k.Position(A+1,A===E?v.column:1));else if(M!==null){const F=this.model.getLineMaxColumn(A);w=w.concat(this.model.getDecorationsInRange(new y.Range(M.lineNumber,M.column,A,F),d,l,p)),M=null}M!==null&&(w=w.concat(this.model.getDecorationsInRange(new y.Range(M.lineNumber,M.column,b.lineNumber,b.column),d,l,p)),M=null),w.sort((A,N)=>{const F=y.Range.compareRangesUsingStarts(A.range,N.range);return F===0?A.id<N.id?-1:A.id>N.id?1:0:F});const P=[];let x=0,T=null;for(const A of w){const N=A.id;T!==N&&(T=N,P[x++]=A)}return P}getInjectedTextAt(o){const d=this.getViewLineInfo(o.lineNumber);return this.modelLineProjections[d.modelLineNumber-1].getInjectedTextAt(d.modelLineWrappedLineIdx,o.column)}normalizePosition(o,d){const l=this.getViewLineInfo(o.lineNumber);return this.modelLineProjections[l.modelLineNumber-1].normalizePosition(l.modelLineWrappedLineIdx,o,d)}getLineIndentColumn(o){const d=this.getViewLineInfo(o);return d.modelLineWrappedLineIdx===0?this.model.getLineIndentColumn(d.modelLineNumber):0}}e.ViewModelLinesFromProjectedModel=i;function n(c){if(c.length===0)return[];const o=c.slice();o.sort(y.Range.compareRangesUsingStarts);const d=[];let l=o[0].startLineNumber,p=o[0].endLineNumber;for(let m=1,v=o.length;m<v;m++){const b=o[m];b.startLineNumber>p+1?(d.push(new y.Range(l,1,p,1)),l=b.startLineNumber,p=b.endLineNumber):b.endLineNumber>p&&(p=b.endLineNumber)}return d.push(new y.Range(l,1,p,1)),d}class t{constructor(o,d){this.modelLineNumber=o,this.modelLineWrappedLineIdx=d}}class a{constructor(o,d){this.modelRange=o,this.viewLines=d}}class u{constructor(o){this._lines=o}convertViewPositionToModelPosition(o){return this._lines.convertViewPositionToModelPosition(o.lineNumber,o.column)}convertViewRangeToModelRange(o){return this._lines.convertViewRangeToModelRange(o)}validateViewPosition(o,d){return this._lines.validateViewPosition(o.lineNumber,o.column,d)}validateViewRange(o,d){return this._lines.validateViewRange(o,d)}convertModelPositionToViewPosition(o,d,l,p){return this._lines.convertModelPositionToViewPosition(o.lineNumber,o.column,d,l,p)}convertModelRangeToViewRange(o,d){return this._lines.convertModelRangeToViewRange(o,d)}modelPositionIsVisible(o){return this._lines.modelPositionIsVisible(o.lineNumber,o.column)}getModelLineViewLineCount(o){return this._lines.getModelLineViewLineCount(o)}getViewLineNumberOfModelPosition(o,d){return this._lines.getViewLineNumberOfModelPosition(o,d)}}class h{constructor(o){this.model=o}dispose(){}createCoordinatesConverter(){return new r(this)}getHiddenAreas(){return[]}setHiddenAreas(o){return!1}setTabSize(o){return!1}setWrappingSettings(o,d,l,p){return!1}createLineBreaksComputer(){const o=[];return{addRequest:(d,l,p)=>{o.push(null)},finalize:()=>o}}onModelFlushed(){}onModelLinesDeleted(o,d,l){return new _.ViewLinesDeletedEvent(d,l)}onModelLinesInserted(o,d,l,p){return new _.ViewLinesInsertedEvent(d,l)}onModelLineChanged(o,d,l){return[!1,new _.ViewLinesChangedEvent(d,1),null,null]}acceptVersionId(o){}getViewLineCount(){return this.model.getLineCount()}getActiveIndentGuide(o,d,l){return{startLineNumber:o,endLineNumber:o,indent:0}}getViewLinesBracketGuides(o,d,l){return new Array(d-o+1).fill([])}getViewLinesIndentGuides(o,d){const l=d-o+1,p=new Array(l);for(let m=0;m<l;m++)p[m]=0;return p}getViewLineContent(o){return this.model.getLineContent(o)}getViewLineLength(o){return this.model.getLineLength(o)}getViewLineMinColumn(o){return this.model.getLineMinColumn(o)}getViewLineMaxColumn(o){return this.model.getLineMaxColumn(o)}getViewLineData(o){const d=this.model.tokenization.getLineTokens(o),l=d.getLineContent();return new s.ViewLineData(l,!1,1,l.length+1,0,d.inflate(),null)}getViewLinesData(o,d,l){const p=this.model.getLineCount();o=Math.min(Math.max(1,o),p),d=Math.min(Math.max(1,d),p);const m=[];for(let v=o;v<=d;v++){const b=v-o;m[b]=l[b]?this.getViewLineData(v):null}return m}getDecorationsInRange(o,d,l,p,m){return this.model.getDecorationsInRange(o,d,l,p,m)}normalizePosition(o,d){return this.model.normalizePosition(o,d)}getLineIndentColumn(o){return this.model.getLineIndentColumn(o)}getInjectedTextAt(o){return null}}e.ViewModelLinesFromModelAsIs=h;class r{constructor(o){this._lines=o}_validPosition(o){return this._lines.model.validatePosition(o)}_validRange(o){return this._lines.model.validateRange(o)}convertViewPositionToModelPosition(o){return this._validPosition(o)}convertViewRangeToModelRange(o){return this._validRange(o)}validateViewPosition(o,d){return this._validPosition(d)}validateViewRange(o,d){return this._validRange(d)}convertModelPositionToViewPosition(o){return this._validPosition(o)}convertModelRangeToViewRange(o){return this._validRange(o)}modelPositionIsVisible(o){const d=this._lines.model.getLineCount();return!(o.lineNumber<1||o.lineNumber>d)}getModelLineViewLineCount(o){return 1}getViewLineNumberOfModelPosition(o,d){return o}}}),define(ne[873],se([1,0,14,13,38,2,17,11,36,774,74,12,5,111,29,78,326,211,536,328,67,325,213,872]),function(Q,e,L,k,y,D,S,f,_,g,C,s,i,n,t,a,u,h,r,c,o,d,l,p){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ViewModel=void 0;const m=!0;class v extends D.Disposable{constructor(T,A,N,F,O,W,U,j,R){if(super(),this.languageConfigurationService=U,this._themeService=j,this._attachedView=R,this.hiddenAreasModel=new E,this.previousHiddenAreas=[],this._editorId=T,this._configuration=A,this.model=N,this._eventDispatcher=new l.ViewModelEventDispatcher,this.onEvent=this._eventDispatcher.onEvent,this.cursorConfig=new C.CursorConfiguration(this.model.getLanguageId(),this.model.getOptions(),this._configuration,this.languageConfigurationService),this._updateConfigurationViewLineCount=this._register(new k.RunOnceScheduler(()=>this._updateConfigurationViewLineCountNow(),0)),this._hasFocus=!1,this._viewportStart=b.create(this.model),m&&this.model.isTooLargeForTokenization())this._lines=new p.ViewModelLinesFromModelAsIs(this.model);else{const K=this._configuration.options,G=K.get(49),Z=K.get(136),J=K.get(143),X=K.get(135),H=K.get(127);this._lines=new p.ViewModelLinesFromProjectedModel(this._editorId,this.model,F,O,G,this.model.getOptions().tabSize,Z,J.wrappingColumn,X,H)}this.coordinatesConverter=this._lines.createCoordinatesConverter(),this._cursor=this._register(new g.CursorsController(N,this,this.coordinatesConverter,this.cursorConfig)),this.viewLayout=this._register(new r.ViewLayout(this._configuration,this.getLineCount(),W)),this._register(this.viewLayout.onDidScroll(K=>{K.scrollTopChanged&&this._handleVisibleLinesChanged(),K.scrollTopChanged&&this._viewportStart.invalidate(),this._eventDispatcher.emitSingleViewEvent(new h.ViewScrollChangedEvent(K)),this._eventDispatcher.emitOutgoingEvent(new l.ScrollChangedEvent(K.oldScrollWidth,K.oldScrollLeft,K.oldScrollHeight,K.oldScrollTop,K.scrollWidth,K.scrollLeft,K.scrollHeight,K.scrollTop))})),this._register(this.viewLayout.onDidContentSizeChange(K=>{this._eventDispatcher.emitOutgoingEvent(K)})),this._decorations=new d.ViewModelDecorations(this._editorId,this.model,this._configuration,this._lines,this.coordinatesConverter),this._registerModelEvents(),this._register(this._configuration.onDidChangeFast(K=>{try{const G=this._eventDispatcher.beginEmitViewEvents();this._onConfigurationChanged(G,K)}finally{this._eventDispatcher.endEmitViewEvents()}})),this._register(c.MinimapTokensColorTracker.getInstance().onDidChange(()=>{this._eventDispatcher.emitSingleViewEvent(new h.ViewTokensColorsChangedEvent)})),this._register(this._themeService.onDidColorThemeChange(K=>{this._invalidateDecorationsColorCache(),this._eventDispatcher.emitSingleViewEvent(new h.ViewThemeChangedEvent(K))})),this._updateConfigurationViewLineCountNow()}dispose(){super.dispose(),this._decorations.dispose(),this._lines.dispose(),this._viewportStart.dispose(),this._eventDispatcher.dispose()}createLineBreaksComputer(){return this._lines.createLineBreaksComputer()}addViewEventHandler(T){this._eventDispatcher.addViewEventHandler(T)}removeViewEventHandler(T){this._eventDispatcher.removeViewEventHandler(T)}_updateConfigurationViewLineCountNow(){this._configuration.setViewLineCount(this._lines.getViewLineCount())}getModelVisibleRanges(){const T=this.viewLayout.getLinesViewportData(),A=new i.Range(T.startLineNumber,this.getLineMinColumn(T.startLineNumber),T.endLineNumber,this.getLineMaxColumn(T.endLineNumber));return this._toModelVisibleRanges(A)}visibleLinesStabilized(){const T=this.getModelVisibleRanges();this._attachedView.setVisibleLines(T,!0)}_handleVisibleLinesChanged(){const T=this.getModelVisibleRanges();this._attachedView.setVisibleLines(T,!1)}setHasFocus(T){this._hasFocus=T,this._cursor.setHasFocus(T),this._eventDispatcher.emitSingleViewEvent(new h.ViewFocusChangedEvent(T)),this._eventDispatcher.emitOutgoingEvent(new l.FocusChangedEvent(!T,T))}onCompositionStart(){this._eventDispatcher.emitSingleViewEvent(new h.ViewCompositionStartEvent)}onCompositionEnd(){this._eventDispatcher.emitSingleViewEvent(new h.ViewCompositionEndEvent)}_captureStableViewport(){if(this._viewportStart.isValid&&this.viewLayout.getCurrentScrollTop()>0){const T=new s.Position(this._viewportStart.viewLineNumber,this.getLineMinColumn(this._viewportStart.viewLineNumber)),A=this.coordinatesConverter.convertViewPositionToModelPosition(T);return new P(A,this._viewportStart.startLineDelta)}return new P(null,0)}_onConfigurationChanged(T,A){const N=this._captureStableViewport(),F=this._configuration.options,O=F.get(49),W=F.get(136),U=F.get(143),j=F.get(135),R=F.get(127);this._lines.setWrappingSettings(O,W,U.wrappingColumn,j,R)&&(T.emitViewEvent(new h.ViewFlushedEvent),T.emitViewEvent(new h.ViewLineMappingChangedEvent),T.emitViewEvent(new h.ViewDecorationsChangedEvent(null)),this._cursor.onLineMappingChanged(T),this._decorations.onLineMappingChanged(),this.viewLayout.onFlushed(this.getLineCount()),this._updateConfigurationViewLineCount.schedule()),A.hasChanged(89)&&(this._decorations.reset(),T.emitViewEvent(new h.ViewDecorationsChangedEvent(null))),T.emitViewEvent(new h.ViewConfigurationChangedEvent(A)),this.viewLayout.onConfigurationChanged(A),N.recoverViewportStart(this.coordinatesConverter,this.viewLayout),C.CursorConfiguration.shouldRecreate(A)&&(this.cursorConfig=new C.CursorConfiguration(this.model.getLanguageId(),this.model.getOptions(),this._configuration,this.languageConfigurationService),this._cursor.updateConfiguration(this.cursorConfig))}_registerModelEvents(){this._register(this.model.onDidChangeContentOrInjectedText(T=>{try{const N=this._eventDispatcher.beginEmitViewEvents();let F=!1,O=!1;const W=T instanceof n.InternalModelContentChangeEvent?T.rawContentChangedEvent.changes:T.changes,U=T instanceof n.InternalModelContentChangeEvent?T.rawContentChangedEvent.versionId:null,j=this._lines.createLineBreaksComputer();for(const G of W)switch(G.changeType){case 4:{for(let Z=0;Z<G.detail.length;Z++){const J=G.detail[Z];let X=G.injectedTexts[Z];X&&(X=X.filter(H=>!H.ownerId||H.ownerId===this._editorId)),j.addRequest(J,X,null)}break}case 2:{let Z=null;G.injectedText&&(Z=G.injectedText.filter(J=>!J.ownerId||J.ownerId===this._editorId)),j.addRequest(G.detail,Z,null);break}}const R=j.finalize(),K=new L.ArrayQueue(R);for(const G of W)switch(G.changeType){case 1:{this._lines.onModelFlushed(),N.emitViewEvent(new h.ViewFlushedEvent),this._decorations.reset(),this.viewLayout.onFlushed(this.getLineCount()),F=!0;break}case 3:{const Z=this._lines.onModelLinesDeleted(U,G.fromLineNumber,G.toLineNumber);Z!==null&&(N.emitViewEvent(Z),this.viewLayout.onLinesDeleted(Z.fromLineNumber,Z.toLineNumber)),F=!0;break}case 4:{const Z=K.takeCount(G.detail.length),J=this._lines.onModelLinesInserted(U,G.fromLineNumber,G.toLineNumber,Z);J!==null&&(N.emitViewEvent(J),this.viewLayout.onLinesInserted(J.fromLineNumber,J.toLineNumber)),F=!0;break}case 2:{const Z=K.dequeue(),[J,X,H,B]=this._lines.onModelLineChanged(U,G.lineNumber,Z);O=J,X&&N.emitViewEvent(X),H&&(N.emitViewEvent(H),this.viewLayout.onLinesInserted(H.fromLineNumber,H.toLineNumber)),B&&(N.emitViewEvent(B),this.viewLayout.onLinesDeleted(B.fromLineNumber,B.toLineNumber));break}case 5:break}U!==null&&this._lines.acceptVersionId(U),this.viewLayout.onHeightMaybeChanged(),!F&&O&&(N.emitViewEvent(new h.ViewLineMappingChangedEvent),N.emitViewEvent(new h.ViewDecorationsChangedEvent(null)),this._cursor.onLineMappingChanged(N),this._decorations.onLineMappingChanged())}finally{this._eventDispatcher.endEmitViewEvents()}const A=this._viewportStart.isValid;if(this._viewportStart.invalidate(),this._configuration.setModelLineCount(this.model.getLineCount()),this._updateConfigurationViewLineCountNow(),!this._hasFocus&&this.model.getAttachedEditorCount()>=2&&A){const N=this.model._getTrackedRange(this._viewportStart.modelTrackedRange);if(N){const F=this.coordinatesConverter.convertModelPositionToViewPosition(N.getStartPosition()),O=this.viewLayout.getVerticalOffsetForLineNumber(F.lineNumber);this.viewLayout.setScrollPosition({scrollTop:O+this._viewportStart.startLineDelta},1)}}try{const N=this._eventDispatcher.beginEmitViewEvents();T instanceof n.InternalModelContentChangeEvent&&N.emitOutgoingEvent(new l.ModelContentChangedEvent(T.contentChangedEvent)),this._cursor.onModelContentChanged(N,T)}finally{this._eventDispatcher.endEmitViewEvents()}this._handleVisibleLinesChanged()})),this._register(this.model.onDidChangeTokens(T=>{const A=[];for(let N=0,F=T.ranges.length;N<F;N++){const O=T.ranges[N],W=this.coordinatesConverter.convertModelPositionToViewPosition(new s.Position(O.fromLineNumber,1)).lineNumber,U=this.coordinatesConverter.convertModelPositionToViewPosition(new s.Position(O.toLineNumber,this.model.getLineMaxColumn(O.toLineNumber))).lineNumber;A[N]={fromLineNumber:W,toLineNumber:U}}this._eventDispatcher.emitSingleViewEvent(new h.ViewTokensChangedEvent(A)),this._eventDispatcher.emitOutgoingEvent(new l.ModelTokensChangedEvent(T))})),this._register(this.model.onDidChangeLanguageConfiguration(T=>{this._eventDispatcher.emitSingleViewEvent(new h.ViewLanguageConfigurationEvent),this.cursorConfig=new C.CursorConfiguration(this.model.getLanguageId(),this.model.getOptions(),this._configuration,this.languageConfigurationService),this._cursor.updateConfiguration(this.cursorConfig),this._eventDispatcher.emitOutgoingEvent(new l.ModelLanguageConfigurationChangedEvent(T))})),this._register(this.model.onDidChangeLanguage(T=>{this.cursorConfig=new C.CursorConfiguration(this.model.getLanguageId(),this.model.getOptions(),this._configuration,this.languageConfigurationService),this._cursor.updateConfiguration(this.cursorConfig),this._eventDispatcher.emitOutgoingEvent(new l.ModelLanguageChangedEvent(T))})),this._register(this.model.onDidChangeOptions(T=>{if(this._lines.setTabSize(this.model.getOptions().tabSize)){try{const A=this._eventDispatcher.beginEmitViewEvents();A.emitViewEvent(new h.ViewFlushedEvent),A.emitViewEvent(new h.ViewLineMappingChangedEvent),A.emitViewEvent(new h.ViewDecorationsChangedEvent(null)),this._cursor.onLineMappingChanged(A),this._decorations.onLineMappingChanged(),this.viewLayout.onFlushed(this.getLineCount())}finally{this._eventDispatcher.endEmitViewEvents()}this._updateConfigurationViewLineCount.schedule()}this.cursorConfig=new C.CursorConfiguration(this.model.getLanguageId(),this.model.getOptions(),this._configuration,this.languageConfigurationService),this._cursor.updateConfiguration(this.cursorConfig),this._eventDispatcher.emitOutgoingEvent(new l.ModelOptionsChangedEvent(T))})),this._register(this.model.onDidChangeDecorations(T=>{this._decorations.onModelDecorationsChanged(),this._eventDispatcher.emitSingleViewEvent(new h.ViewDecorationsChangedEvent(T)),this._eventDispatcher.emitOutgoingEvent(new l.ModelDecorationsChangedEvent(T))}))}setHiddenAreas(T,A){this.hiddenAreasModel.setHiddenAreas(A,T);const N=this.hiddenAreasModel.getMergedRanges();if(N===this.previousHiddenAreas)return;this.previousHiddenAreas=N;const F=this._captureStableViewport();let O=!1;try{const W=this._eventDispatcher.beginEmitViewEvents();O=this._lines.setHiddenAreas(N),O&&(W.emitViewEvent(new h.ViewFlushedEvent),W.emitViewEvent(new h.ViewLineMappingChangedEvent),W.emitViewEvent(new h.ViewDecorationsChangedEvent(null)),this._cursor.onLineMappingChanged(W),this._decorations.onLineMappingChanged(),this.viewLayout.onFlushed(this.getLineCount()),this.viewLayout.onHeightMaybeChanged()),F.recoverViewportStart(this.coordinatesConverter,this.viewLayout)}finally{this._eventDispatcher.endEmitViewEvents()}this._updateConfigurationViewLineCount.schedule(),O&&this._eventDispatcher.emitOutgoingEvent(new l.HiddenAreasChangedEvent)}getVisibleRangesPlusViewportAboveBelow(){const T=this._configuration.options.get(142),A=this._configuration.options.get(65),N=Math.max(20,Math.round(T.height/A)),F=this.viewLayout.getLinesViewportData(),O=Math.max(1,F.completelyVisibleStartLineNumber-N),W=Math.min(this.getLineCount(),F.completelyVisibleEndLineNumber+N);return this._toModelVisibleRanges(new i.Range(O,this.getLineMinColumn(O),W,this.getLineMaxColumn(W)))}getVisibleRanges(){const T=this.getCompletelyVisibleViewRange();return this._toModelVisibleRanges(T)}getHiddenAreas(){return this._lines.getHiddenAreas()}_toModelVisibleRanges(T){const A=this.coordinatesConverter.convertViewRangeToModelRange(T),N=this._lines.getHiddenAreas();if(N.length===0)return[A];const F=[];let O=0,W=A.startLineNumber,U=A.startColumn;const j=A.endLineNumber,R=A.endColumn;for(let K=0,G=N.length;K<G;K++){const Z=N[K].startLineNumber,J=N[K].endLineNumber;J<W||Z>j||(W<Z&&(F[O++]=new i.Range(W,U,Z-1,this.model.getLineMaxColumn(Z-1))),W=J+1,U=1)}return(W<j||W===j&&U<R)&&(F[O++]=new i.Range(W,U,j,R)),F}getCompletelyVisibleViewRange(){const T=this.viewLayout.getLinesViewportData(),A=T.completelyVisibleStartLineNumber,N=T.completelyVisibleEndLineNumber;return new i.Range(A,this.getLineMinColumn(A),N,this.getLineMaxColumn(N))}getCompletelyVisibleViewRangeAtScrollTop(T){const A=this.viewLayout.getLinesViewportDataAtScrollTop(T),N=A.completelyVisibleStartLineNumber,F=A.completelyVisibleEndLineNumber;return new i.Range(N,this.getLineMinColumn(N),F,this.getLineMaxColumn(F))}saveState(){const T=this.viewLayout.saveState(),A=T.scrollTop,N=this.viewLayout.getLineNumberAtVerticalOffset(A),F=this.coordinatesConverter.convertViewPositionToModelPosition(new s.Position(N,this.getLineMinColumn(N))),O=this.viewLayout.getVerticalOffsetForLineNumber(N)-A;return{scrollLeft:T.scrollLeft,firstPosition:F,firstPositionDeltaTop:O}}reduceRestoreState(T){if(typeof T.firstPosition>"u")return this._reduceRestoreStateCompatibility(T);const A=this.model.validatePosition(T.firstPosition),N=this.coordinatesConverter.convertModelPositionToViewPosition(A),F=this.viewLayout.getVerticalOffsetForLineNumber(N.lineNumber)-T.firstPositionDeltaTop;return{scrollLeft:T.scrollLeft,scrollTop:F}}_reduceRestoreStateCompatibility(T){return{scrollLeft:T.scrollLeft,scrollTop:T.scrollTopWithoutViewZones}}getTabSize(){return this.model.getOptions().tabSize}getLineCount(){return this._lines.getViewLineCount()}setViewport(T,A,N){this._viewportStart.update(this,T)}getActiveIndentGuide(T,A,N){return this._lines.getActiveIndentGuide(T,A,N)}getLinesIndentGuides(T,A){return this._lines.getViewLinesIndentGuides(T,A)}getBracketGuidesInRangeByLine(T,A,N,F){return this._lines.getViewLinesBracketGuides(T,A,N,F)}getLineContent(T){return this._lines.getViewLineContent(T)}getLineLength(T){return this._lines.getViewLineLength(T)}getLineMinColumn(T){return this._lines.getViewLineMinColumn(T)}getLineMaxColumn(T){return this._lines.getViewLineMaxColumn(T)}getLineFirstNonWhitespaceColumn(T){const A=f.firstNonWhitespaceIndex(this.getLineContent(T));return A===-1?0:A+1}getLineLastNonWhitespaceColumn(T){const A=f.lastNonWhitespaceIndex(this.getLineContent(T));return A===-1?0:A+2}getMinimapDecorationsInRange(T){return this._decorations.getMinimapDecorationsInRange(T)}getDecorationsInViewport(T){return this._decorations.getDecorationsViewportData(T).decorations}getInjectedTextAt(T){return this._lines.getInjectedTextAt(T)}getViewportViewLineRenderingData(T,A){const F=this._decorations.getDecorationsViewportData(T).inlineDecorations[A-T.startLineNumber];return this._getViewLineRenderingData(A,F)}getViewLineRenderingData(T){const A=this._decorations.getInlineDecorationsOnLine(T);return this._getViewLineRenderingData(T,A)}_getViewLineRenderingData(T,A){const N=this.model.mightContainRTL(),F=this.model.mightContainNonBasicASCII(),O=this.getTabSize(),W=this._lines.getViewLineData(T);return W.inlineDecorations&&(A=[...A,...W.inlineDecorations.map(U=>U.toInlineDecoration(T))]),new o.ViewLineRenderingData(W.minColumn,W.maxColumn,W.content,W.continuesWithWrappedLine,N,F,W.tokens,A,O,W.startVisibleColumn)}getViewLineData(T){return this._lines.getViewLineData(T)}getMinimapLinesRenderingData(T,A,N){const F=this._lines.getViewLinesData(T,A,N);return new o.MinimapLinesRenderingData(this.getTabSize(),F)}getAllOverviewRulerDecorations(T){const A=this.model.getOverviewRulerDecorations(this._editorId,(0,_.filterValidationDecorations)(this._configuration.options)),N=new w;for(const F of A){const O=F.options,W=O.overviewRuler;if(!W)continue;const U=W.position;if(U===0)continue;const j=W.getColor(T.value),R=this.coordinatesConverter.getViewLineNumberOfModelPosition(F.range.startLineNumber,F.range.startColumn),K=this.coordinatesConverter.getViewLineNumberOfModelPosition(F.range.endLineNumber,F.range.endColumn);N.accept(j,O.zIndex,R,K,U)}return N.asArray}_invalidateDecorationsColorCache(){const T=this.model.getOverviewRulerDecorations();for(const A of T){const N=A.options.overviewRuler;N?.invalidateCachedColor();const F=A.options.minimap;F?.invalidateCachedColor()}}getValueInRange(T,A){const N=this.coordinatesConverter.convertViewRangeToModelRange(T);return this.model.getValueInRange(N,A)}getValueLengthInRange(T,A){const N=this.coordinatesConverter.convertViewRangeToModelRange(T);return this.model.getValueLengthInRange(N,A)}modifyPosition(T,A){const N=this.coordinatesConverter.convertViewPositionToModelPosition(T);return this.model.modifyPosition(N,A)}deduceModelPositionRelativeToViewPosition(T,A,N){const F=this.coordinatesConverter.convertViewPositionToModelPosition(T);this.model.getEOL().length===2&&(A<0?A-=N:A+=N);const W=this.model.getOffsetAt(F)+A;return this.model.getPositionAt(W)}getPlainTextToCopy(T,A,N){const F=N?`\r
`:this.model.getEOL();T=T.slice(0),T.sort(i.Range.compareRangesUsingStarts);let O=!1,W=!1;for(const j of T)j.isEmpty()?O=!0:W=!0;if(!W){if(!A)return"";const j=T.map(K=>K.startLineNumber);let R="";for(let K=0;K<j.length;K++)K>0&&j[K-1]===j[K]||(R+=this.model.getLineContent(j[K])+F);return R}if(O&&A){const j=[];let R=0;for(const K of T){const G=K.startLineNumber;K.isEmpty()?G!==R&&j.push(this.model.getLineContent(G)):j.push(this.model.getValueInRange(K,N?2:0)),R=G}return j.length===1?j[0]:j}const U=[];for(const j of T)j.isEmpty()||U.push(this.model.getValueInRange(j,N?2:0));return U.length===1?U[0]:U}getRichTextToCopy(T,A){const N=this.model.getLanguageId();if(N===a.PLAINTEXT_LANGUAGE_ID||T.length!==1)return null;let F=T[0];if(F.isEmpty()){if(!A)return null;const K=F.startLineNumber;F=new i.Range(K,this.model.getLineMinColumn(K),K,this.model.getLineMaxColumn(K))}const O=this._configuration.options.get(49),W=this._getColorMap(),j=/[:;\\\/<>]/.test(O.fontFamily)||O.fontFamily===_.EDITOR_FONT_DEFAULTS.fontFamily;let R;return j?R=_.EDITOR_FONT_DEFAULTS.fontFamily:(R=O.fontFamily,R=R.replace(/"/g,"'"),/[,']/.test(R)||/[+ ]/.test(R)&&(R=`'${R}'`),R=`${R}, ${_.EDITOR_FONT_DEFAULTS.fontFamily}`),{mode:N,html:`<div style="color: ${W[1]};background-color: ${W[2]};font-family: ${R};font-weight: ${O.fontWeight};font-size: ${O.fontSize}px;line-height: ${O.lineHeight}px;white-space: pre;">`+this._getHTMLToCopy(F,W)+"</div>"}}_getHTMLToCopy(T,A){const N=T.startLineNumber,F=T.startColumn,O=T.endLineNumber,W=T.endColumn,U=this.getTabSize();let j="";for(let R=N;R<=O;R++){const K=this.model.tokenization.getLineTokens(R),G=K.getLineContent(),Z=R===N?F-1:0,J=R===O?W-1:G.length;G===""?j+="<br>":j+=(0,u.tokenizeLineToHTML)(G,K.inflate(),A,Z,J,U,S.isWindows)}return j}_getColorMap(){const T=t.TokenizationRegistry.getColorMap(),A=["#000000"];if(T)for(let N=1,F=T.length;N<F;N++)A[N]=y.Color.Format.CSS.formatHex(T[N]);return A}getPrimaryCursorState(){return this._cursor.getPrimaryCursorState()}getLastAddedCursorIndex(){return this._cursor.getLastAddedCursorIndex()}getCursorStates(){return this._cursor.getCursorStates()}setCursorStates(T,A,N){return this._withViewEventsCollector(F=>this._cursor.setStates(F,T,A,N))}getCursorColumnSelectData(){return this._cursor.getCursorColumnSelectData()}getCursorAutoClosedCharacters(){return this._cursor.getAutoClosedCharacters()}setCursorColumnSelectData(T){this._cursor.setCursorColumnSelectData(T)}getPrevEditOperationType(){return this._cursor.getPrevEditOperationType()}setPrevEditOperationType(T){this._cursor.setPrevEditOperationType(T)}getSelection(){return this._cursor.getSelection()}getSelections(){return this._cursor.getSelections()}getPosition(){return this._cursor.getPrimaryCursorState().modelState.position}setSelections(T,A,N=0){this._withViewEventsCollector(F=>this._cursor.setSelections(F,T,A,N))}saveCursorState(){return this._cursor.saveState()}restoreCursorState(T){this._withViewEventsCollector(A=>this._cursor.restoreState(A,T))}_executeCursorEdit(T){if(this._cursor.context.cursorConfig.readOnly){this._eventDispatcher.emitOutgoingEvent(new l.ReadOnlyEditAttemptEvent);return}this._withViewEventsCollector(T)}executeEdits(T,A,N){this._executeCursorEdit(F=>this._cursor.executeEdits(F,T,A,N))}startComposition(){this._executeCursorEdit(T=>this._cursor.startComposition(T))}endComposition(T){this._executeCursorEdit(A=>this._cursor.endComposition(A,T))}type(T,A){this._executeCursorEdit(N=>this._cursor.type(N,T,A))}compositionType(T,A,N,F,O){this._executeCursorEdit(W=>this._cursor.compositionType(W,T,A,N,F,O))}paste(T,A,N,F){this._executeCursorEdit(O=>this._cursor.paste(O,T,A,N,F))}cut(T){this._executeCursorEdit(A=>this._cursor.cut(A,T))}executeCommand(T,A){this._executeCursorEdit(N=>this._cursor.executeCommand(N,T,A))}executeCommands(T,A){this._executeCursorEdit(N=>this._cursor.executeCommands(N,T,A))}revealPrimaryCursor(T,A,N=!1){this._withViewEventsCollector(F=>this._cursor.revealPrimary(F,T,N,0,A,0))}revealTopMostCursor(T){const A=this._cursor.getTopMostViewPosition(),N=new i.Range(A.lineNumber,A.column,A.lineNumber,A.column);this._withViewEventsCollector(F=>F.emitViewEvent(new h.ViewRevealRangeRequestEvent(T,!1,N,null,0,!0,0)))}revealBottomMostCursor(T){const A=this._cursor.getBottomMostViewPosition(),N=new i.Range(A.lineNumber,A.column,A.lineNumber,A.column);this._withViewEventsCollector(F=>F.emitViewEvent(new h.ViewRevealRangeRequestEvent(T,!1,N,null,0,!0,0)))}revealRange(T,A,N,F,O){this._withViewEventsCollector(W=>W.emitViewEvent(new h.ViewRevealRangeRequestEvent(T,!1,N,null,F,A,O)))}changeWhitespace(T){this.viewLayout.changeWhitespace(T)&&(this._eventDispatcher.emitSingleViewEvent(new h.ViewZonesChangedEvent),this._eventDispatcher.emitOutgoingEvent(new l.ViewZonesChangedEvent))}_withViewEventsCollector(T){try{const A=this._eventDispatcher.beginEmitViewEvents();return T(A)}finally{this._eventDispatcher.endEmitViewEvents()}}normalizePosition(T,A){return this._lines.normalizePosition(T,A)}getLineIndentColumn(T){return this._lines.getLineIndentColumn(T)}}e.ViewModel=v;class b{static create(T){const A=T._setTrackedRange(null,new i.Range(1,1,1,1),1);return new b(T,1,!1,A,0)}get viewLineNumber(){return this._viewLineNumber}get isValid(){return this._isValid}get modelTrackedRange(){return this._modelTrackedRange}get startLineDelta(){return this._startLineDelta}constructor(T,A,N,F,O){this._model=T,this._viewLineNumber=A,this._isValid=N,this._modelTrackedRange=F,this._startLineDelta=O}dispose(){this._model._setTrackedRange(this._modelTrackedRange,null,1)}update(T,A){const N=T.coordinatesConverter.convertViewPositionToModelPosition(new s.Position(A,T.getLineMinColumn(A))),F=T.model._setTrackedRange(this._modelTrackedRange,new i.Range(N.lineNumber,N.column,N.lineNumber,N.column),1),O=T.viewLayout.getVerticalOffsetForLineNumber(A),W=T.viewLayout.getCurrentScrollTop();this._viewLineNumber=A,this._isValid=!0,this._modelTrackedRange=F,this._startLineDelta=W-O}invalidate(){this._isValid=!1}}class w{constructor(){this._asMap=Object.create(null),this.asArray=[]}accept(T,A,N,F,O){const W=this._asMap[T];if(W){const U=W.data,j=U[U.length-3],R=U[U.length-1];if(j===O&&R+1>=N){F>R&&(U[U.length-1]=F);return}U.push(O,N,F)}else{const U=new o.OverviewRulerDecorationsGroup(T,A,[O,N,F]);this._asMap[T]=U,this.asArray.push(U)}}}class E{constructor(){this.hiddenAreas=new Map,this.shouldRecompute=!1,this.ranges=[]}setHiddenAreas(T,A){const N=this.hiddenAreas.get(T);N&&M(N,A)||(this.hiddenAreas.set(T,A),this.shouldRecompute=!0)}getMergedRanges(){if(!this.shouldRecompute)return this.ranges;this.shouldRecompute=!1;const T=Array.from(this.hiddenAreas.values()).reduce((A,N)=>I(A,N),[]);return M(this.ranges,T)?this.ranges:(this.ranges=T,this.ranges)}}function I(x,T){const A=[];let N=0,F=0;for(;N<x.length&&F<T.length;){const O=x[N],W=T[F];if(O.endLineNumber<W.startLineNumber-1)A.push(x[N++]);else if(W.endLineNumber<O.startLineNumber-1)A.push(T[F++]);else{const U=Math.min(O.startLineNumber,W.startLineNumber),j=Math.max(O.endLineNumber,W.endLineNumber);A.push(new i.Range(U,1,j,1)),N++,F++}}for(;N<x.length;)A.push(x[N++]);for(;F<T.length;)A.push(T[F++]);return A}function M(x,T){if(x.length!==T.length)return!1;for(let A=0;A<x.length;A++)if(!x[A].equalsRange(T[A]))return!1;return!0}class P{constructor(T,A){this.viewportStartModelPosition=T,this.startLineDelta=A}recoverViewportStart(T,A){if(!this.viewportStartModelPosition)return;const N=T.convertModelPositionToViewPosition(this.viewportStartModelPosition),F=A.getVerticalOffsetForLineNumber(N.lineNumber);A.setScrollPosition({scrollTop:F+this.startLineDelta},1)}}}),define(ne[161],se([1,0,604,7,9,6,2,54,756,16,33,851,272,36,82,12,5,24,277,148,21,40,80,31,873,27,15,8,157,43,23,84,533,591,178,32,59,18,784,201,792,435]),function(Q,e,L,k,y,D,S,f,_,g,C,s,i,n,t,a,u,h,r,c,o,d,l,p,m,v,b,w,E,I,M,P,x,T,A,N,F,O,W,U){"use strict";var j;Object.defineProperty(e,"__esModule",{value:!0}),e.EditorModeContext=e.BooleanEventEmitter=e.CodeEditorWidget=void 0;let R=0;class K{constructor(te,q,z,ee,$,re){this.model=te,this.viewModel=q,this.view=z,this.hasRealView=ee,this.listenersToRemove=$,this.attachedView=re}dispose(){(0,S.dispose)(this.listenersToRemove),this.model.onBeforeDetached(this.attachedView),this.hasRealView&&this.view.dispose(),this.viewModel.dispose()}}let G=j=class extends S.Disposable{get isSimpleWidget(){return this._configuration.isSimpleWidget}constructor(te,q,z,ee,$,re,oe,ge,ve,Se,Le,De){var ye;super(),this.languageConfigurationService=Le,this._deliveryQueue=(0,D.createEventDeliveryQueue)(),this._contributions=this._register(new W.CodeEditorContributions),this._onDidDispose=this._register(new D.Emitter),this.onDidDispose=this._onDidDispose.event,this._onDidChangeModelContent=this._register(new D.Emitter({deliveryQueue:this._deliveryQueue})),this.onDidChangeModelContent=this._onDidChangeModelContent.event,this._onDidChangeModelLanguage=this._register(new D.Emitter({deliveryQueue:this._deliveryQueue})),this.onDidChangeModelLanguage=this._onDidChangeModelLanguage.event,this._onDidChangeModelLanguageConfiguration=this._register(new D.Emitter({deliveryQueue:this._deliveryQueue})),this.onDidChangeModelLanguageConfiguration=this._onDidChangeModelLanguageConfiguration.event,this._onDidChangeModelOptions=this._register(new D.Emitter({deliveryQueue:this._deliveryQueue})),this.onDidChangeModelOptions=this._onDidChangeModelOptions.event,this._onDidChangeModelDecorations=this._register(new D.Emitter({deliveryQueue:this._deliveryQueue})),this.onDidChangeModelDecorations=this._onDidChangeModelDecorations.event,this._onDidChangeModelTokens=this._register(new D.Emitter({deliveryQueue:this._deliveryQueue})),this.onDidChangeModelTokens=this._onDidChangeModelTokens.event,this._onDidChangeConfiguration=this._register(new D.Emitter({deliveryQueue:this._deliveryQueue})),this.onDidChangeConfiguration=this._onDidChangeConfiguration.event,this._onDidChangeModel=this._register(new D.Emitter({deliveryQueue:this._deliveryQueue})),this.onDidChangeModel=this._onDidChangeModel.event,this._onDidChangeCursorPosition=this._register(new D.Emitter({deliveryQueue:this._deliveryQueue})),this.onDidChangeCursorPosition=this._onDidChangeCursorPosition.event,this._onDidChangeCursorSelection=this._register(new D.Emitter({deliveryQueue:this._deliveryQueue})),this.onDidChangeCursorSelection=this._onDidChangeCursorSelection.event,this._onDidAttemptReadOnlyEdit=this._register(new J(this._contributions,this._deliveryQueue)),this.onDidAttemptReadOnlyEdit=this._onDidAttemptReadOnlyEdit.event,this._onDidLayoutChange=this._register(new D.Emitter({deliveryQueue:this._deliveryQueue})),this.onDidLayoutChange=this._onDidLayoutChange.event,this._editorTextFocus=this._register(new Z({deliveryQueue:this._deliveryQueue})),this.onDidFocusEditorText=this._editorTextFocus.onDidChangeToTrue,this.onDidBlurEditorText=this._editorTextFocus.onDidChangeToFalse,this._editorWidgetFocus=this._register(new Z({deliveryQueue:this._deliveryQueue})),this.onDidFocusEditorWidget=this._editorWidgetFocus.onDidChangeToTrue,this.onDidBlurEditorWidget=this._editorWidgetFocus.onDidChangeToFalse,this._onWillType=this._register(new J(this._contributions,this._deliveryQueue)),this.onWillType=this._onWillType.event,this._onDidType=this._register(new J(this._contributions,this._deliveryQueue)),this.onDidType=this._onDidType.event,this._onDidCompositionStart=this._register(new J(this._contributions,this._deliveryQueue)),this.onDidCompositionStart=this._onDidCompositionStart.event,this._onDidCompositionEnd=this._register(new J(this._contributions,this._deliveryQueue)),this.onDidCompositionEnd=this._onDidCompositionEnd.event,this._onDidPaste=this._register(new J(this._contributions,this._deliveryQueue)),this.onDidPaste=this._onDidPaste.event,this._onMouseUp=this._register(new J(this._contributions,this._deliveryQueue)),this.onMouseUp=this._onMouseUp.event,this._onMouseDown=this._register(new J(this._contributions,this._deliveryQueue)),this.onMouseDown=this._onMouseDown.event,this._onMouseDrag=this._register(new J(this._contributions,this._deliveryQueue)),this.onMouseDrag=this._onMouseDrag.event,this._onMouseDrop=this._register(new J(this._contributions,this._deliveryQueue)),this.onMouseDrop=this._onMouseDrop.event,this._onMouseDropCanceled=this._register(new J(this._contributions,this._deliveryQueue)),this.onMouseDropCanceled=this._onMouseDropCanceled.event,this._onDropIntoEditor=this._register(new J(this._contributions,this._deliveryQueue)),this.onDropIntoEditor=this._onDropIntoEditor.event,this._onContextMenu=this._register(new J(this._contributions,this._deliveryQueue)),this.onContextMenu=this._onContextMenu.event,this._onMouseMove=this._register(new J(this._contributions,this._deliveryQueue)),this.onMouseMove=this._onMouseMove.event,this._onMouseLeave=this._register(new J(this._contributions,this._deliveryQueue)),this.onMouseLeave=this._onMouseLeave.event,this._onMouseWheel=this._register(new J(this._contributions,this._deliveryQueue)),this.onMouseWheel=this._onMouseWheel.event,this._onKeyUp=this._register(new J(this._contributions,this._deliveryQueue)),this.onKeyUp=this._onKeyUp.event,this._onKeyDown=this._register(new J(this._contributions,this._deliveryQueue)),this.onKeyDown=this._onKeyDown.event,this._onDidContentSizeChange=this._register(new D.Emitter({deliveryQueue:this._deliveryQueue})),this.onDidContentSizeChange=this._onDidContentSizeChange.event,this._onDidScrollChange=this._register(new D.Emitter({deliveryQueue:this._deliveryQueue})),this.onDidScrollChange=this._onDidScrollChange.event,this._onDidChangeViewZones=this._register(new D.Emitter({deliveryQueue:this._deliveryQueue})),this.onDidChangeViewZones=this._onDidChangeViewZones.event,this._onDidChangeHiddenAreas=this._register(new D.Emitter({deliveryQueue:this._deliveryQueue})),this.onDidChangeHiddenAreas=this._onDidChangeHiddenAreas.event,this._actions=new Map,this._bannerDomNode=null,this._dropIntoEditorDecorations=this.createDecorationsCollection(),$.willCreateCodeEditor();const Ee=Object.assign({},q);this._domElement=te,this._overflowWidgetsDomNode=Ee.overflowWidgetsDomNode,delete Ee.overflowWidgetsDomNode,this._id=++R,this._decorationTypeKeysToIds={},this._decorationTypeSubtypes={},this._telemetryData=z.telemetryData,this._configuration=this._register(this._createConfiguration(z.isSimpleWidget||!1,Ee,Se)),this._register(this._configuration.onDidChange(Fe=>{this._onDidChangeConfiguration.fire(Fe);const _e=this._configuration.options;if(Fe.hasChanged(142)){const me=_e.get(142);this._onDidLayoutChange.fire(me)}})),this._contextKeyService=this._register(oe.createScoped(this._domElement)),this._notificationService=ve,this._codeEditorService=$,this._commandService=re,this._themeService=ge,this._register(new X(this,this._contextKeyService)),this._register(new H(this,this._contextKeyService,De)),this._instantiationService=ee.createChild(new E.ServiceCollection([b.IContextKeyService,this._contextKeyService])),this._modelData=null,this._focusTracker=new B(te),this._register(this._focusTracker.onChange(()=>{this._editorWidgetFocus.setValue(this._focusTracker.hasFocus())})),this._contentWidgets={},this._overlayWidgets={},this._glyphMarginWidgets={};let Me;Array.isArray(z.contributions)?Me=z.contributions:Me=g.EditorExtensionsRegistry.getEditorContributions(),this._contributions.initialize(this,Me,this._instantiationService);for(const Fe of g.EditorExtensionsRegistry.getEditorActions()){if(this._actions.has(Fe.id)){(0,y.onUnexpectedError)(new Error(`Cannot have two actions with the same id ${Fe.id}`));continue}const _e=new r.InternalEditorAction(Fe.id,Fe.label,Fe.alias,(ye=Fe.precondition)!==null&&ye!==void 0?ye:void 0,()=>this._instantiationService.invokeFunction(me=>Promise.resolve(Fe.runEditorCommand(me,this,null))),this._contextKeyService);this._actions.set(_e.id,_e)}const Pe=()=>!this._configuration.options.get(89)&&this._configuration.options.get(35).enabled;this._register(new k.DragAndDropObserver(this._domElement,{onDragEnter:()=>{},onDragOver:Fe=>{if(!Pe())return;const _e=this.getTargetAtClientPoint(Fe.clientX,Fe.clientY);_e?.position&&this.showDropIndicatorAt(_e.position)},onDrop:Fe=>we(this,void 0,void 0,function*(){if(!Pe()||(this.removeDropIndicator(),!Fe.dataTransfer))return;const _e=this.getTargetAtClientPoint(Fe.clientX,Fe.clientY);_e?.position&&this._onDropIntoEditor.fire({position:_e.position,event:Fe})}),onDragLeave:()=>{this.removeDropIndicator()},onDragEnd:()=>{this.removeDropIndicator()}})),this._codeEditorService.addCodeEditor(this)}writeScreenReaderContent(te){var q;(q=this._modelData)===null||q===void 0||q.view.writeScreenReaderContent(te)}_createConfiguration(te,q,z){return new _.EditorConfiguration(te,q,this._domElement,z)}getId(){return this.getEditorType()+":"+this._id}getEditorType(){return c.EditorType.ICodeEditor}dispose(){this._codeEditorService.removeCodeEditor(this),this._focusTracker.dispose(),this._actions.clear(),this._contentWidgets={},this._overlayWidgets={},this._removeDecorationTypes(),this._postDetachModelCleanup(this._detachModel()),this._onDidDispose.fire(),super.dispose()}invokeWithinContext(te){return this._instantiationService.invokeFunction(te)}updateOptions(te){this._configuration.updateOptions(te||{})}getOptions(){return this._configuration.options}getOption(te){return this._configuration.options.get(te)}getRawOptions(){return this._configuration.getRawOptions()}getOverflowWidgetsDomNode(){return this._overflowWidgetsDomNode}getConfiguredWordAtPosition(te){return this._modelData?A.WordOperations.getWordAtPosition(this._modelData.model,this._configuration.options.get(128),te):null}getValue(te=null){if(!this._modelData)return"";const q=!!(te&&te.preserveBOM);let z=0;return te&&te.lineEnding&&te.lineEnding===`
`?z=1:te&&te.lineEnding&&te.lineEnding===`\r
`&&(z=2),this._modelData.model.getValue(z,q)}setValue(te){this._modelData&&this._modelData.model.setValue(te)}getModel(){return this._modelData?this._modelData.model:null}setModel(te=null){const q=te;if(this._modelData===null&&q===null||this._modelData&&this._modelData.model===q)return;const z=this.hasTextFocus(),ee=this._detachModel();this._attachModel(q),z&&this.hasModel()&&this.focus();const $={oldModelUrl:ee?ee.uri:null,newModelUrl:q?q.uri:null};this._removeDecorationTypes(),this._onDidChangeModel.fire($),this._postDetachModelCleanup(ee),this._contributions.onAfterModelAttached()}_removeDecorationTypes(){if(this._decorationTypeKeysToIds={},this._decorationTypeSubtypes){for(const te in this._decorationTypeSubtypes){const q=this._decorationTypeSubtypes[te];for(const z in q)this._removeDecorationType(te+"-"+z)}this._decorationTypeSubtypes={}}}getVisibleRanges(){return this._modelData?this._modelData.viewModel.getVisibleRanges():[]}getVisibleRangesPlusViewportAboveBelow(){return this._modelData?this._modelData.viewModel.getVisibleRangesPlusViewportAboveBelow():[]}getWhitespaces(){return this._modelData?this._modelData.viewModel.viewLayout.getWhitespaces():[]}static _getVerticalOffsetAfterPosition(te,q,z,ee){const $=te.model.validatePosition({lineNumber:q,column:z}),re=te.viewModel.coordinatesConverter.convertModelPositionToViewPosition($);return te.viewModel.viewLayout.getVerticalOffsetAfterLineNumber(re.lineNumber,ee)}getTopForLineNumber(te,q=!1){return this._modelData?j._getVerticalOffsetForPosition(this._modelData,te,1,q):-1}getTopForPosition(te,q){return this._modelData?j._getVerticalOffsetForPosition(this._modelData,te,q,!1):-1}static _getVerticalOffsetForPosition(te,q,z,ee=!1){const $=te.model.validatePosition({lineNumber:q,column:z}),re=te.viewModel.coordinatesConverter.convertModelPositionToViewPosition($);return te.viewModel.viewLayout.getVerticalOffsetForLineNumber(re.lineNumber,ee)}getBottomForLineNumber(te,q=!1){return this._modelData?j._getVerticalOffsetAfterPosition(this._modelData,te,1,q):-1}setHiddenAreas(te,q){var z;(z=this._modelData)===null||z===void 0||z.viewModel.setHiddenAreas(te.map(ee=>u.Range.lift(ee)),q)}getVisibleColumnFromPosition(te){if(!this._modelData)return te.column;const q=this._modelData.model.validatePosition(te),z=this._modelData.model.getOptions().tabSize;return t.CursorColumns.visibleColumnFromColumn(this._modelData.model.getLineContent(q.lineNumber),q.column,z)+1}getPosition(){return this._modelData?this._modelData.viewModel.getPosition():null}setPosition(te,q="api"){if(this._modelData){if(!a.Position.isIPosition(te))throw new Error("Invalid arguments");this._modelData.viewModel.setSelections(q,[{selectionStartLineNumber:te.lineNumber,selectionStartColumn:te.column,positionLineNumber:te.lineNumber,positionColumn:te.column}])}}_sendRevealRange(te,q,z,ee){if(!this._modelData)return;if(!u.Range.isIRange(te))throw new Error("Invalid arguments");const $=this._modelData.model.validateRange(te),re=this._modelData.viewModel.coordinatesConverter.convertModelRangeToViewRange($);this._modelData.viewModel.revealRange("api",z,re,q,ee)}revealLine(te,q=0){this._revealLine(te,0,q)}revealLineInCenter(te,q=0){this._revealLine(te,1,q)}revealLineInCenterIfOutsideViewport(te,q=0){this._revealLine(te,2,q)}revealLineNearTop(te,q=0){this._revealLine(te,5,q)}_revealLine(te,q,z){if(typeof te!="number")throw new Error("Invalid arguments");this._sendRevealRange(new u.Range(te,1,te,1),q,!1,z)}revealPosition(te,q=0){this._revealPosition(te,0,!0,q)}revealPositionInCenter(te,q=0){this._revealPosition(te,1,!0,q)}revealPositionInCenterIfOutsideViewport(te,q=0){this._revealPosition(te,2,!0,q)}revealPositionNearTop(te,q=0){this._revealPosition(te,5,!0,q)}_revealPosition(te,q,z,ee){if(!a.Position.isIPosition(te))throw new Error("Invalid arguments");this._sendRevealRange(new u.Range(te.lineNumber,te.column,te.lineNumber,te.column),q,z,ee)}getSelection(){return this._modelData?this._modelData.viewModel.getSelection():null}getSelections(){return this._modelData?this._modelData.viewModel.getSelections():null}setSelection(te,q="api"){const z=h.Selection.isISelection(te),ee=u.Range.isIRange(te);if(!z&&!ee)throw new Error("Invalid arguments");if(z)this._setSelectionImpl(te,q);else if(ee){const $={selectionStartLineNumber:te.startLineNumber,selectionStartColumn:te.startColumn,positionLineNumber:te.endLineNumber,positionColumn:te.endColumn};this._setSelectionImpl($,q)}}_setSelectionImpl(te,q){if(!this._modelData)return;const z=new h.Selection(te.selectionStartLineNumber,te.selectionStartColumn,te.positionLineNumber,te.positionColumn);this._modelData.viewModel.setSelections(q,[z])}revealLines(te,q,z=0){this._revealLines(te,q,0,z)}revealLinesInCenter(te,q,z=0){this._revealLines(te,q,1,z)}revealLinesInCenterIfOutsideViewport(te,q,z=0){this._revealLines(te,q,2,z)}revealLinesNearTop(te,q,z=0){this._revealLines(te,q,5,z)}_revealLines(te,q,z,ee){if(typeof te!="number"||typeof q!="number")throw new Error("Invalid arguments");this._sendRevealRange(new u.Range(te,1,q,1),z,!1,ee)}revealRange(te,q=0,z=!1,ee=!0){this._revealRange(te,z?1:0,ee,q)}revealRangeInCenter(te,q=0){this._revealRange(te,1,!0,q)}revealRangeInCenterIfOutsideViewport(te,q=0){this._revealRange(te,2,!0,q)}revealRangeNearTop(te,q=0){this._revealRange(te,5,!0,q)}revealRangeNearTopIfOutsideViewport(te,q=0){this._revealRange(te,6,!0,q)}revealRangeAtTop(te,q=0){this._revealRange(te,3,!0,q)}_revealRange(te,q,z,ee){if(!u.Range.isIRange(te))throw new Error("Invalid arguments");this._sendRevealRange(u.Range.lift(te),q,z,ee)}setSelections(te,q="api",z=0){if(this._modelData){if(!te||te.length===0)throw new Error("Invalid arguments");for(let ee=0,$=te.length;ee<$;ee++)if(!h.Selection.isISelection(te[ee]))throw new Error("Invalid arguments");this._modelData.viewModel.setSelections(q,te,z)}}getContentWidth(){return this._modelData?this._modelData.viewModel.viewLayout.getContentWidth():-1}getScrollWidth(){return this._modelData?this._modelData.viewModel.viewLayout.getScrollWidth():-1}getScrollLeft(){return this._modelData?this._modelData.viewModel.viewLayout.getCurrentScrollLeft():-1}getContentHeight(){return this._modelData?this._modelData.viewModel.viewLayout.getContentHeight():-1}getScrollHeight(){return this._modelData?this._modelData.viewModel.viewLayout.getScrollHeight():-1}getScrollTop(){return this._modelData?this._modelData.viewModel.viewLayout.getCurrentScrollTop():-1}setScrollLeft(te,q=1){if(this._modelData){if(typeof te!="number")throw new Error("Invalid arguments");this._modelData.viewModel.viewLayout.setScrollPosition({scrollLeft:te},q)}}setScrollTop(te,q=1){if(this._modelData){if(typeof te!="number")throw new Error("Invalid arguments");this._modelData.viewModel.viewLayout.setScrollPosition({scrollTop:te},q)}}setScrollPosition(te,q=1){this._modelData&&this._modelData.viewModel.viewLayout.setScrollPosition(te,q)}hasPendingScrollAnimation(){return this._modelData?this._modelData.viewModel.viewLayout.hasPendingScrollAnimation():!1}saveViewState(){if(!this._modelData)return null;const te=this._contributions.saveViewState(),q=this._modelData.viewModel.saveCursorState(),z=this._modelData.viewModel.saveState();return{cursorState:q,viewState:z,contributionsState:te}}restoreViewState(te){if(!this._modelData||!this._modelData.hasRealView)return;const q=te;if(q&&q.cursorState&&q.viewState){const z=q.cursorState;Array.isArray(z)?z.length>0&&this._modelData.viewModel.restoreCursorState(z):this._modelData.viewModel.restoreCursorState([z]),this._contributions.restoreViewState(q.contributionsState||{});const ee=this._modelData.viewModel.reduceRestoreState(q.viewState);this._modelData.view.restoreState(ee)}}handleInitialized(){var te;(te=this._getViewModel())===null||te===void 0||te.visibleLinesStabilized()}getContribution(te){return this._contributions.get(te)}getActions(){return Array.from(this._actions.values())}getSupportedActions(){let te=this.getActions();return te=te.filter(q=>q.isSupported()),te}getAction(te){return this._actions.get(te)||null}trigger(te,q,z){switch(z=z||{},q){case"compositionStart":this._startComposition();return;case"compositionEnd":this._endComposition(te);return;case"type":{const $=z;this._type(te,$.text||"");return}case"replacePreviousChar":{const $=z;this._compositionType(te,$.text||"",$.replaceCharCnt||0,0,0);return}case"compositionType":{const $=z;this._compositionType(te,$.text||"",$.replacePrevCharCnt||0,$.replaceNextCharCnt||0,$.positionDelta||0);return}case"paste":{const $=z;this._paste(te,$.text||"",$.pasteOnNewLine||!1,$.multicursorText||null,$.mode||null);return}case"cut":this._cut(te);return}const ee=this.getAction(q);if(ee){Promise.resolve(ee.run(z)).then(void 0,y.onUnexpectedError);return}this._modelData&&(this._triggerEditorCommand(te,q,z)||this._triggerCommand(q,z))}_triggerCommand(te,q){this._commandService.executeCommand(te,q)}_startComposition(){this._modelData&&(this._modelData.viewModel.startComposition(),this._onDidCompositionStart.fire())}_endComposition(te){this._modelData&&(this._modelData.viewModel.endComposition(te),this._onDidCompositionEnd.fire())}_type(te,q){!this._modelData||q.length===0||(te==="keyboard"&&this._onWillType.fire(q),this._modelData.viewModel.type(q,te),te==="keyboard"&&this._onDidType.fire(q))}_compositionType(te,q,z,ee,$){this._modelData&&this._modelData.viewModel.compositionType(q,z,ee,$,te)}_paste(te,q,z,ee,$){if(!this._modelData||q.length===0)return;const re=this._modelData.viewModel,oe=re.getSelection().getStartPosition();re.paste(q,z,ee,te);const ge=re.getSelection().getStartPosition();te==="keyboard"&&this._onDidPaste.fire({range:new u.Range(oe.lineNumber,oe.column,ge.lineNumber,ge.column),languageId:$})}_cut(te){this._modelData&&this._modelData.viewModel.cut(te)}_triggerEditorCommand(te,q,z){const ee=g.EditorExtensionsRegistry.getEditorCommand(q);return ee?(z=z||{},z.source=te,this._instantiationService.invokeFunction($=>{Promise.resolve(ee.runEditorCommand($,this,z)).then(void 0,y.onUnexpectedError)}),!0):!1}_getViewModel(){return this._modelData?this._modelData.viewModel:null}pushUndoStop(){return!this._modelData||this._configuration.options.get(89)?!1:(this._modelData.model.pushStackElement(),!0)}popUndoStop(){return!this._modelData||this._configuration.options.get(89)?!1:(this._modelData.model.popStackElement(),!0)}executeEdits(te,q,z){if(!this._modelData||this._configuration.options.get(89))return!1;let ee;return z?Array.isArray(z)?ee=()=>z:ee=z:ee=()=>null,this._modelData.viewModel.executeEdits(te,q,ee),!0}executeCommand(te,q){this._modelData&&this._modelData.viewModel.executeCommand(q,te)}executeCommands(te,q){this._modelData&&this._modelData.viewModel.executeCommands(q,te)}createDecorationsCollection(te){return new V(this,te)}changeDecorations(te){return this._modelData?this._modelData.model.changeDecorations(te,this._id):null}getLineDecorations(te){return this._modelData?this._modelData.model.getLineDecorations(te,this._id,(0,n.filterValidationDecorations)(this._configuration.options)):null}getDecorationsInRange(te){return this._modelData?this._modelData.model.getDecorationsInRange(te,this._id,(0,n.filterValidationDecorations)(this._configuration.options)):null}deltaDecorations(te,q){return this._modelData?te.length===0&&q.length===0?te:this._modelData.model.deltaDecorations(te,q,this._id):[]}removeDecorations(te){!this._modelData||te.length===0||this._modelData.model.changeDecorations(q=>{q.deltaDecorations(te,[])})}removeDecorationsByType(te){const q=this._decorationTypeKeysToIds[te];q&&this.deltaDecorations(q,[]),this._decorationTypeKeysToIds.hasOwnProperty(te)&&delete this._decorationTypeKeysToIds[te],this._decorationTypeSubtypes.hasOwnProperty(te)&&delete this._decorationTypeSubtypes[te]}getLayoutInfo(){return this._configuration.options.get(142)}createOverviewRuler(te){return!this._modelData||!this._modelData.hasRealView?null:this._modelData.view.createOverviewRuler(te)}getContainerDomNode(){return this._domElement}getDomNode(){return!this._modelData||!this._modelData.hasRealView?null:this._modelData.view.domNode.domNode}delegateVerticalScrollbarPointerDown(te){!this._modelData||!this._modelData.hasRealView||this._modelData.view.delegateVerticalScrollbarPointerDown(te)}delegateScrollFromMouseWheelEvent(te){!this._modelData||!this._modelData.hasRealView||this._modelData.view.delegateScrollFromMouseWheelEvent(te)}layout(te){this._configuration.observeContainer(te),this.render()}focus(){!this._modelData||!this._modelData.hasRealView||this._modelData.view.focus()}hasTextFocus(){return!this._modelData||!this._modelData.hasRealView?!1:this._modelData.view.isFocused()}hasWidgetFocus(){return this._focusTracker&&this._focusTracker.hasFocus()}addContentWidget(te){const q={widget:te,position:te.getPosition()};this._contentWidgets.hasOwnProperty(te.getId())&&console.warn("Overwriting a content widget with the same id."),this._contentWidgets[te.getId()]=q,this._modelData&&this._modelData.hasRealView&&this._modelData.view.addContentWidget(q)}layoutContentWidget(te){const q=te.getId();if(this._contentWidgets.hasOwnProperty(q)){const z=this._contentWidgets[q];z.position=te.getPosition(),this._modelData&&this._modelData.hasRealView&&this._modelData.view.layoutContentWidget(z)}}removeContentWidget(te){const q=te.getId();if(this._contentWidgets.hasOwnProperty(q)){const z=this._contentWidgets[q];delete this._contentWidgets[q],this._modelData&&this._modelData.hasRealView&&this._modelData.view.removeContentWidget(z)}}addOverlayWidget(te){const q={widget:te,position:te.getPosition()};this._overlayWidgets.hasOwnProperty(te.getId())&&console.warn("Overwriting an overlay widget with the same id."),this._overlayWidgets[te.getId()]=q,this._modelData&&this._modelData.hasRealView&&this._modelData.view.addOverlayWidget(q)}layoutOverlayWidget(te){const q=te.getId();if(this._overlayWidgets.hasOwnProperty(q)){const z=this._overlayWidgets[q];z.position=te.getPosition(),this._modelData&&this._modelData.hasRealView&&this._modelData.view.layoutOverlayWidget(z)}}removeOverlayWidget(te){const q=te.getId();if(this._overlayWidgets.hasOwnProperty(q)){const z=this._overlayWidgets[q];delete this._overlayWidgets[q],this._modelData&&this._modelData.hasRealView&&this._modelData.view.removeOverlayWidget(z)}}addGlyphMarginWidget(te){const q={widget:te,position:te.getPosition()};this._glyphMarginWidgets.hasOwnProperty(te.getId())&&console.warn("Overwriting a glyph margin widget with the same id."),this._glyphMarginWidgets[te.getId()]=q,this._modelData&&this._modelData.hasRealView&&this._modelData.view.addGlyphMarginWidget(q)}layoutGlyphMarginWidget(te){const q=te.getId();if(this._glyphMarginWidgets.hasOwnProperty(q)){const z=this._glyphMarginWidgets[q];z.position=te.getPosition(),this._modelData&&this._modelData.hasRealView&&this._modelData.view.layoutGlyphMarginWidget(z)}}removeGlyphMarginWidget(te){const q=te.getId();if(this._glyphMarginWidgets.hasOwnProperty(q)){const z=this._glyphMarginWidgets[q];delete this._glyphMarginWidgets[q],this._modelData&&this._modelData.hasRealView&&this._modelData.view.removeGlyphMarginWidget(z)}}changeViewZones(te){!this._modelData||!this._modelData.hasRealView||this._modelData.view.change(te)}getTargetAtClientPoint(te,q){return!this._modelData||!this._modelData.hasRealView?null:this._modelData.view.getTargetAtClientPoint(te,q)}getScrolledVisiblePosition(te){if(!this._modelData||!this._modelData.hasRealView)return null;const q=this._modelData.model.validatePosition(te),z=this._configuration.options,ee=z.get(142),$=j._getVerticalOffsetForPosition(this._modelData,q.lineNumber,q.column)-this.getScrollTop(),re=this._modelData.view.getOffsetForColumn(q.lineNumber,q.column)+ee.glyphMarginWidth+ee.lineNumbersWidth+ee.decorationsWidth-this.getScrollLeft();return{top:$,left:re,height:z.get(65)}}getOffsetForColumn(te,q){return!this._modelData||!this._modelData.hasRealView?-1:this._modelData.view.getOffsetForColumn(te,q)}render(te=!1){!this._modelData||!this._modelData.hasRealView||this._modelData.view.render(!0,te)}setAriaOptions(te){!this._modelData||!this._modelData.hasRealView||this._modelData.view.setAriaOptions(te)}applyFontInfo(te){(0,F.applyFontInfo)(te,this._configuration.options.get(49))}setBanner(te,q){this._bannerDomNode&&this._domElement.contains(this._bannerDomNode)&&this._domElement.removeChild(this._bannerDomNode),this._bannerDomNode=te,this._configuration.setReservedHeight(te?q:0),this._bannerDomNode&&this._domElement.prepend(this._bannerDomNode)}_attachModel(te){if(!te){this._modelData=null;return}const q=[];this._domElement.setAttribute("data-mode-id",te.getLanguageId()),this._configuration.setIsDominatedByLongLines(te.isDominatedByLongLines()),this._configuration.setModelLineCount(te.getLineCount());const z=te.onBeforeAttached(),ee=new m.ViewModel(this._id,this._configuration,te,T.DOMLineBreaksComputerFactory.create(),x.MonospaceLineBreaksComputerFactory.create(this._configuration.options),oe=>k.scheduleAtNextAnimationFrame(oe),this.languageConfigurationService,this._themeService,z);q.push(te.onWillDispose(()=>this.setModel(null))),q.push(ee.onEvent(oe=>{switch(oe.kind){case 0:this._onDidContentSizeChange.fire(oe);break;case 1:this._editorTextFocus.setValue(oe.hasFocus);break;case 2:this._onDidScrollChange.fire(oe);break;case 3:this._onDidChangeViewZones.fire();break;case 4:this._onDidChangeHiddenAreas.fire();break;case 5:this._onDidAttemptReadOnlyEdit.fire();break;case 6:{if(oe.reachedMaxCursorCount){const Le=this.getOption(78),De=L.localize(0,null,Le);this._notificationService.prompt(I.Severity.Warning,De,[{label:"Find and Replace",run:()=>{this._commandService.executeCommand("editor.action.startFindReplaceAction")}},{label:L.localize(1,null),run:()=>{this._commandService.executeCommand("workbench.action.openSettings2",{query:"editor.multiCursorLimit"})}}])}const ge=[];for(let Le=0,De=oe.selections.length;Le<De;Le++)ge[Le]=oe.selections[Le].getPosition();const ve={position:ge[0],secondaryPositions:ge.slice(1),reason:oe.reason,source:oe.source};this._onDidChangeCursorPosition.fire(ve);const Se={selection:oe.selections[0],secondarySelections:oe.selections.slice(1),modelVersionId:oe.modelVersionId,oldSelections:oe.oldSelections,oldModelVersionId:oe.oldModelVersionId,source:oe.source,reason:oe.reason};this._onDidChangeCursorSelection.fire(Se);break}case 7:this._onDidChangeModelDecorations.fire(oe.event);break;case 8:this._domElement.setAttribute("data-mode-id",te.getLanguageId()),this._onDidChangeModelLanguage.fire(oe.event);break;case 9:this._onDidChangeModelLanguageConfiguration.fire(oe.event);break;case 10:this._onDidChangeModelContent.fire(oe.event);break;case 11:this._onDidChangeModelOptions.fire(oe.event);break;case 12:this._onDidChangeModelTokens.fire(oe.event);break}}));const[$,re]=this._createView(ee);if(re){this._domElement.appendChild($.domNode.domNode);let oe=Object.keys(this._contentWidgets);for(let ge=0,ve=oe.length;ge<ve;ge++){const Se=oe[ge];$.addContentWidget(this._contentWidgets[Se])}oe=Object.keys(this._overlayWidgets);for(let ge=0,ve=oe.length;ge<ve;ge++){const Se=oe[ge];$.addOverlayWidget(this._overlayWidgets[Se])}oe=Object.keys(this._glyphMarginWidgets);for(let ge=0,ve=oe.length;ge<ve;ge++){const Se=oe[ge];$.addGlyphMarginWidget(this._glyphMarginWidgets[Se])}$.render(!1,!0),$.domNode.domNode.setAttribute("data-uri",te.uri.toString())}this._modelData=new K(te,ee,$,re,q,z)}_createView(te){let q;this.isSimpleWidget?q={paste:($,re,oe,ge)=>{this._paste("keyboard",$,re,oe,ge)},type:$=>{this._type("keyboard",$)},compositionType:($,re,oe,ge)=>{this._compositionType("keyboard",$,re,oe,ge)},startComposition:()=>{this._startComposition()},endComposition:()=>{this._endComposition("keyboard")},cut:()=>{this._cut("keyboard")}}:q={paste:($,re,oe,ge)=>{const ve={text:$,pasteOnNewLine:re,multicursorText:oe,mode:ge};this._commandService.executeCommand("paste",ve)},type:$=>{const re={text:$};this._commandService.executeCommand("type",re)},compositionType:($,re,oe,ge)=>{if(oe||ge){const ve={text:$,replacePrevCharCnt:re,replaceNextCharCnt:oe,positionDelta:ge};this._commandService.executeCommand("compositionType",ve)}else{const ve={text:$,replaceCharCnt:re};this._commandService.executeCommand("replacePreviousChar",ve)}},startComposition:()=>{this._commandService.executeCommand("compositionStart",{})},endComposition:()=>{this._commandService.executeCommand("compositionEnd",{})},cut:()=>{this._commandService.executeCommand("cut",{})}};const z=new i.ViewUserInputEvents(te.coordinatesConverter);return z.onKeyDown=$=>this._onKeyDown.fire($),z.onKeyUp=$=>this._onKeyUp.fire($),z.onContextMenu=$=>this._onContextMenu.fire($),z.onMouseMove=$=>this._onMouseMove.fire($),z.onMouseLeave=$=>this._onMouseLeave.fire($),z.onMouseDown=$=>this._onMouseDown.fire($),z.onMouseUp=$=>this._onMouseUp.fire($),z.onMouseDrag=$=>this._onMouseDrag.fire($),z.onMouseDrop=$=>this._onMouseDrop.fire($),z.onMouseDropCanceled=$=>this._onMouseDropCanceled.fire($),z.onMouseWheel=$=>this._onMouseWheel.fire($),[new s.View(q,this._configuration,this._themeService.getColorTheme(),te,z,this._overflowWidgetsDomNode,this._instantiationService),!0]}_postDetachModelCleanup(te){te?.removeAllDecorationsWithOwnerId(this._id)}_detachModel(){if(!this._modelData)return null;const te=this._modelData.model,q=this._modelData.hasRealView?this._modelData.view.domNode.domNode:null;return this._modelData.dispose(),this._modelData=null,this._domElement.removeAttribute("data-mode-id"),q&&this._domElement.contains(q)&&this._domElement.removeChild(q),this._bannerDomNode&&this._domElement.contains(this._bannerDomNode)&&this._domElement.removeChild(this._bannerDomNode),te}_removeDecorationType(te){this._codeEditorService.removeDecorationType(te)}hasModel(){return this._modelData!==null}showDropIndicatorAt(te){const q=[{range:new u.Range(te.lineNumber,te.column,te.lineNumber,te.column),options:j.dropIntoEditorDecorationOptions}];this._dropIntoEditorDecorations.set(q),this.revealPosition(te,1)}removeDropIndicator(){this._dropIntoEditorDecorations.clear()}setContextValue(te,q){this._contextKeyService.createKey(te,q)}};e.CodeEditorWidget=G,G.dropIntoEditorDecorationOptions=d.ModelDecorationOptions.register({description:"workbench-dnd-target",className:"dnd-target"}),e.CodeEditorWidget=G=j=ke([fe(3,w.IInstantiationService),fe(4,C.ICodeEditorService),fe(5,v.ICommandService),fe(6,b.IContextKeyService),fe(7,M.IThemeService),fe(8,I.INotificationService),fe(9,P.IAccessibilityService),fe(10,N.ILanguageConfigurationService),fe(11,O.ILanguageFeaturesService)],G);class Z extends S.Disposable{constructor(te){super(),this._emitterOptions=te,this._onDidChangeToTrue=this._register(new D.Emitter(this._emitterOptions)),this.onDidChangeToTrue=this._onDidChangeToTrue.event,this._onDidChangeToFalse=this._register(new D.Emitter(this._emitterOptions)),this.onDidChangeToFalse=this._onDidChangeToFalse.event,this._value=0}setValue(te){const q=te?2:1;this._value!==q&&(this._value=q,this._value===2?this._onDidChangeToTrue.fire():this._value===1&&this._onDidChangeToFalse.fire())}}e.BooleanEventEmitter=Z;class J extends D.Emitter{constructor(te,q){super({deliveryQueue:q}),this._contributions=te}fire(te){this._contributions.onBeforeInteractionEvent(),super.fire(te)}}class X extends S.Disposable{constructor(te,q){super(),this._editor=te,q.createKey("editorId",te.getId()),this._editorSimpleInput=o.EditorContextKeys.editorSimpleInput.bindTo(q),this._editorFocus=o.EditorContextKeys.focus.bindTo(q),this._textInputFocus=o.EditorContextKeys.textInputFocus.bindTo(q),this._editorTextFocus=o.EditorContextKeys.editorTextFocus.bindTo(q),this._editorTabMovesFocus=o.EditorContextKeys.tabMovesFocus.bindTo(q),this._editorReadonly=o.EditorContextKeys.readOnly.bindTo(q),this._inDiffEditor=o.EditorContextKeys.inDiffEditor.bindTo(q),this._editorColumnSelection=o.EditorContextKeys.columnSelection.bindTo(q),this._hasMultipleSelections=o.EditorContextKeys.hasMultipleSelections.bindTo(q),this._hasNonEmptySelection=o.EditorContextKeys.hasNonEmptySelection.bindTo(q),this._canUndo=o.EditorContextKeys.canUndo.bindTo(q),this._canRedo=o.EditorContextKeys.canRedo.bindTo(q),this._register(this._editor.onDidChangeConfiguration(()=>this._updateFromConfig())),this._register(this._editor.onDidChangeCursorSelection(()=>this._updateFromSelection())),this._register(this._editor.onDidFocusEditorWidget(()=>this._updateFromFocus())),this._register(this._editor.onDidBlurEditorWidget(()=>this._updateFromFocus())),this._register(this._editor.onDidFocusEditorText(()=>this._updateFromFocus())),this._register(this._editor.onDidBlurEditorText(()=>this._updateFromFocus())),this._register(this._editor.onDidChangeModel(()=>this._updateFromModel())),this._register(this._editor.onDidChangeConfiguration(()=>this._updateFromModel())),this._register(U.TabFocus.onDidChangeTabFocus(()=>this._editorTabMovesFocus.set(U.TabFocus.getTabFocusMode("editorFocus")))),this._updateFromConfig(),this._updateFromSelection(),this._updateFromFocus(),this._updateFromModel(),this._editorSimpleInput.set(this._editor.isSimpleWidget)}_updateFromConfig(){const te=this._editor.getOptions();this._editorTabMovesFocus.set(U.TabFocus.getTabFocusMode("editorFocus")),this._editorReadonly.set(te.get(89)),this._inDiffEditor.set(te.get(60)),this._editorColumnSelection.set(te.get(21))}_updateFromSelection(){const te=this._editor.getSelections();te?(this._hasMultipleSelections.set(te.length>1),this._hasNonEmptySelection.set(te.some(q=>!q.isEmpty()))):(this._hasMultipleSelections.reset(),this._hasNonEmptySelection.reset())}_updateFromFocus(){this._editorFocus.set(this._editor.hasWidgetFocus()&&!this._editor.isSimpleWidget),this._editorTextFocus.set(this._editor.hasTextFocus()&&!this._editor.isSimpleWidget),this._textInputFocus.set(this._editor.hasTextFocus())}_updateFromModel(){const te=this._editor.getModel();this._canUndo.set(!!(te&&te.canUndo())),this._canRedo.set(!!(te&&te.canRedo()))}}class H extends S.Disposable{constructor(te,q,z){super(),this._editor=te,this._contextKeyService=q,this._languageFeaturesService=z,this._langId=o.EditorContextKeys.languageId.bindTo(q),this._hasCompletionItemProvider=o.EditorContextKeys.hasCompletionItemProvider.bindTo(q),this._hasCodeActionsProvider=o.EditorContextKeys.hasCodeActionsProvider.bindTo(q),this._hasCodeLensProvider=o.EditorContextKeys.hasCodeLensProvider.bindTo(q),this._hasDefinitionProvider=o.EditorContextKeys.hasDefinitionProvider.bindTo(q),this._hasDeclarationProvider=o.EditorContextKeys.hasDeclarationProvider.bindTo(q),this._hasImplementationProvider=o.EditorContextKeys.hasImplementationProvider.bindTo(q),this._hasTypeDefinitionProvider=o.EditorContextKeys.hasTypeDefinitionProvider.bindTo(q),this._hasHoverProvider=o.EditorContextKeys.hasHoverProvider.bindTo(q),this._hasDocumentHighlightProvider=o.EditorContextKeys.hasDocumentHighlightProvider.bindTo(q),this._hasDocumentSymbolProvider=o.EditorContextKeys.hasDocumentSymbolProvider.bindTo(q),this._hasReferenceProvider=o.EditorContextKeys.hasReferenceProvider.bindTo(q),this._hasRenameProvider=o.EditorContextKeys.hasRenameProvider.bindTo(q),this._hasSignatureHelpProvider=o.EditorContextKeys.hasSignatureHelpProvider.bindTo(q),this._hasInlayHintsProvider=o.EditorContextKeys.hasInlayHintsProvider.bindTo(q),this._hasDocumentFormattingProvider=o.EditorContextKeys.hasDocumentFormattingProvider.bindTo(q),this._hasDocumentSelectionFormattingProvider=o.EditorContextKeys.hasDocumentSelectionFormattingProvider.bindTo(q),this._hasMultipleDocumentFormattingProvider=o.EditorContextKeys.hasMultipleDocumentFormattingProvider.bindTo(q),this._hasMultipleDocumentSelectionFormattingProvider=o.EditorContextKeys.hasMultipleDocumentSelectionFormattingProvider.bindTo(q),this._isInWalkThrough=o.EditorContextKeys.isInWalkThroughSnippet.bindTo(q);const ee=()=>this._update();this._register(te.onDidChangeModel(ee)),this._register(te.onDidChangeModelLanguage(ee)),this._register(z.completionProvider.onDidChange(ee)),this._register(z.codeActionProvider.onDidChange(ee)),this._register(z.codeLensProvider.onDidChange(ee)),this._register(z.definitionProvider.onDidChange(ee)),this._register(z.declarationProvider.onDidChange(ee)),this._register(z.implementationProvider.onDidChange(ee)),this._register(z.typeDefinitionProvider.onDidChange(ee)),this._register(z.hoverProvider.onDidChange(ee)),this._register(z.documentHighlightProvider.onDidChange(ee)),this._register(z.documentSymbolProvider.onDidChange(ee)),this._register(z.referenceProvider.onDidChange(ee)),this._register(z.renameProvider.onDidChange(ee)),this._register(z.documentFormattingEditProvider.onDidChange(ee)),this._register(z.documentRangeFormattingEditProvider.onDidChange(ee)),this._register(z.signatureHelpProvider.onDidChange(ee)),this._register(z.inlayHintsProvider.onDidChange(ee)),ee()}dispose(){super.dispose()}reset(){this._contextKeyService.bufferChangeEvents(()=>{this._langId.reset(),this._hasCompletionItemProvider.reset(),this._hasCodeActionsProvider.reset(),this._hasCodeLensProvider.reset(),this._hasDefinitionProvider.reset(),this._hasDeclarationProvider.reset(),this._hasImplementationProvider.reset(),this._hasTypeDefinitionProvider.reset(),this._hasHoverProvider.reset(),this._hasDocumentHighlightProvider.reset(),this._hasDocumentSymbolProvider.reset(),this._hasReferenceProvider.reset(),this._hasRenameProvider.reset(),this._hasDocumentFormattingProvider.reset(),this._hasDocumentSelectionFormattingProvider.reset(),this._hasSignatureHelpProvider.reset(),this._isInWalkThrough.reset()})}_update(){const te=this._editor.getModel();if(!te){this.reset();return}this._contextKeyService.bufferChangeEvents(()=>{this._langId.set(te.getLanguageId()),this._hasCompletionItemProvider.set(this._languageFeaturesService.completionProvider.has(te)),this._hasCodeActionsProvider.set(this._languageFeaturesService.codeActionProvider.has(te)),this._hasCodeLensProvider.set(this._languageFeaturesService.codeLensProvider.has(te)),this._hasDefinitionProvider.set(this._languageFeaturesService.definitionProvider.has(te)),this._hasDeclarationProvider.set(this._languageFeaturesService.declarationProvider.has(te)),this._hasImplementationProvider.set(this._languageFeaturesService.implementationProvider.has(te)),this._hasTypeDefinitionProvider.set(this._languageFeaturesService.typeDefinitionProvider.has(te)),this._hasHoverProvider.set(this._languageFeaturesService.hoverProvider.has(te)),this._hasDocumentHighlightProvider.set(this._languageFeaturesService.documentHighlightProvider.has(te)),this._hasDocumentSymbolProvider.set(this._languageFeaturesService.documentSymbolProvider.has(te)),this._hasReferenceProvider.set(this._languageFeaturesService.referenceProvider.has(te)),this._hasRenameProvider.set(this._languageFeaturesService.renameProvider.has(te)),this._hasSignatureHelpProvider.set(this._languageFeaturesService.signatureHelpProvider.has(te)),this._hasInlayHintsProvider.set(this._languageFeaturesService.inlayHintsProvider.has(te)),this._hasDocumentFormattingProvider.set(this._languageFeaturesService.documentFormattingEditProvider.has(te)||this._languageFeaturesService.documentRangeFormattingEditProvider.has(te)),this._hasDocumentSelectionFormattingProvider.set(this._languageFeaturesService.documentRangeFormattingEditProvider.has(te)),this._hasMultipleDocumentFormattingProvider.set(this._languageFeaturesService.documentFormattingEditProvider.all(te).length+this._languageFeaturesService.documentRangeFormattingEditProvider.all(te).length>1),this._hasMultipleDocumentSelectionFormattingProvider.set(this._languageFeaturesService.documentRangeFormattingEditProvider.all(te).length>1),this._isInWalkThrough.set(te.uri.scheme===f.Schemas.walkThroughSnippet)})}}e.EditorModeContext=H;class B extends S.Disposable{constructor(te){super(),this._onChange=this._register(new D.Emitter),this.onChange=this._onChange.event,this._hasFocus=!1,this._domFocusTracker=this._register(k.trackFocus(te)),this._register(this._domFocusTracker.onDidFocus(()=>{this._hasFocus=!0,this._onChange.fire(void 0)})),this._register(this._domFocusTracker.onDidBlur(()=>{this._hasFocus=!1,this._onChange.fire(void 0)}))}hasFocus(){return this._hasFocus}}class V{get length(){return this._decorationIds.length}constructor(te,q){this._editor=te,this._decorationIds=[],this._isChangingDecorations=!1,Array.isArray(q)&&q.length>0&&this.set(q)}onDidChange(te,q,z){return this._editor.onDidChangeModelDecorations(ee=>{this._isChangingDecorations||te.call(q,ee)},z)}getRange(te){return!this._editor.hasModel()||te>=this._decorationIds.length?null:this._editor.getModel().getDecorationRange(this._decorationIds[te])}getRanges(){if(!this._editor.hasModel())return[];const te=this._editor.getModel(),q=[];for(const z of this._decorationIds){const ee=te.getDecorationRange(z);ee&&q.push(ee)}return q}has(te){return this._decorationIds.includes(te.id)}clear(){this._decorationIds.length!==0&&this.set([])}set(te){try{this._isChangingDecorations=!0,this._editor.changeDecorations(q=>{this._decorationIds=q.deltaDecorations(this._decorationIds,te)})}finally{this._isChangingDecorations=!1}return this._decorationIds}}const Y=encodeURIComponent("<svg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 6 3' enable-background='new 0 0 6 3' height='3' width='6'><g fill='"),ie=encodeURIComponent("'><polygon points='5.5,0 2.5,3 1.1,3 4.1,0'/><polygon points='4,0 6,2 6,0.6 5.4,0'/><polygon points='0,2 1,3 2.4,3 0,0.6'/></g></svg>");function ae(ue){return Y+encodeURIComponent(ue.toString())+ie}const ce=encodeURIComponent('<svg xmlns="http://www.w3.org/2000/svg" height="3" width="12"><g fill="'),de=encodeURIComponent('"><circle cx="1" cy="1" r="1"/><circle cx="5" cy="1" r="1"/><circle cx="9" cy="1" r="1"/></g></svg>');function he(ue){return ce+encodeURIComponent(ue.toString())+de}(0,M.registerThemingParticipant)((ue,te)=>{const q=ue.getColor(p.editorErrorForeground);q&&te.addRule(`.monaco-editor .squiggly-error { background: url("data:image/svg+xml,${ae(q)}") repeat-x bottom left; }`);const z=ue.getColor(p.editorWarningForeground);z&&te.addRule(`.monaco-editor .squiggly-warning { background: url("data:image/svg+xml,${ae(z)}") repeat-x bottom left; }`);const ee=ue.getColor(p.editorInfoForeground);ee&&te.addRule(`.monaco-editor .squiggly-info { background: url("data:image/svg+xml,${ae(ee)}") repeat-x bottom left; }`);const $=ue.getColor(p.editorHintForeground);$&&te.addRule(`.monaco-editor .squiggly-hint { background: url("data:image/svg+xml,${he($)}") no-repeat bottom left; }`);const re=ue.getColor(l.editorUnnecessaryCodeOpacity);re&&te.addRule(`.monaco-editor.showUnused .squiggly-inline-unnecessary { opacity: ${re.rgba.a}; }`)})}),define(ne[254],se([1,0,7,35,89,173,130,85,13,19,25,9,6,55,2,26,59,200,16,33,108,161,237,354,617,348,36,12,5,93,148,21,40,127,95,67,212,606,96,15,57,8,157,43,77,31,62,23,433]),function(Q,e,L,k,y,D,S,f,_,g,C,s,i,n,t,a,u,h,r,c,o,d,l,p,m,v,b,w,E,I,M,P,x,T,A,N,F,O,W,U,j,R,K,G,Z,J,X,H){"use strict";var B;Object.defineProperty(e,"__esModule",{value:!0}),e.DiffEditorWidget=e.diffEditorWidgetTtPolicy=void 0;class V{constructor(me,le){this._contextMenuService=me,this._clipboardService=le,this._zones=[],this._inlineDiffMargins=[],this._zonesMap={},this._decorations=[]}getForeignViewZones(me){return me.filter(le=>!this._zonesMap[String(le.id)])}clean(me){this._zones.length>0&&me.changeViewZones(le=>{for(const pe of this._zones)le.removeZone(pe)}),this._zones=[],this._zonesMap={},me.changeDecorations(le=>{this._decorations=le.deltaDecorations(this._decorations,[])})}apply(me,le,pe,Ce){const be=Ce?o.StableEditorScrollState.capture(me):null;me.changeViewZones(Ie=>{var Ne;for(const Re of this._zones)Ie.removeZone(Re);for(const Re of this._inlineDiffMargins)Re.dispose();this._zones=[],this._zonesMap={},this._inlineDiffMargins=[];for(let Re=0,Ve=pe.zones.length;Re<Ve;Re++){const ze=pe.zones[Re];ze.suppressMouseDown=!0,ze.showInHiddenAreas=!0;const We=Ie.addZone(ze);this._zones.push(We),this._zonesMap[String(We)]=!0,pe.zones[Re].diff&&ze.marginDomNode&&(ze.suppressMouseDown=!1,((Ne=pe.zones[Re].diff)===null||Ne===void 0?void 0:Ne.originalModel.getValueLength())!==0&&this._inlineDiffMargins.push(new m.InlineDiffMargin(We,ze.marginDomNode,me,pe.zones[Re].diff,this._contextMenuService,this._clipboardService)))}}),be?.restore(me),me.changeDecorations(Ie=>{this._decorations=Ie.deltaDecorations(this._decorations,pe.decorations)}),le?.setZones(pe.overviewZones)}}let Y=0;const ie=(0,X.registerIcon)("diff-insert",C.Codicon.add,O.localize(0,null)),ae=(0,X.registerIcon)("diff-remove",C.Codicon.remove,O.localize(1,null));e.diffEditorWidgetTtPolicy=(0,y.createTrustedTypesPolicy)("diffEditorWidget",{createHTML:_e=>_e});const ce=O.localize(2,null);let de=B=class extends t.Disposable{constructor(me,le,pe,Ce,be,Ie,Ne,Re,Ve,ze,We){super(),this._editorProgressService=We,this._onDidDispose=this._register(new i.Emitter),this.onDidDispose=this._onDidDispose.event,this._onDidChangeModel=this._register(new i.Emitter),this.onDidChangeModel=this._onDidChangeModel.event,this._onDidUpdateDiff=this._register(new i.Emitter),this.onDidUpdateDiff=this._onDidUpdateDiff.event,this._onDidContentSizeChange=this._register(new i.Emitter),this._lastOriginalWarning=null,this._lastModifiedWarning=null,Ne.willCreateDiffEditor(),this._documentDiffProvider=this._register(Ie.createInstance(v.WorkerBasedDocumentDiffProvider,le)),this._register(this._documentDiffProvider.onDidChange(Oe=>this._beginUpdateDecorationsSoon())),this._codeEditorService=Ne,this._contextKeyService=this._register(be.createScoped(me)),this._instantiationService=Ie.createChild(new K.ServiceCollection([U.IContextKeyService,this._contextKeyService])),this._contextKeyService.createKey("isInDiffEditor",!0),this._themeService=Re,this._notificationService=Ve,this._id=++Y,this._state=0,this._updatingDiffProgress=null,this._domElement=me,le=le||{},this._options=Pe(le,{enableSplitViewResizing:!0,splitViewDefaultRatio:.5,renderSideBySide:!0,renderMarginRevertIcon:!0,maxComputationTime:5e3,maxFileSize:50,ignoreTrimWhitespace:!0,renderIndicators:!0,originalEditable:!1,diffCodeLens:!1,renderOverviewRuler:!0,diffWordWrap:"inherit",diffAlgorithm:"advanced",accessibilityVerbose:!1,experimental:{showEmptyDecorations:!1,showMoves:!1},hideUnchangedRegions:{enabled:!1,contextLineCount:0,minimumLineCount:0,revealLineCount:0},isInEmbeddedEditor:!1,onlyShowAccessibleDiffViewer:!1,renderSideBySideInlineBreakpoint:0,useInlineViewWhenSpaceIsLimited:!1}),this.isEmbeddedDiffEditorKey=P.EditorContextKeys.isEmbeddedDiffEditor.bindTo(this._contextKeyService),this.isEmbeddedDiffEditorKey.set(typeof le.isInEmbeddedEditor<"u"?le.isInEmbeddedEditor:!1),this._updateDecorationsRunner=this._register(new _.RunOnceScheduler(()=>this._updateDecorations(),0)),this._containerDomElement=document.createElement("div"),this._containerDomElement.className=B._getClassName(this._themeService.getColorTheme(),this._options.renderSideBySide),this._containerDomElement.style.position="relative",this._containerDomElement.style.height="100%",this._domElement.appendChild(this._containerDomElement),this._overviewViewportDomElement=(0,k.createFastDomNode)(document.createElement("div")),this._overviewViewportDomElement.setClassName("diffViewport"),this._overviewViewportDomElement.setPosition("absolute"),this._overviewDomElement=document.createElement("div"),this._overviewDomElement.className="diffOverview",this._overviewDomElement.style.position="absolute",this._overviewDomElement.appendChild(this._overviewViewportDomElement.domNode),this._register(L.addStandardDisposableListener(this._overviewDomElement,L.EventType.POINTER_DOWN,Oe=>{this._modifiedEditor.delegateVerticalScrollbarPointerDown(Oe)})),this._register(L.addDisposableListener(this._overviewDomElement,L.EventType.MOUSE_WHEEL,Oe=>{this._modifiedEditor.delegateScrollFromMouseWheelEvent(Oe)},{passive:!1})),this._options.renderOverviewRuler&&this._containerDomElement.appendChild(this._overviewDomElement),this._originalDomNode=document.createElement("div"),this._originalDomNode.className="editor original",this._originalDomNode.style.position="absolute",this._originalDomNode.style.height="100%",this._containerDomElement.appendChild(this._originalDomNode),this._modifiedDomNode=document.createElement("div"),this._modifiedDomNode.className="editor modified",this._modifiedDomNode.style.position="absolute",this._modifiedDomNode.style.height="100%",this._containerDomElement.appendChild(this._modifiedDomNode),this._beginUpdateDecorationsTimeout=-1,this._currentlyChangingViewZones=!1,this._diffComputationToken=0,this._originalEditorState=new V(ze,Ce),this._modifiedEditorState=new V(ze,Ce),this._isVisible=!0,this._isHandlingScrollEvent=!1,this._elementSizeObserver=this._register(new h.ElementSizeObserver(this._containerDomElement,le.dimension)),this._register(this._elementSizeObserver.onDidChange(()=>this._onDidContainerSizeChanged())),le.automaticLayout&&this._elementSizeObserver.startObserving(),this._diffComputationResult=null,this._originalEditor=this._createLeftHandSideEditor(le,pe.originalEditor||{}),this._modifiedEditor=this._createRightHandSideEditor(le,pe.modifiedEditor||{}),this._originalOverviewRuler=null,this._modifiedOverviewRuler=null,this._reviewPane=Ie.createInstance(p.DiffReview,this),this._containerDomElement.appendChild(this._reviewPane.domNode.domNode),this._containerDomElement.appendChild(this._reviewPane.shadow.domNode),this._containerDomElement.appendChild(this._reviewPane.actionBarContainer.domNode),this._options.renderSideBySide?this._setStrategy(new ee(this._createDataSource(),this._options.enableSplitViewResizing,this._options.splitViewDefaultRatio)):this._setStrategy(new re(this._createDataSource(),this._options.enableSplitViewResizing)),this._register(Re.onDidColorThemeChange(Oe=>{this._strategy&&this._strategy.applyColors(Oe)&&this._updateDecorationsRunner.schedule(),this._containerDomElement.className=B._getClassName(this._themeService.getColorTheme(),this._options.renderSideBySide)}));const qe=r.EditorExtensionsRegistry.getDiffEditorContributions();for(const Oe of qe)try{this._register(Ie.createInstance(Oe.ctor,this))}catch(Ge){(0,s.onUnexpectedError)(Ge)}this._codeEditorService.addDiffEditor(this)}_setState(me){this._state!==me&&(this._state=me,this._updatingDiffProgress&&(this._updatingDiffProgress.done(),this._updatingDiffProgress=null),this._state===1&&(this._updatingDiffProgress=this._editorProgressService.show(!0,1e3)))}accessibleDiffViewerNext(){this._reviewPane.next()}accessibleDiffViewerPrev(){this._reviewPane.prev()}static _getClassName(me,le){let pe="monaco-diff-editor monaco-editor-background ";return le&&(pe+="side-by-side "),pe+=(0,H.getThemeTypeSelector)(me.type),pe}_disposeOverviewRulers(){this._originalOverviewRuler&&(this._overviewDomElement.removeChild(this._originalOverviewRuler.getDomNode()),this._originalOverviewRuler.dispose(),this._originalOverviewRuler=null),this._modifiedOverviewRuler&&(this._overviewDomElement.removeChild(this._modifiedOverviewRuler.getDomNode()),this._modifiedOverviewRuler.dispose(),this._modifiedOverviewRuler=null)}_createOverviewRulers(){this._options.renderOverviewRuler&&(f.ok(!this._originalOverviewRuler&&!this._modifiedOverviewRuler),this._originalEditor.hasModel()&&(this._originalOverviewRuler=this._originalEditor.createOverviewRuler("original diffOverviewRuler"),this._overviewDomElement.appendChild(this._originalOverviewRuler.getDomNode())),this._modifiedEditor.hasModel()&&(this._modifiedOverviewRuler=this._modifiedEditor.createOverviewRuler("modified diffOverviewRuler"),this._overviewDomElement.appendChild(this._modifiedOverviewRuler.getDomNode())),this._layoutOverviewRulers())}_createLeftHandSideEditor(me,le){const pe=this._createInnerEditor(this._instantiationService,this._originalDomNode,this._adjustOptionsForLeftHandSide(me),le);this._register(pe.onDidScrollChange(be=>{this._isHandlingScrollEvent||!be.scrollTopChanged&&!be.scrollLeftChanged&&!be.scrollHeightChanged||(this._isHandlingScrollEvent=!0,this._modifiedEditor.setScrollPosition({scrollLeft:be.scrollLeft,scrollTop:be.scrollTop}),this._isHandlingScrollEvent=!1,this._layoutOverviewViewport())})),this._register(pe.onDidChangeViewZones(()=>{this._onViewZonesChanged()})),this._register(pe.onDidChangeConfiguration(be=>{pe.getModel()&&(be.hasChanged(49)&&this._updateDecorationsRunner.schedule(),be.hasChanged(143)&&(this._updateDecorationsRunner.cancel(),this._updateDecorations()))})),this._register(pe.onDidChangeHiddenAreas(()=>{this._updateDecorationsRunner.cancel(),this._updateDecorations()})),this._register(pe.onDidChangeModelContent(()=>{this._isVisible&&this._beginUpdateDecorationsSoon()}));const Ce=this._contextKeyService.createKey("isInDiffLeftEditor",pe.hasWidgetFocus());return this._register(pe.onDidFocusEditorWidget(()=>Ce.set(!0))),this._register(pe.onDidBlurEditorWidget(()=>Ce.set(!1))),this._register(pe.onDidContentSizeChange(be=>{const Ie=this._originalEditor.getContentWidth()+this._modifiedEditor.getContentWidth()+B.ONE_OVERVIEW_WIDTH,Ne=Math.max(this._modifiedEditor.getContentHeight(),this._originalEditor.getContentHeight());this._onDidContentSizeChange.fire({contentHeight:Ne,contentWidth:Ie,contentHeightChanged:be.contentHeightChanged,contentWidthChanged:be.contentWidthChanged})})),pe}_createRightHandSideEditor(me,le){const pe=this._createInnerEditor(this._instantiationService,this._modifiedDomNode,this._adjustOptionsForRightHandSide(me),le);this._register(pe.onDidScrollChange(be=>{this._isHandlingScrollEvent||!be.scrollTopChanged&&!be.scrollLeftChanged&&!be.scrollHeightChanged||(this._isHandlingScrollEvent=!0,this._originalEditor.setScrollPosition({scrollLeft:be.scrollLeft,scrollTop:be.scrollTop}),this._isHandlingScrollEvent=!1,this._layoutOverviewViewport())})),this._register(pe.onDidChangeViewZones(()=>{this._onViewZonesChanged()})),this._register(pe.onDidChangeConfiguration(be=>{pe.getModel()&&(be.hasChanged(49)&&this._updateDecorationsRunner.schedule(),be.hasChanged(143)&&(this._updateDecorationsRunner.cancel(),this._updateDecorations()))})),this._register(pe.onDidChangeHiddenAreas(()=>{this._updateDecorationsRunner.cancel(),this._updateDecorations()})),this._register(pe.onDidChangeModelContent(()=>{this._isVisible&&this._beginUpdateDecorationsSoon()})),this._register(pe.onDidChangeModelOptions(be=>{be.tabSize&&this._updateDecorationsRunner.schedule()}));const Ce=this._contextKeyService.createKey("isInDiffRightEditor",pe.hasWidgetFocus());return this._register(pe.onDidFocusEditorWidget(()=>Ce.set(!0))),this._register(pe.onDidBlurEditorWidget(()=>Ce.set(!1))),this._register(pe.onDidContentSizeChange(be=>{const Ie=this._originalEditor.getContentWidth()+this._modifiedEditor.getContentWidth()+B.ONE_OVERVIEW_WIDTH,Ne=Math.max(this._modifiedEditor.getContentHeight(),this._originalEditor.getContentHeight());this._onDidContentSizeChange.fire({contentHeight:Ne,contentWidth:Ie,contentHeightChanged:be.contentHeightChanged,contentWidthChanged:be.contentWidthChanged})})),this._register(pe.onMouseDown(be=>{var Ie,Ne;if(!be.event.rightButton&&be.target.position&&(!((Ie=be.target.element)===null||Ie===void 0)&&Ie.className.includes("arrow-revert-change"))){const Re=be.target.position.lineNumber,Ve=be.target,ze=(Ne=this._diffComputationResult)===null||Ne===void 0?void 0:Ne.changes.find(We=>Ve?.detail.afterLineNumber===We.modifiedStartLineNumber||We.modifiedEndLineNumber>0&&We.modifiedStartLineNumber===Re);ze&&this.revertChange(ze),be.event.stopPropagation(),this._updateDecorations();return}})),pe}revertChange(me){const le=this._modifiedEditor,pe=this._originalEditor.getModel(),Ce=this._modifiedEditor.getModel();if(!pe||!Ce||!le)return;const be=me.originalEndLineNumber>0?new E.Range(me.originalStartLineNumber,1,me.originalEndLineNumber,pe.getLineMaxColumn(me.originalEndLineNumber)):null,Ie=be?pe.getValueInRange(be):null,Ne=me.modifiedEndLineNumber>0?new E.Range(me.modifiedStartLineNumber,1,me.modifiedEndLineNumber,Ce.getLineMaxColumn(me.modifiedEndLineNumber)):null,Re=Ce.getEOL();if(me.originalEndLineNumber===0&&Ne){let Ve=Ne;me.modifiedStartLineNumber>1?Ve=Ne.setStartPosition(me.modifiedStartLineNumber-1,Ce.getLineMaxColumn(me.modifiedStartLineNumber-1)):me.modifiedEndLineNumber<Ce.getLineCount()&&(Ve=Ne.setEndPosition(me.modifiedEndLineNumber+1,1)),le.executeEdits("diffEditor",[{range:Ve,text:""}])}else if(me.modifiedEndLineNumber===0&&Ie!==null){const Ve=me.modifiedStartLineNumber<Ce.getLineCount()?new w.Position(me.modifiedStartLineNumber+1,1):new w.Position(me.modifiedStartLineNumber,Ce.getLineMaxColumn(me.modifiedStartLineNumber));le.executeEdits("diffEditor",[{range:E.Range.fromPositions(Ve,Ve),text:me.modifiedStartLineNumber<Ce.getLineCount()?Ie+Re:Re+Ie}])}else Ne&&Ie!==null&&le.executeEdits("diffEditor",[{range:Ne,text:Ie}])}_createInnerEditor(me,le,pe,Ce){return me.createInstance(d.CodeEditorWidget,le,pe,Ce)}dispose(){this._codeEditorService.removeDiffEditor(this),this._beginUpdateDecorationsTimeout!==-1&&(window.clearTimeout(this._beginUpdateDecorationsTimeout),this._beginUpdateDecorationsTimeout=-1),this._cleanViewZonesAndDecorations(),this._originalOverviewRuler&&(this._overviewDomElement.removeChild(this._originalOverviewRuler.getDomNode()),this._originalOverviewRuler.dispose()),this._modifiedOverviewRuler&&(this._overviewDomElement.removeChild(this._modifiedOverviewRuler.getDomNode()),this._modifiedOverviewRuler.dispose()),this._overviewDomElement.removeChild(this._overviewViewportDomElement.domNode),this._options.renderOverviewRuler&&this._containerDomElement.removeChild(this._overviewDomElement),this._containerDomElement.removeChild(this._originalDomNode),this._originalEditor.dispose(),this._containerDomElement.removeChild(this._modifiedDomNode),this._modifiedEditor.dispose(),this._strategy.dispose(),this._containerDomElement.removeChild(this._reviewPane.domNode.domNode),this._containerDomElement.removeChild(this._reviewPane.shadow.domNode),this._containerDomElement.removeChild(this._reviewPane.actionBarContainer.domNode),this._reviewPane.dispose(),this._domElement.removeChild(this._containerDomElement),this._onDidDispose.fire(),super.dispose()}getId(){return this.getEditorType()+":"+this._id}getEditorType(){return M.EditorType.IDiffEditor}getLineChanges(){return this._diffComputationResult?this._diffComputationResult.changes:null}getOriginalEditor(){return this._originalEditor}getModifiedEditor(){return this._modifiedEditor}updateOptions(me){const le=Pe(me,this._options),pe=Fe(this._options,le);this._options=le,this.isEmbeddedDiffEditorKey.set(typeof me.isInEmbeddedEditor<"u"?me.isInEmbeddedEditor:!1);const Ce=pe.ignoreTrimWhitespace||pe.renderIndicators||pe.renderMarginRevertIcon,be=this._isVisible&&(pe.maxComputationTime||pe.maxFileSize);this._documentDiffProvider.setOptions(le),Ce?this._beginUpdateDecorations():be&&this._beginUpdateDecorationsSoon(),this._modifiedEditor.updateOptions(this._adjustOptionsForRightHandSide(me)),this._originalEditor.updateOptions(this._adjustOptionsForLeftHandSide(me)),this._strategy.setEnableSplitViewResizing(this._options.enableSplitViewResizing,this._options.splitViewDefaultRatio),pe.renderSideBySide&&(this._options.renderSideBySide?this._setStrategy(new ee(this._createDataSource(),this._options.enableSplitViewResizing,this._options.splitViewDefaultRatio)):this._setStrategy(new re(this._createDataSource(),this._options.enableSplitViewResizing)),this._containerDomElement.className=B._getClassName(this._themeService.getColorTheme(),this._options.renderSideBySide)),pe.renderOverviewRuler&&(this._options.renderOverviewRuler?this._containerDomElement.appendChild(this._overviewDomElement):this._containerDomElement.removeChild(this._overviewDomElement))}getModel(){return{original:this._originalEditor.getModel(),modified:this._modifiedEditor.getModel()}}createViewModel(me){return{model:me,waitForDiff(){return we(this,void 0,void 0,function*(){})}}}setModel(me){if(me&&"model"in me&&(me=me.model),me&&(!me.original||!me.modified))throw new Error(me.original?"DiffEditorWidget.setModel: Modified model is null":"DiffEditorWidget.setModel: Original model is null");this._cleanViewZonesAndDecorations(),this._disposeOverviewRulers(),this._originalEditor.setModel(me?me.original:null),this._modifiedEditor.setModel(me?me.modified:null),this._updateDecorationsRunner.cancel(),me&&(this._originalEditor.setScrollTop(0),this._modifiedEditor.setScrollTop(0)),this._diffComputationResult=null,this._diffComputationToken++,this._setState(0),me&&(this._createOverviewRulers(),this._beginUpdateDecorations()),this._layoutOverviewViewport(),this._onDidChangeModel.fire(),this._diffNavigator=this._register(this._instantiationService.createInstance(l.DiffNavigator,this,{alwaysRevealFirst:!1,findResultLoop:this.getModifiedEditor().getOption(40).loop}))}getContainerDomNode(){return this._domElement}getVisibleColumnFromPosition(me){return this._modifiedEditor.getVisibleColumnFromPosition(me)}getPosition(){return this._modifiedEditor.getPosition()}setPosition(me,le="api"){this._modifiedEditor.setPosition(me,le)}revealLine(me,le=0){this._modifiedEditor.revealLine(me,le)}revealLineInCenter(me,le=0){this._modifiedEditor.revealLineInCenter(me,le)}revealLineInCenterIfOutsideViewport(me,le=0){this._modifiedEditor.revealLineInCenterIfOutsideViewport(me,le)}revealLineNearTop(me,le=0){this._modifiedEditor.revealLineNearTop(me,le)}revealPosition(me,le=0){this._modifiedEditor.revealPosition(me,le)}revealPositionInCenter(me,le=0){this._modifiedEditor.revealPositionInCenter(me,le)}revealPositionInCenterIfOutsideViewport(me,le=0){this._modifiedEditor.revealPositionInCenterIfOutsideViewport(me,le)}revealPositionNearTop(me,le=0){this._modifiedEditor.revealPositionNearTop(me,le)}getSelection(){return this._modifiedEditor.getSelection()}getSelections(){return this._modifiedEditor.getSelections()}setSelection(me,le="api"){this._modifiedEditor.setSelection(me,le)}setSelections(me,le="api"){this._modifiedEditor.setSelections(me,le)}revealLines(me,le,pe=0){this._modifiedEditor.revealLines(me,le,pe)}revealLinesInCenter(me,le,pe=0){this._modifiedEditor.revealLinesInCenter(me,le,pe)}revealLinesInCenterIfOutsideViewport(me,le,pe=0){this._modifiedEditor.revealLinesInCenterIfOutsideViewport(me,le,pe)}revealLinesNearTop(me,le,pe=0){this._modifiedEditor.revealLinesNearTop(me,le,pe)}revealRange(me,le=0,pe=!1,Ce=!0){this._modifiedEditor.revealRange(me,le,pe,Ce)}revealRangeInCenter(me,le=0){this._modifiedEditor.revealRangeInCenter(me,le)}revealRangeInCenterIfOutsideViewport(me,le=0){this._modifiedEditor.revealRangeInCenterIfOutsideViewport(me,le)}revealRangeNearTop(me,le=0){this._modifiedEditor.revealRangeNearTop(me,le)}revealRangeNearTopIfOutsideViewport(me,le=0){this._modifiedEditor.revealRangeNearTopIfOutsideViewport(me,le)}revealRangeAtTop(me,le=0){this._modifiedEditor.revealRangeAtTop(me,le)}getSupportedActions(){return this._modifiedEditor.getSupportedActions()}focus(){this._modifiedEditor.focus()}trigger(me,le,pe){this._modifiedEditor.trigger(me,le,pe)}createDecorationsCollection(me){return this._modifiedEditor.createDecorationsCollection(me)}changeDecorations(me){return this._modifiedEditor.changeDecorations(me)}saveViewState(){const me=this._originalEditor.saveViewState(),le=this._modifiedEditor.saveViewState();return{original:me,modified:le}}restoreViewState(me){if(me&&me.original&&me.modified){const le=me;this._originalEditor.restoreViewState(le.original),this._modifiedEditor.restoreViewState(le.modified)}}layout(me){this._elementSizeObserver.observe(me)}hasTextFocus(){return this._originalEditor.hasTextFocus()||this._modifiedEditor.hasTextFocus()}_onDidContainerSizeChanged(){this._doLayout()}_getReviewHeight(){return this._reviewPane.isVisible()?this._elementSizeObserver.getHeight():0}_layoutOverviewRulers(){if(!this._options.renderOverviewRuler||!this._originalOverviewRuler||!this._modifiedOverviewRuler)return;const me=this._elementSizeObserver.getHeight(),le=this._getReviewHeight(),pe=B.ENTIRE_DIFF_OVERVIEW_WIDTH-2*B.ONE_OVERVIEW_WIDTH;this._modifiedEditor.getLayoutInfo()&&(this._originalOverviewRuler.setLayout({top:0,width:B.ONE_OVERVIEW_WIDTH,right:pe+B.ONE_OVERVIEW_WIDTH,height:me-le}),this._modifiedOverviewRuler.setLayout({top:0,right:0,width:B.ONE_OVERVIEW_WIDTH,height:me-le}))}_onViewZonesChanged(){this._currentlyChangingViewZones||this._updateDecorationsRunner.schedule()}_beginUpdateDecorationsSoon(){this._beginUpdateDecorationsTimeout!==-1&&(window.clearTimeout(this._beginUpdateDecorationsTimeout),this._beginUpdateDecorationsTimeout=-1),this._beginUpdateDecorationsTimeout=window.setTimeout(()=>this._beginUpdateDecorations(),B.UPDATE_DIFF_DECORATIONS_DELAY)}static _equals(me,le){return!me&&!le?!0:!me||!le?!1:me.toString()===le.toString()}_beginUpdateDecorations(){this._beginUpdateDecorationsTimeout!==-1&&(window.clearTimeout(this._beginUpdateDecorationsTimeout),this._beginUpdateDecorationsTimeout=-1);const me=this._originalEditor.getModel(),le=this._modifiedEditor.getModel();if(!me||!le)return;this._diffComputationToken++;const pe=this._diffComputationToken,Ce=this._options.maxFileSize*1024*1024,be=Ie=>{const Ne=Ie.getValueLength();return Ce===0||Ne<=Ce};if(!be(me)||!be(le)){(!B._equals(me.uri,this._lastOriginalWarning)||!B._equals(le.uri,this._lastModifiedWarning))&&(this._lastOriginalWarning=me.uri,this._lastModifiedWarning=le.uri,this._notificationService.warn(O.localize(3,null)));return}this._setState(1),this._documentDiffProvider.computeDiff(me,le,{ignoreTrimWhitespace:this._options.ignoreTrimWhitespace,maxComputationTimeMs:this._options.maxComputationTime,computeMoves:!1},g.CancellationToken.None).then(Ie=>{pe===this._diffComputationToken&&me===this._originalEditor.getModel()&&le===this._modifiedEditor.getModel()&&(this._setState(2),this._diffComputationResult={identical:Ie.identical,quitEarly:Ie.quitEarly,changes2:Ie.changes,changes:Ie.changes.map(Ne=>{let Re,Ve,ze,We,qe=Ne.innerChanges;return Ne.originalRange.isEmpty?(Re=Ne.originalRange.startLineNumber-1,Ve=0,qe=void 0):(Re=Ne.originalRange.startLineNumber,Ve=Ne.originalRange.endLineNumberExclusive-1),Ne.modifiedRange.isEmpty?(ze=Ne.modifiedRange.startLineNumber-1,We=0,qe=void 0):(ze=Ne.modifiedRange.startLineNumber,We=Ne.modifiedRange.endLineNumberExclusive-1),{originalStartLineNumber:Re,originalEndLineNumber:Ve,modifiedStartLineNumber:ze,modifiedEndLineNumber:We,charChanges:qe?.map(Oe=>({originalStartLineNumber:Oe.originalRange.startLineNumber,originalStartColumn:Oe.originalRange.startColumn,originalEndLineNumber:Oe.originalRange.endLineNumber,originalEndColumn:Oe.originalRange.endColumn,modifiedStartLineNumber:Oe.modifiedRange.startLineNumber,modifiedStartColumn:Oe.modifiedRange.startColumn,modifiedEndLineNumber:Oe.modifiedRange.endLineNumber,modifiedEndColumn:Oe.modifiedRange.endColumn}))}})},this._updateDecorationsRunner.schedule(),this._onDidUpdateDiff.fire())},Ie=>{pe===this._diffComputationToken&&me===this._originalEditor.getModel()&&le===this._modifiedEditor.getModel()&&(this._setState(2),this._diffComputationResult=null,this._updateDecorationsRunner.schedule())})}_cleanViewZonesAndDecorations(){this._originalEditorState.clean(this._originalEditor),this._modifiedEditorState.clean(this._modifiedEditor)}_updateDecorations(){if(!this._originalEditor.getModel()||!this._modifiedEditor.getModel())return;const me=this._diffComputationResult?this._diffComputationResult.changes:[],le=this._originalEditorState.getForeignViewZones(this._originalEditor.getWhitespaces()),pe=this._modifiedEditorState.getForeignViewZones(this._modifiedEditor.getWhitespaces()),Ce=this._options.renderMarginRevertIcon&&!this._modifiedEditor.getOption(89),be=this._strategy.getEditorsDiffDecorations(me,this._options.ignoreTrimWhitespace,this._options.renderIndicators,Ce,le,pe);try{this._currentlyChangingViewZones=!0,this._originalEditorState.apply(this._originalEditor,this._originalOverviewRuler,be.original,!1),this._modifiedEditorState.apply(this._modifiedEditor,this._modifiedOverviewRuler,be.modified,!0)}finally{this._currentlyChangingViewZones=!1}}_adjustOptionsForSubEditor(me){const le=Object.assign({},me);return le.inDiffEditor=!0,le.automaticLayout=!1,le.scrollbar=Object.assign({},le.scrollbar||{}),le.scrollbar.vertical="visible",le.folding=!1,le.codeLens=this._options.diffCodeLens,le.fixedOverflowWidgets=!0,le.minimap=Object.assign({},le.minimap||{}),le.minimap.enabled=!1,le}_adjustOptionsForLeftHandSide(me){const le=this._adjustOptionsForSubEditor(me);return this._options.renderSideBySide?le.wordWrapOverride1=this._options.diffWordWrap:(le.wordWrapOverride1="off",le.wordWrapOverride2="off",le.stickyScroll={enabled:!1}),me.originalAriaLabel&&(le.ariaLabel=me.originalAriaLabel),this._updateAriaLabel(le),le.readOnly=!this._options.originalEditable,le.dropIntoEditor={enabled:!le.readOnly},le.extraEditorClassName="original-in-monaco-diff-editor",Object.assign(Object.assign({},le),{dimension:{height:0,width:0}})}_updateAriaLabel(me){var le;let pe=(le=me.ariaLabel)!==null&&le!==void 0?le:"";this._options.accessibilityVerbose?pe+=ce:pe&&(pe=pe.replaceAll(ce,"")),me.ariaLabel=pe}_adjustOptionsForRightHandSide(me){const le=this._adjustOptionsForSubEditor(me);return me.modifiedAriaLabel&&(le.ariaLabel=me.modifiedAriaLabel),this._updateAriaLabel(le),le.wordWrapOverride1=this._options.diffWordWrap,le.revealHorizontalRightPadding=b.EditorOptions.revealHorizontalRightPadding.defaultValue+B.ENTIRE_DIFF_OVERVIEW_WIDTH,le.scrollbar.verticalHasArrows=!1,le.extraEditorClassName="modified-in-monaco-diff-editor",Object.assign(Object.assign({},le),{dimension:{height:0,width:0}})}doLayout(){this._elementSizeObserver.observe(),this._doLayout()}_doLayout(){const me=this._elementSizeObserver.getWidth(),le=this._elementSizeObserver.getHeight(),pe=this._getReviewHeight(),Ce=this._strategy.layout();this._originalDomNode.style.width=Ce+"px",this._originalDomNode.style.left="0px",this._modifiedDomNode.style.width=me-Ce-B.ENTIRE_DIFF_OVERVIEW_WIDTH+"px",this._modifiedDomNode.style.left=Ce+"px",this._overviewDomElement.style.top="0px",this._overviewDomElement.style.height=le-pe+"px",this._overviewDomElement.style.width=B.ENTIRE_DIFF_OVERVIEW_WIDTH+"px",this._overviewDomElement.style.left=me-B.ENTIRE_DIFF_OVERVIEW_WIDTH+"px",this._overviewViewportDomElement.setWidth(B.ENTIRE_DIFF_OVERVIEW_WIDTH),this._overviewViewportDomElement.setHeight(30),this._originalEditor.layout({width:Ce,height:le-pe}),this._modifiedEditor.layout({width:me-Ce-(this._options.renderOverviewRuler?B.ENTIRE_DIFF_OVERVIEW_WIDTH:0),height:le-pe}),(this._originalOverviewRuler||this._modifiedOverviewRuler)&&this._layoutOverviewRulers(),this._reviewPane.layout(le-pe,me,pe),this._layoutOverviewViewport()}_layoutOverviewViewport(){const me=this._computeOverviewViewport();me?(this._overviewViewportDomElement.setTop(me.top),this._overviewViewportDomElement.setHeight(me.height)):(this._overviewViewportDomElement.setTop(0),this._overviewViewportDomElement.setHeight(0))}_computeOverviewViewport(){const me=this._modifiedEditor.getLayoutInfo();if(!me)return null;const le=this._modifiedEditor.getScrollTop(),pe=this._modifiedEditor.getScrollHeight(),Ce=Math.max(0,me.height),be=Math.max(0,Ce-2*0),Ie=pe>0?be/pe:0,Ne=Math.max(0,Math.floor(me.height*Ie)),Re=Math.floor(le*Ie);return{height:Ne,top:Re}}_createDataSource(){return{getWidth:()=>this._elementSizeObserver.getWidth(),getHeight:()=>this._elementSizeObserver.getHeight()-this._getReviewHeight(),getOptions:()=>({renderOverviewRuler:this._options.renderOverviewRuler}),getContainerDomNode:()=>this._containerDomElement,relayoutEditors:()=>{this._doLayout()},getOriginalEditor:()=>this._originalEditor,getModifiedEditor:()=>this._modifiedEditor}}_setStrategy(me){var le;(le=this._strategy)===null||le===void 0||le.dispose(),this._strategy=me,this._boundarySashes&&me.setBoundarySashes(this._boundarySashes),me.applyColors(this._themeService.getColorTheme()),this._diffComputationResult&&this._updateDecorations(),this._doLayout()}};e.DiffEditorWidget=de,de.ONE_OVERVIEW_WIDTH=15,de.ENTIRE_DIFF_OVERVIEW_WIDTH=30,de.UPDATE_DIFF_DECORATIONS_DELAY=200,e.DiffEditorWidget=de=B=ke([fe(3,W.IClipboardService),fe(4,U.IContextKeyService),fe(5,R.IInstantiationService),fe(6,c.ICodeEditorService),fe(7,H.IThemeService),fe(8,G.INotificationService),fe(9,j.IContextMenuService),fe(10,Z.IEditorProgressService)],de);class he extends t.Disposable{constructor(me){super(),this._dataSource=me,this._insertColor=null,this._removeColor=null}applyColors(me){const le=me.getColor(J.diffOverviewRulerInserted)||(me.getColor(J.diffInserted)||J.defaultInsertColor).transparent(2),pe=me.getColor(J.diffOverviewRulerRemoved)||(me.getColor(J.diffRemoved)||J.defaultRemoveColor).transparent(2),Ce=!le.equals(this._insertColor)||!pe.equals(this._removeColor);return this._insertColor=le,this._removeColor=pe,Ce}getEditorsDiffDecorations(me,le,pe,Ce,be,Ie){Ie=Ie.sort((ze,We)=>ze.afterLineNumber-We.afterLineNumber),be=be.sort((ze,We)=>ze.afterLineNumber-We.afterLineNumber);const Ne=this._getViewZones(me,be,Ie,pe),Re=this._getOriginalEditorDecorations(Ne,me,le,pe),Ve=this._getModifiedEditorDecorations(Ne,me,le,pe,Ce);return{original:{decorations:Re.decorations,overviewZones:Re.overviewZones,zones:Ne.original},modified:{decorations:Ve.decorations,overviewZones:Ve.overviewZones,zones:Ne.modified}}}setBoundarySashes(me){}}class ue{constructor(me){this._source=me,this._index=-1,this.current=null,this.advance()}advance(){this._index++,this._index<this._source.length?this.current=this._source[this._index]:this.current=null}}class te{constructor(me,le,pe,Ce,be){this._lineChanges=me,this._originalForeignVZ=le,this._modifiedForeignVZ=pe,this._originalEditor=Ce,this._modifiedEditor=be}static _getViewLineCount(me,le,pe){const Ce=me.getModel(),be=me._getViewModel();if(Ce&&be){const Ie=Me(Ce,be,le,pe);return Ie.endLineNumber-Ie.startLineNumber+1}return pe-le+1}getViewZones(){const me=this._originalEditor.getOption(65),le=this._modifiedEditor.getOption(65),pe=this._originalEditor.getOption(143).wrappingColumn!==-1,Ce=this._modifiedEditor.getOption(143).wrappingColumn!==-1,be=pe||Ce,Ie=this._originalEditor.getModel(),Ne=this._originalEditor._getViewModel().coordinatesConverter,Re=this._modifiedEditor._getViewModel().coordinatesConverter,Ve={original:[],modified:[]};let ze=0,We=0,qe=0,Oe=0,Ge=0,Qe=0;const st=(at,ht)=>at.afterLineNumber-ht.afterLineNumber,nt=(at,ht)=>{if(ht.domNode===null&&at.length>0){const Be=at[at.length-1];if(Be.afterLineNumber===ht.afterLineNumber&&Be.domNode===null){Be.heightInLines+=ht.heightInLines;return}}at.push(ht)},ot=new ue(this._modifiedForeignVZ),ct=new ue(this._originalForeignVZ);let lt=1,gt=1;for(let at=0,ht=this._lineChanges.length;at<=ht;at++){const Be=at<ht?this._lineChanges[at]:null;Be!==null?(qe=Be.originalStartLineNumber+(Be.originalEndLineNumber>0?-1:0),Oe=Be.modifiedStartLineNumber+(Be.modifiedEndLineNumber>0?-1:0),We=Be.originalEndLineNumber>0?te._getViewLineCount(this._originalEditor,Be.originalStartLineNumber,Be.originalEndLineNumber):0,ze=Be.modifiedEndLineNumber>0?te._getViewLineCount(this._modifiedEditor,Be.modifiedStartLineNumber,Be.modifiedEndLineNumber):0,Ge=Math.max(Be.originalStartLineNumber,Be.originalEndLineNumber),Qe=Math.max(Be.modifiedStartLineNumber,Be.modifiedEndLineNumber)):(qe+=1e7+We,Oe+=1e7+ze,Ge=qe,Qe=Oe);let Te=[],xe=[];if(be){let Ze;Be?Be.originalEndLineNumber>0?Ze=Be.originalStartLineNumber-lt:Ze=Be.modifiedStartLineNumber-gt:Ze=Ie.getLineCount()-lt+1;for(let Xe=0;Xe<Ze;Xe++){const je=lt+Xe,Ae=gt+Xe,Ue=Ne.getModelLineViewLineCount(je),Ke=Re.getModelLineViewLineCount(Ae);Ue<Ke?Te.push({afterLineNumber:je,heightInLines:Ke-Ue,domNode:null,marginDomNode:null}):Ue>Ke&&xe.push({afterLineNumber:Ae,heightInLines:Ue-Ke,domNode:null,marginDomNode:null})}Be&&(lt=(Be.originalEndLineNumber>0?Be.originalEndLineNumber:Be.originalStartLineNumber)+1,gt=(Be.modifiedEndLineNumber>0?Be.modifiedEndLineNumber:Be.modifiedStartLineNumber)+1)}for(;ot.current&&ot.current.afterLineNumber<=Qe;){let Ze;ot.current.afterLineNumber<=Oe?Ze=qe-Oe+ot.current.afterLineNumber:Ze=Ge;let Xe=null;Be&&Be.modifiedStartLineNumber<=ot.current.afterLineNumber&&ot.current.afterLineNumber<=Be.modifiedEndLineNumber&&(Xe=this._createOriginalMarginDomNodeForModifiedForeignViewZoneInAddedRegion()),Te.push({afterLineNumber:Ze,heightInLines:ot.current.height/le,domNode:null,marginDomNode:Xe}),ot.advance()}for(;ct.current&&ct.current.afterLineNumber<=Ge;){let Ze;ct.current.afterLineNumber<=qe?Ze=Oe-qe+ct.current.afterLineNumber:Ze=Qe,xe.push({afterLineNumber:Ze,heightInLines:ct.current.height/me,domNode:null}),ct.advance()}if(Be!==null&&ve(Be)){const Ze=this._produceOriginalFromDiff(Be,We,ze);Ze&&Te.push(Ze)}if(Be!==null&&Se(Be)){const Ze=this._produceModifiedFromDiff(Be,We,ze);Ze&&xe.push(Ze)}let He=0,Ye=0;for(Te=Te.sort(st),xe=xe.sort(st);He<Te.length&&Ye<xe.length;){const Ze=Te[He],Xe=xe[Ye],je=Ze.afterLineNumber-qe,Ae=Xe.afterLineNumber-Oe;je<Ae?(nt(Ve.original,Ze),He++):Ae<je?(nt(Ve.modified,Xe),Ye++):Ze.shouldNotShrink?(nt(Ve.original,Ze),He++):Xe.shouldNotShrink?(nt(Ve.modified,Xe),Ye++):Ze.heightInLines>=Xe.heightInLines?(Ze.heightInLines-=Xe.heightInLines,Ye++):(Xe.heightInLines-=Ze.heightInLines,He++)}for(;He<Te.length;)nt(Ve.original,Te[He]),He++;for(;Ye<xe.length;)nt(Ve.modified,xe[Ye]),Ye++}return{original:te._ensureDomNodes(Ve.original),modified:te._ensureDomNodes(Ve.modified)}}static _ensureDomNodes(me){return me.map(le=>(le.domNode||(le.domNode=ye()),le))}}function q(_e,me,le,pe,Ce){return{range:new E.Range(_e,me,le,pe),options:Ce}}const z={arrowRevertChange:x.ModelDecorationOptions.register({description:"diff-editor-arrow-revert-change",glyphMarginHoverMessage:new n.MarkdownString(void 0,{isTrusted:!0,supportThemeIcons:!0}).appendMarkdown(O.localize(4,null)),glyphMarginClassName:"arrow-revert-change "+a.ThemeIcon.asClassName(C.Codicon.arrowRight),zIndex:10001}),charDelete:x.ModelDecorationOptions.register({description:"diff-editor-char-delete",className:"char-delete"}),charDeleteWholeLine:x.ModelDecorationOptions.register({description:"diff-editor-char-delete-whole-line",className:"char-delete",isWholeLine:!0}),charInsert:x.ModelDecorationOptions.register({description:"diff-editor-char-insert",className:"char-insert"}),charInsertWholeLine:x.ModelDecorationOptions.register({description:"diff-editor-char-insert-whole-line",className:"char-insert",isWholeLine:!0}),lineInsert:x.ModelDecorationOptions.register({description:"diff-editor-line-insert",className:"line-insert",marginClassName:"gutter-insert",isWholeLine:!0}),lineInsertWithSign:x.ModelDecorationOptions.register({description:"diff-editor-line-insert-with-sign",className:"line-insert",linesDecorationsClassName:"insert-sign "+a.ThemeIcon.asClassName(ie),marginClassName:"gutter-insert",isWholeLine:!0}),lineDelete:x.ModelDecorationOptions.register({description:"diff-editor-line-delete",className:"line-delete",marginClassName:"gutter-delete",isWholeLine:!0}),lineDeleteWithSign:x.ModelDecorationOptions.register({description:"diff-editor-line-delete-with-sign",className:"line-delete",linesDecorationsClassName:"delete-sign "+a.ThemeIcon.asClassName(ae),marginClassName:"gutter-delete",isWholeLine:!0}),lineDeleteMargin:x.ModelDecorationOptions.register({description:"diff-editor-line-delete-margin",marginClassName:"gutter-delete"})};class ee extends he{constructor(me,le,pe){super(me),this._disableSash=le===!1,this._defaultRatio=pe,this._sashRatio=null,this._sashPosition=null,this._startSashPosition=null,this._sash=this._register(new S.Sash(this._dataSource.getContainerDomNode(),this,{orientation:0})),this._disableSash&&(this._sash.state=0),this._sash.onDidStart(()=>this._onSashDragStart()),this._sash.onDidChange(Ce=>this._onSashDrag(Ce)),this._sash.onDidEnd(()=>this._onSashDragEnd()),this._sash.onDidReset(()=>this._onSashReset())}setEnableSplitViewResizing(me,le){this._defaultRatio=le;const pe=me===!1;this._disableSash!==pe&&(this._disableSash=pe,this._sash.state=this._disableSash?0:3)}layout(me=this._sashRatio||this._defaultRatio){const pe=this._dataSource.getWidth()-(this._dataSource.getOptions().renderOverviewRuler?de.ENTIRE_DIFF_OVERVIEW_WIDTH:0);let Ce=Math.floor((me||this._defaultRatio)*pe);const be=Math.floor(this._defaultRatio*pe);return Ce=this._disableSash?be:Ce||be,pe>ee.MINIMUM_EDITOR_WIDTH*2?(Ce<ee.MINIMUM_EDITOR_WIDTH&&(Ce=ee.MINIMUM_EDITOR_WIDTH),Ce>pe-ee.MINIMUM_EDITOR_WIDTH&&(Ce=pe-ee.MINIMUM_EDITOR_WIDTH)):Ce=be,this._sashPosition!==Ce&&(this._sashPosition=Ce),this._sash.layout(),this._sashPosition}_onSashDragStart(){this._startSashPosition=this._sashPosition}_onSashDrag(me){const pe=this._dataSource.getWidth()-(this._dataSource.getOptions().renderOverviewRuler?de.ENTIRE_DIFF_OVERVIEW_WIDTH:0),Ce=this.layout((this._startSashPosition+(me.currentX-me.startX))/pe);this._sashRatio=Ce/pe,this._dataSource.relayoutEditors()}_onSashDragEnd(){this._sash.layout()}_onSashReset(){this._sashRatio=this._defaultRatio,this._dataSource.relayoutEditors(),this._sash.layout()}getVerticalSashTop(me){return 0}getVerticalSashLeft(me){return this._sashPosition}getVerticalSashHeight(me){return this._dataSource.getHeight()}setBoundarySashes(me){this._sash.orthogonalEndSash=me.bottom}_getViewZones(me,le,pe){const Ce=this._dataSource.getOriginalEditor(),be=this._dataSource.getModifiedEditor();return new $(me,le,pe,Ce,be).getViewZones()}_getOriginalEditorDecorations(me,le,pe,Ce){const be=this._dataSource.getOriginalEditor(),Ie=String(this._removeColor),Ne={decorations:[],overviewZones:[]},Re=be.getModel(),Ve=be._getViewModel();for(const ze of le)if(Se(ze)){Ne.decorations.push({range:new E.Range(ze.originalStartLineNumber,1,ze.originalEndLineNumber,1073741824),options:Ce?z.lineDeleteWithSign:z.lineDelete}),(!ve(ze)||!ze.charChanges)&&Ne.decorations.push(q(ze.originalStartLineNumber,1,ze.originalEndLineNumber,1073741824,z.charDeleteWholeLine));const We=Me(Re,Ve,ze.originalStartLineNumber,ze.originalEndLineNumber);if(Ne.overviewZones.push(new F.OverviewRulerZone(We.startLineNumber,We.endLineNumber,0,Ie)),ze.charChanges){for(const qe of ze.charChanges)if(De(qe))if(pe)for(let Oe=qe.originalStartLineNumber;Oe<=qe.originalEndLineNumber;Oe++){let Ge,Qe;Oe===qe.originalStartLineNumber?Ge=qe.originalStartColumn:Ge=Re.getLineFirstNonWhitespaceColumn(Oe),Oe===qe.originalEndLineNumber?Qe=qe.originalEndColumn:Qe=Re.getLineLastNonWhitespaceColumn(Oe),Ne.decorations.push(q(Oe,Ge,Oe,Qe,z.charDelete))}else Ne.decorations.push(q(qe.originalStartLineNumber,qe.originalStartColumn,qe.originalEndLineNumber,qe.originalEndColumn,z.charDelete))}}return Ne}_getModifiedEditorDecorations(me,le,pe,Ce,be){const Ie=this._dataSource.getModifiedEditor(),Ne=String(this._insertColor),Re={decorations:[],overviewZones:[]},Ve=Ie.getModel(),ze=Ie._getViewModel();for(const We of le){if(be)if(We.modifiedEndLineNumber>0)Re.decorations.push({range:new E.Range(We.modifiedStartLineNumber,1,We.modifiedStartLineNumber,1),options:z.arrowRevertChange});else{const qe=me.modified.find(Oe=>Oe.afterLineNumber===We.modifiedStartLineNumber);qe&&(qe.marginDomNode=Ee())}if(ve(We)){Re.decorations.push({range:new E.Range(We.modifiedStartLineNumber,1,We.modifiedEndLineNumber,1073741824),options:Ce?z.lineInsertWithSign:z.lineInsert}),(!Se(We)||!We.charChanges)&&Re.decorations.push(q(We.modifiedStartLineNumber,1,We.modifiedEndLineNumber,1073741824,z.charInsertWholeLine));const qe=Me(Ve,ze,We.modifiedStartLineNumber,We.modifiedEndLineNumber);if(Re.overviewZones.push(new F.OverviewRulerZone(qe.startLineNumber,qe.endLineNumber,0,Ne)),We.charChanges){for(const Oe of We.charChanges)if(Le(Oe))if(pe)for(let Ge=Oe.modifiedStartLineNumber;Ge<=Oe.modifiedEndLineNumber;Ge++){let Qe,st;Ge===Oe.modifiedStartLineNumber?Qe=Oe.modifiedStartColumn:Qe=Ve.getLineFirstNonWhitespaceColumn(Ge),Ge===Oe.modifiedEndLineNumber?st=Oe.modifiedEndColumn:st=Ve.getLineLastNonWhitespaceColumn(Ge),Re.decorations.push(q(Ge,Qe,Ge,st,z.charInsert))}else Re.decorations.push(q(Oe.modifiedStartLineNumber,Oe.modifiedStartColumn,Oe.modifiedEndLineNumber,Oe.modifiedEndColumn,z.charInsert))}}}return Re}}ee.MINIMUM_EDITOR_WIDTH=100;class $ extends te{constructor(me,le,pe,Ce,be){super(me,le,pe,Ce,be)}_createOriginalMarginDomNodeForModifiedForeignViewZoneInAddedRegion(){return null}_produceOriginalFromDiff(me,le,pe){return pe>le?{afterLineNumber:Math.max(me.originalStartLineNumber,me.originalEndLineNumber),heightInLines:pe-le,domNode:null}:null}_produceModifiedFromDiff(me,le,pe){return le>pe?{afterLineNumber:Math.max(me.modifiedStartLineNumber,me.modifiedEndLineNumber),heightInLines:le-pe,domNode:null}:null}}class re extends he{constructor(me,le){super(me),this._decorationsLeft=me.getOriginalEditor().getLayoutInfo().decorationsLeft,this._register(me.getOriginalEditor().onDidLayoutChange(pe=>{this._decorationsLeft!==pe.decorationsLeft&&(this._decorationsLeft=pe.decorationsLeft,me.relayoutEditors())}))}setEnableSplitViewResizing(me){}_getViewZones(me,le,pe,Ce){const be=this._dataSource.getOriginalEditor(),Ie=this._dataSource.getModifiedEditor();return new oe(me,le,pe,be,Ie,Ce).getViewZones()}_getOriginalEditorDecorations(me,le,pe,Ce){const be=String(this._removeColor),Ie={decorations:[],overviewZones:[]},Ne=this._dataSource.getOriginalEditor(),Re=Ne.getModel(),Ve=Ne._getViewModel();let ze=0;for(const We of le)if(Se(We)){for(Ie.decorations.push({range:new E.Range(We.originalStartLineNumber,1,We.originalEndLineNumber,1073741824),options:z.lineDeleteMargin});ze<me.modified.length;){const Ge=me.modified[ze];if(Ge.diff&&Ge.diff.originalStartLineNumber>=We.originalStartLineNumber)break;ze++}let qe=0;if(ze<me.modified.length){const Ge=me.modified[ze];Ge.diff&&Ge.diff.originalStartLineNumber===We.originalStartLineNumber&&Ge.diff.originalEndLineNumber===We.originalEndLineNumber&&Ge.diff.modifiedStartLineNumber===We.modifiedStartLineNumber&&Ge.diff.modifiedEndLineNumber===We.modifiedEndLineNumber&&(qe=Ge.heightInLines)}const Oe=Me(Re,Ve,We.originalStartLineNumber,We.originalEndLineNumber);Ie.overviewZones.push(new F.OverviewRulerZone(Oe.startLineNumber,Oe.endLineNumber,qe,be))}return Ie}_getModifiedEditorDecorations(me,le,pe,Ce,be){const Ie=this._dataSource.getModifiedEditor(),Ne=String(this._insertColor),Re={decorations:[],overviewZones:[]},Ve=Ie.getModel(),ze=Ie._getViewModel();for(const We of le)if(ve(We)){Re.decorations.push({range:new E.Range(We.modifiedStartLineNumber,1,We.modifiedEndLineNumber,1073741824),options:Ce?z.lineInsertWithSign:z.lineInsert});const qe=Me(Ve,ze,We.modifiedStartLineNumber,We.modifiedEndLineNumber);if(Re.overviewZones.push(new F.OverviewRulerZone(qe.startLineNumber,qe.endLineNumber,0,Ne)),We.charChanges){for(const Oe of We.charChanges)if(Le(Oe))if(pe)for(let Ge=Oe.modifiedStartLineNumber;Ge<=Oe.modifiedEndLineNumber;Ge++){let Qe,st;Ge===Oe.modifiedStartLineNumber?Qe=Oe.modifiedStartColumn:Qe=Ve.getLineFirstNonWhitespaceColumn(Ge),Ge===Oe.modifiedEndLineNumber?st=Oe.modifiedEndColumn:st=Ve.getLineLastNonWhitespaceColumn(Ge),Re.decorations.push(q(Ge,Qe,Ge,st,z.charInsert))}else Re.decorations.push(q(Oe.modifiedStartLineNumber,Oe.modifiedStartColumn,Oe.modifiedEndLineNumber,Oe.modifiedEndColumn,z.charInsert))}else Re.decorations.push(q(We.modifiedStartLineNumber,1,We.modifiedEndLineNumber,1073741824,z.charInsertWholeLine))}return Re}layout(){return Math.max(5,this._decorationsLeft)}}class oe extends te{constructor(me,le,pe,Ce,be,Ie){super(me,le,pe,Ce,be),this._originalModel=Ce.getModel(),this._renderIndicators=Ie,this._pendingLineChange=[],this._pendingViewZones=[],this._lineBreaksComputer=this._modifiedEditor._getViewModel().createLineBreaksComputer()}getViewZones(){const me=super.getViewZones();return this._finalize(me),me}_createOriginalMarginDomNodeForModifiedForeignViewZoneInAddedRegion(){const me=document.createElement("div");return me.className="inline-added-margin-view-zone",me}_produceOriginalFromDiff(me,le,pe){const Ce=document.createElement("div");return Ce.className="inline-added-margin-view-zone",{afterLineNumber:Math.max(me.originalStartLineNumber,me.originalEndLineNumber),heightInLines:pe,domNode:document.createElement("div"),marginDomNode:Ce}}_produceModifiedFromDiff(me,le,pe){const Ce=document.createElement("div");Ce.className=`view-lines line-delete ${D.MOUSE_CURSOR_TEXT_CSS_CLASS_NAME}`;const be=document.createElement("div");be.className="inline-deleted-margin-view-zone";const Ie={shouldNotShrink:!0,afterLineNumber:me.modifiedEndLineNumber===0?me.modifiedStartLineNumber:me.modifiedStartLineNumber-1,heightInLines:le,minWidthInPx:0,domNode:Ce,marginDomNode:be,diff:{originalStartLineNumber:me.originalStartLineNumber,originalEndLineNumber:me.originalEndLineNumber,modifiedStartLineNumber:me.modifiedStartLineNumber,modifiedEndLineNumber:me.modifiedEndLineNumber,originalModel:this._originalModel,viewLineCounts:null}};for(let Ne=me.originalStartLineNumber;Ne<=me.originalEndLineNumber;Ne++)this._lineBreaksComputer.addRequest(this._originalModel.getLineContent(Ne),null,null);return this._pendingLineChange.push(me),this._pendingViewZones.push(Ie),Ie}_finalize(me){const le=this._modifiedEditor.getOptions(),pe=this._modifiedEditor.getModel().getOptions().tabSize,Ce=le.get(49),be=le.get(32),Ie=Ce.typicalHalfwidthCharacterWidth,Ne=le.get(102),Re=this._originalModel.mightContainNonBasicASCII(),Ve=this._originalModel.mightContainRTL(),ze=le.get(65),qe=le.get(142).decorationsWidth,Oe=le.get(115),Ge=le.get(97),Qe=le.get(92),st=le.get(50),nt=this._lineBreaksComputer.finalize();let ot=0;for(let ct=0;ct<this._pendingLineChange.length;ct++){const lt=this._pendingLineChange[ct],gt=this._pendingViewZones[ct],at=gt.domNode;(0,u.applyFontInfo)(at,Ce);const ht=gt.marginDomNode;(0,u.applyFontInfo)(ht,Ce);const Be=[];if(lt.charChanges)for(const Ae of lt.charChanges)De(Ae)&&Be.push(new N.InlineDecoration(new E.Range(Ae.originalStartLineNumber,Ae.originalStartColumn,Ae.originalEndLineNumber,Ae.originalEndColumn),"char-delete",0));const Te=Be.length>0,xe=new I.StringBuilder(1e4);let He=0,Ye=0,Ze=null;for(let Ae=lt.originalStartLineNumber;Ae<=lt.originalEndLineNumber;Ae++){const Ue=Ae-lt.originalStartLineNumber,Ke=this._originalModel.tokenization.getLineTokens(Ae),$e=Ke.getLineContent(),et=nt[ot++],tt=T.LineDecoration.filter(Be,Ae,1,$e.length+1);if(et){let ut=0;for(const rt of et.breakOffsets){const dt=Ke.sliceAndInflate(ut,rt,0),ft=$e.substring(ut,rt);He=Math.max(He,this._renderOriginalLine(Ye++,ft,dt,T.LineDecoration.extractWrapped(tt,ut,rt),Te,Re,Ve,Ce,be,ze,qe,Oe,Ge,Qe,st,pe,xe,ht)),ut=rt}for(Ze||(Ze=[]);Ze.length<Ue;)Ze[Ze.length]=1;Ze[Ue]=et.breakOffsets.length,gt.heightInLines+=et.breakOffsets.length-1;const it=document.createElement("div");it.className="gutter-delete",me.original.push({afterLineNumber:Ae,afterColumn:0,heightInLines:et.breakOffsets.length-1,domNode:ye(),marginDomNode:it})}else He=Math.max(He,this._renderOriginalLine(Ye++,$e,Ke,tt,Te,Re,Ve,Ce,be,ze,qe,Oe,Ge,Qe,st,pe,xe,ht))}He+=Ne;const Xe=xe.build(),je=e.diffEditorWidgetTtPolicy?e.diffEditorWidgetTtPolicy.createHTML(Xe):Xe;if(at.innerHTML=je,gt.minWidthInPx=He*Ie,Ze){const Ae=lt.originalEndLineNumber-lt.originalStartLineNumber;for(;Ze.length<=Ae;)Ze[Ze.length]=1}gt.diff.viewLineCounts=Ze}me.original.sort((ct,lt)=>ct.afterLineNumber-lt.afterLineNumber)}_renderOriginalLine(me,le,pe,Ce,be,Ie,Ne,Re,Ve,ze,We,qe,Oe,Ge,Qe,st,nt,ot){nt.appendString('<div class="view-line'),be||nt.appendString(" char-delete"),nt.appendString('" style="top:'),nt.appendString(String(me*ze)),nt.appendString('px;width:1000000px;">');const ct=N.ViewLineRenderingData.isBasicASCII(le,Ie),lt=N.ViewLineRenderingData.containsRTL(le,ct,Ne),gt=(0,A.renderViewLine)(new A.RenderLineInput(Re.isMonospace&&!Ve,Re.canUseHalfwidthRightwardsArrow,le,!1,ct,lt,0,pe,Ce,st,0,Re.spaceWidth,Re.middotWidth,Re.wsmiddotWidth,qe,Oe,Ge,Qe!==b.EditorFontLigatures.OFF,null),nt);if(nt.appendString("</div>"),this._renderIndicators){const at=document.createElement("div");at.className=`delete-sign ${a.ThemeIcon.asClassName(ae)}`,at.setAttribute("style",`position:absolute;top:${me*ze}px;width:${We}px;height:${ze}px;right:0;`),ot.appendChild(at)}return gt.characterMapping.getHorizontalOffset(gt.characterMapping.length)}}function ge(_e,me){return(0,b.stringSet)(_e,me,["off","on","inherit"])}function ve(_e){return _e.modifiedEndLineNumber>0}function Se(_e){return _e.originalEndLineNumber>0}function Le(_e){return _e.modifiedStartLineNumber===_e.modifiedEndLineNumber?_e.modifiedEndColumn-_e.modifiedStartColumn>0:_e.modifiedEndLineNumber-_e.modifiedStartLineNumber>0}function De(_e){return _e.originalStartLineNumber===_e.originalEndLineNumber?_e.originalEndColumn-_e.originalStartColumn>0:_e.originalEndLineNumber-_e.originalStartLineNumber>0}function ye(){const _e=document.createElement("div");return _e.className="diagonal-fill",_e}function Ee(){const _e=document.createElement("div");return _e.className="arrow-revert-change "+a.ThemeIcon.asClassName(C.Codicon.arrowRight),L.$("div",{},_e)}function Me(_e,me,le,pe){const Ce=_e.getLineCount();return le=Math.min(Ce,Math.max(1,le)),pe=Math.min(Ce,Math.max(1,pe)),me.coordinatesConverter.convertModelRangeToViewRange(new E.Range(le,_e.getLineMinColumn(le),pe,_e.getLineMaxColumn(pe)))}function Pe(_e,me){return{enableSplitViewResizing:(0,b.boolean)(_e.enableSplitViewResizing,me.enableSplitViewResizing),splitViewDefaultRatio:(0,b.clampedFloat)(_e.splitViewDefaultRatio,.5,.1,.9),renderSideBySide:(0,b.boolean)(_e.renderSideBySide,me.renderSideBySide),renderMarginRevertIcon:(0,b.boolean)(_e.renderMarginRevertIcon,me.renderMarginRevertIcon),maxComputationTime:(0,b.clampedInt)(_e.maxComputationTime,me.maxComputationTime,0,1073741824),maxFileSize:(0,b.clampedInt)(_e.maxFileSize,me.maxFileSize,0,1073741824),ignoreTrimWhitespace:(0,b.boolean)(_e.ignoreTrimWhitespace,me.ignoreTrimWhitespace),renderIndicators:(0,b.boolean)(_e.renderIndicators,me.renderIndicators),originalEditable:(0,b.boolean)(_e.originalEditable,me.originalEditable),diffCodeLens:(0,b.boolean)(_e.diffCodeLens,me.diffCodeLens),renderOverviewRuler:(0,b.boolean)(_e.renderOverviewRuler,me.renderOverviewRuler),diffWordWrap:ge(_e.diffWordWrap,me.diffWordWrap),diffAlgorithm:(0,b.stringSet)(_e.diffAlgorithm,me.diffAlgorithm,["legacy","advanced"],{smart:"legacy",experimental:"advanced"}),accessibilityVerbose:(0,b.boolean)(_e.accessibilityVerbose,me.accessibilityVerbose),hideUnchangedRegions:{enabled:!1,contextLineCount:0,minimumLineCount:0,revealLineCount:0},experimental:{showEmptyDecorations:!1,showMoves:!1},isInEmbeddedEditor:(0,b.boolean)(_e.isInEmbeddedEditor,me.isInEmbeddedEditor),onlyShowAccessibleDiffViewer:!1,renderSideBySideInlineBreakpoint:0,useInlineViewWhenSpaceIsLimited:!1}}function Fe(_e,me){return{enableSplitViewResizing:_e.enableSplitViewResizing!==me.enableSplitViewResizing,renderSideBySide:_e.renderSideBySide!==me.renderSideBySide,renderMarginRevertIcon:_e.renderMarginRevertIcon!==me.renderMarginRevertIcon,maxComputationTime:_e.maxComputationTime!==me.maxComputationTime,maxFileSize:_e.maxFileSize!==me.maxFileSize,ignoreTrimWhitespace:_e.ignoreTrimWhitespace!==me.ignoreTrimWhitespace,renderIndicators:_e.renderIndicators!==me.renderIndicators,originalEditable:_e.originalEditable!==me.originalEditable,diffCodeLens:_e.diffCodeLens!==me.diffCodeLens,renderOverviewRuler:_e.renderOverviewRuler!==me.renderOverviewRuler,diffWordWrap:_e.diffWordWrap!==me.diffWordWrap,diffAlgorithm:_e.diffAlgorithm!==me.diffAlgorithm,accessibilityVerbose:_e.accessibilityVerbose!==me.accessibilityVerbose}}(0,H.registerThemingParticipant)((_e,me)=>{const le=_e.getColor(J.diffDiagonalFill);me.addRule(`
	.monaco-editor .diagonal-fill {
		background-image: linear-gradient(
			-45deg,
			${le} 12.5%,
			#0000 12.5%, #0000 50%,
			${le} 50%, ${le} 62.5%,
			#0000 62.5%, #0000 100%
		);
		background-size: 8px 8px;
	}
	`)})}),define(ne[874],se([1,0,59,254,36,93,127,95,67]),function(Q,e,L,k,y,D,S,f,_){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.RenderOptions=e.LineSource=e.renderLines=void 0;const g=k.diffEditorWidgetTtPolicy;function C(t,a,u,h){(0,L.applyFontInfo)(h,a.fontInfo);const r=u.length>0,c=new D.StringBuilder(1e4);let o=0,d=0;const l=[];for(let b=0;b<t.lineTokens.length;b++){const w=b+1,E=t.lineTokens[b],I=t.lineBreakData[b],M=S.LineDecoration.filter(u,w,1,Number.MAX_SAFE_INTEGER);if(I){let P=0;for(const x of I.breakOffsets){const T=E.sliceAndInflate(P,x,0);o=Math.max(o,n(d,T,S.LineDecoration.extractWrapped(M,P,x),r,t.mightContainNonBasicASCII,t.mightContainRTL,a,c)),d++,P=x}l.push(I.breakOffsets.length)}else l.push(1),o=Math.max(o,n(d,E,M,r,t.mightContainNonBasicASCII,t.mightContainRTL,a,c)),d++}o+=a.scrollBeyondLastColumn;const p=c.build(),m=g?g.createHTML(p):p;h.innerHTML=m;const v=o*a.typicalHalfwidthCharacterWidth;return{heightInLines:d,minWidthInPx:v,viewLineCounts:l}}e.renderLines=C;class s{constructor(a,u,h,r){this.lineTokens=a,this.lineBreakData=u,this.mightContainNonBasicASCII=h,this.mightContainRTL=r}}e.LineSource=s;class i{static fromEditor(a){var u;const h=a.getOptions(),r=h.get(49),c=h.get(142);return new i(((u=a.getModel())===null||u===void 0?void 0:u.getOptions().tabSize)||0,r,h.get(32),r.typicalHalfwidthCharacterWidth,h.get(102),h.get(65),c.decorationsWidth,h.get(115),h.get(97),h.get(92),h.get(50))}constructor(a,u,h,r,c,o,d,l,p,m,v){this.tabSize=a,this.fontInfo=u,this.disableMonospaceOptimizations=h,this.typicalHalfwidthCharacterWidth=r,this.scrollBeyondLastColumn=c,this.lineHeight=o,this.lineDecorationsWidth=d,this.stopRenderingLineAfter=l,this.renderWhitespace=p,this.renderControlCharacters=m,this.fontLigatures=v}}e.RenderOptions=i;function n(t,a,u,h,r,c,o,d){d.appendString('<div class="view-line'),h||d.appendString(" char-delete"),d.appendString('" style="top:'),d.appendString(String(t*o.lineHeight)),d.appendString('px;width:1000000px;">');const l=a.getLineContent(),p=_.ViewLineRenderingData.isBasicASCII(l,r),m=_.ViewLineRenderingData.containsRTL(l,p,c),v=(0,f.renderViewLine)(new f.RenderLineInput(o.fontInfo.isMonospace&&!o.disableMonospaceOptimizations,o.fontInfo.canUseHalfwidthRightwardsArrow,l,!1,p,m,0,a,u,o.tabSize,0,o.fontInfo.spaceWidth,o.fontInfo.middotWidth,o.fontInfo.wsmiddotWidth,o.stopRenderingLineAfter,o.renderWhitespace,o.renderControlCharacters,o.fontLigatures!==y.EditorFontLigatures.OFF,null),d);return d.appendString("</div>"),v.characterMapping.getHorizontalOffset(v.characterMapping.length)}}),define(ne[875],se([1,0,7,14,13,25,2,42,26,20,59,108,362,318,612,874,102,66,12,67,96,57]),function(Q,e,L,k,y,D,S,f,_,g,C,s,i,n,t,a,u,h,r,c,o,d){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ViewZoneManager=void 0;let l=class extends S.Disposable{constructor(b,w,E,I,M,P,x){super(),this._editors=b,this._diffModel=w,this._options=E,this._diffEditorWidget=I,this._canIgnoreViewZoneUpdateEvent=M,this._clipboardService=P,this._contextMenuService=x,this._originalTopPadding=(0,f.observableValue)("originalTopPadding",0),this._originalScrollOffset=(0,f.observableValue)("originalScrollOffset",0),this._originalScrollOffsetAnimated=(0,u.animatedObservable)(this._originalScrollOffset,this._store),this._modifiedTopPadding=(0,f.observableValue)("modifiedTopPadding",0),this._modifiedScrollOffset=(0,f.observableValue)("modifiedScrollOffset",0),this._modifiedScrollOffsetAnimated=(0,u.animatedObservable)(this._modifiedScrollOffset,this._store);let T=!1;const A=(0,f.observableValue)("state",0),N=this._register(new y.RunOnceScheduler(()=>{A.set(A.get()+1,void 0)},0));this._register(this._editors.original.onDidChangeViewZones(J=>{!T&&!this._canIgnoreViewZoneUpdateEvent()&&N.schedule()})),this._register(this._editors.modified.onDidChangeViewZones(J=>{!T&&!this._canIgnoreViewZoneUpdateEvent()&&N.schedule()})),this._register(this._editors.original.onDidChangeConfiguration(J=>{(J.hasChanged(143)||J.hasChanged(65))&&N.schedule()})),this._register(this._editors.modified.onDidChangeConfiguration(J=>{(J.hasChanged(143)||J.hasChanged(65))&&N.schedule()}));const F=this._diffModel.map(J=>J?(0,f.observableFromEvent)(J.model.original.onDidChangeTokens,()=>J.model.original.tokenization.backgroundTokenizationState===2):void 0).map((J,X)=>J?.read(X)),O=new Set,W=new Set,U=(0,f.derived)(J=>{const X=this._diffModel.read(J),H=X?.diff.read(J);if(!X||!H)return null;A.read(J);const V=this._options.renderSideBySide.read(J);return p(this._editors.original,this._editors.modified,H.mappings,O,W,V)}),j=(0,f.derived)(J=>{var X;const H=(X=this._diffModel.read(J))===null||X===void 0?void 0:X.movedTextToCompare.read(J);if(!H)return null;A.read(J);const B=H.changes.map(V=>new n.DiffMapping(V));return p(this._editors.original,this._editors.modified,B,O,W,!0)});function R(){const J=document.createElement("div");return J.className="diagonal-fill",J}const K=this._register(new S.DisposableStore),G=(0,f.derived)(J=>{var X,H,B,V,Y,ie,ae,ce;K.clear();const de=U.read(J)||[],he=[],ue=[],te=this._modifiedTopPadding.read(J);te>0&&ue.push({afterLineNumber:0,domNode:document.createElement("div"),heightInPx:te,showInHiddenAreas:!0});const q=this._originalTopPadding.read(J);q>0&&he.push({afterLineNumber:0,domNode:document.createElement("div"),heightInPx:q,showInHiddenAreas:!0});const z=this._options.renderSideBySide.read(J),ee=z||(X=this._editors.modified._getViewModel())===null||X===void 0?void 0:X.createLineBreaksComputer();if(ee){for(const De of de)if(De.diff)for(let ye=De.originalRange.startLineNumber;ye<De.originalRange.endLineNumberExclusive;ye++)ee?.addRequest(this._editors.original.getModel().getLineContent(ye),null,null)}const $=(H=ee?.finalize())!==null&&H!==void 0?H:[];let re=0;const oe=this._editors.modified.getOption(65),ge=(B=this._diffModel.read(J))===null||B===void 0?void 0:B.movedTextToCompare.read(J),ve=(Y=(V=this._editors.original.getModel())===null||V===void 0?void 0:V.mightContainNonBasicASCII())!==null&&Y!==void 0?Y:!1,Se=(ae=(ie=this._editors.original.getModel())===null||ie===void 0?void 0:ie.mightContainRTL())!==null&&ae!==void 0?ae:!1,Le=a.RenderOptions.fromEditor(this._editors.modified);for(const De of de)if(De.diff&&!z){if(!De.originalRange.isEmpty){F.read(J);const Ee=document.createElement("div");Ee.classList.add("view-lines","line-delete","monaco-mouse-cursor-text");const Me=new a.LineSource(De.originalRange.mapToLineArray(le=>this._editors.original.getModel().tokenization.getLineTokens(le)),De.originalRange.mapToLineArray(le=>$[re++]),ve,Se),Pe=[];for(const le of De.diff.innerChanges||[])Pe.push(new c.InlineDecoration(le.originalRange.delta(-(De.diff.originalRange.startLineNumber-1)),i.diffDeleteDecoration.className,0));const Fe=(0,a.renderLines)(Me,Le,Pe,Ee),_e=document.createElement("div");if(_e.className="inline-deleted-margin-view-zone",(0,C.applyFontInfo)(_e,Le.fontInfo),this._options.renderIndicators.read(J))for(let le=0;le<Fe.heightInLines;le++){const pe=document.createElement("div");pe.className=`delete-sign ${_.ThemeIcon.asClassName(i.diffRemoveIcon)}`,pe.setAttribute("style",`position:absolute;top:${le*oe}px;width:${Le.lineDecorationsWidth}px;height:${oe}px;right:0;`),_e.appendChild(pe)}let me;K.add(new t.InlineDiffDeletedCodeMargin(()=>(0,g.assertIsDefined)(me),_e,this._editors.modified,De.diff,this._diffEditorWidget,Fe.viewLineCounts,this._editors.original.getModel(),this._contextMenuService,this._clipboardService));for(let le=0;le<Fe.viewLineCounts.length;le++){const pe=Fe.viewLineCounts[le];pe>1&&he.push({afterLineNumber:De.originalRange.startLineNumber+le,domNode:R(),heightInPx:(pe-1)*oe,showInHiddenAreas:!0})}ue.push({afterLineNumber:De.modifiedRange.startLineNumber-1,domNode:Ee,heightInPx:Fe.heightInLines*oe,minWidthInPx:Fe.minWidthInPx,marginDomNode:_e,setZoneId(le){me=le},showInHiddenAreas:!0})}const ye=document.createElement("div");ye.className="gutter-delete",he.push({afterLineNumber:De.originalRange.endLineNumberExclusive-1,domNode:R(),heightInPx:De.modifiedHeightInPx,marginDomNode:ye,showInHiddenAreas:!0})}else{const ye=De.modifiedHeightInPx-De.originalHeightInPx;if(ye>0){if(ge?.lineRangeMapping.original.delta(-1).deltaLength(2).contains(De.originalRange.endLineNumberExclusive-1))continue;he.push({afterLineNumber:De.originalRange.endLineNumberExclusive-1,domNode:R(),heightInPx:ye,showInHiddenAreas:!0})}else{let Ee=function(){const Pe=document.createElement("div");return Pe.className="arrow-revert-change "+_.ThemeIcon.asClassName(D.Codicon.arrowRight),(0,L.$)("div",{},Pe)};if(ge?.lineRangeMapping.modified.delta(-1).deltaLength(2).contains(De.modifiedRange.endLineNumberExclusive-1))continue;let Me;De.diff&&De.diff.modifiedRange.isEmpty&&this._options.shouldRenderRevertArrows.read(J)&&(Me=Ee()),ue.push({afterLineNumber:De.modifiedRange.endLineNumberExclusive-1,domNode:R(),heightInPx:-ye,marginDomNode:Me,showInHiddenAreas:!0})}}for(const De of(ce=j.read(J))!==null&&ce!==void 0?ce:[]){if(!ge?.lineRangeMapping.original.intersect(De.originalRange)||!ge?.lineRangeMapping.modified.intersect(De.modifiedRange))continue;const ye=De.modifiedHeightInPx-De.originalHeightInPx;ye>0?he.push({afterLineNumber:De.originalRange.endLineNumberExclusive-1,domNode:R(),heightInPx:ye,showInHiddenAreas:!0}):ue.push({afterLineNumber:De.modifiedRange.endLineNumberExclusive-1,domNode:R(),heightInPx:-ye,showInHiddenAreas:!0})}return{orig:he,mod:ue}});this._register((0,f.autorunWithStore)(J=>{const X=s.StableEditorScrollState.capture(this._editors.modified),H=G.read(J);T=!0,this._editors.original.changeViewZones(B=>{for(const V of O)B.removeZone(V);O.clear();for(const V of H.orig){const Y=B.addZone(V);V.setZoneId&&V.setZoneId(Y),O.add(Y)}}),this._editors.modified.changeViewZones(B=>{for(const V of W)B.removeZone(V);W.clear();for(const V of H.mod){const Y=B.addZone(V);V.setZoneId&&V.setZoneId(Y),W.add(Y)}}),T=!1,X.restore(this._editors.modified)})),this._register((0,S.toDisposable)(()=>{this._editors.original.changeViewZones(J=>{for(const X of O)J.removeZone(X);O.clear()}),this._editors.modified.changeViewZones(J=>{for(const X of W)J.removeZone(X);W.clear()})}));let Z=!1;this._register(this._editors.original.onDidScrollChange(J=>{J.scrollLeftChanged&&!Z&&(Z=!0,this._editors.modified.setScrollLeft(J.scrollLeft),Z=!1)})),this._register(this._editors.modified.onDidScrollChange(J=>{J.scrollLeftChanged&&!Z&&(Z=!0,this._editors.original.setScrollLeft(J.scrollLeft),Z=!1)})),this._originalScrollTop=(0,f.observableFromEvent)(this._editors.original.onDidScrollChange,()=>this._editors.original.getScrollTop()),this._modifiedScrollTop=(0,f.observableFromEvent)(this._editors.modified.onDidScrollChange,()=>this._editors.modified.getScrollTop()),this._register((0,f.autorun)(J=>{const X=this._originalScrollTop.read(J)-(this._originalScrollOffsetAnimated.get()-this._modifiedScrollOffsetAnimated.read(J))-(this._originalTopPadding.get()-this._modifiedTopPadding.read(J));X!==this._editors.modified.getScrollTop()&&this._editors.modified.setScrollTop(X,1)})),this._register((0,f.autorun)(J=>{const X=this._modifiedScrollTop.read(J)-(this._modifiedScrollOffsetAnimated.get()-this._originalScrollOffsetAnimated.read(J))-(this._modifiedTopPadding.get()-this._originalTopPadding.read(J));X!==this._editors.original.getScrollTop()&&this._editors.original.setScrollTop(X,1)})),this._register((0,f.autorun)(J=>{var X;const H=(X=this._diffModel.read(J))===null||X===void 0?void 0:X.movedTextToCompare.read(J);let B=0;if(H){const V=this._editors.original.getTopForLineNumber(H.lineRangeMapping.original.startLineNumber,!0)-this._originalTopPadding.get();B=this._editors.modified.getTopForLineNumber(H.lineRangeMapping.modified.startLineNumber,!0)-this._modifiedTopPadding.get()-V}B>0?(this._modifiedTopPadding.set(0,void 0),this._originalTopPadding.set(B,void 0)):B<0?(this._modifiedTopPadding.set(-B,void 0),this._originalTopPadding.set(0,void 0)):setTimeout(()=>{this._modifiedTopPadding.set(0,void 0),this._originalTopPadding.set(0,void 0)},400),this._editors.modified.hasTextFocus()?this._originalScrollOffset.set(this._modifiedScrollOffset.get()-B,void 0,!0):this._modifiedScrollOffset.set(this._originalScrollOffset.get()+B,void 0,!0)}))}};e.ViewZoneManager=l,e.ViewZoneManager=l=ke([fe(5,o.IClipboardService),fe(6,d.IContextMenuService)],l);function p(v,b,w,E,I,M){const P=new k.ArrayQueue(m(v,E)),x=new k.ArrayQueue(m(b,I)),T=v.getOption(65),A=b.getOption(65),N=[];let F=0,O=0;function W(U,j){for(;;){let R=P.peek(),K=x.peek();if(R&&R.lineNumber>=U&&(R=void 0),K&&K.lineNumber>=j&&(K=void 0),!R&&!K)break;const G=R?R.lineNumber-F:Number.MAX_VALUE,Z=K?K.lineNumber-O:Number.MAX_VALUE;G<Z?(P.dequeue(),K={lineNumber:R.lineNumber-F+O,heightInPx:0}):G>Z?(x.dequeue(),R={lineNumber:K.lineNumber-O+F,heightInPx:0}):(P.dequeue(),x.dequeue()),N.push({originalRange:h.LineRange.ofLength(R.lineNumber,1),modifiedRange:h.LineRange.ofLength(K.lineNumber,1),originalHeightInPx:T+R.heightInPx,modifiedHeightInPx:A+K.heightInPx,diff:void 0})}}for(const U of w){let Z=function(J,X){var H,B,V,Y;if(J<G||X<K)return;if(R)R=!1;else if(J===G||X===K)return;const ie=new h.LineRange(G,J),ae=new h.LineRange(K,X);if(ie.isEmpty&&ae.isEmpty)return;const ce=(B=(H=P.takeWhile(he=>he.lineNumber<J))===null||H===void 0?void 0:H.reduce((he,ue)=>he+ue.heightInPx,0))!==null&&B!==void 0?B:0,de=(Y=(V=x.takeWhile(he=>he.lineNumber<X))===null||V===void 0?void 0:V.reduce((he,ue)=>he+ue.heightInPx,0))!==null&&Y!==void 0?Y:0;N.push({originalRange:ie,modifiedRange:ae,originalHeightInPx:ie.length*T+ce,modifiedHeightInPx:ae.length*A+de,diff:U.lineRangeMapping}),G=J,K=X};const j=U.lineRangeMapping;W(j.originalRange.startLineNumber,j.modifiedRange.startLineNumber);let R=!0,K=j.modifiedRange.startLineNumber,G=j.originalRange.startLineNumber;if(M)for(const J of j.innerChanges||[])J.originalRange.startColumn>1&&J.modifiedRange.startColumn>1&&Z(J.originalRange.startLineNumber,J.modifiedRange.startLineNumber),J.originalRange.endColumn<v.getModel().getLineMaxColumn(J.originalRange.endLineNumber)&&Z(J.originalRange.endLineNumber,J.modifiedRange.endLineNumber);Z(j.originalRange.endLineNumberExclusive,j.modifiedRange.endLineNumberExclusive),F=j.originalRange.endLineNumberExclusive,O=j.modifiedRange.endLineNumberExclusive}return W(Number.MAX_VALUE,Number.MAX_VALUE),N}function m(v,b){const w=[],E=[],I=v.getOption(143).wrappingColumn!==-1,M=v._getViewModel().coordinatesConverter,P=v.getOption(65);if(I)for(let T=1;T<=v.getModel().getLineCount();T++){const A=M.getModelLineViewLineCount(T);A>1&&E.push({lineNumber:T,heightInPx:P*(A-1)})}for(const T of v.getWhitespaces()){if(b.has(T.id))continue;const A=T.afterLineNumber===0?0:M.convertViewPositionToModelPosition(new r.Position(T.afterLineNumber,1)).lineNumber;w.push({lineNumber:A,heightInPx:T.height})}return(0,u.joinCombine)(w,E,T=>T.lineNumber,(T,A)=>({lineNumber:T.lineNumber,heightInPx:T.heightInPx+A.heightInPx}))}}),define(ne[876],se([1,0,7,9,6,42,16,33,161,830,870,590,875,323,357,747,102,348,148,21,116,15,8,157,482,844,621,318,2,77,432,822]),function(Q,e,L,k,y,D,S,f,_,g,C,s,i,n,t,a,u,h,r,c,o,d,l,p,m,v,b,w,E,I){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.DiffEditorWidget2=void 0;let M=class extends m.DelegatingEditor{constructor(T,A,N,F,O,W,U,j){var R;super(),this._domElement=T,this._parentContextKeyService=F,this._parentInstantiationService=O,this._audioCueService=U,this._editorProgressService=j,this.elements=(0,L.h)("div.monaco-diff-editor.side-by-side",{style:{position:"relative",height:"100%"}},[(0,L.h)("div.noModificationsOverlay@overlay",{style:{position:"absolute",height:"100%",visibility:"hidden"}},[(0,L.$)("span",{},"No Changes")]),(0,L.h)("div.editor.original@original",{style:{position:"absolute",height:"100%"}}),(0,L.h)("div.editor.modified@modified",{style:{position:"absolute",height:"100%"}}),(0,L.h)("div.accessibleDiffViewer@accessibleDiffViewer",{style:{position:"absolute",height:"100%"}})]),this._diffModel=this._register((0,D.disposableObservableValue)("diffModel",void 0)),this.onDidChangeModel=y.Event.fromObservableLight(this._diffModel),this._contextKeyService=this._register(this._parentContextKeyService.createScoped(this._domElement)),this._instantiationService=this._parentInstantiationService.createChild(new p.ServiceCollection([d.IContextKeyService,this._contextKeyService])),this._boundarySashes=(0,D.observableValue)("boundarySashes",void 0),this._accessibleDiffViewerShouldBeVisible=(0,D.observableValue)("accessibleDiffViewerShouldBeVisible",!1),this._accessibleDiffViewerVisible=(0,D.derived)(H=>this._options.onlyShowAccessibleDiffViewer.read(H)?!0:this._accessibleDiffViewerShouldBeVisible.read(H)),this.movedBlocksLinesPart=(0,D.observableValue)("MovedBlocksLinesPart",void 0),this._layoutInfo=(0,D.derived)(H=>{var B,V,Y;const ie=this._rootSizeObserver.width.read(H),ae=this._rootSizeObserver.height.read(H),ce=(B=this._sash.read(H))===null||B===void 0?void 0:B.sashLeft.read(H),de=ce??Math.max(5,this._editors.original.getLayoutInfo().decorationsLeft),he=ie-de-(this._options.renderOverviewRuler.read(H)?t.OverviewRulerPart.ENTIRE_DIFF_OVERVIEW_WIDTH:0),ue=(Y=(V=this.movedBlocksLinesPart.read(H))===null||V===void 0?void 0:V.width.read(H))!==null&&Y!==void 0?Y:0,te=de-ue;return this.elements.original.style.width=te+"px",this.elements.original.style.left="0px",this.elements.modified.style.width=he+"px",this.elements.modified.style.left=de+"px",this._editors.original.layout({width:te,height:ae}),this._editors.modified.layout({width:he,height:ae}),{modifiedEditor:this._editors.modified.getLayoutInfo(),originalEditor:this._editors.original.getLayoutInfo()}}),this._diffValue=this._diffModel.map((H,B)=>H?.diff.read(B)),this.onDidUpdateDiff=y.Event.fromObservableLight(this._diffValue),W.willCreateDiffEditor(),this._contextKeyService.createKey("isInDiffEditor",!0),this._contextKeyService.createKey("diffEditorVersion",2),this._domElement.appendChild(this.elements.root),this._register((0,E.toDisposable)(()=>this._domElement.removeChild(this.elements.root))),this._rootSizeObserver=this._register(new u.ObservableElementSizeObserver(this.elements.root,A.dimension)),this._rootSizeObserver.setAutomaticLayout((R=A.automaticLayout)!==null&&R!==void 0?R:!1),this._options=new b.DiffEditorOptions(A,this._rootSizeObserver.width),this._contextKeyService.createKey(c.EditorContextKeys.isEmbeddedDiffEditor.key,!1);const K=c.EditorContextKeys.isEmbeddedDiffEditor.bindTo(this._contextKeyService);this._register((0,D.autorun)(H=>{K.set(this._options.isInEmbeddedEditor.read(H))}));const G=c.EditorContextKeys.comparingMovedCode.bindTo(this._contextKeyService);this._register((0,D.autorun)(H=>{var B;G.set(!!(!((B=this._diffModel.read(H))===null||B===void 0)&&B.movedTextToCompare.read(H)))}));const Z=c.EditorContextKeys.diffEditorRenderSideBySideInlineBreakpointReached.bindTo(this._contextKeyService);this._register((0,D.autorun)(H=>{Z.set(this._options.couldShowInlineViewBecauseOfSize.read(H))})),this._editors=this._register(this._instantiationService.createInstance(v.DiffEditorEditors,this.elements.original,this.elements.modified,this._options,N,(H,B,V,Y)=>this._createInnerEditor(H,B,V,Y))),this._sash=(0,D.derivedWithStore)("sash",(H,B)=>{const V=this._options.renderSideBySide.read(H);if(this.elements.root.classList.toggle("side-by-side",V),!V)return;const Y=B.add(new s.DiffEditorSash(this._options,this.elements.root,{height:this._rootSizeObserver.height,width:this._rootSizeObserver.width.map((ie,ae)=>ie-(this._options.renderOverviewRuler.read(ae)?t.OverviewRulerPart.ENTIRE_DIFF_OVERVIEW_WIDTH:0))}));return B.add((0,D.autorun)(ie=>{const ae=this._boundarySashes.read(ie);ae&&Y.setBoundarySashes(ae)})),Y}),this._register((0,D.keepAlive)(this._sash,!0)),this._register((0,D.autorunWithStore)((H,B)=>{this.unchangedRangesFeature=B.add(this._instantiationService.createInstance((0,u.readHotReloadableExport)(a.UnchangedRangesFeature,H),this._editors,this._diffModel,this._options))})),this._register((0,D.autorunWithStore)((H,B)=>{B.add(new((0,u.readHotReloadableExport)(C.DiffEditorDecorations,H))(this._editors,this._diffModel,this._options))})),this._register((0,D.autorunWithStore)((H,B)=>{B.add(this._instantiationService.createInstance((0,u.readHotReloadableExport)(i.ViewZoneManager,H),this._editors,this._diffModel,this._options,this,()=>this.unchangedRangesFeature.isUpdatingViewZones))})),this._register((0,D.autorunWithStore)((H,B)=>{B.add(this._instantiationService.createInstance((0,u.readHotReloadableExport)(t.OverviewRulerPart,H),this._editors,this.elements.root,this._diffModel,this._rootSizeObserver.width,this._rootSizeObserver.height,this._layoutInfo.map(V=>V.modifiedEditor),this._options))})),this._register((0,D.autorunWithStore)((H,B)=>{this._accessibleDiffViewer=B.add(this._register(this._instantiationService.createInstance((0,u.readHotReloadableExport)(g.AccessibleDiffViewer,H),this.elements.accessibleDiffViewer,this._accessibleDiffViewerVisible,(V,Y)=>this._accessibleDiffViewerShouldBeVisible.set(V,Y),this._options.onlyShowAccessibleDiffViewer.map(V=>!V),this._rootSizeObserver.width,this._rootSizeObserver.height,this._diffModel.map((V,Y)=>{var ie;return(ie=V?.diff.read(Y))===null||ie===void 0?void 0:ie.mappings.map(ae=>ae.lineRangeMapping)}),this._editors)))}));const J=this._accessibleDiffViewerVisible.map(H=>H?"hidden":"visible");this._register((0,u.applyStyle)(this.elements.modified,{visibility:J})),this._register((0,u.applyStyle)(this.elements.original,{visibility:J})),this._createDiffEditorContributions(),W.addDiffEditor(this),this._register((0,D.keepAlive)(this._layoutInfo,!0)),this._register((0,D.autorunWithStore)((H,B)=>{this.movedBlocksLinesPart.set(B.add(new((0,u.readHotReloadableExport)(n.MovedBlocksLinesPart,H))(this.elements.root,this._diffModel,this._layoutInfo.map(V=>V.originalEditor),this._layoutInfo.map(V=>V.modifiedEditor),this._editors)),void 0)})),this._register((0,u.applyStyle)(this.elements.overlay,{width:this._layoutInfo.map((H,B)=>H.originalEditor.width+(this._options.renderSideBySide.read(B)?0:H.modifiedEditor.width)),visibility:(0,D.derived)(H=>{var B,V;return this._options.hideUnchangedRegions.read(H)&&((V=(B=this._diffModel.read(H))===null||B===void 0?void 0:B.diff.read(H))===null||V===void 0?void 0:V.mappings.length)===0?"visible":"hidden"})})),this._register(this._editors.modified.onMouseDown(H=>{var B,V;if(!H.event.rightButton&&H.target.position&&(!((B=H.target.element)===null||B===void 0)&&B.className.includes("arrow-revert-change"))){const Y=H.target.position.lineNumber,ie=H.target,ae=this._diffModel.get();if(!ae)return;const ce=(V=ae.diff.get())===null||V===void 0?void 0:V.mappings;if(!ce)return;const de=ce.find(he=>ie?.detail.afterLineNumber===he.lineRangeMapping.modifiedRange.startLineNumber-1||he.lineRangeMapping.modifiedRange.startLineNumber===Y);if(!de)return;this.revert(de.lineRangeMapping),H.event.stopPropagation()}})),this._register(y.Event.runAndSubscribe(this._editors.modified.onDidChangeCursorPosition,H=>{var B,V;if(H?.reason===3){const Y=(V=(B=this._diffModel.get())===null||B===void 0?void 0:B.diff.get())===null||V===void 0?void 0:V.mappings.find(ie=>ie.lineRangeMapping.modifiedRange.contains(H.position.lineNumber));Y?.lineRangeMapping.modifiedRange.isEmpty?this._audioCueService.playAudioCue(o.AudioCue.diffLineDeleted,{source:"diffEditor.cursorPositionChanged"}):Y?.lineRangeMapping.originalRange.isEmpty?this._audioCueService.playAudioCue(o.AudioCue.diffLineInserted,{source:"diffEditor.cursorPositionChanged"}):Y&&this._audioCueService.playAudioCue(o.AudioCue.diffLineModified,{source:"diffEditor.cursorPositionChanged"})}}));const X=this._diffModel.map((H,B)=>H?.isDiffUpToDate.read(B));this._register((0,D.autorunWithStore)((H,B)=>{if(X.read(H)===!1){const V=this._editorProgressService.show(!0,1e3);B.add((0,E.toDisposable)(()=>V.done()))}}))}_createInnerEditor(T,A,N,F){return T.createInstance(_.CodeEditorWidget,A,N,F)}_createDiffEditorContributions(){const T=S.EditorExtensionsRegistry.getDiffEditorContributions();for(const A of T)try{this._register(this._instantiationService.createInstance(A.ctor,this))}catch(N){(0,k.onUnexpectedError)(N)}}get _targetEditor(){return this._editors.modified}getEditorType(){return r.EditorType.IDiffEditor}layout(T){this._rootSizeObserver.observe(T)}hasTextFocus(){return this._editors.original.hasTextFocus()||this._editors.modified.hasTextFocus()}saveViewState(){var T;const A=this._editors.original.saveViewState(),N=this._editors.modified.saveViewState();return{original:A,modified:N,modelState:(T=this._diffModel.get())===null||T===void 0?void 0:T.serializeState()}}restoreViewState(T){var A;if(T&&T.original&&T.modified){const N=T;this._editors.original.restoreViewState(N.original),this._editors.modified.restoreViewState(N.modified),N.modelState&&((A=this._diffModel.get())===null||A===void 0||A.restoreSerializedState(N.modelState))}}createViewModel(T){return new w.DiffEditorViewModel(T,this._options,this._instantiationService.createInstance(h.WorkerBasedDocumentDiffProvider,{diffAlgorithm:this._options.diffAlgorithm.get()}))}getModel(){var T,A;return(A=(T=this._diffModel.get())===null||T===void 0?void 0:T.model)!==null&&A!==void 0?A:null}setModel(T){!T&&this._diffModel.get()&&this._accessibleDiffViewer.close();const A=T?"model"in T?T:this.createViewModel(T):void 0;this._editors.original.setModel(A?A.model.original:null),this._editors.modified.setModel(A?A.model.modified:null),(0,D.transaction)(N=>{this._diffModel.set(A,N)})}updateOptions(T){this._options.updateOptions(T)}getContainerDomNode(){return this._domElement}getOriginalEditor(){return this._editors.original}getModifiedEditor(){return this._editors.modified}getLineChanges(){var T;const A=(T=this._diffModel.get())===null||T===void 0?void 0:T.diff.get();return A?P(A):null}revert(T){var A;const N=(A=this._diffModel.get())===null||A===void 0?void 0:A.model;if(!N)return;const F=T.innerChanges?T.innerChanges.map(O=>({range:O.modifiedRange,text:N.original.getValueInRange(O.originalRange)})):[{range:T.modifiedRange.toExclusiveRange(),text:N.original.getValueInRange(T.originalRange.toExclusiveRange())}];this._editors.modified.executeEdits("diffEditor",F)}accessibleDiffViewerNext(){this._accessibleDiffViewer.next()}accessibleDiffViewerPrev(){this._accessibleDiffViewer.prev()}};e.DiffEditorWidget2=M,e.DiffEditorWidget2=M=ke([fe(3,d.IContextKeyService),fe(4,l.IInstantiationService),fe(5,f.ICodeEditorService),fe(6,o.IAudioCueService),fe(7,I.IEditorProgressService)],M);function P(x){return x.mappings.map(T=>{const A=T.lineRangeMapping;let N,F,O,W,U=A.innerChanges;return A.originalRange.isEmpty?(N=A.originalRange.startLineNumber-1,F=0,U=void 0):(N=A.originalRange.startLineNumber,F=A.originalRange.endLineNumberExclusive-1),A.modifiedRange.isEmpty?(O=A.modifiedRange.startLineNumber-1,W=0,U=void 0):(O=A.modifiedRange.startLineNumber,W=A.modifiedRange.endLineNumberExclusive-1),{originalStartLineNumber:N,originalEndLineNumber:F,modifiedStartLineNumber:O,modifiedEndLineNumber:W,charChanges:U?.map(j=>({originalStartLineNumber:j.originalRange.startLineNumber,originalStartColumn:j.originalRange.startColumn,originalEndLineNumber:j.originalRange.endLineNumber,originalEndColumn:j.originalRange.endColumn,modifiedStartLineNumber:j.modifiedRange.startLineNumber,modifiedStartColumn:j.modifiedRange.startColumn,modifiedEndLineNumber:j.modifiedRange.endLineNumber,modifiedEndColumn:j.modifiedRange.endColumn}))}})}}),define(ne[162],se([1,0,47,33,161,27,15,8,43,23,84,32,18]),function(Q,e,L,k,y,D,S,f,_,g,C,s,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.EmbeddedCodeEditorWidget=void 0;let n=class extends y.CodeEditorWidget{constructor(a,u,h,r,c,o,d,l,p,m,v,b,w){super(a,Object.assign(Object.assign({},r.getRawOptions()),{overflowWidgetsDomNode:r.getOverflowWidgetsDomNode()}),h,c,o,d,l,p,m,v,b,w),this._parentEditor=r,this._overwriteOptions=u,super.updateOptions(this._overwriteOptions),this._register(r.onDidChangeConfiguration(E=>this._onParentConfigurationChanged(E)))}getParentEditor(){return this._parentEditor}_onParentConfigurationChanged(a){super.updateOptions(this._parentEditor.getRawOptions()),super.updateOptions(this._overwriteOptions)}updateOptions(a){L.mixin(this._overwriteOptions,a,!0),super.updateOptions(this._overwriteOptions)}};e.EmbeddedCodeEditorWidget=n,e.EmbeddedCodeEditorWidget=n=ke([fe(4,f.IInstantiationService),fe(5,k.ICodeEditorService),fe(6,D.ICommandService),fe(7,S.IContextKeyService),fe(8,g.IThemeService),fe(9,_.INotificationService),fe(10,C.IAccessibilityService),fe(11,s.ILanguageConfigurationService),fe(12,i.ILanguageFeaturesService)],n)}),define(ne[877],se([1,0,13,2,16,12,5,24,21,48,40,633,30,31,23,437]),function(Q,e,L,k,y,D,S,f,_,g,C,s,i,n,t){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.BracketMatchingController=void 0;const a=(0,n.registerColor)("editorOverviewRuler.bracketMatchForeground",{dark:"#A0A0A0",light:"#A0A0A0",hcDark:"#A0A0A0",hcLight:"#A0A0A0"},s.localize(0,null));class u extends y.EditorAction{constructor(){super({id:"editor.action.jumpToBracket",label:s.localize(1,null),alias:"Go to Bracket",precondition:void 0,kbOpts:{kbExpr:_.EditorContextKeys.editorTextFocus,primary:3165,weight:100}})}run(l,p){var m;(m=o.get(p))===null||m===void 0||m.jumpToBracket()}}class h extends y.EditorAction{constructor(){super({id:"editor.action.selectToBracket",label:s.localize(2,null),alias:"Select to Bracket",precondition:void 0,description:{description:"Select to Bracket",args:[{name:"args",schema:{type:"object",properties:{selectBrackets:{type:"boolean",default:!0}}}}]}})}run(l,p,m){var v;let b=!0;m&&m.selectBrackets===!1&&(b=!1),(v=o.get(p))===null||v===void 0||v.selectToBracket(b)}}class r extends y.EditorAction{constructor(){super({id:"editor.action.removeBrackets",label:s.localize(3,null),alias:"Remove Brackets",precondition:void 0,kbOpts:{kbExpr:_.EditorContextKeys.editorTextFocus,primary:2561,weight:100}})}run(l,p){var m;(m=o.get(p))===null||m===void 0||m.removeBrackets(this.id)}}class c{constructor(l,p,m){this.position=l,this.brackets=p,this.options=m}}class o extends k.Disposable{static get(l){return l.getContribution(o.ID)}constructor(l){super(),this._editor=l,this._lastBracketsData=[],this._lastVersionId=0,this._decorations=this._editor.createDecorationsCollection(),this._updateBracketsSoon=this._register(new L.RunOnceScheduler(()=>this._updateBrackets(),50)),this._matchBrackets=this._editor.getOption(70),this._updateBracketsSoon.schedule(),this._register(l.onDidChangeCursorPosition(p=>{this._matchBrackets!=="never"&&this._updateBracketsSoon.schedule()})),this._register(l.onDidChangeModelContent(p=>{this._updateBracketsSoon.schedule()})),this._register(l.onDidChangeModel(p=>{this._lastBracketsData=[],this._updateBracketsSoon.schedule()})),this._register(l.onDidChangeModelLanguageConfiguration(p=>{this._lastBracketsData=[],this._updateBracketsSoon.schedule()})),this._register(l.onDidChangeConfiguration(p=>{p.hasChanged(70)&&(this._matchBrackets=this._editor.getOption(70),this._decorations.clear(),this._lastBracketsData=[],this._lastVersionId=0,this._updateBracketsSoon.schedule())})),this._register(l.onDidBlurEditorWidget(()=>{this._updateBracketsSoon.schedule()})),this._register(l.onDidFocusEditorWidget(()=>{this._updateBracketsSoon.schedule()}))}jumpToBracket(){if(!this._editor.hasModel())return;const l=this._editor.getModel(),p=this._editor.getSelections().map(m=>{const v=m.getStartPosition(),b=l.bracketPairs.matchBracket(v);let w=null;if(b)b[0].containsPosition(v)&&!b[1].containsPosition(v)?w=b[1].getStartPosition():b[1].containsPosition(v)&&(w=b[0].getStartPosition());else{const E=l.bracketPairs.findEnclosingBrackets(v);if(E)w=E[1].getStartPosition();else{const I=l.bracketPairs.findNextBracket(v);I&&I.range&&(w=I.range.getStartPosition())}}return w?new f.Selection(w.lineNumber,w.column,w.lineNumber,w.column):new f.Selection(v.lineNumber,v.column,v.lineNumber,v.column)});this._editor.setSelections(p),this._editor.revealRange(p[0])}selectToBracket(l){if(!this._editor.hasModel())return;const p=this._editor.getModel(),m=[];this._editor.getSelections().forEach(v=>{const b=v.getStartPosition();let w=p.bracketPairs.matchBracket(b);if(!w&&(w=p.bracketPairs.findEnclosingBrackets(b),!w)){const M=p.bracketPairs.findNextBracket(b);M&&M.range&&(w=p.bracketPairs.matchBracket(M.range.getStartPosition()))}let E=null,I=null;if(w){w.sort(S.Range.compareRangesUsingStarts);const[M,P]=w;if(E=l?M.getStartPosition():M.getEndPosition(),I=l?P.getEndPosition():P.getStartPosition(),P.containsPosition(b)){const x=E;E=I,I=x}}E&&I&&m.push(new f.Selection(E.lineNumber,E.column,I.lineNumber,I.column))}),m.length>0&&(this._editor.setSelections(m),this._editor.revealRange(m[0]))}removeBrackets(l){if(!this._editor.hasModel())return;const p=this._editor.getModel();this._editor.getSelections().forEach(m=>{const v=m.getPosition();let b=p.bracketPairs.matchBracket(v);b||(b=p.bracketPairs.findEnclosingBrackets(v)),b&&(this._editor.pushUndoStop(),this._editor.executeEdits(l,[{range:b[0],text:""},{range:b[1],text:""}]),this._editor.pushUndoStop())})}_updateBrackets(){if(this._matchBrackets==="never")return;this._recomputeBrackets();const l=[];let p=0;for(const m of this._lastBracketsData){const v=m.brackets;v&&(l[p++]={range:v[0],options:m.options},l[p++]={range:v[1],options:m.options})}this._decorations.set(l)}_recomputeBrackets(){if(!this._editor.hasModel()||!this._editor.hasWidgetFocus()){this._lastBracketsData=[],this._lastVersionId=0;return}const l=this._editor.getSelections();if(l.length>100){this._lastBracketsData=[],this._lastVersionId=0;return}const p=this._editor.getModel(),m=p.getVersionId();let v=[];this._lastVersionId===m&&(v=this._lastBracketsData);const b=[];let w=0;for(let x=0,T=l.length;x<T;x++){const A=l[x];A.isEmpty()&&(b[w++]=A.getStartPosition())}b.length>1&&b.sort(D.Position.compare);const E=[];let I=0,M=0;const P=v.length;for(let x=0,T=b.length;x<T;x++){const A=b[x];for(;M<P&&v[M].position.isBefore(A);)M++;if(M<P&&v[M].position.equals(A))E[I++]=v[M];else{let N=p.bracketPairs.matchBracket(A,20),F=o._DECORATION_OPTIONS_WITH_OVERVIEW_RULER;!N&&this._matchBrackets==="always"&&(N=p.bracketPairs.findEnclosingBrackets(A,20),F=o._DECORATION_OPTIONS_WITHOUT_OVERVIEW_RULER),E[I++]=new c(A,N,F)}}this._lastBracketsData=E,this._lastVersionId=m}}e.BracketMatchingController=o,o.ID="editor.contrib.bracketMatchingController",o._DECORATION_OPTIONS_WITH_OVERVIEW_RULER=C.ModelDecorationOptions.register({description:"bracket-match-overview",stickiness:1,className:"bracket-match",overviewRuler:{color:(0,t.themeColorFromId)(a),position:g.OverviewRulerLane.Center}}),o._DECORATION_OPTIONS_WITHOUT_OVERVIEW_RULER=C.ModelDecorationOptions.register({description:"bracket-match-no-overview",stickiness:1,className:"bracket-match"}),(0,y.registerEditorContribution)(o.ID,o,1),(0,y.registerEditorAction)(h),(0,y.registerEditorAction)(u),(0,y.registerEditorAction)(r),i.MenuRegistry.appendMenuItem(i.MenuId.MenubarGoMenu,{group:"5_infile_nav",command:{id:"editor.action.jumpToBracket",title:s.localize(4,null)},order:2})}),define(ne[878],se([1,0,7,129,5,40,439]),function(Q,e,L,k,y,D){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.CodeLensWidget=e.CodeLensHelper=void 0;class S{constructor(i,n,t){this.afterColumn=1073741824,this.afterLineNumber=i,this.heightInPx=n,this._onHeight=t,this.suppressMouseDown=!0,this.domNode=document.createElement("div")}onComputedHeight(i){this._lastHeight===void 0?this._lastHeight=i:this._lastHeight!==i&&(this._lastHeight=i,this._onHeight())}isVisible(){return this._lastHeight!==0&&this.domNode.hasAttribute("monaco-visible-view-zone")}}class f{constructor(i,n){this.allowEditorOverflow=!1,this.suppressMouseDown=!0,this._commands=new Map,this._isEmpty=!0,this._editor=i,this._id=`codelens.widget-${f._idPool++}`,this.updatePosition(n),this._domNode=document.createElement("span"),this._domNode.className="codelens-decoration"}withCommands(i,n){this._commands.clear();const t=[];let a=!1;for(let u=0;u<i.length;u++){const h=i[u];if(h&&(a=!0,h.command)){const r=(0,k.renderLabelWithIcons)(h.command.title.trim());h.command.id?(t.push(L.$("a",{id:String(u),title:h.command.tooltip,role:"button"},...r)),this._commands.set(String(u),h.command)):t.push(L.$("span",{title:h.command.tooltip},...r)),u+1<i.length&&t.push(L.$("span",void 0,"\xA0|\xA0"))}}a?(L.reset(this._domNode,...t),this._isEmpty&&n&&this._domNode.classList.add("fadein"),this._isEmpty=!1):L.reset(this._domNode,L.$("span",void 0,"no commands"))}getCommand(i){return i.parentElement===this._domNode?this._commands.get(i.id):void 0}getId(){return this._id}getDomNode(){return this._domNode}updatePosition(i){const n=this._editor.getModel().getLineFirstNonWhitespaceColumn(i);this._widgetPosition={position:{lineNumber:i,column:n},preference:[1]}}getPosition(){return this._widgetPosition||null}}f._idPool=0;class _{constructor(){this._removeDecorations=[],this._addDecorations=[],this._addDecorationsCallbacks=[]}addDecoration(i,n){this._addDecorations.push(i),this._addDecorationsCallbacks.push(n)}removeDecoration(i){this._removeDecorations.push(i)}commit(i){const n=i.deltaDecorations(this._removeDecorations,this._addDecorations);for(let t=0,a=n.length;t<a;t++)this._addDecorationsCallbacks[t](n[t])}}e.CodeLensHelper=_;const g=D.ModelDecorationOptions.register({collapseOnReplaceEdit:!0,description:"codelens"});class C{constructor(i,n,t,a,u,h){this._isDisposed=!1,this._editor=n,this._data=i,this._decorationIds=[];let r;const c=[];this._data.forEach((o,d)=>{o.symbol.command&&c.push(o.symbol),t.addDecoration({range:o.symbol.range,options:g},l=>this._decorationIds[d]=l),r?r=y.Range.plusRange(r,o.symbol.range):r=y.Range.lift(o.symbol.range)}),this._viewZone=new S(r.startLineNumber-1,u,h),this._viewZoneId=a.addZone(this._viewZone),c.length>0&&(this._createContentWidgetIfNecessary(),this._contentWidget.withCommands(c,!1))}_createContentWidgetIfNecessary(){this._contentWidget?this._editor.layoutContentWidget(this._contentWidget):(this._contentWidget=new f(this._editor,this._viewZone.afterLineNumber+1),this._editor.addContentWidget(this._contentWidget))}dispose(i,n){this._decorationIds.forEach(i.removeDecoration,i),this._decorationIds=[],n?.removeZone(this._viewZoneId),this._contentWidget&&(this._editor.removeContentWidget(this._contentWidget),this._contentWidget=void 0),this._isDisposed=!0}isDisposed(){return this._isDisposed}isValid(){return this._decorationIds.some((i,n)=>{const t=this._editor.getModel().getDecorationRange(i),a=this._data[n].symbol;return!!(t&&y.Range.isEmpty(a.range)===t.isEmpty())})}updateCodeLensSymbols(i,n){this._decorationIds.forEach(n.removeDecoration,n),this._decorationIds=[],this._data=i,this._data.forEach((t,a)=>{n.addDecoration({range:t.symbol.range,options:g},u=>this._decorationIds[a]=u)})}updateHeight(i,n){this._viewZone.heightInPx=i,n.layoutZone(this._viewZoneId),this._contentWidget&&this._editor.layoutContentWidget(this._contentWidget)}computeIfNecessary(i){if(!this._viewZone.isVisible())return null;for(let n=0;n<this._decorationIds.length;n++){const t=i.getDecorationRange(this._decorationIds[n]);t&&(this._data[n].symbol.range=t)}return this._data}updateCommands(i){this._createContentWidgetIfNecessary(),this._contentWidget.withCommands(i,!0);for(let n=0;n<this._data.length;n++){const t=i[n];if(t){const{symbol:a}=this._data[n];a.command=t.command||a.command}}}getCommand(i){var n;return(n=this._contentWidget)===null||n===void 0?void 0:n.getCommand(i)}getLineNumber(){const i=this._editor.getModel().getDecorationRange(this._decorationIds[0]);return i?i.startLineNumber:-1}update(i){if(this.isValid()){const n=this._editor.getModel().getDecorationRange(this._decorationIds[0]);n&&(this._viewZone.afterLineNumber=n.startLineNumber-1,i.layoutZone(this._viewZoneId),this._contentWidget&&(this._contentWidget.updatePosition(n.startLineNumber),this._editor.layoutContentWidget(this._contentWidget)))}}}e.CodeLensWidget=C}),define(ne[879],se([1,0,13,9,2,108,16,36,21,332,790,878,643,27,43,71,76,18]),function(Q,e,L,k,y,D,S,f,_,g,C,s,i,n,t,a,u,h){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.CodeLensContribution=void 0;let r=class{constructor(o,d,l,p,m,v){this._editor=o,this._languageFeaturesService=d,this._commandService=p,this._notificationService=m,this._codeLensCache=v,this._disposables=new y.DisposableStore,this._localToDispose=new y.DisposableStore,this._lenses=[],this._oldCodeLensModels=new y.DisposableStore,this._provideCodeLensDebounce=l.for(d.codeLensProvider,"CodeLensProvide",{min:250}),this._resolveCodeLensesDebounce=l.for(d.codeLensProvider,"CodeLensResolve",{min:250,salt:"resolve"}),this._resolveCodeLensesScheduler=new L.RunOnceScheduler(()=>this._resolveCodeLensesInViewport(),this._resolveCodeLensesDebounce.default()),this._disposables.add(this._editor.onDidChangeModel(()=>this._onModelChange())),this._disposables.add(this._editor.onDidChangeModelLanguage(()=>this._onModelChange())),this._disposables.add(this._editor.onDidChangeConfiguration(b=>{(b.hasChanged(49)||b.hasChanged(18)||b.hasChanged(17))&&this._updateLensStyle(),b.hasChanged(16)&&this._onModelChange()})),this._disposables.add(d.codeLensProvider.onDidChange(this._onModelChange,this)),this._onModelChange(),this._updateLensStyle()}dispose(){var o;this._localDispose(),this._disposables.dispose(),this._oldCodeLensModels.dispose(),(o=this._currentCodeLensModel)===null||o===void 0||o.dispose()}_getLayoutInfo(){const o=Math.max(1.3,this._editor.getOption(65)/this._editor.getOption(51));let d=this._editor.getOption(18);return(!d||d<5)&&(d=this._editor.getOption(51)*.9|0),{fontSize:d,codeLensHeight:d*o|0}}_updateLensStyle(){const{codeLensHeight:o,fontSize:d}=this._getLayoutInfo(),l=this._editor.getOption(17),p=this._editor.getOption(49),{style:m}=this._editor.getContainerDomNode();m.setProperty("--vscode-editorCodeLens-lineHeight",`${o}px`),m.setProperty("--vscode-editorCodeLens-fontSize",`${d}px`),m.setProperty("--vscode-editorCodeLens-fontFeatureSettings",p.fontFeatureSettings),l&&(m.setProperty("--vscode-editorCodeLens-fontFamily",l),m.setProperty("--vscode-editorCodeLens-fontFamilyDefault",f.EDITOR_FONT_DEFAULTS.fontFamily)),this._editor.changeViewZones(v=>{for(const b of this._lenses)b.updateHeight(o,v)})}_localDispose(){var o,d,l;(o=this._getCodeLensModelPromise)===null||o===void 0||o.cancel(),this._getCodeLensModelPromise=void 0,(d=this._resolveCodeLensesPromise)===null||d===void 0||d.cancel(),this._resolveCodeLensesPromise=void 0,this._localToDispose.clear(),this._oldCodeLensModels.clear(),(l=this._currentCodeLensModel)===null||l===void 0||l.dispose()}_onModelChange(){this._localDispose();const o=this._editor.getModel();if(!o||!this._editor.getOption(16))return;const d=this._codeLensCache.get(o);if(d&&this._renderCodeLensSymbols(d),!this._languageFeaturesService.codeLensProvider.has(o)){d&&this._localToDispose.add((0,L.disposableTimeout)(()=>{const p=this._codeLensCache.get(o);d===p&&(this._codeLensCache.delete(o),this._onModelChange())},30*1e3));return}for(const p of this._languageFeaturesService.codeLensProvider.all(o))if(typeof p.onDidChange=="function"){const m=p.onDidChange(()=>l.schedule());this._localToDispose.add(m)}const l=new L.RunOnceScheduler(()=>{var p;const m=Date.now();(p=this._getCodeLensModelPromise)===null||p===void 0||p.cancel(),this._getCodeLensModelPromise=(0,L.createCancelablePromise)(v=>(0,g.getCodeLensModel)(this._languageFeaturesService.codeLensProvider,o,v)),this._getCodeLensModelPromise.then(v=>{this._currentCodeLensModel&&this._oldCodeLensModels.add(this._currentCodeLensModel),this._currentCodeLensModel=v,this._codeLensCache.put(o,v);const b=this._provideCodeLensDebounce.update(o,Date.now()-m);l.delay=b,this._renderCodeLensSymbols(v),this._resolveCodeLensesInViewportSoon()},k.onUnexpectedError)},this._provideCodeLensDebounce.get(o));this._localToDispose.add(l),this._localToDispose.add((0,y.toDisposable)(()=>this._resolveCodeLensesScheduler.cancel())),this._localToDispose.add(this._editor.onDidChangeModelContent(()=>{var p;this._editor.changeDecorations(m=>{this._editor.changeViewZones(v=>{const b=[];let w=-1;this._lenses.forEach(I=>{!I.isValid()||w===I.getLineNumber()?b.push(I):(I.update(v),w=I.getLineNumber())});const E=new s.CodeLensHelper;b.forEach(I=>{I.dispose(E,v),this._lenses.splice(this._lenses.indexOf(I),1)}),E.commit(m)})}),l.schedule(),this._resolveCodeLensesScheduler.cancel(),(p=this._resolveCodeLensesPromise)===null||p===void 0||p.cancel(),this._resolveCodeLensesPromise=void 0})),this._localToDispose.add(this._editor.onDidFocusEditorWidget(()=>{l.schedule()})),this._localToDispose.add(this._editor.onDidScrollChange(p=>{p.scrollTopChanged&&this._lenses.length>0&&this._resolveCodeLensesInViewportSoon()})),this._localToDispose.add(this._editor.onDidLayoutChange(()=>{this._resolveCodeLensesInViewportSoon()})),this._localToDispose.add((0,y.toDisposable)(()=>{if(this._editor.getModel()){const p=D.StableEditorScrollState.capture(this._editor);this._editor.changeDecorations(m=>{this._editor.changeViewZones(v=>{this._disposeAllLenses(m,v)})}),p.restore(this._editor)}else this._disposeAllLenses(void 0,void 0)})),this._localToDispose.add(this._editor.onMouseDown(p=>{if(p.target.type!==9)return;let m=p.target.element;if(m?.tagName==="SPAN"&&(m=m.parentElement),m?.tagName==="A")for(const v of this._lenses){const b=v.getCommand(m);if(b){this._commandService.executeCommand(b.id,...b.arguments||[]).catch(w=>this._notificationService.error(w));break}}})),l.schedule()}_disposeAllLenses(o,d){const l=new s.CodeLensHelper;for(const p of this._lenses)p.dispose(l,d);o&&l.commit(o),this._lenses.length=0}_renderCodeLensSymbols(o){if(!this._editor.hasModel())return;const d=this._editor.getModel().getLineCount(),l=[];let p;for(const b of o.lenses){const w=b.symbol.range.startLineNumber;w<1||w>d||(p&&p[p.length-1].symbol.range.startLineNumber===w?p.push(b):(p=[b],l.push(p)))}if(!l.length&&!this._lenses.length)return;const m=D.StableEditorScrollState.capture(this._editor),v=this._getLayoutInfo();this._editor.changeDecorations(b=>{this._editor.changeViewZones(w=>{const E=new s.CodeLensHelper;let I=0,M=0;for(;M<l.length&&I<this._lenses.length;){const P=l[M][0].symbol.range.startLineNumber,x=this._lenses[I].getLineNumber();x<P?(this._lenses[I].dispose(E,w),this._lenses.splice(I,1)):x===P?(this._lenses[I].updateCodeLensSymbols(l[M],E),M++,I++):(this._lenses.splice(I,0,new s.CodeLensWidget(l[M],this._editor,E,w,v.codeLensHeight,()=>this._resolveCodeLensesInViewportSoon())),I++,M++)}for(;I<this._lenses.length;)this._lenses[I].dispose(E,w),this._lenses.splice(I,1);for(;M<l.length;)this._lenses.push(new s.CodeLensWidget(l[M],this._editor,E,w,v.codeLensHeight,()=>this._resolveCodeLensesInViewportSoon())),M++;E.commit(b)})}),m.restore(this._editor)}_resolveCodeLensesInViewportSoon(){this._editor.getModel()&&this._resolveCodeLensesScheduler.schedule()}_resolveCodeLensesInViewport(){var o;(o=this._resolveCodeLensesPromise)===null||o===void 0||o.cancel(),this._resolveCodeLensesPromise=void 0;const d=this._editor.getModel();if(!d)return;const l=[],p=[];if(this._lenses.forEach(b=>{const w=b.computeIfNecessary(d);w&&(l.push(w),p.push(b))}),l.length===0)return;const m=Date.now(),v=(0,L.createCancelablePromise)(b=>{const w=l.map((E,I)=>{const M=new Array(E.length),P=E.map((x,T)=>!x.symbol.command&&typeof x.provider.resolveCodeLens=="function"?Promise.resolve(x.provider.resolveCodeLens(d,x.symbol,b)).then(A=>{M[T]=A},k.onUnexpectedExternalError):(M[T]=x.symbol,Promise.resolve(void 0)));return Promise.all(P).then(()=>{!b.isCancellationRequested&&!p[I].isDisposed()&&p[I].updateCommands(M)})});return Promise.all(w)});this._resolveCodeLensesPromise=v,this._resolveCodeLensesPromise.then(()=>{const b=this._resolveCodeLensesDebounce.update(d,Date.now()-m);this._resolveCodeLensesScheduler.delay=b,this._currentCodeLensModel&&this._codeLensCache.put(d,this._currentCodeLensModel),this._oldCodeLensModels.clear(),v===this._resolveCodeLensesPromise&&(this._resolveCodeLensesPromise=void 0)},b=>{(0,k.onUnexpectedError)(b),v===this._resolveCodeLensesPromise&&(this._resolveCodeLensesPromise=void 0)})}getModel(){return this._currentCodeLensModel}};e.CodeLensContribution=r,r.ID="css.editor.codeLens",e.CodeLensContribution=r=ke([fe(1,h.ILanguageFeaturesService),fe(2,u.ILanguageFeatureDebounceService),fe(3,n.ICommandService),fe(4,t.INotificationService),fe(5,C.ICodeLensCache)],r),(0,S.registerEditorContribution)(r.ID,r,1),(0,S.registerEditorAction)(class extends S.EditorAction{constructor(){super({id:"codelens.showLensesInCurrentLine",precondition:_.EditorContextKeys.hasCodeLensProvider,label:(0,i.localize)(0,null),alias:"Show CodeLens Commands For Current Line"})}run(o,d){return we(this,void 0,void 0,function*(){if(!d.hasModel())return;const l=o.get(a.IQuickInputService),p=o.get(n.ICommandService),m=o.get(t.INotificationService),v=d.getSelection().positionLineNumber,b=d.getContribution(r.ID);if(!b)return;const w=b.getModel();if(!w)return;const E=[];for(const M of w.lenses)M.symbol.command&&M.symbol.range.startLineNumber===v&&E.push({label:M.symbol.command.title,command:M.symbol.command});if(E.length===0)return;const I=yield l.pick(E,{canPickMany:!1});if(I){if(w.isDisposed)return yield p.executeCommand(this.id);try{yield p.executeCommand(I.command.id,...I.command.arguments||[])}catch(M){m.error(M)}}})}})}),define(ne[363],se([1,0,13,38,9,6,2,58,11,159,16,5,40,76,18,343,28]),function(Q,e,L,k,y,D,S,f,_,g,C,s,i,n,t,a,u){"use strict";var h;Object.defineProperty(e,"__esModule",{value:!0}),e.DecoratorLimitReporter=e.ColorDetector=e.ColorDecorationInjectedTextMarker=void 0,e.ColorDecorationInjectedTextMarker=Object.create({});let r=h=class extends S.Disposable{constructor(d,l,p,m){super(),this._editor=d,this._configurationService=l,this._languageFeaturesService=p,this._localToDispose=this._register(new S.DisposableStore),this._decorationsIds=[],this._colorDatas=new Map,this._colorDecoratorIds=this._editor.createDecorationsCollection(),this._ruleFactory=new g.DynamicCssRules(this._editor),this._decoratorLimitReporter=new c,this._colorDecorationClassRefs=this._register(new S.DisposableStore),this._debounceInformation=m.for(p.colorProvider,"Document Colors",{min:h.RECOMPUTE_TIME}),this._register(d.onDidChangeModel(()=>{this._isColorDecoratorsEnabled=this.isEnabled(),this.updateColors()})),this._register(d.onDidChangeModelLanguage(()=>this.updateColors())),this._register(p.colorProvider.onDidChange(()=>this.updateColors())),this._register(d.onDidChangeConfiguration(v=>{const b=this._isColorDecoratorsEnabled;this._isColorDecoratorsEnabled=this.isEnabled(),this._isDefaultColorDecoratorsEnabled=this._editor.getOption(144);const w=b!==this._isColorDecoratorsEnabled||v.hasChanged(20),E=v.hasChanged(144);(w||E)&&(this._isColorDecoratorsEnabled?this.updateColors():this.removeAllDecorations())})),this._timeoutTimer=null,this._computePromise=null,this._isColorDecoratorsEnabled=this.isEnabled(),this._isDefaultColorDecoratorsEnabled=this._editor.getOption(144),this.updateColors()}isEnabled(){const d=this._editor.getModel();if(!d)return!1;const l=d.getLanguageId(),p=this._configurationService.getValue(l);if(p&&typeof p=="object"){const m=p.colorDecorators;if(m&&m.enable!==void 0&&!m.enable)return m.enable}return this._editor.getOption(19)}static get(d){return d.getContribution(this.ID)}dispose(){this.stop(),this.removeAllDecorations(),super.dispose()}updateColors(){if(this.stop(),!this._isColorDecoratorsEnabled)return;const d=this._editor.getModel();!d||!this._languageFeaturesService.colorProvider.has(d)||(this._localToDispose.add(this._editor.onDidChangeModelContent(()=>{this._timeoutTimer||(this._timeoutTimer=new L.TimeoutTimer,this._timeoutTimer.cancelAndSet(()=>{this._timeoutTimer=null,this.beginCompute()},this._debounceInformation.get(d)))})),this.beginCompute())}beginCompute(){return we(this,void 0,void 0,function*(){this._computePromise=(0,L.createCancelablePromise)(d=>we(this,void 0,void 0,function*(){const l=this._editor.getModel();if(!l)return[];const p=new f.StopWatch(!1),m=yield(0,a.getColors)(this._languageFeaturesService.colorProvider,l,d,this._isDefaultColorDecoratorsEnabled);return this._debounceInformation.update(l,p.elapsed()),m}));try{const d=yield this._computePromise;this.updateDecorations(d),this.updateColorDecorators(d),this._computePromise=null}catch(d){(0,y.onUnexpectedError)(d)}})}stop(){this._timeoutTimer&&(this._timeoutTimer.cancel(),this._timeoutTimer=null),this._computePromise&&(this._computePromise.cancel(),this._computePromise=null),this._localToDispose.clear()}updateDecorations(d){const l=d.map(p=>({range:{startLineNumber:p.colorInfo.range.startLineNumber,startColumn:p.colorInfo.range.startColumn,endLineNumber:p.colorInfo.range.endLineNumber,endColumn:p.colorInfo.range.endColumn},options:i.ModelDecorationOptions.EMPTY}));this._editor.changeDecorations(p=>{this._decorationsIds=p.deltaDecorations(this._decorationsIds,l),this._colorDatas=new Map,this._decorationsIds.forEach((m,v)=>this._colorDatas.set(m,d[v]))})}updateColorDecorators(d){this._colorDecorationClassRefs.clear();const l=[],p=this._editor.getOption(20);for(let v=0;v<d.length&&l.length<p;v++){const{red:b,green:w,blue:E,alpha:I}=d[v].colorInfo.color,M=new k.RGBA(Math.round(b*255),Math.round(w*255),Math.round(E*255),I),P=`rgba(${M.r}, ${M.g}, ${M.b}, ${M.a})`,x=this._colorDecorationClassRefs.add(this._ruleFactory.createClassNameRef({backgroundColor:P}));l.push({range:{startLineNumber:d[v].colorInfo.range.startLineNumber,startColumn:d[v].colorInfo.range.startColumn,endLineNumber:d[v].colorInfo.range.endLineNumber,endColumn:d[v].colorInfo.range.endColumn},options:{description:"colorDetector",before:{content:_.noBreakWhitespace,inlineClassName:`${x.className} colorpicker-color-decoration`,inlineClassNameAffectsLetterSpacing:!0,attachedData:e.ColorDecorationInjectedTextMarker}}})}const m=p<d.length?p:!1;this._decoratorLimitReporter.update(d.length,m),this._colorDecoratorIds.set(l)}removeAllDecorations(){this._editor.removeDecorations(this._decorationsIds),this._decorationsIds=[],this._colorDecoratorIds.clear(),this._colorDecorationClassRefs.clear()}getColorData(d){const l=this._editor.getModel();if(!l)return null;const p=l.getDecorationsInRange(s.Range.fromPositions(d,d)).filter(m=>this._colorDatas.has(m.id));return p.length===0?null:this._colorDatas.get(p[0].id)}isColorDecoration(d){return this._colorDecoratorIds.has(d)}};e.ColorDetector=r,r.ID="editor.contrib.colorDetector",r.RECOMPUTE_TIME=1e3,e.ColorDetector=r=h=ke([fe(1,u.IConfigurationService),fe(2,t.ILanguageFeaturesService),fe(3,n.ILanguageFeatureDebounceService)],r);class c{constructor(){this._onDidChange=new D.Emitter,this._computed=0,this._limited=!1}update(d,l){(d!==this._computed||l!==this._limited)&&(this._computed=d,this._limited=l,this._onDidChange.fire())}}e.DecoratorLimitReporter=c,(0,C.registerEditorContribution)(r.ID,r,1)}),define(ne[364],se([1,0,13,19,38,2,5,343,363,538,831,23,7]),function(Q,e,L,k,y,D,S,f,_,g,C,s,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.StandaloneColorPickerParticipant=e.StandaloneColorPickerHover=e.ColorHoverParticipant=e.ColorHover=void 0;class n{constructor(l,p,m,v){this.owner=l,this.range=p,this.model=m,this.provider=v,this.forceShowAtRange=!0}isValidForHoverAnchor(l){return l.type===1&&this.range.startColumn<=l.range.startColumn&&this.range.endColumn>=l.range.endColumn}}e.ColorHover=n;let t=class{constructor(l,p){this._editor=l,this._themeService=p,this.hoverOrdinal=2}computeSync(l,p){return[]}computeAsync(l,p,m){return L.AsyncIterableObject.fromPromise(this._computeAsync(l,p,m))}_computeAsync(l,p,m){return we(this,void 0,void 0,function*(){if(!this._editor.hasModel())return[];const v=_.ColorDetector.get(this._editor);if(!v)return[];for(const b of p){if(!v.isColorDecoration(b))continue;const w=v.getColorData(b.range.getStartPosition());if(w)return[yield h(this,this._editor.getModel(),w.colorInfo,w.provider)]}return[]})}renderHoverParts(l,p){return r(this,this._editor,this._themeService,p,l)}};e.ColorHoverParticipant=t,e.ColorHoverParticipant=t=ke([fe(1,s.IThemeService)],t);class a{constructor(l,p,m,v){this.owner=l,this.range=p,this.model=m,this.provider=v}}e.StandaloneColorPickerHover=a;let u=class{constructor(l,p){this._editor=l,this._themeService=p,this._color=null}createColorHover(l,p,m){return we(this,void 0,void 0,function*(){if(!this._editor.hasModel()||!_.ColorDetector.get(this._editor))return null;const b=yield(0,f.getColors)(m,this._editor.getModel(),k.CancellationToken.None);let w=null,E=null;for(const x of b){const T=x.colorInfo;S.Range.containsRange(T.range,l.range)&&(w=T,E=x.provider)}const I=w??l,M=E??p,P=!!w;return{colorHover:yield h(this,this._editor.getModel(),I,M),foundInEditor:P}})}updateEditorModel(l){return we(this,void 0,void 0,function*(){if(!this._editor.hasModel())return;const p=l.model;let m=new S.Range(l.range.startLineNumber,l.range.startColumn,l.range.endLineNumber,l.range.endColumn);this._color&&(yield o(this._editor.getModel(),p,this._color,m,l),m=c(this._editor,m,p))})}renderHoverParts(l,p){return r(this,this._editor,this._themeService,p,l)}set color(l){this._color=l}get color(){return this._color}};e.StandaloneColorPickerParticipant=u,e.StandaloneColorPickerParticipant=u=ke([fe(1,s.IThemeService)],u);function h(d,l,p,m){return we(this,void 0,void 0,function*(){const v=l.getValueInRange(p.range),{red:b,green:w,blue:E,alpha:I}=p.color,M=new y.RGBA(Math.round(b*255),Math.round(w*255),Math.round(E*255),I),P=new y.Color(M),x=yield(0,f.getColorPresentations)(l,p,m,k.CancellationToken.None),T=new g.ColorPickerModel(P,[],0);return T.colorPresentations=x||[],T.guessColorPresentation(P,v),d instanceof t?new n(d,S.Range.lift(p.range),T,m):new a(d,S.Range.lift(p.range),T,m)})}function r(d,l,p,m,v){if(m.length===0||!l.hasModel())return D.Disposable.None;if(v.setMinimumDimensions){const T=l.getOption(65)+8;v.setMinimumDimensions(new i.Dimension(302,T))}const b=new D.DisposableStore,w=m[0],E=l.getModel(),I=w.model,M=b.add(new C.ColorPickerWidget(v.fragment,I,l.getOption(140),p,d instanceof u));v.setColorPicker(M);let P=!1,x=new S.Range(w.range.startLineNumber,w.range.startColumn,w.range.endLineNumber,w.range.endColumn);if(d instanceof u){const T=m[0].model.color;d.color=T,o(E,I,T,x,w),b.add(I.onColorFlushed(A=>{d.color=A}))}else b.add(I.onColorFlushed(T=>we(this,void 0,void 0,function*(){yield o(E,I,T,x,w),P=!0,x=c(l,x,I,v)})));return b.add(I.onDidChangeColor(T=>{o(E,I,T,x,w)})),b.add(l.onDidChangeModelContent(T=>{P?P=!1:(v.hide(),l.focus())})),b}function c(d,l,p,m){let v,b;if(p.presentation.textEdit){v=[p.presentation.textEdit],b=new S.Range(p.presentation.textEdit.range.startLineNumber,p.presentation.textEdit.range.startColumn,p.presentation.textEdit.range.endLineNumber,p.presentation.textEdit.range.endColumn);const w=d.getModel()._setTrackedRange(null,b,3);d.pushUndoStop(),d.executeEdits("colorpicker",v),b=d.getModel()._getTrackedRange(w)||b}else v=[{range:l,text:p.presentation.label,forceMoveMarkers:!1}],b=l.setEndPosition(l.endLineNumber,l.startColumn+p.presentation.label.length),d.pushUndoStop(),d.executeEdits("colorpicker",v);return p.presentation.additionalTextEdits&&(v=[...p.presentation.additionalTextEdits],d.executeEdits("colorpicker",v),m&&m.hide()),d.pushUndoStop(),b}function o(d,l,p,m,v){return we(this,void 0,void 0,function*(){const b=yield(0,f.getColorPresentations)(d,{range:m,color:{red:p.rgba.r/255,green:p.rgba.g/255,blue:p.rgba.b/255,alpha:p.rgba.a}},v.provider,k.CancellationToken.None);l.colorPresentations=b||[]})}}),define(ne[880],se([1,0,2,17,16,12,5,24,40,540,440]),function(Q,e,L,k,y,D,S,f,_,g){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.DragAndDropController=void 0;function C(i){return k.isMacintosh?i.altKey:i.ctrlKey}class s extends L.Disposable{constructor(n){super(),this._editor=n,this._dndDecorationIds=this._editor.createDecorationsCollection(),this._register(this._editor.onMouseDown(t=>this._onEditorMouseDown(t))),this._register(this._editor.onMouseUp(t=>this._onEditorMouseUp(t))),this._register(this._editor.onMouseDrag(t=>this._onEditorMouseDrag(t))),this._register(this._editor.onMouseDrop(t=>this._onEditorMouseDrop(t))),this._register(this._editor.onMouseDropCanceled(()=>this._onEditorMouseDropCanceled())),this._register(this._editor.onKeyDown(t=>this.onEditorKeyDown(t))),this._register(this._editor.onKeyUp(t=>this.onEditorKeyUp(t))),this._register(this._editor.onDidBlurEditorWidget(()=>this.onEditorBlur())),this._register(this._editor.onDidBlurEditorText(()=>this.onEditorBlur())),this._mouseDown=!1,this._modifierPressed=!1,this._dragSelection=null}onEditorBlur(){this._removeDecoration(),this._dragSelection=null,this._mouseDown=!1,this._modifierPressed=!1}onEditorKeyDown(n){!this._editor.getOption(34)||this._editor.getOption(21)||(C(n)&&(this._modifierPressed=!0),this._mouseDown&&C(n)&&this._editor.updateOptions({mouseStyle:"copy"}))}onEditorKeyUp(n){!this._editor.getOption(34)||this._editor.getOption(21)||(C(n)&&(this._modifierPressed=!1),this._mouseDown&&n.keyCode===s.TRIGGER_KEY_VALUE&&this._editor.updateOptions({mouseStyle:"default"}))}_onEditorMouseDown(n){this._mouseDown=!0}_onEditorMouseUp(n){this._mouseDown=!1,this._editor.updateOptions({mouseStyle:"text"})}_onEditorMouseDrag(n){const t=n.target;if(this._dragSelection===null){const u=(this._editor.getSelections()||[]).filter(h=>t.position&&h.containsPosition(t.position));if(u.length===1)this._dragSelection=u[0];else return}C(n.event)?this._editor.updateOptions({mouseStyle:"copy"}):this._editor.updateOptions({mouseStyle:"default"}),t.position&&(this._dragSelection.containsPosition(t.position)?this._removeDecoration():this.showAt(t.position))}_onEditorMouseDropCanceled(){this._editor.updateOptions({mouseStyle:"text"}),this._removeDecoration(),this._dragSelection=null,this._mouseDown=!1}_onEditorMouseDrop(n){if(n.target&&(this._hitContent(n.target)||this._hitMargin(n.target))&&n.target.position){const t=new D.Position(n.target.position.lineNumber,n.target.position.column);if(this._dragSelection===null){let a=null;if(n.event.shiftKey){const u=this._editor.getSelection();if(u){const{selectionStartLineNumber:h,selectionStartColumn:r}=u;a=[new f.Selection(h,r,t.lineNumber,t.column)]}}else a=(this._editor.getSelections()||[]).map(u=>u.containsPosition(t)?new f.Selection(t.lineNumber,t.column,t.lineNumber,t.column):u);this._editor.setSelections(a||[],"mouse",3)}else(!this._dragSelection.containsPosition(t)||(C(n.event)||this._modifierPressed)&&(this._dragSelection.getEndPosition().equals(t)||this._dragSelection.getStartPosition().equals(t)))&&(this._editor.pushUndoStop(),this._editor.executeCommand(s.ID,new g.DragAndDropCommand(this._dragSelection,t,C(n.event)||this._modifierPressed)),this._editor.pushUndoStop())}this._editor.updateOptions({mouseStyle:"text"}),this._removeDecoration(),this._dragSelection=null,this._mouseDown=!1}showAt(n){this._dndDecorationIds.set([{range:new S.Range(n.lineNumber,n.column,n.lineNumber,n.column),options:s._DECORATION_OPTIONS}]),this._editor.revealPosition(n,1)}_removeDecoration(){this._dndDecorationIds.clear()}_hitContent(n){return n.type===6||n.type===7}_hitMargin(n){return n.type===2||n.type===3||n.type===4}dispose(){this._removeDecoration(),this._dragSelection=null,this._mouseDown=!1,this._modifierPressed=!1,super.dispose()}}e.DragAndDropController=s,s.ID="editor.contrib.dragAndDrop",s.TRIGGER_KEY_VALUE=k.isMacintosh?6:5,s._DECORATION_OPTIONS=_.ModelDecorationOptions.register({description:"dnd-target",className:"dnd-target"}),(0,y.registerEditorContribution)(s.ID,s,2)}),define(ne[881],se([1,0,5,48,40,31,23]),function(Q,e,L,k,y,D,S){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.FindDecorations=void 0;class f{constructor(g){this._editor=g,this._decorations=[],this._overviewRulerApproximateDecorations=[],this._findScopeDecorationIds=[],this._rangeHighlightDecorationId=null,this._highlightedDecorationId=null,this._startPosition=this._editor.getPosition()}dispose(){this._editor.removeDecorations(this._allDecorations()),this._decorations=[],this._overviewRulerApproximateDecorations=[],this._findScopeDecorationIds=[],this._rangeHighlightDecorationId=null,this._highlightedDecorationId=null}reset(){this._decorations=[],this._overviewRulerApproximateDecorations=[],this._findScopeDecorationIds=[],this._rangeHighlightDecorationId=null,this._highlightedDecorationId=null}getCount(){return this._decorations.length}getFindScope(){return this._findScopeDecorationIds[0]?this._editor.getModel().getDecorationRange(this._findScopeDecorationIds[0]):null}getFindScopes(){if(this._findScopeDecorationIds.length){const g=this._findScopeDecorationIds.map(C=>this._editor.getModel().getDecorationRange(C)).filter(C=>!!C);if(g.length)return g}return null}getStartPosition(){return this._startPosition}setStartPosition(g){this._startPosition=g,this.setCurrentFindMatch(null)}_getDecorationIndex(g){const C=this._decorations.indexOf(g);return C>=0?C+1:1}getDecorationRangeAt(g){const C=g<this._decorations.length?this._decorations[g]:null;return C?this._editor.getModel().getDecorationRange(C):null}getCurrentMatchesPosition(g){const C=this._editor.getModel().getDecorationsInRange(g);for(const s of C){const i=s.options;if(i===f._FIND_MATCH_DECORATION||i===f._CURRENT_FIND_MATCH_DECORATION)return this._getDecorationIndex(s.id)}return 0}setCurrentFindMatch(g){let C=null,s=0;if(g)for(let i=0,n=this._decorations.length;i<n;i++){const t=this._editor.getModel().getDecorationRange(this._decorations[i]);if(g.equalsRange(t)){C=this._decorations[i],s=i+1;break}}return(this._highlightedDecorationId!==null||C!==null)&&this._editor.changeDecorations(i=>{if(this._highlightedDecorationId!==null&&(i.changeDecorationOptions(this._highlightedDecorationId,f._FIND_MATCH_DECORATION),this._highlightedDecorationId=null),C!==null&&(this._highlightedDecorationId=C,i.changeDecorationOptions(this._highlightedDecorationId,f._CURRENT_FIND_MATCH_DECORATION)),this._rangeHighlightDecorationId!==null&&(i.removeDecoration(this._rangeHighlightDecorationId),this._rangeHighlightDecorationId=null),C!==null){let n=this._editor.getModel().getDecorationRange(C);if(n.startLineNumber!==n.endLineNumber&&n.endColumn===1){const t=n.endLineNumber-1,a=this._editor.getModel().getLineMaxColumn(t);n=new L.Range(n.startLineNumber,n.startColumn,t,a)}this._rangeHighlightDecorationId=i.addDecoration(n,f._RANGE_HIGHLIGHT_DECORATION)}}),s}set(g,C){this._editor.changeDecorations(s=>{let i=f._FIND_MATCH_DECORATION;const n=[];if(g.length>1e3){i=f._FIND_MATCH_NO_OVERVIEW_DECORATION;const a=this._editor.getModel().getLineCount(),h=this._editor.getLayoutInfo().height/a,r=Math.max(2,Math.ceil(3/h));let c=g[0].range.startLineNumber,o=g[0].range.endLineNumber;for(let d=1,l=g.length;d<l;d++){const p=g[d].range;o+r>=p.startLineNumber?p.endLineNumber>o&&(o=p.endLineNumber):(n.push({range:new L.Range(c,1,o,1),options:f._FIND_MATCH_ONLY_OVERVIEW_DECORATION}),c=p.startLineNumber,o=p.endLineNumber)}n.push({range:new L.Range(c,1,o,1),options:f._FIND_MATCH_ONLY_OVERVIEW_DECORATION})}const t=new Array(g.length);for(let a=0,u=g.length;a<u;a++)t[a]={range:g[a].range,options:i};this._decorations=s.deltaDecorations(this._decorations,t),this._overviewRulerApproximateDecorations=s.deltaDecorations(this._overviewRulerApproximateDecorations,n),this._rangeHighlightDecorationId&&(s.removeDecoration(this._rangeHighlightDecorationId),this._rangeHighlightDecorationId=null),this._findScopeDecorationIds.length&&(this._findScopeDecorationIds.forEach(a=>s.removeDecoration(a)),this._findScopeDecorationIds=[]),C?.length&&(this._findScopeDecorationIds=C.map(a=>s.addDecoration(a,f._FIND_SCOPE_DECORATION)))})}matchBeforePosition(g){if(this._decorations.length===0)return null;for(let C=this._decorations.length-1;C>=0;C--){const s=this._decorations[C],i=this._editor.getModel().getDecorationRange(s);if(!(!i||i.endLineNumber>g.lineNumber)){if(i.endLineNumber<g.lineNumber)return i;if(!(i.endColumn>g.column))return i}}return this._editor.getModel().getDecorationRange(this._decorations[this._decorations.length-1])}matchAfterPosition(g){if(this._decorations.length===0)return null;for(let C=0,s=this._decorations.length;C<s;C++){const i=this._decorations[C],n=this._editor.getModel().getDecorationRange(i);if(!(!n||n.startLineNumber<g.lineNumber)){if(n.startLineNumber>g.lineNumber)return n;if(!(n.startColumn<g.column))return n}}return this._editor.getModel().getDecorationRange(this._decorations[0])}_allDecorations(){let g=[];return g=g.concat(this._decorations),g=g.concat(this._overviewRulerApproximateDecorations),this._findScopeDecorationIds.length&&g.push(...this._findScopeDecorationIds),this._rangeHighlightDecorationId&&g.push(this._rangeHighlightDecorationId),g}}e.FindDecorations=f,f._CURRENT_FIND_MATCH_DECORATION=y.ModelDecorationOptions.register({description:"current-find-match",stickiness:1,zIndex:13,className:"currentFindMatch",showIfCollapsed:!0,overviewRuler:{color:(0,S.themeColorFromId)(D.overviewRulerFindMatchForeground),position:k.OverviewRulerLane.Center},minimap:{color:(0,S.themeColorFromId)(D.minimapFindMatch),position:k.MinimapPosition.Inline}}),f._FIND_MATCH_DECORATION=y.ModelDecorationOptions.register({description:"find-match",stickiness:1,zIndex:10,className:"findMatch",showIfCollapsed:!0,overviewRuler:{color:(0,S.themeColorFromId)(D.overviewRulerFindMatchForeground),position:k.OverviewRulerLane.Center},minimap:{color:(0,S.themeColorFromId)(D.minimapFindMatch),position:k.MinimapPosition.Inline}}),f._FIND_MATCH_NO_OVERVIEW_DECORATION=y.ModelDecorationOptions.register({description:"find-match-no-overview",stickiness:1,className:"findMatch",showIfCollapsed:!0}),f._FIND_MATCH_ONLY_OVERVIEW_DECORATION=y.ModelDecorationOptions.register({description:"find-match-only-overview",stickiness:1,overviewRuler:{color:(0,S.themeColorFromId)(D.overviewRulerFindMatchForeground),position:k.OverviewRulerLane.Center}}),f._RANGE_HIGHLIGHT_DECORATION=y.ModelDecorationOptions.register({description:"find-range-highlight",stickiness:1,className:"rangeHighlight",isWholeLine:!0}),f._FIND_SCOPE_DECORATION=y.ModelDecorationOptions.register({description:"find-scope",className:"findScope",isWholeLine:!0})}),define(ne[193],se([1,0,14,13,2,123,12,5,24,181,881,541,542,15]),function(Q,e,L,k,y,D,S,f,_,g,C,s,i,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.FindModelBoundToEditorModel=e.MATCHES_LIMIT=e.FIND_IDS=e.TogglePreserveCaseKeybinding=e.ToggleSearchScopeKeybinding=e.ToggleRegexKeybinding=e.ToggleWholeWordKeybinding=e.ToggleCaseSensitiveKeybinding=e.CONTEXT_REPLACE_INPUT_FOCUSED=e.CONTEXT_FIND_INPUT_FOCUSED=e.CONTEXT_FIND_WIDGET_NOT_VISIBLE=e.CONTEXT_FIND_WIDGET_VISIBLE=void 0,e.CONTEXT_FIND_WIDGET_VISIBLE=new n.RawContextKey("findWidgetVisible",!1),e.CONTEXT_FIND_WIDGET_NOT_VISIBLE=e.CONTEXT_FIND_WIDGET_VISIBLE.toNegated(),e.CONTEXT_FIND_INPUT_FOCUSED=new n.RawContextKey("findInputFocussed",!1),e.CONTEXT_REPLACE_INPUT_FOCUSED=new n.RawContextKey("replaceInputFocussed",!1),e.ToggleCaseSensitiveKeybinding={primary:545,mac:{primary:2593}},e.ToggleWholeWordKeybinding={primary:565,mac:{primary:2613}},e.ToggleRegexKeybinding={primary:560,mac:{primary:2608}},e.ToggleSearchScopeKeybinding={primary:554,mac:{primary:2602}},e.TogglePreserveCaseKeybinding={primary:558,mac:{primary:2606}},e.FIND_IDS={StartFindAction:"actions.find",StartFindWithSelection:"actions.findWithSelection",StartFindWithArgs:"editor.actions.findWithArgs",NextMatchFindAction:"editor.action.nextMatchFindAction",PreviousMatchFindAction:"editor.action.previousMatchFindAction",GoToMatchFindAction:"editor.action.goToMatchFindAction",NextSelectionMatchFindAction:"editor.action.nextSelectionMatchFindAction",PreviousSelectionMatchFindAction:"editor.action.previousSelectionMatchFindAction",StartFindReplaceAction:"editor.action.startFindReplaceAction",CloseFindWidgetCommand:"closeFindWidget",ToggleCaseSensitiveCommand:"toggleFindCaseSensitive",ToggleWholeWordCommand:"toggleFindWholeWord",ToggleRegexCommand:"toggleFindRegex",ToggleSearchScopeCommand:"toggleFindInSelection",TogglePreserveCaseCommand:"togglePreserveCase",ReplaceOneAction:"editor.action.replaceOne",ReplaceAllAction:"editor.action.replaceAll",SelectAllMatchesAction:"editor.action.selectAllMatches"},e.MATCHES_LIMIT=19999;const t=240;class a{constructor(h,r){this._toDispose=new y.DisposableStore,this._editor=h,this._state=r,this._isDisposed=!1,this._startSearchingTimer=new k.TimeoutTimer,this._decorations=new C.FindDecorations(h),this._toDispose.add(this._decorations),this._updateDecorationsScheduler=new k.RunOnceScheduler(()=>this.research(!1),100),this._toDispose.add(this._updateDecorationsScheduler),this._toDispose.add(this._editor.onDidChangeCursorPosition(c=>{(c.reason===3||c.reason===5||c.reason===6)&&this._decorations.setStartPosition(this._editor.getPosition())})),this._ignoreModelContentChanged=!1,this._toDispose.add(this._editor.onDidChangeModelContent(c=>{this._ignoreModelContentChanged||(c.isFlush&&this._decorations.reset(),this._decorations.setStartPosition(this._editor.getPosition()),this._updateDecorationsScheduler.schedule())})),this._toDispose.add(this._state.onFindReplaceStateChange(c=>this._onStateChanged(c))),this.research(!1,this._state.searchScope)}dispose(){this._isDisposed=!0,(0,y.dispose)(this._startSearchingTimer),this._toDispose.dispose()}_onStateChanged(h){this._isDisposed||this._editor.hasModel()&&(h.searchString||h.isReplaceRevealed||h.isRegex||h.wholeWord||h.matchCase||h.searchScope)&&(this._editor.getModel().isTooLargeForSyncing()?(this._startSearchingTimer.cancel(),this._startSearchingTimer.setIfNotSet(()=>{h.searchScope?this.research(h.moveCursor,this._state.searchScope):this.research(h.moveCursor)},t)):h.searchScope?this.research(h.moveCursor,this._state.searchScope):this.research(h.moveCursor))}static _getSearchRange(h,r){return r||h.getFullModelRange()}research(h,r){let c=null;typeof r<"u"?r!==null&&(Array.isArray(r)?c=r:c=[r]):c=this._decorations.getFindScopes(),c!==null&&(c=c.map(p=>{if(p.startLineNumber!==p.endLineNumber){let m=p.endLineNumber;return p.endColumn===1&&(m=m-1),new f.Range(p.startLineNumber,1,m,this._editor.getModel().getLineMaxColumn(m))}return p}));const o=this._findMatches(c,!1,e.MATCHES_LIMIT);this._decorations.set(o,c);const d=this._editor.getSelection();let l=this._decorations.getCurrentMatchesPosition(d);if(l===0&&o.length>0){const p=(0,L.findFirstInSorted)(o.map(m=>m.range),m=>f.Range.compareRangesUsingStarts(m,d)>=0);l=p>0?p-1+1:l}this._state.changeMatchInfo(l,this._decorations.getCount(),void 0),h&&this._editor.getOption(40).cursorMoveOnType&&this._moveToNextMatch(this._decorations.getStartPosition())}_hasMatches(){return this._state.matchesCount>0}_cannotFind(){if(!this._hasMatches()){const h=this._decorations.getFindScope();return h&&this._editor.revealRangeInCenterIfOutsideViewport(h,0),!0}return!1}_setCurrentFindMatch(h){const r=this._decorations.setCurrentFindMatch(h);this._state.changeMatchInfo(r,this._decorations.getCount(),h),this._editor.setSelection(h),this._editor.revealRangeInCenterIfOutsideViewport(h,0)}_prevSearchPosition(h){const r=this._state.isRegex&&(this._state.searchString.indexOf("^")>=0||this._state.searchString.indexOf("$")>=0);let{lineNumber:c,column:o}=h;const d=this._editor.getModel();return r||o===1?(c===1?c=d.getLineCount():c--,o=d.getLineMaxColumn(c)):o--,new S.Position(c,o)}_moveToPrevMatch(h,r=!1){if(!this._state.canNavigateBack()){const b=this._decorations.matchAfterPosition(h);b&&this._setCurrentFindMatch(b);return}if(this._decorations.getCount()<e.MATCHES_LIMIT){let b=this._decorations.matchBeforePosition(h);b&&b.isEmpty()&&b.getStartPosition().equals(h)&&(h=this._prevSearchPosition(h),b=this._decorations.matchBeforePosition(h)),b&&this._setCurrentFindMatch(b);return}if(this._cannotFind())return;const c=this._decorations.getFindScope(),o=a._getSearchRange(this._editor.getModel(),c);o.getEndPosition().isBefore(h)&&(h=o.getEndPosition()),h.isBefore(o.getStartPosition())&&(h=o.getEndPosition());const{lineNumber:d,column:l}=h,p=this._editor.getModel();let m=new S.Position(d,l),v=p.findPreviousMatch(this._state.searchString,m,this._state.isRegex,this._state.matchCase,this._state.wholeWord?this._editor.getOption(128):null,!1);if(v&&v.range.isEmpty()&&v.range.getStartPosition().equals(m)&&(m=this._prevSearchPosition(m),v=p.findPreviousMatch(this._state.searchString,m,this._state.isRegex,this._state.matchCase,this._state.wholeWord?this._editor.getOption(128):null,!1)),!!v){if(!r&&!o.containsRange(v.range))return this._moveToPrevMatch(v.range.getStartPosition(),!0);this._setCurrentFindMatch(v.range)}}moveToPrevMatch(){this._moveToPrevMatch(this._editor.getSelection().getStartPosition())}_nextSearchPosition(h){const r=this._state.isRegex&&(this._state.searchString.indexOf("^")>=0||this._state.searchString.indexOf("$")>=0);let{lineNumber:c,column:o}=h;const d=this._editor.getModel();return r||o===d.getLineMaxColumn(c)?(c===d.getLineCount()?c=1:c++,o=1):o++,new S.Position(c,o)}_moveToNextMatch(h){if(!this._state.canNavigateForward()){const c=this._decorations.matchBeforePosition(h);c&&this._setCurrentFindMatch(c);return}if(this._decorations.getCount()<e.MATCHES_LIMIT){let c=this._decorations.matchAfterPosition(h);c&&c.isEmpty()&&c.getStartPosition().equals(h)&&(h=this._nextSearchPosition(h),c=this._decorations.matchAfterPosition(h)),c&&this._setCurrentFindMatch(c);return}const r=this._getNextMatch(h,!1,!0);r&&this._setCurrentFindMatch(r.range)}_getNextMatch(h,r,c,o=!1){if(this._cannotFind())return null;const d=this._decorations.getFindScope(),l=a._getSearchRange(this._editor.getModel(),d);l.getEndPosition().isBefore(h)&&(h=l.getStartPosition()),h.isBefore(l.getStartPosition())&&(h=l.getStartPosition());const{lineNumber:p,column:m}=h,v=this._editor.getModel();let b=new S.Position(p,m),w=v.findNextMatch(this._state.searchString,b,this._state.isRegex,this._state.matchCase,this._state.wholeWord?this._editor.getOption(128):null,r);return c&&w&&w.range.isEmpty()&&w.range.getStartPosition().equals(b)&&(b=this._nextSearchPosition(b),w=v.findNextMatch(this._state.searchString,b,this._state.isRegex,this._state.matchCase,this._state.wholeWord?this._editor.getOption(128):null,r)),w?!o&&!l.containsRange(w.range)?this._getNextMatch(w.range.getEndPosition(),r,c,!0):w:null}moveToNextMatch(){this._moveToNextMatch(this._editor.getSelection().getEndPosition())}_moveToMatch(h){const r=this._decorations.getDecorationRangeAt(h);r&&this._setCurrentFindMatch(r)}moveToMatch(h){this._moveToMatch(h)}_getReplacePattern(){return this._state.isRegex?(0,i.parseReplaceString)(this._state.replaceString):i.ReplacePattern.fromStaticValue(this._state.replaceString)}replace(){if(!this._hasMatches())return;const h=this._getReplacePattern(),r=this._editor.getSelection(),c=this._getNextMatch(r.getStartPosition(),!0,!1);if(c)if(r.equalsRange(c.range)){const o=h.buildReplaceString(c.matches,this._state.preserveCase),d=new D.ReplaceCommand(r,o);this._executeEditorCommand("replace",d),this._decorations.setStartPosition(new S.Position(r.startLineNumber,r.startColumn+o.length)),this.research(!0)}else this._decorations.setStartPosition(this._editor.getPosition()),this._setCurrentFindMatch(c.range)}_findMatches(h,r,c){const o=(h||[null]).map(d=>a._getSearchRange(this._editor.getModel(),d));return this._editor.getModel().findMatches(this._state.searchString,o,this._state.isRegex,this._state.matchCase,this._state.wholeWord?this._editor.getOption(128):null,r,c)}replaceAll(){if(!this._hasMatches())return;const h=this._decorations.getFindScopes();h===null&&this._state.matchesCount>=e.MATCHES_LIMIT?this._largeReplaceAll():this._regularReplaceAll(h),this.research(!1)}_largeReplaceAll(){const r=new g.SearchParams(this._state.searchString,this._state.isRegex,this._state.matchCase,this._state.wholeWord?this._editor.getOption(128):null).parseSearchRequest();if(!r)return;let c=r.regex;if(!c.multiline){let w="mu";c.ignoreCase&&(w+="i"),c.global&&(w+="g"),c=new RegExp(c.source,w)}const o=this._editor.getModel(),d=o.getValue(1),l=o.getFullModelRange(),p=this._getReplacePattern();let m;const v=this._state.preserveCase;p.hasReplacementPatterns||v?m=d.replace(c,function(){return p.buildReplaceString(arguments,v)}):m=d.replace(c,p.buildReplaceString(null,v));const b=new D.ReplaceCommandThatPreservesSelection(l,m,this._editor.getSelection());this._executeEditorCommand("replaceAll",b)}_regularReplaceAll(h){const r=this._getReplacePattern(),c=this._findMatches(h,r.hasReplacementPatterns||this._state.preserveCase,1073741824),o=[];for(let l=0,p=c.length;l<p;l++)o[l]=r.buildReplaceString(c[l].matches,this._state.preserveCase);const d=new s.ReplaceAllCommand(this._editor.getSelection(),c.map(l=>l.range),o);this._executeEditorCommand("replaceAll",d)}selectAllMatches(){if(!this._hasMatches())return;const h=this._decorations.getFindScopes();let c=this._findMatches(h,!1,1073741824).map(d=>new _.Selection(d.range.startLineNumber,d.range.startColumn,d.range.endLineNumber,d.range.endColumn));const o=this._editor.getSelection();for(let d=0,l=c.length;d<l;d++)if(c[d].equalsRange(o)){c=[o].concat(c.slice(0,d)).concat(c.slice(d+1));break}this._editor.setSelections(c)}_executeEditorCommand(h,r){try{this._ignoreModelContentChanged=!0,this._editor.pushUndoStop(),this._editor.executeCommand(h,r),this._editor.pushUndoStop()}finally{this._ignoreModelContentChanged=!1}}}e.FindModelBoundToEditorModel=a}),define(ne[882],se([1,0,7,312,83,13,193,31,442]),function(Q,e,L,k,y,D,S,f){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.FindOptionsWidget=void 0;class _ extends y.Widget{constructor(C,s,i){super(),this._hideSoon=this._register(new D.RunOnceScheduler(()=>this._hide(),2e3)),this._isVisible=!1,this._editor=C,this._state=s,this._keybindingService=i,this._domNode=document.createElement("div"),this._domNode.className="findOptionsWidget",this._domNode.style.display="none",this._domNode.style.top="10px",this._domNode.style.zIndex="12",this._domNode.setAttribute("role","presentation"),this._domNode.setAttribute("aria-hidden","true");const n={inputActiveOptionBorder:(0,f.asCssVariable)(f.inputActiveOptionBorder),inputActiveOptionForeground:(0,f.asCssVariable)(f.inputActiveOptionForeground),inputActiveOptionBackground:(0,f.asCssVariable)(f.inputActiveOptionBackground)};this.caseSensitive=this._register(new k.CaseSensitiveToggle(Object.assign({appendTitle:this._keybindingLabelFor(S.FIND_IDS.ToggleCaseSensitiveCommand),isChecked:this._state.matchCase},n))),this._domNode.appendChild(this.caseSensitive.domNode),this._register(this.caseSensitive.onChange(()=>{this._state.change({matchCase:this.caseSensitive.checked},!1)})),this.wholeWords=this._register(new k.WholeWordsToggle(Object.assign({appendTitle:this._keybindingLabelFor(S.FIND_IDS.ToggleWholeWordCommand),isChecked:this._state.wholeWord},n))),this._domNode.appendChild(this.wholeWords.domNode),this._register(this.wholeWords.onChange(()=>{this._state.change({wholeWord:this.wholeWords.checked},!1)})),this.regex=this._register(new k.RegexToggle(Object.assign({appendTitle:this._keybindingLabelFor(S.FIND_IDS.ToggleRegexCommand),isChecked:this._state.isRegex},n))),this._domNode.appendChild(this.regex.domNode),this._register(this.regex.onChange(()=>{this._state.change({isRegex:this.regex.checked},!1)})),this._editor.addOverlayWidget(this),this._register(this._state.onFindReplaceStateChange(t=>{let a=!1;t.isRegex&&(this.regex.checked=this._state.isRegex,a=!0),t.wholeWord&&(this.wholeWords.checked=this._state.wholeWord,a=!0),t.matchCase&&(this.caseSensitive.checked=this._state.matchCase,a=!0),!this._state.isRevealed&&a&&this._revealTemporarily()})),this._register(L.addDisposableListener(this._domNode,L.EventType.MOUSE_LEAVE,t=>this._onMouseLeave())),this._register(L.addDisposableListener(this._domNode,"mouseover",t=>this._onMouseOver()))}_keybindingLabelFor(C){const s=this._keybindingService.lookupKeybinding(C);return s?` (${s.getLabel()})`:""}dispose(){this._editor.removeOverlayWidget(this),super.dispose()}getId(){return _.ID}getDomNode(){return this._domNode}getPosition(){return{preference:0}}highlightFindOptions(){this._revealTemporarily()}_revealTemporarily(){this._show(),this._hideSoon.schedule()}_onMouseLeave(){this._hideSoon.schedule()}_onMouseOver(){this._hideSoon.cancel()}_show(){this._isVisible||(this._isVisible=!0,this._domNode.style.display="block")}_hide(){this._isVisible&&(this._isVisible=!1,this._domNode.style.display="none")}}e.FindOptionsWidget=_,_.ID="editor.contrib.findOptionsWidget"}),define(ne[883],se([1,0,6,2,5,193]),function(Q,e,L,k,y,D){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.FindReplaceState=void 0;function S(_,g){return _===1?!0:_===2?!1:g}class f extends k.Disposable{get searchString(){return this._searchString}get replaceString(){return this._replaceString}get isRevealed(){return this._isRevealed}get isReplaceRevealed(){return this._isReplaceRevealed}get isRegex(){return S(this._isRegexOverride,this._isRegex)}get wholeWord(){return S(this._wholeWordOverride,this._wholeWord)}get matchCase(){return S(this._matchCaseOverride,this._matchCase)}get preserveCase(){return S(this._preserveCaseOverride,this._preserveCase)}get actualIsRegex(){return this._isRegex}get actualWholeWord(){return this._wholeWord}get actualMatchCase(){return this._matchCase}get actualPreserveCase(){return this._preserveCase}get searchScope(){return this._searchScope}get matchesPosition(){return this._matchesPosition}get matchesCount(){return this._matchesCount}get currentMatch(){return this._currentMatch}constructor(){super(),this._onFindReplaceStateChange=this._register(new L.Emitter),this.onFindReplaceStateChange=this._onFindReplaceStateChange.event,this._searchString="",this._replaceString="",this._isRevealed=!1,this._isReplaceRevealed=!1,this._isRegex=!1,this._isRegexOverride=0,this._wholeWord=!1,this._wholeWordOverride=0,this._matchCase=!1,this._matchCaseOverride=0,this._preserveCase=!1,this._preserveCaseOverride=0,this._searchScope=null,this._matchesPosition=0,this._matchesCount=0,this._currentMatch=null,this._loop=!0,this._isSearching=!1,this._filters=null}changeMatchInfo(g,C,s){const i={moveCursor:!1,updateHistory:!1,searchString:!1,replaceString:!1,isRevealed:!1,isReplaceRevealed:!1,isRegex:!1,wholeWord:!1,matchCase:!1,preserveCase:!1,searchScope:!1,matchesPosition:!1,matchesCount:!1,currentMatch:!1,loop:!1,isSearching:!1,filters:!1};let n=!1;C===0&&(g=0),g>C&&(g=C),this._matchesPosition!==g&&(this._matchesPosition=g,i.matchesPosition=!0,n=!0),this._matchesCount!==C&&(this._matchesCount=C,i.matchesCount=!0,n=!0),typeof s<"u"&&(y.Range.equalsRange(this._currentMatch,s)||(this._currentMatch=s,i.currentMatch=!0,n=!0)),n&&this._onFindReplaceStateChange.fire(i)}change(g,C,s=!0){var i;const n={moveCursor:C,updateHistory:s,searchString:!1,replaceString:!1,isRevealed:!1,isReplaceRevealed:!1,isRegex:!1,wholeWord:!1,matchCase:!1,preserveCase:!1,searchScope:!1,matchesPosition:!1,matchesCount:!1,currentMatch:!1,loop:!1,isSearching:!1,filters:!1};let t=!1;const a=this.isRegex,u=this.wholeWord,h=this.matchCase,r=this.preserveCase;typeof g.searchString<"u"&&this._searchString!==g.searchString&&(this._searchString=g.searchString,n.searchString=!0,t=!0),typeof g.replaceString<"u"&&this._replaceString!==g.replaceString&&(this._replaceString=g.replaceString,n.replaceString=!0,t=!0),typeof g.isRevealed<"u"&&this._isRevealed!==g.isRevealed&&(this._isRevealed=g.isRevealed,n.isRevealed=!0,t=!0),typeof g.isReplaceRevealed<"u"&&this._isReplaceRevealed!==g.isReplaceRevealed&&(this._isReplaceRevealed=g.isReplaceRevealed,n.isReplaceRevealed=!0,t=!0),typeof g.isRegex<"u"&&(this._isRegex=g.isRegex),typeof g.wholeWord<"u"&&(this._wholeWord=g.wholeWord),typeof g.matchCase<"u"&&(this._matchCase=g.matchCase),typeof g.preserveCase<"u"&&(this._preserveCase=g.preserveCase),typeof g.searchScope<"u"&&(!((i=g.searchScope)===null||i===void 0)&&i.every(c=>{var o;return(o=this._searchScope)===null||o===void 0?void 0:o.some(d=>!y.Range.equalsRange(d,c))})||(this._searchScope=g.searchScope,n.searchScope=!0,t=!0)),typeof g.loop<"u"&&this._loop!==g.loop&&(this._loop=g.loop,n.loop=!0,t=!0),typeof g.isSearching<"u"&&this._isSearching!==g.isSearching&&(this._isSearching=g.isSearching,n.isSearching=!0,t=!0),typeof g.filters<"u"&&(this._filters?this._filters.update(g.filters):this._filters=g.filters,n.filters=!0,t=!0),this._isRegexOverride=typeof g.isRegexOverride<"u"?g.isRegexOverride:0,this._wholeWordOverride=typeof g.wholeWordOverride<"u"?g.wholeWordOverride:0,this._matchCaseOverride=typeof g.matchCaseOverride<"u"?g.matchCaseOverride:0,this._preserveCaseOverride=typeof g.preserveCaseOverride<"u"?g.preserveCaseOverride:0,a!==this.isRegex&&(t=!0,n.isRegex=!0),u!==this.wholeWord&&(t=!0,n.wholeWord=!0),h!==this.matchCase&&(t=!0,n.matchCase=!0),r!==this.preserveCase&&(t=!0,n.preserveCase=!0),t&&this._onFindReplaceStateChange.fire(n)}canNavigateBack(){return this.canNavigateInLoop()||this.matchesPosition!==1}canNavigateForward(){return this.canNavigateInLoop()||this.matchesPosition<this.matchesCount}canNavigateInLoop(){return this._loop||this.matchesCount>=D.MATCHES_LIMIT}}e.FindReplaceState=f}),define(ne[884],se([1,0,7,49,153,130,83,13,25,9,2,17,11,5,193,656,346,745,31,62,23,26,88,20,105,443]),function(Q,e,L,k,y,D,S,f,_,g,C,s,i,n,t,a,u,h,r,c,o,d,l,p,m){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.SimpleButton=e.FindWidget=e.FindWidgetViewZone=e.NLS_NO_RESULTS=e.NLS_MATCHES_LOCATION=e.findNextMatchIcon=e.findPreviousMatchIcon=e.findReplaceAllIcon=e.findReplaceIcon=void 0;const v=(0,c.registerIcon)("find-selection",_.Codicon.selection,a.localize(0,null)),b=(0,c.registerIcon)("find-collapsed",_.Codicon.chevronRight,a.localize(1,null)),w=(0,c.registerIcon)("find-expanded",_.Codicon.chevronDown,a.localize(2,null));e.findReplaceIcon=(0,c.registerIcon)("find-replace",_.Codicon.replace,a.localize(3,null)),e.findReplaceAllIcon=(0,c.registerIcon)("find-replace-all",_.Codicon.replaceAll,a.localize(4,null)),e.findPreviousMatchIcon=(0,c.registerIcon)("find-previous-match",_.Codicon.arrowUp,a.localize(5,null)),e.findNextMatchIcon=(0,c.registerIcon)("find-next-match",_.Codicon.arrowDown,a.localize(6,null));const E=a.localize(7,null),I=a.localize(8,null),M=a.localize(9,null),P=a.localize(10,null),x=a.localize(11,null),T=a.localize(12,null),A=a.localize(13,null),N=a.localize(14,null),F=a.localize(15,null),O=a.localize(16,null),W=a.localize(17,null),U=a.localize(18,null),j=a.localize(19,null,t.MATCHES_LIMIT);e.NLS_MATCHES_LOCATION=a.localize(20,null),e.NLS_NO_RESULTS=a.localize(21,null);const R=419,G=275-54;let Z=69;const J=33,X="ctrlEnterReplaceAll.windows.donotask",H=s.isMacintosh?256:2048;class B{constructor(de){this.afterLineNumber=de,this.heightInPx=J,this.suppressMouseDown=!1,this.domNode=document.createElement("div"),this.domNode.className="dock-find-viewzone"}}e.FindWidgetViewZone=B;function V(ce,de,he){const ue=!!de.match(/\n/);if(he&&ue&&he.selectionStart>0){ce.stopPropagation();return}}function Y(ce,de,he){const ue=!!de.match(/\n/);if(he&&ue&&he.selectionEnd<he.value.length){ce.stopPropagation();return}}class ie extends S.Widget{constructor(de,he,ue,te,q,z,ee,$,re){super(),this._cachedHeight=null,this._revealTimeouts=[],this._codeEditor=de,this._controller=he,this._state=ue,this._contextViewProvider=te,this._keybindingService=q,this._contextKeyService=z,this._storageService=$,this._notificationService=re,this._ctrlEnterReplaceAllWarningPrompted=!!$.getBoolean(X,0),this._isVisible=!1,this._isReplaceVisible=!1,this._ignoreChangeEvent=!1,this._updateHistoryDelayer=new f.Delayer(500),this._register((0,C.toDisposable)(()=>this._updateHistoryDelayer.cancel())),this._register(this._state.onFindReplaceStateChange(oe=>this._onStateChanged(oe))),this._buildDomNode(),this._updateButtons(),this._tryUpdateWidgetWidth(),this._findInput.inputBox.layout(),this._register(this._codeEditor.onDidChangeConfiguration(oe=>{if(oe.hasChanged(89)&&(this._codeEditor.getOption(89)&&this._state.change({isReplaceRevealed:!1},!1),this._updateButtons()),oe.hasChanged(142)&&this._tryUpdateWidgetWidth(),oe.hasChanged(2)&&this.updateAccessibilitySupport(),oe.hasChanged(40)){const ge=this._codeEditor.getOption(40).loop;this._state.change({loop:ge},!1);const ve=this._codeEditor.getOption(40).addExtraSpaceOnTop;ve&&!this._viewZone&&(this._viewZone=new B(0),this._showViewZone()),!ve&&this._viewZone&&this._removeViewZone()}})),this.updateAccessibilitySupport(),this._register(this._codeEditor.onDidChangeCursorSelection(()=>{this._isVisible&&this._updateToggleSelectionFindButton()})),this._register(this._codeEditor.onDidFocusEditorWidget(()=>we(this,void 0,void 0,function*(){if(this._isVisible){const oe=yield this._controller.getGlobalBufferTerm();oe&&oe!==this._state.searchString&&(this._state.change({searchString:oe},!1),this._findInput.select())}}))),this._findInputFocused=t.CONTEXT_FIND_INPUT_FOCUSED.bindTo(z),this._findFocusTracker=this._register(L.trackFocus(this._findInput.inputBox.inputElement)),this._register(this._findFocusTracker.onDidFocus(()=>{this._findInputFocused.set(!0),this._updateSearchScope()})),this._register(this._findFocusTracker.onDidBlur(()=>{this._findInputFocused.set(!1)})),this._replaceInputFocused=t.CONTEXT_REPLACE_INPUT_FOCUSED.bindTo(z),this._replaceFocusTracker=this._register(L.trackFocus(this._replaceInput.inputBox.inputElement)),this._register(this._replaceFocusTracker.onDidFocus(()=>{this._replaceInputFocused.set(!0),this._updateSearchScope()})),this._register(this._replaceFocusTracker.onDidBlur(()=>{this._replaceInputFocused.set(!1)})),this._codeEditor.addOverlayWidget(this),this._codeEditor.getOption(40).addExtraSpaceOnTop&&(this._viewZone=new B(0)),this._register(this._codeEditor.onDidChangeModel(()=>{this._isVisible&&(this._viewZoneId=void 0)})),this._register(this._codeEditor.onDidScrollChange(oe=>{if(oe.scrollTopChanged){this._layoutViewZone();return}setTimeout(()=>{this._layoutViewZone()},0)}))}getId(){return ie.ID}getDomNode(){return this._domNode}getPosition(){return this._isVisible?{preference:0}:null}_onStateChanged(de){if(de.searchString){try{this._ignoreChangeEvent=!0,this._findInput.setValue(this._state.searchString)}finally{this._ignoreChangeEvent=!1}this._updateButtons()}if(de.replaceString&&(this._replaceInput.inputBox.value=this._state.replaceString),de.isRevealed&&(this._state.isRevealed?this._reveal():this._hide(!0)),de.isReplaceRevealed&&(this._state.isReplaceRevealed?!this._codeEditor.getOption(89)&&!this._isReplaceVisible&&(this._isReplaceVisible=!0,this._replaceInput.width=L.getTotalWidth(this._findInput.domNode),this._updateButtons(),this._replaceInput.inputBox.layout()):this._isReplaceVisible&&(this._isReplaceVisible=!1,this._updateButtons())),(de.isRevealed||de.isReplaceRevealed)&&(this._state.isRevealed||this._state.isReplaceRevealed)&&this._tryUpdateHeight()&&this._showViewZone(),de.isRegex&&this._findInput.setRegex(this._state.isRegex),de.wholeWord&&this._findInput.setWholeWords(this._state.wholeWord),de.matchCase&&this._findInput.setCaseSensitive(this._state.matchCase),de.preserveCase&&this._replaceInput.setPreserveCase(this._state.preserveCase),de.searchScope&&(this._state.searchScope?this._toggleSelectionFind.checked=!0:this._toggleSelectionFind.checked=!1,this._updateToggleSelectionFindButton()),de.searchString||de.matchesCount||de.matchesPosition){const he=this._state.searchString.length>0&&this._state.matchesCount===0;this._domNode.classList.toggle("no-results",he),this._updateMatchesCount(),this._updateButtons()}(de.searchString||de.currentMatch)&&this._layoutViewZone(),de.updateHistory&&this._delayedUpdateHistory(),de.loop&&this._updateButtons()}_delayedUpdateHistory(){this._updateHistoryDelayer.trigger(this._updateHistory.bind(this)).then(void 0,g.onUnexpectedError)}_updateHistory(){this._state.searchString&&this._findInput.inputBox.addToHistory(),this._state.replaceString&&this._replaceInput.inputBox.addToHistory()}_updateMatchesCount(){this._matchesCount.style.minWidth=Z+"px",this._state.matchesCount>=t.MATCHES_LIMIT?this._matchesCount.title=j:this._matchesCount.title="",this._matchesCount.firstChild&&this._matchesCount.removeChild(this._matchesCount.firstChild);let de;if(this._state.matchesCount>0){let he=String(this._state.matchesCount);this._state.matchesCount>=t.MATCHES_LIMIT&&(he+="+");let ue=String(this._state.matchesPosition);ue==="0"&&(ue="?"),de=i.format(e.NLS_MATCHES_LOCATION,ue,he)}else de=e.NLS_NO_RESULTS;this._matchesCount.appendChild(document.createTextNode(de)),(0,k.alert)(this._getAriaLabel(de,this._state.currentMatch,this._state.searchString)),Z=Math.max(Z,this._matchesCount.clientWidth)}_getAriaLabel(de,he,ue){if(de===e.NLS_NO_RESULTS)return ue===""?a.localize(22,null,de):a.localize(23,null,de,ue);if(he){const te=a.localize(24,null,de,ue,he.startLineNumber+":"+he.startColumn),q=this._codeEditor.getModel();return q&&he.startLineNumber<=q.getLineCount()&&he.startLineNumber>=1?`${q.getLineContent(he.startLineNumber)}, ${te}`:te}return a.localize(25,null,de,ue)}_updateToggleSelectionFindButton(){const de=this._codeEditor.getSelection(),he=de?de.startLineNumber!==de.endLineNumber||de.startColumn!==de.endColumn:!1,ue=this._toggleSelectionFind.checked;this._isVisible&&(ue||he)?this._toggleSelectionFind.enable():this._toggleSelectionFind.disable()}_updateButtons(){this._findInput.setEnabled(this._isVisible),this._replaceInput.setEnabled(this._isVisible&&this._isReplaceVisible),this._updateToggleSelectionFindButton(),this._closeBtn.setEnabled(this._isVisible);const de=this._state.searchString.length>0,he=!!this._state.matchesCount;this._prevBtn.setEnabled(this._isVisible&&de&&he&&this._state.canNavigateBack()),this._nextBtn.setEnabled(this._isVisible&&de&&he&&this._state.canNavigateForward()),this._replaceBtn.setEnabled(this._isVisible&&this._isReplaceVisible&&de),this._replaceAllBtn.setEnabled(this._isVisible&&this._isReplaceVisible&&de),this._domNode.classList.toggle("replaceToggled",this._isReplaceVisible),this._toggleReplaceBtn.setExpanded(this._isReplaceVisible);const ue=!this._codeEditor.getOption(89);this._toggleReplaceBtn.setEnabled(this._isVisible&&ue)}_reveal(){if(this._revealTimeouts.forEach(de=>{clearTimeout(de)}),this._revealTimeouts=[],!this._isVisible){this._isVisible=!0;const de=this._codeEditor.getSelection();switch(this._codeEditor.getOption(40).autoFindInSelection){case"always":this._toggleSelectionFind.checked=!0;break;case"never":this._toggleSelectionFind.checked=!1;break;case"multiline":{const ue=!!de&&de.startLineNumber!==de.endLineNumber;this._toggleSelectionFind.checked=ue;break}default:break}this._tryUpdateWidgetWidth(),this._updateButtons(),this._revealTimeouts.push(setTimeout(()=>{this._domNode.classList.add("visible"),this._domNode.setAttribute("aria-hidden","false")},0)),this._revealTimeouts.push(setTimeout(()=>{this._findInput.validate()},200)),this._codeEditor.layoutOverlayWidget(this);let he=!0;if(this._codeEditor.getOption(40).seedSearchStringFromSelection&&de){const ue=this._codeEditor.getDomNode();if(ue){const te=L.getDomNodePagePosition(ue),q=this._codeEditor.getScrolledVisiblePosition(de.getStartPosition()),z=te.left+(q?q.left:0),ee=q?q.top:0;if(this._viewZone&&ee<this._viewZone.heightInPx){de.endLineNumber>de.startLineNumber&&(he=!1);const $=L.getTopLeftOffset(this._domNode).left;z>$&&(he=!1);const re=this._codeEditor.getScrolledVisiblePosition(de.getEndPosition());te.left+(re?re.left:0)>$&&(he=!1)}}}this._showViewZone(he)}}_hide(de){this._revealTimeouts.forEach(he=>{clearTimeout(he)}),this._revealTimeouts=[],this._isVisible&&(this._isVisible=!1,this._updateButtons(),this._domNode.classList.remove("visible"),this._domNode.setAttribute("aria-hidden","true"),this._findInput.clearMessage(),de&&this._codeEditor.focus(),this._codeEditor.layoutOverlayWidget(this),this._removeViewZone())}_layoutViewZone(de){if(!this._codeEditor.getOption(40).addExtraSpaceOnTop){this._removeViewZone();return}if(!this._isVisible)return;const ue=this._viewZone;this._viewZoneId!==void 0||!ue||this._codeEditor.changeViewZones(te=>{ue.heightInPx=this._getHeight(),this._viewZoneId=te.addZone(ue),this._codeEditor.setScrollTop(de||this._codeEditor.getScrollTop()+ue.heightInPx)})}_showViewZone(de=!0){if(!this._isVisible||!this._codeEditor.getOption(40).addExtraSpaceOnTop)return;this._viewZone===void 0&&(this._viewZone=new B(0));const ue=this._viewZone;this._codeEditor.changeViewZones(te=>{if(this._viewZoneId!==void 0){const q=this._getHeight();if(q===ue.heightInPx)return;const z=q-ue.heightInPx;ue.heightInPx=q,te.layoutZone(this._viewZoneId),de&&this._codeEditor.setScrollTop(this._codeEditor.getScrollTop()+z);return}else{let q=this._getHeight();if(q-=this._codeEditor.getOption(82).top,q<=0)return;ue.heightInPx=q,this._viewZoneId=te.addZone(ue),de&&this._codeEditor.setScrollTop(this._codeEditor.getScrollTop()+q)}})}_removeViewZone(){this._codeEditor.changeViewZones(de=>{this._viewZoneId!==void 0&&(de.removeZone(this._viewZoneId),this._viewZoneId=void 0,this._viewZone&&(this._codeEditor.setScrollTop(this._codeEditor.getScrollTop()-this._viewZone.heightInPx),this._viewZone=void 0))})}_tryUpdateWidgetWidth(){if(!this._isVisible||!L.isInDOM(this._domNode))return;const de=this._codeEditor.getLayoutInfo();if(de.contentWidth<=0){this._domNode.classList.add("hiddenEditor");return}else this._domNode.classList.contains("hiddenEditor")&&this._domNode.classList.remove("hiddenEditor");const ue=de.width,te=de.minimap.minimapWidth;let q=!1,z=!1,ee=!1;if(this._resized&&L.getTotalWidth(this._domNode)>R){this._domNode.style.maxWidth=`${ue-28-te-15}px`,this._replaceInput.width=L.getTotalWidth(this._findInput.domNode);return}if(R+28+te>=ue&&(z=!0),R+28+te-Z>=ue&&(ee=!0),R+28+te-Z>=ue+50&&(q=!0),this._domNode.classList.toggle("collapsed-find-widget",q),this._domNode.classList.toggle("narrow-find-widget",ee),this._domNode.classList.toggle("reduced-find-widget",z),!ee&&!q&&(this._domNode.style.maxWidth=`${ue-28-te-15}px`),this._findInput.layout({collapsedFindWidget:q,narrowFindWidget:ee,reducedFindWidget:z}),this._resized){const $=this._findInput.inputBox.element.clientWidth;$>0&&(this._replaceInput.width=$)}else this._isReplaceVisible&&(this._replaceInput.width=L.getTotalWidth(this._findInput.domNode))}_getHeight(){let de=0;return de+=4,de+=this._findInput.inputBox.height+2,this._isReplaceVisible&&(de+=4,de+=this._replaceInput.inputBox.height+2),de+=4,de}_tryUpdateHeight(){const de=this._getHeight();return this._cachedHeight!==null&&this._cachedHeight===de?!1:(this._cachedHeight=de,this._domNode.style.height=`${de}px`,!0)}focusFindInput(){this._findInput.select(),this._findInput.focus()}focusReplaceInput(){this._replaceInput.select(),this._replaceInput.focus()}highlightFindOptions(){this._findInput.highlightFindOptions()}_updateSearchScope(){if(this._codeEditor.hasModel()&&this._toggleSelectionFind.checked){const de=this._codeEditor.getSelections();de.map(he=>{he.endColumn===1&&he.endLineNumber>he.startLineNumber&&(he=he.setEndPosition(he.endLineNumber-1,this._codeEditor.getModel().getLineMaxColumn(he.endLineNumber-1)));const ue=this._state.currentMatch;return he.startLineNumber!==he.endLineNumber&&!n.Range.equalsRange(he,ue)?he:null}).filter(he=>!!he),de.length&&this._state.change({searchScope:de},!0)}}_onFindInputMouseDown(de){de.middleButton&&de.stopPropagation()}_onFindInputKeyDown(de){if(de.equals(H|3))if(this._keybindingService.dispatchEvent(de,de.target)){de.preventDefault();return}else{this._findInput.inputBox.insertAtCursor(`
`),de.preventDefault();return}if(de.equals(2)){this._isReplaceVisible?this._replaceInput.focus():this._findInput.focusOnCaseSensitive(),de.preventDefault();return}if(de.equals(2066)){this._codeEditor.focus(),de.preventDefault();return}if(de.equals(16))return V(de,this._findInput.getValue(),this._findInput.domNode.querySelector("textarea"));if(de.equals(18))return Y(de,this._findInput.getValue(),this._findInput.domNode.querySelector("textarea"))}_onReplaceInputKeyDown(de){if(de.equals(H|3))if(this._keybindingService.dispatchEvent(de,de.target)){de.preventDefault();return}else{s.isWindows&&s.isNative&&!this._ctrlEnterReplaceAllWarningPrompted&&(this._notificationService.info(a.localize(26,null)),this._ctrlEnterReplaceAllWarningPrompted=!0,this._storageService.store(X,!0,0,0)),this._replaceInput.inputBox.insertAtCursor(`
`),de.preventDefault();return}if(de.equals(2)){this._findInput.focusOnCaseSensitive(),de.preventDefault();return}if(de.equals(1026)){this._findInput.focus(),de.preventDefault();return}if(de.equals(2066)){this._codeEditor.focus(),de.preventDefault();return}if(de.equals(16))return V(de,this._replaceInput.inputBox.value,this._replaceInput.inputBox.element.querySelector("textarea"));if(de.equals(18))return Y(de,this._replaceInput.inputBox.value,this._replaceInput.inputBox.element.querySelector("textarea"))}getVerticalSashLeft(de){return 0}_keybindingLabelFor(de){const he=this._keybindingService.lookupKeybinding(de);return he?` (${he.getLabel()})`:""}_buildDomNode(){this._findInput=this._register(new u.ContextScopedFindInput(null,this._contextViewProvider,{width:G,label:I,placeholder:M,appendCaseSensitiveLabel:this._keybindingLabelFor(t.FIND_IDS.ToggleCaseSensitiveCommand),appendWholeWordsLabel:this._keybindingLabelFor(t.FIND_IDS.ToggleWholeWordCommand),appendRegexLabel:this._keybindingLabelFor(t.FIND_IDS.ToggleRegexCommand),validation:$=>{if($.length===0||!this._findInput.getRegex())return null;try{return new RegExp($,"gu"),null}catch(re){return{content:re.message}}},flexibleHeight:!0,flexibleWidth:!0,flexibleMaxHeight:118,showCommonFindToggles:!0,showHistoryHint:()=>(0,h.showHistoryKeybindingHint)(this._keybindingService),inputBoxStyles:m.defaultInputBoxStyles,toggleStyles:m.defaultToggleStyles},this._contextKeyService)),this._findInput.setRegex(!!this._state.isRegex),this._findInput.setCaseSensitive(!!this._state.matchCase),this._findInput.setWholeWords(!!this._state.wholeWord),this._register(this._findInput.onKeyDown($=>this._onFindInputKeyDown($))),this._register(this._findInput.inputBox.onDidChange(()=>{this._ignoreChangeEvent||this._state.change({searchString:this._findInput.getValue()},!0)})),this._register(this._findInput.onDidOptionChange(()=>{this._state.change({isRegex:this._findInput.getRegex(),wholeWord:this._findInput.getWholeWords(),matchCase:this._findInput.getCaseSensitive()},!0)})),this._register(this._findInput.onCaseSensitiveKeyDown($=>{$.equals(1026)&&this._isReplaceVisible&&(this._replaceInput.focus(),$.preventDefault())})),this._register(this._findInput.onRegexKeyDown($=>{$.equals(2)&&this._isReplaceVisible&&(this._replaceInput.focusOnPreserve(),$.preventDefault())})),this._register(this._findInput.inputBox.onDidHeightChange($=>{this._tryUpdateHeight()&&this._showViewZone()})),s.isLinux&&this._register(this._findInput.onMouseDown($=>this._onFindInputMouseDown($))),this._matchesCount=document.createElement("div"),this._matchesCount.className="matchesCount",this._updateMatchesCount(),this._prevBtn=this._register(new ae({label:P+this._keybindingLabelFor(t.FIND_IDS.PreviousMatchFindAction),icon:e.findPreviousMatchIcon,onTrigger:()=>{(0,p.assertIsDefined)(this._codeEditor.getAction(t.FIND_IDS.PreviousMatchFindAction)).run().then(void 0,g.onUnexpectedError)}})),this._nextBtn=this._register(new ae({label:x+this._keybindingLabelFor(t.FIND_IDS.NextMatchFindAction),icon:e.findNextMatchIcon,onTrigger:()=>{(0,p.assertIsDefined)(this._codeEditor.getAction(t.FIND_IDS.NextMatchFindAction)).run().then(void 0,g.onUnexpectedError)}}));const ue=document.createElement("div");ue.className="find-part",ue.appendChild(this._findInput.domNode);const te=document.createElement("div");te.className="find-actions",ue.appendChild(te),te.appendChild(this._matchesCount),te.appendChild(this._prevBtn.domNode),te.appendChild(this._nextBtn.domNode),this._toggleSelectionFind=this._register(new y.Toggle({icon:v,title:T+this._keybindingLabelFor(t.FIND_IDS.ToggleSearchScopeCommand),isChecked:!1,inputActiveOptionBackground:(0,r.asCssVariable)(r.inputActiveOptionBackground),inputActiveOptionBorder:(0,r.asCssVariable)(r.inputActiveOptionBorder),inputActiveOptionForeground:(0,r.asCssVariable)(r.inputActiveOptionForeground)})),this._register(this._toggleSelectionFind.onChange(()=>{if(this._toggleSelectionFind.checked){if(this._codeEditor.hasModel()){const $=this._codeEditor.getSelections();$.map(re=>(re.endColumn===1&&re.endLineNumber>re.startLineNumber&&(re=re.setEndPosition(re.endLineNumber-1,this._codeEditor.getModel().getLineMaxColumn(re.endLineNumber-1))),re.isEmpty()?null:re)).filter(re=>!!re),$.length&&this._state.change({searchScope:$},!0)}}else this._state.change({searchScope:null},!0)})),te.appendChild(this._toggleSelectionFind.domNode),this._closeBtn=this._register(new ae({label:A+this._keybindingLabelFor(t.FIND_IDS.CloseFindWidgetCommand),icon:c.widgetClose,onTrigger:()=>{this._state.change({isRevealed:!1,searchScope:null},!1)},onKeyDown:$=>{$.equals(2)&&this._isReplaceVisible&&(this._replaceBtn.isEnabled()?this._replaceBtn.focus():this._codeEditor.focus(),$.preventDefault())}})),this._replaceInput=this._register(new u.ContextScopedReplaceInput(null,void 0,{label:N,placeholder:F,appendPreserveCaseLabel:this._keybindingLabelFor(t.FIND_IDS.TogglePreserveCaseCommand),history:[],flexibleHeight:!0,flexibleWidth:!0,flexibleMaxHeight:118,showHistoryHint:()=>(0,h.showHistoryKeybindingHint)(this._keybindingService),inputBoxStyles:m.defaultInputBoxStyles,toggleStyles:m.defaultToggleStyles},this._contextKeyService,!0)),this._replaceInput.setPreserveCase(!!this._state.preserveCase),this._register(this._replaceInput.onKeyDown($=>this._onReplaceInputKeyDown($))),this._register(this._replaceInput.inputBox.onDidChange(()=>{this._state.change({replaceString:this._replaceInput.inputBox.value},!1)})),this._register(this._replaceInput.inputBox.onDidHeightChange($=>{this._isReplaceVisible&&this._tryUpdateHeight()&&this._showViewZone()})),this._register(this._replaceInput.onDidOptionChange(()=>{this._state.change({preserveCase:this._replaceInput.getPreserveCase()},!0)})),this._register(this._replaceInput.onPreserveCaseKeyDown($=>{$.equals(2)&&(this._prevBtn.isEnabled()?this._prevBtn.focus():this._nextBtn.isEnabled()?this._nextBtn.focus():this._toggleSelectionFind.enabled?this._toggleSelectionFind.focus():this._closeBtn.isEnabled()&&this._closeBtn.focus(),$.preventDefault())})),this._replaceBtn=this._register(new ae({label:O+this._keybindingLabelFor(t.FIND_IDS.ReplaceOneAction),icon:e.findReplaceIcon,onTrigger:()=>{this._controller.replace()},onKeyDown:$=>{$.equals(1026)&&(this._closeBtn.focus(),$.preventDefault())}})),this._replaceAllBtn=this._register(new ae({label:W+this._keybindingLabelFor(t.FIND_IDS.ReplaceAllAction),icon:e.findReplaceAllIcon,onTrigger:()=>{this._controller.replaceAll()}}));const q=document.createElement("div");q.className="replace-part",q.appendChild(this._replaceInput.domNode);const z=document.createElement("div");z.className="replace-actions",q.appendChild(z),z.appendChild(this._replaceBtn.domNode),z.appendChild(this._replaceAllBtn.domNode),this._toggleReplaceBtn=this._register(new ae({label:U,className:"codicon toggle left",onTrigger:()=>{this._state.change({isReplaceRevealed:!this._isReplaceVisible},!1),this._isReplaceVisible&&(this._replaceInput.width=L.getTotalWidth(this._findInput.domNode),this._replaceInput.inputBox.layout()),this._showViewZone()}})),this._toggleReplaceBtn.setExpanded(this._isReplaceVisible),this._domNode=document.createElement("div"),this._domNode.className="editor-widget find-widget",this._domNode.setAttribute("aria-hidden","true"),this._domNode.ariaLabel=E,this._domNode.role="dialog",this._domNode.style.width=`${R}px`,this._domNode.appendChild(this._toggleReplaceBtn.domNode),this._domNode.appendChild(ue),this._domNode.appendChild(this._closeBtn.domNode),this._domNode.appendChild(q),this._resizeSash=new D.Sash(this._domNode,this,{orientation:0,size:2}),this._resized=!1;let ee=R;this._register(this._resizeSash.onDidStart(()=>{ee=L.getTotalWidth(this._domNode)})),this._register(this._resizeSash.onDidChange($=>{this._resized=!0;const re=ee+$.startX-$.currentX;if(re<R)return;const oe=parseFloat(L.getComputedStyle(this._domNode).maxWidth)||0;re>oe||(this._domNode.style.width=`${re}px`,this._isReplaceVisible&&(this._replaceInput.width=L.getTotalWidth(this._findInput.domNode)),this._findInput.inputBox.layout(),this._tryUpdateHeight())})),this._register(this._resizeSash.onDidReset(()=>{const $=L.getTotalWidth(this._domNode);if($<R)return;let re=R;if(!this._resized||$===R){const oe=this._codeEditor.getLayoutInfo();re=oe.width-28-oe.minimap.minimapWidth-15,this._resized=!0}this._domNode.style.width=`${re}px`,this._isReplaceVisible&&(this._replaceInput.width=L.getTotalWidth(this._findInput.domNode)),this._findInput.inputBox.layout()}))}updateAccessibilitySupport(){const de=this._codeEditor.getOption(2);this._findInput.setFocusInputOnOptionClick(de!==2)}}e.FindWidget=ie,ie.ID="editor.contrib.findWidget";class ae extends S.Widget{constructor(de){super(),this._opts=de;let he="button";this._opts.className&&(he=he+" "+this._opts.className),this._opts.icon&&(he=he+" "+d.ThemeIcon.asClassName(this._opts.icon)),this._domNode=document.createElement("div"),this._domNode.title=this._opts.label,this._domNode.tabIndex=0,this._domNode.className=he,this._domNode.setAttribute("role","button"),this._domNode.setAttribute("aria-label",this._opts.label),this.onclick(this._domNode,ue=>{this._opts.onTrigger(),ue.preventDefault()}),this.onkeydown(this._domNode,ue=>{var te,q;if(ue.equals(10)||ue.equals(3)){this._opts.onTrigger(),ue.preventDefault();return}(q=(te=this._opts).onKeyDown)===null||q===void 0||q.call(te,ue)})}get domNode(){return this._domNode}isEnabled(){return this._domNode.tabIndex>=0}focus(){this._domNode.focus()}setEnabled(de){this._domNode.classList.toggle("disabled",!de),this._domNode.setAttribute("aria-disabled",String(!de)),this._domNode.tabIndex=de?0:-1}setExpanded(de){this._domNode.setAttribute("aria-expanded",String(!!de)),de?(this._domNode.classList.remove(...d.ThemeIcon.asClassNameArray(b)),this._domNode.classList.add(...d.ThemeIcon.asClassNameArray(w))):(this._domNode.classList.remove(...d.ThemeIcon.asClassNameArray(w)),this._domNode.classList.add(...d.ThemeIcon.asClassNameArray(b)))}}e.SimpleButton=ae,(0,o.registerThemingParticipant)((ce,de)=>{const he=(De,ye)=>{ye&&de.addRule(`.monaco-editor ${De} { background-color: ${ye}; }`)};he(".findMatch",ce.getColor(r.editorFindMatchHighlight)),he(".currentFindMatch",ce.getColor(r.editorFindMatch)),he(".findScope",ce.getColor(r.editorFindRangeHighlight));const ue=ce.getColor(r.editorWidgetBackground);he(".find-widget",ue);const te=ce.getColor(r.widgetShadow);te&&de.addRule(`.monaco-editor .find-widget { box-shadow: 0 0 8px 2px ${te}; }`);const q=ce.getColor(r.widgetBorder);q&&de.addRule(`.monaco-editor .find-widget { border-left: 1px solid ${q}; border-right: 1px solid ${q}; border-bottom: 1px solid ${q}; }`);const z=ce.getColor(r.editorFindMatchHighlightBorder);z&&de.addRule(`.monaco-editor .findMatch { border: 1px ${(0,l.isHighContrast)(ce.type)?"dotted":"solid"} ${z}; box-sizing: border-box; }`);const ee=ce.getColor(r.editorFindMatchBorder);ee&&de.addRule(`.monaco-editor .currentFindMatch { border: 2px solid ${ee}; padding: 1px; box-sizing: border-box; }`);const $=ce.getColor(r.editorFindRangeHighlightBorder);$&&de.addRule(`.monaco-editor .findScope { border: 1px ${(0,l.isHighContrast)(ce.type)?"dashed":"solid"} ${$}; }`);const re=ce.getColor(r.contrastBorder);re&&de.addRule(`.monaco-editor .find-widget { border: 1px solid ${re}; }`);const oe=ce.getColor(r.editorWidgetForeground);oe&&de.addRule(`.monaco-editor .find-widget { color: ${oe}; }`);const ge=ce.getColor(r.errorForeground);ge&&de.addRule(`.monaco-editor .find-widget.no-results .matchesCount { color: ${ge}; }`);const ve=ce.getColor(r.editorWidgetResizeBorder);if(ve)de.addRule(`.monaco-editor .find-widget .monaco-sash { background-color: ${ve}; }`);else{const De=ce.getColor(r.editorWidgetBorder);De&&de.addRule(`.monaco-editor .find-widget .monaco-sash { background-color: ${De}; }`)}const Se=ce.getColor(r.toolbarHoverBackground);Se&&de.addRule(`
		.monaco-editor .find-widget .button:not(.disabled):hover,
		.monaco-editor .find-widget .codicon-find-selection:hover {
			background-color: ${Se} !important;
		}
	`);const Le=ce.getColor(r.focusBorder);Le&&de.addRule(`.monaco-editor .find-widget .monaco-inputbox.synthetic-focus { outline-color: ${Le}; }`)})}),define(ne[365],se([1,0,13,2,11,16,80,21,48,193,882,883,884,655,30,96,15,57,34,43,71,87,23]),function(Q,e,L,k,y,D,S,f,_,g,C,s,i,n,t,a,u,h,r,c,o,d,l){"use strict";var p;Object.defineProperty(e,"__esModule",{value:!0}),e.StartFindReplaceAction=e.PreviousSelectionMatchFindAction=e.NextSelectionMatchFindAction=e.SelectionMatchFindAction=e.MoveToMatchFindAction=e.PreviousMatchFindAction=e.NextMatchFindAction=e.MatchFindAction=e.StartFindWithSelectionAction=e.StartFindWithArgsAction=e.StartFindAction=e.FindController=e.CommonFindController=e.getSelectionSearchString=void 0;const m=524288;function v(U,j="single",R=!1){if(!U.hasModel())return null;const K=U.getSelection();if(j==="single"&&K.startLineNumber===K.endLineNumber||j==="multiple"){if(K.isEmpty()){const G=U.getConfiguredWordAtPosition(K.getStartPosition());if(G&&R===!1)return G.word}else if(U.getModel().getValueLengthInRange(K)<m)return U.getModel().getValueInRange(K)}return null}e.getSelectionSearchString=v;let b=p=class extends k.Disposable{get editor(){return this._editor}static get(j){return j.getContribution(p.ID)}constructor(j,R,K,G){super(),this._editor=j,this._findWidgetVisible=g.CONTEXT_FIND_WIDGET_VISIBLE.bindTo(R),this._contextKeyService=R,this._storageService=K,this._clipboardService=G,this._updateHistoryDelayer=new L.Delayer(500),this._state=this._register(new s.FindReplaceState),this.loadQueryState(),this._register(this._state.onFindReplaceStateChange(Z=>this._onStateChanged(Z))),this._model=null,this._register(this._editor.onDidChangeModel(()=>{const Z=this._editor.getModel()&&this._state.isRevealed;this.disposeModel(),this._state.change({searchScope:null,matchCase:this._storageService.getBoolean("editor.matchCase",1,!1),wholeWord:this._storageService.getBoolean("editor.wholeWord",1,!1),isRegex:this._storageService.getBoolean("editor.isRegex",1,!1),preserveCase:this._storageService.getBoolean("editor.preserveCase",1,!1)},!1),Z&&this._start({forceRevealReplace:!1,seedSearchStringFromSelection:"none",seedSearchStringFromNonEmptySelection:!1,seedSearchStringFromGlobalClipboard:!1,shouldFocus:0,shouldAnimate:!1,updateSearchScope:!1,loop:this._editor.getOption(40).loop})}))}dispose(){this.disposeModel(),super.dispose()}disposeModel(){this._model&&(this._model.dispose(),this._model=null)}_onStateChanged(j){this.saveQueryState(j),j.isRevealed&&(this._state.isRevealed?this._findWidgetVisible.set(!0):(this._findWidgetVisible.reset(),this.disposeModel())),j.searchString&&this.setGlobalBufferTerm(this._state.searchString)}saveQueryState(j){j.isRegex&&this._storageService.store("editor.isRegex",this._state.actualIsRegex,1,1),j.wholeWord&&this._storageService.store("editor.wholeWord",this._state.actualWholeWord,1,1),j.matchCase&&this._storageService.store("editor.matchCase",this._state.actualMatchCase,1,1),j.preserveCase&&this._storageService.store("editor.preserveCase",this._state.actualPreserveCase,1,1)}loadQueryState(){this._state.change({matchCase:this._storageService.getBoolean("editor.matchCase",1,this._state.matchCase),wholeWord:this._storageService.getBoolean("editor.wholeWord",1,this._state.wholeWord),isRegex:this._storageService.getBoolean("editor.isRegex",1,this._state.isRegex),preserveCase:this._storageService.getBoolean("editor.preserveCase",1,this._state.preserveCase)},!1)}isFindInputFocused(){return!!g.CONTEXT_FIND_INPUT_FOCUSED.getValue(this._contextKeyService)}getState(){return this._state}closeFindWidget(){this._state.change({isRevealed:!1,searchScope:null},!1),this._editor.focus()}toggleCaseSensitive(){this._state.change({matchCase:!this._state.matchCase},!1),this._state.isRevealed||this.highlightFindOptions()}toggleWholeWords(){this._state.change({wholeWord:!this._state.wholeWord},!1),this._state.isRevealed||this.highlightFindOptions()}toggleRegex(){this._state.change({isRegex:!this._state.isRegex},!1),this._state.isRevealed||this.highlightFindOptions()}togglePreserveCase(){this._state.change({preserveCase:!this._state.preserveCase},!1),this._state.isRevealed||this.highlightFindOptions()}toggleSearchScope(){if(this._state.searchScope)this._state.change({searchScope:null},!0);else if(this._editor.hasModel()){const j=this._editor.getSelections();j.map(R=>(R.endColumn===1&&R.endLineNumber>R.startLineNumber&&(R=R.setEndPosition(R.endLineNumber-1,this._editor.getModel().getLineMaxColumn(R.endLineNumber-1))),R.isEmpty()?null:R)).filter(R=>!!R),j.length&&this._state.change({searchScope:j},!0)}}setSearchString(j){this._state.isRegex&&(j=y.escapeRegExpCharacters(j)),this._state.change({searchString:j},!1)}highlightFindOptions(j=!1){}_start(j,R){return we(this,void 0,void 0,function*(){if(this.disposeModel(),!this._editor.hasModel())return;const K=Object.assign(Object.assign({},R),{isRevealed:!0});if(j.seedSearchStringFromSelection==="single"){const G=v(this._editor,j.seedSearchStringFromSelection,j.seedSearchStringFromNonEmptySelection);G&&(this._state.isRegex?K.searchString=y.escapeRegExpCharacters(G):K.searchString=G)}else if(j.seedSearchStringFromSelection==="multiple"&&!j.updateSearchScope){const G=v(this._editor,j.seedSearchStringFromSelection);G&&(K.searchString=G)}if(!K.searchString&&j.seedSearchStringFromGlobalClipboard){const G=yield this.getGlobalBufferTerm();if(!this._editor.hasModel())return;G&&(K.searchString=G)}if(j.forceRevealReplace||K.isReplaceRevealed?K.isReplaceRevealed=!0:this._findWidgetVisible.get()||(K.isReplaceRevealed=!1),j.updateSearchScope){const G=this._editor.getSelections();G.some(Z=>!Z.isEmpty())&&(K.searchScope=G)}K.loop=j.loop,this._state.change(K,!1),this._model||(this._model=new g.FindModelBoundToEditorModel(this._editor,this._state))})}start(j,R){return this._start(j,R)}moveToNextMatch(){return this._model?(this._model.moveToNextMatch(),!0):!1}moveToPrevMatch(){return this._model?(this._model.moveToPrevMatch(),!0):!1}goToMatch(j){return this._model?(this._model.moveToMatch(j),!0):!1}replace(){return this._model?(this._model.replace(),!0):!1}replaceAll(){return this._model?(this._model.replaceAll(),!0):!1}selectAllMatches(){return this._model?(this._model.selectAllMatches(),this._editor.focus(),!0):!1}getGlobalBufferTerm(){return we(this,void 0,void 0,function*(){return this._editor.getOption(40).globalFindClipboard&&this._editor.hasModel()&&!this._editor.getModel().isTooLargeForSyncing()?this._clipboardService.readFindText():""})}setGlobalBufferTerm(j){this._editor.getOption(40).globalFindClipboard&&this._editor.hasModel()&&!this._editor.getModel().isTooLargeForSyncing()&&this._clipboardService.writeFindText(j)}};e.CommonFindController=b,b.ID="editor.contrib.findController",e.CommonFindController=b=p=ke([fe(1,u.IContextKeyService),fe(2,d.IStorageService),fe(3,a.IClipboardService)],b);let w=class extends b{constructor(j,R,K,G,Z,J,X,H){super(j,K,X,H),this._contextViewService=R,this._keybindingService=G,this._themeService=Z,this._notificationService=J,this._widget=null,this._findOptionsWidget=null}_start(j,R){const K=Object.create(null,{_start:{get:()=>super._start}});return we(this,void 0,void 0,function*(){this._widget||this._createFindWidget();const G=this._editor.getSelection();let Z=!1;switch(this._editor.getOption(40).autoFindInSelection){case"always":Z=!0;break;case"never":Z=!1;break;case"multiline":{Z=!!G&&G.startLineNumber!==G.endLineNumber;break}default:break}j.updateSearchScope=j.updateSearchScope||Z,yield K._start.call(this,j,R),this._widget&&(j.shouldFocus===2?this._widget.focusReplaceInput():j.shouldFocus===1&&this._widget.focusFindInput())})}highlightFindOptions(j=!1){this._widget||this._createFindWidget(),this._state.isRevealed&&!j?this._widget.highlightFindOptions():this._findOptionsWidget.highlightFindOptions()}_createFindWidget(){this._widget=this._register(new i.FindWidget(this._editor,this,this._state,this._contextViewService,this._keybindingService,this._contextKeyService,this._themeService,this._storageService,this._notificationService)),this._findOptionsWidget=this._register(new C.FindOptionsWidget(this._editor,this._state,this._keybindingService))}};e.FindController=w,e.FindController=w=ke([fe(1,h.IContextViewService),fe(2,u.IContextKeyService),fe(3,r.IKeybindingService),fe(4,l.IThemeService),fe(5,c.INotificationService),fe(6,d.IStorageService),fe(7,a.IClipboardService)],w),e.StartFindAction=(0,D.registerMultiEditorAction)(new D.MultiEditorAction({id:g.FIND_IDS.StartFindAction,label:n.localize(0,null),alias:"Find",precondition:u.ContextKeyExpr.or(f.EditorContextKeys.focus,u.ContextKeyExpr.has("editorIsOpen")),kbOpts:{kbExpr:null,primary:2084,weight:100},menuOpts:{menuId:t.MenuId.MenubarEditMenu,group:"3_find",title:n.localize(1,null),order:1}})),e.StartFindAction.addImplementation(0,(U,j,R)=>{const K=b.get(j);return K?K.start({forceRevealReplace:!1,seedSearchStringFromSelection:j.getOption(40).seedSearchStringFromSelection!=="never"?"single":"none",seedSearchStringFromNonEmptySelection:j.getOption(40).seedSearchStringFromSelection==="selection",seedSearchStringFromGlobalClipboard:j.getOption(40).globalFindClipboard,shouldFocus:1,shouldAnimate:!0,updateSearchScope:!1,loop:j.getOption(40).loop}):!1});const E={description:"Open a new In-Editor Find Widget.",args:[{name:"Open a new In-Editor Find Widget args",schema:{properties:{searchString:{type:"string"},replaceString:{type:"string"},regex:{type:"boolean"},regexOverride:{type:"number",description:n.localize(2,null)},wholeWord:{type:"boolean"},wholeWordOverride:{type:"number",description:n.localize(3,null)},matchCase:{type:"boolean"},matchCaseOverride:{type:"number",description:n.localize(4,null)},preserveCase:{type:"boolean"},preserveCaseOverride:{type:"number",description:n.localize(5,null)},findInSelection:{type:"boolean"}}}}]};class I extends D.EditorAction{constructor(){super({id:g.FIND_IDS.StartFindWithArgs,label:n.localize(6,null),alias:"Find With Arguments",precondition:void 0,kbOpts:{kbExpr:null,primary:0,weight:100},description:E})}run(j,R,K){return we(this,void 0,void 0,function*(){const G=b.get(R);if(G){const Z=K?{searchString:K.searchString,replaceString:K.replaceString,isReplaceRevealed:K.replaceString!==void 0,isRegex:K.isRegex,wholeWord:K.matchWholeWord,matchCase:K.isCaseSensitive,preserveCase:K.preserveCase}:{};yield G.start({forceRevealReplace:!1,seedSearchStringFromSelection:G.getState().searchString.length===0&&R.getOption(40).seedSearchStringFromSelection!=="never"?"single":"none",seedSearchStringFromNonEmptySelection:R.getOption(40).seedSearchStringFromSelection==="selection",seedSearchStringFromGlobalClipboard:!0,shouldFocus:1,shouldAnimate:!0,updateSearchScope:K?.findInSelection||!1,loop:R.getOption(40).loop},Z),G.setGlobalBufferTerm(G.getState().searchString)}})}}e.StartFindWithArgsAction=I;class M extends D.EditorAction{constructor(){super({id:g.FIND_IDS.StartFindWithSelection,label:n.localize(7,null),alias:"Find With Selection",precondition:void 0,kbOpts:{kbExpr:null,primary:0,mac:{primary:2083},weight:100}})}run(j,R){return we(this,void 0,void 0,function*(){const K=b.get(R);K&&(yield K.start({forceRevealReplace:!1,seedSearchStringFromSelection:"multiple",seedSearchStringFromNonEmptySelection:!1,seedSearchStringFromGlobalClipboard:!1,shouldFocus:0,shouldAnimate:!0,updateSearchScope:!1,loop:R.getOption(40).loop}),K.setGlobalBufferTerm(K.getState().searchString))})}}e.StartFindWithSelectionAction=M;class P extends D.EditorAction{run(j,R){return we(this,void 0,void 0,function*(){const K=b.get(R);K&&!this._run(K)&&(yield K.start({forceRevealReplace:!1,seedSearchStringFromSelection:K.getState().searchString.length===0&&R.getOption(40).seedSearchStringFromSelection!=="never"?"single":"none",seedSearchStringFromNonEmptySelection:R.getOption(40).seedSearchStringFromSelection==="selection",seedSearchStringFromGlobalClipboard:!0,shouldFocus:0,shouldAnimate:!0,updateSearchScope:!1,loop:R.getOption(40).loop}),this._run(K))})}}e.MatchFindAction=P;class x extends P{constructor(){super({id:g.FIND_IDS.NextMatchFindAction,label:n.localize(8,null),alias:"Find Next",precondition:void 0,kbOpts:[{kbExpr:f.EditorContextKeys.focus,primary:61,mac:{primary:2085,secondary:[61]},weight:100},{kbExpr:u.ContextKeyExpr.and(f.EditorContextKeys.focus,g.CONTEXT_FIND_INPUT_FOCUSED),primary:3,weight:100}]})}_run(j){return j.moveToNextMatch()?(j.editor.pushUndoStop(),!0):!1}}e.NextMatchFindAction=x;class T extends P{constructor(){super({id:g.FIND_IDS.PreviousMatchFindAction,label:n.localize(9,null),alias:"Find Previous",precondition:void 0,kbOpts:[{kbExpr:f.EditorContextKeys.focus,primary:1085,mac:{primary:3109,secondary:[1085]},weight:100},{kbExpr:u.ContextKeyExpr.and(f.EditorContextKeys.focus,g.CONTEXT_FIND_INPUT_FOCUSED),primary:1027,weight:100}]})}_run(j){return j.moveToPrevMatch()}}e.PreviousMatchFindAction=T;class A extends D.EditorAction{constructor(){super({id:g.FIND_IDS.GoToMatchFindAction,label:n.localize(10,null),alias:"Go to Match...",precondition:g.CONTEXT_FIND_WIDGET_VISIBLE}),this._highlightDecorations=[]}run(j,R,K){const G=b.get(R);if(!G)return;const Z=G.getState().matchesCount;if(Z<1){j.get(c.INotificationService).notify({severity:c.Severity.Warning,message:n.localize(11,null)});return}const X=j.get(o.IQuickInputService).createInputBox();X.placeholder=n.localize(12,null,Z);const H=V=>{const Y=parseInt(V);if(isNaN(Y))return;const ie=G.getState().matchesCount;if(Y>0&&Y<=ie)return Y-1;if(Y<0&&Y>=-ie)return ie+Y},B=V=>{const Y=H(V);if(typeof Y=="number"){X.validationMessage=void 0,G.goToMatch(Y);const ie=G.getState().currentMatch;ie&&this.addDecorations(R,ie)}else X.validationMessage=n.localize(13,null,G.getState().matchesCount),this.clearDecorations(R)};X.onDidChangeValue(V=>{B(V)}),X.onDidAccept(()=>{const V=H(X.value);typeof V=="number"?(G.goToMatch(V),X.hide()):X.validationMessage=n.localize(14,null,G.getState().matchesCount)}),X.onDidHide(()=>{this.clearDecorations(R),X.dispose()}),X.show()}clearDecorations(j){j.changeDecorations(R=>{this._highlightDecorations=R.deltaDecorations(this._highlightDecorations,[])})}addDecorations(j,R){j.changeDecorations(K=>{this._highlightDecorations=K.deltaDecorations(this._highlightDecorations,[{range:R,options:{description:"find-match-quick-access-range-highlight",className:"rangeHighlight",isWholeLine:!0}},{range:R,options:{description:"find-match-quick-access-range-highlight-overview",overviewRuler:{color:(0,l.themeColorFromId)(S.overviewRulerRangeHighlight),position:_.OverviewRulerLane.Full}}}])})}}e.MoveToMatchFindAction=A;class N extends D.EditorAction{run(j,R){return we(this,void 0,void 0,function*(){const K=b.get(R);if(!K)return;const G=v(R,"single",!1);G&&K.setSearchString(G),this._run(K)||(yield K.start({forceRevealReplace:!1,seedSearchStringFromSelection:"none",seedSearchStringFromNonEmptySelection:!1,seedSearchStringFromGlobalClipboard:!1,shouldFocus:0,shouldAnimate:!0,updateSearchScope:!1,loop:R.getOption(40).loop}),this._run(K))})}}e.SelectionMatchFindAction=N;class F extends N{constructor(){super({id:g.FIND_IDS.NextSelectionMatchFindAction,label:n.localize(15,null),alias:"Find Next Selection",precondition:void 0,kbOpts:{kbExpr:f.EditorContextKeys.focus,primary:2109,weight:100}})}_run(j){return j.moveToNextMatch()}}e.NextSelectionMatchFindAction=F;class O extends N{constructor(){super({id:g.FIND_IDS.PreviousSelectionMatchFindAction,label:n.localize(16,null),alias:"Find Previous Selection",precondition:void 0,kbOpts:{kbExpr:f.EditorContextKeys.focus,primary:3133,weight:100}})}_run(j){return j.moveToPrevMatch()}}e.PreviousSelectionMatchFindAction=O,e.StartFindReplaceAction=(0,D.registerMultiEditorAction)(new D.MultiEditorAction({id:g.FIND_IDS.StartFindReplaceAction,label:n.localize(17,null),alias:"Replace",precondition:u.ContextKeyExpr.or(f.EditorContextKeys.focus,u.ContextKeyExpr.has("editorIsOpen")),kbOpts:{kbExpr:null,primary:2086,mac:{primary:2596},weight:100},menuOpts:{menuId:t.MenuId.MenubarEditMenu,group:"3_find",title:n.localize(18,null),order:2}})),e.StartFindReplaceAction.addImplementation(0,(U,j,R)=>{if(!j.hasModel()||j.getOption(89))return!1;const K=b.get(j);if(!K)return!1;const G=j.getSelection(),Z=K.isFindInputFocused(),J=!G.isEmpty()&&G.startLineNumber===G.endLineNumber&&j.getOption(40).seedSearchStringFromSelection!=="never"&&!Z,X=Z||J?2:1;return K.start({forceRevealReplace:!0,seedSearchStringFromSelection:J?"single":"none",seedSearchStringFromNonEmptySelection:j.getOption(40).seedSearchStringFromSelection==="selection",seedSearchStringFromGlobalClipboard:j.getOption(40).seedSearchStringFromSelection!=="never",shouldFocus:X,shouldAnimate:!0,updateSearchScope:!1,loop:j.getOption(40).loop})}),(0,D.registerEditorContribution)(b.ID,w,0),(0,D.registerEditorAction)(I),(0,D.registerEditorAction)(M),(0,D.registerEditorAction)(x),(0,D.registerEditorAction)(T),(0,D.registerEditorAction)(A),(0,D.registerEditorAction)(F),(0,D.registerEditorAction)(O);const W=D.EditorCommand.bindToContribution(b.get);(0,D.registerEditorCommand)(new W({id:g.FIND_IDS.CloseFindWidgetCommand,precondition:g.CONTEXT_FIND_WIDGET_VISIBLE,handler:U=>U.closeFindWidget(),kbOpts:{weight:100+5,kbExpr:u.ContextKeyExpr.and(f.EditorContextKeys.focus,u.ContextKeyExpr.not("isComposing")),primary:9,secondary:[1033]}})),(0,D.registerEditorCommand)(new W({id:g.FIND_IDS.ToggleCaseSensitiveCommand,precondition:void 0,handler:U=>U.toggleCaseSensitive(),kbOpts:{weight:100+5,kbExpr:f.EditorContextKeys.focus,primary:g.ToggleCaseSensitiveKeybinding.primary,mac:g.ToggleCaseSensitiveKeybinding.mac,win:g.ToggleCaseSensitiveKeybinding.win,linux:g.ToggleCaseSensitiveKeybinding.linux}})),(0,D.registerEditorCommand)(new W({id:g.FIND_IDS.ToggleWholeWordCommand,precondition:void 0,handler:U=>U.toggleWholeWords(),kbOpts:{weight:100+5,kbExpr:f.EditorContextKeys.focus,primary:g.ToggleWholeWordKeybinding.primary,mac:g.ToggleWholeWordKeybinding.mac,win:g.ToggleWholeWordKeybinding.win,linux:g.ToggleWholeWordKeybinding.linux}})),(0,D.registerEditorCommand)(new W({id:g.FIND_IDS.ToggleRegexCommand,precondition:void 0,handler:U=>U.toggleRegex(),kbOpts:{weight:100+5,kbExpr:f.EditorContextKeys.focus,primary:g.ToggleRegexKeybinding.primary,mac:g.ToggleRegexKeybinding.mac,win:g.ToggleRegexKeybinding.win,linux:g.ToggleRegexKeybinding.linux}})),(0,D.registerEditorCommand)(new W({id:g.FIND_IDS.ToggleSearchScopeCommand,precondition:void 0,handler:U=>U.toggleSearchScope(),kbOpts:{weight:100+5,kbExpr:f.EditorContextKeys.focus,primary:g.ToggleSearchScopeKeybinding.primary,mac:g.ToggleSearchScopeKeybinding.mac,win:g.ToggleSearchScopeKeybinding.win,linux:g.ToggleSearchScopeKeybinding.linux}})),(0,D.registerEditorCommand)(new W({id:g.FIND_IDS.TogglePreserveCaseCommand,precondition:void 0,handler:U=>U.togglePreserveCase(),kbOpts:{weight:100+5,kbExpr:f.EditorContextKeys.focus,primary:g.TogglePreserveCaseKeybinding.primary,mac:g.TogglePreserveCaseKeybinding.mac,win:g.TogglePreserveCaseKeybinding.win,linux:g.TogglePreserveCaseKeybinding.linux}})),(0,D.registerEditorCommand)(new W({id:g.FIND_IDS.ReplaceOneAction,precondition:g.CONTEXT_FIND_WIDGET_VISIBLE,handler:U=>U.replace(),kbOpts:{weight:100+5,kbExpr:f.EditorContextKeys.focus,primary:3094}})),(0,D.registerEditorCommand)(new W({id:g.FIND_IDS.ReplaceOneAction,precondition:g.CONTEXT_FIND_WIDGET_VISIBLE,handler:U=>U.replace(),kbOpts:{weight:100+5,kbExpr:u.ContextKeyExpr.and(f.EditorContextKeys.focus,g.CONTEXT_REPLACE_INPUT_FOCUSED),primary:3}})),(0,D.registerEditorCommand)(new W({id:g.FIND_IDS.ReplaceAllAction,precondition:g.CONTEXT_FIND_WIDGET_VISIBLE,handler:U=>U.replaceAll(),kbOpts:{weight:100+5,kbExpr:f.EditorContextKeys.focus,primary:2563}})),(0,D.registerEditorCommand)(new W({id:g.FIND_IDS.ReplaceAllAction,precondition:g.CONTEXT_FIND_WIDGET_VISIBLE,handler:U=>U.replaceAll(),kbOpts:{weight:100+5,kbExpr:u.ContextKeyExpr.and(f.EditorContextKeys.focus,g.CONTEXT_REPLACE_INPUT_FOCUSED),primary:void 0,mac:{primary:2051}}})),(0,D.registerEditorCommand)(new W({id:g.FIND_IDS.SelectAllMatchesAction,precondition:g.CONTEXT_FIND_WIDGET_VISIBLE,handler:U=>U.selectAllMatches(),kbOpts:{weight:100+5,kbExpr:f.EditorContextKeys.focus,primary:515}}))}),define(ne[366],se([1,0,25,48,40,658,31,62,23,26]),function(Q,e,L,k,y,D,S,f,_,g){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.FoldingDecorationProvider=e.foldingManualExpandedIcon=e.foldingManualCollapsedIcon=e.foldingCollapsedIcon=e.foldingExpandedIcon=void 0;const C=(0,S.registerColor)("editor.foldBackground",{light:(0,S.transparent)(S.editorSelectionBackground,.3),dark:(0,S.transparent)(S.editorSelectionBackground,.3),hcDark:null,hcLight:null},(0,D.localize)(0,null),!0);(0,S.registerColor)("editorGutter.foldingControlForeground",{dark:S.iconForeground,light:S.iconForeground,hcDark:S.iconForeground,hcLight:S.iconForeground},(0,D.localize)(1,null)),e.foldingExpandedIcon=(0,f.registerIcon)("folding-expanded",L.Codicon.chevronDown,(0,D.localize)(2,null)),e.foldingCollapsedIcon=(0,f.registerIcon)("folding-collapsed",L.Codicon.chevronRight,(0,D.localize)(3,null)),e.foldingManualCollapsedIcon=(0,f.registerIcon)("folding-manual-collapsed",e.foldingCollapsedIcon,(0,D.localize)(4,null)),e.foldingManualExpandedIcon=(0,f.registerIcon)("folding-manual-expanded",e.foldingExpandedIcon,(0,D.localize)(5,null));const s={color:(0,_.themeColorFromId)(C),position:k.MinimapPosition.Inline};class i{constructor(t){this.editor=t,this.showFoldingControls="mouseover",this.showFoldingHighlights=!0}getDecorationOption(t,a,u){return a?i.HIDDEN_RANGE_DECORATION:this.showFoldingControls==="never"?t?this.showFoldingHighlights?i.NO_CONTROLS_COLLAPSED_HIGHLIGHTED_RANGE_DECORATION:i.NO_CONTROLS_COLLAPSED_RANGE_DECORATION:i.NO_CONTROLS_EXPANDED_RANGE_DECORATION:t?u?this.showFoldingHighlights?i.MANUALLY_COLLAPSED_HIGHLIGHTED_VISUAL_DECORATION:i.MANUALLY_COLLAPSED_VISUAL_DECORATION:this.showFoldingHighlights?i.COLLAPSED_HIGHLIGHTED_VISUAL_DECORATION:i.COLLAPSED_VISUAL_DECORATION:this.showFoldingControls==="mouseover"?u?i.MANUALLY_EXPANDED_AUTO_HIDE_VISUAL_DECORATION:i.EXPANDED_AUTO_HIDE_VISUAL_DECORATION:u?i.MANUALLY_EXPANDED_VISUAL_DECORATION:i.EXPANDED_VISUAL_DECORATION}changeDecorations(t){return this.editor.changeDecorations(t)}removeDecorations(t){this.editor.removeDecorations(t)}}e.FoldingDecorationProvider=i,i.COLLAPSED_VISUAL_DECORATION=y.ModelDecorationOptions.register({description:"folding-collapsed-visual-decoration",stickiness:0,afterContentClassName:"inline-folded",isWholeLine:!0,firstLineDecorationClassName:g.ThemeIcon.asClassName(e.foldingCollapsedIcon)}),i.COLLAPSED_HIGHLIGHTED_VISUAL_DECORATION=y.ModelDecorationOptions.register({description:"folding-collapsed-highlighted-visual-decoration",stickiness:0,afterContentClassName:"inline-folded",className:"folded-background",minimap:s,isWholeLine:!0,firstLineDecorationClassName:g.ThemeIcon.asClassName(e.foldingCollapsedIcon)}),i.MANUALLY_COLLAPSED_VISUAL_DECORATION=y.ModelDecorationOptions.register({description:"folding-manually-collapsed-visual-decoration",stickiness:0,afterContentClassName:"inline-folded",isWholeLine:!0,firstLineDecorationClassName:g.ThemeIcon.asClassName(e.foldingManualCollapsedIcon)}),i.MANUALLY_COLLAPSED_HIGHLIGHTED_VISUAL_DECORATION=y.ModelDecorationOptions.register({description:"folding-manually-collapsed-highlighted-visual-decoration",stickiness:0,afterContentClassName:"inline-folded",className:"folded-background",minimap:s,isWholeLine:!0,firstLineDecorationClassName:g.ThemeIcon.asClassName(e.foldingManualCollapsedIcon)}),i.NO_CONTROLS_COLLAPSED_RANGE_DECORATION=y.ModelDecorationOptions.register({description:"folding-no-controls-range-decoration",stickiness:0,afterContentClassName:"inline-folded",isWholeLine:!0}),i.NO_CONTROLS_COLLAPSED_HIGHLIGHTED_RANGE_DECORATION=y.ModelDecorationOptions.register({description:"folding-no-controls-range-decoration",stickiness:0,afterContentClassName:"inline-folded",className:"folded-background",minimap:s,isWholeLine:!0}),i.EXPANDED_VISUAL_DECORATION=y.ModelDecorationOptions.register({description:"folding-expanded-visual-decoration",stickiness:1,isWholeLine:!0,firstLineDecorationClassName:"alwaysShowFoldIcons "+g.ThemeIcon.asClassName(e.foldingExpandedIcon)}),i.EXPANDED_AUTO_HIDE_VISUAL_DECORATION=y.ModelDecorationOptions.register({description:"folding-expanded-auto-hide-visual-decoration",stickiness:1,isWholeLine:!0,firstLineDecorationClassName:g.ThemeIcon.asClassName(e.foldingExpandedIcon)}),i.MANUALLY_EXPANDED_VISUAL_DECORATION=y.ModelDecorationOptions.register({description:"folding-manually-expanded-visual-decoration",stickiness:0,isWholeLine:!0,firstLineDecorationClassName:"alwaysShowFoldIcons "+g.ThemeIcon.asClassName(e.foldingManualExpandedIcon)}),i.MANUALLY_EXPANDED_AUTO_HIDE_VISUAL_DECORATION=y.ModelDecorationOptions.register({description:"folding-manually-expanded-auto-hide-visual-decoration",stickiness:0,isWholeLine:!0,firstLineDecorationClassName:g.ThemeIcon.asClassName(e.foldingManualExpandedIcon)}),i.NO_CONTROLS_EXPANDED_RANGE_DECORATION=y.ModelDecorationOptions.register({description:"folding-no-controls-range-decoration",stickiness:0,isWholeLine:!0}),i.HIDDEN_RANGE_DECORATION=y.ModelDecorationOptions.register({description:"folding-hidden-range-decoration",stickiness:1})}),define(ne[255],se([1,0,13,19,9,63,2,11,20,108,16,21,29,32,291,543,292,657,15,366,182,293,43,76,58,18,6,27,22,51,28,444]),function(Q,e,L,k,y,D,S,f,_,g,C,s,i,n,t,a,u,h,r,c,o,d,l,p,m,v,b,w,E,I,M){"use strict";var P;Object.defineProperty(e,"__esModule",{value:!0}),e.RangesLimitReporter=e.FoldingController=void 0;const x=new r.RawContextKey("foldingEnabled",!1);let T=P=class extends S.Disposable{static get(ue){return ue.getContribution(P.ID)}static getFoldingRangeProviders(ue,te){var q,z;const ee=ue.foldingRangeProvider.ordered(te);return(z=(q=P._foldingRangeSelector)===null||q===void 0?void 0:q.call(P,ee,te))!==null&&z!==void 0?z:ee}constructor(ue,te,q,z,ee,$){super(),this.contextKeyService=te,this.languageConfigurationService=q,this.languageFeaturesService=$,this.localToDispose=this._register(new S.DisposableStore),this.editor=ue,this._foldingLimitReporter=new A(ue);const re=this.editor.getOptions();this._isEnabled=re.get(42),this._useFoldingProviders=re.get(43)!=="indentation",this._unfoldOnClickAfterEndOfLine=re.get(47),this._restoringViewState=!1,this._currentModelHasFoldedImports=!1,this._foldingImportsByDefault=re.get(45),this.updateDebounceInfo=ee.for($.foldingRangeProvider,"Folding",{min:200}),this.foldingModel=null,this.hiddenRangeModel=null,this.rangeProvider=null,this.foldingRegionPromise=null,this.foldingModelPromise=null,this.updateScheduler=null,this.cursorChangedScheduler=null,this.mouseDownInfo=null,this.foldingDecorationProvider=new c.FoldingDecorationProvider(ue),this.foldingDecorationProvider.showFoldingControls=re.get(108),this.foldingDecorationProvider.showFoldingHighlights=re.get(44),this.foldingEnabled=x.bindTo(this.contextKeyService),this.foldingEnabled.set(this._isEnabled),this._register(this.editor.onDidChangeModel(()=>this.onModelChanged())),this._register(this.editor.onDidChangeConfiguration(oe=>{if(oe.hasChanged(42)&&(this._isEnabled=this.editor.getOptions().get(42),this.foldingEnabled.set(this._isEnabled),this.onModelChanged()),oe.hasChanged(46)&&this.onModelChanged(),oe.hasChanged(108)||oe.hasChanged(44)){const ge=this.editor.getOptions();this.foldingDecorationProvider.showFoldingControls=ge.get(108),this.foldingDecorationProvider.showFoldingHighlights=ge.get(44),this.triggerFoldingModelChanged()}oe.hasChanged(43)&&(this._useFoldingProviders=this.editor.getOptions().get(43)!=="indentation",this.onFoldingStrategyChanged()),oe.hasChanged(47)&&(this._unfoldOnClickAfterEndOfLine=this.editor.getOptions().get(47)),oe.hasChanged(45)&&(this._foldingImportsByDefault=this.editor.getOptions().get(45))})),this.onModelChanged()}saveViewState(){const ue=this.editor.getModel();if(!ue||!this._isEnabled||ue.isTooLargeForTokenization())return{};if(this.foldingModel){const te=this.foldingModel.getMemento(),q=this.rangeProvider?this.rangeProvider.id:void 0;return{collapsedRegions:te,lineCount:ue.getLineCount(),provider:q,foldedImports:this._currentModelHasFoldedImports}}}restoreViewState(ue){const te=this.editor.getModel();if(!(!te||!this._isEnabled||te.isTooLargeForTokenization()||!this.hiddenRangeModel)&&ue&&(this._currentModelHasFoldedImports=!!ue.foldedImports,ue.collapsedRegions&&ue.collapsedRegions.length>0&&this.foldingModel)){this._restoringViewState=!0;try{this.foldingModel.applyMemento(ue.collapsedRegions)}finally{this._restoringViewState=!1}}}onModelChanged(){this.localToDispose.clear();const ue=this.editor.getModel();!this._isEnabled||!ue||ue.isTooLargeForTokenization()||(this._currentModelHasFoldedImports=!1,this.foldingModel=new t.FoldingModel(ue,this.foldingDecorationProvider),this.localToDispose.add(this.foldingModel),this.hiddenRangeModel=new a.HiddenRangeModel(this.foldingModel),this.localToDispose.add(this.hiddenRangeModel),this.localToDispose.add(this.hiddenRangeModel.onDidChange(te=>this.onHiddenRangesChanges(te))),this.updateScheduler=new L.Delayer(this.updateDebounceInfo.get(ue)),this.cursorChangedScheduler=new L.RunOnceScheduler(()=>this.revealCursor(),200),this.localToDispose.add(this.cursorChangedScheduler),this.localToDispose.add(this.languageFeaturesService.foldingRangeProvider.onDidChange(()=>this.onFoldingStrategyChanged())),this.localToDispose.add(this.editor.onDidChangeModelLanguageConfiguration(()=>this.onFoldingStrategyChanged())),this.localToDispose.add(this.editor.onDidChangeModelContent(te=>this.onDidChangeModelContent(te))),this.localToDispose.add(this.editor.onDidChangeCursorPosition(()=>this.onCursorPositionChanged())),this.localToDispose.add(this.editor.onMouseDown(te=>this.onEditorMouseDown(te))),this.localToDispose.add(this.editor.onMouseUp(te=>this.onEditorMouseUp(te))),this.localToDispose.add({dispose:()=>{var te,q;this.foldingRegionPromise&&(this.foldingRegionPromise.cancel(),this.foldingRegionPromise=null),(te=this.updateScheduler)===null||te===void 0||te.cancel(),this.updateScheduler=null,this.foldingModel=null,this.foldingModelPromise=null,this.hiddenRangeModel=null,this.cursorChangedScheduler=null,(q=this.rangeProvider)===null||q===void 0||q.dispose(),this.rangeProvider=null}}),this.triggerFoldingModelChanged())}onFoldingStrategyChanged(){var ue;(ue=this.rangeProvider)===null||ue===void 0||ue.dispose(),this.rangeProvider=null,this.triggerFoldingModelChanged()}getRangeProvider(ue){if(this.rangeProvider)return this.rangeProvider;const te=new u.IndentRangeProvider(ue,this.languageConfigurationService,this._foldingLimitReporter);if(this.rangeProvider=te,this._useFoldingProviders&&this.foldingModel){const q=P.getFoldingRangeProviders(this.languageFeaturesService,ue);q.length>0&&(this.rangeProvider=new d.SyntaxRangeProvider(ue,q,()=>this.triggerFoldingModelChanged(),this._foldingLimitReporter,te))}return this.rangeProvider}getFoldingModel(){return this.foldingModelPromise}onDidChangeModelContent(ue){var te;(te=this.hiddenRangeModel)===null||te===void 0||te.notifyChangeModelContent(ue),this.triggerFoldingModelChanged()}triggerFoldingModelChanged(){this.updateScheduler&&(this.foldingRegionPromise&&(this.foldingRegionPromise.cancel(),this.foldingRegionPromise=null),this.foldingModelPromise=this.updateScheduler.trigger(()=>{const ue=this.foldingModel;if(!ue)return null;const te=new m.StopWatch,q=this.getRangeProvider(ue.textModel),z=this.foldingRegionPromise=(0,L.createCancelablePromise)(ee=>q.compute(ee));return z.then(ee=>{if(ee&&z===this.foldingRegionPromise){let $;if(this._foldingImportsByDefault&&!this._currentModelHasFoldedImports){const ve=ee.setCollapsedAllOfType(i.FoldingRangeKind.Imports.value,!0);ve&&($=g.StableEditorScrollState.capture(this.editor),this._currentModelHasFoldedImports=ve)}const re=this.editor.getSelections(),oe=re?re.map(ve=>ve.startLineNumber):[];ue.update(ee,oe),$?.restore(this.editor);const ge=this.updateDebounceInfo.update(ue.textModel,te.elapsed());this.updateScheduler&&(this.updateScheduler.defaultDelay=ge)}return ue})}).then(void 0,ue=>((0,y.onUnexpectedError)(ue),null)))}onHiddenRangesChanges(ue){if(this.hiddenRangeModel&&ue.length&&!this._restoringViewState){const te=this.editor.getSelections();te&&this.hiddenRangeModel.adjustSelections(te)&&this.editor.setSelections(te)}this.editor.setHiddenAreas(ue,this)}onCursorPositionChanged(){this.hiddenRangeModel&&this.hiddenRangeModel.hasRanges()&&this.cursorChangedScheduler.schedule()}revealCursor(){const ue=this.getFoldingModel();ue&&ue.then(te=>{if(te){const q=this.editor.getSelections();if(q&&q.length>0){const z=[];for(const ee of q){const $=ee.selectionStartLineNumber;this.hiddenRangeModel&&this.hiddenRangeModel.isHidden($)&&z.push(...te.getAllRegionsAtLine($,re=>re.isCollapsed&&$>re.startLineNumber))}z.length&&(te.toggleCollapseState(z),this.reveal(q[0].getPosition()))}}}).then(void 0,y.onUnexpectedError)}onEditorMouseDown(ue){if(this.mouseDownInfo=null,!this.hiddenRangeModel||!ue.target||!ue.target.range||!ue.event.leftButton&&!ue.event.middleButton)return;const te=ue.target.range;let q=!1;switch(ue.target.type){case 4:{const z=ue.target.detail,ee=ue.target.element.offsetLeft;if(z.offsetX-ee<4)return;q=!0;break}case 7:{if(this._unfoldOnClickAfterEndOfLine&&this.hiddenRangeModel.hasRanges()&&!ue.target.detail.isAfterLines)break;return}case 6:{if(this.hiddenRangeModel.hasRanges()){const z=this.editor.getModel();if(z&&te.startColumn===z.getLineMaxColumn(te.startLineNumber))break}return}default:return}this.mouseDownInfo={lineNumber:te.startLineNumber,iconClicked:q}}onEditorMouseUp(ue){const te=this.foldingModel;if(!te||!this.mouseDownInfo||!ue.target)return;const q=this.mouseDownInfo.lineNumber,z=this.mouseDownInfo.iconClicked,ee=ue.target.range;if(!ee||ee.startLineNumber!==q)return;if(z){if(ue.target.type!==4)return}else{const re=this.editor.getModel();if(!re||ee.startColumn!==re.getLineMaxColumn(q))return}const $=te.getRegionAtLine(q);if($&&$.startLineNumber===q){const re=$.isCollapsed;if(z||re){const oe=ue.event.altKey;let ge=[];if(oe){const ve=Le=>!Le.containedBy($)&&!$.containedBy(Le),Se=te.getRegionsInside(null,ve);for(const Le of Se)Le.isCollapsed&&ge.push(Le);ge.length===0&&(ge=Se)}else{const ve=ue.event.middleButton||ue.event.shiftKey;if(ve)for(const Se of te.getRegionsInside($))Se.isCollapsed===re&&ge.push(Se);(re||!ve||ge.length===0)&&ge.push($)}te.toggleCollapseState(ge),this.reveal({lineNumber:q,column:1})}}}reveal(ue){this.editor.revealPositionInCenterIfOutsideViewport(ue,0)}};e.FoldingController=T,T.ID="editor.contrib.folding",e.FoldingController=T=P=ke([fe(1,r.IContextKeyService),fe(2,n.ILanguageConfigurationService),fe(3,l.INotificationService),fe(4,p.ILanguageFeatureDebounceService),fe(5,v.ILanguageFeaturesService)],T);class A{constructor(ue){this.editor=ue,this._onDidChange=new b.Emitter,this._computed=0,this._limited=!1}get limit(){return this.editor.getOptions().get(46)}update(ue,te){(ue!==this._computed||te!==this._limited)&&(this._computed=ue,this._limited=te,this._onDidChange.fire())}}e.RangesLimitReporter=A;class N extends C.EditorAction{runEditorCommand(ue,te,q){const z=ue.get(n.ILanguageConfigurationService),ee=T.get(te);if(!ee)return;const $=ee.getFoldingModel();if($)return this.reportTelemetry(ue,te),$.then(re=>{if(re){this.invoke(ee,re,te,q,z);const oe=te.getSelection();oe&&ee.reveal(oe.getStartPosition())}})}getSelectedLines(ue){const te=ue.getSelections();return te?te.map(q=>q.startLineNumber):[]}getLineNumbers(ue,te){return ue&&ue.selectionLines?ue.selectionLines.map(q=>q+1):this.getSelectedLines(te)}run(ue,te){}}function F(he){if(!_.isUndefined(he)){if(!_.isObject(he))return!1;const ue=he;if(!_.isUndefined(ue.levels)&&!_.isNumber(ue.levels)||!_.isUndefined(ue.direction)&&!_.isString(ue.direction)||!_.isUndefined(ue.selectionLines)&&(!Array.isArray(ue.selectionLines)||!ue.selectionLines.every(_.isNumber)))return!1}return!0}class O extends N{constructor(){super({id:"editor.unfold",label:h.localize(0,null),alias:"Unfold",precondition:x,kbOpts:{kbExpr:s.EditorContextKeys.editorTextFocus,primary:3166,mac:{primary:2654},weight:100},description:{description:"Unfold the content in the editor",args:[{name:"Unfold editor argument",description:`Property-value pairs that can be passed through this argument:
						* 'levels': Number of levels to unfold. If not set, defaults to 1.
						* 'direction': If 'up', unfold given number of levels up otherwise unfolds down.
						* 'selectionLines': Array of the start lines (0-based) of the editor selections to apply the unfold action to. If not set, the active selection(s) will be used.
						`,constraint:F,schema:{type:"object",properties:{levels:{type:"number",default:1},direction:{type:"string",enum:["up","down"],default:"down"},selectionLines:{type:"array",items:{type:"number"}}}}}]}})}invoke(ue,te,q,z){const ee=z&&z.levels||1,$=this.getLineNumbers(z,q);z&&z.direction==="up"?(0,t.setCollapseStateLevelsUp)(te,!1,ee,$):(0,t.setCollapseStateLevelsDown)(te,!1,ee,$)}}class W extends N{constructor(){super({id:"editor.unfoldRecursively",label:h.localize(1,null),alias:"Unfold Recursively",precondition:x,kbOpts:{kbExpr:s.EditorContextKeys.editorTextFocus,primary:(0,D.KeyChord)(2089,2142),weight:100}})}invoke(ue,te,q,z){(0,t.setCollapseStateLevelsDown)(te,!1,Number.MAX_VALUE,this.getSelectedLines(q))}}class U extends N{constructor(){super({id:"editor.fold",label:h.localize(2,null),alias:"Fold",precondition:x,kbOpts:{kbExpr:s.EditorContextKeys.editorTextFocus,primary:3164,mac:{primary:2652},weight:100},description:{description:"Fold the content in the editor",args:[{name:"Fold editor argument",description:`Property-value pairs that can be passed through this argument:
							* 'levels': Number of levels to fold.
							* 'direction': If 'up', folds given number of levels up otherwise folds down.
							* 'selectionLines': Array of the start lines (0-based) of the editor selections to apply the fold action to. If not set, the active selection(s) will be used.
							If no levels or direction is set, folds the region at the locations or if already collapsed, the first uncollapsed parent instead.
						`,constraint:F,schema:{type:"object",properties:{levels:{type:"number"},direction:{type:"string",enum:["up","down"]},selectionLines:{type:"array",items:{type:"number"}}}}}]}})}invoke(ue,te,q,z){const ee=this.getLineNumbers(z,q),$=z&&z.levels,re=z&&z.direction;typeof $!="number"&&typeof re!="string"?(0,t.setCollapseStateUp)(te,!0,ee):re==="up"?(0,t.setCollapseStateLevelsUp)(te,!0,$||1,ee):(0,t.setCollapseStateLevelsDown)(te,!0,$||1,ee)}}class j extends N{constructor(){super({id:"editor.toggleFold",label:h.localize(3,null),alias:"Toggle Fold",precondition:x,kbOpts:{kbExpr:s.EditorContextKeys.editorTextFocus,primary:(0,D.KeyChord)(2089,2090),weight:100}})}invoke(ue,te,q){const z=this.getSelectedLines(q);(0,t.toggleCollapseState)(te,1,z)}}class R extends N{constructor(){super({id:"editor.foldRecursively",label:h.localize(4,null),alias:"Fold Recursively",precondition:x,kbOpts:{kbExpr:s.EditorContextKeys.editorTextFocus,primary:(0,D.KeyChord)(2089,2140),weight:100}})}invoke(ue,te,q){const z=this.getSelectedLines(q);(0,t.setCollapseStateLevelsDown)(te,!0,Number.MAX_VALUE,z)}}class K extends N{constructor(){super({id:"editor.foldAllBlockComments",label:h.localize(5,null),alias:"Fold All Block Comments",precondition:x,kbOpts:{kbExpr:s.EditorContextKeys.editorTextFocus,primary:(0,D.KeyChord)(2089,2138),weight:100}})}invoke(ue,te,q,z,ee){if(te.regions.hasTypes())(0,t.setCollapseStateForType)(te,i.FoldingRangeKind.Comment.value,!0);else{const $=q.getModel();if(!$)return;const re=ee.getLanguageConfiguration($.getLanguageId()).comments;if(re&&re.blockCommentStartToken){const oe=new RegExp("^\\s*"+(0,f.escapeRegExpCharacters)(re.blockCommentStartToken));(0,t.setCollapseStateForMatchingLines)(te,oe,!0)}}}}class G extends N{constructor(){super({id:"editor.foldAllMarkerRegions",label:h.localize(6,null),alias:"Fold All Regions",precondition:x,kbOpts:{kbExpr:s.EditorContextKeys.editorTextFocus,primary:(0,D.KeyChord)(2089,2077),weight:100}})}invoke(ue,te,q,z,ee){if(te.regions.hasTypes())(0,t.setCollapseStateForType)(te,i.FoldingRangeKind.Region.value,!0);else{const $=q.getModel();if(!$)return;const re=ee.getLanguageConfiguration($.getLanguageId()).foldingRules;if(re&&re.markers&&re.markers.start){const oe=new RegExp(re.markers.start);(0,t.setCollapseStateForMatchingLines)(te,oe,!0)}}}}class Z extends N{constructor(){super({id:"editor.unfoldAllMarkerRegions",label:h.localize(7,null),alias:"Unfold All Regions",precondition:x,kbOpts:{kbExpr:s.EditorContextKeys.editorTextFocus,primary:(0,D.KeyChord)(2089,2078),weight:100}})}invoke(ue,te,q,z,ee){if(te.regions.hasTypes())(0,t.setCollapseStateForType)(te,i.FoldingRangeKind.Region.value,!1);else{const $=q.getModel();if(!$)return;const re=ee.getLanguageConfiguration($.getLanguageId()).foldingRules;if(re&&re.markers&&re.markers.start){const oe=new RegExp(re.markers.start);(0,t.setCollapseStateForMatchingLines)(te,oe,!1)}}}}class J extends N{constructor(){super({id:"editor.foldAllExcept",label:h.localize(8,null),alias:"Fold All Except Selected",precondition:x,kbOpts:{kbExpr:s.EditorContextKeys.editorTextFocus,primary:(0,D.KeyChord)(2089,2136),weight:100}})}invoke(ue,te,q){const z=this.getSelectedLines(q);(0,t.setCollapseStateForRest)(te,!0,z)}}class X extends N{constructor(){super({id:"editor.unfoldAllExcept",label:h.localize(9,null),alias:"Unfold All Except Selected",precondition:x,kbOpts:{kbExpr:s.EditorContextKeys.editorTextFocus,primary:(0,D.KeyChord)(2089,2134),weight:100}})}invoke(ue,te,q){const z=this.getSelectedLines(q);(0,t.setCollapseStateForRest)(te,!1,z)}}class H extends N{constructor(){super({id:"editor.foldAll",label:h.localize(10,null),alias:"Fold All",precondition:x,kbOpts:{kbExpr:s.EditorContextKeys.editorTextFocus,primary:(0,D.KeyChord)(2089,2069),weight:100}})}invoke(ue,te,q){(0,t.setCollapseStateLevelsDown)(te,!0)}}class B extends N{constructor(){super({id:"editor.unfoldAll",label:h.localize(11,null),alias:"Unfold All",precondition:x,kbOpts:{kbExpr:s.EditorContextKeys.editorTextFocus,primary:(0,D.KeyChord)(2089,2088),weight:100}})}invoke(ue,te,q){(0,t.setCollapseStateLevelsDown)(te,!1)}}class V extends N{getFoldingLevel(){return parseInt(this.id.substr(V.ID_PREFIX.length))}invoke(ue,te,q){(0,t.setCollapseStateAtLevel)(te,this.getFoldingLevel(),!0,this.getSelectedLines(q))}}V.ID_PREFIX="editor.foldLevel",V.ID=he=>V.ID_PREFIX+he;class Y extends N{constructor(){super({id:"editor.gotoParentFold",label:h.localize(12,null),alias:"Go to Parent Fold",precondition:x,kbOpts:{kbExpr:s.EditorContextKeys.editorTextFocus,weight:100}})}invoke(ue,te,q){const z=this.getSelectedLines(q);if(z.length>0){const ee=(0,t.getParentFoldLine)(z[0],te);ee!==null&&q.setSelection({startLineNumber:ee,startColumn:1,endLineNumber:ee,endColumn:1})}}}class ie extends N{constructor(){super({id:"editor.gotoPreviousFold",label:h.localize(13,null),alias:"Go to Previous Folding Range",precondition:x,kbOpts:{kbExpr:s.EditorContextKeys.editorTextFocus,weight:100}})}invoke(ue,te,q){const z=this.getSelectedLines(q);if(z.length>0){const ee=(0,t.getPreviousFoldLine)(z[0],te);ee!==null&&q.setSelection({startLineNumber:ee,startColumn:1,endLineNumber:ee,endColumn:1})}}}class ae extends N{constructor(){super({id:"editor.gotoNextFold",label:h.localize(14,null),alias:"Go to Next Folding Range",precondition:x,kbOpts:{kbExpr:s.EditorContextKeys.editorTextFocus,weight:100}})}invoke(ue,te,q){const z=this.getSelectedLines(q);if(z.length>0){const ee=(0,t.getNextFoldLine)(z[0],te);ee!==null&&q.setSelection({startLineNumber:ee,startColumn:1,endLineNumber:ee,endColumn:1})}}}class ce extends N{constructor(){super({id:"editor.createFoldingRangeFromSelection",label:h.localize(15,null),alias:"Create Folding Range from Selection",precondition:x,kbOpts:{kbExpr:s.EditorContextKeys.editorTextFocus,primary:(0,D.KeyChord)(2089,2135),weight:100}})}invoke(ue,te,q){var z;const ee=[],$=q.getSelections();if($){for(const re of $){let oe=re.endLineNumber;re.endColumn===1&&--oe,oe>re.startLineNumber&&(ee.push({startLineNumber:re.startLineNumber,endLineNumber:oe,type:void 0,isCollapsed:!0,source:1}),q.setSelection({startLineNumber:re.startLineNumber,startColumn:1,endLineNumber:re.startLineNumber,endColumn:1}))}if(ee.length>0){ee.sort((oe,ge)=>oe.startLineNumber-ge.startLineNumber);const re=o.FoldingRegions.sanitizeAndMerge(te.regions,ee,(z=q.getModel())===null||z===void 0?void 0:z.getLineCount());te.updatePost(o.FoldingRegions.fromFoldRanges(re))}}}}class de extends N{constructor(){super({id:"editor.removeManualFoldingRanges",label:h.localize(16,null),alias:"Remove Manual Folding Ranges",precondition:x,kbOpts:{kbExpr:s.EditorContextKeys.editorTextFocus,primary:(0,D.KeyChord)(2089,2137),weight:100}})}invoke(ue,te,q){const z=q.getSelections();if(z){const ee=[];for(const $ of z){const{startLineNumber:re,endLineNumber:oe}=$;ee.push(oe>=re?{startLineNumber:re,endLineNumber:oe}:{endLineNumber:oe,startLineNumber:re})}te.removeManualRanges(ee),ue.triggerFoldingModelChanged()}}}(0,C.registerEditorContribution)(T.ID,T,0),(0,C.registerEditorAction)(O),(0,C.registerEditorAction)(W),(0,C.registerEditorAction)(U),(0,C.registerEditorAction)(R),(0,C.registerEditorAction)(H),(0,C.registerEditorAction)(B),(0,C.registerEditorAction)(K),(0,C.registerEditorAction)(G),(0,C.registerEditorAction)(Z),(0,C.registerEditorAction)(J),(0,C.registerEditorAction)(X),(0,C.registerEditorAction)(j),(0,C.registerEditorAction)(Y),(0,C.registerEditorAction)(ie),(0,C.registerEditorAction)(ae),(0,C.registerEditorAction)(ce),(0,C.registerEditorAction)(de);for(let he=1;he<=7;he++)(0,C.registerInstantiatedEditorAction)(new V({id:V.ID(he),label:h.localize(17,null,he),alias:`Fold Level ${he}`,precondition:x,kbOpts:{kbExpr:s.EditorContextKeys.editorTextFocus,primary:(0,D.KeyChord)(2089,2048|21+he),weight:100}}));w.CommandsRegistry.registerCommand("_executeFoldingRangeProvider",function(he,...ue){return we(this,void 0,void 0,function*(){const[te]=ue;if(!(te instanceof E.URI))throw(0,y.illegalArgument)();const q=he.get(v.ILanguageFeaturesService),z=he.get(I.IModelService).getModel(te);if(!z)throw(0,y.illegalArgument)();const ee=he.get(M.IConfigurationService);if(!ee.getValue("editor.folding",{resource:te}))return[];const $=he.get(n.ILanguageConfigurationService),re=ee.getValue("editor.foldingStrategy",{resource:te}),oe={get limit(){return ee.getValue("editor.foldingMaximumRegions",{resource:te})},update:(De,ye)=>{}},ge=new u.IndentRangeProvider(z,$,oe);let ve=ge;if(re!=="indentation"){const De=T.getFoldingRangeProviders(q,z);De.length&&(ve=new d.SyntaxRangeProvider(z,De,()=>{},oe,ge))}const Se=yield ve.compute(k.CancellationToken.None),Le=[];try{if(Se)for(let De=0;De<Se.length;De++){const ye=Se.getType(De);Le.push({start:Se.getStartLineNumber(De),end:Se.getEndLineNumber(De),kind:ye?i.FoldingRangeKind.fromValue(ye):void 0})}return Le}finally{ve.dispose()}})})}),define(ne[367],se([1,0,7,310,14,2,12,5,40,29,321,103,8,34,13,21,15,599,28,84]),function(Q,e,L,k,y,D,S,f,_,g,C,s,i,n,t,a,u,h,r,c){"use strict";var o,d;Object.defineProperty(e,"__esModule",{value:!0}),e.EditorHoverStatusBar=e.ContentHoverWidget=e.ContentHoverController=void 0;const l=L.$;let p=o=class extends D.Disposable{constructor(N,F,O){super(),this._editor=N,this._instantiationService=F,this._keybindingService=O,this._currentResult=null,this._widget=this._register(this._instantiationService.createInstance(M,this._editor)),this._participants=[];for(const W of s.HoverParticipantRegistry.getAll())this._participants.push(this._instantiationService.createInstance(W,this._editor));this._participants.sort((W,U)=>W.hoverOrdinal-U.hoverOrdinal),this._computer=new x(this._editor,this._participants),this._hoverOperation=this._register(new C.HoverOperation(this._editor,this._computer)),this._register(this._hoverOperation.onResult(W=>{if(!this._computer.anchor)return;const U=W.hasLoadingMessage?this._addLoadingMessage(W.value):W.value;this._withResult(new m(this._computer.anchor,U,W.isComplete))})),this._register(L.addStandardDisposableListener(this._widget.getDomNode(),"keydown",W=>{W.equals(9)&&this.hide()})),this._register(g.TokenizationRegistry.onDidChange(()=>{this._widget.position&&this._currentResult&&this._setCurrentResult(this._currentResult)}))}get widget(){return this._widget}maybeShowAt(N){if(this._widget.isResizing)return!0;const F=[];for(const W of this._participants)if(W.suggestHoverAnchor){const U=W.suggestHoverAnchor(N);U&&F.push(U)}const O=N.target;if(O.type===6&&F.push(new s.HoverRangeAnchor(0,O.range,N.event.posx,N.event.posy)),O.type===7){const W=this._editor.getOption(49).typicalHalfwidthCharacterWidth/2;!O.detail.isAfterLines&&typeof O.detail.horizontalDistanceToText=="number"&&O.detail.horizontalDistanceToText<W&&F.push(new s.HoverRangeAnchor(0,O.range,N.event.posx,N.event.posy))}return F.length===0?this._startShowingOrUpdateHover(null,0,0,!1,N):(F.sort((W,U)=>U.priority-W.priority),this._startShowingOrUpdateHover(F[0],0,0,!1,N))}startShowingAtRange(N,F,O,W){this._startShowingOrUpdateHover(new s.HoverRangeAnchor(0,N,void 0,void 0),F,O,W,null)}_startShowingOrUpdateHover(N,F,O,W,U){return!this._widget.position||!this._currentResult?N?(this._startHoverOperationIfNecessary(N,F,O,W,!1),!0):!1:this._editor.getOption(59).sticky&&U&&this._widget.isMouseGettingCloser(U.event.posx,U.event.posy)?(N&&this._startHoverOperationIfNecessary(N,F,O,W,!0),!0):N?N&&this._currentResult.anchor.equals(N)?!0:N.canAdoptVisibleHover(this._currentResult.anchor,this._widget.position)?(this._setCurrentResult(this._currentResult.filter(N)),this._startHoverOperationIfNecessary(N,F,O,W,!1),!0):(this._setCurrentResult(null),this._startHoverOperationIfNecessary(N,F,O,W,!1),!0):(this._setCurrentResult(null),!1)}_startHoverOperationIfNecessary(N,F,O,W,U){this._computer.anchor&&this._computer.anchor.equals(N)||(this._hoverOperation.cancel(),this._computer.anchor=N,this._computer.shouldFocus=W,this._computer.source=O,this._computer.insistOnKeepingHoverVisible=U,this._hoverOperation.start(F))}_setCurrentResult(N){this._currentResult!==N&&(N&&N.messages.length===0&&(N=null),this._currentResult=N,this._currentResult?this._renderMessages(this._currentResult.anchor,this._currentResult.messages):this._widget.hide())}hide(){this._computer.anchor=null,this._hoverOperation.cancel(),this._setCurrentResult(null)}get isColorPickerVisible(){return this._widget.isColorPickerVisible}get isVisibleFromKeyboard(){return this._widget.isVisibleFromKeyboard}get isVisible(){return this._widget.isVisible}get isFocused(){return this._widget.isFocused}get isResizing(){return this._widget.isResizing}containsNode(N){return N?this._widget.getDomNode().contains(N):!1}_addLoadingMessage(N){if(this._computer.anchor){for(const F of this._participants)if(F.createLoadingMessage){const O=F.createLoadingMessage(this._computer.anchor);if(O)return N.slice(0).concat([O])}}return N}_withResult(N){this._widget.position&&this._currentResult&&this._currentResult.isComplete&&(!N.isComplete||this._computer.insistOnKeepingHoverVisible&&N.messages.length===0)||this._setCurrentResult(N)}_renderMessages(N,F){const{showAtPosition:O,showAtSecondaryPosition:W,highlightRange:U}=o.computeHoverRanges(this._editor,N.range,F),j=new D.DisposableStore,R=j.add(new P(this._keybindingService)),K=document.createDocumentFragment();let G=null;const Z={fragment:K,statusBar:R,setColorPicker:X=>G=X,onContentsChanged:()=>this._widget.onContentsChanged(),setMinimumDimensions:X=>this._widget.setMinimumDimensions(X),hide:()=>this.hide()};for(const X of this._participants){const H=F.filter(B=>B.owner===X);H.length>0&&j.add(X.renderHoverParts(Z,H))}const J=F.some(X=>X.isBeforeContent);if(R.hasContent&&K.appendChild(R.hoverElement),K.hasChildNodes()){if(U){const X=this._editor.createDecorationsCollection();X.set([{range:U,options:o._DECORATION_OPTIONS}]),j.add((0,D.toDisposable)(()=>{X.clear()}))}this._widget.showAt(K,new b(G,O,W,this._editor.getOption(59).above,this._computer.shouldFocus,this._computer.source,J,N.initialMousePosX,N.initialMousePosY,j))}else j.dispose()}static computeHoverRanges(N,F,O){let W=1;if(N.hasModel()){const G=N._getViewModel(),Z=G.coordinatesConverter,J=Z.convertModelRangeToViewRange(F),X=new S.Position(J.startLineNumber,G.getLineMinColumn(J.startLineNumber));W=Z.convertViewPositionToModelPosition(X).column}const U=F.startLineNumber;let j=F.startColumn,R=O[0].range,K=null;for(const G of O)R=f.Range.plusRange(R,G.range),G.range.startLineNumber===U&&G.range.endLineNumber===U&&(j=Math.max(Math.min(j,G.range.startColumn),W)),G.forceShowAtRange&&(K=G.range);return{showAtPosition:K?K.getStartPosition():new S.Position(U,F.startColumn),showAtSecondaryPosition:K?K.getStartPosition():new S.Position(U,j),highlightRange:R}}focus(){this._widget.focus()}scrollUp(){this._widget.scrollUp()}scrollDown(){this._widget.scrollDown()}scrollLeft(){this._widget.scrollLeft()}scrollRight(){this._widget.scrollRight()}pageUp(){this._widget.pageUp()}pageDown(){this._widget.pageDown()}goToTop(){this._widget.goToTop()}goToBottom(){this._widget.goToBottom()}};e.ContentHoverController=p,p._DECORATION_OPTIONS=_.ModelDecorationOptions.register({description:"content-hover-highlight",className:"hoverHighlight"}),e.ContentHoverController=p=o=ke([fe(1,i.IInstantiationService),fe(2,n.IKeybindingService)],p);class m{constructor(N,F,O){this.anchor=N,this.messages=F,this.isComplete=O}filter(N){const F=this.messages.filter(O=>O.isValidForHoverAnchor(N));return F.length===this.messages.length?this:new v(this,this.anchor,F,this.isComplete)}}class v extends m{constructor(N,F,O,W){super(F,O,W),this.original=N}filter(N){return this.original.filter(N)}}class b{constructor(N,F,O,W,U,j,R,K,G,Z){this.colorPicker=N,this.showAtPosition=F,this.showAtSecondaryPosition=O,this.preferAbove=W,this.stoleFocus=U,this.source=j,this.isBeforeContent=R,this.initialMousePosX=K,this.initialMousePosY=G,this.disposables=Z,this.closestMouseDistance=void 0}}const w=30,E=10,I=6;let M=d=class extends h.ResizableContentWidget{get isColorPickerVisible(){var N;return!!(!((N=this._visibleData)===null||N===void 0)&&N.colorPicker)}get isVisibleFromKeyboard(){var N;return((N=this._visibleData)===null||N===void 0?void 0:N.source)===1}get isVisible(){var N;return(N=this._hoverVisibleKey.get())!==null&&N!==void 0?N:!1}get isFocused(){var N;return(N=this._hoverFocusedKey.get())!==null&&N!==void 0?N:!1}constructor(N,F,O,W,U){const j=N.getOption(65)+8,R=150,K=new L.Dimension(R,j);super(N,K),this._configurationService=O,this._accessibilityService=W,this._keybindingService=U,this._hover=this._register(new k.HoverWidget),this._minimumSize=K,this._hoverVisibleKey=a.EditorContextKeys.hoverVisible.bindTo(F),this._hoverFocusedKey=a.EditorContextKeys.hoverFocused.bindTo(F),L.append(this._resizableNode.domNode,this._hover.containerDomNode),this._resizableNode.domNode.style.zIndex="50",this._register(this._editor.onDidLayoutChange(()=>this._layout())),this._register(this._editor.onDidChangeConfiguration(Z=>{Z.hasChanged(49)&&this._updateFont()}));const G=this._register(L.trackFocus(this._resizableNode.domNode));this._register(G.onDidFocus(()=>{this._hoverFocusedKey.set(!0)})),this._register(G.onDidBlur(()=>{this._hoverFocusedKey.set(!1)})),this._setHoverData(void 0),this._layout(),this._editor.addContentWidget(this)}dispose(){var N;super.dispose(),(N=this._visibleData)===null||N===void 0||N.disposables.dispose(),this._editor.removeContentWidget(this)}getId(){return d.ID}static _applyDimensions(N,F,O){const W=typeof F=="number"?`${F}px`:F,U=typeof O=="number"?`${O}px`:O;N.style.width=W,N.style.height=U}_setContentsDomNodeDimensions(N,F){const O=this._hover.contentsDomNode;return d._applyDimensions(O,N,F)}_setContainerDomNodeDimensions(N,F){const O=this._hover.containerDomNode;return d._applyDimensions(O,N,F)}_setHoverWidgetDimensions(N,F){this._setContentsDomNodeDimensions(N,F),this._setContainerDomNodeDimensions(N,F),this._layoutContentWidget()}static _applyMaxDimensions(N,F,O){const W=typeof F=="number"?`${F}px`:F,U=typeof O=="number"?`${O}px`:O;N.style.maxWidth=W,N.style.maxHeight=U}_setHoverWidgetMaxDimensions(N,F){d._applyMaxDimensions(this._hover.contentsDomNode,N,F),d._applyMaxDimensions(this._hover.containerDomNode,N,F),this._hover.containerDomNode.style.setProperty("--vscode-hover-maxWidth",typeof N=="number"?`${N}px`:N),this._layoutContentWidget()}_hasHorizontalScrollbar(){const N=this._hover.scrollbar.getScrollDimensions();return N.scrollWidth>N.width}_adjustContentsBottomPadding(){const N=this._hover.contentsDomNode,F=`${this._hover.scrollbar.options.horizontalScrollbarSize}px`;N.style.paddingBottom!==F&&(N.style.paddingBottom=F)}_setAdjustedHoverWidgetDimensions(N){this._setHoverWidgetMaxDimensions("none","none");const F=N.width,O=N.height;this._setHoverWidgetDimensions(F,O),this._hasHorizontalScrollbar()&&(this._adjustContentsBottomPadding(),this._setContentsDomNodeDimensions(F,O-E))}_updateResizableNodeMaxDimensions(){var N,F;const O=(N=this._findMaximumRenderingWidth())!==null&&N!==void 0?N:1/0,W=(F=this._findMaximumRenderingHeight())!==null&&F!==void 0?F:1/0;this._resizableNode.maxSize=new L.Dimension(O,W),this._setHoverWidgetMaxDimensions(O,W)}_resize(N){var F,O;d._lastDimensions=new L.Dimension(N.width,N.height),this._setAdjustedHoverWidgetDimensions(N),this._resizableNode.layout(N.height,N.width),this._updateResizableNodeMaxDimensions(),this._hover.scrollbar.scanDomNode(),this._editor.layoutContentWidget(this),(O=(F=this._visibleData)===null||F===void 0?void 0:F.colorPicker)===null||O===void 0||O.layout()}_findAvailableSpaceVertically(){var N;const F=(N=this._visibleData)===null||N===void 0?void 0:N.showAtPosition;if(F)return this._positionPreference===1?this._availableVerticalSpaceAbove(F):this._availableVerticalSpaceBelow(F)}_findMaximumRenderingHeight(){const N=this._findAvailableSpaceVertically();if(!N)return;let F=I;return Array.from(this._hover.contentsDomNode.children).forEach(O=>{F+=O.clientHeight}),this._hasHorizontalScrollbar()&&(F+=E),Math.min(N,F)}_isHoverTextOverflowing(){this._hover.containerDomNode.style.setProperty("--vscode-hover-whiteSpace","nowrap"),this._hover.containerDomNode.style.setProperty("--vscode-hover-sourceWhiteSpace","nowrap");const N=Array.from(this._hover.contentsDomNode.children).some(F=>F.scrollWidth>F.clientWidth);return this._hover.containerDomNode.style.removeProperty("--vscode-hover-whiteSpace"),this._hover.containerDomNode.style.removeProperty("--vscode-hover-sourceWhiteSpace"),N}_findMaximumRenderingWidth(){if(!this._editor||!this._editor.hasModel())return;const N=this._isHoverTextOverflowing(),F=typeof this._contentWidth>"u"?0:this._contentWidth-2;return N||this._hover.containerDomNode.clientWidth<F?L.getClientArea(document.body).width-14:this._hover.containerDomNode.clientWidth+2}isMouseGettingCloser(N,F){if(!this._visibleData)return!1;if(typeof this._visibleData.initialMousePosX>"u"||typeof this._visibleData.initialMousePosY>"u")return this._visibleData.initialMousePosX=N,this._visibleData.initialMousePosY=F,!1;const O=L.getDomNodePagePosition(this.getDomNode());typeof this._visibleData.closestMouseDistance>"u"&&(this._visibleData.closestMouseDistance=T(this._visibleData.initialMousePosX,this._visibleData.initialMousePosY,O.left,O.top,O.width,O.height));const W=T(N,F,O.left,O.top,O.width,O.height);return W>this._visibleData.closestMouseDistance+4?!1:(this._visibleData.closestMouseDistance=Math.min(this._visibleData.closestMouseDistance,W),!0)}_setHoverData(N){var F;(F=this._visibleData)===null||F===void 0||F.disposables.dispose(),this._visibleData=N,this._hoverVisibleKey.set(!!N),this._hover.containerDomNode.classList.toggle("hidden",!N)}_layout(){const{fontSize:N,lineHeight:F}=this._editor.getOption(49),O=this._hover.contentsDomNode;O.style.fontSize=`${N}px`,O.style.lineHeight=`${F/N}`,this._updateMaxDimensions()}_updateFont(){Array.prototype.slice.call(this._hover.contentsDomNode.getElementsByClassName("code")).forEach(F=>this._editor.applyFontInfo(F))}_updateContent(N){const F=this._hover.contentsDomNode;F.style.paddingBottom="",F.textContent="",F.appendChild(N)}_layoutContentWidget(){this._editor.layoutContentWidget(this),this._hover.onContentsChanged()}_updateMaxDimensions(){const N=Math.max(this._editor.getLayoutInfo().height/4,250,d._lastDimensions.height),F=Math.max(this._editor.getLayoutInfo().width*.66,500,d._lastDimensions.width);this._setHoverWidgetMaxDimensions(F,N)}_render(N,F){this._setHoverData(F),this._updateFont(),this._updateContent(N),this._updateMaxDimensions(),this.onContentsChanged(),this._editor.render()}getPosition(){var N;return this._visibleData?{position:this._visibleData.showAtPosition,secondaryPosition:this._visibleData.showAtSecondaryPosition,positionAffinity:this._visibleData.isBeforeContent?3:void 0,preference:[(N=this._positionPreference)!==null&&N!==void 0?N:1]}:null}showAt(N,F){var O,W,U,j;if(!this._editor||!this._editor.hasModel())return;this._render(N,F);const R=L.getTotalHeight(this._hover.containerDomNode),K=F.showAtPosition;this._positionPreference=(O=this._findPositionPreference(R,K))!==null&&O!==void 0?O:1,this.onContentsChanged(),F.stoleFocus&&this._hover.containerDomNode.focus(),(W=F.colorPicker)===null||W===void 0||W.layout();const G=(0,k.getHoverAccessibleViewHint)(this._configurationService.getValue("accessibility.verbosity.hover")===!0&&this._accessibilityService.isScreenReaderOptimized(),(j=(U=this._keybindingService.lookupKeybinding("editor.action.accessibleView"))===null||U===void 0?void 0:U.getAriaLabel())!==null&&j!==void 0?j:"");G&&(this._hover.contentsDomNode.ariaLabel=this._hover.contentsDomNode.textContent+", "+G)}hide(){if(!this._visibleData)return;const N=this._visibleData.stoleFocus||this._hoverFocusedKey.get();this._setHoverData(void 0),this._resizableNode.maxSize=new L.Dimension(1/0,1/0),this._resizableNode.clearSashHoverState(),this._hoverFocusedKey.set(!1),this._editor.layoutContentWidget(this),N&&this._editor.focus()}_removeConstraintsRenderNormally(){const N=this._editor.getLayoutInfo();this._resizableNode.layout(N.height,N.width),this._setHoverWidgetDimensions("auto","auto")}_adjustHoverHeightForScrollbar(N){var F;const O=this._hover.containerDomNode,W=this._hover.contentsDomNode,U=(F=this._findMaximumRenderingHeight())!==null&&F!==void 0?F:1/0;this._setContainerDomNodeDimensions(L.getTotalWidth(O),Math.min(U,N)),this._setContentsDomNodeDimensions(L.getTotalWidth(W),Math.min(U,N-E))}setMinimumDimensions(N){this._minimumSize=new L.Dimension(Math.max(this._minimumSize.width,N.width),Math.max(this._minimumSize.height,N.height)),this._updateMinimumWidth()}_updateMinimumWidth(){const N=typeof this._contentWidth>"u"?this._minimumSize.width:Math.min(this._contentWidth,this._minimumSize.width);this._resizableNode.minSize=new L.Dimension(N,this._minimumSize.height)}onContentsChanged(){var N;this._removeConstraintsRenderNormally();const F=this._hover.containerDomNode;let O=L.getTotalHeight(F),W=L.getTotalWidth(F);if(this._resizableNode.layout(O,W),this._setHoverWidgetDimensions(W,O),O=L.getTotalHeight(F),W=L.getTotalWidth(F),this._contentWidth=W,this._updateMinimumWidth(),this._resizableNode.layout(O,W),this._hasHorizontalScrollbar()&&(this._adjustContentsBottomPadding(),this._adjustHoverHeightForScrollbar(O)),!((N=this._visibleData)===null||N===void 0)&&N.showAtPosition){const U=L.getTotalHeight(this._hover.containerDomNode);this._positionPreference=this._findPositionPreference(U,this._visibleData.showAtPosition)}this._layoutContentWidget()}focus(){this._hover.containerDomNode.focus()}scrollUp(){const N=this._hover.scrollbar.getScrollPosition().scrollTop,F=this._editor.getOption(49);this._hover.scrollbar.setScrollPosition({scrollTop:N-F.lineHeight})}scrollDown(){const N=this._hover.scrollbar.getScrollPosition().scrollTop,F=this._editor.getOption(49);this._hover.scrollbar.setScrollPosition({scrollTop:N+F.lineHeight})}scrollLeft(){const N=this._hover.scrollbar.getScrollPosition().scrollLeft;this._hover.scrollbar.setScrollPosition({scrollLeft:N-w})}scrollRight(){const N=this._hover.scrollbar.getScrollPosition().scrollLeft;this._hover.scrollbar.setScrollPosition({scrollLeft:N+w})}pageUp(){const N=this._hover.scrollbar.getScrollPosition().scrollTop,F=this._hover.scrollbar.getScrollDimensions().height;this._hover.scrollbar.setScrollPosition({scrollTop:N-F})}pageDown(){const N=this._hover.scrollbar.getScrollPosition().scrollTop,F=this._hover.scrollbar.getScrollDimensions().height;this._hover.scrollbar.setScrollPosition({scrollTop:N+F})}goToTop(){this._hover.scrollbar.setScrollPosition({scrollTop:0})}goToBottom(){this._hover.scrollbar.setScrollPosition({scrollTop:this._hover.scrollbar.getScrollDimensions().scrollHeight})}};e.ContentHoverWidget=M,M.ID="editor.contrib.resizableContentHoverWidget",M._lastDimensions=new L.Dimension(0,0),e.ContentHoverWidget=M=d=ke([fe(1,u.IContextKeyService),fe(2,r.IConfigurationService),fe(3,c.IAccessibilityService),fe(4,n.IKeybindingService)],M);let P=class extends D.Disposable{get hasContent(){return this._hasContent}constructor(N){super(),this._keybindingService=N,this._hasContent=!1,this.hoverElement=l("div.hover-row.status-bar"),this.actionsElement=L.append(this.hoverElement,l("div.actions"))}addAction(N){const F=this._keybindingService.lookupKeybinding(N.commandId),O=F?F.getLabel():null;return this._hasContent=!0,this._register(k.HoverAction.render(this.actionsElement,N,O))}append(N){const F=L.append(this.actionsElement,N);return this._hasContent=!0,F}};e.EditorHoverStatusBar=P,e.EditorHoverStatusBar=P=ke([fe(0,n.IKeybindingService)],P);class x{get anchor(){return this._anchor}set anchor(N){this._anchor=N}get shouldFocus(){return this._shouldFocus}set shouldFocus(N){this._shouldFocus=N}get source(){return this._source}set source(N){this._source=N}get insistOnKeepingHoverVisible(){return this._insistOnKeepingHoverVisible}set insistOnKeepingHoverVisible(N){this._insistOnKeepingHoverVisible=N}constructor(N,F){this._editor=N,this._participants=F,this._anchor=null,this._shouldFocus=!1,this._source=0,this._insistOnKeepingHoverVisible=!1}static _getLineDecorations(N,F){if(F.type!==1&&!F.supportsMarkerHover)return[];const O=N.getModel(),W=F.range.startLineNumber;if(W>O.getLineCount())return[];const U=O.getLineMaxColumn(W);return N.getLineDecorations(W).filter(j=>{if(j.options.isWholeLine)return!0;const R=j.range.startLineNumber===W?j.range.startColumn:1,K=j.range.endLineNumber===W?j.range.endColumn:U;if(j.options.showIfCollapsed){if(R>F.range.startColumn+1||F.range.endColumn-1>K)return!1}else if(R>F.range.startColumn||F.range.endColumn>K)return!1;return!0})}computeAsync(N){const F=this._anchor;if(!this._editor.hasModel()||!F)return t.AsyncIterableObject.EMPTY;const O=x._getLineDecorations(this._editor,F);return t.AsyncIterableObject.merge(this._participants.map(W=>W.computeAsync?W.computeAsync(F,O,N):t.AsyncIterableObject.EMPTY))}computeSync(){if(!this._editor.hasModel()||!this._anchor)return[];const N=x._getLineDecorations(this._editor,this._anchor);let F=[];for(const O of this._participants)F=F.concat(O.computeSync(this._anchor,N));return(0,y.coalesce)(F)}}function T(A,N,F,O,W,U){const j=F+W/2,R=O+U/2,K=Math.max(Math.abs(A-j)-W/2,0),G=Math.max(Math.abs(N-R)-U/2,0);return Math.sqrt(K*K+G*G)}}),define(ne[885],se([1,0,2,364,8,367,34,6,18,16,21,15,51,32,342,7,199]),function(Q,e,L,k,y,D,S,f,_,g,C,s,i,n,t,a){"use strict";var u,h;Object.defineProperty(e,"__esModule",{value:!0}),e.StandaloneColorPickerWidget=e.StandaloneColorPickerController=void 0;let r=u=class extends L.Disposable{constructor(m,v,b,w,E,I,M){super(),this._editor=m,this._modelService=b,this._keybindingService=w,this._instantiationService=E,this._languageFeatureService=I,this._languageConfigurationService=M,this._standaloneColorPickerWidget=null,this._standaloneColorPickerVisible=C.EditorContextKeys.standaloneColorPickerVisible.bindTo(v),this._standaloneColorPickerFocused=C.EditorContextKeys.standaloneColorPickerFocused.bindTo(v)}showOrFocus(){var m;this._editor.hasModel()&&(this._standaloneColorPickerVisible.get()?this._standaloneColorPickerFocused.get()||(m=this._standaloneColorPickerWidget)===null||m===void 0||m.focus():this._standaloneColorPickerWidget=new d(this._editor,this._standaloneColorPickerVisible,this._standaloneColorPickerFocused,this._instantiationService,this._modelService,this._keybindingService,this._languageFeatureService,this._languageConfigurationService))}hide(){var m;this._standaloneColorPickerFocused.set(!1),this._standaloneColorPickerVisible.set(!1),(m=this._standaloneColorPickerWidget)===null||m===void 0||m.hide(),this._editor.focus()}insertColor(){var m;(m=this._standaloneColorPickerWidget)===null||m===void 0||m.updateEditor(),this.hide()}static get(m){return m.getContribution(u.ID)}};e.StandaloneColorPickerController=r,r.ID="editor.contrib.standaloneColorPickerController",e.StandaloneColorPickerController=r=u=ke([fe(1,s.IContextKeyService),fe(2,i.IModelService),fe(3,S.IKeybindingService),fe(4,y.IInstantiationService),fe(5,_.ILanguageFeaturesService),fe(6,n.ILanguageConfigurationService)],r),(0,g.registerEditorContribution)(r.ID,r,1);const c=8,o=22;let d=h=class extends L.Disposable{constructor(m,v,b,w,E,I,M,P){var x;super(),this._editor=m,this._standaloneColorPickerVisible=v,this._standaloneColorPickerFocused=b,this._modelService=E,this._keybindingService=I,this._languageFeaturesService=M,this._languageConfigurationService=P,this.allowEditorOverflow=!0,this._position=void 0,this._body=document.createElement("div"),this._colorHover=null,this._selectionSetInEditor=!1,this._onResult=this._register(new f.Emitter),this.onResult=this._onResult.event,this._standaloneColorPickerVisible.set(!0),this._standaloneColorPickerParticipant=w.createInstance(k.StandaloneColorPickerParticipant,this._editor),this._position=(x=this._editor._getViewModel())===null||x===void 0?void 0:x.getPrimaryCursorState().modelState.position;const T=this._editor.getSelection(),A=T?{startLineNumber:T.startLineNumber,startColumn:T.startColumn,endLineNumber:T.endLineNumber,endColumn:T.endColumn}:{startLineNumber:0,endLineNumber:0,endColumn:0,startColumn:0},N=this._register(a.trackFocus(this._body));this._register(N.onDidBlur(F=>{this.hide()})),this._register(N.onDidFocus(F=>{this.focus()})),this._register(this._editor.onDidChangeCursorPosition(()=>{this._selectionSetInEditor?this._selectionSetInEditor=!1:this.hide()})),this._register(this._editor.onMouseMove(F=>{var O;const W=(O=F.target.element)===null||O===void 0?void 0:O.classList;W&&W.contains("colorpicker-color-decoration")&&this.hide()})),this._register(this.onResult(F=>{this._render(F.value,F.foundInEditor)})),this._start(A),this._body.style.zIndex="50",this._editor.addContentWidget(this)}updateEditor(){this._colorHover&&this._standaloneColorPickerParticipant.updateEditorModel(this._colorHover)}getId(){return h.ID}getDomNode(){return this._body}getPosition(){if(!this._position)return null;const m=this._editor.getOption(59).above;return{position:this._position,secondaryPosition:this._position,preference:m?[1,2]:[2,1],positionAffinity:2}}hide(){this.dispose(),this._standaloneColorPickerVisible.set(!1),this._standaloneColorPickerFocused.set(!1),this._editor.removeContentWidget(this),this._editor.focus()}focus(){this._standaloneColorPickerFocused.set(!0),this._body.focus()}_start(m){return we(this,void 0,void 0,function*(){const v=yield this._computeAsync(m);v&&this._onResult.fire(new l(v.result,v.foundInEditor))})}_computeAsync(m){return we(this,void 0,void 0,function*(){if(!this._editor.hasModel())return null;const v={range:m,color:{red:0,green:0,blue:0,alpha:1}},b=yield this._standaloneColorPickerParticipant.createColorHover(v,new t.DefaultDocumentColorProvider(this._modelService,this._languageConfigurationService),this._languageFeaturesService.colorProvider);return b?{result:b.colorHover,foundInEditor:b.foundInEditor}:null})}_render(m,v){const b=document.createDocumentFragment(),w=this._register(new D.EditorHoverStatusBar(this._keybindingService));let E;const I={fragment:b,statusBar:w,setColorPicker:W=>E=W,onContentsChanged:()=>{},hide:()=>this.hide()};if(this._colorHover=m,this._register(this._standaloneColorPickerParticipant.renderHoverParts(I,[m])),E===void 0)return;this._body.classList.add("standalone-colorpicker-body"),this._body.style.maxHeight=Math.max(this._editor.getLayoutInfo().height/4,250)+"px",this._body.style.maxWidth=Math.max(this._editor.getLayoutInfo().width*.66,500)+"px",this._body.tabIndex=0,this._body.appendChild(b),E.layout();const M=E.body,P=M.saturationBox.domNode.clientWidth,x=M.domNode.clientWidth-P-o-c,T=E.body.enterButton;T?.onClicked(()=>{this.updateEditor(),this.hide()});const A=E.header,N=A.pickedColorNode;N.style.width=P+c+"px";const F=A.originalColorNode;F.style.width=x+"px";const O=E.header.closeButton;O?.onClicked(()=>{this.hide()}),v&&(T&&(T.button.textContent="Replace"),this._selectionSetInEditor=!0,this._editor.setSelection(m.range)),this._editor.layoutContentWidget(this)}};e.StandaloneColorPickerWidget=d,d.ID="editor.contrib.standaloneColorPickerWidget",e.StandaloneColorPickerWidget=d=h=ke([fe(3,y.IInstantiationService),fe(4,i.IModelService),fe(5,S.IKeybindingService),fe(6,_.ILanguageFeaturesService),fe(7,n.ILanguageConfigurationService)],d);class l{constructor(m,v){this.value=m,this.foundInEditor=v}}}),define(ne[886],se([1,0,16,645,885,21,30,199]),function(Q,e,L,k,y,D,S){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ShowOrFocusStandaloneColorPicker=void 0;class f extends L.EditorAction2{constructor(){super({id:"editor.action.showOrFocusStandaloneColorPicker",title:{value:(0,k.localize)(0,null),mnemonicTitle:(0,k.localize)(1,null),original:"Show or Focus Standalone Color Picker"},precondition:void 0,menu:[{id:S.MenuId.CommandPalette}]})}runEditorCommand(s,i){var n;(n=y.StandaloneColorPickerController.get(i))===null||n===void 0||n.showOrFocus()}}e.ShowOrFocusStandaloneColorPicker=f;class _ extends L.EditorAction{constructor(){super({id:"editor.action.hideColorPicker",label:(0,k.localize)(2,null),alias:"Hide the Color Picker",precondition:D.EditorContextKeys.standaloneColorPickerVisible.isEqualTo(!0),kbOpts:{primary:9,weight:100}})}run(s,i){var n;(n=y.StandaloneColorPickerController.get(i))===null||n===void 0||n.hide()}}class g extends L.EditorAction{constructor(){super({id:"editor.action.insertColorWithStandaloneColorPicker",label:(0,k.localize)(3,null),alias:"Insert Color with Standalone Color Picker",precondition:D.EditorContextKeys.standaloneColorPickerFocused.isEqualTo(!0),kbOpts:{primary:3,weight:100}})}run(s,i){var n;(n=y.StandaloneColorPickerController.get(i))===null||n===void 0||n.insertColor()}}(0,L.registerEditorAction)(_),(0,L.registerEditorAction)(g),(0,S.registerAction2)(f)}),define(ne[887],se([1,0,13,9,104,16,5,24,21,40,115,674,544,449]),function(Q,e,L,k,y,D,S,f,_,g,C,s,i){"use strict";var n;Object.defineProperty(e,"__esModule",{value:!0});let t=n=class{static get(r){return r.getContribution(n.ID)}constructor(r,c){this.editor=r,this.editorWorkerService=c,this.decorations=this.editor.createDecorationsCollection()}dispose(){}run(r,c){var o;(o=this.currentRequest)===null||o===void 0||o.cancel();const d=this.editor.getSelection(),l=this.editor.getModel();if(!l||!d)return;let p=d;if(p.startLineNumber!==p.endLineNumber)return;const m=new y.EditorState(this.editor,5),v=l.uri;return this.editorWorkerService.canNavigateValueSet(v)?(this.currentRequest=(0,L.createCancelablePromise)(b=>this.editorWorkerService.navigateValueSet(v,p,c)),this.currentRequest.then(b=>{var w;if(!b||!b.range||!b.value||!m.validate(this.editor))return;const E=S.Range.lift(b.range);let I=b.range;const M=b.value.length-(p.endColumn-p.startColumn);I={startLineNumber:I.startLineNumber,startColumn:I.startColumn,endLineNumber:I.endLineNumber,endColumn:I.startColumn+b.value.length},M>1&&(p=new f.Selection(p.startLineNumber,p.startColumn,p.endLineNumber,p.endColumn+M-1));const P=new i.InPlaceReplaceCommand(E,p,b.value);this.editor.pushUndoStop(),this.editor.executeCommand(r,P),this.editor.pushUndoStop(),this.decorations.set([{range:I,options:n.DECORATION}]),(w=this.decorationRemover)===null||w===void 0||w.cancel(),this.decorationRemover=(0,L.timeout)(350),this.decorationRemover.then(()=>this.decorations.clear()).catch(k.onUnexpectedError)}).catch(k.onUnexpectedError)):Promise.resolve(void 0)}};t.ID="editor.contrib.inPlaceReplaceController",t.DECORATION=g.ModelDecorationOptions.register({description:"in-place-replace",className:"valueSetReplacement"}),t=n=ke([fe(1,C.IEditorWorkerService)],t);class a extends D.EditorAction{constructor(){super({id:"editor.action.inPlaceReplace.up",label:s.localize(0,null),alias:"Replace with Previous Value",precondition:_.EditorContextKeys.writable,kbOpts:{kbExpr:_.EditorContextKeys.editorTextFocus,primary:3159,weight:100}})}run(r,c){const o=t.get(c);return o?o.run(this.id,!1):Promise.resolve(void 0)}}class u extends D.EditorAction{constructor(){super({id:"editor.action.inPlaceReplace.down",label:s.localize(1,null),alias:"Replace with Next Value",precondition:_.EditorContextKeys.writable,kbOpts:{kbExpr:_.EditorContextKeys.editorTextFocus,primary:3161,weight:100}})}run(r,c){const o=t.get(c);return o?o.run(this.id,!0):Promise.resolve(void 0)}}(0,D.registerEditorContribution)(t.ID,t,4),(0,D.registerEditorAction)(a),(0,D.registerEditorAction)(u)}),define(ne[256],se([1,0,7,13,25,2,11,26,5,40,8,452]),function(Q,e,L,k,y,D,S,f,_,g,C){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.InlineProgressManager=void 0;const s=g.ModelDecorationOptions.register({description:"inline-progress-widget",stickiness:1,showIfCollapsed:!0,after:{content:S.noBreakWhitespace,inlineClassName:"inline-editor-progress-decoration",inlineClassNameAffectsLetterSpacing:!0}});class i extends D.Disposable{constructor(a,u,h,r,c){super(),this.typeId=a,this.editor=u,this.range=h,this.delegate=c,this.allowEditorOverflow=!1,this.suppressMouseDown=!0,this.create(r),this.editor.addContentWidget(this),this.editor.layoutContentWidget(this)}create(a){this.domNode=L.$(".inline-progress-widget"),this.domNode.role="button",this.domNode.title=a;const u=L.$("span.icon");this.domNode.append(u),u.classList.add(...f.ThemeIcon.asClassNameArray(y.Codicon.loading),"codicon-modifier-spin");const h=()=>{const r=this.editor.getOption(65);this.domNode.style.height=`${r}px`,this.domNode.style.width=`${Math.ceil(.8*r)}px`};h(),this._register(this.editor.onDidChangeConfiguration(r=>{(r.hasChanged(51)||r.hasChanged(65))&&h()})),this._register(L.addDisposableListener(this.domNode,L.EventType.CLICK,r=>{this.delegate.cancel()}))}getId(){return i.baseId+"."+this.typeId}getDomNode(){return this.domNode}getPosition(){return{position:{lineNumber:this.range.startLineNumber,column:this.range.startColumn},preference:[0]}}dispose(){super.dispose(),this.editor.removeContentWidget(this)}}i.baseId="editor.widget.inlineProgressWidget";let n=class extends D.Disposable{constructor(a,u,h){super(),this.id=a,this._editor=u,this._instantiationService=h,this._showDelay=500,this._showPromise=this._register(new D.MutableDisposable),this._currentWidget=new D.MutableDisposable,this._operationIdPool=0,this._currentDecorations=u.createDecorationsCollection()}showWhile(a,u,h){return we(this,void 0,void 0,function*(){const r=this._operationIdPool++;this._currentOperation=r,this.clear(),this._showPromise.value=(0,k.disposableTimeout)(()=>{const c=_.Range.fromPositions(a);this._currentDecorations.set([{range:c,options:s}]).length>0&&(this._currentWidget.value=this._instantiationService.createInstance(i,this.id,this._editor,c,u,h))},this._showDelay);try{return yield h}finally{this._currentOperation===r&&(this.clear(),this._currentOperation=void 0)}})}clear(){this._showPromise.clear(),this._currentDecorations.clear(),this._currentWidget.clear()}};e.InlineProgressManager=n,e.InlineProgressManager=n=ke([fe(2,C.IInstantiationService)],n)}),define(ne[888],se([1,0,7,14,13,171,2,107,17,170,185,341,132,5,18,331,104,256,650,96,15,8,77,71,335]),function(Q,e,L,k,y,D,S,f,_,g,C,s,i,n,t,a,u,h,r,c,o,d,l,p,m){"use strict";var v;Object.defineProperty(e,"__esModule",{value:!0}),e.CopyPasteController=e.pasteWidgetVisibleCtx=e.changePasteTypeCommandId=void 0,e.changePasteTypeCommandId="editor.changePasteType",e.pasteWidgetVisibleCtx=new o.RawContextKey("pasteWidgetVisible",!1,(0,r.localize)(0,null));const b="application/vnd.code.copyMetadata";let w=v=class extends S.Disposable{static get(M){return M.getContribution(v.ID)}constructor(M,P,x,T,A,N,F){super(),this._bulkEditService=x,this._clipboardService=T,this._languageFeaturesService=A,this._quickInputService=N,this._progressService=F,this._editor=M;const O=M.getContainerDomNode();this._register((0,L.addDisposableListener)(O,"copy",W=>this.handleCopy(W))),this._register((0,L.addDisposableListener)(O,"cut",W=>this.handleCopy(W))),this._register((0,L.addDisposableListener)(O,"paste",W=>this.handlePaste(W),!0)),this._pasteProgressManager=this._register(new h.InlineProgressManager("pasteIntoEditor",M,P)),this._postPasteWidgetManager=this._register(P.createInstance(m.PostEditWidgetManager,"pasteIntoEditor",M,e.pasteWidgetVisibleCtx,{id:e.changePasteTypeCommandId,label:(0,r.localize)(1,null)}))}changePasteType(){this._postPasteWidgetManager.tryShowSelector()}pasteAs(M){this._editor.focus();try{this._pasteAsActionContext={preferredId:M},document.execCommand("paste")}finally{this._pasteAsActionContext=void 0}}isPasteAsEnabled(){return this._editor.getOption(83).enabled&&!this._editor.getOption(89)}handleCopy(M){var P,x;if(!this._editor.hasTextFocus()||(_.isWeb&&this._clipboardService.writeResources([]),!M.clipboardData||!this.isPasteAsEnabled()))return;const T=this._editor.getModel(),A=this._editor.getSelections();if(!T||!A?.length)return;const N=this._editor.getOption(36);let F=A;const O=A.length===1&&A[0].isEmpty();if(O){if(!N)return;F=[new n.Range(F[0].startLineNumber,1,F[0].startLineNumber,1+T.getLineLength(F[0].startLineNumber))]}const W=(P=this._editor._getViewModel())===null||P===void 0?void 0:P.getPlainTextToCopy(A,N,_.isWindows),j={multicursorText:Array.isArray(W)?W:null,pasteOnNewLine:O,mode:null},R=this._languageFeaturesService.documentPasteEditProvider.ordered(T).filter(X=>!!X.prepareDocumentPaste);if(!R.length){this.setCopyMetadata(M.clipboardData,{defaultPastePayload:j});return}const K=(0,s.toVSDataTransfer)(M.clipboardData),G=R.flatMap(X=>{var H;return(H=X.copyMimeTypes)!==null&&H!==void 0?H:[]}),Z=(0,g.generateUuid)();this.setCopyMetadata(M.clipboardData,{id:Z,providerCopyMimeTypes:G,defaultPastePayload:j});const J=(0,y.createCancelablePromise)(X=>we(this,void 0,void 0,function*(){const H=(0,k.coalesce)(yield Promise.all(R.map(B=>we(this,void 0,void 0,function*(){try{return yield B.prepareDocumentPaste(T,F,K,X)}catch(V){console.error(V);return}}))));H.reverse();for(const B of H)for(const[V,Y]of B)K.replace(V,Y);return K}));(x=this._currentCopyOperation)===null||x===void 0||x.dataTransferPromise.cancel(),this._currentCopyOperation={handle:Z,dataTransferPromise:J}}handlePaste(M){var P,x;return we(this,void 0,void 0,function*(){if(!M.clipboardData||!this._editor.hasTextFocus())return;(P=this._currentPasteOperation)===null||P===void 0||P.cancel(),this._currentPasteOperation=void 0;const T=this._editor.getModel(),A=this._editor.getSelections();if(!A?.length||!T||!this.isPasteAsEnabled())return;const N=this.fetchCopyMetadata(M),F=(0,s.toExternalVSDataTransfer)(M.clipboardData);F.delete(b);const O=[...M.clipboardData.types,...(x=N?.providerCopyMimeTypes)!==null&&x!==void 0?x:[],f.Mimes.uriList],W=this._languageFeaturesService.documentPasteEditProvider.ordered(T).filter(U=>{var j;return(j=U.pasteMimeTypes)===null||j===void 0?void 0:j.some(R=>(0,D.matchesMimeType)(R,O))});W.length&&(M.preventDefault(),M.stopImmediatePropagation(),this._pasteAsActionContext?this.showPasteAsPick(this._pasteAsActionContext.preferredId,W,A,F,N):this.doPasteInline(W,A,F,N))})}doPasteInline(M,P,x,T){const A=(0,y.createCancelablePromise)(N=>we(this,void 0,void 0,function*(){const F=this._editor;if(!F.hasModel())return;const O=F.getModel(),W=new u.EditorStateCancellationTokenSource(F,3,void 0,N);try{if(yield this.mergeInDataFromCopy(x,T,W.token),W.token.isCancellationRequested)return;const U=M.filter(R=>E(R,x));if(!U.length||U.length===1&&U[0].id==="text"){yield this.applyDefaultPasteHandler(x,T,W.token);return}const j=yield this.getPasteEdits(U,x,O,P,W.token);if(W.token.isCancellationRequested)return;if(j.length===1&&j[0].providerId==="text"){yield this.applyDefaultPasteHandler(x,T,W.token);return}if(j.length){const R=F.getOption(83).showPasteSelector==="afterPaste";return this._postPasteWidgetManager.applyEditAndShowIfNeeded(P,{activeEditIndex:0,allEdits:j},R,W.token)}yield this.applyDefaultPasteHandler(x,T,W.token)}finally{W.dispose(),this._currentPasteOperation===A&&(this._currentPasteOperation=void 0)}}));this._pasteProgressManager.showWhile(P[0].getEndPosition(),(0,r.localize)(2,null),A),this._currentPasteOperation=A}showPasteAsPick(M,P,x,T,A){const N=(0,y.createCancelablePromise)(F=>we(this,void 0,void 0,function*(){const O=this._editor;if(!O.hasModel())return;const W=O.getModel(),U=new u.EditorStateCancellationTokenSource(O,3,void 0,F);try{if(yield this.mergeInDataFromCopy(T,A,U.token),U.token.isCancellationRequested)return;let j=P.filter(Z=>E(Z,T));M&&(j=j.filter(Z=>Z.id===M));const R=yield this.getPasteEdits(j,T,W,x,U.token);if(U.token.isCancellationRequested||!R.length)return;let K;if(M)K=R.at(0);else{const Z=yield this._quickInputService.pick(R.map(J=>({label:J.label,description:J.providerId,detail:J.detail,edit:J})),{placeHolder:(0,r.localize)(3,null)});K=Z?.edit}if(!K)return;const G=(0,a.createCombinedWorkspaceEdit)(W.uri,x,K);yield this._bulkEditService.apply(G,{editor:this._editor})}finally{U.dispose(),this._currentPasteOperation===N&&(this._currentPasteOperation=void 0)}}));this._progressService.withProgress({location:10,title:(0,r.localize)(4,null)},()=>N)}setCopyMetadata(M,P){M.setData(b,JSON.stringify(P))}fetchCopyMetadata(M){var P;if(!M.clipboardData)return;const x=M.clipboardData.getData(b);if(x)try{return JSON.parse(x)}catch{return}const[T,A]=C.ClipboardEventUtils.getTextData(M.clipboardData);if(A)return{defaultPastePayload:{mode:A.mode,multicursorText:(P=A.multicursorText)!==null&&P!==void 0?P:null,pasteOnNewLine:!!A.isFromEmptySelection}}}mergeInDataFromCopy(M,P,x){var T;return we(this,void 0,void 0,function*(){if(P?.id&&((T=this._currentCopyOperation)===null||T===void 0?void 0:T.handle)===P.id){const A=yield this._currentCopyOperation.dataTransferPromise;if(x.isCancellationRequested)return;for(const[N,F]of A)M.replace(N,F)}if(!M.has(f.Mimes.uriList)){const A=yield this._clipboardService.readResources();if(x.isCancellationRequested)return;A.length&&M.append(f.Mimes.uriList,(0,D.createStringDataTransferItem)(D.UriList.create(A)))}})}getPasteEdits(M,P,x,T,A){return we(this,void 0,void 0,function*(){const N=yield(0,y.raceCancellation)(Promise.all(M.map(O=>we(this,void 0,void 0,function*(){var W;try{const U=yield(W=O.provideDocumentPasteEdits)===null||W===void 0?void 0:W.call(O,x,T,P,A);if(U)return Object.assign(Object.assign({},U),{providerId:O.id})}catch(U){console.error(U)}}))),A),F=(0,k.coalesce)(N??[]);return(0,a.sortEditsByYieldTo)(F),F})}applyDefaultPasteHandler(M,P,x){var T,A,N;return we(this,void 0,void 0,function*(){const F=(T=M.get(f.Mimes.text))!==null&&T!==void 0?T:M.get("text");if(!F)return;const O=yield F.asString();if(x.isCancellationRequested)return;const W={text:O,pasteOnNewLine:(A=P?.defaultPastePayload.pasteOnNewLine)!==null&&A!==void 0?A:!1,multicursorText:(N=P?.defaultPastePayload.multicursorText)!==null&&N!==void 0?N:null,mode:null};this._editor.trigger("keyboard","paste",W)})}};e.CopyPasteController=w,w.ID="editor.contrib.copyPasteActionController",e.CopyPasteController=w=v=ke([fe(1,d.IInstantiationService),fe(2,i.IBulkEditService),fe(3,c.IClipboardService),fe(4,t.ILanguageFeaturesService),fe(5,p.IQuickInputService),fe(6,l.IProgressService)],w);function E(I,M){var P;return!!(!((P=I.pasteMimeTypes)===null||P===void 0)&&P.some(x=>M.matches(x)))}}),define(ne[889],se([1,0,14,13,171,2,341,5,18,285,749,104,256,653,28,15,340,8,331,335]),function(Q,e,L,k,y,D,S,f,_,g,C,s,i,n,t,a,u,h,r,c){"use strict";var o;Object.defineProperty(e,"__esModule",{value:!0}),e.DropIntoEditorController=e.dropWidgetVisibleCtx=e.changeDropTypeCommandId=e.defaultProviderConfig=void 0,e.defaultProviderConfig="editor.experimental.dropIntoEditor.defaultProvider",e.changeDropTypeCommandId="editor.changeDropType",e.dropWidgetVisibleCtx=new a.RawContextKey("dropWidgetVisible",!1,(0,n.localize)(0,null));let d=o=class extends D.Disposable{static get(p){return p.getContribution(o.ID)}constructor(p,m,v,b,w){super(),this._configService=v,this._languageFeaturesService=b,this._treeViewsDragAndDropService=w,this.treeItemsTransfer=u.LocalSelectionTransfer.getInstance(),this._dropProgressManager=this._register(m.createInstance(i.InlineProgressManager,"dropIntoEditor",p)),this._postDropWidgetManager=this._register(m.createInstance(c.PostEditWidgetManager,"dropIntoEditor",p,e.dropWidgetVisibleCtx,{id:e.changeDropTypeCommandId,label:(0,n.localize)(1,null)})),this._register(p.onDropIntoEditor(E=>this.onDropIntoEditor(p,E.position,E.event)))}changeDropType(){this._postDropWidgetManager.tryShowSelector()}onDropIntoEditor(p,m,v){var b;return we(this,void 0,void 0,function*(){if(!v.dataTransfer||!p.hasModel())return;(b=this._currentOperation)===null||b===void 0||b.cancel(),p.focus(),p.setPosition(m);const w=(0,k.createCancelablePromise)(E=>we(this,void 0,void 0,function*(){const I=new s.EditorStateCancellationTokenSource(p,1,void 0,E);try{const M=yield this.extractDataTransferData(v);if(M.size===0||I.token.isCancellationRequested)return;const P=p.getModel();if(!P)return;const x=this._languageFeaturesService.documentOnDropEditProvider.ordered(P).filter(A=>A.dropMimeTypes?A.dropMimeTypes.some(N=>M.matches(N)):!0),T=yield this.getDropEdits(x,P,m,M,I);if(I.token.isCancellationRequested)return;if(T.length){const A=this.getInitialActiveEditIndex(P,T),N=p.getOption(35).showDropSelector==="afterDrop";yield this._postDropWidgetManager.applyEditAndShowIfNeeded([f.Range.fromPositions(m)],{activeEditIndex:A,allEdits:T},N,E)}}finally{I.dispose(),this._currentOperation===w&&(this._currentOperation=void 0)}}));this._dropProgressManager.showWhile(m,(0,n.localize)(2,null),w),this._currentOperation=w})}getDropEdits(p,m,v,b,w){return we(this,void 0,void 0,function*(){const E=yield(0,k.raceCancellation)(Promise.all(p.map(M=>we(this,void 0,void 0,function*(){try{const P=yield M.provideDocumentOnDropEdits(m,v,b,w.token);if(P)return Object.assign(Object.assign({},P),{providerId:M.id})}catch(P){console.error(P)}}))),w.token),I=(0,L.coalesce)(E??[]);return(0,r.sortEditsByYieldTo)(I)})}getInitialActiveEditIndex(p,m){const v=this._configService.getValue(e.defaultProviderConfig,{resource:p.uri});for(const[b,w]of Object.entries(v)){const E=m.findIndex(I=>w===I.providerId&&I.handledMimeType&&(0,y.matchesMimeType)(b,[I.handledMimeType]));if(E>=0)return E}return 0}extractDataTransferData(p){return we(this,void 0,void 0,function*(){if(!p.dataTransfer)return new y.VSDataTransfer;const m=(0,S.toExternalVSDataTransfer)(p.dataTransfer);if(this.treeItemsTransfer.hasData(g.DraggedTreeItemsIdentifier.prototype)){const v=this.treeItemsTransfer.getData(g.DraggedTreeItemsIdentifier.prototype);if(Array.isArray(v))for(const b of v){const w=yield this._treeViewsDragAndDropService.removeDragOperationTransfer(b.identifier);if(w)for(const[E,I]of w)m.replace(E,I)}}return m})}};e.DropIntoEditorController=d,d.ID="editor.contrib.dropIntoEditorController",e.DropIntoEditorController=d=o=ke([fe(1,h.IInstantiationService),fe(2,t.IConfigurationService),fe(3,_.ILanguageFeaturesService),fe(4,C.ITreeViewsDnDService)],d)}),define(ne[890],se([1,0,14,13,19,38,9,6,2,11,22,16,33,12,5,21,40,32,684,15,18,31,76,58,453]),function(Q,e,L,k,y,D,S,f,_,g,C,s,i,n,t,a,u,h,r,c,o,d,l,p){"use strict";var m;Object.defineProperty(e,"__esModule",{value:!0}),e.editorLinkedEditingBackground=e.LinkedEditingAction=e.LinkedEditingContribution=e.CONTEXT_ONTYPE_RENAME_INPUT_VISIBLE=void 0,e.CONTEXT_ONTYPE_RENAME_INPUT_VISIBLE=new c.RawContextKey("LinkedEditingInputVisible",!1);const v="linked-editing-decoration";let b=m=class extends _.Disposable{static get(P){return P.getContribution(m.ID)}constructor(P,x,T,A,N){super(),this.languageConfigurationService=A,this._syncRangesToken=0,this._localToDispose=this._register(new _.DisposableStore),this._editor=P,this._providers=T.linkedEditingRangeProvider,this._enabled=!1,this._visibleContextKey=e.CONTEXT_ONTYPE_RENAME_INPUT_VISIBLE.bindTo(x),this._debounceInformation=N.for(this._providers,"Linked Editing",{max:200}),this._currentDecorations=this._editor.createDecorationsCollection(),this._languageWordPattern=null,this._currentWordPattern=null,this._ignoreChangeEvent=!1,this._localToDispose=this._register(new _.DisposableStore),this._rangeUpdateTriggerPromise=null,this._rangeSyncTriggerPromise=null,this._currentRequest=null,this._currentRequestPosition=null,this._currentRequestModelVersion=null,this._register(this._editor.onDidChangeModel(()=>this.reinitialize(!0))),this._register(this._editor.onDidChangeConfiguration(F=>{(F.hasChanged(68)||F.hasChanged(91))&&this.reinitialize(!1)})),this._register(this._providers.onDidChange(()=>this.reinitialize(!1))),this._register(this._editor.onDidChangeModelLanguage(()=>this.reinitialize(!0))),this.reinitialize(!0)}reinitialize(P){const x=this._editor.getModel(),T=x!==null&&(this._editor.getOption(68)||this._editor.getOption(91))&&this._providers.has(x);if(T===this._enabled&&!P||(this._enabled=T,this.clearRanges(),this._localToDispose.clear(),!T||x===null))return;this._localToDispose.add(f.Event.runAndSubscribe(x.onDidChangeLanguageConfiguration,()=>{this._languageWordPattern=this.languageConfigurationService.getLanguageConfiguration(x.getLanguageId()).getWordDefinition()}));const A=new k.Delayer(this._debounceInformation.get(x)),N=()=>{var W;this._rangeUpdateTriggerPromise=A.trigger(()=>this.updateRanges(),(W=this._debounceDuration)!==null&&W!==void 0?W:this._debounceInformation.get(x))},F=new k.Delayer(0),O=W=>{this._rangeSyncTriggerPromise=F.trigger(()=>this._syncRanges(W))};this._localToDispose.add(this._editor.onDidChangeCursorPosition(()=>{N()})),this._localToDispose.add(this._editor.onDidChangeModelContent(W=>{if(!this._ignoreChangeEvent&&this._currentDecorations.length>0){const U=this._currentDecorations.getRange(0);if(U&&W.changes.every(j=>U.intersectRanges(j.range))){O(this._syncRangesToken);return}}N()})),this._localToDispose.add({dispose:()=>{A.dispose(),F.dispose()}}),this.updateRanges()}_syncRanges(P){if(!this._editor.hasModel()||P!==this._syncRangesToken||this._currentDecorations.length===0)return;const x=this._editor.getModel(),T=this._currentDecorations.getRange(0);if(!T||T.startLineNumber!==T.endLineNumber)return this.clearRanges();const A=x.getValueInRange(T);if(this._currentWordPattern){const F=A.match(this._currentWordPattern);if((F?F[0].length:0)!==A.length)return this.clearRanges()}const N=[];for(let F=1,O=this._currentDecorations.length;F<O;F++){const W=this._currentDecorations.getRange(F);if(W)if(W.startLineNumber!==W.endLineNumber)N.push({range:W,text:A});else{let U=x.getValueInRange(W),j=A,R=W.startColumn,K=W.endColumn;const G=g.commonPrefixLength(U,j);R+=G,U=U.substr(G),j=j.substr(G);const Z=g.commonSuffixLength(U,j);K-=Z,U=U.substr(0,U.length-Z),j=j.substr(0,j.length-Z),(R!==K||j.length!==0)&&N.push({range:new t.Range(W.startLineNumber,R,W.endLineNumber,K),text:j})}}if(N.length!==0)try{this._editor.popUndoStop(),this._ignoreChangeEvent=!0;const F=this._editor._getViewModel().getPrevEditOperationType();this._editor.executeEdits("linkedEditing",N),this._editor._getViewModel().setPrevEditOperationType(F)}finally{this._ignoreChangeEvent=!1}}dispose(){this.clearRanges(),super.dispose()}clearRanges(){this._visibleContextKey.set(!1),this._currentDecorations.clear(),this._currentRequest&&(this._currentRequest.cancel(),this._currentRequest=null,this._currentRequestPosition=null)}updateRanges(P=!1){return we(this,void 0,void 0,function*(){if(!this._editor.hasModel()){this.clearRanges();return}const x=this._editor.getPosition();if(!this._enabled&&!P||this._editor.getSelections().length>1){this.clearRanges();return}const T=this._editor.getModel(),A=T.getVersionId();if(this._currentRequestPosition&&this._currentRequestModelVersion===A){if(x.equals(this._currentRequestPosition))return;if(this._currentDecorations.length>0){const F=this._currentDecorations.getRange(0);if(F&&F.containsPosition(x))return}}this.clearRanges(),this._currentRequestPosition=x,this._currentRequestModelVersion=A;const N=(0,k.createCancelablePromise)(F=>we(this,void 0,void 0,function*(){try{const O=new p.StopWatch(!1),W=yield I(this._providers,T,x,F);if(this._debounceInformation.update(T,O.elapsed()),N!==this._currentRequest||(this._currentRequest=null,A!==T.getVersionId()))return;let U=[];W?.ranges&&(U=W.ranges),this._currentWordPattern=W?.wordPattern||this._languageWordPattern;let j=!1;for(let K=0,G=U.length;K<G;K++)if(t.Range.containsPosition(U[K],x)){if(j=!0,K!==0){const Z=U[K];U.splice(K,1),U.unshift(Z)}break}if(!j){this.clearRanges();return}const R=U.map(K=>({range:K,options:m.DECORATION}));this._visibleContextKey.set(!0),this._currentDecorations.set(R),this._syncRangesToken++}catch(O){(0,S.isCancellationError)(O)||(0,S.onUnexpectedError)(O),(this._currentRequest===N||!this._currentRequest)&&this.clearRanges()}}));return this._currentRequest=N,N})}};e.LinkedEditingContribution=b,b.ID="editor.contrib.linkedEditing",b.DECORATION=u.ModelDecorationOptions.register({description:"linked-editing",stickiness:0,className:v}),e.LinkedEditingContribution=b=m=ke([fe(1,c.IContextKeyService),fe(2,o.ILanguageFeaturesService),fe(3,h.ILanguageConfigurationService),fe(4,l.ILanguageFeatureDebounceService)],b);class w extends s.EditorAction{constructor(){super({id:"editor.action.linkedEditing",label:r.localize(0,null),alias:"Start Linked Editing",precondition:c.ContextKeyExpr.and(a.EditorContextKeys.writable,a.EditorContextKeys.hasRenameProvider),kbOpts:{kbExpr:a.EditorContextKeys.editorTextFocus,primary:3132,weight:100}})}runCommand(P,x){const T=P.get(i.ICodeEditorService),[A,N]=Array.isArray(x)&&x||[void 0,void 0];return C.URI.isUri(A)&&n.Position.isIPosition(N)?T.openCodeEditor({resource:A},T.getActiveCodeEditor()).then(F=>{F&&(F.setPosition(N),F.invokeWithinContext(O=>(this.reportTelemetry(O,F),this.run(O,F))))},S.onUnexpectedError):super.runCommand(P,x)}run(P,x){const T=b.get(x);return T?Promise.resolve(T.updateRanges(!0)):Promise.resolve()}}e.LinkedEditingAction=w;const E=s.EditorCommand.bindToContribution(b.get);(0,s.registerEditorCommand)(new E({id:"cancelLinkedEditingInput",precondition:e.CONTEXT_ONTYPE_RENAME_INPUT_VISIBLE,handler:M=>M.clearRanges(),kbOpts:{kbExpr:a.EditorContextKeys.editorTextFocus,weight:100+99,primary:9,secondary:[1033]}}));function I(M,P,x,T){const A=M.ordered(P);return(0,k.first)(A.map(N=>()=>we(this,void 0,void 0,function*(){try{return yield N.provideLinkedEditingRanges(P,x,T)}catch(F){(0,S.onUnexpectedExternalError)(F);return}})),N=>!!N&&L.isNonEmptyArray(N?.ranges))}e.editorLinkedEditingBackground=(0,d.registerColor)("editor.linkedEditingBackground",{dark:D.Color.fromHex("#f00").transparent(.3),light:D.Color.fromHex("#f00").transparent(.3),hcDark:D.Color.fromHex("#f00").transparent(.3),hcLight:D.Color.white},r.localize(1,null)),(0,s.registerModelAndPositionCommand)("_executeLinkedEditingProvider",(M,P,x)=>{const{linkedEditingRangeProvider:T}=M.get(o.ILanguageFeaturesService);return I(T,P,x,y.CancellationToken.None)}),(0,s.registerEditorContribution)(b.ID,b,1),(0,s.registerEditorAction)(w)}),define(ne[891],se([1,0,13,19,9,55,2,54,17,45,58,22,16,40,76,18,186,751,685,43,56,454]),function(Q,e,L,k,y,D,S,f,_,g,C,s,i,n,t,a,u,h,r,c,o){"use strict";var d;Object.defineProperty(e,"__esModule",{value:!0}),e.LinkDetector=void 0;let l=d=class extends S.Disposable{static get(E){return E.getContribution(d.ID)}constructor(E,I,M,P,x){super(),this.editor=E,this.openerService=I,this.notificationService=M,this.languageFeaturesService=P,this.providers=this.languageFeaturesService.linkProvider,this.debounceInformation=x.for(this.providers,"Links",{min:1e3,max:4e3}),this.computeLinks=this._register(new L.RunOnceScheduler(()=>this.computeLinksNow(),1e3)),this.computePromise=null,this.activeLinksList=null,this.currentOccurrences={},this.activeLinkDecorationId=null;const T=this._register(new u.ClickLinkGesture(E));this._register(T.onMouseMoveOrRelevantKeyDown(([A,N])=>{this._onEditorMouseMove(A,N)})),this._register(T.onExecute(A=>{this.onEditorMouseUp(A)})),this._register(T.onCancel(A=>{this.cleanUpActiveLinkDecoration()})),this._register(E.onDidChangeConfiguration(A=>{A.hasChanged(69)&&(this.updateDecorations([]),this.stop(),this.computeLinks.schedule(0))})),this._register(E.onDidChangeModelContent(A=>{this.editor.hasModel()&&this.computeLinks.schedule(this.debounceInformation.get(this.editor.getModel()))})),this._register(E.onDidChangeModel(A=>{this.currentOccurrences={},this.activeLinkDecorationId=null,this.stop(),this.computeLinks.schedule(0)})),this._register(E.onDidChangeModelLanguage(A=>{this.stop(),this.computeLinks.schedule(0)})),this._register(this.providers.onDidChange(A=>{this.stop(),this.computeLinks.schedule(0)})),this.computeLinks.schedule(0)}computeLinksNow(){return we(this,void 0,void 0,function*(){if(!this.editor.hasModel()||!this.editor.getOption(69))return;const E=this.editor.getModel();if(this.providers.has(E)){this.activeLinksList&&(this.activeLinksList.dispose(),this.activeLinksList=null),this.computePromise=(0,L.createCancelablePromise)(I=>(0,h.getLinks)(this.providers,E,I));try{const I=new C.StopWatch(!1);if(this.activeLinksList=yield this.computePromise,this.debounceInformation.update(E,I.elapsed()),E.isDisposed())return;this.updateDecorations(this.activeLinksList.links)}catch(I){(0,y.onUnexpectedError)(I)}finally{this.computePromise=null}}})}updateDecorations(E){const I=this.editor.getOption(76)==="altKey",M=[],P=Object.keys(this.currentOccurrences);for(const T of P){const A=this.currentOccurrences[T];M.push(A.decorationId)}const x=[];if(E)for(const T of E)x.push(m.decoration(T,I));this.editor.changeDecorations(T=>{const A=T.deltaDecorations(M,x);this.currentOccurrences={},this.activeLinkDecorationId=null;for(let N=0,F=A.length;N<F;N++){const O=new m(E[N],A[N]);this.currentOccurrences[O.decorationId]=O}})}_onEditorMouseMove(E,I){const M=this.editor.getOption(76)==="altKey";if(this.isEnabled(E,I)){this.cleanUpActiveLinkDecoration();const P=this.getLinkOccurrence(E.target.position);P&&this.editor.changeDecorations(x=>{P.activate(x,M),this.activeLinkDecorationId=P.decorationId})}else this.cleanUpActiveLinkDecoration()}cleanUpActiveLinkDecoration(){const E=this.editor.getOption(76)==="altKey";if(this.activeLinkDecorationId){const I=this.currentOccurrences[this.activeLinkDecorationId];I&&this.editor.changeDecorations(M=>{I.deactivate(M,E)}),this.activeLinkDecorationId=null}}onEditorMouseUp(E){if(!this.isEnabled(E))return;const I=this.getLinkOccurrence(E.target.position);I&&this.openLinkOccurrence(I,E.hasSideBySideModifier,!0)}openLinkOccurrence(E,I,M=!1){if(!this.openerService)return;const{link:P}=E;P.resolve(k.CancellationToken.None).then(x=>{if(typeof x=="string"&&this.editor.hasModel()){const T=this.editor.getModel().uri;if(T.scheme===f.Schemas.file&&x.startsWith(`${f.Schemas.file}:`)){const A=s.URI.parse(x);if(A.scheme===f.Schemas.file){const N=g.originalFSPath(A);let F=null;N.startsWith("/./")?F=`.${N.substr(1)}`:N.startsWith("//./")&&(F=`.${N.substr(2)}`),F&&(x=g.joinPath(T,F))}}}return this.openerService.open(x,{openToSide:I,fromUserGesture:M,allowContributedOpeners:!0,allowCommands:!0,fromWorkspace:!0})},x=>{const T=x instanceof Error?x.message:x;T==="invalid"?this.notificationService.warn(r.localize(0,null,P.url.toString())):T==="missing"?this.notificationService.warn(r.localize(1,null)):(0,y.onUnexpectedError)(x)})}getLinkOccurrence(E){if(!this.editor.hasModel()||!E)return null;const I=this.editor.getModel().getDecorationsInRange({startLineNumber:E.lineNumber,startColumn:E.column,endLineNumber:E.lineNumber,endColumn:E.column},0,!0);for(const M of I){const P=this.currentOccurrences[M.id];if(P)return P}return null}isEnabled(E,I){return!!(E.target.type===6&&(E.hasTriggerModifier||I&&I.keyCodeIsTriggerKey))}stop(){var E;this.computeLinks.cancel(),this.activeLinksList&&((E=this.activeLinksList)===null||E===void 0||E.dispose(),this.activeLinksList=null),this.computePromise&&(this.computePromise.cancel(),this.computePromise=null)}dispose(){super.dispose(),this.stop()}};e.LinkDetector=l,l.ID="editor.linkDetector",e.LinkDetector=l=d=ke([fe(1,o.IOpenerService),fe(2,c.INotificationService),fe(3,a.ILanguageFeaturesService),fe(4,t.ILanguageFeatureDebounceService)],l);const p={general:n.ModelDecorationOptions.register({description:"detected-link",stickiness:1,collapseOnReplaceEdit:!0,inlineClassName:"detected-link"}),active:n.ModelDecorationOptions.register({description:"detected-link-active",stickiness:1,collapseOnReplaceEdit:!0,inlineClassName:"detected-link-active"})};class m{static decoration(E,I){return{range:E.range,options:m._getOptions(E,I,!1)}}static _getOptions(E,I,M){const P=Object.assign({},M?p.active:p.general);return P.hoverMessage=v(E,I),P}constructor(E,I){this.link=E,this.decorationId=I}activate(E,I){E.changeDecorationOptions(this.decorationId,m._getOptions(this.link,I,!0))}deactivate(E,I){E.changeDecorationOptions(this.decorationId,m._getOptions(this.link,I,!1))}}function v(w,E){const I=w.url&&/^command:/i.test(w.url.toString()),M=w.tooltip?w.tooltip:I?r.localize(2,null):r.localize(3,null),P=E?_.isMacintosh?r.localize(4,null):r.localize(5,null):_.isMacintosh?r.localize(6,null):r.localize(7,null);if(w.url){let x="";if(/^command:/i.test(w.url.toString())){const A=w.url.toString().match(/^command:([^?#]+)/);if(A){const N=A[1];x=r.localize(8,null,N)}}return new D.MarkdownString("",!0).appendLink(w.url.toString(!0).replace(/ /g,"%20"),M,x).appendMarkdown(` (${P})`)}else return new D.MarkdownString().appendText(`${M} (${P})`)}class b extends i.EditorAction{constructor(){super({id:"editor.action.openLink",label:r.localize(9,null),alias:"Open Link",precondition:void 0})}run(E,I){const M=l.get(I);if(!M||!I.hasModel())return;const P=I.getSelections();for(const x of P){const T=M.getLinkOccurrence(x.getEndPosition());T&&M.openLinkOccurrence(T,!1)}}}(0,i.registerEditorContribution)(l.ID,l,1),(0,i.registerEditorAction)(b)}),define(ne[892],se([1,0,2,18,188,13,255,293,292,32,9,299,46]),function(Q,e,L,k,y,D,S,f,_,g,C,s,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.StickyModelProvider=void 0;var n;(function(d){d.OUTLINE_MODEL="outlineModel",d.FOLDING_PROVIDER_MODEL="foldingProviderModel",d.INDENTATION_MODEL="indentationModel"})(n||(n={}));var t;(function(d){d[d.VALID=0]="VALID",d[d.INVALID=1]="INVALID",d[d.CANCELED=2]="CANCELED"})(t||(t={}));let a=class extends L.Disposable{constructor(l,p,m,v){super(),this._editor=l,this._languageConfigurationService=p,this._languageFeaturesService=m,this._modelProviders=[],this._modelPromise=null,this._updateScheduler=this._register(new D.Delayer(300)),this._updateOperation=this._register(new L.DisposableStore);const b=new h(m),w=new o(this._editor,m),E=new c(this._editor,p);switch(v){case n.OUTLINE_MODEL:this._modelProviders.push(b),this._modelProviders.push(w),this._modelProviders.push(E);break;case n.FOLDING_PROVIDER_MODEL:this._modelProviders.push(w),this._modelProviders.push(E);break;case n.INDENTATION_MODEL:this._modelProviders.push(E);break}}_cancelModelPromise(){this._modelPromise&&(this._modelPromise.cancel(),this._modelPromise=null)}update(l,p,m){return we(this,void 0,void 0,function*(){return this._updateOperation.clear(),this._updateOperation.add({dispose:()=>{this._cancelModelPromise(),this._updateScheduler.cancel()}}),this._cancelModelPromise(),yield this._updateScheduler.trigger(()=>we(this,void 0,void 0,function*(){for(const v of this._modelProviders){const{statusPromise:b,modelPromise:w}=v.computeStickyModel(l,p,m);this._modelPromise=w;const E=yield b;if(this._modelPromise!==w)return null;switch(E){case t.CANCELED:return this._updateOperation.clear(),null;case t.VALID:return v.stickyModel}}return null})).catch(v=>((0,C.onUnexpectedError)(v),null))})}};e.StickyModelProvider=a,e.StickyModelProvider=a=ke([fe(1,g.ILanguageConfigurationService),fe(2,k.ILanguageFeaturesService)],a);class u{constructor(){this._stickyModel=null}get stickyModel(){return this._stickyModel}_invalid(){return this._stickyModel=null,t.INVALID}computeStickyModel(l,p,m){if(m.isCancellationRequested||!this.isProviderValid(l))return{statusPromise:this._invalid(),modelPromise:null};const v=(0,D.createCancelablePromise)(b=>this.createModelFromProvider(l,p,b));return{statusPromise:v.then(b=>this.isModelValid(b)?m.isCancellationRequested?t.CANCELED:(this._stickyModel=this.createStickyModel(l,p,m,b),t.VALID):this._invalid()).then(void 0,b=>((0,C.onUnexpectedError)(b),t.CANCELED)),modelPromise:v}}isModelValid(l){return!0}isProviderValid(l){return!0}}let h=class extends u{constructor(l){super(),this._languageFeaturesService=l}createModelFromProvider(l,p,m){return y.OutlineModel.create(this._languageFeaturesService.documentSymbolProvider,l,m)}createStickyModel(l,p,m,v){var b;const{stickyOutlineElement:w,providerID:E}=this._stickyModelFromOutlineModel(v,(b=this._stickyModel)===null||b===void 0?void 0:b.outlineProviderId);return new s.StickyModel(l.uri,p,w,E)}isModelValid(l){return l&&l.children.size>0}_stickyModelFromOutlineModel(l,p){let m;if(i.Iterable.first(l.children.values())instanceof y.OutlineGroup){const E=i.Iterable.find(l.children.values(),I=>I.id===p);if(E)m=E.children;else{let I="",M=-1,P;for(const[x,T]of l.children.entries()){const A=this._findSumOfRangesOfGroup(T);A>M&&(P=T,M=A,I=T.id)}p=I,m=P.children}}else m=l.children;const v=[],b=Array.from(m.values()).sort((E,I)=>{const M=new s.StickyRange(E.symbol.range.startLineNumber,E.symbol.range.endLineNumber),P=new s.StickyRange(I.symbol.range.startLineNumber,I.symbol.range.endLineNumber);return this._comparator(M,P)});for(const E of b)v.push(this._stickyModelFromOutlineElement(E,E.symbol.selectionRange.startLineNumber));return{stickyOutlineElement:new s.StickyElement(void 0,v,void 0),providerID:p}}_stickyModelFromOutlineElement(l,p){const m=[];for(const b of l.children.values())if(b.symbol.selectionRange.startLineNumber!==b.symbol.range.endLineNumber)if(b.symbol.selectionRange.startLineNumber!==p)m.push(this._stickyModelFromOutlineElement(b,b.symbol.selectionRange.startLineNumber));else for(const w of b.children.values())m.push(this._stickyModelFromOutlineElement(w,b.symbol.selectionRange.startLineNumber));m.sort((b,w)=>this._comparator(b.range,w.range));const v=new s.StickyRange(l.symbol.selectionRange.startLineNumber,l.symbol.range.endLineNumber);return new s.StickyElement(v,m,void 0)}_comparator(l,p){return l.startLineNumber!==p.startLineNumber?l.startLineNumber-p.startLineNumber:p.endLineNumber-l.endLineNumber}_findSumOfRangesOfGroup(l){let p=0;for(const m of l.children.values())p+=this._findSumOfRangesOfGroup(m);return l instanceof y.OutlineElement?p+l.symbol.range.endLineNumber-l.symbol.selectionRange.startLineNumber:p}};h=ke([fe(0,k.ILanguageFeaturesService)],h);class r extends u{constructor(l){super(),this._foldingLimitReporter=new S.RangesLimitReporter(l)}createStickyModel(l,p,m,v){const b=this._fromFoldingRegions(v);return new s.StickyModel(l.uri,p,b,void 0)}isModelValid(l){return l!==null}_fromFoldingRegions(l){const p=l.length,m=[],v=new s.StickyElement(void 0,[],void 0);for(let b=0;b<p;b++){const w=l.getParentIndex(b);let E;w!==-1?E=m[w]:E=v;const I=new s.StickyElement(new s.StickyRange(l.getStartLineNumber(b),l.getEndLineNumber(b)+1),[],E);E.children.push(I),m.push(I)}return v}}let c=class extends r{constructor(l,p){super(l),this._languageConfigurationService=p}createModelFromProvider(l,p,m){return new _.IndentRangeProvider(l,this._languageConfigurationService,this._foldingLimitReporter).compute(m)}};c=ke([fe(1,g.ILanguageConfigurationService)],c);let o=class extends r{constructor(l,p){super(l),this._languageFeaturesService=p}isProviderValid(l){return S.FoldingController.getFoldingRangeProviders(this._languageFeaturesService,l).length>0}createModelFromProvider(l,p,m){const v=S.FoldingController.getFoldingRangeProviders(this._languageFeaturesService,l);return new f.SyntaxRangeProvider(l,v,()=>this.createModelFromProvider(l,p,m),this._foldingLimitReporter,void 0).compute(m)}};o=ke([fe(1,k.ILanguageFeaturesService)],o)}),define(ne[893],se([1,0,2,18,19,13,14,6,32,892]),function(Q,e,L,k,y,D,S,f,_,g){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.StickyLineCandidateProvider=e.StickyLineCandidate=void 0;class C{constructor(n,t,a){this.startLineNumber=n,this.endLineNumber=t,this.nestingDepth=a}}e.StickyLineCandidate=C;let s=class extends L.Disposable{constructor(n,t,a){super(),this._languageFeaturesService=t,this._languageConfigurationService=a,this._onDidChangeStickyScroll=this._register(new f.Emitter),this.onDidChangeStickyScroll=this._onDidChangeStickyScroll.event,this._options=null,this._model=null,this._cts=null,this._stickyModelProvider=null,this._editor=n,this._sessionStore=this._register(new L.DisposableStore),this._updateSoon=this._register(new D.RunOnceScheduler(()=>this.update(),50)),this._register(this._editor.onDidChangeConfiguration(u=>{u.hasChanged(113)&&this.readConfiguration()})),this.readConfiguration()}readConfiguration(){this._stickyModelProvider=null,this._sessionStore.clear(),this._options=this._editor.getOption(113),this._options.enabled&&(this._stickyModelProvider=this._sessionStore.add(new g.StickyModelProvider(this._editor,this._languageConfigurationService,this._languageFeaturesService,this._options.defaultModel)),this._sessionStore.add(this._editor.onDidChangeModel(()=>{this._model=null,this._onDidChangeStickyScroll.fire(),this.update()})),this._sessionStore.add(this._editor.onDidChangeHiddenAreas(()=>this.update())),this._sessionStore.add(this._editor.onDidChangeModelContent(()=>this._updateSoon.schedule())),this._sessionStore.add(this._languageFeaturesService.documentSymbolProvider.onDidChange(()=>this.update())),this.update())}getVersionId(){var n;return(n=this._model)===null||n===void 0?void 0:n.version}update(){var n;return we(this,void 0,void 0,function*(){(n=this._cts)===null||n===void 0||n.dispose(!0),this._cts=new y.CancellationTokenSource,yield this.updateStickyModel(this._cts.token),this._onDidChangeStickyScroll.fire()})}updateStickyModel(n){return we(this,void 0,void 0,function*(){if(!this._editor.hasModel()||!this._stickyModelProvider){this._model=null;return}const t=this._editor.getModel(),a=t.getVersionId(),u=yield this._stickyModelProvider.update(t,a,n);n.isCancellationRequested||(this._model=u)})}updateIndex(n){return n===-1?n=0:n<0&&(n=-n-2),n}getCandidateStickyLinesIntersectingFromStickyModel(n,t,a,u,h){if(t.children.length===0)return;let r=h;const c=[];for(let l=0;l<t.children.length;l++){const p=t.children[l];p.range&&c.push(p.range.startLineNumber)}const o=this.updateIndex((0,S.binarySearch)(c,n.startLineNumber,(l,p)=>l-p)),d=this.updateIndex((0,S.binarySearch)(c,n.startLineNumber+u,(l,p)=>l-p));for(let l=o;l<=d;l++){const p=t.children[l];if(!p)return;if(p.range){const m=p.range.startLineNumber,v=p.range.endLineNumber;n.startLineNumber<=v+1&&m-1<=n.endLineNumber&&m!==r&&(r=m,a.push(new C(m,v-1,u+1)),this.getCandidateStickyLinesIntersectingFromStickyModel(n,p,a,u+1,m))}else this.getCandidateStickyLinesIntersectingFromStickyModel(n,p,a,u,h)}}getCandidateStickyLinesIntersecting(n){var t,a;if(!(!((t=this._model)===null||t===void 0)&&t.element))return[];let u=[];this.getCandidateStickyLinesIntersectingFromStickyModel(n,this._model.element,u,0,-1);const h=(a=this._editor._getViewModel())===null||a===void 0?void 0:a.getHiddenAreas();if(h)for(const r of h)u=u.filter(c=>!(c.startLineNumber>=r.startLineNumber&&c.endLineNumber<=r.endLineNumber+1));return u}};e.StickyLineCandidateProvider=s,e.StickyLineCandidateProvider=s=ke([fe(1,k.ILanguageFeaturesService),fe(2,_.ILanguageConfigurationService)],s)}),define(ne[894],se([1,0,7,89,2,26,251,162,12,93,127,95,255,366,291,461]),function(Q,e,L,k,y,D,S,f,_,g,C,s,i,n,t){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.StickyScrollWidget=e.StickyScrollWidgetState=void 0;class a{constructor(l,p,m,v=null){this.startLineNumbers=l,this.endLineNumbers=p,this.lastLineRelativePosition=m,this.showEndForLine=v}}e.StickyScrollWidgetState=a;const u=(0,k.createTrustedTypesPolicy)("stickyScrollViewLayer",{createHTML:d=>d}),h="data-sticky-line-index";class r extends y.Disposable{constructor(l){super(),this._editor=l,this._foldingIconStore=new y.DisposableStore,this._rootDomNode=document.createElement("div"),this._lineNumbersDomNode=document.createElement("div"),this._linesDomNodeScrollable=document.createElement("div"),this._linesDomNode=document.createElement("div"),this._lineHeight=this._editor.getOption(65),this._stickyLines=[],this._lineNumbers=[],this._lastLineRelativePosition=0,this._minContentWidthInPx=0,this._isOnGlyphMargin=!1,this._lineNumbersDomNode.className="sticky-widget-line-numbers",this._lineNumbersDomNode.setAttribute("role","none"),this._linesDomNode.className="sticky-widget-lines",this._linesDomNode.setAttribute("role","list"),this._linesDomNodeScrollable.className="sticky-widget-lines-scrollable",this._linesDomNodeScrollable.appendChild(this._linesDomNode),this._rootDomNode.className="sticky-widget",this._rootDomNode.classList.toggle("peek",l instanceof f.EmbeddedCodeEditorWidget),this._rootDomNode.appendChild(this._lineNumbersDomNode),this._rootDomNode.appendChild(this._linesDomNodeScrollable);const p=()=>{this._linesDomNode.style.left=this._editor.getOption(113).scrollWithEditor?`-${this._editor.getScrollLeft()}px`:"0px"};this._register(this._editor.onDidChangeConfiguration(m=>{m.hasChanged(113)&&p(),m.hasChanged(65)&&(this._lineHeight=this._editor.getOption(65))})),this._register(this._editor.onDidScrollChange(m=>{m.scrollLeftChanged&&p(),m.scrollWidthChanged&&this._updateWidgetWidth()})),this._register(this._editor.onDidChangeModel(()=>{p(),this._updateWidgetWidth()})),this._register(this._foldingIconStore),p(),this._register(this._editor.onDidLayoutChange(m=>{this._updateWidgetWidth()})),this._updateWidgetWidth()}get lineNumbers(){return this._lineNumbers}get lineNumberCount(){return this._lineNumbers.length}getCurrentLines(){return this._lineNumbers}setState(l){if(this._clearStickyWidget(),!l||!this._editor._getViewModel())return;if(l.startLineNumbers.length*this._lineHeight+l.lastLineRelativePosition>0){this._lastLineRelativePosition=l.lastLineRelativePosition;const m=[...l.startLineNumbers];l.showEndForLine!==null&&(m[l.showEndForLine]=l.endLineNumbers[l.showEndForLine]),this._lineNumbers=m}else this._lastLineRelativePosition=0,this._lineNumbers=[];this._renderRootNode()}_updateWidgetWidth(){const l=this._editor.getLayoutInfo(),m=this._editor.getOption(71).side==="left"?l.contentLeft-l.minimap.minimapCanvasOuterWidth:l.contentLeft;this._lineNumbersDomNode.style.width=`${m}px`,this._linesDomNodeScrollable.style.setProperty("--vscode-editorStickyScroll-scrollableWidth",`${this._editor.getScrollWidth()-l.verticalScrollbarWidth}px`),this._rootDomNode.style.width=`${l.width-l.minimap.minimapCanvasOuterWidth-l.verticalScrollbarWidth}px`}_clearStickyWidget(){this._stickyLines=[],this._foldingIconStore.clear(),L.clearNode(this._lineNumbersDomNode),L.clearNode(this._linesDomNode),this._rootDomNode.style.display="none"}_useFoldingOpacityTransition(l){this._lineNumbersDomNode.style.setProperty("--vscode-editorStickyScroll-foldingOpacityTransition",`opacity ${l?.5:0}s`)}_setFoldingIconsVisibility(l){for(const p of this._stickyLines){const m=p.foldingIcon;m&&m.setVisible(l?!0:m.isCollapsed)}}_renderRootNode(){var l;return we(this,void 0,void 0,function*(){const p=yield(l=i.FoldingController.get(this._editor))===null||l===void 0?void 0:l.getFoldingModel(),m=this._editor.getLayoutInfo();for(const[w,E]of this._lineNumbers.entries()){const I=this._renderChildNode(w,E,m,p);this._linesDomNode.appendChild(I.lineDomNode),this._lineNumbersDomNode.appendChild(I.lineNumberDomNode),this._stickyLines.push(I)}p&&(this._setFoldingHoverListeners(),this._useFoldingOpacityTransition(!this._isOnGlyphMargin));const v=this._lineNumbers.length*this._lineHeight+this._lastLineRelativePosition;if(v===0){this._clearStickyWidget();return}this._rootDomNode.style.display="block",this._lineNumbersDomNode.style.height=`${v}px`,this._linesDomNodeScrollable.style.height=`${v}px`,this._rootDomNode.style.height=`${v}px`,this._editor.getOption(71).side==="left"?this._rootDomNode.style.marginLeft=m.minimap.minimapCanvasOuterWidth+"px":this._rootDomNode.style.marginLeft="0px",this._updateMinContentWidth(),this._editor.layoutOverlayWidget(this)})}_setFoldingHoverListeners(){this._editor.getOption(108)==="mouseover"&&(this._foldingIconStore.add(L.addDisposableListener(this._lineNumbersDomNode,L.EventType.MOUSE_ENTER,p=>{this._isOnGlyphMargin=!0,this._setFoldingIconsVisibility(!0)})),this._foldingIconStore.add(L.addDisposableListener(this._lineNumbersDomNode,L.EventType.MOUSE_LEAVE,()=>{this._isOnGlyphMargin=!1,this._useFoldingOpacityTransition(!0),this._setFoldingIconsVisibility(!1)})))}_renderChildNode(l,p,m,v){const b=this._editor._getViewModel(),w=b.coordinatesConverter.convertModelPositionToViewPosition(new _.Position(p,1)).lineNumber,E=b.getViewLineRenderingData(w),I=this._editor.getOption(71).side,M=this._editor.getOption(66);let P;try{P=C.LineDecoration.filter(E.inlineDecorations,w,E.minColumn,E.maxColumn)}catch{P=[]}const x=new s.RenderLineInput(!0,!0,E.content,E.continuesWithWrappedLine,E.isBasicASCII,E.containsRTL,0,E.tokens,P,E.tabSize,E.startVisibleColumn,1,1,1,500,"none",!0,!0,null),T=new g.StringBuilder(2e3),A=(0,s.renderViewLine)(x,T);let N;u?N=u.createHTML(T.build()):N=T.build();const F=document.createElement("span");F.className="sticky-line-content",F.classList.add(`stickyLine${p}`),F.style.lineHeight=`${this._lineHeight}px`,F.innerHTML=N;const O=document.createElement("span");O.className="sticky-line-number",O.style.lineHeight=`${this._lineHeight}px`;const W=I==="left"?m.contentLeft-m.minimap.minimapCanvasOuterWidth:m.contentLeft;O.style.width=`${W}px`;const U=document.createElement("span");M.renderType===1||M.renderType===3&&p%10===0?U.innerText=p.toString():M.renderType===2&&(U.innerText=Math.abs(p-this._editor.getPosition().lineNumber).toString()),U.className="sticky-line-number-inner",U.style.lineHeight=`${this._lineHeight}px`,U.style.width=`${m.lineNumbersWidth}px`,U.style.float="left",I==="left"?U.style.paddingLeft=`${m.lineNumbersLeft-m.minimap.minimapCanvasOuterWidth}px`:I==="right"&&(U.style.paddingLeft=`${m.lineNumbersLeft}px`),O.appendChild(U);const j=this._renderFoldingIconForLine(O,v,l,p);this._editor.applyFontInfo(F),this._editor.applyFontInfo(U),F.setAttribute("role","listitem"),F.setAttribute(h,String(l)),F.tabIndex=0,O.style.lineHeight=`${this._lineHeight}px`,F.style.lineHeight=`${this._lineHeight}px`,O.style.height=`${this._lineHeight}px`,F.style.height=`${this._lineHeight}px`;const R=l===this._lineNumbers.length-1,K="0",G="1";F.style.zIndex=R?K:G,O.style.zIndex=R?K:G;const Z=`${l*this._lineHeight+this._lastLineRelativePosition+(j?.isCollapsed?1:0)}px`,J=`${l*this._lineHeight}px`;return F.style.top=R?Z:J,O.style.top=R?Z:J,new c(p,F,O,j,A.characterMapping)}_renderFoldingIconForLine(l,p,m,v){const b=this._editor.getOption(108);if(!p||b==="never")return;const w=p.regions,E=w.findRange(v),I=w.getStartLineNumber(E);if(!(v===I))return;const P=w.isCollapsed(E),x=new o(P,this._lineHeight);return l.append(x.domNode),x.setVisible(this._isOnGlyphMargin?!0:P||b==="always"),this._foldingIconStore.add(L.addDisposableListener(x.domNode,L.EventType.CLICK,()=>{(0,t.toggleCollapseState)(p,Number.MAX_VALUE,[v]),x.isCollapsed=!P;const T=(P?this._editor.getTopForLineNumber(I):this._editor.getTopForLineNumber(w.getEndLineNumber(E)))-this._lineHeight*m+1;this._editor.setScrollTop(T)})),x}_updateMinContentWidth(){this._minContentWidthInPx=0;for(const l of this._stickyLines)l.lineDomNode.scrollWidth>this._minContentWidthInPx&&(this._minContentWidthInPx=l.lineDomNode.scrollWidth);this._minContentWidthInPx+=this._editor.getLayoutInfo().verticalScrollbarWidth}getId(){return"editor.contrib.stickyScrollWidget"}getDomNode(){return this._rootDomNode}getPosition(){return{preference:null}}getMinContentWidthInPx(){return this._minContentWidthInPx}focusLineWithIndex(l){0<=l&&l<this._stickyLines.length&&this._stickyLines[l].lineDomNode.focus()}getEditorPositionFromNode(l){if(!l||l.children.length>0)return null;const p=this._getRenderedStickyLineFromChildDomNode(l);if(!p)return null;const m=(0,S.getColumnOfNodeOffset)(p.characterMapping,l,0);return new _.Position(p.lineNumber,m)}getLineNumberFromChildDomNode(l){var p,m;return(m=(p=this._getRenderedStickyLineFromChildDomNode(l))===null||p===void 0?void 0:p.lineNumber)!==null&&m!==void 0?m:null}_getRenderedStickyLineFromChildDomNode(l){const p=this.getStickyLineIndexFromChildDomNode(l);return p===null||p<0||p>=this._stickyLines.length?null:this._stickyLines[p]}getStickyLineIndexFromChildDomNode(l){for(;l&&l!==this._rootDomNode;){const p=l.getAttribute(h);if(p)return parseInt(p,10);l=l.parentElement}return null}}e.StickyScrollWidget=r;class c{constructor(l,p,m,v,b){this.lineNumber=l,this.lineDomNode=p,this.lineNumberDomNode=m,this.foldingIcon=v,this.characterMapping=b}}class o{constructor(l,p){this.isCollapsed=l,this.dimension=p,this.domNode=document.createElement("div"),this.domNode.style.width=`${p}px`,this.domNode.style.height=`${p}px`,this.domNode.className=D.ThemeIcon.asClassName(l?n.foldingCollapsedIcon:n.foldingExpandedIcon)}setVisible(l){this.domNode.style.cursor=l?"pointer":"default",this.domNode.style.opacity=l?"1":"0"}}}),define(ne[895],se([1,0,7,114,13,9,6,2,141,11,162,866,702,15,8,87,31,88,23,223,135,344,861,105,49,172,462,249]),function(Q,e,L,k,y,D,S,f,_,g,C,s,i,n,t,a,u,h,r,c,o,d,l,p,m){"use strict";var v;Object.defineProperty(e,"__esModule",{value:!0}),e.SuggestContentWidget=e.SuggestWidget=e.editorSuggestWidgetSelectedBackground=void 0,(0,u.registerColor)("editorSuggestWidget.background",{dark:u.editorWidgetBackground,light:u.editorWidgetBackground,hcDark:u.editorWidgetBackground,hcLight:u.editorWidgetBackground},i.localize(0,null)),(0,u.registerColor)("editorSuggestWidget.border",{dark:u.editorWidgetBorder,light:u.editorWidgetBorder,hcDark:u.editorWidgetBorder,hcLight:u.editorWidgetBorder},i.localize(1,null));const b=(0,u.registerColor)("editorSuggestWidget.foreground",{dark:u.editorForeground,light:u.editorForeground,hcDark:u.editorForeground,hcLight:u.editorForeground},i.localize(2,null));(0,u.registerColor)("editorSuggestWidget.selectedForeground",{dark:u.quickInputListFocusForeground,light:u.quickInputListFocusForeground,hcDark:u.quickInputListFocusForeground,hcLight:u.quickInputListFocusForeground},i.localize(3,null)),(0,u.registerColor)("editorSuggestWidget.selectedIconForeground",{dark:u.quickInputListFocusIconForeground,light:u.quickInputListFocusIconForeground,hcDark:u.quickInputListFocusIconForeground,hcLight:u.quickInputListFocusIconForeground},i.localize(4,null)),e.editorSuggestWidgetSelectedBackground=(0,u.registerColor)("editorSuggestWidget.selectedBackground",{dark:u.quickInputListFocusBackground,light:u.quickInputListFocusBackground,hcDark:u.quickInputListFocusBackground,hcLight:u.quickInputListFocusBackground},i.localize(5,null)),(0,u.registerColor)("editorSuggestWidget.highlightForeground",{dark:u.listHighlightForeground,light:u.listHighlightForeground,hcDark:u.listHighlightForeground,hcLight:u.listHighlightForeground},i.localize(6,null)),(0,u.registerColor)("editorSuggestWidget.focusHighlightForeground",{dark:u.listFocusHighlightForeground,light:u.listFocusHighlightForeground,hcDark:u.listFocusHighlightForeground,hcLight:u.listFocusHighlightForeground},i.localize(7,null)),(0,u.registerColor)("editorSuggestWidgetStatus.foreground",{dark:(0,u.transparent)(b,.5),light:(0,u.transparent)(b,.5),hcDark:(0,u.transparent)(b,.5),hcLight:(0,u.transparent)(b,.5)},i.localize(8,null));class w{constructor(P,x){this._service=P,this._key=`suggestWidget.size/${x.getEditorType()}/${x instanceof C.EmbeddedCodeEditorWidget}`}restore(){var P;const x=(P=this._service.get(this._key,0))!==null&&P!==void 0?P:"";try{const T=JSON.parse(x);if(L.Dimension.is(T))return L.Dimension.lift(T)}catch{}}store(P){this._service.store(this._key,JSON.stringify(P),0,1)}reset(){this._service.remove(this._key,0)}}let E=v=class{constructor(P,x,T,A,N){this.editor=P,this._storageService=x,this._state=0,this._isAuto=!1,this._pendingLayout=new f.MutableDisposable,this._pendingShowDetails=new f.MutableDisposable,this._ignoreFocusEvents=!1,this._forceRenderingAbove=!1,this._explainMode=!1,this._showTimeout=new y.TimeoutTimer,this._disposables=new f.DisposableStore,this._onDidSelect=new S.PauseableEmitter,this._onDidFocus=new S.PauseableEmitter,this._onDidHide=new S.Emitter,this._onDidShow=new S.Emitter,this.onDidSelect=this._onDidSelect.event,this.onDidFocus=this._onDidFocus.event,this.onDidHide=this._onDidHide.event,this.onDidShow=this._onDidShow.event,this._onDetailsKeydown=new S.Emitter,this.onDetailsKeyDown=this._onDetailsKeydown.event,this.element=new c.ResizableHTMLElement,this.element.domNode.classList.add("editor-widget","suggest-widget"),this._contentWidget=new I(this,P),this._persistedSize=new w(x,P);class F{constructor(G,Z,J=!1,X=!1){this.persistedSize=G,this.currentSize=Z,this.persistHeight=J,this.persistWidth=X}}let O;this._disposables.add(this.element.onDidWillResize(()=>{this._contentWidget.lockPreference(),O=new F(this._persistedSize.restore(),this.element.size)})),this._disposables.add(this.element.onDidResize(K=>{var G,Z,J,X;if(this._resize(K.dimension.width,K.dimension.height),O&&(O.persistHeight=O.persistHeight||!!K.north||!!K.south,O.persistWidth=O.persistWidth||!!K.east||!!K.west),!!K.done){if(O){const{itemHeight:H,defaultSize:B}=this.getLayoutInfo(),V=Math.round(H/2);let{width:Y,height:ie}=this.element.size;(!O.persistHeight||Math.abs(O.currentSize.height-ie)<=V)&&(ie=(Z=(G=O.persistedSize)===null||G===void 0?void 0:G.height)!==null&&Z!==void 0?Z:B.height),(!O.persistWidth||Math.abs(O.currentSize.width-Y)<=V)&&(Y=(X=(J=O.persistedSize)===null||J===void 0?void 0:J.width)!==null&&X!==void 0?X:B.width),this._persistedSize.store(new L.Dimension(Y,ie))}this._contentWidget.unlockPreference(),O=void 0}})),this._messageElement=L.append(this.element.domNode,L.$(".message")),this._listElement=L.append(this.element.domNode,L.$(".tree"));const W=N.createInstance(d.SuggestDetailsWidget,this.editor);W.onDidClose(this.toggleDetails,this,this._disposables),this._details=new d.SuggestDetailsOverlay(W,this.editor);const U=()=>this.element.domNode.classList.toggle("no-icons",!this.editor.getOption(116).showIcons);U();const j=N.createInstance(l.ItemRenderer,this.editor);this._disposables.add(j),this._disposables.add(j.onDidToggleDetails(()=>this.toggleDetails())),this._list=new k.List("SuggestWidget",this._listElement,{getHeight:K=>this.getLayoutInfo().itemHeight,getTemplateId:K=>"suggestion"},[j],{alwaysConsumeMouseWheel:!0,useShadows:!1,mouseSupport:!1,multipleSelectionSupport:!1,accessibilityProvider:{getRole:()=>"option",getWidgetAriaLabel:()=>i.localize(11,null),getWidgetRole:()=>"listbox",getAriaLabel:K=>{let G=K.textLabel;if(typeof K.completion.label!="string"){const{detail:H,description:B}=K.completion.label;H&&B?G=i.localize(12,null,G,H,B):H?G=i.localize(13,null,G,H):B&&(G=i.localize(14,null,G,B))}if(!K.isResolved||!this._isDetailsVisible())return G;const{documentation:Z,detail:J}=K.completion,X=g.format("{0}{1}",J||"",Z?typeof Z=="string"?Z:Z.value:"");return i.localize(15,null,G,X)}}}),this._list.style((0,p.getListStyles)({listInactiveFocusBackground:e.editorSuggestWidgetSelectedBackground,listInactiveFocusOutline:u.activeContrastBorder})),this._status=N.createInstance(s.SuggestWidgetStatus,this.element.domNode,o.suggestWidgetStatusbarMenu);const R=()=>this.element.domNode.classList.toggle("with-status-bar",this.editor.getOption(116).showStatusBar);R(),this._disposables.add(A.onDidColorThemeChange(K=>this._onThemeChange(K))),this._onThemeChange(A.getColorTheme()),this._disposables.add(this._list.onMouseDown(K=>this._onListMouseDownOrTap(K))),this._disposables.add(this._list.onTap(K=>this._onListMouseDownOrTap(K))),this._disposables.add(this._list.onDidChangeSelection(K=>this._onListSelection(K))),this._disposables.add(this._list.onDidChangeFocus(K=>this._onListFocus(K))),this._disposables.add(this.editor.onDidChangeCursorSelection(()=>this._onCursorSelectionChanged())),this._disposables.add(this.editor.onDidChangeConfiguration(K=>{K.hasChanged(116)&&(R(),U())})),this._ctxSuggestWidgetVisible=o.Context.Visible.bindTo(T),this._ctxSuggestWidgetDetailsVisible=o.Context.DetailsVisible.bindTo(T),this._ctxSuggestWidgetMultipleSuggestions=o.Context.MultipleSuggestions.bindTo(T),this._ctxSuggestWidgetHasFocusedSuggestion=o.Context.HasFocusedSuggestion.bindTo(T),this._disposables.add(L.addStandardDisposableListener(this._details.widget.domNode,"keydown",K=>{this._onDetailsKeydown.fire(K)})),this._disposables.add(this.editor.onMouseDown(K=>this._onEditorMouseDown(K)))}dispose(){var P;this._details.widget.dispose(),this._details.dispose(),this._list.dispose(),this._status.dispose(),this._disposables.dispose(),(P=this._loadingTimeout)===null||P===void 0||P.dispose(),this._pendingLayout.dispose(),this._pendingShowDetails.dispose(),this._showTimeout.dispose(),this._contentWidget.dispose(),this.element.dispose()}_onEditorMouseDown(P){this._details.widget.domNode.contains(P.target.element)?this._details.widget.domNode.focus():this.element.domNode.contains(P.target.element)&&this.editor.focus()}_onCursorSelectionChanged(){this._state!==0&&this._contentWidget.layout()}_onListMouseDownOrTap(P){typeof P.element>"u"||typeof P.index>"u"||(P.browserEvent.preventDefault(),P.browserEvent.stopPropagation(),this._select(P.element,P.index))}_onListSelection(P){P.elements.length&&this._select(P.elements[0],P.indexes[0])}_select(P,x){const T=this._completionModel;T&&(this._onDidSelect.fire({item:P,index:x,model:T}),this.editor.focus())}_onThemeChange(P){this._details.widget.borderWidth=(0,h.isHighContrast)(P.type)?2:1}_onListFocus(P){var x;if(this._ignoreFocusEvents)return;if(!P.elements.length){this._currentSuggestionDetails&&(this._currentSuggestionDetails.cancel(),this._currentSuggestionDetails=void 0,this._focusedItem=void 0),this.editor.setAriaOptions({activeDescendant:void 0}),this._ctxSuggestWidgetHasFocusedSuggestion.set(!1);return}if(!this._completionModel)return;this._ctxSuggestWidgetHasFocusedSuggestion.set(!0);const T=P.elements[0],A=P.indexes[0];T!==this._focusedItem&&((x=this._currentSuggestionDetails)===null||x===void 0||x.cancel(),this._currentSuggestionDetails=void 0,this._focusedItem=T,this._list.reveal(A),this._currentSuggestionDetails=(0,y.createCancelablePromise)(N=>we(this,void 0,void 0,function*(){const F=(0,y.disposableTimeout)(()=>{this._isDetailsVisible()&&this.showDetails(!0)},250),O=N.onCancellationRequested(()=>F.dispose()),W=yield T.resolve(N);return F.dispose(),O.dispose(),W})),this._currentSuggestionDetails.then(()=>{A>=this._list.length||T!==this._list.element(A)||(this._ignoreFocusEvents=!0,this._list.splice(A,1,[T]),this._list.setFocus([A]),this._ignoreFocusEvents=!1,this._isDetailsVisible()?this.showDetails(!1):this.element.domNode.classList.remove("docs-side"),this.editor.setAriaOptions({activeDescendant:(0,l.getAriaId)(A)}))}).catch(D.onUnexpectedError)),this._onDidFocus.fire({item:T,index:A,model:this._completionModel})}_setState(P){if(this._state!==P)switch(this._state=P,this.element.domNode.classList.toggle("frozen",P===4),this.element.domNode.classList.remove("message"),P){case 0:L.hide(this._messageElement,this._listElement,this._status.element),this._details.hide(!0),this._status.hide(),this._contentWidget.hide(),this._ctxSuggestWidgetVisible.reset(),this._ctxSuggestWidgetMultipleSuggestions.reset(),this._ctxSuggestWidgetHasFocusedSuggestion.reset(),this._showTimeout.cancel(),this.element.domNode.classList.remove("visible"),this._list.splice(0,this._list.length),this._focusedItem=void 0,this._cappedHeight=void 0,this._explainMode=!1;break;case 1:this.element.domNode.classList.add("message"),this._messageElement.textContent=v.LOADING_MESSAGE,L.hide(this._listElement,this._status.element),L.show(this._messageElement),this._details.hide(),this._show(),this._focusedItem=void 0,(0,m.status)(v.LOADING_MESSAGE);break;case 2:this.element.domNode.classList.add("message"),this._messageElement.textContent=v.NO_SUGGESTIONS_MESSAGE,L.hide(this._listElement,this._status.element),L.show(this._messageElement),this._details.hide(),this._show(),this._focusedItem=void 0,(0,m.status)(v.NO_SUGGESTIONS_MESSAGE);break;case 3:L.hide(this._messageElement),L.show(this._listElement,this._status.element),this._show();break;case 4:L.hide(this._messageElement),L.show(this._listElement,this._status.element),this._show();break;case 5:L.hide(this._messageElement),L.show(this._listElement,this._status.element),this._details.show(),this._show();break}}_show(){this._status.show(),this._contentWidget.show(),this._layout(this._persistedSize.restore()),this._ctxSuggestWidgetVisible.set(!0),this._showTimeout.cancelAndSet(()=>{this.element.domNode.classList.add("visible"),this._onDidShow.fire(this)},100)}showTriggered(P,x){this._state===0&&(this._contentWidget.setPosition(this.editor.getPosition()),this._isAuto=!!P,this._isAuto||(this._loadingTimeout=(0,y.disposableTimeout)(()=>this._setState(1),x)))}showSuggestions(P,x,T,A,N){var F,O;if(this._contentWidget.setPosition(this.editor.getPosition()),(F=this._loadingTimeout)===null||F===void 0||F.dispose(),(O=this._currentSuggestionDetails)===null||O===void 0||O.cancel(),this._currentSuggestionDetails=void 0,this._completionModel!==P&&(this._completionModel=P),T&&this._state!==2&&this._state!==0){this._setState(4);return}const W=this._completionModel.items.length,U=W===0;if(this._ctxSuggestWidgetMultipleSuggestions.set(W>1),U){this._setState(A?0:2),this._completionModel=void 0;return}this._focusedItem=void 0,this._onDidFocus.pause(),this._onDidSelect.pause();try{this._list.splice(0,this._list.length,this._completionModel.items),this._setState(T?4:3),this._list.reveal(x,0),this._list.setFocus(N?[]:[x])}finally{this._onDidFocus.resume(),this._onDidSelect.resume()}this._pendingLayout.value=L.runAtThisOrScheduleAtNextAnimationFrame(()=>{this._pendingLayout.clear(),this._layout(this.element.size),this._details.widget.domNode.classList.remove("focused")})}focusSelected(){this._list.length>0&&this._list.setFocus([0])}selectNextPage(){switch(this._state){case 0:return!1;case 5:return this._details.widget.pageDown(),!0;case 1:return!this._isAuto;default:return this._list.focusNextPage(),!0}}selectNext(){switch(this._state){case 0:return!1;case 1:return!this._isAuto;default:return this._list.focusNext(1,!0),!0}}selectLast(){switch(this._state){case 0:return!1;case 5:return this._details.widget.scrollBottom(),!0;case 1:return!this._isAuto;default:return this._list.focusLast(),!0}}selectPreviousPage(){switch(this._state){case 0:return!1;case 5:return this._details.widget.pageUp(),!0;case 1:return!this._isAuto;default:return this._list.focusPreviousPage(),!0}}selectPrevious(){switch(this._state){case 0:return!1;case 1:return!this._isAuto;default:return this._list.focusPrevious(1,!0),!1}}selectFirst(){switch(this._state){case 0:return!1;case 5:return this._details.widget.scrollTop(),!0;case 1:return!this._isAuto;default:return this._list.focusFirst(),!0}}getFocusedItem(){if(this._state!==0&&this._state!==2&&this._state!==1&&this._completionModel&&this._list.getFocus().length>0)return{item:this._list.getFocusedElements()[0],index:this._list.getFocus()[0],model:this._completionModel}}toggleDetailsFocus(){this._state===5?(this._setState(3),this._details.widget.domNode.classList.remove("focused")):this._state===3&&this._isDetailsVisible()&&(this._setState(5),this._details.widget.domNode.classList.add("focused"))}toggleDetails(){this._isDetailsVisible()?(this._pendingShowDetails.clear(),this._ctxSuggestWidgetDetailsVisible.set(!1),this._setDetailsVisible(!1),this._details.hide(),this.element.domNode.classList.remove("shows-details")):((0,d.canExpandCompletionItem)(this._list.getFocusedElements()[0])||this._explainMode)&&(this._state===3||this._state===5||this._state===4)&&(this._ctxSuggestWidgetDetailsVisible.set(!0),this._setDetailsVisible(!0),this.showDetails(!1))}showDetails(P){this._pendingShowDetails.value=L.runAtThisOrScheduleAtNextAnimationFrame(()=>{this._pendingShowDetails.clear(),this._details.show(),P?this._details.widget.renderLoading():this._details.widget.renderItem(this._list.getFocusedElements()[0],this._explainMode),this._positionDetails(),this.editor.focus(),this.element.domNode.classList.add("shows-details")})}toggleExplainMode(){this._list.getFocusedElements()[0]&&(this._explainMode=!this._explainMode,this._isDetailsVisible()?this.showDetails(!1):this.toggleDetails())}resetPersistedSize(){this._persistedSize.reset()}hideWidget(){var P;this._pendingLayout.clear(),this._pendingShowDetails.clear(),(P=this._loadingTimeout)===null||P===void 0||P.dispose(),this._setState(0),this._onDidHide.fire(this),this.element.clearSashHoverState();const x=this._persistedSize.restore(),T=Math.ceil(this.getLayoutInfo().itemHeight*4.3);x&&x.height<T&&this._persistedSize.store(x.with(void 0,T))}isFrozen(){return this._state===4}_afterRender(P){if(P===null){this._isDetailsVisible()&&this._details.hide();return}this._state===2||this._state===1||(this._isDetailsVisible()&&this._details.show(),this._positionDetails())}_layout(P){var x,T,A;if(!this.editor.hasModel()||!this.editor.getDomNode())return;const N=L.getClientArea(document.body),F=this.getLayoutInfo();P||(P=F.defaultSize);let O=P.height,W=P.width;if(this._status.element.style.height=`${F.itemHeight}px`,this._state===2||this._state===1)O=F.itemHeight+F.borderHeight,W=F.defaultSize.width/2,this.element.enableSashes(!1,!1,!1,!1),this.element.minSize=this.element.maxSize=new L.Dimension(W,O),this._contentWidget.setPreference(2);else{const U=N.width-F.borderHeight-2*F.horizontalPadding;W>U&&(W=U);const j=this._completionModel?this._completionModel.stats.pLabelLen*F.typicalHalfwidthCharacterWidth:W,R=F.statusBarHeight+this._list.contentHeight+F.borderHeight,K=F.itemHeight+F.statusBarHeight,G=L.getDomNodePagePosition(this.editor.getDomNode()),Z=this.editor.getScrolledVisiblePosition(this.editor.getPosition()),J=G.top+Z.top+Z.height,X=Math.min(N.height-J-F.verticalPadding,R),H=G.top+Z.top-F.verticalPadding,B=Math.min(H,R);let V=Math.min(Math.max(B,X)+F.borderHeight,R);O===((x=this._cappedHeight)===null||x===void 0?void 0:x.capped)&&(O=this._cappedHeight.wanted),O<K&&(O=K),O>V&&(O=V);const Y=150;O>X||this._forceRenderingAbove&&H>Y?(this._contentWidget.setPreference(1),this.element.enableSashes(!0,!0,!1,!1),V=B):(this._contentWidget.setPreference(2),this.element.enableSashes(!1,!0,!0,!1),V=X),this.element.preferredSize=new L.Dimension(j,F.defaultSize.height),this.element.maxSize=new L.Dimension(U,V),this.element.minSize=new L.Dimension(220,K),this._cappedHeight=O===R?{wanted:(A=(T=this._cappedHeight)===null||T===void 0?void 0:T.wanted)!==null&&A!==void 0?A:P.height,capped:O}:void 0}this._resize(W,O)}_resize(P,x){const{width:T,height:A}=this.element.maxSize;P=Math.min(T,P),x=Math.min(A,x);const{statusBarHeight:N}=this.getLayoutInfo();this._list.layout(x-N,P),this._listElement.style.height=`${x-N}px`,this.element.layout(x,P),this._contentWidget.layout(),this._positionDetails()}_positionDetails(){var P;this._isDetailsVisible()&&this._details.placeAtAnchor(this.element.domNode,((P=this._contentWidget.getPosition())===null||P===void 0?void 0:P.preference[0])===2)}getLayoutInfo(){const P=this.editor.getOption(49),x=(0,_.clamp)(this.editor.getOption(118)||P.lineHeight,8,1e3),T=!this.editor.getOption(116).showStatusBar||this._state===2||this._state===1?0:x,A=this._details.widget.borderWidth,N=2*A;return{itemHeight:x,statusBarHeight:T,borderWidth:A,borderHeight:N,typicalHalfwidthCharacterWidth:P.typicalHalfwidthCharacterWidth,verticalPadding:22,horizontalPadding:14,defaultSize:new L.Dimension(430,T+12*x+N)}}_isDetailsVisible(){return this._storageService.getBoolean("expandSuggestionDocs",0,!1)}_setDetailsVisible(P){this._storageService.store("expandSuggestionDocs",P,0,0)}forceRenderingAbove(){this._forceRenderingAbove||(this._forceRenderingAbove=!0,this._layout(this._persistedSize.restore()))}stopForceRenderingAbove(){this._forceRenderingAbove=!1}};e.SuggestWidget=E,E.LOADING_MESSAGE=i.localize(9,null),E.NO_SUGGESTIONS_MESSAGE=i.localize(10,null),e.SuggestWidget=E=v=ke([fe(1,a.IStorageService),fe(2,n.IContextKeyService),fe(3,r.IThemeService),fe(4,t.IInstantiationService)],E);class I{constructor(P,x){this._widget=P,this._editor=x,this.allowEditorOverflow=!0,this.suppressMouseDown=!1,this._preferenceLocked=!1,this._added=!1,this._hidden=!1}dispose(){this._added&&(this._added=!1,this._editor.removeContentWidget(this))}getId(){return"editor.widget.suggestWidget"}getDomNode(){return this._widget.element.domNode}show(){this._hidden=!1,this._added||(this._added=!0,this._editor.addContentWidget(this))}hide(){this._hidden||(this._hidden=!0,this.layout())}layout(){this._editor.layoutContentWidget(this)}getPosition(){return this._hidden||!this._position||!this._preference?null:{position:this._position,preference:[this._preference]}}beforeRender(){const{height:P,width:x}=this._widget.element.size,{borderWidth:T,horizontalPadding:A}=this._widget.getLayoutInfo();return new L.Dimension(x+2*T+A,P+2*T)}afterRender(P){this._widget._afterRender(P)}setPreference(P){this._preferenceLocked||(this._preference=P)}lockPreference(){this._preferenceLocked=!0}unlockPreference(){this._preferenceLocked=!1}setPosition(P){this._position=P}}e.SuggestContentWidget=I}),define(ne[368],se([1,0,48,40,29,711,31,23,466]),function(Q,e,L,k,y,D,S,f){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.getSelectionHighlightDecorationOptions=e.getHighlightDecorationOptions=void 0;const _=(0,S.registerColor)("editor.wordHighlightBackground",{dark:"#575757B8",light:"#57575740",hcDark:null,hcLight:null},D.localize(0,null),!0);(0,S.registerColor)("editor.wordHighlightStrongBackground",{dark:"#004972B8",light:"#0e639c40",hcDark:null,hcLight:null},D.localize(1,null),!0),(0,S.registerColor)("editor.wordHighlightTextBackground",{light:_,dark:_,hcDark:_,hcLight:_},D.localize(2,null),!0);const g=(0,S.registerColor)("editor.wordHighlightBorder",{light:null,dark:null,hcDark:S.activeContrastBorder,hcLight:S.activeContrastBorder},D.localize(3,null));(0,S.registerColor)("editor.wordHighlightStrongBorder",{light:null,dark:null,hcDark:S.activeContrastBorder,hcLight:S.activeContrastBorder},D.localize(4,null)),(0,S.registerColor)("editor.wordHighlightTextBorder",{light:g,dark:g,hcDark:g,hcLight:g},D.localize(5,null));const C=(0,S.registerColor)("editorOverviewRuler.wordHighlightForeground",{dark:"#A0A0A0CC",light:"#A0A0A0CC",hcDark:"#A0A0A0CC",hcLight:"#A0A0A0CC"},D.localize(6,null),!0),s=(0,S.registerColor)("editorOverviewRuler.wordHighlightStrongForeground",{dark:"#C0A0C0CC",light:"#C0A0C0CC",hcDark:"#C0A0C0CC",hcLight:"#C0A0C0CC"},D.localize(7,null),!0),i=(0,S.registerColor)("editorOverviewRuler.wordHighlightTextForeground",{dark:S.overviewRulerSelectionHighlightForeground,light:S.overviewRulerSelectionHighlightForeground,hcDark:S.overviewRulerSelectionHighlightForeground,hcLight:S.overviewRulerSelectionHighlightForeground},D.localize(8,null),!0),n=k.ModelDecorationOptions.register({description:"word-highlight-strong",stickiness:1,className:"wordHighlightStrong",overviewRuler:{color:(0,f.themeColorFromId)(s),position:L.OverviewRulerLane.Center},minimap:{color:(0,f.themeColorFromId)(S.minimapSelectionOccurrenceHighlight),position:L.MinimapPosition.Inline}}),t=k.ModelDecorationOptions.register({description:"word-highlight-text",stickiness:1,className:"wordHighlightText",overviewRuler:{color:(0,f.themeColorFromId)(i),position:L.OverviewRulerLane.Center},minimap:{color:(0,f.themeColorFromId)(S.minimapSelectionOccurrenceHighlight),position:L.MinimapPosition.Inline}}),a=k.ModelDecorationOptions.register({description:"selection-highlight-overview",stickiness:1,className:"selectionHighlight",overviewRuler:{color:(0,f.themeColorFromId)(S.overviewRulerSelectionHighlightForeground),position:L.OverviewRulerLane.Center},minimap:{color:(0,f.themeColorFromId)(S.minimapSelectionOccurrenceHighlight),position:L.MinimapPosition.Inline}}),u=k.ModelDecorationOptions.register({description:"selection-highlight",stickiness:1,className:"selectionHighlight"}),h=k.ModelDecorationOptions.register({description:"word-highlight",stickiness:1,className:"wordHighlight",overviewRuler:{color:(0,f.themeColorFromId)(C),position:L.OverviewRulerLane.Center},minimap:{color:(0,f.themeColorFromId)(S.minimapSelectionOccurrenceHighlight),position:L.MinimapPosition.Inline}});function r(o){return o===y.DocumentHighlightKind.Write?n:o===y.DocumentHighlightKind.Text?t:h}e.getHighlightDecorationOptions=r;function c(o){return o?u:a}e.getSelectionHighlightDecorationOptions=c,(0,f.registerThemingParticipant)((o,d)=>{const l=o.getColor(S.editorSelectionHighlight);l&&d.addRule(`.monaco-editor .selectionHighlight { background-color: ${l.transparent(.5)}; }`)})}),define(ne[896],se([1,0,49,13,63,2,16,205,5,24,21,365,687,30,15,18,368,8]),function(Q,e,L,k,y,D,S,f,_,g,C,s,i,n,t,a,u,h){"use strict";var r;Object.defineProperty(e,"__esModule",{value:!0}),e.FocusPreviousCursor=e.FocusNextCursor=e.SelectionHighlighter=e.CompatChangeAll=e.SelectHighlightsAction=e.MoveSelectionToPreviousFindMatchAction=e.MoveSelectionToNextFindMatchAction=e.AddSelectionToPreviousFindMatchAction=e.AddSelectionToNextFindMatchAction=e.MultiCursorSelectionControllerAction=e.MultiCursorSelectionController=e.MultiCursorSession=e.MultiCursorSessionResult=e.InsertCursorBelow=e.InsertCursorAbove=void 0;function c(R,K){const G=K.filter(Z=>!R.find(J=>J.equals(Z)));if(G.length>=1){const Z=G.map(X=>`line ${X.viewState.position.lineNumber} column ${X.viewState.position.column}`).join(", "),J=G.length===1?i.localize(0,null,Z):i.localize(1,null,Z);(0,L.status)(J)}}class o extends S.EditorAction{constructor(){super({id:"editor.action.insertCursorAbove",label:i.localize(2,null),alias:"Add Cursor Above",precondition:void 0,kbOpts:{kbExpr:C.EditorContextKeys.editorTextFocus,primary:2576,linux:{primary:1552,secondary:[3088]},weight:100},menuOpts:{menuId:n.MenuId.MenubarSelectionMenu,group:"3_multi",title:i.localize(3,null),order:2}})}run(K,G,Z){if(!G.hasModel())return;let J=!0;Z&&Z.logicalLine===!1&&(J=!1);const X=G._getViewModel();if(X.cursorConfig.readOnly)return;X.model.pushStackElement();const H=X.getCursorStates();X.setCursorStates(Z.source,3,f.CursorMoveCommands.addCursorUp(X,H,J)),X.revealTopMostCursor(Z.source),c(H,X.getCursorStates())}}e.InsertCursorAbove=o;class d extends S.EditorAction{constructor(){super({id:"editor.action.insertCursorBelow",label:i.localize(4,null),alias:"Add Cursor Below",precondition:void 0,kbOpts:{kbExpr:C.EditorContextKeys.editorTextFocus,primary:2578,linux:{primary:1554,secondary:[3090]},weight:100},menuOpts:{menuId:n.MenuId.MenubarSelectionMenu,group:"3_multi",title:i.localize(5,null),order:3}})}run(K,G,Z){if(!G.hasModel())return;let J=!0;Z&&Z.logicalLine===!1&&(J=!1);const X=G._getViewModel();if(X.cursorConfig.readOnly)return;X.model.pushStackElement();const H=X.getCursorStates();X.setCursorStates(Z.source,3,f.CursorMoveCommands.addCursorDown(X,H,J)),X.revealBottomMostCursor(Z.source),c(H,X.getCursorStates())}}e.InsertCursorBelow=d;class l extends S.EditorAction{constructor(){super({id:"editor.action.insertCursorAtEndOfEachLineSelected",label:i.localize(6,null),alias:"Add Cursors to Line Ends",precondition:void 0,kbOpts:{kbExpr:C.EditorContextKeys.editorTextFocus,primary:1575,weight:100},menuOpts:{menuId:n.MenuId.MenubarSelectionMenu,group:"3_multi",title:i.localize(7,null),order:4}})}getCursorsForSelection(K,G,Z){if(!K.isEmpty()){for(let J=K.startLineNumber;J<K.endLineNumber;J++){const X=G.getLineMaxColumn(J);Z.push(new g.Selection(J,X,J,X))}K.endColumn>1&&Z.push(new g.Selection(K.endLineNumber,K.endColumn,K.endLineNumber,K.endColumn))}}run(K,G){if(!G.hasModel())return;const Z=G.getModel(),J=G.getSelections(),X=G._getViewModel(),H=X.getCursorStates(),B=[];J.forEach(V=>this.getCursorsForSelection(V,Z,B)),B.length>0&&G.setSelections(B),c(H,X.getCursorStates())}}class p extends S.EditorAction{constructor(){super({id:"editor.action.addCursorsToBottom",label:i.localize(8,null),alias:"Add Cursors To Bottom",precondition:void 0})}run(K,G){if(!G.hasModel())return;const Z=G.getSelections(),J=G.getModel().getLineCount(),X=[];for(let V=Z[0].startLineNumber;V<=J;V++)X.push(new g.Selection(V,Z[0].startColumn,V,Z[0].endColumn));const H=G._getViewModel(),B=H.getCursorStates();X.length>0&&G.setSelections(X),c(B,H.getCursorStates())}}class m extends S.EditorAction{constructor(){super({id:"editor.action.addCursorsToTop",label:i.localize(9,null),alias:"Add Cursors To Top",precondition:void 0})}run(K,G){if(!G.hasModel())return;const Z=G.getSelections(),J=[];for(let B=Z[0].startLineNumber;B>=1;B--)J.push(new g.Selection(B,Z[0].startColumn,B,Z[0].endColumn));const X=G._getViewModel(),H=X.getCursorStates();J.length>0&&G.setSelections(J),c(H,X.getCursorStates())}}class v{constructor(K,G,Z){this.selections=K,this.revealRange=G,this.revealScrollType=Z}}e.MultiCursorSessionResult=v;class b{static create(K,G){if(!K.hasModel())return null;const Z=G.getState();if(!K.hasTextFocus()&&Z.isRevealed&&Z.searchString.length>0)return new b(K,G,!1,Z.searchString,Z.wholeWord,Z.matchCase,null);let J=!1,X,H;const B=K.getSelections();B.length===1&&B[0].isEmpty()?(J=!0,X=!0,H=!0):(X=Z.wholeWord,H=Z.matchCase);const V=K.getSelection();let Y,ie=null;if(V.isEmpty()){const ae=K.getConfiguredWordAtPosition(V.getStartPosition());if(!ae)return null;Y=ae.word,ie=new g.Selection(V.startLineNumber,ae.startColumn,V.startLineNumber,ae.endColumn)}else Y=K.getModel().getValueInRange(V).replace(/\r\n/g,`
`);return new b(K,G,J,Y,X,H,ie)}constructor(K,G,Z,J,X,H,B){this._editor=K,this.findController=G,this.isDisconnectedFromFindController=Z,this.searchText=J,this.wholeWord=X,this.matchCase=H,this.currentMatch=B}addSelectionToNextFindMatch(){if(!this._editor.hasModel())return null;const K=this._getNextMatch();if(!K)return null;const G=this._editor.getSelections();return new v(G.concat(K),K,0)}moveSelectionToNextFindMatch(){if(!this._editor.hasModel())return null;const K=this._getNextMatch();if(!K)return null;const G=this._editor.getSelections();return new v(G.slice(0,G.length-1).concat(K),K,0)}_getNextMatch(){if(!this._editor.hasModel())return null;if(this.currentMatch){const J=this.currentMatch;return this.currentMatch=null,J}this.findController.highlightFindOptions();const K=this._editor.getSelections(),G=K[K.length-1],Z=this._editor.getModel().findNextMatch(this.searchText,G.getEndPosition(),!1,this.matchCase,this.wholeWord?this._editor.getOption(128):null,!1);return Z?new g.Selection(Z.range.startLineNumber,Z.range.startColumn,Z.range.endLineNumber,Z.range.endColumn):null}addSelectionToPreviousFindMatch(){if(!this._editor.hasModel())return null;const K=this._getPreviousMatch();if(!K)return null;const G=this._editor.getSelections();return new v(G.concat(K),K,0)}moveSelectionToPreviousFindMatch(){if(!this._editor.hasModel())return null;const K=this._getPreviousMatch();if(!K)return null;const G=this._editor.getSelections();return new v(G.slice(0,G.length-1).concat(K),K,0)}_getPreviousMatch(){if(!this._editor.hasModel())return null;if(this.currentMatch){const J=this.currentMatch;return this.currentMatch=null,J}this.findController.highlightFindOptions();const K=this._editor.getSelections(),G=K[K.length-1],Z=this._editor.getModel().findPreviousMatch(this.searchText,G.getStartPosition(),!1,this.matchCase,this.wholeWord?this._editor.getOption(128):null,!1);return Z?new g.Selection(Z.range.startLineNumber,Z.range.startColumn,Z.range.endLineNumber,Z.range.endColumn):null}selectAll(K){if(!this._editor.hasModel())return[];this.findController.highlightFindOptions();const G=this._editor.getModel();return K?G.findMatches(this.searchText,K,!1,this.matchCase,this.wholeWord?this._editor.getOption(128):null,!1,1073741824):G.findMatches(this.searchText,!0,!1,this.matchCase,this.wholeWord?this._editor.getOption(128):null,!1,1073741824)}}e.MultiCursorSession=b;class w extends D.Disposable{static get(K){return K.getContribution(w.ID)}constructor(K){super(),this._sessionDispose=this._register(new D.DisposableStore),this._editor=K,this._ignoreSelectionChange=!1,this._session=null}dispose(){this._endSession(),super.dispose()}_beginSessionIfNeeded(K){if(!this._session){const G=b.create(this._editor,K);if(!G)return;this._session=G;const Z={searchString:this._session.searchText};this._session.isDisconnectedFromFindController&&(Z.wholeWordOverride=1,Z.matchCaseOverride=1,Z.isRegexOverride=2),K.getState().change(Z,!1),this._sessionDispose.add(this._editor.onDidChangeCursorSelection(J=>{this._ignoreSelectionChange||this._endSession()})),this._sessionDispose.add(this._editor.onDidBlurEditorText(()=>{this._endSession()})),this._sessionDispose.add(K.getState().onFindReplaceStateChange(J=>{(J.matchCase||J.wholeWord)&&this._endSession()}))}}_endSession(){if(this._sessionDispose.clear(),this._session&&this._session.isDisconnectedFromFindController){const K={wholeWordOverride:0,matchCaseOverride:0,isRegexOverride:0};this._session.findController.getState().change(K,!1)}this._session=null}_setSelections(K){this._ignoreSelectionChange=!0,this._editor.setSelections(K),this._ignoreSelectionChange=!1}_expandEmptyToWord(K,G){if(!G.isEmpty())return G;const Z=this._editor.getConfiguredWordAtPosition(G.getStartPosition());return Z?new g.Selection(G.startLineNumber,Z.startColumn,G.startLineNumber,Z.endColumn):G}_applySessionResult(K){K&&(this._setSelections(K.selections),K.revealRange&&this._editor.revealRangeInCenterIfOutsideViewport(K.revealRange,K.revealScrollType))}getSession(K){return this._session}addSelectionToNextFindMatch(K){if(this._editor.hasModel()){if(!this._session){const G=this._editor.getSelections();if(G.length>1){const J=K.getState().matchCase;if(!O(this._editor.getModel(),G,J)){const H=this._editor.getModel(),B=[];for(let V=0,Y=G.length;V<Y;V++)B[V]=this._expandEmptyToWord(H,G[V]);this._editor.setSelections(B);return}}}this._beginSessionIfNeeded(K),this._session&&this._applySessionResult(this._session.addSelectionToNextFindMatch())}}addSelectionToPreviousFindMatch(K){this._beginSessionIfNeeded(K),this._session&&this._applySessionResult(this._session.addSelectionToPreviousFindMatch())}moveSelectionToNextFindMatch(K){this._beginSessionIfNeeded(K),this._session&&this._applySessionResult(this._session.moveSelectionToNextFindMatch())}moveSelectionToPreviousFindMatch(K){this._beginSessionIfNeeded(K),this._session&&this._applySessionResult(this._session.moveSelectionToPreviousFindMatch())}selectAll(K){if(!this._editor.hasModel())return;let G=null;const Z=K.getState();if(Z.isRevealed&&Z.searchString.length>0&&Z.isRegex){const J=this._editor.getModel();Z.searchScope?G=J.findMatches(Z.searchString,Z.searchScope,Z.isRegex,Z.matchCase,Z.wholeWord?this._editor.getOption(128):null,!1,1073741824):G=J.findMatches(Z.searchString,!0,Z.isRegex,Z.matchCase,Z.wholeWord?this._editor.getOption(128):null,!1,1073741824)}else{if(this._beginSessionIfNeeded(K),!this._session)return;G=this._session.selectAll(Z.searchScope)}if(G.length>0){const J=this._editor.getSelection();for(let X=0,H=G.length;X<H;X++){const B=G[X];if(B.range.intersectRanges(J)){G[X]=G[0],G[0]=B;break}}this._setSelections(G.map(X=>new g.Selection(X.range.startLineNumber,X.range.startColumn,X.range.endLineNumber,X.range.endColumn)))}}}e.MultiCursorSelectionController=w,w.ID="editor.contrib.multiCursorController";class E extends S.EditorAction{run(K,G){const Z=w.get(G);if(!Z)return;const J=G._getViewModel();if(J){const X=J.getCursorStates(),H=s.CommonFindController.get(G);if(H)this._run(Z,H);else{const B=K.get(h.IInstantiationService).createInstance(s.CommonFindController,G);this._run(Z,B),B.dispose()}c(X,J.getCursorStates())}}}e.MultiCursorSelectionControllerAction=E;class I extends E{constructor(){super({id:"editor.action.addSelectionToNextFindMatch",label:i.localize(10,null),alias:"Add Selection To Next Find Match",precondition:void 0,kbOpts:{kbExpr:C.EditorContextKeys.focus,primary:2082,weight:100},menuOpts:{menuId:n.MenuId.MenubarSelectionMenu,group:"3_multi",title:i.localize(11,null),order:5}})}_run(K,G){K.addSelectionToNextFindMatch(G)}}e.AddSelectionToNextFindMatchAction=I;class M extends E{constructor(){super({id:"editor.action.addSelectionToPreviousFindMatch",label:i.localize(12,null),alias:"Add Selection To Previous Find Match",precondition:void 0,menuOpts:{menuId:n.MenuId.MenubarSelectionMenu,group:"3_multi",title:i.localize(13,null),order:6}})}_run(K,G){K.addSelectionToPreviousFindMatch(G)}}e.AddSelectionToPreviousFindMatchAction=M;class P extends E{constructor(){super({id:"editor.action.moveSelectionToNextFindMatch",label:i.localize(14,null),alias:"Move Last Selection To Next Find Match",precondition:void 0,kbOpts:{kbExpr:C.EditorContextKeys.focus,primary:(0,y.KeyChord)(2089,2082),weight:100}})}_run(K,G){K.moveSelectionToNextFindMatch(G)}}e.MoveSelectionToNextFindMatchAction=P;class x extends E{constructor(){super({id:"editor.action.moveSelectionToPreviousFindMatch",label:i.localize(15,null),alias:"Move Last Selection To Previous Find Match",precondition:void 0})}_run(K,G){K.moveSelectionToPreviousFindMatch(G)}}e.MoveSelectionToPreviousFindMatchAction=x;class T extends E{constructor(){super({id:"editor.action.selectHighlights",label:i.localize(16,null),alias:"Select All Occurrences of Find Match",precondition:void 0,kbOpts:{kbExpr:C.EditorContextKeys.focus,primary:3114,weight:100},menuOpts:{menuId:n.MenuId.MenubarSelectionMenu,group:"3_multi",title:i.localize(17,null),order:7}})}_run(K,G){K.selectAll(G)}}e.SelectHighlightsAction=T;class A extends E{constructor(){super({id:"editor.action.changeAll",label:i.localize(18,null),alias:"Change All Occurrences",precondition:t.ContextKeyExpr.and(C.EditorContextKeys.writable,C.EditorContextKeys.editorTextFocus),kbOpts:{kbExpr:C.EditorContextKeys.editorTextFocus,primary:2108,weight:100},contextMenuOpts:{group:"1_modification",order:1.2}})}_run(K,G){K.selectAll(G)}}e.CompatChangeAll=A;class N{constructor(K,G,Z,J,X){this._model=K,this._searchText=G,this._matchCase=Z,this._wordSeparators=J,this._modelVersionId=this._model.getVersionId(),this._cachedFindMatches=null,X&&this._model===X._model&&this._searchText===X._searchText&&this._matchCase===X._matchCase&&this._wordSeparators===X._wordSeparators&&this._modelVersionId===X._modelVersionId&&(this._cachedFindMatches=X._cachedFindMatches)}findMatches(){return this._cachedFindMatches===null&&(this._cachedFindMatches=this._model.findMatches(this._searchText,!0,!1,this._matchCase,this._wordSeparators,!1).map(K=>K.range),this._cachedFindMatches.sort(_.Range.compareRangesUsingStarts)),this._cachedFindMatches}}let F=r=class extends D.Disposable{constructor(K,G){super(),this._languageFeaturesService=G,this.editor=K,this._isEnabled=K.getOption(106),this._decorations=K.createDecorationsCollection(),this.updateSoon=this._register(new k.RunOnceScheduler(()=>this._update(),300)),this.state=null,this._register(K.onDidChangeConfiguration(J=>{this._isEnabled=K.getOption(106)})),this._register(K.onDidChangeCursorSelection(J=>{this._isEnabled&&(J.selection.isEmpty()?J.reason===3?(this.state&&this._setState(null),this.updateSoon.schedule()):this._setState(null):this._update())})),this._register(K.onDidChangeModel(J=>{this._setState(null)})),this._register(K.onDidChangeModelContent(J=>{this._isEnabled&&this.updateSoon.schedule()}));const Z=s.CommonFindController.get(K);Z&&this._register(Z.getState().onFindReplaceStateChange(J=>{this._update()})),this.updateSoon.schedule()}_update(){this._setState(r._createState(this.state,this._isEnabled,this.editor))}static _createState(K,G,Z){if(!G||!Z.hasModel())return null;const J=Z.getSelection();if(J.startLineNumber!==J.endLineNumber)return null;const X=w.get(Z);if(!X)return null;const H=s.CommonFindController.get(Z);if(!H)return null;let B=X.getSession(H);if(!B){const ie=Z.getSelections();if(ie.length>1){const ce=H.getState().matchCase;if(!O(Z.getModel(),ie,ce))return null}B=b.create(Z,H)}if(!B||B.currentMatch||/^[ \t]+$/.test(B.searchText)||B.searchText.length>200)return null;const V=H.getState(),Y=V.matchCase;if(V.isRevealed){let ie=V.searchString;Y||(ie=ie.toLowerCase());let ae=B.searchText;if(Y||(ae=ae.toLowerCase()),ie===ae&&B.matchCase===V.matchCase&&B.wholeWord===V.wholeWord&&!V.isRegex)return null}return new N(Z.getModel(),B.searchText,B.matchCase,B.wholeWord?Z.getOption(128):null,K)}_setState(K){if(this.state=K,!this.state){this._decorations.clear();return}if(!this.editor.hasModel())return;const G=this.editor.getModel();if(G.isTooLargeForTokenization())return;const Z=this.state.findMatches(),J=this.editor.getSelections();J.sort(_.Range.compareRangesUsingStarts);const X=[];for(let V=0,Y=0,ie=Z.length,ae=J.length;V<ie;){const ce=Z[V];if(Y>=ae)X.push(ce),V++;else{const de=_.Range.compareRangesUsingStarts(ce,J[Y]);de<0?((J[Y].isEmpty()||!_.Range.areIntersecting(ce,J[Y]))&&X.push(ce),V++):(de>0||V++,Y++)}}const H=this._languageFeaturesService.documentHighlightProvider.has(G)&&this.editor.getOption(79),B=X.map(V=>({range:V,options:(0,u.getSelectionHighlightDecorationOptions)(H)}));this._decorations.set(B)}dispose(){this._setState(null),super.dispose()}};e.SelectionHighlighter=F,F.ID="editor.contrib.selectionHighlighter",e.SelectionHighlighter=F=r=ke([fe(1,a.ILanguageFeaturesService)],F);function O(R,K,G){const Z=W(R,K[0],!G);for(let J=1,X=K.length;J<X;J++){const H=K[J];if(H.isEmpty())return!1;const B=W(R,H,!G);if(Z!==B)return!1}return!0}function W(R,K,G){const Z=R.getValueInRange(K);return G?Z.toLowerCase():Z}class U extends S.EditorAction{constructor(){super({id:"editor.action.focusNextCursor",label:i.localize(19,null),description:{description:i.localize(20,null),args:[]},alias:"Focus Next Cursor",precondition:void 0})}run(K,G,Z){if(!G.hasModel())return;const J=G._getViewModel();if(J.cursorConfig.readOnly)return;J.model.pushStackElement();const X=Array.from(J.getCursorStates()),H=X.shift();H&&(X.push(H),J.setCursorStates(Z.source,3,X),J.revealPrimaryCursor(Z.source,!0),c(X,J.getCursorStates()))}}e.FocusNextCursor=U;class j extends S.EditorAction{constructor(){super({id:"editor.action.focusPreviousCursor",label:i.localize(21,null),description:{description:i.localize(22,null),args:[]},alias:"Focus Previous Cursor",precondition:void 0})}run(K,G,Z){if(!G.hasModel())return;const J=G._getViewModel();if(J.cursorConfig.readOnly)return;J.model.pushStackElement();const X=Array.from(J.getCursorStates()),H=X.pop();H&&(X.unshift(H),J.setCursorStates(Z.source,3,X),J.revealPrimaryCursor(Z.source,!0),c(X,J.getCursorStates()))}}e.FocusPreviousCursor=j,(0,S.registerEditorContribution)(w.ID,w,4),(0,S.registerEditorContribution)(F.ID,F,1),(0,S.registerEditorAction)(o),(0,S.registerEditorAction)(d),(0,S.registerEditorAction)(l),(0,S.registerEditorAction)(I),(0,S.registerEditorAction)(M),(0,S.registerEditorAction)(P),(0,S.registerEditorAction)(x),(0,S.registerEditorAction)(T),(0,S.registerEditorAction)(A),(0,S.registerEditorAction)(p),(0,S.registerEditorAction)(m),(0,S.registerEditorAction)(U),(0,S.registerEditorAction)(j)}),define(ne[897],se([1,0,49,14,13,19,9,2,16,5,21,29,712,15,18,368,46]),function(Q,e,L,k,y,D,S,f,_,g,C,s,i,n,t,a,u){"use strict";var h;Object.defineProperty(e,"__esModule",{value:!0}),e.WordHighlighterContribution=e.getOccurrencesAtPosition=void 0;const r=new n.RawContextKey("hasWordHighlights",!1);function c(M,P,x,T){const A=M.ordered(P);return(0,y.first)(A.map(N=>()=>Promise.resolve(N.provideDocumentHighlights(P,x,T)).then(void 0,S.onUnexpectedExternalError)),k.isNonEmptyArray)}e.getOccurrencesAtPosition=c;class o{constructor(P,x,T){this._model=P,this._selection=x,this._wordSeparators=T,this._wordRange=this._getCurrentWordRange(P,x),this._result=null}get result(){return this._result||(this._result=(0,y.createCancelablePromise)(P=>this._compute(this._model,this._selection,this._wordSeparators,P))),this._result}_getCurrentWordRange(P,x){const T=P.getWordAtPosition(x.getPosition());return T?new g.Range(x.startLineNumber,T.startColumn,x.startLineNumber,T.endColumn):null}isValid(P,x,T){const A=x.startLineNumber,N=x.startColumn,F=x.endColumn,O=this._getCurrentWordRange(P,x);let W=!!(this._wordRange&&this._wordRange.equalsRange(O));for(let U=0,j=T.length;!W&&U<j;U++){const R=T.getRange(U);R&&R.startLineNumber===A&&R.startColumn<=N&&R.endColumn>=F&&(W=!0)}return W}cancel(){this.result.cancel()}}class d extends o{constructor(P,x,T,A){super(P,x,T),this._providers=A}_compute(P,x,T,A){return c(this._providers,P,x.getPosition(),A).then(N=>N||[])}}class l extends o{constructor(P,x,T){super(P,x,T),this._selectionIsEmpty=x.isEmpty()}_compute(P,x,T,A){return(0,y.timeout)(250,A).then(()=>{if(!x.isEmpty())return[];const N=P.getWordAtPosition(x.getPosition());return!N||N.word.length>1e3?[]:P.findMatches(N.word,!0,!1,!0,T,!1).map(O=>({range:O.range,kind:s.DocumentHighlightKind.Text}))})}isValid(P,x,T){const A=x.isEmpty();return this._selectionIsEmpty!==A?!1:super.isValid(P,x,T)}}function p(M,P,x,T){return M.has(P)?new d(P,x,T,M):new l(P,x,T)}(0,_.registerModelAndPositionCommand)("_executeDocumentHighlights",(M,P,x)=>{const T=M.get(t.ILanguageFeaturesService);return c(T.documentHighlightProvider,P,x,D.CancellationToken.None)});class m{constructor(P,x,T,A){this.toUnhook=new f.DisposableStore,this.workerRequestTokenId=0,this.workerRequestCompleted=!1,this.workerRequestValue=[],this.lastCursorPositionChangeTime=0,this.renderDecorationsTimer=-1,this.editor=P,this.providers=x,this.linkedHighlighters=T,this._hasWordHighlights=r.bindTo(A),this._ignorePositionChangeEvent=!1,this.occurrencesHighlight=this.editor.getOption(79),this.model=this.editor.getModel(),this.toUnhook.add(P.onDidChangeCursorPosition(N=>{this._ignorePositionChangeEvent||this.occurrencesHighlight&&this._onPositionChanged(N)})),this.toUnhook.add(P.onDidChangeModelContent(N=>{this._stopAll()})),this.toUnhook.add(P.onDidChangeConfiguration(N=>{const F=this.editor.getOption(79);this.occurrencesHighlight!==F&&(this.occurrencesHighlight=F,this._stopAll())})),this.decorations=this.editor.createDecorationsCollection(),this.workerRequestTokenId=0,this.workerRequest=null,this.workerRequestCompleted=!1,this.lastCursorPositionChangeTime=0,this.renderDecorationsTimer=-1}hasDecorations(){return this.decorations.length>0}restore(){this.occurrencesHighlight&&this._run()}_getSortedHighlights(){return this.decorations.getRanges().sort(g.Range.compareRangesUsingStarts)}moveNext(){const P=this._getSortedHighlights(),T=(P.findIndex(N=>N.containsPosition(this.editor.getPosition()))+1)%P.length,A=P[T];try{this._ignorePositionChangeEvent=!0,this.editor.setPosition(A.getStartPosition()),this.editor.revealRangeInCenterIfOutsideViewport(A);const N=this._getWord();if(N){const F=this.editor.getModel().getLineContent(A.startLineNumber);(0,L.alert)(`${F}, ${T+1} of ${P.length} for '${N.word}'`)}}finally{this._ignorePositionChangeEvent=!1}}moveBack(){const P=this._getSortedHighlights(),T=(P.findIndex(N=>N.containsPosition(this.editor.getPosition()))-1+P.length)%P.length,A=P[T];try{this._ignorePositionChangeEvent=!0,this.editor.setPosition(A.getStartPosition()),this.editor.revealRangeInCenterIfOutsideViewport(A);const N=this._getWord();if(N){const F=this.editor.getModel().getLineContent(A.startLineNumber);(0,L.alert)(`${F}, ${T+1} of ${P.length} for '${N.word}'`)}}finally{this._ignorePositionChangeEvent=!1}}_removeDecorations(){this.decorations.length>0&&(this.decorations.clear(),this._hasWordHighlights.set(!1))}_stopAll(){this._removeDecorations(),this.renderDecorationsTimer!==-1&&(clearTimeout(this.renderDecorationsTimer),this.renderDecorationsTimer=-1),this.workerRequest!==null&&(this.workerRequest.cancel(),this.workerRequest=null),this.workerRequestCompleted||(this.workerRequestTokenId++,this.workerRequestCompleted=!0)}_onPositionChanged(P){if(!this.occurrencesHighlight){this._stopAll();return}if(P.reason!==3){this._stopAll();return}this._run()}_getWord(){const P=this.editor.getSelection(),x=P.startLineNumber,T=P.startColumn;return this.model.getWordAtPosition({lineNumber:x,column:T})}_run(){const P=this.editor.getSelection();if(P.startLineNumber!==P.endLineNumber){this._stopAll();return}const x=P.startColumn,T=P.endColumn,A=this._getWord();if(!A||A.startColumn>x||A.endColumn<T){this._stopAll();return}const N=this.workerRequest&&this.workerRequest.isValid(this.model,P,this.decorations);if(this.lastCursorPositionChangeTime=new Date().getTime(),N)this.workerRequestCompleted&&this.renderDecorationsTimer!==-1&&(clearTimeout(this.renderDecorationsTimer),this.renderDecorationsTimer=-1,this._beginRenderDecorations());else{this._stopAll();const F=++this.workerRequestTokenId;this.workerRequestCompleted=!1,this.workerRequest=p(this.providers,this.model,this.editor.getSelection(),this.editor.getOption(128)),this.workerRequest.result.then(O=>{F===this.workerRequestTokenId&&(this.workerRequestCompleted=!0,this.workerRequestValue=O||[],this._beginRenderDecorations())},S.onUnexpectedError)}}_beginRenderDecorations(){const P=new Date().getTime(),x=this.lastCursorPositionChangeTime+250;P>=x?(this.renderDecorationsTimer=-1,this.renderDecorations()):this.renderDecorationsTimer=setTimeout(()=>{this.renderDecorations()},x-P)}renderDecorations(){this.renderDecorationsTimer=-1;const P=[];for(const x of this.workerRequestValue)x.range&&P.push({range:x.range,options:(0,a.getHighlightDecorationOptions)(x.kind)});this.decorations.set(P),this._hasWordHighlights.set(this.hasDecorations());for(const x of this.linkedHighlighters())x?.editor.getModel()===this.editor.getModel()&&(x._stopAll(),x.decorations.set(P),x._hasWordHighlights.set(x.hasDecorations()))}dispose(){this._stopAll(),this.toUnhook.dispose()}}let v=h=class extends f.Disposable{static get(P){return P.getContribution(h.ID)}constructor(P,x,T){super(),this.wordHighlighter=null,this.linkedContributions=new Set;const A=()=>{P.hasModel()&&(this.wordHighlighter=new m(P,T.documentHighlightProvider,()=>u.Iterable.map(this.linkedContributions,N=>N.wordHighlighter),x))};this._register(P.onDidChangeModel(N=>{this.wordHighlighter&&(this.wordHighlighter.dispose(),this.wordHighlighter=null),A()})),A()}saveViewState(){return!!(this.wordHighlighter&&this.wordHighlighter.hasDecorations())}moveNext(){var P;(P=this.wordHighlighter)===null||P===void 0||P.moveNext()}moveBack(){var P;(P=this.wordHighlighter)===null||P===void 0||P.moveBack()}restoreViewState(P){this.wordHighlighter&&P&&this.wordHighlighter.restore()}dispose(){this.wordHighlighter&&(this.wordHighlighter.dispose(),this.wordHighlighter=null),super.dispose()}};e.WordHighlighterContribution=v,v.ID="editor.contrib.wordHighlighter",e.WordHighlighterContribution=v=h=ke([fe(1,n.IContextKeyService),fe(2,t.ILanguageFeaturesService)],v);class b extends _.EditorAction{constructor(P,x){super(x),this._isNext=P}run(P,x){const T=v.get(x);T&&(this._isNext?T.moveNext():T.moveBack())}}class w extends b{constructor(){super(!0,{id:"editor.action.wordHighlight.next",label:i.localize(0,null),alias:"Go to Next Symbol Highlight",precondition:r,kbOpts:{kbExpr:C.EditorContextKeys.editorTextFocus,primary:65,weight:100}})}}class E extends b{constructor(){super(!1,{id:"editor.action.wordHighlight.prev",label:i.localize(1,null),alias:"Go to Previous Symbol Highlight",precondition:r,kbOpts:{kbExpr:C.EditorContextKeys.editorTextFocus,primary:1089,weight:100}})}}class I extends _.EditorAction{constructor(){super({id:"editor.action.wordHighlight.trigger",label:i.localize(2,null),alias:"Trigger Symbol Highlight",precondition:r.toNegated(),kbOpts:{kbExpr:C.EditorContextKeys.editorTextFocus,primary:0,weight:100}})}run(P,x,T){const A=v.get(x);A&&A.restoreViewState(!0)}}(0,_.registerEditorContribution)(v.ID,v,0),(0,_.registerEditorAction)(w),(0,_.registerEditorAction)(E),(0,_.registerEditorAction)(I)}),define(ne[898],se([1,0,7,130,38,164,2,47,5,40,467]),function(Q,e,L,k,y,D,S,f,_,g){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ZoneWidget=e.OverlayWidgetDelegate=void 0;const C=new y.Color(new y.RGBA(0,122,204)),s={showArrow:!0,showFrame:!0,className:"",frameColor:C,arrowColor:C,keepEditorSelection:!1},i="vs.editor.contrib.zoneWidget";class n{constructor(r,c,o,d,l,p,m,v){this.id="",this.domNode=r,this.afterLineNumber=c,this.afterColumn=o,this.heightInLines=d,this.showInHiddenAreas=m,this.ordinal=v,this._onDomNodeTop=l,this._onComputedHeight=p}onDomNodeTop(r){this._onDomNodeTop(r)}onComputedHeight(r){this._onComputedHeight(r)}}class t{constructor(r,c){this._id=r,this._domNode=c}getId(){return this._id}getDomNode(){return this._domNode}getPosition(){return null}}e.OverlayWidgetDelegate=t;class a{constructor(r){this._editor=r,this._ruleName=a._IdGenerator.nextId(),this._decorations=this._editor.createDecorationsCollection(),this._color=null,this._height=-1}dispose(){this.hide(),L.removeCSSRulesContainingSelector(this._ruleName)}set color(r){this._color!==r&&(this._color=r,this._updateStyle())}set height(r){this._height!==r&&(this._height=r,this._updateStyle())}_updateStyle(){L.removeCSSRulesContainingSelector(this._ruleName),L.createCSSRule(`.monaco-editor ${this._ruleName}`,`border-style: solid; border-color: transparent; border-bottom-color: ${this._color}; border-width: ${this._height}px; bottom: -${this._height}px; margin-left: -${this._height}px; `)}show(r){r.column===1&&(r={lineNumber:r.lineNumber,column:2}),this._decorations.set([{range:_.Range.fromPositions(r),options:{description:"zone-widget-arrow",className:this._ruleName,stickiness:1}}])}hide(){this._decorations.clear()}}a._IdGenerator=new D.IdGenerator(".arrow-decoration-");class u{constructor(r,c={}){this._arrow=null,this._overlayWidget=null,this._resizeSash=null,this._viewZone=null,this._disposables=new S.DisposableStore,this.container=null,this._isShowing=!1,this.editor=r,this._positionMarkerId=this.editor.createDecorationsCollection(),this.options=f.deepClone(c),f.mixin(this.options,s,!1),this.domNode=document.createElement("div"),this.options.isAccessible||(this.domNode.setAttribute("aria-hidden","true"),this.domNode.setAttribute("role","presentation")),this._disposables.add(this.editor.onDidLayoutChange(o=>{const d=this._getWidth(o);this.domNode.style.width=d+"px",this.domNode.style.left=this._getLeft(o)+"px",this._onWidth(d)}))}dispose(){this._overlayWidget&&(this.editor.removeOverlayWidget(this._overlayWidget),this._overlayWidget=null),this._viewZone&&this.editor.changeViewZones(r=>{this._viewZone&&r.removeZone(this._viewZone.id),this._viewZone=null}),this._positionMarkerId.clear(),this._disposables.dispose()}create(){this.domNode.classList.add("zone-widget"),this.options.className&&this.domNode.classList.add(this.options.className),this.container=document.createElement("div"),this.container.classList.add("zone-widget-container"),this.domNode.appendChild(this.container),this.options.showArrow&&(this._arrow=new a(this.editor),this._disposables.add(this._arrow)),this._fillContainer(this.container),this._initSash(),this._applyStyles()}style(r){r.frameColor&&(this.options.frameColor=r.frameColor),r.arrowColor&&(this.options.arrowColor=r.arrowColor),this._applyStyles()}_applyStyles(){if(this.container&&this.options.frameColor){const r=this.options.frameColor.toString();this.container.style.borderTopColor=r,this.container.style.borderBottomColor=r}if(this._arrow&&this.options.arrowColor){const r=this.options.arrowColor.toString();this._arrow.color=r}}_getWidth(r){return r.width-r.minimap.minimapWidth-r.verticalScrollbarWidth}_getLeft(r){return r.minimap.minimapWidth>0&&r.minimap.minimapLeft===0?r.minimap.minimapWidth:0}_onViewZoneTop(r){this.domNode.style.top=r+"px"}_onViewZoneHeight(r){var c;if(this.domNode.style.height=`${r}px`,this.container){const o=r-this._decoratingElementsHeight();this.container.style.height=`${o}px`;const d=this.editor.getLayoutInfo();this._doLayout(o,this._getWidth(d))}(c=this._resizeSash)===null||c===void 0||c.layout()}get position(){const r=this._positionMarkerId.getRange(0);if(r)return r.getStartPosition()}show(r,c){const o=_.Range.isIRange(r)?_.Range.lift(r):_.Range.fromPositions(r);this._isShowing=!0,this._showImpl(o,c),this._isShowing=!1,this._positionMarkerId.set([{range:o,options:g.ModelDecorationOptions.EMPTY}])}hide(){var r;this._viewZone&&(this.editor.changeViewZones(c=>{this._viewZone&&c.removeZone(this._viewZone.id)}),this._viewZone=null),this._overlayWidget&&(this.editor.removeOverlayWidget(this._overlayWidget),this._overlayWidget=null),(r=this._arrow)===null||r===void 0||r.hide(),this._positionMarkerId.clear()}_decoratingElementsHeight(){const r=this.editor.getOption(65);let c=0;if(this.options.showArrow){const o=Math.round(r/3);c+=2*o}if(this.options.showFrame){const o=Math.round(r/9);c+=2*o}return c}_showImpl(r,c){const o=r.getStartPosition(),d=this.editor.getLayoutInfo(),l=this._getWidth(d);this.domNode.style.width=`${l}px`,this.domNode.style.left=this._getLeft(d)+"px";const p=document.createElement("div");p.style.overflow="hidden";const m=this.editor.getOption(65);if(!this.options.allowUnlimitedHeight){const I=Math.max(12,this.editor.getLayoutInfo().height/m*.8);c=Math.min(c,I)}let v=0,b=0;if(this._arrow&&this.options.showArrow&&(v=Math.round(m/3),this._arrow.height=v,this._arrow.show(o)),this.options.showFrame&&(b=Math.round(m/9)),this.editor.changeViewZones(I=>{this._viewZone&&I.removeZone(this._viewZone.id),this._overlayWidget&&(this.editor.removeOverlayWidget(this._overlayWidget),this._overlayWidget=null),this.domNode.style.top="-1000px",this._viewZone=new n(p,o.lineNumber,o.column,c,M=>this._onViewZoneTop(M),M=>this._onViewZoneHeight(M),this.options.showInHiddenAreas,this.options.ordinal),this._viewZone.id=I.addZone(this._viewZone),this._overlayWidget=new t(i+this._viewZone.id,this.domNode),this.editor.addOverlayWidget(this._overlayWidget)}),this.container&&this.options.showFrame){const I=this.options.frameWidth?this.options.frameWidth:b;this.container.style.borderTopWidth=I+"px",this.container.style.borderBottomWidth=I+"px"}const w=c*m-this._decoratingElementsHeight();this.container&&(this.container.style.top=v+"px",this.container.style.height=w+"px",this.container.style.overflow="hidden"),this._doLayout(w,l),this.options.keepEditorSelection||this.editor.setSelection(r);const E=this.editor.getModel();if(E){const I=E.validateRange(new _.Range(r.startLineNumber,1,r.endLineNumber+1,1));this.revealRange(I,I.startLineNumber===E.getLineCount())}}revealRange(r,c){c?this.editor.revealLineNearTop(r.endLineNumber,0):this.editor.revealRange(r,0)}setCssClass(r,c){this.container&&(c&&this.container.classList.remove(c),this.container.classList.add(r))}_onWidth(r){}_doLayout(r,c){}_relayout(r){this._viewZone&&this._viewZone.heightInLines!==r&&this.editor.changeViewZones(c=>{this._viewZone&&(this._viewZone.heightInLines=r,c.layoutZone(this._viewZone.id))})}_initSash(){if(this._resizeSash)return;this._resizeSash=this._disposables.add(new k.Sash(this.domNode,this,{orientation:1})),this.options.isResizeable||(this._resizeSash.state=0);let r;this._disposables.add(this._resizeSash.onDidStart(c=>{this._viewZone&&(r={startY:c.startY,heightInLines:this._viewZone.heightInLines})})),this._disposables.add(this._resizeSash.onDidEnd(()=>{r=void 0})),this._disposables.add(this._resizeSash.onDidChange(c=>{if(r){const o=(c.currentY-r.startY)/this.editor.getOption(65),d=o<0?Math.ceil(o):Math.floor(o),l=r.heightInLines+d;l>5&&l<35&&this._relayout(l)}}))}getHorizontalSashLeft(){return 0}getHorizontalSashTop(){return(this.domNode.style.height===null?0:parseInt(this.domNode.style.height))-this._decoratingElementsHeight()/2}getHorizontalSashWidth(){const r=this.editor.getLayoutInfo();return r.width-r.minimap.minimapWidth}}e.ZoneWidget=u}),define(ne[138],se([1,0,7,68,39,25,26,38,6,47,16,33,162,898,690,160,15,50,8,31,458]),function(Q,e,L,k,y,D,S,f,_,g,C,s,i,n,t,a,u,h,r,c){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.peekViewEditorMatchHighlightBorder=e.peekViewEditorMatchHighlight=e.peekViewResultsMatchHighlight=e.peekViewEditorStickyScrollBackground=e.peekViewEditorGutterBackground=e.peekViewEditorBackground=e.peekViewResultsSelectionForeground=e.peekViewResultsSelectionBackground=e.peekViewResultsFileForeground=e.peekViewResultsMatchForeground=e.peekViewResultsBackground=e.peekViewBorder=e.peekViewTitleInfoForeground=e.peekViewTitleForeground=e.peekViewTitleBackground=e.PeekViewWidget=e.getOuterEditor=e.PeekContext=e.IPeekViewService=void 0,e.IPeekViewService=(0,r.createDecorator)("IPeekViewService"),(0,h.registerSingleton)(e.IPeekViewService,class{constructor(){this._widgets=new Map}addExclusiveWidget(v,b){const w=this._widgets.get(v);w&&(w.listener.dispose(),w.widget.dispose());const E=()=>{const I=this._widgets.get(v);I&&I.widget===b&&(I.listener.dispose(),this._widgets.delete(v))};this._widgets.set(v,{widget:b,listener:b.onDidClose(E)})}},1);var o;(function(v){v.inPeekEditor=new u.RawContextKey("inReferenceSearchEditor",!0,t.localize(0,null)),v.notInPeekEditor=v.inPeekEditor.toNegated()})(o||(e.PeekContext=o={}));let d=class{constructor(b,w){b instanceof i.EmbeddedCodeEditorWidget&&o.inPeekEditor.bindTo(w)}dispose(){}};d.ID="editor.contrib.referenceController",d=ke([fe(1,u.IContextKeyService)],d),(0,C.registerEditorContribution)(d.ID,d,0);function l(v){const b=v.get(s.ICodeEditorService).getFocusedCodeEditor();return b instanceof i.EmbeddedCodeEditorWidget?b.getParentEditor():b}e.getOuterEditor=l;const p={headerBackgroundColor:f.Color.white,primaryHeadingColor:f.Color.fromHex("#333333"),secondaryHeadingColor:f.Color.fromHex("#6c6c6cb3")};let m=class extends n.ZoneWidget{constructor(b,w,E){super(b,w),this.instantiationService=E,this._onDidClose=new _.Emitter,this.onDidClose=this._onDidClose.event,g.mixin(this.options,p,!1)}dispose(){this.disposed||(this.disposed=!0,super.dispose(),this._onDidClose.fire(this))}style(b){const w=this.options;b.headerBackgroundColor&&(w.headerBackgroundColor=b.headerBackgroundColor),b.primaryHeadingColor&&(w.primaryHeadingColor=b.primaryHeadingColor),b.secondaryHeadingColor&&(w.secondaryHeadingColor=b.secondaryHeadingColor),super.style(b)}_applyStyles(){super._applyStyles();const b=this.options;this._headElement&&b.headerBackgroundColor&&(this._headElement.style.backgroundColor=b.headerBackgroundColor.toString()),this._primaryHeading&&b.primaryHeadingColor&&(this._primaryHeading.style.color=b.primaryHeadingColor.toString()),this._secondaryHeading&&b.secondaryHeadingColor&&(this._secondaryHeading.style.color=b.secondaryHeadingColor.toString()),this._bodyElement&&b.frameColor&&(this._bodyElement.style.borderColor=b.frameColor.toString())}_fillContainer(b){this.setCssClass("peekview-widget"),this._headElement=L.$(".head"),this._bodyElement=L.$(".body"),this._fillHead(this._headElement),this._fillBody(this._bodyElement),b.appendChild(this._headElement),b.appendChild(this._bodyElement)}_fillHead(b,w){this._titleElement=L.$(".peekview-title"),this.options.supportOnTitleClick&&(this._titleElement.classList.add("clickable"),L.addStandardDisposableListener(this._titleElement,"click",M=>this._onTitleClick(M))),L.append(this._headElement,this._titleElement),this._fillTitleIcon(this._titleElement),this._primaryHeading=L.$("span.filename"),this._secondaryHeading=L.$("span.dirname"),this._metaHeading=L.$("span.meta"),L.append(this._titleElement,this._primaryHeading,this._secondaryHeading,this._metaHeading);const E=L.$(".peekview-actions");L.append(this._headElement,E);const I=this._getActionBarOptions();this._actionbarWidget=new k.ActionBar(E,I),this._disposables.add(this._actionbarWidget),w||this._actionbarWidget.push(new y.Action("peekview.close",t.localize(1,null),S.ThemeIcon.asClassName(D.Codicon.close),!0,()=>(this.dispose(),Promise.resolve())),{label:!1,icon:!0})}_fillTitleIcon(b){}_getActionBarOptions(){return{actionViewItemProvider:a.createActionViewItem.bind(void 0,this.instantiationService),orientation:0}}_onTitleClick(b){}setTitle(b,w){this._primaryHeading&&this._secondaryHeading&&(this._primaryHeading.innerText=b,this._primaryHeading.setAttribute("title",b),w?this._secondaryHeading.innerText=w:L.clearNode(this._secondaryHeading))}setMetaTitle(b){this._metaHeading&&(b?(this._metaHeading.innerText=b,L.show(this._metaHeading)):L.hide(this._metaHeading))}_doLayout(b,w){if(!this._isShowing&&b<0){this.dispose();return}const E=Math.ceil(this.editor.getOption(65)*1.2),I=Math.round(b-(E+2));this._doLayoutHead(E,w),this._doLayoutBody(I,w)}_doLayoutHead(b,w){this._headElement&&(this._headElement.style.height=`${b}px`,this._headElement.style.lineHeight=this._headElement.style.height)}_doLayoutBody(b,w){this._bodyElement&&(this._bodyElement.style.height=`${b}px`)}};e.PeekViewWidget=m,e.PeekViewWidget=m=ke([fe(2,r.IInstantiationService)],m),e.peekViewTitleBackground=(0,c.registerColor)("peekViewTitle.background",{dark:"#252526",light:"#F3F3F3",hcDark:f.Color.black,hcLight:f.Color.white},t.localize(2,null)),e.peekViewTitleForeground=(0,c.registerColor)("peekViewTitleLabel.foreground",{dark:f.Color.white,light:f.Color.black,hcDark:f.Color.white,hcLight:c.editorForeground},t.localize(3,null)),e.peekViewTitleInfoForeground=(0,c.registerColor)("peekViewTitleDescription.foreground",{dark:"#ccccccb3",light:"#616161",hcDark:"#FFFFFF99",hcLight:"#292929"},t.localize(4,null)),e.peekViewBorder=(0,c.registerColor)("peekView.border",{dark:c.editorInfoForeground,light:c.editorInfoForeground,hcDark:c.contrastBorder,hcLight:c.contrastBorder},t.localize(5,null)),e.peekViewResultsBackground=(0,c.registerColor)("peekViewResult.background",{dark:"#252526",light:"#F3F3F3",hcDark:f.Color.black,hcLight:f.Color.white},t.localize(6,null)),e.peekViewResultsMatchForeground=(0,c.registerColor)("peekViewResult.lineForeground",{dark:"#bbbbbb",light:"#646465",hcDark:f.Color.white,hcLight:c.editorForeground},t.localize(7,null)),e.peekViewResultsFileForeground=(0,c.registerColor)("peekViewResult.fileForeground",{dark:f.Color.white,light:"#1E1E1E",hcDark:f.Color.white,hcLight:c.editorForeground},t.localize(8,null)),e.peekViewResultsSelectionBackground=(0,c.registerColor)("peekViewResult.selectionBackground",{dark:"#3399ff33",light:"#3399ff33",hcDark:null,hcLight:null},t.localize(9,null)),e.peekViewResultsSelectionForeground=(0,c.registerColor)("peekViewResult.selectionForeground",{dark:f.Color.white,light:"#6C6C6C",hcDark:f.Color.white,hcLight:c.editorForeground},t.localize(10,null)),e.peekViewEditorBackground=(0,c.registerColor)("peekViewEditor.background",{dark:"#001F33",light:"#F2F8FC",hcDark:f.Color.black,hcLight:f.Color.white},t.localize(11,null)),e.peekViewEditorGutterBackground=(0,c.registerColor)("peekViewEditorGutter.background",{dark:e.peekViewEditorBackground,light:e.peekViewEditorBackground,hcDark:e.peekViewEditorBackground,hcLight:e.peekViewEditorBackground},t.localize(12,null)),e.peekViewEditorStickyScrollBackground=(0,c.registerColor)("peekViewEditorStickyScroll.background",{dark:e.peekViewEditorBackground,light:e.peekViewEditorBackground,hcDark:e.peekViewEditorBackground,hcLight:e.peekViewEditorBackground},t.localize(13,null)),e.peekViewResultsMatchHighlight=(0,c.registerColor)("peekViewResult.matchHighlightBackground",{dark:"#ea5c004d",light:"#ea5c004d",hcDark:null,hcLight:null},t.localize(14,null)),e.peekViewEditorMatchHighlight=(0,c.registerColor)("peekViewEditor.matchHighlightBackground",{dark:"#ff8f0099",light:"#f5d802de",hcDark:null,hcLight:null},t.localize(15,null)),e.peekViewEditorMatchHighlightBorder=(0,c.registerColor)("peekViewEditor.matchHighlightBorder",{dark:null,light:null,hcDark:c.activeContrastBorder,hcLight:c.activeContrastBorder},t.localize(16,null))}),define(ne[899],se([1,0,7,75,14,38,6,2,45,11,5,138,663,160,30,15,8,158,97,56,789,31,23,445]),function(Q,e,L,k,y,D,S,f,_,g,C,s,i,n,t,a,u,h,r,c,o,d,l){"use strict";var p;Object.defineProperty(e,"__esModule",{value:!0}),e.MarkerNavigationWidget=void 0;class m{constructor(O,W,U,j,R){this._openerService=j,this._labelService=R,this._lines=0,this._longestLineLength=0,this._relatedDiagnostics=new WeakMap,this._disposables=new f.DisposableStore,this._editor=W;const K=document.createElement("div");K.className="descriptioncontainer",this._messageBlock=document.createElement("div"),this._messageBlock.classList.add("message"),this._messageBlock.setAttribute("aria-live","assertive"),this._messageBlock.setAttribute("role","alert"),K.appendChild(this._messageBlock),this._relatedBlock=document.createElement("div"),K.appendChild(this._relatedBlock),this._disposables.add(L.addStandardDisposableListener(this._relatedBlock,"click",G=>{G.preventDefault();const Z=this._relatedDiagnostics.get(G.target);Z&&U(Z)})),this._scrollable=new k.ScrollableElement(K,{horizontal:1,vertical:1,useShadows:!1,horizontalScrollbarSize:6,verticalScrollbarSize:6}),O.appendChild(this._scrollable.getDomNode()),this._disposables.add(this._scrollable.onScroll(G=>{K.style.left=`-${G.scrollLeft}px`,K.style.top=`-${G.scrollTop}px`})),this._disposables.add(this._scrollable)}dispose(){(0,f.dispose)(this._disposables)}update(O){const{source:W,message:U,relatedInformation:j,code:R}=O;let K=(W?.length||0)+2;R&&(typeof R=="string"?K+=R.length:K+=R.value.length);const G=(0,g.splitLines)(U);this._lines=G.length,this._longestLineLength=0;for(const B of G)this._longestLineLength=Math.max(B.length+K,this._longestLineLength);L.clearNode(this._messageBlock),this._messageBlock.setAttribute("aria-label",this.getAriaLabel(O)),this._editor.applyFontInfo(this._messageBlock);let Z=this._messageBlock;for(const B of G)Z=document.createElement("div"),Z.innerText=B,B===""&&(Z.style.height=this._messageBlock.style.lineHeight),this._messageBlock.appendChild(Z);if(W||R){const B=document.createElement("span");if(B.classList.add("details"),Z.appendChild(B),W){const V=document.createElement("span");V.innerText=W,V.classList.add("source"),B.appendChild(V)}if(R)if(typeof R=="string"){const V=document.createElement("span");V.innerText=`(${R})`,V.classList.add("code"),B.appendChild(V)}else{this._codeLink=L.$("a.code-link"),this._codeLink.setAttribute("href",`${R.target.toString()}`),this._codeLink.onclick=Y=>{this._openerService.open(R.target,{allowCommands:!0}),Y.preventDefault(),Y.stopPropagation()};const V=L.append(this._codeLink,L.$("span"));V.innerText=R.value,B.appendChild(this._codeLink)}}if(L.clearNode(this._relatedBlock),this._editor.applyFontInfo(this._relatedBlock),(0,y.isNonEmptyArray)(j)){const B=this._relatedBlock.appendChild(document.createElement("div"));B.style.paddingTop=`${Math.floor(this._editor.getOption(65)*.66)}px`,this._lines+=1;for(const V of j){const Y=document.createElement("div"),ie=document.createElement("a");ie.classList.add("filename"),ie.innerText=`${this._labelService.getUriBasenameLabel(V.resource)}(${V.startLineNumber}, ${V.startColumn}): `,ie.title=this._labelService.getUriLabel(V.resource),this._relatedDiagnostics.set(ie,V);const ae=document.createElement("span");ae.innerText=V.message,Y.appendChild(ie),Y.appendChild(ae),this._lines+=1,B.appendChild(Y)}}const J=this._editor.getOption(49),X=Math.ceil(J.typicalFullwidthCharacterWidth*this._longestLineLength*.75),H=J.lineHeight*this._lines;this._scrollable.setScrollDimensions({scrollWidth:X,scrollHeight:H})}layout(O,W){this._scrollable.getDomNode().style.height=`${O}px`,this._scrollable.getDomNode().style.width=`${W}px`,this._scrollable.setScrollDimensions({width:W,height:O})}getHeightInLines(){return Math.min(17,this._lines)}getAriaLabel(O){let W="";switch(O.severity){case r.MarkerSeverity.Error:W=i.localize(0,null);break;case r.MarkerSeverity.Warning:W=i.localize(1,null);break;case r.MarkerSeverity.Info:W=i.localize(2,null);break;case r.MarkerSeverity.Hint:W=i.localize(3,null);break}let U=i.localize(4,null,W,O.startLineNumber+":"+O.startColumn);const j=this._editor.getModel();return j&&O.startLineNumber<=j.getLineCount()&&O.startLineNumber>=1&&(U=`${j.getLineContent(O.startLineNumber)}, ${U}`),U}}let v=p=class extends s.PeekViewWidget{constructor(O,W,U,j,R,K,G){super(O,{showArrow:!0,showFrame:!0,isAccessible:!0,frameWidth:1},R),this._themeService=W,this._openerService=U,this._menuService=j,this._contextKeyService=K,this._labelService=G,this._callOnDispose=new f.DisposableStore,this._onDidSelectRelatedInformation=new S.Emitter,this.onDidSelectRelatedInformation=this._onDidSelectRelatedInformation.event,this._severity=r.MarkerSeverity.Warning,this._backgroundColor=D.Color.white,this._applyTheme(W.getColorTheme()),this._callOnDispose.add(W.onDidColorThemeChange(this._applyTheme.bind(this))),this.create()}_applyTheme(O){this._backgroundColor=O.getColor(N);let W=I,U=M;this._severity===r.MarkerSeverity.Warning?(W=P,U=x):this._severity===r.MarkerSeverity.Info&&(W=T,U=A);const j=O.getColor(W),R=O.getColor(U);this.style({arrowColor:j,frameColor:j,headerBackgroundColor:R,primaryHeadingColor:O.getColor(s.peekViewTitleForeground),secondaryHeadingColor:O.getColor(s.peekViewTitleInfoForeground)})}_applyStyles(){this._parentContainer&&(this._parentContainer.style.backgroundColor=this._backgroundColor?this._backgroundColor.toString():""),super._applyStyles()}dispose(){this._callOnDispose.dispose(),super.dispose()}_fillHead(O){super._fillHead(O),this._disposables.add(this._actionbarWidget.actionRunner.onWillRun(j=>this.editor.focus()));const W=[],U=this._menuService.createMenu(p.TitleMenu,this._contextKeyService);(0,n.createAndFillInActionBarActions)(U,void 0,W),this._actionbarWidget.push(W,{label:!1,icon:!0,index:0}),U.dispose()}_fillTitleIcon(O){this._icon=L.append(O,L.$(""))}_fillBody(O){this._parentContainer=O,O.classList.add("marker-widget"),this._parentContainer.tabIndex=0,this._parentContainer.setAttribute("role","tooltip"),this._container=document.createElement("div"),O.appendChild(this._container),this._message=new m(this._container,this.editor,W=>this._onDidSelectRelatedInformation.fire(W),this._openerService,this._labelService),this._disposables.add(this._message)}show(){throw new Error("call showAtMarker")}showAtMarker(O,W,U){this._container.classList.remove("stale"),this._message.update(O),this._severity=O.severity,this._applyTheme(this._themeService.getColorTheme());const j=C.Range.lift(O),R=this.editor.getPosition(),K=R&&j.containsPosition(R)?R:j.getStartPosition();super.show(K,this.computeRequiredHeight());const G=this.editor.getModel();if(G){const Z=U>1?i.localize(5,null,W,U):i.localize(6,null,W,U);this.setTitle((0,_.basename)(G.uri),Z)}this._icon.className=`codicon ${o.SeverityIcon.className(r.MarkerSeverity.toSeverity(this._severity))}`,this.editor.revealPositionNearTop(K,0),this.editor.focus()}updateMarker(O){this._container.classList.remove("stale"),this._message.update(O)}showStale(){this._container.classList.add("stale"),this._relayout()}_doLayoutBody(O,W){super._doLayoutBody(O,W),this._heightInPixel=O,this._message.layout(O,W),this._container.style.height=`${O}px`}_onWidth(O){this._message.layout(this._heightInPixel,O)}_relayout(){super._relayout(this.computeRequiredHeight())}computeRequiredHeight(){return 3+this._message.getHeightInLines()}};e.MarkerNavigationWidget=v,v.TitleMenu=new t.MenuId("gotoErrorTitleMenu"),e.MarkerNavigationWidget=v=p=ke([fe(1,l.IThemeService),fe(2,c.IOpenerService),fe(3,t.IMenuService),fe(4,u.IInstantiationService),fe(5,a.IContextKeyService),fe(6,h.ILabelService)],v);const b=(0,d.oneOf)(d.editorErrorForeground,d.editorErrorBorder),w=(0,d.oneOf)(d.editorWarningForeground,d.editorWarningBorder),E=(0,d.oneOf)(d.editorInfoForeground,d.editorInfoBorder),I=(0,d.registerColor)("editorMarkerNavigationError.background",{dark:b,light:b,hcDark:d.contrastBorder,hcLight:d.contrastBorder},i.localize(7,null)),M=(0,d.registerColor)("editorMarkerNavigationError.headerBackground",{dark:(0,d.transparent)(I,.1),light:(0,d.transparent)(I,.1),hcDark:null,hcLight:null},i.localize(8,null)),P=(0,d.registerColor)("editorMarkerNavigationWarning.background",{dark:w,light:w,hcDark:d.contrastBorder,hcLight:d.contrastBorder},i.localize(9,null)),x=(0,d.registerColor)("editorMarkerNavigationWarning.headerBackground",{dark:(0,d.transparent)(P,.1),light:(0,d.transparent)(P,.1),hcDark:"#0C141F",hcLight:(0,d.transparent)(P,.2)},i.localize(10,null)),T=(0,d.registerColor)("editorMarkerNavigationInfo.background",{dark:E,light:E,hcDark:d.contrastBorder,hcLight:d.contrastBorder},i.localize(11,null)),A=(0,d.registerColor)("editorMarkerNavigationInfo.headerBackground",{dark:(0,d.transparent)(T,.1),light:(0,d.transparent)(T,.1),hcDark:null,hcLight:null},i.localize(12,null)),N=(0,d.registerColor)("editorMarkerNavigation.background",{dark:d.editorBackground,light:d.editorBackground,hcDark:d.editorBackground,hcLight:d.editorBackground},i.localize(13,null))}),define(ne[369],se([1,0,25,2,16,33,12,5,21,766,662,30,15,8,62,899]),function(Q,e,L,k,y,D,S,f,_,g,C,s,i,n,t,a){"use strict";var u;Object.defineProperty(e,"__esModule",{value:!0}),e.NextMarkerAction=e.MarkerController=void 0;let h=u=class{static get(b){return b.getContribution(u.ID)}constructor(b,w,E,I,M){this._markerNavigationService=w,this._contextKeyService=E,this._editorService=I,this._instantiationService=M,this._sessionDispoables=new k.DisposableStore,this._editor=b,this._widgetVisible=p.bindTo(this._contextKeyService)}dispose(){this._cleanUp(),this._sessionDispoables.dispose()}_cleanUp(){this._widgetVisible.reset(),this._sessionDispoables.clear(),this._widget=void 0,this._model=void 0}_getOrCreateModel(b){if(this._model&&this._model.matches(b))return this._model;let w=!1;return this._model&&(w=!0,this._cleanUp()),this._model=this._markerNavigationService.getMarkerList(b),w&&this._model.move(!0,this._editor.getModel(),this._editor.getPosition()),this._widget=this._instantiationService.createInstance(a.MarkerNavigationWidget,this._editor),this._widget.onDidClose(()=>this.close(),this,this._sessionDispoables),this._widgetVisible.set(!0),this._sessionDispoables.add(this._model),this._sessionDispoables.add(this._widget),this._sessionDispoables.add(this._editor.onDidChangeCursorPosition(E=>{var I,M,P;(!(!((I=this._model)===null||I===void 0)&&I.selected)||!f.Range.containsPosition((M=this._model)===null||M===void 0?void 0:M.selected.marker,E.position))&&((P=this._model)===null||P===void 0||P.resetIndex())})),this._sessionDispoables.add(this._model.onDidChange(()=>{if(!this._widget||!this._widget.position||!this._model)return;const E=this._model.find(this._editor.getModel().uri,this._widget.position);E?this._widget.updateMarker(E.marker):this._widget.showStale()})),this._sessionDispoables.add(this._widget.onDidSelectRelatedInformation(E=>{this._editorService.openCodeEditor({resource:E.resource,options:{pinned:!0,revealIfOpened:!0,selection:f.Range.lift(E).collapseToStart()}},this._editor),this.close(!1)})),this._sessionDispoables.add(this._editor.onDidChangeModel(()=>this._cleanUp())),this._model}close(b=!0){this._cleanUp(),b&&this._editor.focus()}showAtMarker(b){if(this._editor.hasModel()){const w=this._getOrCreateModel(this._editor.getModel().uri);w.resetIndex(),w.move(!0,this._editor.getModel(),new S.Position(b.startLineNumber,b.startColumn)),w.selected&&this._widget.showAtMarker(w.selected.marker,w.selected.index,w.selected.total)}}nagivate(b,w){var E,I;return we(this,void 0,void 0,function*(){if(this._editor.hasModel()){const M=this._getOrCreateModel(w?void 0:this._editor.getModel().uri);if(M.move(b,this._editor.getModel(),this._editor.getPosition()),!M.selected)return;if(M.selected.marker.resource.toString()!==this._editor.getModel().uri.toString()){this._cleanUp();const P=yield this._editorService.openCodeEditor({resource:M.selected.marker.resource,options:{pinned:!1,revealIfOpened:!0,selectionRevealType:2,selection:M.selected.marker}},this._editor);P&&((E=u.get(P))===null||E===void 0||E.close(),(I=u.get(P))===null||I===void 0||I.nagivate(b,w))}else this._widget.showAtMarker(M.selected.marker,M.selected.index,M.selected.total)}})}};e.MarkerController=h,h.ID="editor.contrib.markerController",e.MarkerController=h=u=ke([fe(1,g.IMarkerNavigationService),fe(2,i.IContextKeyService),fe(3,D.ICodeEditorService),fe(4,n.IInstantiationService)],h);class r extends y.EditorAction{constructor(b,w,E){super(E),this._next=b,this._multiFile=w}run(b,w){var E;return we(this,void 0,void 0,function*(){w.hasModel()&&((E=h.get(w))===null||E===void 0||E.nagivate(this._next,this._multiFile))})}}class c extends r{constructor(){super(!0,!1,{id:c.ID,label:c.LABEL,alias:"Go to Next Problem (Error, Warning, Info)",precondition:void 0,kbOpts:{kbExpr:_.EditorContextKeys.focus,primary:578,weight:100},menuOpts:{menuId:a.MarkerNavigationWidget.TitleMenu,title:c.LABEL,icon:(0,t.registerIcon)("marker-navigation-next",L.Codicon.arrowDown,C.localize(1,null)),group:"navigation",order:1}})}}e.NextMarkerAction=c,c.ID="editor.action.marker.next",c.LABEL=C.localize(0,null);class o extends r{constructor(){super(!1,!1,{id:o.ID,label:o.LABEL,alias:"Go to Previous Problem (Error, Warning, Info)",precondition:void 0,kbOpts:{kbExpr:_.EditorContextKeys.focus,primary:1602,weight:100},menuOpts:{menuId:a.MarkerNavigationWidget.TitleMenu,title:o.LABEL,icon:(0,t.registerIcon)("marker-navigation-previous",L.Codicon.arrowUp,C.localize(3,null)),group:"navigation",order:2}})}}o.ID="editor.action.marker.prev",o.LABEL=C.localize(2,null);class d extends r{constructor(){super(!0,!0,{id:"editor.action.marker.nextInFiles",label:C.localize(4,null),alias:"Go to Next Problem in Files (Error, Warning, Info)",precondition:void 0,kbOpts:{kbExpr:_.EditorContextKeys.focus,primary:66,weight:100},menuOpts:{menuId:s.MenuId.MenubarGoMenu,title:C.localize(5,null),group:"6_problem_nav",order:1}})}}class l extends r{constructor(){super(!1,!0,{id:"editor.action.marker.prevInFiles",label:C.localize(6,null),alias:"Go to Previous Problem in Files (Error, Warning, Info)",precondition:void 0,kbOpts:{kbExpr:_.EditorContextKeys.focus,primary:1090,weight:100},menuOpts:{menuId:s.MenuId.MenubarGoMenu,title:C.localize(7,null),group:"6_problem_nav",order:2}})}}(0,y.registerEditorContribution)(h.ID,h,4),(0,y.registerEditorAction)(c),(0,y.registerEditorAction)(o),(0,y.registerEditorAction)(d),(0,y.registerEditorAction)(l);const p=new i.RawContextKey("markersNavigationVisible",!1),m=y.EditorCommand.bindToContribution(h.get);(0,y.registerEditorCommand)(new m({id:"closeMarkersNavigation",precondition:p,handler:v=>v.close(),kbOpts:{weight:100+50,kbExpr:_.EditorContextKeys.focus,primary:9,secondary:[1033]}}))}),define(ne[900],se([1,0,7,311,38,6,2,54,45,162,5,40,32,78,41,69,824,138,668,8,34,158,191,23,192,155,447]),function(Q,e,L,k,y,D,S,f,_,g,C,s,i,n,t,a,u,h,r,c,o,d,l,p,m,v){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ReferenceWidget=e.LayoutData=void 0;class b{constructor(P,x){this._editor=P,this._model=x,this._decorations=new Map,this._decorationIgnoreSet=new Set,this._callOnDispose=new S.DisposableStore,this._callOnModelChange=new S.DisposableStore,this._callOnDispose.add(this._editor.onDidChangeModel(()=>this._onModelChanged())),this._onModelChanged()}dispose(){this._callOnModelChange.dispose(),this._callOnDispose.dispose(),this.removeDecorations()}_onModelChanged(){this._callOnModelChange.clear();const P=this._editor.getModel();if(P){for(const x of this._model.references)if(x.uri.toString()===P.uri.toString()){this._addDecorations(x.parent);return}}}_addDecorations(P){if(!this._editor.hasModel())return;this._callOnModelChange.add(this._editor.getModel().onDidChangeDecorations(()=>this._onDecorationChanged()));const x=[],T=[];for(let A=0,N=P.children.length;A<N;A++){const F=P.children[A];this._decorationIgnoreSet.has(F.id)||F.uri.toString()===this._editor.getModel().uri.toString()&&(x.push({range:F.range,options:b.DecorationOptions}),T.push(A))}this._editor.changeDecorations(A=>{const N=A.deltaDecorations([],x);for(let F=0;F<N.length;F++)this._decorations.set(N[F],P.children[T[F]])})}_onDecorationChanged(){const P=[],x=this._editor.getModel();if(x){for(const[T,A]of this._decorations){const N=x.getDecorationRange(T);if(!N)continue;let F=!1;if(!C.Range.equalsRange(N,A.range)){if(C.Range.spansMultipleLines(N))F=!0;else{const O=A.range.endColumn-A.range.startColumn,W=N.endColumn-N.startColumn;O!==W&&(F=!0)}F?(this._decorationIgnoreSet.add(A.id),P.push(T)):A.range=N}}for(let T=0,A=P.length;T<A;T++)this._decorations.delete(P[T]);this._editor.removeDecorations(P)}}removeDecorations(){this._editor.removeDecorations([...this._decorations.keys()]),this._decorations.clear()}}b.DecorationOptions=s.ModelDecorationOptions.register({description:"reference-decoration",stickiness:1,className:"reference-decoration"});class w{constructor(){this.ratio=.7,this.heightInLines=18}static fromJSON(P){let x,T;try{const A=JSON.parse(P);x=A.ratio,T=A.heightInLines}catch{}return{ratio:x||.7,heightInLines:T||18}}}e.LayoutData=w;class E extends l.WorkbenchAsyncDataTree{}let I=class extends h.PeekViewWidget{constructor(P,x,T,A,N,F,O,W,U,j,R,K){super(P,{showFrame:!1,showArrow:!0,isResizeable:!0,isAccessible:!0,supportOnTitleClick:!0},F),this._defaultTreeKeyboardSupport=x,this.layoutData=T,this._textModelResolverService=N,this._instantiationService=F,this._peekViewService=O,this._uriLabel=W,this._undoRedoService=U,this._keybindingService=j,this._languageService=R,this._languageConfigurationService=K,this._disposeOnNewModel=new S.DisposableStore,this._callOnDispose=new S.DisposableStore,this._onDidSelectReference=new D.Emitter,this.onDidSelectReference=this._onDidSelectReference.event,this._dim=new L.Dimension(0,0),this._applyTheme(A.getColorTheme()),this._callOnDispose.add(A.onDidColorThemeChange(this._applyTheme.bind(this))),this._peekViewService.addExclusiveWidget(P,this),this.create()}dispose(){this.setModel(void 0),this._callOnDispose.dispose(),this._disposeOnNewModel.dispose(),(0,S.dispose)(this._preview),(0,S.dispose)(this._previewNotAvailableMessage),(0,S.dispose)(this._tree),(0,S.dispose)(this._previewModelReference),this._splitView.dispose(),super.dispose()}_applyTheme(P){const x=P.getColor(h.peekViewBorder)||y.Color.transparent;this.style({arrowColor:x,frameColor:x,headerBackgroundColor:P.getColor(h.peekViewTitleBackground)||y.Color.transparent,primaryHeadingColor:P.getColor(h.peekViewTitleForeground),secondaryHeadingColor:P.getColor(h.peekViewTitleInfoForeground)})}show(P){super.show(P,this.layoutData.heightInLines||18)}focusOnReferenceTree(){this._tree.domFocus()}focusOnPreviewEditor(){this._preview.focus()}isPreviewEditorFocused(){return this._preview.hasTextFocus()}_onTitleClick(P){this._preview&&this._preview.getModel()&&this._onDidSelectReference.fire({element:this._getFocusedReference(),kind:P.ctrlKey||P.metaKey||P.altKey?"side":"open",source:"title"})}_fillBody(P){this.setCssClass("reference-zone-widget"),this._messageContainer=L.append(P,L.$("div.messages")),L.hide(this._messageContainer),this._splitView=new k.SplitView(P,{orientation:1}),this._previewContainer=L.append(P,L.$("div.preview.inline"));const x={scrollBeyondLastLine:!1,scrollbar:{verticalScrollbarSize:14,horizontal:"auto",useShadows:!0,verticalHasArrows:!1,horizontalHasArrows:!1,alwaysConsumeMouseWheel:!0},overviewRulerLanes:2,fixedOverflowWidgets:!0,minimap:{enabled:!1}};this._preview=this._instantiationService.createInstance(g.EmbeddedCodeEditorWidget,this._previewContainer,x,{},this.editor),L.hide(this._previewContainer),this._previewNotAvailableMessage=new s.TextModel(r.localize(0,null),n.PLAINTEXT_LANGUAGE_ID,s.TextModel.DEFAULT_CREATION_OPTIONS,null,this._undoRedoService,this._languageService,this._languageConfigurationService),this._treeContainer=L.append(P,L.$("div.ref-tree.inline"));const T={keyboardSupport:this._defaultTreeKeyboardSupport,accessibilityProvider:new u.AccessibilityProvider,keyboardNavigationLabelProvider:this._instantiationService.createInstance(u.StringRepresentationProvider),identityProvider:new u.IdentityProvider,openOnSingleClick:!0,selectionNavigation:!0,overrideStyles:{listBackground:h.peekViewResultsBackground}};this._defaultTreeKeyboardSupport&&this._callOnDispose.add(L.addStandardDisposableListener(this._treeContainer,"keydown",N=>{N.equals(9)&&(this._keybindingService.dispatchEvent(N,N.target),N.stopPropagation())},!0)),this._tree=this._instantiationService.createInstance(E,"ReferencesWidget",this._treeContainer,new u.Delegate,[this._instantiationService.createInstance(u.FileReferencesRenderer),this._instantiationService.createInstance(u.OneReferenceRenderer)],this._instantiationService.createInstance(u.DataSource),T),this._splitView.addView({onDidChange:D.Event.None,element:this._previewContainer,minimumSize:200,maximumSize:Number.MAX_VALUE,layout:N=>{this._preview.layout({height:this._dim.height,width:N})}},k.Sizing.Distribute),this._splitView.addView({onDidChange:D.Event.None,element:this._treeContainer,minimumSize:100,maximumSize:Number.MAX_VALUE,layout:N=>{this._treeContainer.style.height=`${this._dim.height}px`,this._treeContainer.style.width=`${N}px`,this._tree.layout(this._dim.height,N)}},k.Sizing.Distribute),this._disposables.add(this._splitView.onDidSashChange(()=>{this._dim.width&&(this.layoutData.ratio=this._splitView.getViewSize(0)/this._dim.width)},void 0));const A=(N,F)=>{N instanceof v.OneReference&&(F==="show"&&this._revealReference(N,!1),this._onDidSelectReference.fire({element:N,kind:F,source:"tree"}))};this._tree.onDidOpen(N=>{N.sideBySide?A(N.element,"side"):N.editorOptions.pinned?A(N.element,"goto"):A(N.element,"show")}),L.hide(this._treeContainer)}_onWidth(P){this._dim&&this._doLayoutBody(this._dim.height,P)}_doLayoutBody(P,x){super._doLayoutBody(P,x),this._dim=new L.Dimension(x,P),this.layoutData.heightInLines=this._viewZone?this._viewZone.heightInLines:this.layoutData.heightInLines,this._splitView.layout(x),this._splitView.resizeView(0,x*this.layoutData.ratio)}setSelection(P){return this._revealReference(P,!0).then(()=>{this._model&&(this._tree.setSelection([P]),this._tree.setFocus([P]))})}setModel(P){return this._disposeOnNewModel.clear(),this._model=P,this._model?this._onNewModel():Promise.resolve()}_onNewModel(){return this._model?this._model.isEmpty?(this.setTitle(""),this._messageContainer.innerText=r.localize(1,null),L.show(this._messageContainer),Promise.resolve(void 0)):(L.hide(this._messageContainer),this._decorationsManager=new b(this._preview,this._model),this._disposeOnNewModel.add(this._decorationsManager),this._disposeOnNewModel.add(this._model.onDidChangeReferenceRange(P=>this._tree.rerender(P))),this._disposeOnNewModel.add(this._preview.onMouseDown(P=>{const{event:x,target:T}=P;if(x.detail!==2)return;const A=this._getFocusedReference();A&&this._onDidSelectReference.fire({element:{uri:A.uri,range:T.range},kind:x.ctrlKey||x.metaKey||x.altKey?"side":"open",source:"editor"})})),this.container.classList.add("results-loaded"),L.show(this._treeContainer),L.show(this._previewContainer),this._splitView.layout(this._dim.width),this.focusOnReferenceTree(),this._tree.setInput(this._model.groups.length===1?this._model.groups[0]:this._model)):Promise.resolve(void 0)}_getFocusedReference(){const[P]=this._tree.getFocus();if(P instanceof v.OneReference)return P;if(P instanceof v.FileReferences&&P.children.length>0)return P.children[0]}revealReference(P){return we(this,void 0,void 0,function*(){yield this._revealReference(P,!1),this._onDidSelectReference.fire({element:P,kind:"goto",source:"tree"})})}_revealReference(P,x){return we(this,void 0,void 0,function*(){if(this._revealedReference===P)return;this._revealedReference=P,P.uri.scheme!==f.Schemas.inMemory?this.setTitle((0,_.basenameOrAuthority)(P.uri),this._uriLabel.getUriLabel((0,_.dirname)(P.uri))):this.setTitle(r.localize(2,null));const T=this._textModelResolverService.createModelReference(P.uri);this._tree.getInput()===P.parent?this._tree.reveal(P):(x&&this._tree.reveal(P.parent),yield this._tree.expand(P.parent),this._tree.reveal(P));const A=yield T;if(!this._model){A.dispose();return}(0,S.dispose)(this._previewModelReference);const N=A.object;if(N){const F=this._preview.getModel()===N.textEditorModel?0:1,O=C.Range.lift(P.range).collapseToStart();this._previewModelReference=A,this._preview.setModel(N.textEditorModel),this._preview.setSelection(O),this._preview.revealRangeInCenter(O,F)}else this._preview.setModel(this._previewNotAvailableMessage),A.dispose()})}};e.ReferenceWidget=I,e.ReferenceWidget=I=ke([fe(3,p.IThemeService),fe(4,a.ITextModelService),fe(5,c.IInstantiationService),fe(6,h.IPeekViewService),fe(7,d.ILabelService),fe(8,m.IUndoRedoService),fe(9,o.IKeybindingService),fe(10,t.ILanguageService),fe(11,i.ILanguageConfigurationService)],I)}),define(ne[370],se([1,0,13,9,63,2,33,12,5,138,666,27,28,15,8,118,191,43,87,155,900]),function(Q,e,L,k,y,D,S,f,_,g,C,s,i,n,t,a,u,h,r,c,o){"use strict";var d;Object.defineProperty(e,"__esModule",{value:!0}),e.ReferencesController=e.ctxReferenceSearchVisible=void 0,e.ctxReferenceSearchVisible=new n.RawContextKey("referenceSearchVisible",!1,C.localize(0,null));let l=d=class{static get(v){return v.getContribution(d.ID)}constructor(v,b,w,E,I,M,P,x){this._defaultTreeKeyboardSupport=v,this._editor=b,this._editorService=E,this._notificationService=I,this._instantiationService=M,this._storageService=P,this._configurationService=x,this._disposables=new D.DisposableStore,this._requestIdPool=0,this._ignoreModelChangeEvent=!1,this._referenceSearchVisible=e.ctxReferenceSearchVisible.bindTo(w)}dispose(){var v,b;this._referenceSearchVisible.reset(),this._disposables.dispose(),(v=this._widget)===null||v===void 0||v.dispose(),(b=this._model)===null||b===void 0||b.dispose(),this._widget=void 0,this._model=void 0}toggleWidget(v,b,w){let E;if(this._widget&&(E=this._widget.position),this.closeWidget(),E&&v.containsPosition(E))return;this._peekMode=w,this._referenceSearchVisible.set(!0),this._disposables.add(this._editor.onDidChangeModelLanguage(()=>{this.closeWidget()})),this._disposables.add(this._editor.onDidChangeModel(()=>{this._ignoreModelChangeEvent||this.closeWidget()}));const I="peekViewLayout",M=o.LayoutData.fromJSON(this._storageService.get(I,0,"{}"));this._widget=this._instantiationService.createInstance(o.ReferenceWidget,this._editor,this._defaultTreeKeyboardSupport,M),this._widget.setTitle(C.localize(1,null)),this._widget.show(v),this._disposables.add(this._widget.onDidClose(()=>{b.cancel(),this._widget&&(this._storageService.store(I,JSON.stringify(this._widget.layoutData),0,1),this._widget=void 0),this.closeWidget()})),this._disposables.add(this._widget.onDidSelectReference(x=>{const{element:T,kind:A}=x;if(T)switch(A){case"open":(x.source!=="editor"||!this._configurationService.getValue("editor.stablePeek"))&&this.openReference(T,!1,!1);break;case"side":this.openReference(T,!0,!1);break;case"goto":w?this._gotoReference(T,!0):this.openReference(T,!1,!0);break}}));const P=++this._requestIdPool;b.then(x=>{var T;if(P!==this._requestIdPool||!this._widget){x.dispose();return}return(T=this._model)===null||T===void 0||T.dispose(),this._model=x,this._widget.setModel(this._model).then(()=>{if(this._widget&&this._model&&this._editor.hasModel()){this._model.isEmpty?this._widget.setMetaTitle(""):this._widget.setMetaTitle(C.localize(2,null,this._model.title,this._model.references.length));const A=this._editor.getModel().uri,N=new f.Position(v.startLineNumber,v.startColumn),F=this._model.nearestReference(A,N);if(F)return this._widget.setSelection(F).then(()=>{this._widget&&this._editor.getOption(85)==="editor"&&this._widget.focusOnPreviewEditor()})}})},x=>{this._notificationService.error(x)})}changeFocusBetweenPreviewAndReferences(){this._widget&&(this._widget.isPreviewEditorFocused()?this._widget.focusOnReferenceTree():this._widget.focusOnPreviewEditor())}goToNextOrPreviousReference(v){return we(this,void 0,void 0,function*(){if(!this._editor.hasModel()||!this._model||!this._widget)return;const b=this._widget.position;if(!b)return;const w=this._model.nearestReference(this._editor.getModel().uri,b);if(!w)return;const E=this._model.nextOrPreviousReference(w,v),I=this._editor.hasTextFocus(),M=this._widget.isPreviewEditorFocused();yield this._widget.setSelection(E),yield this._gotoReference(E,!1),I?this._editor.focus():this._widget&&M&&this._widget.focusOnPreviewEditor()})}revealReference(v){return we(this,void 0,void 0,function*(){!this._editor.hasModel()||!this._model||!this._widget||(yield this._widget.revealReference(v))})}closeWidget(v=!0){var b,w;(b=this._widget)===null||b===void 0||b.dispose(),(w=this._model)===null||w===void 0||w.dispose(),this._referenceSearchVisible.reset(),this._disposables.clear(),this._widget=void 0,this._model=void 0,v&&this._editor.focus(),this._requestIdPool+=1}_gotoReference(v,b){var w;(w=this._widget)===null||w===void 0||w.hide(),this._ignoreModelChangeEvent=!0;const E=_.Range.lift(v.range).collapseToStart();return this._editorService.openCodeEditor({resource:v.uri,options:{selection:E,selectionSource:"code.jump",pinned:b}},this._editor).then(I=>{var M;if(this._ignoreModelChangeEvent=!1,!I||!this._widget){this.closeWidget();return}if(this._editor===I)this._widget.show(E),this._widget.focusOnReferenceTree();else{const P=d.get(I),x=this._model.clone();this.closeWidget(),I.focus(),P?.toggleWidget(E,(0,L.createCancelablePromise)(T=>Promise.resolve(x)),(M=this._peekMode)!==null&&M!==void 0?M:!1)}},I=>{this._ignoreModelChangeEvent=!1,(0,k.onUnexpectedError)(I)})}openReference(v,b,w){b||this.closeWidget();const{uri:E,range:I}=v;this._editorService.openCodeEditor({resource:E,options:{selection:I,selectionSource:"code.jump",pinned:w}},this._editor,b)}};e.ReferencesController=l,l.ID="editor.contrib.referencesController",e.ReferencesController=l=d=ke([fe(2,n.IContextKeyService),fe(3,S.ICodeEditorService),fe(4,h.INotificationService),fe(5,t.IInstantiationService),fe(6,r.IStorageService),fe(7,i.IConfigurationService)],l);function p(m,v){const b=(0,g.getOuterEditor)(m);if(!b)return;const w=l.get(b);w&&v(w)}a.KeybindingsRegistry.registerCommandAndKeybindingRule({id:"togglePeekWidgetFocus",weight:100,primary:(0,y.KeyChord)(2089,60),when:n.ContextKeyExpr.or(e.ctxReferenceSearchVisible,g.PeekContext.inPeekEditor),handler(m){p(m,v=>{v.changeFocusBetweenPreviewAndReferences()})}}),a.KeybindingsRegistry.registerCommandAndKeybindingRule({id:"goToNextReference",weight:100-10,primary:62,secondary:[70],when:n.ContextKeyExpr.or(e.ctxReferenceSearchVisible,g.PeekContext.inPeekEditor),handler(m){p(m,v=>{v.goToNextOrPreviousReference(!0)})}}),a.KeybindingsRegistry.registerCommandAndKeybindingRule({id:"goToPreviousReference",weight:100-10,primary:1086,secondary:[1094],when:n.ContextKeyExpr.or(e.ctxReferenceSearchVisible,g.PeekContext.inPeekEditor),handler(m){p(m,v=>{v.goToNextOrPreviousReference(!1)})}}),s.CommandsRegistry.registerCommandAlias("goToNextReferenceFromEmbeddedEditor","goToNextReference"),s.CommandsRegistry.registerCommandAlias("goToPreviousReferenceFromEmbeddedEditor","goToPreviousReference"),s.CommandsRegistry.registerCommandAlias("closeReferenceSearchEditor","closeReferenceSearch"),s.CommandsRegistry.registerCommand("closeReferenceSearch",m=>p(m,v=>v.closeWidget())),a.KeybindingsRegistry.registerKeybindingRule({id:"closeReferenceSearch",weight:100-101,primary:9,secondary:[1033],when:n.ContextKeyExpr.and(g.PeekContext.inPeekEditor,n.ContextKeyExpr.not("config.editor.stablePeek"))}),a.KeybindingsRegistry.registerKeybindingRule({id:"closeReferenceSearch",weight:200+50,primary:9,secondary:[1033],when:n.ContextKeyExpr.and(e.ctxReferenceSearchVisible,n.ContextKeyExpr.not("config.editor.stablePeek"))}),a.KeybindingsRegistry.registerCommandAndKeybindingRule({id:"revealReference",weight:200,primary:3,mac:{primary:3,secondary:[2066]},when:n.ContextKeyExpr.and(e.ctxReferenceSearchVisible,u.WorkbenchListFocusContextKey,u.WorkbenchTreeElementCanCollapse.negate(),u.WorkbenchTreeElementCanExpand.negate()),handler(m){var v;const w=(v=m.get(u.IListService).lastFocusedList)===null||v===void 0?void 0:v.getFocus();Array.isArray(w)&&w[0]instanceof c.OneReference&&p(m,E=>E.revealReference(w[0]))}}),a.KeybindingsRegistry.registerCommandAndKeybindingRule({id:"openReferenceToSide",weight:100,primary:2051,mac:{primary:259},when:n.ContextKeyExpr.and(e.ctxReferenceSearchVisible,u.WorkbenchListFocusContextKey,u.WorkbenchTreeElementCanCollapse.negate(),u.WorkbenchTreeElementCanExpand.negate()),handler(m){var v;const w=(v=m.get(u.IListService).lastFocusedList)===null||v===void 0?void 0:v.getFocus();Array.isArray(w)&&w[0]instanceof c.OneReference&&p(m,E=>E.openReference(w[0],!0,!0))}}),s.CommandsRegistry.registerCommand("openReference",m=>{var v;const w=(v=m.get(u.IListService).lastFocusedList)===null||v===void 0?void 0:v.getFocus();Array.isArray(w)&&w[0]instanceof c.OneReference&&p(m,E=>E.openReference(w[0],!1,!0))})}),define(ne[257],se([1,0,49,13,63,20,22,104,177,16,33,162,12,5,21,29,370,155,804,190,138,664,30,27,15,8,43,77,247,18,46,238]),function(Q,e,L,k,y,D,S,f,_,g,C,s,i,n,t,a,u,h,r,c,o,d,l,p,m,v,b,w,E,I,M,P){"use strict";var x,T,A,N,F,O,W,U;Object.defineProperty(e,"__esModule",{value:!0}),e.DefinitionAction=e.SymbolNavigationAction=e.SymbolNavigationAnchor=void 0,l.MenuRegistry.appendMenuItem(l.MenuId.EditorContext,{submenu:l.MenuId.EditorContextPeek,title:d.localize(0,null),group:"navigation",order:100});class j{static is(V){return!V||typeof V!="object"?!1:!!(V instanceof j||i.Position.isIPosition(V.position)&&V.model)}constructor(V,Y){this.model=V,this.position=Y}}e.SymbolNavigationAnchor=j;class R extends g.EditorAction2{static all(){return R._allSymbolNavigationCommands.values()}static _patchConfig(V){const Y=Object.assign(Object.assign({},V),{f1:!0});if(Y.menu)for(const ie of M.Iterable.wrap(Y.menu))(ie.id===l.MenuId.EditorContext||ie.id===l.MenuId.EditorContextPeek)&&(ie.when=m.ContextKeyExpr.and(V.precondition,ie.when));return Y}constructor(V,Y){super(R._patchConfig(Y)),this.configuration=V,R._allSymbolNavigationCommands.set(Y.id,this)}runEditorCommand(V,Y,ie,ae){if(!Y.hasModel())return Promise.resolve(void 0);const ce=V.get(b.INotificationService),de=V.get(C.ICodeEditorService),he=V.get(w.IEditorProgressService),ue=V.get(r.ISymbolNavigationService),te=V.get(I.ILanguageFeaturesService),q=V.get(v.IInstantiationService),z=Y.getModel(),ee=Y.getPosition(),$=j.is(ie)?ie:new j(z,ee),re=new f.EditorStateCancellationTokenSource(Y,5),oe=(0,k.raceCancellation)(this._getLocationModel(te,$.model,$.position,re.token),re.token).then(ge=>we(this,void 0,void 0,function*(){var ve;if(!ge||re.token.isCancellationRequested)return;(0,L.alert)(ge.ariaMessage);let Se;if(ge.referenceAt(z.uri,ee)){const De=this._getAlternativeCommand(Y);!R._activeAlternativeCommands.has(De)&&R._allSymbolNavigationCommands.has(De)&&(Se=R._allSymbolNavigationCommands.get(De))}const Le=ge.references.length;if(Le===0){if(!this.configuration.muteMessage){const De=z.getWordAtPosition(ee);(ve=c.MessageController.get(Y))===null||ve===void 0||ve.showMessage(this._getNoResultFoundMessage(De),ee)}}else if(Le===1&&Se)R._activeAlternativeCommands.add(this.desc.id),q.invokeFunction(De=>Se.runEditorCommand(De,Y,ie,ae).finally(()=>{R._activeAlternativeCommands.delete(this.desc.id)}));else return this._onResult(de,ue,Y,ge,ae)}),ge=>{ce.error(ge)}).finally(()=>{re.dispose()});return he.showWhile(oe,250),oe}_onResult(V,Y,ie,ae,ce){return we(this,void 0,void 0,function*(){const de=this._getGoToPreference(ie);if(!(ie instanceof s.EmbeddedCodeEditorWidget)&&(this.configuration.openInPeek||de==="peek"&&ae.references.length>1))this._openInPeek(ie,ae,ce);else{const he=ae.firstReference(),ue=ae.references.length>1&&de==="gotoAndPeek",te=yield this._openReference(ie,V,he,this.configuration.openToSide,!ue);ue&&te?this._openInPeek(te,ae,ce):ae.dispose(),de==="goto"&&Y.put(he)}})}_openReference(V,Y,ie,ae,ce){return we(this,void 0,void 0,function*(){let de;if((0,a.isLocationLink)(ie)&&(de=ie.targetSelectionRange),de||(de=ie.range),!de)return;const he=yield Y.openCodeEditor({resource:ie.uri,options:{selection:n.Range.collapseToStart(de),selectionRevealType:3,selectionSource:"code.jump"}},V,ae);if(he){if(ce){const ue=he.getModel(),te=he.createDecorationsCollection([{range:de,options:{description:"symbol-navigate-action-highlight",className:"symbolHighlight"}}]);setTimeout(()=>{he.getModel()===ue&&te.clear()},350)}return he}})}_openInPeek(V,Y,ie){const ae=u.ReferencesController.get(V);ae&&V.hasModel()?ae.toggleWidget(ie??V.getSelection(),(0,k.createCancelablePromise)(ce=>Promise.resolve(Y)),this.configuration.openInPeek):Y.dispose()}}e.SymbolNavigationAction=R,R._allSymbolNavigationCommands=new Map,R._activeAlternativeCommands=new Set;class K extends R{_getLocationModel(V,Y,ie,ae){return we(this,void 0,void 0,function*(){return new h.ReferencesModel(yield(0,E.getDefinitionsAtPosition)(V.definitionProvider,Y,ie,ae),d.localize(1,null))})}_getNoResultFoundMessage(V){return V&&V.word?d.localize(2,null,V.word):d.localize(3,null)}_getAlternativeCommand(V){return V.getOption(57).alternativeDefinitionCommand}_getGoToPreference(V){return V.getOption(57).multipleDefinitions}}e.DefinitionAction=K,(0,l.registerAction2)((x=class extends K{constructor(){super({openToSide:!1,openInPeek:!1,muteMessage:!1},{id:x.id,title:{value:d.localize(4,null),original:"Go to Definition",mnemonicTitle:d.localize(5,null)},precondition:m.ContextKeyExpr.and(t.EditorContextKeys.hasDefinitionProvider,t.EditorContextKeys.isInWalkThroughSnippet.toNegated()),keybinding:[{when:t.EditorContextKeys.editorTextFocus,primary:70,weight:100},{when:m.ContextKeyExpr.and(t.EditorContextKeys.editorTextFocus,P.IsWebContext),primary:2118,weight:100}],menu:[{id:l.MenuId.EditorContext,group:"navigation",order:1.1},{id:l.MenuId.MenubarGoMenu,precondition:null,group:"4_symbol_nav",order:2}]}),p.CommandsRegistry.registerCommandAlias("editor.action.goToDeclaration",x.id)}},x.id="editor.action.revealDefinition",x)),(0,l.registerAction2)((T=class extends K{constructor(){super({openToSide:!0,openInPeek:!1,muteMessage:!1},{id:T.id,title:{value:d.localize(6,null),original:"Open Definition to the Side"},precondition:m.ContextKeyExpr.and(t.EditorContextKeys.hasDefinitionProvider,t.EditorContextKeys.isInWalkThroughSnippet.toNegated()),keybinding:[{when:t.EditorContextKeys.editorTextFocus,primary:(0,y.KeyChord)(2089,70),weight:100},{when:m.ContextKeyExpr.and(t.EditorContextKeys.editorTextFocus,P.IsWebContext),primary:(0,y.KeyChord)(2089,2118),weight:100}]}),p.CommandsRegistry.registerCommandAlias("editor.action.openDeclarationToTheSide",T.id)}},T.id="editor.action.revealDefinitionAside",T)),(0,l.registerAction2)((A=class extends K{constructor(){super({openToSide:!1,openInPeek:!0,muteMessage:!1},{id:A.id,title:{value:d.localize(7,null),original:"Peek Definition"},precondition:m.ContextKeyExpr.and(t.EditorContextKeys.hasDefinitionProvider,o.PeekContext.notInPeekEditor,t.EditorContextKeys.isInWalkThroughSnippet.toNegated()),keybinding:{when:t.EditorContextKeys.editorTextFocus,primary:582,linux:{primary:3140},weight:100},menu:{id:l.MenuId.EditorContextPeek,group:"peek",order:2}}),p.CommandsRegistry.registerCommandAlias("editor.action.previewDeclaration",A.id)}},A.id="editor.action.peekDefinition",A));class G extends R{_getLocationModel(V,Y,ie,ae){return we(this,void 0,void 0,function*(){return new h.ReferencesModel(yield(0,E.getDeclarationsAtPosition)(V.declarationProvider,Y,ie,ae),d.localize(8,null))})}_getNoResultFoundMessage(V){return V&&V.word?d.localize(9,null,V.word):d.localize(10,null)}_getAlternativeCommand(V){return V.getOption(57).alternativeDeclarationCommand}_getGoToPreference(V){return V.getOption(57).multipleDeclarations}}(0,l.registerAction2)((N=class extends G{constructor(){super({openToSide:!1,openInPeek:!1,muteMessage:!1},{id:N.id,title:{value:d.localize(11,null),original:"Go to Declaration",mnemonicTitle:d.localize(12,null)},precondition:m.ContextKeyExpr.and(t.EditorContextKeys.hasDeclarationProvider,t.EditorContextKeys.isInWalkThroughSnippet.toNegated()),menu:[{id:l.MenuId.EditorContext,group:"navigation",order:1.3},{id:l.MenuId.MenubarGoMenu,precondition:null,group:"4_symbol_nav",order:3}]})}_getNoResultFoundMessage(V){return V&&V.word?d.localize(13,null,V.word):d.localize(14,null)}},N.id="editor.action.revealDeclaration",N)),(0,l.registerAction2)(class extends G{constructor(){super({openToSide:!1,openInPeek:!0,muteMessage:!1},{id:"editor.action.peekDeclaration",title:{value:d.localize(15,null),original:"Peek Declaration"},precondition:m.ContextKeyExpr.and(t.EditorContextKeys.hasDeclarationProvider,o.PeekContext.notInPeekEditor,t.EditorContextKeys.isInWalkThroughSnippet.toNegated()),menu:{id:l.MenuId.EditorContextPeek,group:"peek",order:3}})}});class Z extends R{_getLocationModel(V,Y,ie,ae){return we(this,void 0,void 0,function*(){return new h.ReferencesModel(yield(0,E.getTypeDefinitionsAtPosition)(V.typeDefinitionProvider,Y,ie,ae),d.localize(16,null))})}_getNoResultFoundMessage(V){return V&&V.word?d.localize(17,null,V.word):d.localize(18,null)}_getAlternativeCommand(V){return V.getOption(57).alternativeTypeDefinitionCommand}_getGoToPreference(V){return V.getOption(57).multipleTypeDefinitions}}(0,l.registerAction2)((F=class extends Z{constructor(){super({openToSide:!1,openInPeek:!1,muteMessage:!1},{id:F.ID,title:{value:d.localize(19,null),original:"Go to Type Definition",mnemonicTitle:d.localize(20,null)},precondition:m.ContextKeyExpr.and(t.EditorContextKeys.hasTypeDefinitionProvider,t.EditorContextKeys.isInWalkThroughSnippet.toNegated()),keybinding:{when:t.EditorContextKeys.editorTextFocus,primary:0,weight:100},menu:[{id:l.MenuId.EditorContext,group:"navigation",order:1.4},{id:l.MenuId.MenubarGoMenu,precondition:null,group:"4_symbol_nav",order:3}]})}},F.ID="editor.action.goToTypeDefinition",F)),(0,l.registerAction2)((O=class extends Z{constructor(){super({openToSide:!1,openInPeek:!0,muteMessage:!1},{id:O.ID,title:{value:d.localize(21,null),original:"Peek Type Definition"},precondition:m.ContextKeyExpr.and(t.EditorContextKeys.hasTypeDefinitionProvider,o.PeekContext.notInPeekEditor,t.EditorContextKeys.isInWalkThroughSnippet.toNegated()),menu:{id:l.MenuId.EditorContextPeek,group:"peek",order:4}})}},O.ID="editor.action.peekTypeDefinition",O));class J extends R{_getLocationModel(V,Y,ie,ae){return we(this,void 0,void 0,function*(){return new h.ReferencesModel(yield(0,E.getImplementationsAtPosition)(V.implementationProvider,Y,ie,ae),d.localize(22,null))})}_getNoResultFoundMessage(V){return V&&V.word?d.localize(23,null,V.word):d.localize(24,null)}_getAlternativeCommand(V){return V.getOption(57).alternativeImplementationCommand}_getGoToPreference(V){return V.getOption(57).multipleImplementations}}(0,l.registerAction2)((W=class extends J{constructor(){super({openToSide:!1,openInPeek:!1,muteMessage:!1},{id:W.ID,title:{value:d.localize(25,null),original:"Go to Implementations",mnemonicTitle:d.localize(26,null)},precondition:m.ContextKeyExpr.and(t.EditorContextKeys.hasImplementationProvider,t.EditorContextKeys.isInWalkThroughSnippet.toNegated()),keybinding:{when:t.EditorContextKeys.editorTextFocus,primary:2118,weight:100},menu:[{id:l.MenuId.EditorContext,group:"navigation",order:1.45},{id:l.MenuId.MenubarGoMenu,precondition:null,group:"4_symbol_nav",order:4}]})}},W.ID="editor.action.goToImplementation",W)),(0,l.registerAction2)((U=class extends J{constructor(){super({openToSide:!1,openInPeek:!0,muteMessage:!1},{id:U.ID,title:{value:d.localize(27,null),original:"Peek Implementations"},precondition:m.ContextKeyExpr.and(t.EditorContextKeys.hasImplementationProvider,o.PeekContext.notInPeekEditor,t.EditorContextKeys.isInWalkThroughSnippet.toNegated()),keybinding:{when:t.EditorContextKeys.editorTextFocus,primary:3142,weight:100},menu:{id:l.MenuId.EditorContextPeek,group:"peek",order:5}})}},U.ID="editor.action.peekImplementation",U));class X extends R{_getNoResultFoundMessage(V){return V?d.localize(28,null,V.word):d.localize(29,null)}_getAlternativeCommand(V){return V.getOption(57).alternativeReferenceCommand}_getGoToPreference(V){return V.getOption(57).multipleReferences}}(0,l.registerAction2)(class extends X{constructor(){super({openToSide:!1,openInPeek:!1,muteMessage:!1},{id:"editor.action.goToReferences",title:{value:d.localize(30,null),original:"Go to References",mnemonicTitle:d.localize(31,null)},precondition:m.ContextKeyExpr.and(t.EditorContextKeys.hasReferenceProvider,o.PeekContext.notInPeekEditor,t.EditorContextKeys.isInWalkThroughSnippet.toNegated()),keybinding:{when:t.EditorContextKeys.editorTextFocus,primary:1094,weight:100},menu:[{id:l.MenuId.EditorContext,group:"navigation",order:1.45},{id:l.MenuId.MenubarGoMenu,precondition:null,group:"4_symbol_nav",order:5}]})}_getLocationModel(V,Y,ie,ae){return we(this,void 0,void 0,function*(){return new h.ReferencesModel(yield(0,E.getReferencesAtPosition)(V.referenceProvider,Y,ie,!0,ae),d.localize(32,null))})}}),(0,l.registerAction2)(class extends X{constructor(){super({openToSide:!1,openInPeek:!0,muteMessage:!1},{id:"editor.action.referenceSearch.trigger",title:{value:d.localize(33,null),original:"Peek References"},precondition:m.ContextKeyExpr.and(t.EditorContextKeys.hasReferenceProvider,o.PeekContext.notInPeekEditor,t.EditorContextKeys.isInWalkThroughSnippet.toNegated()),menu:{id:l.MenuId.EditorContextPeek,group:"peek",order:6}})}_getLocationModel(V,Y,ie,ae){return we(this,void 0,void 0,function*(){return new h.ReferencesModel(yield(0,E.getReferencesAtPosition)(V.referenceProvider,Y,ie,!1,ae),d.localize(34,null))})}});class H extends R{constructor(V,Y,ie){super(V,{id:"editor.action.goToLocation",title:{value:d.localize(35,null),original:"Go to Any Symbol"},precondition:m.ContextKeyExpr.and(o.PeekContext.notInPeekEditor,t.EditorContextKeys.isInWalkThroughSnippet.toNegated())}),this._references=Y,this._gotoMultipleBehaviour=ie}_getLocationModel(V,Y,ie,ae){return we(this,void 0,void 0,function*(){return new h.ReferencesModel(this._references,d.localize(36,null))})}_getNoResultFoundMessage(V){return V&&d.localize(37,null,V.word)||""}_getGoToPreference(V){var Y;return(Y=this._gotoMultipleBehaviour)!==null&&Y!==void 0?Y:V.getOption(57).multipleReferences}_getAlternativeCommand(){return""}}p.CommandsRegistry.registerCommand({id:"editor.action.goToLocations",description:{description:"Go to locations from a position in a file",args:[{name:"uri",description:"The text document in which to start",constraint:S.URI},{name:"position",description:"The position at which to start",constraint:i.Position.isIPosition},{name:"locations",description:"An array of locations.",constraint:Array},{name:"multiple",description:"Define what to do when having multiple results, either `peek`, `gotoAndPeek`, or `goto"},{name:"noResultsMessage",description:"Human readable message that shows when locations is empty."}]},handler:(B,V,Y,ie,ae,ce,de)=>we(void 0,void 0,void 0,function*(){(0,D.assertType)(S.URI.isUri(V)),(0,D.assertType)(i.Position.isIPosition(Y)),(0,D.assertType)(Array.isArray(ie)),(0,D.assertType)(typeof ae>"u"||typeof ae=="string"),(0,D.assertType)(typeof de>"u"||typeof de=="boolean");const he=B.get(C.ICodeEditorService),ue=yield he.openCodeEditor({resource:V},he.getFocusedCodeEditor());if((0,_.isCodeEditor)(ue))return ue.setPosition(Y),ue.revealPositionInCenterIfOutsideViewport(Y,0),ue.invokeWithinContext(te=>{const q=new class extends H{_getNoResultFoundMessage(z){return ce||super._getNoResultFoundMessage(z)}}({muteMessage:!ce,openInPeek:!!de,openToSide:!1},ie,ae);te.get(v.IInstantiationService).invokeFunction(q.run.bind(q),ue)})})}),p.CommandsRegistry.registerCommand({id:"editor.action.peekLocations",description:{description:"Peek locations from a position in a file",args:[{name:"uri",description:"The text document in which to start",constraint:S.URI},{name:"position",description:"The position at which to start",constraint:i.Position.isIPosition},{name:"locations",description:"An array of locations.",constraint:Array},{name:"multiple",description:"Define what to do when having multiple results, either `peek`, `gotoAndPeek`, or `goto"}]},handler:(B,V,Y,ie,ae)=>we(void 0,void 0,void 0,function*(){B.get(p.ICommandService).executeCommand("editor.action.goToLocations",V,Y,ie,ae,void 0,!0)})}),p.CommandsRegistry.registerCommand({id:"editor.action.findReferences",handler:(B,V,Y)=>{(0,D.assertType)(S.URI.isUri(V)),(0,D.assertType)(i.Position.isIPosition(Y));const ie=B.get(I.ILanguageFeaturesService),ae=B.get(C.ICodeEditorService);return ae.openCodeEditor({resource:V},ae.getFocusedCodeEditor()).then(ce=>{if(!(0,_.isCodeEditor)(ce)||!ce.hasModel())return;const de=u.ReferencesController.get(ce);if(!de)return;const he=(0,k.createCancelablePromise)(te=>(0,E.getReferencesAtPosition)(ie.referenceProvider,ce.getModel(),i.Position.lift(Y),!1,te).then(q=>new h.ReferencesModel(q,d.localize(38,null)))),ue=new n.Range(Y.lineNumber,Y.column,Y.lineNumber,Y.column);return Promise.resolve(de.toggleWidget(ue,he,!1))})}}),p.CommandsRegistry.registerCommandAlias("editor.action.showReferences","editor.action.peekLocations")}),define(ne[371],se([1,0,13,9,55,2,104,16,5,41,69,186,138,665,15,257,247,18,40,446]),function(Q,e,L,k,y,D,S,f,_,g,C,s,i,n,t,a,u,h,r){"use strict";var c;Object.defineProperty(e,"__esModule",{value:!0}),e.GotoDefinitionAtPositionEditorContribution=void 0;let o=c=class{constructor(l,p,m,v){this.textModelResolverService=p,this.languageService=m,this.languageFeaturesService=v,this.toUnhook=new D.DisposableStore,this.toUnhookForKeyboard=new D.DisposableStore,this.currentWordAtPosition=null,this.previousPromise=null,this.editor=l,this.linkDecorations=this.editor.createDecorationsCollection();const b=new s.ClickLinkGesture(l);this.toUnhook.add(b),this.toUnhook.add(b.onMouseMoveOrRelevantKeyDown(([w,E])=>{this.startFindDefinitionFromMouse(w,E??void 0)})),this.toUnhook.add(b.onExecute(w=>{this.isEnabled(w)&&this.gotoDefinition(w.target.position,w.hasSideBySideModifier).catch(E=>{(0,k.onUnexpectedError)(E)}).finally(()=>{this.removeLinkDecorations()})})),this.toUnhook.add(b.onCancel(()=>{this.removeLinkDecorations(),this.currentWordAtPosition=null}))}static get(l){return l.getContribution(c.ID)}startFindDefinitionFromCursor(l){return we(this,void 0,void 0,function*(){yield this.startFindDefinition(l),this.toUnhookForKeyboard.add(this.editor.onDidChangeCursorPosition(()=>{this.currentWordAtPosition=null,this.removeLinkDecorations(),this.toUnhookForKeyboard.clear()})),this.toUnhookForKeyboard.add(this.editor.onKeyDown(p=>{p&&(this.currentWordAtPosition=null,this.removeLinkDecorations(),this.toUnhookForKeyboard.clear())}))})}startFindDefinitionFromMouse(l,p){if(l.target.type===9&&this.linkDecorations.length>0)return;if(!this.editor.hasModel()||!this.isEnabled(l,p)){this.currentWordAtPosition=null,this.removeLinkDecorations();return}const m=l.target.position;this.startFindDefinition(m)}startFindDefinition(l){var p;return we(this,void 0,void 0,function*(){this.toUnhookForKeyboard.clear();const m=l?(p=this.editor.getModel())===null||p===void 0?void 0:p.getWordAtPosition(l):null;if(!m){this.currentWordAtPosition=null,this.removeLinkDecorations();return}if(this.currentWordAtPosition&&this.currentWordAtPosition.startColumn===m.startColumn&&this.currentWordAtPosition.endColumn===m.endColumn&&this.currentWordAtPosition.word===m.word)return;this.currentWordAtPosition=m;const v=new S.EditorState(this.editor,15);this.previousPromise&&(this.previousPromise.cancel(),this.previousPromise=null),this.previousPromise=(0,L.createCancelablePromise)(E=>this.findDefinition(l,E));let b;try{b=yield this.previousPromise}catch(E){(0,k.onUnexpectedError)(E);return}if(!b||!b.length||!v.validate(this.editor)){this.removeLinkDecorations();return}const w=b[0].originSelectionRange?_.Range.lift(b[0].originSelectionRange):new _.Range(l.lineNumber,m.startColumn,l.lineNumber,m.endColumn);if(b.length>1){let E=w;for(const{originSelectionRange:I}of b)I&&(E=_.Range.plusRange(E,I));this.addDecoration(E,new y.MarkdownString().appendText(n.localize(0,null,b.length)))}else{const E=b[0];if(!E.uri)return;this.textModelResolverService.createModelReference(E.uri).then(I=>{if(!I.object||!I.object.textEditorModel){I.dispose();return}const{object:{textEditorModel:M}}=I,{startLineNumber:P}=E.range;if(P<1||P>M.getLineCount()){I.dispose();return}const x=this.getPreviewValue(M,P,E),T=this.languageService.guessLanguageIdByFilepathOrFirstLine(M.uri);this.addDecoration(w,x?new y.MarkdownString().appendCodeblock(T||"",x):void 0),I.dispose()})}})}getPreviewValue(l,p,m){let v=m.range;return v.endLineNumber-v.startLineNumber>=c.MAX_SOURCE_PREVIEW_LINES&&(v=this.getPreviewRangeBasedOnIndentation(l,p)),this.stripIndentationFromPreviewRange(l,p,v)}stripIndentationFromPreviewRange(l,p,m){let b=l.getLineFirstNonWhitespaceColumn(p);for(let E=p+1;E<m.endLineNumber;E++){const I=l.getLineFirstNonWhitespaceColumn(E);b=Math.min(b,I)}return l.getValueInRange(m).replace(new RegExp(`^\\s{${b-1}}`,"gm"),"").trim()}getPreviewRangeBasedOnIndentation(l,p){const m=l.getLineFirstNonWhitespaceColumn(p),v=Math.min(l.getLineCount(),p+c.MAX_SOURCE_PREVIEW_LINES);let b=p+1;for(;b<v;b++){const w=l.getLineFirstNonWhitespaceColumn(b);if(m===w)break}return new _.Range(p,1,b+1,1)}addDecoration(l,p){const m={range:l,options:{description:"goto-definition-link",inlineClassName:"goto-definition-link",hoverMessage:p}};this.linkDecorations.set([m])}removeLinkDecorations(){this.linkDecorations.clear()}isEnabled(l,p){var m;return this.editor.hasModel()&&l.isLeftClick&&l.isNoneOrSingleMouseDown&&l.target.type===6&&!(((m=l.target.detail.injectedText)===null||m===void 0?void 0:m.options)instanceof r.ModelDecorationInjectedTextOptions)&&(l.hasTriggerModifier||(p?p.keyCodeIsTriggerKey:!1))&&this.languageFeaturesService.definitionProvider.has(this.editor.getModel())}findDefinition(l,p){const m=this.editor.getModel();return m?(0,u.getDefinitionsAtPosition)(this.languageFeaturesService.definitionProvider,m,l,p):Promise.resolve(null)}gotoDefinition(l,p){return this.editor.setPosition(l),this.editor.invokeWithinContext(m=>{const v=!p&&this.editor.getOption(86)&&!this.isInPeekEditor(m);return new a.DefinitionAction({openToSide:p,openInPeek:v,muteMessage:!0},{title:{value:"",original:""},id:"",precondition:void 0}).run(m)})}isInPeekEditor(l){const p=l.get(t.IContextKeyService);return i.PeekContext.inPeekEditor.getValue(p)}dispose(){this.toUnhook.dispose(),this.toUnhookForKeyboard.dispose()}};e.GotoDefinitionAtPositionEditorContribution=o,o.ID="editor.contrib.gotodefinitionatposition",o.MAX_SOURCE_PREVIEW_LINES=8,e.GotoDefinitionAtPositionEditorContribution=o=c=ke([fe(1,C.ITextModelService),fe(2,g.ILanguageService),fe(3,h.ILanguageFeaturesService)],o),(0,f.registerEditorContribution)(o.ID,o,2)}),define(ne[901],se([1,0,7,14,13,9,2,45,5,18,233,137,250,113,369,673,97,56,77]),function(Q,e,L,k,y,D,S,f,_,g,C,s,i,n,t,a,u,h,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.MarkerHoverParticipant=e.MarkerHover=void 0;const c=L.$;class o{constructor(m,v,b){this.owner=m,this.range=v,this.marker=b}isValidForHoverAnchor(m){return m.type===1&&this.range.startColumn<=m.range.startColumn&&this.range.endColumn>=m.range.endColumn}}e.MarkerHover=o;const d={type:1,filter:{include:n.CodeActionKind.QuickFix},triggerAction:n.CodeActionTriggerSource.QuickFixHover};let l=class{constructor(m,v,b,w){this._editor=m,this._markerDecorationsService=v,this._openerService=b,this._languageFeaturesService=w,this.hoverOrdinal=1,this.recentMarkerCodeActionsInfo=void 0}computeSync(m,v){if(!this._editor.hasModel()||m.type!==1&&!m.supportsMarkerHover)return[];const b=this._editor.getModel(),w=m.range.startLineNumber,E=b.getLineMaxColumn(w),I=[];for(const M of v){const P=M.range.startLineNumber===w?M.range.startColumn:1,x=M.range.endLineNumber===w?M.range.endColumn:E,T=this._markerDecorationsService.getMarker(b.uri,M);if(!T)continue;const A=new _.Range(m.range.startLineNumber,P,m.range.startLineNumber,x);I.push(new o(this,A,T))}return I}renderHoverParts(m,v){if(!v.length)return S.Disposable.None;const b=new S.DisposableStore;v.forEach(E=>m.fragment.appendChild(this.renderMarkerHover(E,b)));const w=v.length===1?v[0]:v.sort((E,I)=>u.MarkerSeverity.compare(E.marker.severity,I.marker.severity))[0];return this.renderMarkerStatusbar(m,w,b),b}renderMarkerHover(m,v){const b=c("div.hover-row"),w=L.append(b,c("div.marker.hover-contents")),{source:E,message:I,code:M,relatedInformation:P}=m.marker;this._editor.applyFontInfo(w);const x=L.append(w,c("span"));if(x.style.whiteSpace="pre-wrap",x.innerText=I,E||M)if(M&&typeof M!="string"){const T=c("span");if(E){const O=L.append(T,c("span"));O.innerText=E}const A=L.append(T,c("a.code-link"));A.setAttribute("href",M.target.toString()),v.add(L.addDisposableListener(A,"click",O=>{this._openerService.open(M.target,{allowCommands:!0}),O.preventDefault(),O.stopPropagation()}));const N=L.append(A,c("span"));N.innerText=M.value;const F=L.append(w,T);F.style.opacity="0.6",F.style.paddingLeft="6px"}else{const T=L.append(w,c("span"));T.style.opacity="0.6",T.style.paddingLeft="6px",T.innerText=E&&M?`${E}(${M})`:E||`(${M})`}if((0,k.isNonEmptyArray)(P))for(const{message:T,resource:A,startLineNumber:N,startColumn:F}of P){const O=L.append(w,c("div"));O.style.marginTop="8px";const W=L.append(O,c("a"));W.innerText=`${(0,f.basename)(A)}(${N}, ${F}): `,W.style.cursor="pointer",v.add(L.addDisposableListener(W,"click",j=>{j.stopPropagation(),j.preventDefault(),this._openerService&&this._openerService.open(A,{fromUserGesture:!0,editorOptions:{selection:{startLineNumber:N,startColumn:F}}}).catch(D.onUnexpectedError)}));const U=L.append(O,c("span"));U.innerText=T,this._editor.applyFontInfo(U)}return b}renderMarkerStatusbar(m,v,b){if((v.marker.severity===u.MarkerSeverity.Error||v.marker.severity===u.MarkerSeverity.Warning||v.marker.severity===u.MarkerSeverity.Info)&&m.statusBar.addAction({label:a.localize(0,null),commandId:t.NextMarkerAction.ID,run:()=>{var w;m.hide(),(w=t.MarkerController.get(this._editor))===null||w===void 0||w.showAtMarker(v.marker),this._editor.focus()}}),!this._editor.getOption(89)){const w=m.statusBar.append(c("div"));this.recentMarkerCodeActionsInfo&&(u.IMarkerData.makeKey(this.recentMarkerCodeActionsInfo.marker)===u.IMarkerData.makeKey(v.marker)?this.recentMarkerCodeActionsInfo.hasCodeActions||(w.textContent=a.localize(1,null)):this.recentMarkerCodeActionsInfo=void 0);const E=this.recentMarkerCodeActionsInfo&&!this.recentMarkerCodeActionsInfo.hasCodeActions?S.Disposable.None:b.add((0,y.disposableTimeout)(()=>w.textContent=a.localize(2,null),200));w.textContent||(w.textContent=String.fromCharCode(160));const I=this.getCodeActions(v.marker);b.add((0,S.toDisposable)(()=>I.cancel())),I.then(M=>{if(E.dispose(),this.recentMarkerCodeActionsInfo={marker:v.marker,hasCodeActions:M.validActions.length>0},!this.recentMarkerCodeActionsInfo.hasCodeActions){M.dispose(),w.textContent=a.localize(3,null);return}w.style.display="none";let P=!1;b.add((0,S.toDisposable)(()=>{P||M.dispose()})),m.statusBar.addAction({label:a.localize(4,null),commandId:s.quickFixCommandId,run:x=>{P=!0;const T=i.CodeActionController.get(this._editor),A=L.getDomNodePagePosition(x);m.hide(),T?.showCodeActions(d,M,{x:A.left,y:A.top,width:A.width,height:A.height})}})},D.onUnexpectedError)}}getCodeActions(m){return(0,y.createCancelablePromise)(v=>(0,s.getCodeActions)(this._languageFeaturesService.codeActionProvider,this._editor.getModel(),new _.Range(m.startLineNumber,m.startColumn,m.endLineNumber,m.endColumn),d,r.Progress.None,v))}};e.MarkerHoverParticipant=l,e.MarkerHoverParticipant=l=ke([fe(1,C.IMarkerDecorationsService),fe(2,h.IOpenerService),fe(3,g.ILanguageFeaturesService)],l)}),define(ne[372],se([1,0,63,2,16,5,21,41,371,367,781,8,56,31,23,103,248,901,253,34,671,448]),function(Q,e,L,k,y,D,S,f,_,g,C,s,i,n,t,a,u,h,r,c,o){"use strict";var d;Object.defineProperty(e,"__esModule",{value:!0}),e.ModesHoverController=void 0;const l=!1;let p=d=class{static get(N){return N.getContribution(d.ID)}constructor(N,F,O,W,U){this._editor=N,this._instantiationService=F,this._openerService=O,this._languageService=W,this._keybindingService=U,this._toUnhook=new k.DisposableStore,this._hoverActivatedByColorDecoratorClick=!1,this._isMouseDown=!1,this._hoverClicked=!1,this._contentWidget=null,this._glyphWidget=null,this._hookEvents(),this._didChangeConfigurationHandler=this._editor.onDidChangeConfiguration(j=>{j.hasChanged(59)&&(this._unhookEvents(),this._hookEvents())})}_hookEvents(){const N=()=>this._hideWidgets(),F=this._editor.getOption(59);this._isHoverEnabled=F.enabled,this._isHoverSticky=F.sticky,this._isHoverEnabled?(this._toUnhook.add(this._editor.onMouseDown(O=>this._onEditorMouseDown(O))),this._toUnhook.add(this._editor.onMouseUp(O=>this._onEditorMouseUp(O))),this._toUnhook.add(this._editor.onMouseMove(O=>this._onEditorMouseMove(O))),this._toUnhook.add(this._editor.onKeyDown(O=>this._onKeyDown(O)))):(this._toUnhook.add(this._editor.onMouseMove(O=>this._onEditorMouseMove(O))),this._toUnhook.add(this._editor.onKeyDown(O=>this._onKeyDown(O)))),this._toUnhook.add(this._editor.onMouseLeave(O=>this._onEditorMouseLeave(O))),this._toUnhook.add(this._editor.onDidChangeModel(N)),this._toUnhook.add(this._editor.onDidScrollChange(O=>this._onEditorScrollChanged(O)))}_unhookEvents(){this._toUnhook.clear()}_onEditorScrollChanged(N){(N.scrollTopChanged||N.scrollLeftChanged)&&this._hideWidgets()}_onEditorMouseDown(N){var F;this._isMouseDown=!0;const O=N.target;if(O.type===9&&O.detail===g.ContentHoverWidget.ID){this._hoverClicked=!0;return}O.type===12&&O.detail===C.MarginHoverWidget.ID||(O.type!==12&&(this._hoverClicked=!1),!((F=this._contentWidget)===null||F===void 0)&&F.widget.isResizing||this._hideWidgets())}_onEditorMouseUp(N){this._isMouseDown=!1}_onEditorMouseLeave(N){var F,O;const W=N.event.browserEvent.relatedTarget;!((F=this._contentWidget)===null||F===void 0)&&F.widget.isResizing||!((O=this._contentWidget)===null||O===void 0)&&O.containsNode(W)||l||this._hideWidgets()}_onEditorMouseMove(N){var F,O,W,U,j,R,K,G,Z,J,X;const H=N.target;if(!((F=this._contentWidget)===null||F===void 0)&&F.isFocused||!((O=this._contentWidget)===null||O===void 0)&&O.isResizing||this._isMouseDown&&this._hoverClicked||this._isHoverSticky&&H.type===9&&H.detail===g.ContentHoverWidget.ID||this._isHoverSticky&&(!((W=this._contentWidget)===null||W===void 0)&&W.containsNode((U=N.event.browserEvent.view)===null||U===void 0?void 0:U.document.activeElement))&&!(!((R=(j=N.event.browserEvent.view)===null||j===void 0?void 0:j.getSelection())===null||R===void 0)&&R.isCollapsed)||!this._isHoverSticky&&H.type===9&&H.detail===g.ContentHoverWidget.ID&&(!((K=this._contentWidget)===null||K===void 0)&&K.isColorPickerVisible)||this._isHoverSticky&&H.type===12&&H.detail===C.MarginHoverWidget.ID||this._isHoverSticky&&(!((G=this._contentWidget)===null||G===void 0)&&G.isVisibleFromKeyboard))return;const B=(Z=H.element)===null||Z===void 0?void 0:Z.classList.contains("colorpicker-color-decoration"),V=this._editor.getOption(145);if(B&&(V==="click"&&!this._hoverActivatedByColorDecoratorClick||V==="hover"&&!this._isHoverEnabled&&!l||V==="clickAndHover"&&!this._isHoverEnabled&&!this._hoverActivatedByColorDecoratorClick)||!B&&!this._isHoverEnabled&&!this._hoverActivatedByColorDecoratorClick){this._hideWidgets();return}if(this._getOrCreateContentWidget().maybeShowAt(N)){(J=this._glyphWidget)===null||J===void 0||J.hide();return}if(H.type===2&&H.position){(X=this._contentWidget)===null||X===void 0||X.hide(),this._glyphWidget||(this._glyphWidget=new C.MarginHoverWidget(this._editor,this._languageService,this._openerService)),this._glyphWidget.startShowingAt(H.position.lineNumber);return}l||this._hideWidgets()}_onKeyDown(N){var F;if(!this._editor.hasModel())return;const O=this._keybindingService.softDispatch(N,this._editor.getDomNode()),W=O.kind===1||O.kind===2&&O.commandId==="editor.action.showHover"&&((F=this._contentWidget)===null||F===void 0?void 0:F.isVisible);N.keyCode!==5&&N.keyCode!==6&&N.keyCode!==57&&N.keyCode!==4&&!W&&this._hideWidgets()}_hideWidgets(){var N,F,O;l||this._isMouseDown&&this._hoverClicked&&(!((N=this._contentWidget)===null||N===void 0)&&N.isColorPickerVisible)||r.InlineSuggestionHintsContentWidget.dropDownVisible||(this._hoverActivatedByColorDecoratorClick=!1,this._hoverClicked=!1,(F=this._glyphWidget)===null||F===void 0||F.hide(),(O=this._contentWidget)===null||O===void 0||O.hide())}_getOrCreateContentWidget(){return this._contentWidget||(this._contentWidget=this._instantiationService.createInstance(g.ContentHoverController,this._editor)),this._contentWidget}showContentHover(N,F,O,W,U=!1){this._hoverActivatedByColorDecoratorClick=U,this._getOrCreateContentWidget().startShowingAtRange(N,F,O,W)}focus(){var N;(N=this._contentWidget)===null||N===void 0||N.focus()}scrollUp(){var N;(N=this._contentWidget)===null||N===void 0||N.scrollUp()}scrollDown(){var N;(N=this._contentWidget)===null||N===void 0||N.scrollDown()}scrollLeft(){var N;(N=this._contentWidget)===null||N===void 0||N.scrollLeft()}scrollRight(){var N;(N=this._contentWidget)===null||N===void 0||N.scrollRight()}pageUp(){var N;(N=this._contentWidget)===null||N===void 0||N.pageUp()}pageDown(){var N;(N=this._contentWidget)===null||N===void 0||N.pageDown()}goToTop(){var N;(N=this._contentWidget)===null||N===void 0||N.goToTop()}goToBottom(){var N;(N=this._contentWidget)===null||N===void 0||N.goToBottom()}get isColorPickerVisible(){var N;return(N=this._contentWidget)===null||N===void 0?void 0:N.isColorPickerVisible}get isHoverVisible(){var N;return(N=this._contentWidget)===null||N===void 0?void 0:N.isVisible}dispose(){var N,F;this._unhookEvents(),this._toUnhook.dispose(),this._didChangeConfigurationHandler.dispose(),(N=this._glyphWidget)===null||N===void 0||N.dispose(),(F=this._contentWidget)===null||F===void 0||F.dispose()}};e.ModesHoverController=p,p.ID="editor.contrib.hover",e.ModesHoverController=p=d=ke([fe(1,s.IInstantiationService),fe(2,i.IOpenerService),fe(3,f.ILanguageService),fe(4,c.IKeybindingService)],p);class m extends y.EditorAction{constructor(){super({id:"editor.action.showHover",label:o.localize(0,null),description:{description:"Show or Focus Hover",args:[{name:"args",schema:{type:"object",properties:{focus:{description:"Controls if when triggered with the keyboard, the hover should take focus immediately.",type:"boolean",default:!1}}}}]},alias:"Show or Focus Hover",precondition:void 0,kbOpts:{kbExpr:S.EditorContextKeys.editorTextFocus,primary:(0,L.KeyChord)(2089,2087),weight:100}})}run(N,F,O){if(!F.hasModel())return;const W=p.get(F);if(!W)return;const U=F.getPosition(),j=new D.Range(U.lineNumber,U.column,U.lineNumber,U.column),R=F.getOption(2)===2||!!O?.focus;W.isHoverVisible?W.focus():W.showContentHover(j,1,1,R)}}class v extends y.EditorAction{constructor(){super({id:"editor.action.showDefinitionPreviewHover",label:o.localize(1,null),alias:"Show Definition Preview Hover",precondition:void 0})}run(N,F){const O=p.get(F);if(!O)return;const W=F.getPosition();if(!W)return;const U=new D.Range(W.lineNumber,W.column,W.lineNumber,W.column),j=_.GotoDefinitionAtPositionEditorContribution.get(F);if(!j)return;j.startFindDefinitionFromCursor(W).then(()=>{O.showContentHover(U,1,1,!0)})}}class b extends y.EditorAction{constructor(){super({id:"editor.action.scrollUpHover",label:o.localize(2,null),alias:"Scroll Up Hover",precondition:S.EditorContextKeys.hoverFocused,kbOpts:{kbExpr:S.EditorContextKeys.hoverFocused,primary:16,weight:100}})}run(N,F){const O=p.get(F);O&&O.scrollUp()}}class w extends y.EditorAction{constructor(){super({id:"editor.action.scrollDownHover",label:o.localize(3,null),alias:"Scroll Down Hover",precondition:S.EditorContextKeys.hoverFocused,kbOpts:{kbExpr:S.EditorContextKeys.hoverFocused,primary:18,weight:100}})}run(N,F){const O=p.get(F);O&&O.scrollDown()}}class E extends y.EditorAction{constructor(){super({id:"editor.action.scrollLeftHover",label:o.localize(4,null),alias:"Scroll Left Hover",precondition:S.EditorContextKeys.hoverFocused,kbOpts:{kbExpr:S.EditorContextKeys.hoverFocused,primary:15,weight:100}})}run(N,F){const O=p.get(F);O&&O.scrollLeft()}}class I extends y.EditorAction{constructor(){super({id:"editor.action.scrollRightHover",label:o.localize(5,null),alias:"Scroll Right Hover",precondition:S.EditorContextKeys.hoverFocused,kbOpts:{kbExpr:S.EditorContextKeys.hoverFocused,primary:17,weight:100}})}run(N,F){const O=p.get(F);O&&O.scrollRight()}}class M extends y.EditorAction{constructor(){super({id:"editor.action.pageUpHover",label:o.localize(6,null),alias:"Page Up Hover",precondition:S.EditorContextKeys.hoverFocused,kbOpts:{kbExpr:S.EditorContextKeys.hoverFocused,primary:11,secondary:[528],weight:100}})}run(N,F){const O=p.get(F);O&&O.pageUp()}}class P extends y.EditorAction{constructor(){super({id:"editor.action.pageDownHover",label:o.localize(7,null),alias:"Page Down Hover",precondition:S.EditorContextKeys.hoverFocused,kbOpts:{kbExpr:S.EditorContextKeys.hoverFocused,primary:12,secondary:[530],weight:100}})}run(N,F){const O=p.get(F);O&&O.pageDown()}}class x extends y.EditorAction{constructor(){super({id:"editor.action.goToTopHover",label:o.localize(8,null),alias:"Go To Bottom Hover",precondition:S.EditorContextKeys.hoverFocused,kbOpts:{kbExpr:S.EditorContextKeys.hoverFocused,primary:14,secondary:[2064],weight:100}})}run(N,F){const O=p.get(F);O&&O.goToTop()}}class T extends y.EditorAction{constructor(){super({id:"editor.action.goToBottomHover",label:o.localize(9,null),alias:"Go To Bottom Hover",precondition:S.EditorContextKeys.hoverFocused,kbOpts:{kbExpr:S.EditorContextKeys.hoverFocused,primary:13,secondary:[2066],weight:100}})}run(N,F){const O=p.get(F);O&&O.goToBottom()}}(0,y.registerEditorContribution)(p.ID,p,2),(0,y.registerEditorAction)(m),(0,y.registerEditorAction)(v),(0,y.registerEditorAction)(b),(0,y.registerEditorAction)(w),(0,y.registerEditorAction)(E),(0,y.registerEditorAction)(I),(0,y.registerEditorAction)(M),(0,y.registerEditorAction)(P),(0,y.registerEditorAction)(x),(0,y.registerEditorAction)(T),a.HoverParticipantRegistry.register(u.MarkdownHoverParticipant),a.HoverParticipantRegistry.register(h.MarkerHoverParticipant),(0,t.registerThemingParticipant)((A,N)=>{const F=A.getColor(n.editorHoverBorder);F&&(N.addRule(`.monaco-editor .monaco-hover .hover-row:not(:first-child):not(:empty) { border-top: 1px solid ${F.transparent(.5)}; }`),N.addRule(`.monaco-editor .monaco-hover hr { border-top: 1px solid ${F.transparent(.5)}; }`),N.addRule(`.monaco-editor .monaco-hover hr { border-bottom: 0px solid ${F.transparent(.5)}; }`))})}),define(ne[902],se([1,0,2,16,5,363,364,372,103]),function(Q,e,L,k,y,D,S,f,_){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ColorContribution=void 0;class g extends L.Disposable{constructor(s){super(),this._editor=s,this._register(s.onMouseDown(i=>this.onMouseDown(i)))}dispose(){super.dispose()}onMouseDown(s){const i=this._editor.getOption(145);if(i!=="click"&&i!=="clickAndHover")return;const n=s.target;if(n.type!==6||!n.detail.injectedText||n.detail.injectedText.options.attachedData!==D.ColorDecorationInjectedTextMarker||!n.range)return;const t=this._editor.getContribution(f.ModesHoverController.ID);if(t&&!t.isColorPickerVisible){const a=new y.Range(n.range.startLineNumber,n.range.startColumn+1,n.range.endLineNumber,n.range.endColumn+1);t.showContentHover(a,1,0,!1,!0)}}}e.ColorContribution=g,g.ID="editor.contrib.colorContribution",(0,k.registerEditorContribution)(g.ID,g,2),_.HoverParticipantRegistry.register(S.ColorHoverParticipant)}),define(ne[373],se([1,0,7,39,19,170,5,69,257,138,30,27,15,57,8,43]),function(Q,e,L,k,y,D,S,f,_,g,C,s,i,n,t,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.goToDefinitionWithLocation=e.showGoToContextMenu=void 0;function u(r,c,o,d){var l;return we(this,void 0,void 0,function*(){const p=r.get(f.ITextModelService),m=r.get(n.IContextMenuService),v=r.get(s.ICommandService),b=r.get(t.IInstantiationService),w=r.get(a.INotificationService);if(yield d.item.resolve(y.CancellationToken.None),!d.part.location)return;const E=d.part.location,I=[],M=new Set(C.MenuRegistry.getMenuItems(C.MenuId.EditorContext).map(x=>(0,C.isIMenuItem)(x)?x.command.id:(0,D.generateUuid)()));for(const x of _.SymbolNavigationAction.all())M.has(x.desc.id)&&I.push(new k.Action(x.desc.id,C.MenuItemAction.label(x.desc,{renderShortTitle:!0}),void 0,!0,()=>we(this,void 0,void 0,function*(){const T=yield p.createModelReference(E.uri);try{const A=new _.SymbolNavigationAnchor(T.object.textEditorModel,S.Range.getStartPosition(E.range)),N=d.item.anchor.range;yield b.invokeFunction(x.runEditorCommand.bind(x),c,A,N)}finally{T.dispose()}})));if(d.part.command){const{command:x}=d.part;I.push(new k.Separator),I.push(new k.Action(x.id,x.title,void 0,!0,()=>we(this,void 0,void 0,function*(){var T;try{yield v.executeCommand(x.id,...(T=x.arguments)!==null&&T!==void 0?T:[])}catch(A){w.notify({severity:a.Severity.Error,source:d.item.provider.displayName,message:A})}})))}const P=c.getOption(125);m.showContextMenu({domForShadowRoot:P&&(l=c.getDomNode())!==null&&l!==void 0?l:void 0,getAnchor:()=>{const x=L.getDomNodePagePosition(o);return{x:x.left,y:x.top+x.height+8}},getActions:()=>I,onHide:()=>{c.focus()},autoSelectFirstItem:!0})})}e.showGoToContextMenu=u;function h(r,c,o,d){return we(this,void 0,void 0,function*(){const p=yield r.get(f.ITextModelService).createModelReference(d.uri);yield o.invokeWithinContext(m=>we(this,void 0,void 0,function*(){const v=c.hasSideBySideModifier,b=m.get(i.IContextKeyService),w=g.PeekContext.inPeekEditor.getValue(b),E=!v&&o.getOption(86)&&!w;return new _.DefinitionAction({openToSide:v,openInPeek:E,muteMessage:!0},{title:{value:"",original:""},id:"",precondition:void 0}).run(m,new _.SymbolNavigationAnchor(p.object.textEditorModel,S.Range.getStartPosition(d.range)),S.Range.lift(d.range))})),p.dispose()})}e.goToDefinitionWithLocation=h}),define(ne[374],se([1,0,7,14,13,19,9,2,65,20,22,159,108,36,73,5,29,48,40,76,18,69,186,322,373,27,50,8,43,31,23]),function(Q,e,L,k,y,D,S,f,_,g,C,s,i,n,t,a,u,h,r,c,o,d,l,p,m,v,b,w,E,I,M){"use strict";var P;Object.defineProperty(e,"__esModule",{value:!0}),e.InlayHintsController=e.RenderedInlayHintLabelPart=void 0;class x{constructor(){this._entries=new _.LRUCache(50)}get(U){const j=x._key(U);return this._entries.get(j)}set(U,j){const R=x._key(U);this._entries.set(R,j)}static _key(U){return`${U.uri.toString()}/${U.getVersionId()}`}}const T=(0,w.createDecorator)("IInlayHintsCache");(0,b.registerSingleton)(T,x,1);class A{constructor(U,j){this.item=U,this.index=j}get part(){const U=this.item.hint.label;return typeof U=="string"?{label:U}:U[this.index]}}e.RenderedInlayHintLabelPart=A;class N{constructor(U,j){this.part=U,this.hasTriggerModifier=j}}let F=P=class{static get(U){var j;return(j=U.getContribution(P.ID))!==null&&j!==void 0?j:void 0}constructor(U,j,R,K,G,Z,J){this._editor=U,this._languageFeaturesService=j,this._inlayHintsCache=K,this._commandService=G,this._notificationService=Z,this._instaService=J,this._disposables=new f.DisposableStore,this._sessionDisposables=new f.DisposableStore,this._decorationsMetadata=new Map,this._ruleFactory=new s.DynamicCssRules(this._editor),this._activeRenderMode=0,this._debounceInfo=R.for(j.inlayHintsProvider,"InlayHint",{min:25}),this._disposables.add(j.inlayHintsProvider.onDidChange(()=>this._update())),this._disposables.add(U.onDidChangeModel(()=>this._update())),this._disposables.add(U.onDidChangeModelLanguage(()=>this._update())),this._disposables.add(U.onDidChangeConfiguration(X=>{X.hasChanged(138)&&this._update()})),this._update()}dispose(){this._sessionDisposables.dispose(),this._removeAllDecorations(),this._disposables.dispose()}_update(){this._sessionDisposables.clear(),this._removeAllDecorations();const U=this._editor.getOption(138);if(U.enabled==="off")return;const j=this._editor.getModel();if(!j||!this._languageFeaturesService.inlayHintsProvider.has(j))return;const R=this._inlayHintsCache.get(j);R&&this._updateHintsDecorators([j.getFullModelRange()],R),this._sessionDisposables.add((0,f.toDisposable)(()=>{j.isDisposed()||this._cacheHintsForFastRestore(j)}));let K;const G=new Set,Z=new y.RunOnceScheduler(()=>we(this,void 0,void 0,function*(){const J=Date.now();K?.dispose(!0),K=new D.CancellationTokenSource;const X=j.onWillDispose(()=>K?.cancel());try{const H=K.token,B=yield p.InlayHintsFragments.create(this._languageFeaturesService.inlayHintsProvider,j,this._getHintsRanges(),H);if(Z.delay=this._debounceInfo.update(j,Date.now()-J),H.isCancellationRequested){B.dispose();return}for(const V of B.provider)typeof V.onDidChangeInlayHints=="function"&&!G.has(V)&&(G.add(V),this._sessionDisposables.add(V.onDidChangeInlayHints(()=>{Z.isScheduled()||Z.schedule()})));this._sessionDisposables.add(B),this._updateHintsDecorators(B.ranges,B.items),this._cacheHintsForFastRestore(j)}catch(H){(0,S.onUnexpectedError)(H)}finally{K.dispose(),X.dispose()}}),this._debounceInfo.get(j));if(this._sessionDisposables.add(Z),this._sessionDisposables.add((0,f.toDisposable)(()=>K?.dispose(!0))),Z.schedule(0),this._sessionDisposables.add(this._editor.onDidScrollChange(J=>{(J.scrollTopChanged||!Z.isScheduled())&&Z.schedule()})),this._sessionDisposables.add(this._editor.onDidChangeModelContent(J=>{const X=Math.max(Z.delay,1250);Z.schedule(X)})),U.enabled==="on")this._activeRenderMode=0;else{let J,X;U.enabled==="onUnlessPressed"?(J=0,X=1):(J=1,X=0),this._activeRenderMode=J,this._sessionDisposables.add(L.ModifierKeyEmitter.getInstance().event(H=>{if(!this._editor.hasModel())return;const B=H.altKey&&H.ctrlKey&&!(H.shiftKey||H.metaKey)?X:J;if(B!==this._activeRenderMode){this._activeRenderMode=B;const V=this._editor.getModel(),Y=this._copyInlayHintsWithCurrentAnchor(V);this._updateHintsDecorators([V.getFullModelRange()],Y),Z.schedule(0)}}))}this._sessionDisposables.add(this._installDblClickGesture(()=>Z.schedule(0))),this._sessionDisposables.add(this._installLinkGesture()),this._sessionDisposables.add(this._installContextMenu())}_installLinkGesture(){const U=new f.DisposableStore,j=U.add(new l.ClickLinkGesture(this._editor)),R=new f.DisposableStore;return U.add(R),U.add(j.onMouseMoveOrRelevantKeyDown(K=>{const[G]=K,Z=this._getInlayHintLabelPart(G),J=this._editor.getModel();if(!Z||!J){R.clear();return}const X=new D.CancellationTokenSource;R.add((0,f.toDisposable)(()=>X.dispose(!0))),Z.item.resolve(X.token),this._activeInlayHintPart=Z.part.command||Z.part.location?new N(Z,G.hasTriggerModifier):void 0;const H=J.validatePosition(Z.item.hint.position).lineNumber,B=new a.Range(H,1,H,J.getLineMaxColumn(H)),V=this._getInlineHintsForRange(B);this._updateHintsDecorators([B],V),R.add((0,f.toDisposable)(()=>{this._activeInlayHintPart=void 0,this._updateHintsDecorators([B],V)}))})),U.add(j.onCancel(()=>R.clear())),U.add(j.onExecute(K=>we(this,void 0,void 0,function*(){const G=this._getInlayHintLabelPart(K);if(G){const Z=G.part;Z.location?this._instaService.invokeFunction(m.goToDefinitionWithLocation,K,this._editor,Z.location):u.Command.is(Z.command)&&(yield this._invokeCommand(Z.command,G.item))}}))),U}_getInlineHintsForRange(U){const j=new Set;for(const R of this._decorationsMetadata.values())U.containsRange(R.item.anchor.range)&&j.add(R.item);return Array.from(j)}_installDblClickGesture(U){return this._editor.onMouseUp(j=>we(this,void 0,void 0,function*(){if(j.event.detail!==2)return;const R=this._getInlayHintLabelPart(j);if(R&&(j.event.preventDefault(),yield R.item.resolve(D.CancellationToken.None),(0,k.isNonEmptyArray)(R.item.hint.textEdits))){const K=R.item.hint.textEdits.map(G=>t.EditOperation.replace(a.Range.lift(G.range),G.text));this._editor.executeEdits("inlayHint.default",K),U()}}))}_installContextMenu(){return this._editor.onContextMenu(U=>we(this,void 0,void 0,function*(){if(!(U.event.target instanceof HTMLElement))return;const j=this._getInlayHintLabelPart(U);j&&(yield this._instaService.invokeFunction(m.showGoToContextMenu,this._editor,U.event.target,j))}))}_getInlayHintLabelPart(U){var j;if(U.target.type!==6)return;const R=(j=U.target.detail.injectedText)===null||j===void 0?void 0:j.options;if(R instanceof r.ModelDecorationInjectedTextOptions&&R?.attachedData instanceof A)return R.attachedData}_invokeCommand(U,j){var R;return we(this,void 0,void 0,function*(){try{yield this._commandService.executeCommand(U.id,...(R=U.arguments)!==null&&R!==void 0?R:[])}catch(K){this._notificationService.notify({severity:E.Severity.Error,source:j.provider.displayName,message:K})}})}_cacheHintsForFastRestore(U){const j=this._copyInlayHintsWithCurrentAnchor(U);this._inlayHintsCache.set(U,j)}_copyInlayHintsWithCurrentAnchor(U){const j=new Map;for(const[R,K]of this._decorationsMetadata){if(j.has(K.item))continue;const G=U.getDecorationRange(R);if(G){const Z=new p.InlayHintAnchor(G,K.item.anchor.direction),J=K.item.with({anchor:Z});j.set(K.item,J)}}return Array.from(j.values())}_getHintsRanges(){const j=this._editor.getModel(),R=this._editor.getVisibleRangesPlusViewportAboveBelow(),K=[];for(const G of R.sort(a.Range.compareRangesUsingStarts)){const Z=j.validateRange(new a.Range(G.startLineNumber-30,G.startColumn,G.endLineNumber+30,G.endColumn));K.length===0||!a.Range.areIntersectingOrTouching(K[K.length-1],Z)?K.push(Z):K[K.length-1]=a.Range.plusRange(K[K.length-1],Z)}return K}_updateHintsDecorators(U,j){var R,K;const G=[],Z=(ce,de,he,ue,te)=>{const q={content:he,inlineClassNameAffectsLetterSpacing:!0,inlineClassName:de.className,cursorStops:ue,attachedData:te};G.push({item:ce,classNameRef:de,decoration:{range:ce.anchor.range,options:{description:"InlayHint",showIfCollapsed:ce.anchor.range.isEmpty(),collapseOnReplaceEdit:!ce.anchor.range.isEmpty(),stickiness:0,[ce.anchor.direction]:this._activeRenderMode===0?q:void 0}}})},J=(ce,de)=>{const he=this._ruleFactory.createClassNameRef({width:`${X/3|0}px`,display:"inline-block"});Z(ce,he,"\u200A",de?h.InjectedTextCursorStops.Right:h.InjectedTextCursorStops.None)},{fontSize:X,fontFamily:H,padding:B,isUniform:V}=this._getLayoutInfo(),Y="--code-editorInlayHintsFontFamily";this._editor.getContainerDomNode().style.setProperty(Y,H);for(const ce of j){ce.hint.paddingLeft&&J(ce,!1);const de=typeof ce.hint.label=="string"?[{label:ce.hint.label}]:ce.hint.label;for(let he=0;he<de.length;he++){const ue=de[he],te=he===0,q=he===de.length-1,z={fontSize:`${X}px`,fontFamily:`var(${Y}), ${n.EDITOR_FONT_DEFAULTS.fontFamily}`,verticalAlign:V?"baseline":"middle",unicodeBidi:"isolate"};(0,k.isNonEmptyArray)(ce.hint.textEdits)&&(z.cursor="default"),this._fillInColors(z,ce.hint),(ue.command||ue.location)&&((R=this._activeInlayHintPart)===null||R===void 0?void 0:R.part.item)===ce&&this._activeInlayHintPart.part.index===he&&(z.textDecoration="underline",this._activeInlayHintPart.hasTriggerModifier&&(z.color=(0,M.themeColorFromId)(I.editorActiveLinkForeground),z.cursor="pointer")),B&&(te&&q?(z.padding=`1px ${Math.max(1,X/4)|0}px`,z.borderRadius=`${X/4|0}px`):te?(z.padding=`1px 0 1px ${Math.max(1,X/4)|0}px`,z.borderRadius=`${X/4|0}px 0 0 ${X/4|0}px`):q?(z.padding=`1px ${Math.max(1,X/4)|0}px 1px 0`,z.borderRadius=`0 ${X/4|0}px ${X/4|0}px 0`):z.padding="1px 0 1px 0"),Z(ce,this._ruleFactory.createClassNameRef(z),O(ue.label),q&&!ce.hint.paddingRight?h.InjectedTextCursorStops.Right:h.InjectedTextCursorStops.None,new A(ce,he))}if(ce.hint.paddingRight&&J(ce,!0),G.length>P._MAX_DECORATORS)break}const ie=[];for(const ce of U)for(const{id:de}of(K=this._editor.getDecorationsInRange(ce))!==null&&K!==void 0?K:[]){const he=this._decorationsMetadata.get(de);he&&(ie.push(de),he.classNameRef.dispose(),this._decorationsMetadata.delete(de))}const ae=i.StableEditorScrollState.capture(this._editor);this._editor.changeDecorations(ce=>{const de=ce.deltaDecorations(ie,G.map(he=>he.decoration));for(let he=0;he<de.length;he++){const ue=G[he];this._decorationsMetadata.set(de[he],ue)}}),ae.restore(this._editor)}_fillInColors(U,j){j.kind===u.InlayHintKind.Parameter?(U.backgroundColor=(0,M.themeColorFromId)(I.editorInlayHintParameterBackground),U.color=(0,M.themeColorFromId)(I.editorInlayHintParameterForeground)):j.kind===u.InlayHintKind.Type?(U.backgroundColor=(0,M.themeColorFromId)(I.editorInlayHintTypeBackground),U.color=(0,M.themeColorFromId)(I.editorInlayHintTypeForeground)):(U.backgroundColor=(0,M.themeColorFromId)(I.editorInlayHintBackground),U.color=(0,M.themeColorFromId)(I.editorInlayHintForeground))}_getLayoutInfo(){const U=this._editor.getOption(138),j=U.padding,R=this._editor.getOption(51),K=this._editor.getOption(48);let G=U.fontSize;(!G||G<5||G>R)&&(G=R);const Z=U.fontFamily||K;return{fontSize:G,fontFamily:Z,padding:j,isUniform:!j&&Z===K&&G===R}}_removeAllDecorations(){this._editor.removeDecorations(Array.from(this._decorationsMetadata.keys()));for(const U of this._decorationsMetadata.values())U.classNameRef.dispose();this._decorationsMetadata.clear()}};e.InlayHintsController=F,F.ID="editor.contrib.InlayHints",F._MAX_DECORATORS=1500,e.InlayHintsController=F=P=ke([fe(1,o.ILanguageFeaturesService),fe(2,c.ILanguageFeatureDebounceService),fe(3,T),fe(4,v.ICommandService),fe(5,E.INotificationService),fe(6,w.IInstantiationService)],F);function O(W){const U="\xA0";return W.replace(/[ \t]/g,U)}v.CommandsRegistry.registerCommand("_executeInlayHintProvider",(W,...U)=>we(void 0,void 0,void 0,function*(){const[j,R]=U;(0,g.assertType)(C.URI.isUri(j)),(0,g.assertType)(a.Range.isIRange(R));const{inlayHintsProvider:K}=W.get(o.ILanguageFeaturesService),G=yield W.get(d.ITextModelService).createModelReference(j);try{const Z=yield p.InlayHintsFragments.create(K,G.object.textEditorModel,[a.Range.lift(R)],D.CancellationToken.None),J=Z.items.map(X=>X.hint);return setTimeout(()=>Z.dispose(),0),J}finally{G.dispose()}}))});var Lt=this&&this.__asyncValues||function(Q){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var e=Q[Symbol.asyncIterator],L;return e?e.call(Q):(Q=typeof __values=="function"?__values(Q):Q[Symbol.iterator](),L={},k("next"),k("throw"),k("return"),L[Symbol.asyncIterator]=function(){return this},L);function k(D){L[D]=Q[D]&&function(S){return new Promise(function(f,_){S=Q[D](S),y(f,_,S.done,S.value)})}}function y(D,S,f,_){Promise.resolve(_).then(function(g){D({value:g,done:f})},S)}};define(ne[903],se([1,0,13,55,12,40,103,41,69,352,248,374,28,56,18,676,17,322,14]),function(Q,e,L,k,y,D,S,f,_,g,C,s,i,n,t,a,u,h,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.InlayHintsHover=void 0;class c extends S.HoverForeignElementAnchor{constructor(l,p,m,v){super(10,p,l.item.anchor.range,m,v,!0),this.part=l}}let o=class extends C.MarkdownHoverParticipant{constructor(l,p,m,v,b,w){super(l,p,m,v,w),this._resolverService=b,this.hoverOrdinal=6}suggestHoverAnchor(l){var p;if(!s.InlayHintsController.get(this._editor)||l.target.type!==6)return null;const v=(p=l.target.detail.injectedText)===null||p===void 0?void 0:p.options;return v instanceof D.ModelDecorationInjectedTextOptions&&v.attachedData instanceof s.RenderedInlayHintLabelPart?new c(v.attachedData,this,l.event.posx,l.event.posy):null}computeSync(){return[]}computeAsync(l,p,m){return l instanceof c?new L.AsyncIterableObject(v=>we(this,void 0,void 0,function*(){var b,w,E,I;const{part:M}=l;if(yield M.item.resolve(m),m.isCancellationRequested)return;let P;typeof M.item.hint.tooltip=="string"?P=new k.MarkdownString().appendText(M.item.hint.tooltip):M.item.hint.tooltip&&(P=M.item.hint.tooltip),P&&v.emitOne(new C.MarkdownHover(this,l.range,[P],!1,0)),(0,r.isNonEmptyArray)(M.item.hint.textEdits)&&v.emitOne(new C.MarkdownHover(this,l.range,[new k.MarkdownString().appendText((0,a.localize)(0,null))],!1,10001));let x;if(typeof M.part.tooltip=="string"?x=new k.MarkdownString().appendText(M.part.tooltip):M.part.tooltip&&(x=M.part.tooltip),x&&v.emitOne(new C.MarkdownHover(this,l.range,[x],!1,1)),M.part.location||M.part.command){let O;const U=this._editor.getOption(76)==="altKey"?u.isMacintosh?(0,a.localize)(1,null):(0,a.localize)(2,null):u.isMacintosh?(0,a.localize)(3,null):(0,a.localize)(4,null);M.part.location&&M.part.command?O=new k.MarkdownString().appendText((0,a.localize)(5,null,U)):M.part.location?O=new k.MarkdownString().appendText((0,a.localize)(6,null,U)):M.part.command&&(O=new k.MarkdownString(`[${(0,a.localize)(7,null)}](${(0,h.asCommandLink)(M.part.command)} "${M.part.command.title}") (${U})`,{isTrusted:!0})),O&&v.emitOne(new C.MarkdownHover(this,l.range,[O],!1,1e4))}const T=yield this._resolveInlayHintLabelPartHover(M,m);try{for(var A=!0,N=Lt(T),F;F=yield N.next(),b=F.done,!b;A=!0){I=F.value,A=!1;const O=I;v.emitOne(O)}}catch(O){w={error:O}}finally{try{!A&&!b&&(E=N.return)&&(yield E.call(N))}finally{if(w)throw w.error}}})):L.AsyncIterableObject.EMPTY}_resolveInlayHintLabelPartHover(l,p){return we(this,void 0,void 0,function*(){if(!l.part.location)return L.AsyncIterableObject.EMPTY;const{uri:m,range:v}=l.part.location,b=yield this._resolverService.createModelReference(m);try{const w=b.object.textEditorModel;return this._languageFeaturesService.hoverProvider.has(w)?(0,g.getHover)(this._languageFeaturesService.hoverProvider,w,new y.Position(v.startLineNumber,v.startColumn),p).filter(E=>!(0,k.isEmptyMarkdownString)(E.hover.contents)).map(E=>new C.MarkdownHover(this,l.item.anchor.range,E.hover.contents,!1,2+E.ordinal)):L.AsyncIterableObject.EMPTY}finally{b.dispose()}})}};e.InlayHintsHover=o,e.InlayHintsHover=o=ke([fe(1,f.ILanguageService),fe(2,n.IOpenerService),fe(3,i.IConfigurationService),fe(4,_.ITextModelService),fe(5,t.ILanguageFeaturesService)],o)}),define(ne[904],se([1,0,16,103,374,903]),function(Q,e,L,k,y,D){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),(0,L.registerEditorContribution)(y.InlayHintsController.ID,y.InlayHintsController,1),k.HoverParticipantRegistry.register(D.InlayHintsHover)}),define(ne[375],se([1,0,2,18,894,893,8,57,30,15,21,186,5,247,373,12,19,32,76,7,299,60]),function(Q,e,L,k,y,D,S,f,_,g,C,s,i,n,t,a,u,h,r,c,o,d){"use strict";var l;Object.defineProperty(e,"__esModule",{value:!0}),e.StickyScrollController=void 0;let p=l=class extends L.Disposable{constructor(v,b,w,E,I,M,P){super(),this._editor=v,this._contextMenuService=b,this._languageFeaturesService=w,this._instaService=E,this._contextKeyService=P,this._sessionStore=new L.DisposableStore,this._maxStickyLines=Number.MAX_SAFE_INTEGER,this._candidateDefinitionsLength=-1,this._focusedStickyElementIndex=-1,this._enabled=!1,this._focused=!1,this._positionRevealed=!1,this._onMouseDown=!1,this._endLineNumbers=[],this._showEndForLine=null,this._stickyScrollWidget=new y.StickyScrollWidget(this._editor),this._stickyLineCandidateProvider=new D.StickyLineCandidateProvider(this._editor,w,I),this._register(this._stickyScrollWidget),this._register(this._stickyLineCandidateProvider),this._widgetState=new y.StickyScrollWidgetState([],[],0),this._readConfiguration();const x=this._stickyScrollWidget.getDomNode();this._register(this._editor.onDidChangeConfiguration(A=>{(A.hasChanged(113)||A.hasChanged(71)||A.hasChanged(65)||A.hasChanged(108))&&this._readConfiguration()})),this._register(c.addDisposableListener(x,c.EventType.CONTEXT_MENU,A=>we(this,void 0,void 0,function*(){this._onContextMenu(A)}))),this._stickyScrollFocusedContextKey=C.EditorContextKeys.stickyScrollFocused.bindTo(this._contextKeyService),this._stickyScrollVisibleContextKey=C.EditorContextKeys.stickyScrollVisible.bindTo(this._contextKeyService);const T=this._register(c.trackFocus(x));this._register(T.onDidBlur(A=>{this._positionRevealed===!1&&x.clientHeight===0?(this._focusedStickyElementIndex=-1,this.focus()):this._disposeFocusStickyScrollStore()})),this._register(T.onDidFocus(A=>{this.focus()})),this._registerMouseListeners(),this._register(c.addDisposableListener(x,c.EventType.MOUSE_DOWN,A=>{this._onMouseDown=!0}))}static get(v){return v.getContribution(l.ID)}_disposeFocusStickyScrollStore(){var v;this._stickyScrollFocusedContextKey.set(!1),(v=this._focusDisposableStore)===null||v===void 0||v.dispose(),this._focused=!1,this._positionRevealed=!1,this._onMouseDown=!1}focus(){if(this._onMouseDown){this._onMouseDown=!1,this._editor.focus();return}this._stickyScrollFocusedContextKey.get()!==!0&&(this._focused=!0,this._focusDisposableStore=new L.DisposableStore,this._stickyScrollFocusedContextKey.set(!0),this._focusedStickyElementIndex=this._stickyScrollWidget.lineNumbers.length-1,this._stickyScrollWidget.focusLineWithIndex(this._focusedStickyElementIndex))}focusNext(){this._focusedStickyElementIndex<this._stickyScrollWidget.lineNumberCount-1&&this._focusNav(!0)}focusPrevious(){this._focusedStickyElementIndex>0&&this._focusNav(!1)}selectEditor(){this._editor.focus()}_focusNav(v){this._focusedStickyElementIndex=v?this._focusedStickyElementIndex+1:this._focusedStickyElementIndex-1,this._stickyScrollWidget.focusLineWithIndex(this._focusedStickyElementIndex)}goToFocused(){const v=this._stickyScrollWidget.lineNumbers;this._disposeFocusStickyScrollStore(),this._revealPosition({lineNumber:v[this._focusedStickyElementIndex],column:1})}_revealPosition(v){this._reveaInEditor(v,()=>this._editor.revealPosition(v))}_revealLineInCenterIfOutsideViewport(v){this._reveaInEditor(v,()=>this._editor.revealLineInCenterIfOutsideViewport(v.lineNumber,0))}_reveaInEditor(v,b){this._focused&&this._disposeFocusStickyScrollStore(),this._positionRevealed=!0,b(),this._editor.setSelection(i.Range.fromPositions(v)),this._editor.focus()}_registerMouseListeners(){const v=this._register(new L.DisposableStore),b=this._register(new s.ClickLinkGesture(this._editor,{extractLineNumberFromMouseEvent:I=>{const M=this._stickyScrollWidget.getEditorPositionFromNode(I.target.element);return M?M.lineNumber:0}})),w=I=>{if(!this._editor.hasModel()||I.target.type!==12||I.target.detail!==this._stickyScrollWidget.getId())return null;const M=I.target.element;if(!M||M.innerText!==M.innerHTML)return null;const P=this._stickyScrollWidget.getEditorPositionFromNode(M);return P?{range:new i.Range(P.lineNumber,P.column,P.lineNumber,P.column+M.innerText.length),textElement:M}:null},E=this._stickyScrollWidget.getDomNode();this._register(c.addStandardDisposableListener(E,c.EventType.CLICK,I=>{if(I.ctrlKey||I.altKey||I.metaKey||!I.leftButton)return;if(I.shiftKey){const P=this._stickyScrollWidget.getStickyLineIndexFromChildDomNode(I.target);if(P===null)return;const x=new a.Position(this._endLineNumbers[P],1);this._revealLineInCenterIfOutsideViewport(x);return}let M=this._stickyScrollWidget.getEditorPositionFromNode(I.target);if(!M){const P=this._stickyScrollWidget.getLineNumberFromChildDomNode(I.target);if(P===null)return;M=new a.Position(P,1)}this._revealPosition(M)})),this._register(c.addStandardDisposableListener(E,c.EventType.MOUSE_MOVE,I=>{if(I.shiftKey){const M=this._stickyScrollWidget.getStickyLineIndexFromChildDomNode(I.target);if(M===null||this._showEndForLine!==null&&this._showEndForLine===M)return;this._showEndForLine=M,this._renderStickyScroll();return}this._showEndForLine!==null&&(this._showEndForLine=null,this._renderStickyScroll())})),this._register(c.addDisposableListener(E,c.EventType.MOUSE_LEAVE,I=>{this._showEndForLine!==null&&(this._showEndForLine=null,this._renderStickyScroll())})),this._register(b.onMouseMoveOrRelevantKeyDown(([I,M])=>{const P=w(I);if(!P||!I.hasTriggerModifier||!this._editor.hasModel()){v.clear();return}const{range:x,textElement:T}=P;if(!x.equalsRange(this._stickyRangeProjectedOnEditor))this._stickyRangeProjectedOnEditor=x,v.clear();else if(T.style.textDecoration==="underline")return;const A=new u.CancellationTokenSource;v.add((0,L.toDisposable)(()=>A.dispose(!0)));let N;(0,n.getDefinitionsAtPosition)(this._languageFeaturesService.definitionProvider,this._editor.getModel(),new a.Position(x.startLineNumber,x.startColumn+1),A.token).then(F=>{if(!A.token.isCancellationRequested)if(F.length!==0){this._candidateDefinitionsLength=F.length;const O=T;N!==O?(v.clear(),N=O,N.style.textDecoration="underline",v.add((0,L.toDisposable)(()=>{N.style.textDecoration="none"}))):N||(N=O,N.style.textDecoration="underline",v.add((0,L.toDisposable)(()=>{N.style.textDecoration="none"})))}else v.clear()})})),this._register(b.onCancel(()=>{v.clear()})),this._register(b.onExecute(I=>we(this,void 0,void 0,function*(){if(I.target.type!==12||I.target.detail!==this._stickyScrollWidget.getId())return;const M=this._stickyScrollWidget.getEditorPositionFromNode(I.target.element);M&&(this._candidateDefinitionsLength>1&&(this._focused&&this._disposeFocusStickyScrollStore(),this._revealPosition({lineNumber:M.lineNumber,column:1})),this._instaService.invokeFunction(t.goToDefinitionWithLocation,I,this._editor,{uri:this._editor.getModel().uri,range:this._stickyRangeProjectedOnEditor}))})))}_onContextMenu(v){const b=new d.StandardMouseEvent(v);this._contextMenuService.showContextMenu({menuId:_.MenuId.StickyScrollContext,getAnchor:()=>b})}_readConfiguration(){const v=this._editor.getOption(113);if(v.enabled===!1){this._editor.removeOverlayWidget(this._stickyScrollWidget),this._sessionStore.clear(),this._enabled=!1;return}else v.enabled&&!this._enabled&&(this._editor.addOverlayWidget(this._stickyScrollWidget),this._sessionStore.add(this._editor.onDidScrollChange(w=>{w.scrollTopChanged&&(this._showEndForLine=null,this._renderStickyScroll())})),this._sessionStore.add(this._editor.onDidLayoutChange(()=>this._onDidResize())),this._sessionStore.add(this._editor.onDidChangeModelTokens(w=>this._onTokensChange(w))),this._sessionStore.add(this._stickyLineCandidateProvider.onDidChangeStickyScroll(()=>{this._showEndForLine=null,this._renderStickyScroll()})),this._enabled=!0);this._editor.getOption(66).renderType===2&&this._sessionStore.add(this._editor.onDidChangeCursorPosition(()=>{this._showEndForLine=null,this._renderStickyScroll()}))}_needsUpdate(v){const b=this._stickyScrollWidget.getCurrentLines();for(const w of b)for(const E of v.ranges)if(w>=E.fromLineNumber&&w<=E.toLineNumber)return!0;return!1}_onTokensChange(v){this._needsUpdate(v)&&this._renderStickyScroll()}_onDidResize(){const b=this._editor.getLayoutInfo().height/this._editor.getOption(65);this._maxStickyLines=Math.round(b*.25)}_renderStickyScroll(){const v=this._editor.getModel();if(!v||v.isTooLargeForTokenization()){this._stickyScrollWidget.setState(void 0);return}const b=this._stickyLineCandidateProvider.getVersionId();if(b===void 0||b===v.getVersionId())if(this._widgetState=this.findScrollWidgetState(),this._stickyScrollVisibleContextKey.set(this._widgetState.startLineNumbers.length!==0),!this._focused)this._stickyScrollWidget.setState(this._widgetState);else if(this._focusedStickyElementIndex===-1)this._stickyScrollWidget.setState(this._widgetState),this._focusedStickyElementIndex=this._stickyScrollWidget.lineNumberCount-1,this._focusedStickyElementIndex!==-1&&this._stickyScrollWidget.focusLineWithIndex(this._focusedStickyElementIndex);else{const w=this._stickyScrollWidget.lineNumbers[this._focusedStickyElementIndex];this._stickyScrollWidget.setState(this._widgetState),this._stickyScrollWidget.lineNumberCount===0?this._focusedStickyElementIndex=-1:(this._stickyScrollWidget.lineNumbers.includes(w)||(this._focusedStickyElementIndex=this._stickyScrollWidget.lineNumberCount-1),this._stickyScrollWidget.focusLineWithIndex(this._focusedStickyElementIndex))}}findScrollWidgetState(){const v=this._editor.getOption(65),b=Math.min(this._maxStickyLines,this._editor.getOption(113).maxLineCount),w=this._editor.getScrollTop();let E=0;const I=[],M=[],P=this._editor.getVisibleRanges();if(P.length!==0){const x=new o.StickyRange(P[0].startLineNumber,P[P.length-1].endLineNumber),T=this._stickyLineCandidateProvider.getCandidateStickyLinesIntersecting(x);for(const A of T){const N=A.startLineNumber,F=A.endLineNumber,O=A.nestingDepth;if(F-N>0){const W=(O-1)*v,U=O*v,j=this._editor.getBottomForLineNumber(N)-w,R=this._editor.getTopForLineNumber(F)-w,K=this._editor.getBottomForLineNumber(F)-w;if(W>R&&W<=K){I.push(N),M.push(F+1),E=K-U;break}else U>j&&U<=K&&(I.push(N),M.push(F+1));if(I.length===b)break}}}return this._endLineNumbers=M,new y.StickyScrollWidgetState(I,M,E,this._showEndForLine)}dispose(){super.dispose(),this._sessionStore.dispose()}};e.StickyScrollController=p,p.ID="store.contrib.stickyScrollController",e.StickyScrollController=p=l=ke([fe(1,f.IContextMenuService),fe(2,k.ILanguageFeaturesService),fe(3,S.IInstantiationService),fe(4,h.ILanguageConfigurationService),fe(5,r.ILanguageFeatureDebounceService),fe(6,g.IContextKeyService)],p)}),define(ne[905],se([1,0,16,699,741,30,28,15,21,375]),function(Q,e,L,k,y,D,S,f,_,g){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.SelectEditor=e.GoToStickyScrollLine=e.SelectPreviousStickyScrollLine=e.SelectNextStickyScrollLine=e.FocusStickyScroll=e.ToggleStickyScroll=void 0;class C extends D.Action2{constructor(){super({id:"editor.action.toggleStickyScroll",title:{value:(0,k.localize)(0,null),mnemonicTitle:(0,k.localize)(1,null),original:"Toggle Sticky Scroll"},category:y.Categories.View,toggled:{condition:f.ContextKeyExpr.equals("config.editor.stickyScroll.enabled",!0),title:(0,k.localize)(2,null),mnemonicTitle:(0,k.localize)(3,null)},menu:[{id:D.MenuId.CommandPalette},{id:D.MenuId.MenubarAppearanceMenu,group:"4_editor",order:3},{id:D.MenuId.StickyScrollContext}]})}run(r){return we(this,void 0,void 0,function*(){const c=r.get(S.IConfigurationService),o=!c.getValue("editor.stickyScroll.enabled");return c.updateValue("editor.stickyScroll.enabled",o)})}}e.ToggleStickyScroll=C;const s=100;class i extends L.EditorAction2{constructor(){super({id:"editor.action.focusStickyScroll",title:{value:(0,k.localize)(4,null),mnemonicTitle:(0,k.localize)(5,null),original:"Focus Sticky Scroll"},precondition:f.ContextKeyExpr.and(f.ContextKeyExpr.has("config.editor.stickyScroll.enabled"),_.EditorContextKeys.stickyScrollVisible),menu:[{id:D.MenuId.CommandPalette}]})}runEditorCommand(r,c){var o;(o=g.StickyScrollController.get(c))===null||o===void 0||o.focus()}}e.FocusStickyScroll=i;class n extends L.EditorAction2{constructor(){super({id:"editor.action.selectNextStickyScrollLine",title:{value:(0,k.localize)(6,null),original:"Select next sticky scroll line"},precondition:_.EditorContextKeys.stickyScrollFocused.isEqualTo(!0),keybinding:{weight:s,primary:18}})}runEditorCommand(r,c){var o;(o=g.StickyScrollController.get(c))===null||o===void 0||o.focusNext()}}e.SelectNextStickyScrollLine=n;class t extends L.EditorAction2{constructor(){super({id:"editor.action.selectPreviousStickyScrollLine",title:{value:(0,k.localize)(7,null),original:"Select previous sticky scroll line"},precondition:_.EditorContextKeys.stickyScrollFocused.isEqualTo(!0),keybinding:{weight:s,primary:16}})}runEditorCommand(r,c){var o;(o=g.StickyScrollController.get(c))===null||o===void 0||o.focusPrevious()}}e.SelectPreviousStickyScrollLine=t;class a extends L.EditorAction2{constructor(){super({id:"editor.action.goToFocusedStickyScrollLine",title:{value:(0,k.localize)(8,null),original:"Go to focused sticky scroll line"},precondition:_.EditorContextKeys.stickyScrollFocused.isEqualTo(!0),keybinding:{weight:s,primary:3}})}runEditorCommand(r,c){var o;(o=g.StickyScrollController.get(c))===null||o===void 0||o.goToFocused()}}e.GoToStickyScrollLine=a;class u extends L.EditorAction2{constructor(){super({id:"editor.action.selectEditor",title:{value:(0,k.localize)(9,null),original:"Select Editor"},precondition:_.EditorContextKeys.stickyScrollFocused.isEqualTo(!0),keybinding:{weight:s,primary:9}})}runEditorCommand(r,c){var o;(o=g.StickyScrollController.get(c))===null||o===void 0||o.selectEditor()}}e.SelectEditor=u}),define(ne[906],se([1,0,16,905,375,30]),function(Q,e,L,k,y,D){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),(0,L.registerEditorContribution)(y.StickyScrollController.ID,y.StickyScrollController,1),(0,D.registerAction2)(k.ToggleStickyScroll),(0,D.registerAction2)(k.FocusStickyScroll),(0,D.registerAction2)(k.SelectPreviousStickyScrollLine),(0,D.registerAction2)(k.SelectNextStickyScrollLine),(0,D.registerAction2)(k.GoToStickyScrollLine),(0,D.registerAction2)(k.SelectEditor)}),define(ne[907],se([1,0,16,33,370,28,15,8,43,87]),function(Q,e,L,k,y,D,S,f,_,g){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.StandaloneReferencesController=void 0;let C=class extends y.ReferencesController{constructor(i,n,t,a,u,h,r){super(!0,i,n,t,a,u,h,r)}};e.StandaloneReferencesController=C,e.StandaloneReferencesController=C=ke([fe(1,S.IContextKeyService),fe(2,k.ICodeEditorService),fe(3,_.INotificationService),fe(4,f.IInstantiationService),fe(5,g.IStorageService),fe(6,D.IConfigurationService)],C),(0,L.registerEditorContribution)(y.ReferencesController.ID,C,4)}),define(ne[908],se([1,0,9,2,54,101,738,156,50,43,192]),function(Q,e,L,k,y,D,S,f,_,g,C){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.UndoRedoService=void 0;const s=!1;function i(p){return p.scheme===y.Schemas.file?p.fsPath:p.path}let n=0;class t{constructor(m,v,b,w,E,I,M){this.id=++n,this.type=0,this.actual=m,this.label=m.label,this.confirmBeforeUndo=m.confirmBeforeUndo||!1,this.resourceLabel=v,this.strResource=b,this.resourceLabels=[this.resourceLabel],this.strResources=[this.strResource],this.groupId=w,this.groupOrder=E,this.sourceId=I,this.sourceOrder=M,this.isValid=!0}setValid(m){this.isValid=m}toString(){return`[id:${this.id}] [group:${this.groupId}] [${this.isValid?"  VALID":"INVALID"}] ${this.actual.constructor.name} - ${this.actual}`}}class a{constructor(m,v){this.resourceLabel=m,this.reason=v}}class u{constructor(){this.elements=new Map}createMessage(){const m=[],v=[];for(const[,w]of this.elements)(w.reason===0?m:v).push(w.resourceLabel);const b=[];return m.length>0&&b.push(S.localize(0,null,m.join(", "))),v.length>0&&b.push(S.localize(1,null,v.join(", "))),b.join(`
`)}get size(){return this.elements.size}has(m){return this.elements.has(m)}set(m,v){this.elements.set(m,v)}delete(m){return this.elements.delete(m)}}class h{constructor(m,v,b,w,E,I,M){this.id=++n,this.type=1,this.actual=m,this.label=m.label,this.confirmBeforeUndo=m.confirmBeforeUndo||!1,this.resourceLabels=v,this.strResources=b,this.groupId=w,this.groupOrder=E,this.sourceId=I,this.sourceOrder=M,this.removedResources=null,this.invalidatedResources=null}canSplit(){return typeof this.actual.split=="function"}removeResource(m,v,b){this.removedResources||(this.removedResources=new u),this.removedResources.has(v)||this.removedResources.set(v,new a(m,b))}setValid(m,v,b){b?this.invalidatedResources&&(this.invalidatedResources.delete(v),this.invalidatedResources.size===0&&(this.invalidatedResources=null)):(this.invalidatedResources||(this.invalidatedResources=new u),this.invalidatedResources.has(v)||this.invalidatedResources.set(v,new a(m,0)))}toString(){return`[id:${this.id}] [group:${this.groupId}] [${this.invalidatedResources?"INVALID":"  VALID"}] ${this.actual.constructor.name} - ${this.actual}`}}class r{constructor(m,v){this.resourceLabel=m,this.strResource=v,this._past=[],this._future=[],this.locked=!1,this.versionId=1}dispose(){for(const m of this._past)m.type===1&&m.removeResource(this.resourceLabel,this.strResource,0);for(const m of this._future)m.type===1&&m.removeResource(this.resourceLabel,this.strResource,0);this.versionId++}toString(){const m=[];m.push(`* ${this.strResource}:`);for(let v=0;v<this._past.length;v++)m.push(`   * [UNDO] ${this._past[v]}`);for(let v=this._future.length-1;v>=0;v--)m.push(`   * [REDO] ${this._future[v]}`);return m.join(`
`)}flushAllElements(){this._past=[],this._future=[],this.versionId++}_setElementValidFlag(m,v){m.type===1?m.setValid(this.resourceLabel,this.strResource,v):m.setValid(v)}setElementsValidFlag(m,v){for(const b of this._past)v(b.actual)&&this._setElementValidFlag(b,m);for(const b of this._future)v(b.actual)&&this._setElementValidFlag(b,m)}pushElement(m){for(const v of this._future)v.type===1&&v.removeResource(this.resourceLabel,this.strResource,1);this._future=[],this._past.push(m),this.versionId++}createSnapshot(m){const v=[];for(let b=0,w=this._past.length;b<w;b++)v.push(this._past[b].id);for(let b=this._future.length-1;b>=0;b--)v.push(this._future[b].id);return new C.ResourceEditStackSnapshot(m,v)}restoreSnapshot(m){const v=m.elements.length;let b=!0,w=0,E=-1;for(let M=0,P=this._past.length;M<P;M++,w++){const x=this._past[M];b&&(w>=v||x.id!==m.elements[w])&&(b=!1,E=0),!b&&x.type===1&&x.removeResource(this.resourceLabel,this.strResource,0)}let I=-1;for(let M=this._future.length-1;M>=0;M--,w++){const P=this._future[M];b&&(w>=v||P.id!==m.elements[w])&&(b=!1,I=M),!b&&P.type===1&&P.removeResource(this.resourceLabel,this.strResource,0)}E!==-1&&(this._past=this._past.slice(0,E)),I!==-1&&(this._future=this._future.slice(I+1)),this.versionId++}getElements(){const m=[],v=[];for(const b of this._past)m.push(b.actual);for(const b of this._future)v.push(b.actual);return{past:m,future:v}}getClosestPastElement(){return this._past.length===0?null:this._past[this._past.length-1]}getSecondClosestPastElement(){return this._past.length<2?null:this._past[this._past.length-2]}getClosestFutureElement(){return this._future.length===0?null:this._future[this._future.length-1]}hasPastElements(){return this._past.length>0}hasFutureElements(){return this._future.length>0}splitPastWorkspaceElement(m,v){for(let b=this._past.length-1;b>=0;b--)if(this._past[b]===m){v.has(this.strResource)?this._past[b]=v.get(this.strResource):this._past.splice(b,1);break}this.versionId++}splitFutureWorkspaceElement(m,v){for(let b=this._future.length-1;b>=0;b--)if(this._future[b]===m){v.has(this.strResource)?this._future[b]=v.get(this.strResource):this._future.splice(b,1);break}this.versionId++}moveBackward(m){this._past.pop(),this._future.push(m),this.versionId++}moveForward(m){this._future.pop(),this._past.push(m),this.versionId++}}class c{constructor(m){this.editStacks=m,this._versionIds=[];for(let v=0,b=this.editStacks.length;v<b;v++)this._versionIds[v]=this.editStacks[v].versionId}isValid(){for(let m=0,v=this.editStacks.length;m<v;m++)if(this._versionIds[m]!==this.editStacks[m].versionId)return!1;return!0}}const o=new r("","");o.locked=!0;let d=class{constructor(m,v){this._dialogService=m,this._notificationService=v,this._editStacks=new Map,this._uriComparisonKeyComputers=[]}getUriComparisonKey(m){for(const v of this._uriComparisonKeyComputers)if(v[0]===m.scheme)return v[1].getComparisonKey(m);return m.toString()}_print(m){console.log("------------------------------------"),console.log(`AFTER ${m}: `);const v=[];for(const b of this._editStacks)v.push(b[1].toString());console.log(v.join(`
`))}pushElement(m,v=C.UndoRedoGroup.None,b=C.UndoRedoSource.None){if(m.type===0){const w=i(m.resource),E=this.getUriComparisonKey(m.resource);this._pushElement(new t(m,w,E,v.id,v.nextOrder(),b.id,b.nextOrder()))}else{const w=new Set,E=[],I=[];for(const M of m.resources){const P=i(M),x=this.getUriComparisonKey(M);w.has(x)||(w.add(x),E.push(P),I.push(x))}E.length===1?this._pushElement(new t(m,E[0],I[0],v.id,v.nextOrder(),b.id,b.nextOrder())):this._pushElement(new h(m,E,I,v.id,v.nextOrder(),b.id,b.nextOrder()))}s&&this._print("pushElement")}_pushElement(m){for(let v=0,b=m.strResources.length;v<b;v++){const w=m.resourceLabels[v],E=m.strResources[v];let I;this._editStacks.has(E)?I=this._editStacks.get(E):(I=new r(w,E),this._editStacks.set(E,I)),I.pushElement(m)}}getLastElement(m){const v=this.getUriComparisonKey(m);if(this._editStacks.has(v)){const b=this._editStacks.get(v);if(b.hasFutureElements())return null;const w=b.getClosestPastElement();return w?w.actual:null}return null}_splitPastWorkspaceElement(m,v){const b=m.actual.split(),w=new Map;for(const E of b){const I=i(E.resource),M=this.getUriComparisonKey(E.resource),P=new t(E,I,M,0,0,0,0);w.set(P.strResource,P)}for(const E of m.strResources){if(v&&v.has(E))continue;this._editStacks.get(E).splitPastWorkspaceElement(m,w)}}_splitFutureWorkspaceElement(m,v){const b=m.actual.split(),w=new Map;for(const E of b){const I=i(E.resource),M=this.getUriComparisonKey(E.resource),P=new t(E,I,M,0,0,0,0);w.set(P.strResource,P)}for(const E of m.strResources){if(v&&v.has(E))continue;this._editStacks.get(E).splitFutureWorkspaceElement(m,w)}}removeElements(m){const v=typeof m=="string"?m:this.getUriComparisonKey(m);this._editStacks.has(v)&&(this._editStacks.get(v).dispose(),this._editStacks.delete(v)),s&&this._print("removeElements")}setElementsValidFlag(m,v,b){const w=this.getUriComparisonKey(m);this._editStacks.has(w)&&this._editStacks.get(w).setElementsValidFlag(v,b),s&&this._print("setElementsValidFlag")}createSnapshot(m){const v=this.getUriComparisonKey(m);return this._editStacks.has(v)?this._editStacks.get(v).createSnapshot(m):new C.ResourceEditStackSnapshot(m,[])}restoreSnapshot(m){const v=this.getUriComparisonKey(m.resource);if(this._editStacks.has(v)){const b=this._editStacks.get(v);b.restoreSnapshot(m),!b.hasPastElements()&&!b.hasFutureElements()&&(b.dispose(),this._editStacks.delete(v))}s&&this._print("restoreSnapshot")}getElements(m){const v=this.getUriComparisonKey(m);return this._editStacks.has(v)?this._editStacks.get(v).getElements():{past:[],future:[]}}_findClosestUndoElementWithSource(m){if(!m)return[null,null];let v=null,b=null;for(const[w,E]of this._editStacks){const I=E.getClosestPastElement();I&&I.sourceId===m&&(!v||I.sourceOrder>v.sourceOrder)&&(v=I,b=w)}return[v,b]}canUndo(m){if(m instanceof C.UndoRedoSource){const[,b]=this._findClosestUndoElementWithSource(m.id);return!!b}const v=this.getUriComparisonKey(m);return this._editStacks.has(v)?this._editStacks.get(v).hasPastElements():!1}_onError(m,v){(0,L.onUnexpectedError)(m);for(const b of v.strResources)this.removeElements(b);this._notificationService.error(m)}_acquireLocks(m){for(const v of m.editStacks)if(v.locked)throw new Error("Cannot acquire edit stack lock");for(const v of m.editStacks)v.locked=!0;return()=>{for(const v of m.editStacks)v.locked=!1}}_safeInvokeWithLocks(m,v,b,w,E){const I=this._acquireLocks(b);let M;try{M=v()}catch(P){return I(),w.dispose(),this._onError(P,m)}return M?M.then(()=>(I(),w.dispose(),E()),P=>(I(),w.dispose(),this._onError(P,m))):(I(),w.dispose(),E())}_invokeWorkspacePrepare(m){return we(this,void 0,void 0,function*(){if(typeof m.actual.prepareUndoRedo>"u")return k.Disposable.None;const v=m.actual.prepareUndoRedo();return typeof v>"u"?k.Disposable.None:v})}_invokeResourcePrepare(m,v){if(m.actual.type!==1||typeof m.actual.prepareUndoRedo>"u")return v(k.Disposable.None);const b=m.actual.prepareUndoRedo();return b?(0,k.isDisposable)(b)?v(b):b.then(w=>v(w)):v(k.Disposable.None)}_getAffectedEditStacks(m){const v=[];for(const b of m.strResources)v.push(this._editStacks.get(b)||o);return new c(v)}_tryToSplitAndUndo(m,v,b,w){if(v.canSplit())return this._splitPastWorkspaceElement(v,b),this._notificationService.warn(w),new l(this._undo(m,0,!0));for(const E of v.strResources)this.removeElements(E);return this._notificationService.warn(w),new l}_checkWorkspaceUndo(m,v,b,w){if(v.removedResources)return this._tryToSplitAndUndo(m,v,v.removedResources,S.localize(2,null,v.label,v.removedResources.createMessage()));if(w&&v.invalidatedResources)return this._tryToSplitAndUndo(m,v,v.invalidatedResources,S.localize(3,null,v.label,v.invalidatedResources.createMessage()));const E=[];for(const M of b.editStacks)M.getClosestPastElement()!==v&&E.push(M.resourceLabel);if(E.length>0)return this._tryToSplitAndUndo(m,v,null,S.localize(4,null,v.label,E.join(", ")));const I=[];for(const M of b.editStacks)M.locked&&I.push(M.resourceLabel);return I.length>0?this._tryToSplitAndUndo(m,v,null,S.localize(5,null,v.label,I.join(", "))):b.isValid()?null:this._tryToSplitAndUndo(m,v,null,S.localize(6,null,v.label))}_workspaceUndo(m,v,b){const w=this._getAffectedEditStacks(v),E=this._checkWorkspaceUndo(m,v,w,!1);return E?E.returnValue:this._confirmAndExecuteWorkspaceUndo(m,v,w,b)}_isPartOfUndoGroup(m){if(!m.groupId)return!1;for(const[,v]of this._editStacks){const b=v.getClosestPastElement();if(b){if(b===m){const w=v.getSecondClosestPastElement();if(w&&w.groupId===m.groupId)return!0}if(b.groupId===m.groupId)return!0}}return!1}_confirmAndExecuteWorkspaceUndo(m,v,b,w){return we(this,void 0,void 0,function*(){if(v.canSplit()&&!this._isPartOfUndoGroup(v)){let M;(function(T){T[T.All=0]="All",T[T.This=1]="This",T[T.Cancel=2]="Cancel"})(M||(M={}));const{result:P}=yield this._dialogService.prompt({type:D.default.Info,message:S.localize(7,null,v.label),buttons:[{label:S.localize(8,null,b.editStacks.length),run:()=>M.All},{label:S.localize(9,null),run:()=>M.This}],cancelButton:{run:()=>M.Cancel}});if(P===M.Cancel)return;if(P===M.This)return this._splitPastWorkspaceElement(v,null),this._undo(m,0,!0);const x=this._checkWorkspaceUndo(m,v,b,!1);if(x)return x.returnValue;w=!0}let E;try{E=yield this._invokeWorkspacePrepare(v)}catch(M){return this._onError(M,v)}const I=this._checkWorkspaceUndo(m,v,b,!0);if(I)return E.dispose(),I.returnValue;for(const M of b.editStacks)M.moveBackward(v);return this._safeInvokeWithLocks(v,()=>v.actual.undo(),b,E,()=>this._continueUndoInGroup(v.groupId,w))})}_resourceUndo(m,v,b){if(!v.isValid){m.flushAllElements();return}if(m.locked){const w=S.localize(10,null,v.label);this._notificationService.warn(w);return}return this._invokeResourcePrepare(v,w=>(m.moveBackward(v),this._safeInvokeWithLocks(v,()=>v.actual.undo(),new c([m]),w,()=>this._continueUndoInGroup(v.groupId,b))))}_findClosestUndoElementInGroup(m){if(!m)return[null,null];let v=null,b=null;for(const[w,E]of this._editStacks){const I=E.getClosestPastElement();I&&I.groupId===m&&(!v||I.groupOrder>v.groupOrder)&&(v=I,b=w)}return[v,b]}_continueUndoInGroup(m,v){if(!m)return;const[,b]=this._findClosestUndoElementInGroup(m);if(b)return this._undo(b,0,v)}undo(m){if(m instanceof C.UndoRedoSource){const[,v]=this._findClosestUndoElementWithSource(m.id);return v?this._undo(v,m.id,!1):void 0}return typeof m=="string"?this._undo(m,0,!1):this._undo(this.getUriComparisonKey(m),0,!1)}_undo(m,v=0,b){if(!this._editStacks.has(m))return;const w=this._editStacks.get(m),E=w.getClosestPastElement();if(!E)return;if(E.groupId){const[M,P]=this._findClosestUndoElementInGroup(E.groupId);if(E!==M&&P)return this._undo(P,v,b)}if((E.sourceId!==v||E.confirmBeforeUndo)&&!b)return this._confirmAndContinueUndo(m,v,E);try{return E.type===1?this._workspaceUndo(m,E,b):this._resourceUndo(w,E,b)}finally{s&&this._print("undo")}}_confirmAndContinueUndo(m,v,b){return we(this,void 0,void 0,function*(){if((yield this._dialogService.confirm({message:S.localize(11,null,b.label),primaryButton:S.localize(12,null),cancelButton:S.localize(13,null)})).confirmed)return this._undo(m,v,!0)})}_findClosestRedoElementWithSource(m){if(!m)return[null,null];let v=null,b=null;for(const[w,E]of this._editStacks){const I=E.getClosestFutureElement();I&&I.sourceId===m&&(!v||I.sourceOrder<v.sourceOrder)&&(v=I,b=w)}return[v,b]}canRedo(m){if(m instanceof C.UndoRedoSource){const[,b]=this._findClosestRedoElementWithSource(m.id);return!!b}const v=this.getUriComparisonKey(m);return this._editStacks.has(v)?this._editStacks.get(v).hasFutureElements():!1}_tryToSplitAndRedo(m,v,b,w){if(v.canSplit())return this._splitFutureWorkspaceElement(v,b),this._notificationService.warn(w),new l(this._redo(m));for(const E of v.strResources)this.removeElements(E);return this._notificationService.warn(w),new l}_checkWorkspaceRedo(m,v,b,w){if(v.removedResources)return this._tryToSplitAndRedo(m,v,v.removedResources,S.localize(14,null,v.label,v.removedResources.createMessage()));if(w&&v.invalidatedResources)return this._tryToSplitAndRedo(m,v,v.invalidatedResources,S.localize(15,null,v.label,v.invalidatedResources.createMessage()));const E=[];for(const M of b.editStacks)M.getClosestFutureElement()!==v&&E.push(M.resourceLabel);if(E.length>0)return this._tryToSplitAndRedo(m,v,null,S.localize(16,null,v.label,E.join(", ")));const I=[];for(const M of b.editStacks)M.locked&&I.push(M.resourceLabel);return I.length>0?this._tryToSplitAndRedo(m,v,null,S.localize(17,null,v.label,I.join(", "))):b.isValid()?null:this._tryToSplitAndRedo(m,v,null,S.localize(18,null,v.label))}_workspaceRedo(m,v){const b=this._getAffectedEditStacks(v),w=this._checkWorkspaceRedo(m,v,b,!1);return w?w.returnValue:this._executeWorkspaceRedo(m,v,b)}_executeWorkspaceRedo(m,v,b){return we(this,void 0,void 0,function*(){let w;try{w=yield this._invokeWorkspacePrepare(v)}catch(I){return this._onError(I,v)}const E=this._checkWorkspaceRedo(m,v,b,!0);if(E)return w.dispose(),E.returnValue;for(const I of b.editStacks)I.moveForward(v);return this._safeInvokeWithLocks(v,()=>v.actual.redo(),b,w,()=>this._continueRedoInGroup(v.groupId))})}_resourceRedo(m,v){if(!v.isValid){m.flushAllElements();return}if(m.locked){const b=S.localize(19,null,v.label);this._notificationService.warn(b);return}return this._invokeResourcePrepare(v,b=>(m.moveForward(v),this._safeInvokeWithLocks(v,()=>v.actual.redo(),new c([m]),b,()=>this._continueRedoInGroup(v.groupId))))}_findClosestRedoElementInGroup(m){if(!m)return[null,null];let v=null,b=null;for(const[w,E]of this._editStacks){const I=E.getClosestFutureElement();I&&I.groupId===m&&(!v||I.groupOrder<v.groupOrder)&&(v=I,b=w)}return[v,b]}_continueRedoInGroup(m){if(!m)return;const[,v]=this._findClosestRedoElementInGroup(m);if(v)return this._redo(v)}redo(m){if(m instanceof C.UndoRedoSource){const[,v]=this._findClosestRedoElementWithSource(m.id);return v?this._redo(v):void 0}return typeof m=="string"?this._redo(m):this._redo(this.getUriComparisonKey(m))}_redo(m){if(!this._editStacks.has(m))return;const v=this._editStacks.get(m),b=v.getClosestFutureElement();if(b){if(b.groupId){const[w,E]=this._findClosestRedoElementInGroup(b.groupId);if(b!==w&&E)return this._redo(E)}try{return b.type===1?this._workspaceRedo(m,b):this._resourceRedo(v,b)}finally{s&&this._print("redo")}}}};e.UndoRedoService=d,e.UndoRedoService=d=ke([fe(0,f.IDialogService),fe(1,g.INotificationService)],d);class l{constructor(m){this.returnValue=m}}(0,_.registerSingleton)(C.IUndoRedoService,d,1)}),define(ne[163],se([1,0,739,92,198,22,8]),function(Q,e,L,k,y,D,S){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.isStandaloneEditorWorkspace=e.STANDALONE_EDITOR_WORKSPACE_ID=e.WORKSPACE_FILTER=e.WORKSPACE_EXTENSION=e.WorkspaceFolder=e.Workspace=e.isWorkspaceIdentifier=e.toWorkspaceIdentifier=e.UNKNOWN_EMPTY_WINDOW_WORKSPACE=e.EXTENSION_DEVELOPMENT_EMPTY_WINDOW_WORKSPACE=e.isEmptyWorkspaceIdentifier=e.isSingleFolderWorkspaceIdentifier=e.IWorkspaceContextService=void 0,e.IWorkspaceContextService=(0,S.createDecorator)("contextService");function f(t){const a=t;return typeof a?.id=="string"&&D.URI.isUri(a.uri)}e.isSingleFolderWorkspaceIdentifier=f;function _(t){const a=t;return typeof a?.id=="string"&&!f(t)&&!C(t)}e.isEmptyWorkspaceIdentifier=_,e.EXTENSION_DEVELOPMENT_EMPTY_WINDOW_WORKSPACE={id:"ext-dev"},e.UNKNOWN_EMPTY_WINDOW_WORKSPACE={id:"empty-window"};function g(t,a){if(typeof t=="string"||typeof t>"u")return typeof t=="string"?{id:(0,k.basename)(t)}:a?e.EXTENSION_DEVELOPMENT_EMPTY_WINDOW_WORKSPACE:e.UNKNOWN_EMPTY_WINDOW_WORKSPACE;const u=t;return u.configuration?{id:u.id,configPath:u.configuration}:u.folders.length===1?{id:u.id,uri:u.folders[0].uri}:{id:u.id}}e.toWorkspaceIdentifier=g;function C(t){const a=t;return typeof a?.id=="string"&&D.URI.isUri(a.configPath)}e.isWorkspaceIdentifier=C;class s{constructor(a,u,h,r,c){this._id=a,this._transient=h,this._configuration=r,this._ignorePathCasing=c,this._foldersMap=y.TernarySearchTree.forUris(this._ignorePathCasing,()=>!0),this.folders=u}get folders(){return this._folders}set folders(a){this._folders=a,this.updateFoldersMap()}get id(){return this._id}get transient(){return this._transient}get configuration(){return this._configuration}set configuration(a){this._configuration=a}getFolder(a){return a&&this._foldersMap.findSubstr(a)||null}updateFoldersMap(){this._foldersMap=y.TernarySearchTree.forUris(this._ignorePathCasing,()=>!0);for(const a of this.folders)this._foldersMap.set(a.uri,a)}toJSON(){return{id:this.id,folders:this.folders,transient:this.transient,configuration:this.configuration}}}e.Workspace=s;class i{constructor(a,u){this.raw=u,this.uri=a.uri,this.index=a.index,this.name=a.name}toJSON(){return{uri:this.uri,name:this.name,index:this.index}}}e.WorkspaceFolder=i,e.WORKSPACE_EXTENSION="code-workspace",e.WORKSPACE_FILTER=[{name:(0,L.localize)(0,null),extensions:[e.WORKSPACE_EXTENSION]}],e.STANDALONE_EDITOR_WORKSPACE_ID="4064f6ec-cb38-4ad0-af64-ee6467e63c82";function n(t){return t.id===e.STANDALONE_EDITOR_WORKSPACE_ID}e.isStandaloneEditorWorkspace=n}),define(ne[909],se([1,0,7,131,39,2,17,16,21,647,30,15,57,34,28,163]),function(Q,e,L,k,y,D,S,f,_,g,C,s,i,n,t,a){"use strict";var u;Object.defineProperty(e,"__esModule",{value:!0}),e.ContextMenuController=void 0;let h=u=class{static get(o){return o.getContribution(u.ID)}constructor(o,d,l,p,m,v,b,w){this._contextMenuService=d,this._contextViewService=l,this._contextKeyService=p,this._keybindingService=m,this._menuService=v,this._configurationService=b,this._workspaceContextService=w,this._toDispose=new D.DisposableStore,this._contextMenuIsBeingShownCount=0,this._editor=o,this._toDispose.add(this._editor.onContextMenu(E=>this._onContextMenu(E))),this._toDispose.add(this._editor.onMouseWheel(E=>{if(this._contextMenuIsBeingShownCount>0){const I=this._contextViewService.getContextViewElement(),M=E.srcElement;M.shadowRoot&&L.getShadowRoot(I)===M.shadowRoot||this._contextViewService.hideContextView()}})),this._toDispose.add(this._editor.onKeyDown(E=>{this._editor.getOption(23)&&E.keyCode===58&&(E.preventDefault(),E.stopPropagation(),this.showContextMenu())}))}_onContextMenu(o){if(!this._editor.hasModel())return;if(!this._editor.getOption(23)){this._editor.focus(),o.target.position&&!this._editor.getSelection().containsPosition(o.target.position)&&this._editor.setPosition(o.target.position);return}if(o.target.type===12||o.target.type===6&&o.target.detail.injectedText)return;if(o.event.preventDefault(),o.event.stopPropagation(),o.target.type===11)return this._showScrollbarContextMenu(o.event);if(o.target.type!==6&&o.target.type!==7&&o.target.type!==1)return;if(this._editor.focus(),o.target.position){let l=!1;for(const p of this._editor.getSelections())if(p.containsPosition(o.target.position)){l=!0;break}l||this._editor.setPosition(o.target.position)}let d=null;o.target.type!==1&&(d=o.event),this.showContextMenu(d)}showContextMenu(o){if(!this._editor.getOption(23)||!this._editor.hasModel())return;const d=this._getMenuActions(this._editor.getModel(),this._editor.isSimpleWidget?C.MenuId.SimpleEditorContext:C.MenuId.EditorContext);d.length>0&&this._doShowContextMenu(d,o)}_getMenuActions(o,d){const l=[],p=this._menuService.createMenu(d,this._contextKeyService),m=p.getActions({arg:o.uri});p.dispose();for(const v of m){const[,b]=v;let w=0;for(const E of b)if(E instanceof C.SubmenuItemAction){const I=this._getMenuActions(o,E.item.submenu);I.length>0&&(l.push(new y.SubmenuAction(E.id,E.label,I)),w++)}else l.push(E),w++;w&&l.push(new y.Separator)}return l.length&&l.pop(),l}_doShowContextMenu(o,d=null){if(!this._editor.hasModel())return;const l=this._editor.getOption(59);this._editor.updateOptions({hover:{enabled:!1}});let p=d;if(!p){this._editor.revealPosition(this._editor.getPosition(),1),this._editor.render();const v=this._editor.getScrolledVisiblePosition(this._editor.getPosition()),b=L.getDomNodePagePosition(this._editor.getDomNode()),w=b.left+v.left,E=b.top+v.top+v.height;p={x:w,y:E}}const m=this._editor.getOption(125)&&!S.isIOS;this._contextMenuIsBeingShownCount++,this._contextMenuService.showContextMenu({domForShadowRoot:m?this._editor.getDomNode():void 0,getAnchor:()=>p,getActions:()=>o,getActionViewItem:v=>{const b=this._keybindingFor(v);if(b)return new k.ActionViewItem(v,v,{label:!0,keybinding:b.getLabel(),isMenu:!0});const w=v;return typeof w.getActionViewItem=="function"?w.getActionViewItem():new k.ActionViewItem(v,v,{icon:!0,label:!0,isMenu:!0})},getKeyBinding:v=>this._keybindingFor(v),onHide:v=>{this._contextMenuIsBeingShownCount--,this._editor.updateOptions({hover:l})}})}_showScrollbarContextMenu(o){if(!this._editor.hasModel()||(0,a.isStandaloneEditorWorkspace)(this._workspaceContextService.getWorkspace()))return;const d=this._editor.getOption(71);let l=0;const p=E=>({id:`menu-action-${++l}`,label:E.label,tooltip:"",class:void 0,enabled:typeof E.enabled>"u"?!0:E.enabled,checked:E.checked,run:E.run}),m=(E,I)=>new y.SubmenuAction(`menu-action-${++l}`,E,I,void 0),v=(E,I,M,P,x)=>{if(!I)return p({label:E,enabled:I,run:()=>{}});const T=N=>()=>{this._configurationService.updateValue(M,N)},A=[];for(const N of x)A.push(p({label:N.label,checked:P===N.value,run:T(N.value)}));return m(E,A)},b=[];b.push(p({label:g.localize(0,null),checked:d.enabled,run:()=>{this._configurationService.updateValue("editor.minimap.enabled",!d.enabled)}})),b.push(new y.Separator),b.push(p({label:g.localize(1,null),enabled:d.enabled,checked:d.renderCharacters,run:()=>{this._configurationService.updateValue("editor.minimap.renderCharacters",!d.renderCharacters)}})),b.push(v(g.localize(2,null),d.enabled,"editor.minimap.size",d.size,[{label:g.localize(3,null),value:"proportional"},{label:g.localize(4,null),value:"fill"},{label:g.localize(5,null),value:"fit"}])),b.push(v(g.localize(6,null),d.enabled,"editor.minimap.showSlider",d.showSlider,[{label:g.localize(7,null),value:"mouseover"},{label:g.localize(8,null),value:"always"}]));const w=this._editor.getOption(125)&&!S.isIOS;this._contextMenuIsBeingShownCount++,this._contextMenuService.showContextMenu({domForShadowRoot:w?this._editor.getDomNode():void 0,getAnchor:()=>o,getActions:()=>b,onHide:E=>{this._contextMenuIsBeingShownCount--,this._editor.focus()}})}_keybindingFor(o){return this._keybindingService.lookupKeybinding(o.id)}dispose(){this._contextMenuIsBeingShownCount>0&&this._contextViewService.hideContextView(),this._toDispose.dispose()}};e.ContextMenuController=h,h.ID="editor.contrib.contextmenu",e.ContextMenuController=h=u=ke([fe(1,i.IContextMenuService),fe(2,i.IContextViewService),fe(3,s.IContextKeyService),fe(4,n.IKeybindingService),fe(5,C.IMenuService),fe(6,t.IConfigurationService),fe(7,a.IWorkspaceContextService)],h);class r extends f.EditorAction{constructor(){super({id:"editor.action.showContextMenu",label:g.localize(9,null),alias:"Show Editor Context Menu",precondition:void 0,kbOpts:{kbExpr:_.EditorContextKeys.textInputFocus,primary:1092,weight:100}})}run(o,d){var l;(l=h.get(d))===null||l===void 0||l.showContextMenu()}}(0,f.registerEditorContribution)(h.ID,h,2),(0,f.registerEditorAction)(r)}),define(ne[376],se([1,0,14,171,2,107,54,45,22,18,651,163]),function(Q,e,L,k,y,D,S,f,_,g,C,s){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.DefaultPasteProvidersFeature=e.DefaultDropProvidersFeature=void 0;const i=(0,C.localize)(0,null);class n{provideDocumentPasteEdits(d,l,p,m){return we(this,void 0,void 0,function*(){const v=yield this.getEdit(p,m);return v?{insertText:v.insertText,label:v.label,detail:v.detail,handledMimeType:v.handledMimeType,yieldTo:v.yieldTo}:void 0})}provideDocumentOnDropEdits(d,l,p,m){return we(this,void 0,void 0,function*(){const v=yield this.getEdit(p,m);return v?{insertText:v.insertText,label:v.label,handledMimeType:v.handledMimeType,yieldTo:v.yieldTo}:void 0})}}class t extends n{constructor(){super(...arguments),this.id="text",this.dropMimeTypes=[D.Mimes.text],this.pasteMimeTypes=[D.Mimes.text]}getEdit(d,l){return we(this,void 0,void 0,function*(){const p=d.get(D.Mimes.text);if(!p||d.has(D.Mimes.uriList))return;const m=yield p.asString();return{handledMimeType:D.Mimes.text,label:(0,C.localize)(1,null),detail:i,insertText:m}})}}class a extends n{constructor(){super(...arguments),this.id="uri",this.dropMimeTypes=[D.Mimes.uriList],this.pasteMimeTypes=[D.Mimes.uriList]}getEdit(d,l){return we(this,void 0,void 0,function*(){const p=yield h(d);if(!p.length||l.isCancellationRequested)return;let m=0;const v=p.map(({uri:w,originalText:E})=>w.scheme===S.Schemas.file?w.fsPath:(m++,E)).join(" ");let b;return m>0?b=p.length>1?(0,C.localize)(2,null):(0,C.localize)(3,null):b=p.length>1?(0,C.localize)(4,null):(0,C.localize)(5,null),{handledMimeType:D.Mimes.uriList,insertText:v,label:b,detail:i}})}}let u=class extends n{constructor(d){super(),this._workspaceContextService=d,this.id="relativePath",this.dropMimeTypes=[D.Mimes.uriList],this.pasteMimeTypes=[D.Mimes.uriList]}getEdit(d,l){return we(this,void 0,void 0,function*(){const p=yield h(d);if(!p.length||l.isCancellationRequested)return;const m=(0,L.coalesce)(p.map(({uri:v})=>{const b=this._workspaceContextService.getWorkspaceFolder(v);return b?(0,f.relativePath)(b.uri,v):void 0}));if(m.length)return{handledMimeType:D.Mimes.uriList,insertText:m.join(" "),label:p.length>1?(0,C.localize)(6,null):(0,C.localize)(7,null),detail:i}})}};u=ke([fe(0,s.IWorkspaceContextService)],u);function h(o){return we(this,void 0,void 0,function*(){const d=o.get(D.Mimes.uriList);if(!d)return[];const l=yield d.asString(),p=[];for(const m of k.UriList.parse(l))try{p.push({uri:_.URI.parse(m),originalText:m})}catch{}return p})}let r=class extends y.Disposable{constructor(d,l){super(),this._register(d.documentOnDropEditProvider.register("*",new t)),this._register(d.documentOnDropEditProvider.register("*",new a)),this._register(d.documentOnDropEditProvider.register("*",new u(l)))}};e.DefaultDropProvidersFeature=r,e.DefaultDropProvidersFeature=r=ke([fe(0,g.ILanguageFeaturesService),fe(1,s.IWorkspaceContextService)],r);let c=class extends y.Disposable{constructor(d,l){super(),this._register(d.documentPasteEditProvider.register("*",new t)),this._register(d.documentPasteEditProvider.register("*",new a)),this._register(d.documentPasteEditProvider.register("*",new u(l)))}};e.DefaultPasteProvidersFeature=c,e.DefaultPasteProvidersFeature=c=ke([fe(0,g.ILanguageFeaturesService),fe(1,s.IWorkspaceContextService)],c)}),define(ne[910],se([1,0,16,149,888,376,649]),function(Q,e,L,k,y,D,S){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),(0,L.registerEditorContribution)(y.CopyPasteController.ID,y.CopyPasteController,0),(0,k.registerEditorFeature)(D.DefaultPasteProvidersFeature),(0,L.registerEditorCommand)(new class extends L.EditorCommand{constructor(){super({id:y.changePasteTypeCommandId,precondition:y.pasteWidgetVisibleCtx,kbOpts:{weight:100,primary:2137}})}runEditorCommand(f,_,g){var C;return(C=y.CopyPasteController.get(_))===null||C===void 0?void 0:C.changePasteType()}}),(0,L.registerEditorAction)(class extends L.EditorAction{constructor(){super({id:"editor.action.pasteAs",label:S.localize(0,null),alias:"Paste As...",precondition:void 0,description:{description:"Paste as",args:[{name:"args",schema:{type:"object",properties:{id:{type:"string",description:S.localize(1,null)}}}}]}})}run(f,_,g){var C;const s=typeof g?.id=="string"?g.id:void 0;return(C=y.CopyPasteController.get(_))===null||C===void 0?void 0:C.pasteAs(s)}})}),define(ne[911],se([1,0,16,241,149,376,652,98,37,889]),function(Q,e,L,k,y,D,S,f,_,g){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),(0,L.registerEditorContribution)(g.DropIntoEditorController.ID,g.DropIntoEditorController,2),(0,L.registerEditorCommand)(new class extends L.EditorCommand{constructor(){super({id:g.changeDropTypeCommandId,precondition:g.dropWidgetVisibleCtx,kbOpts:{weight:100,primary:2137}})}runEditorCommand(C,s,i){var n;(n=g.DropIntoEditorController.get(s))===null||n===void 0||n.changeDropType()}}),(0,y.registerEditorFeature)(D.DefaultDropProvidersFeature),_.Registry.as(f.Extensions.Configuration).registerConfiguration(Object.assign(Object.assign({},k.editorConfigurationBaseNode),{properties:{[g.defaultProviderConfig]:{type:"object",scope:5,description:S.localize(0,null),default:{},additionalProperties:{type:"string"}}}}))}),define(ne[912],se([1,0,571,92,45,11,170,32,128,698,163]),function(Q,e,L,k,y,D,S,f,_,g,C){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.RandomBasedVariableResolver=e.WorkspaceBasedVariableResolver=e.TimeBasedVariableResolver=e.CommentBasedVariableResolver=e.ClipboardBasedVariableResolver=e.ModelBasedVariableResolver=e.SelectionBasedVariableResolver=e.CompositeSnippetVariableResolver=e.KnownSnippetVariableNames=void 0,e.KnownSnippetVariableNames=Object.freeze({CURRENT_YEAR:!0,CURRENT_YEAR_SHORT:!0,CURRENT_MONTH:!0,CURRENT_DATE:!0,CURRENT_HOUR:!0,CURRENT_MINUTE:!0,CURRENT_SECOND:!0,CURRENT_DAY_NAME:!0,CURRENT_DAY_NAME_SHORT:!0,CURRENT_MONTH_NAME:!0,CURRENT_MONTH_NAME_SHORT:!0,CURRENT_SECONDS_UNIX:!0,CURRENT_TIMEZONE_OFFSET:!0,SELECTION:!0,CLIPBOARD:!0,TM_SELECTED_TEXT:!0,TM_CURRENT_LINE:!0,TM_CURRENT_WORD:!0,TM_LINE_INDEX:!0,TM_LINE_NUMBER:!0,TM_FILENAME:!0,TM_FILENAME_BASE:!0,TM_DIRECTORY:!0,TM_FILEPATH:!0,CURSOR_INDEX:!0,CURSOR_NUMBER:!0,RELATIVE_FILEPATH:!0,BLOCK_COMMENT_START:!0,BLOCK_COMMENT_END:!0,LINE_COMMENT:!0,WORKSPACE_NAME:!0,WORKSPACE_FOLDER:!0,RANDOM:!0,RANDOM_HEX:!0,UUID:!0});class s{constructor(o){this._delegates=o}resolve(o){for(const d of this._delegates){const l=d.resolve(o);if(l!==void 0)return l}}}e.CompositeSnippetVariableResolver=s;class i{constructor(o,d,l,p){this._model=o,this._selection=d,this._selectionIdx=l,this._overtypingCapturer=p}resolve(o){const{name:d}=o;if(d==="SELECTION"||d==="TM_SELECTED_TEXT"){let l=this._model.getValueInRange(this._selection)||void 0,p=this._selection.startLineNumber!==this._selection.endLineNumber;if(!l&&this._overtypingCapturer){const m=this._overtypingCapturer.getLastOvertypedInfo(this._selectionIdx);m&&(l=m.value,p=m.multiline)}if(l&&p&&o.snippet){const m=this._model.getLineContent(this._selection.startLineNumber),v=(0,D.getLeadingWhitespace)(m,0,this._selection.startColumn-1);let b=v;o.snippet.walk(E=>E===o?!1:(E instanceof _.Text&&(b=(0,D.getLeadingWhitespace)((0,D.splitLines)(E.value).pop())),!0));const w=(0,D.commonPrefixLength)(b,v);l=l.replace(/(\r\n|\r|\n)(.*)/g,(E,I,M)=>`${I}${b.substr(w)}${M}`)}return l}else{if(d==="TM_CURRENT_LINE")return this._model.getLineContent(this._selection.positionLineNumber);if(d==="TM_CURRENT_WORD"){const l=this._model.getWordAtPosition({lineNumber:this._selection.positionLineNumber,column:this._selection.positionColumn});return l&&l.word||void 0}else{if(d==="TM_LINE_INDEX")return String(this._selection.positionLineNumber-1);if(d==="TM_LINE_NUMBER")return String(this._selection.positionLineNumber);if(d==="CURSOR_INDEX")return String(this._selectionIdx);if(d==="CURSOR_NUMBER")return String(this._selectionIdx+1)}}}}e.SelectionBasedVariableResolver=i;class n{constructor(o,d){this._labelService=o,this._model=d}resolve(o){const{name:d}=o;if(d==="TM_FILENAME")return k.basename(this._model.uri.fsPath);if(d==="TM_FILENAME_BASE"){const l=k.basename(this._model.uri.fsPath),p=l.lastIndexOf(".");return p<=0?l:l.slice(0,p)}else{if(d==="TM_DIRECTORY")return k.dirname(this._model.uri.fsPath)==="."?"":this._labelService.getUriLabel((0,y.dirname)(this._model.uri));if(d==="TM_FILEPATH")return this._labelService.getUriLabel(this._model.uri);if(d==="RELATIVE_FILEPATH")return this._labelService.getUriLabel(this._model.uri,{relative:!0,noPrefix:!0})}}}e.ModelBasedVariableResolver=n;class t{constructor(o,d,l,p){this._readClipboardText=o,this._selectionIdx=d,this._selectionCount=l,this._spread=p}resolve(o){if(o.name!=="CLIPBOARD")return;const d=this._readClipboardText();if(d){if(this._spread){const l=d.split(/\r\n|\n|\r/).filter(p=>!(0,D.isFalsyOrWhitespace)(p));if(l.length===this._selectionCount)return l[this._selectionIdx]}return d}}}e.ClipboardBasedVariableResolver=t;let a=class{constructor(o,d,l){this._model=o,this._selection=d,this._languageConfigurationService=l}resolve(o){const{name:d}=o,l=this._model.getLanguageIdAtPosition(this._selection.selectionStartLineNumber,this._selection.selectionStartColumn),p=this._languageConfigurationService.getLanguageConfiguration(l).comments;if(p){if(d==="LINE_COMMENT")return p.lineCommentToken||void 0;if(d==="BLOCK_COMMENT_START")return p.blockCommentStartToken||void 0;if(d==="BLOCK_COMMENT_END")return p.blockCommentEndToken||void 0}}};e.CommentBasedVariableResolver=a,e.CommentBasedVariableResolver=a=ke([fe(2,f.ILanguageConfigurationService)],a);class u{constructor(){this._date=new Date}resolve(o){const{name:d}=o;if(d==="CURRENT_YEAR")return String(this._date.getFullYear());if(d==="CURRENT_YEAR_SHORT")return String(this._date.getFullYear()).slice(-2);if(d==="CURRENT_MONTH")return String(this._date.getMonth().valueOf()+1).padStart(2,"0");if(d==="CURRENT_DATE")return String(this._date.getDate().valueOf()).padStart(2,"0");if(d==="CURRENT_HOUR")return String(this._date.getHours().valueOf()).padStart(2,"0");if(d==="CURRENT_MINUTE")return String(this._date.getMinutes().valueOf()).padStart(2,"0");if(d==="CURRENT_SECOND")return String(this._date.getSeconds().valueOf()).padStart(2,"0");if(d==="CURRENT_DAY_NAME")return u.dayNames[this._date.getDay()];if(d==="CURRENT_DAY_NAME_SHORT")return u.dayNamesShort[this._date.getDay()];if(d==="CURRENT_MONTH_NAME")return u.monthNames[this._date.getMonth()];if(d==="CURRENT_MONTH_NAME_SHORT")return u.monthNamesShort[this._date.getMonth()];if(d==="CURRENT_SECONDS_UNIX")return String(Math.floor(this._date.getTime()/1e3));if(d==="CURRENT_TIMEZONE_OFFSET"){const l=this._date.getTimezoneOffset(),p=l>0?"-":"+",m=Math.trunc(Math.abs(l/60)),v=m<10?"0"+m:m,b=Math.abs(l)-m*60,w=b<10?"0"+b:b;return p+v+":"+w}}}e.TimeBasedVariableResolver=u,u.dayNames=[g.localize(0,null),g.localize(1,null),g.localize(2,null),g.localize(3,null),g.localize(4,null),g.localize(5,null),g.localize(6,null)],u.dayNamesShort=[g.localize(7,null),g.localize(8,null),g.localize(9,null),g.localize(10,null),g.localize(11,null),g.localize(12,null),g.localize(13,null)],u.monthNames=[g.localize(14,null),g.localize(15,null),g.localize(16,null),g.localize(17,null),g.localize(18,null),g.localize(19,null),g.localize(20,null),g.localize(21,null),g.localize(22,null),g.localize(23,null),g.localize(24,null),g.localize(25,null)],u.monthNamesShort=[g.localize(26,null),g.localize(27,null),g.localize(28,null),g.localize(29,null),g.localize(30,null),g.localize(31,null),g.localize(32,null),g.localize(33,null),g.localize(34,null),g.localize(35,null),g.localize(36,null),g.localize(37,null)];class h{constructor(o){this._workspaceService=o}resolve(o){if(!this._workspaceService)return;const d=(0,C.toWorkspaceIdentifier)(this._workspaceService.getWorkspace());if(!(0,C.isEmptyWorkspaceIdentifier)(d)){if(o.name==="WORKSPACE_NAME")return this._resolveWorkspaceName(d);if(o.name==="WORKSPACE_FOLDER")return this._resoveWorkspacePath(d)}}_resolveWorkspaceName(o){if((0,C.isSingleFolderWorkspaceIdentifier)(o))return k.basename(o.uri.path);let d=k.basename(o.configPath.path);return d.endsWith(C.WORKSPACE_EXTENSION)&&(d=d.substr(0,d.length-C.WORKSPACE_EXTENSION.length-1)),d}_resoveWorkspacePath(o){if((0,C.isSingleFolderWorkspaceIdentifier)(o))return(0,L.normalizeDriveLetter)(o.uri.fsPath);const d=k.basename(o.configPath.path);let l=o.configPath.fsPath;return l.endsWith(d)&&(l=l.substr(0,l.length-d.length-1)),l?(0,L.normalizeDriveLetter)(l):"/"}}e.WorkspaceBasedVariableResolver=h;class r{resolve(o){const{name:d}=o;if(d==="RANDOM")return Math.random().toString().slice(-6);if(d==="RANDOM_HEX")return Math.random().toString(16).slice(-6);if(d==="UUID")return(0,S.generateUuid)()}}e.RandomBasedVariableResolver=r}),define(ne[377],se([1,0,14,2,11,73,5,24,32,40,158,163,128,912,460]),function(Q,e,L,k,y,D,S,f,_,g,C,s,i,n){"use strict";var t;Object.defineProperty(e,"__esModule",{value:!0}),e.SnippetSession=e.OneSnippet=void 0;class a{constructor(c,o,d){this._editor=c,this._snippet=o,this._snippetLineLeadingWhitespace=d,this._offset=-1,this._nestingLevel=1,this._placeholderGroups=(0,L.groupBy)(o.placeholders,i.Placeholder.compareByIndex),this._placeholderGroupsIdx=-1}initialize(c){this._offset=c.newPosition}dispose(){this._placeholderDecorations&&this._editor.removeDecorations([...this._placeholderDecorations.values()]),this._placeholderGroups.length=0}_initDecorations(){if(this._offset===-1)throw new Error("Snippet not initialized!");if(this._placeholderDecorations)return;this._placeholderDecorations=new Map;const c=this._editor.getModel();this._editor.changeDecorations(o=>{for(const d of this._snippet.placeholders){const l=this._snippet.offset(d),p=this._snippet.fullLen(d),m=S.Range.fromPositions(c.getPositionAt(this._offset+l),c.getPositionAt(this._offset+l+p)),v=d.isFinalTabstop?a._decor.inactiveFinal:a._decor.inactive,b=o.addDecoration(m,v);this._placeholderDecorations.set(d,b)}})}move(c){if(!this._editor.hasModel())return[];if(this._initDecorations(),this._placeholderGroupsIdx>=0){const l=[];for(const p of this._placeholderGroups[this._placeholderGroupsIdx])if(p.transform){const m=this._placeholderDecorations.get(p),v=this._editor.getModel().getDecorationRange(m),b=this._editor.getModel().getValueInRange(v),w=p.transform.resolve(b).split(/\r\n|\r|\n/);for(let E=1;E<w.length;E++)w[E]=this._editor.getModel().normalizeIndentation(this._snippetLineLeadingWhitespace+w[E]);l.push(D.EditOperation.replace(v,w.join(this._editor.getModel().getEOL())))}l.length>0&&this._editor.executeEdits("snippet.placeholderTransform",l)}let o=!1;c===!0&&this._placeholderGroupsIdx<this._placeholderGroups.length-1?(this._placeholderGroupsIdx+=1,o=!0):c===!1&&this._placeholderGroupsIdx>0&&(this._placeholderGroupsIdx-=1,o=!0);const d=this._editor.getModel().changeDecorations(l=>{const p=new Set,m=[];for(const v of this._placeholderGroups[this._placeholderGroupsIdx]){const b=this._placeholderDecorations.get(v),w=this._editor.getModel().getDecorationRange(b);m.push(new f.Selection(w.startLineNumber,w.startColumn,w.endLineNumber,w.endColumn)),o=o&&this._hasPlaceholderBeenCollapsed(v),l.changeDecorationOptions(b,v.isFinalTabstop?a._decor.activeFinal:a._decor.active),p.add(v);for(const E of this._snippet.enclosingPlaceholders(v)){const I=this._placeholderDecorations.get(E);l.changeDecorationOptions(I,E.isFinalTabstop?a._decor.activeFinal:a._decor.active),p.add(E)}}for(const[v,b]of this._placeholderDecorations)p.has(v)||l.changeDecorationOptions(b,v.isFinalTabstop?a._decor.inactiveFinal:a._decor.inactive);return m});return o?this.move(c):d??[]}_hasPlaceholderBeenCollapsed(c){let o=c;for(;o;){if(o instanceof i.Placeholder){const d=this._placeholderDecorations.get(o);if(this._editor.getModel().getDecorationRange(d).isEmpty()&&o.toString().length>0)return!0}o=o.parent}return!1}get isAtFirstPlaceholder(){return this._placeholderGroupsIdx<=0||this._placeholderGroups.length===0}get isAtLastPlaceholder(){return this._placeholderGroupsIdx===this._placeholderGroups.length-1}get hasPlaceholder(){return this._snippet.placeholders.length>0}get isTrivialSnippet(){if(this._snippet.placeholders.length===0)return!0;if(this._snippet.placeholders.length===1){const[c]=this._snippet.placeholders;if(c.isFinalTabstop&&this._snippet.rightMostDescendant===c)return!0}return!1}computePossibleSelections(){const c=new Map;for(const o of this._placeholderGroups){let d;for(const l of o){if(l.isFinalTabstop)break;d||(d=[],c.set(l.index,d));const p=this._placeholderDecorations.get(l),m=this._editor.getModel().getDecorationRange(p);if(!m){c.delete(l.index);break}d.push(m)}}return c}get activeChoice(){if(!this._placeholderDecorations)return;const c=this._placeholderGroups[this._placeholderGroupsIdx][0];if(!c?.choice)return;const o=this._placeholderDecorations.get(c);if(!o)return;const d=this._editor.getModel().getDecorationRange(o);if(d)return{range:d,choice:c.choice}}get hasChoice(){let c=!1;return this._snippet.walk(o=>(c=o instanceof i.Choice,!c)),c}merge(c){const o=this._editor.getModel();this._nestingLevel*=10,this._editor.changeDecorations(d=>{for(const l of this._placeholderGroups[this._placeholderGroupsIdx]){const p=c.shift();console.assert(p._offset!==-1),console.assert(!p._placeholderDecorations);const m=p._snippet.placeholderInfo.last.index;for(const b of p._snippet.placeholderInfo.all)b.isFinalTabstop?b.index=l.index+(m+1)/this._nestingLevel:b.index=l.index+b.index/this._nestingLevel;this._snippet.replace(l,p._snippet.children);const v=this._placeholderDecorations.get(l);d.removeDecoration(v),this._placeholderDecorations.delete(l);for(const b of p._snippet.placeholders){const w=p._snippet.offset(b),E=p._snippet.fullLen(b),I=S.Range.fromPositions(o.getPositionAt(p._offset+w),o.getPositionAt(p._offset+w+E)),M=d.addDecoration(I,a._decor.inactive);this._placeholderDecorations.set(b,M)}}this._placeholderGroups=(0,L.groupBy)(this._snippet.placeholders,i.Placeholder.compareByIndex)})}}e.OneSnippet=a,a._decor={active:g.ModelDecorationOptions.register({description:"snippet-placeholder-1",stickiness:0,className:"snippet-placeholder"}),inactive:g.ModelDecorationOptions.register({description:"snippet-placeholder-2",stickiness:1,className:"snippet-placeholder"}),activeFinal:g.ModelDecorationOptions.register({description:"snippet-placeholder-3",stickiness:1,className:"finish-snippet-placeholder"}),inactiveFinal:g.ModelDecorationOptions.register({description:"snippet-placeholder-4",stickiness:1,className:"finish-snippet-placeholder"})};const u={overwriteBefore:0,overwriteAfter:0,adjustWhitespace:!0,clipboardText:void 0,overtypingCapturer:void 0};let h=t=class{static adjustWhitespace(c,o,d,l,p){const m=c.getLineContent(o.lineNumber),v=(0,y.getLeadingWhitespace)(m,0,o.column-1);let b;return l.walk(w=>{if(!(w instanceof i.Text)||w.parent instanceof i.Choice||p&&!p.has(w))return!0;const E=w.value.split(/\r\n|\r|\n/);if(d){const M=l.offset(w);if(M===0)E[0]=c.normalizeIndentation(E[0]);else{b=b??l.toString();const P=b.charCodeAt(M-1);(P===10||P===13)&&(E[0]=c.normalizeIndentation(v+E[0]))}for(let P=1;P<E.length;P++)E[P]=c.normalizeIndentation(v+E[P])}const I=E.join(c.getEOL());return I!==w.value&&(w.parent.replace(w,[new i.Text(I)]),b=void 0),!0}),v}static adjustSelection(c,o,d,l){if(d!==0||l!==0){const{positionLineNumber:p,positionColumn:m}=o,v=m-d,b=m+l,w=c.validateRange({startLineNumber:p,startColumn:v,endLineNumber:p,endColumn:b});o=f.Selection.createWithDirection(w.startLineNumber,w.startColumn,w.endLineNumber,w.endColumn,o.getDirection())}return o}static createEditsAndSnippetsFromSelections(c,o,d,l,p,m,v,b,w){const E=[],I=[];if(!c.hasModel())return{edits:E,snippets:I};const M=c.getModel(),P=c.invokeWithinContext(W=>W.get(s.IWorkspaceContextService)),x=c.invokeWithinContext(W=>new n.ModelBasedVariableResolver(W.get(C.ILabelService),M)),T=()=>v,A=M.getValueInRange(t.adjustSelection(M,c.getSelection(),d,0)),N=M.getValueInRange(t.adjustSelection(M,c.getSelection(),0,l)),F=M.getLineFirstNonWhitespaceColumn(c.getSelection().positionLineNumber),O=c.getSelections().map((W,U)=>({selection:W,idx:U})).sort((W,U)=>S.Range.compareRangesUsingStarts(W.selection,U.selection));for(const{selection:W,idx:U}of O){let j=t.adjustSelection(M,W,d,0),R=t.adjustSelection(M,W,0,l);A!==M.getValueInRange(j)&&(j=W),N!==M.getValueInRange(R)&&(R=W);const K=W.setStartPosition(j.startLineNumber,j.startColumn).setEndPosition(R.endLineNumber,R.endColumn),G=new i.SnippetParser().parse(o,!0,p),Z=K.getStartPosition(),J=t.adjustWhitespace(M,Z,m||U>0&&F!==M.getLineFirstNonWhitespaceColumn(W.positionLineNumber),G);G.resolveVariables(new n.CompositeSnippetVariableResolver([x,new n.ClipboardBasedVariableResolver(T,U,O.length,c.getOption(77)==="spread"),new n.SelectionBasedVariableResolver(M,W,U,b),new n.CommentBasedVariableResolver(M,W,w),new n.TimeBasedVariableResolver,new n.WorkspaceBasedVariableResolver(P),new n.RandomBasedVariableResolver])),E[U]=D.EditOperation.replace(K,G.toString()),E[U].identifier={major:U,minor:0},E[U]._isTracked=!0,I[U]=new a(c,G,J)}return{edits:E,snippets:I}}static createEditsAndSnippetsFromEdits(c,o,d,l,p,m,v){if(!c.hasModel()||o.length===0)return{edits:[],snippets:[]};const b=[],w=c.getModel(),E=new i.SnippetParser,I=new i.TextmateSnippet,M=new n.CompositeSnippetVariableResolver([c.invokeWithinContext(x=>new n.ModelBasedVariableResolver(x.get(C.ILabelService),w)),new n.ClipboardBasedVariableResolver(()=>p,0,c.getSelections().length,c.getOption(77)==="spread"),new n.SelectionBasedVariableResolver(w,c.getSelection(),0,m),new n.CommentBasedVariableResolver(w,c.getSelection(),v),new n.TimeBasedVariableResolver,new n.WorkspaceBasedVariableResolver(c.invokeWithinContext(x=>x.get(s.IWorkspaceContextService))),new n.RandomBasedVariableResolver]);o=o.sort((x,T)=>S.Range.compareRangesUsingStarts(x.range,T.range));let P=0;for(let x=0;x<o.length;x++){const{range:T,template:A}=o[x];if(x>0){const U=o[x-1].range,j=S.Range.fromPositions(U.getEndPosition(),T.getStartPosition()),R=new i.Text(w.getValueInRange(j));I.appendChild(R),P+=R.value.length}const N=E.parseFragment(A,I);t.adjustWhitespace(w,T.getStartPosition(),!0,I,new Set(N)),I.resolveVariables(M);const F=I.toString(),O=F.slice(P);P=F.length;const W=D.EditOperation.replace(T,O);W.identifier={major:x,minor:0},W._isTracked=!0,b.push(W)}return E.ensureFinalTabstop(I,d,!0),{edits:b,snippets:[new a(c,I,"")]}}constructor(c,o,d=u,l){this._editor=c,this._template=o,this._options=d,this._languageConfigurationService=l,this._templateMerges=[],this._snippets=[]}dispose(){(0,k.dispose)(this._snippets)}_logInfo(){return`template="${this._template}", merged_templates="${this._templateMerges.join(" -> ")}"`}insert(){if(!this._editor.hasModel())return;const{edits:c,snippets:o}=typeof this._template=="string"?t.createEditsAndSnippetsFromSelections(this._editor,this._template,this._options.overwriteBefore,this._options.overwriteAfter,!1,this._options.adjustWhitespace,this._options.clipboardText,this._options.overtypingCapturer,this._languageConfigurationService):t.createEditsAndSnippetsFromEdits(this._editor,this._template,!1,this._options.adjustWhitespace,this._options.clipboardText,this._options.overtypingCapturer,this._languageConfigurationService);this._snippets=o,this._editor.executeEdits("snippet",c,d=>{const l=d.filter(p=>!!p.identifier);for(let p=0;p<o.length;p++)o[p].initialize(l[p].textChange);return this._snippets[0].hasPlaceholder?this._move(!0):l.map(p=>f.Selection.fromPositions(p.range.getEndPosition()))}),this._editor.revealRange(this._editor.getSelections()[0])}merge(c,o=u){if(!this._editor.hasModel())return;this._templateMerges.push([this._snippets[0]._nestingLevel,this._snippets[0]._placeholderGroupsIdx,c]);const{edits:d,snippets:l}=t.createEditsAndSnippetsFromSelections(this._editor,c,o.overwriteBefore,o.overwriteAfter,!0,o.adjustWhitespace,o.clipboardText,o.overtypingCapturer,this._languageConfigurationService);this._editor.executeEdits("snippet",d,p=>{const m=p.filter(b=>!!b.identifier);for(let b=0;b<l.length;b++)l[b].initialize(m[b].textChange);const v=l[0].isTrivialSnippet;if(!v){for(const b of this._snippets)b.merge(l);console.assert(l.length===0)}return this._snippets[0].hasPlaceholder&&!v?this._move(void 0):m.map(b=>f.Selection.fromPositions(b.range.getEndPosition()))})}next(){const c=this._move(!0);this._editor.setSelections(c),this._editor.revealPositionInCenterIfOutsideViewport(c[0].getPosition())}prev(){const c=this._move(!1);this._editor.setSelections(c),this._editor.revealPositionInCenterIfOutsideViewport(c[0].getPosition())}_move(c){const o=[];for(const d of this._snippets){const l=d.move(c);o.push(...l)}return o}get isAtFirstPlaceholder(){return this._snippets[0].isAtFirstPlaceholder}get isAtLastPlaceholder(){return this._snippets[0].isAtLastPlaceholder}get hasPlaceholder(){return this._snippets[0].hasPlaceholder}get hasChoice(){return this._snippets[0].hasChoice}get activeChoice(){return this._snippets[0].activeChoice}isSelectionWithinPlaceholders(){if(!this.hasPlaceholder)return!1;const c=this._editor.getSelections();if(c.length<this._snippets.length)return!1;const o=new Map;for(const d of this._snippets){const l=d.computePossibleSelections();if(o.size===0)for(const[p,m]of l){m.sort(S.Range.compareRangesUsingStarts);for(const v of c)if(m[0].containsRange(v)){o.set(p,[]);break}}if(o.size===0)return!1;o.forEach((p,m)=>{p.push(...l.get(m))})}c.sort(S.Range.compareRangesUsingStarts);for(const[d,l]of o){if(l.length!==c.length){o.delete(d);continue}l.sort(S.Range.compareRangesUsingStarts);for(let p=0;p<l.length;p++)if(!l[p].containsRange(c[p])){o.delete(d);continue}}return o.size>0}};e.SnippetSession=h,e.SnippetSession=h=t=ke([fe(3,_.ILanguageConfigurationService)],h)}),define(ne[194],se([1,0,2,20,16,12,21,32,18,135,697,15,70,377]),function(Q,e,L,k,y,D,S,f,_,g,C,s,i,n){"use strict";var t;Object.defineProperty(e,"__esModule",{value:!0}),e.SnippetController2=void 0;const a={overwriteBefore:0,overwriteAfter:0,undoStopBefore:!0,undoStopAfter:!0,adjustWhitespace:!0,clipboardText:void 0,overtypingCapturer:void 0};let u=t=class{static get(c){return c.getContribution(t.ID)}constructor(c,o,d,l,p){this._editor=c,this._logService=o,this._languageFeaturesService=d,this._languageConfigurationService=p,this._snippetListener=new L.DisposableStore,this._modelVersionId=-1,this._inSnippet=t.InSnippetMode.bindTo(l),this._hasNextTabstop=t.HasNextTabstop.bindTo(l),this._hasPrevTabstop=t.HasPrevTabstop.bindTo(l)}dispose(){var c;this._inSnippet.reset(),this._hasPrevTabstop.reset(),this._hasNextTabstop.reset(),(c=this._session)===null||c===void 0||c.dispose(),this._snippetListener.dispose()}insert(c,o){try{this._doInsert(c,typeof o>"u"?a:Object.assign(Object.assign({},a),o))}catch(d){this.cancel(),this._logService.error(d),this._logService.error("snippet_error"),this._logService.error("insert_template=",c),this._logService.error("existing_template=",this._session?this._session._logInfo():"<no_session>")}}_doInsert(c,o){var d;if(this._editor.hasModel()){if(this._snippetListener.clear(),o.undoStopBefore&&this._editor.getModel().pushStackElement(),this._session&&typeof c!="string"&&this.cancel(),this._session?((0,k.assertType)(typeof c=="string"),this._session.merge(c,o)):(this._modelVersionId=this._editor.getModel().getAlternativeVersionId(),this._session=new n.SnippetSession(this._editor,c,o,this._languageConfigurationService),this._session.insert()),o.undoStopAfter&&this._editor.getModel().pushStackElement(),!((d=this._session)===null||d===void 0)&&d.hasChoice){const l={_debugDisplayName:"snippetChoiceCompletions",provideCompletionItems:(E,I)=>{if(!this._session||E!==this._editor.getModel()||!D.Position.equals(this._editor.getPosition(),I))return;const{activeChoice:M}=this._session;if(!M||M.choice.options.length===0)return;const P=E.getValueInRange(M.range),x=!!M.choice.options.find(A=>A.value===P),T=[];for(let A=0;A<M.choice.options.length;A++){const N=M.choice.options[A];T.push({kind:13,label:N.value,insertText:N.value,sortText:"a".repeat(A+1),range:M.range,filterText:x?`${P}_${N.value}`:void 0,command:{id:"jumpToNextSnippetPlaceholder",title:(0,C.localize)(3,null)}})}return{suggestions:T}}},p=this._editor.getModel();let m,v=!1;const b=()=>{m?.dispose(),v=!1},w=()=>{v||(m=this._languageFeaturesService.completionProvider.register({language:p.getLanguageId(),pattern:p.uri.fsPath,scheme:p.uri.scheme,exclusive:!0},l),this._snippetListener.add(m),v=!0)};this._choiceCompletions={provider:l,enable:w,disable:b}}this._updateState(),this._snippetListener.add(this._editor.onDidChangeModelContent(l=>l.isFlush&&this.cancel())),this._snippetListener.add(this._editor.onDidChangeModel(()=>this.cancel())),this._snippetListener.add(this._editor.onDidChangeCursorSelection(()=>this._updateState()))}}_updateState(){if(!(!this._session||!this._editor.hasModel())){if(this._modelVersionId===this._editor.getModel().getAlternativeVersionId())return this.cancel();if(!this._session.hasPlaceholder)return this.cancel();if(this._session.isAtLastPlaceholder||!this._session.isSelectionWithinPlaceholders())return this._editor.getModel().pushStackElement(),this.cancel();this._inSnippet.set(!0),this._hasPrevTabstop.set(!this._session.isAtFirstPlaceholder),this._hasNextTabstop.set(!this._session.isAtLastPlaceholder),this._handleChoice()}}_handleChoice(){var c;if(!this._session||!this._editor.hasModel()){this._currentChoice=void 0;return}const{activeChoice:o}=this._session;if(!o||!this._choiceCompletions){(c=this._choiceCompletions)===null||c===void 0||c.disable(),this._currentChoice=void 0;return}this._currentChoice!==o.choice&&(this._currentChoice=o.choice,this._choiceCompletions.enable(),queueMicrotask(()=>{(0,g.showSimpleSuggestions)(this._editor,this._choiceCompletions.provider)}))}finish(){for(;this._inSnippet.get();)this.next()}cancel(c=!1){var o;this._inSnippet.reset(),this._hasPrevTabstop.reset(),this._hasNextTabstop.reset(),this._snippetListener.clear(),this._currentChoice=void 0,(o=this._session)===null||o===void 0||o.dispose(),this._session=void 0,this._modelVersionId=-1,c&&this._editor.setSelections([this._editor.getSelection()])}prev(){var c;(c=this._session)===null||c===void 0||c.prev(),this._updateState()}next(){var c;(c=this._session)===null||c===void 0||c.next(),this._updateState()}isInSnippet(){return!!this._inSnippet.get()}};e.SnippetController2=u,u.ID="snippetController2",u.InSnippetMode=new s.RawContextKey("inSnippetMode",!1,(0,C.localize)(0,null)),u.HasNextTabstop=new s.RawContextKey("hasNextTabstop",!1,(0,C.localize)(1,null)),u.HasPrevTabstop=new s.RawContextKey("hasPrevTabstop",!1,(0,C.localize)(2,null)),e.SnippetController2=u=t=ke([fe(1,i.ILogService),fe(2,_.ILanguageFeaturesService),fe(3,s.IContextKeyService),fe(4,f.ILanguageConfigurationService)],u),(0,y.registerEditorContribution)(u.ID,u,4);const h=y.EditorCommand.bindToContribution(u.get);(0,y.registerEditorCommand)(new h({id:"jumpToNextSnippetPlaceholder",precondition:s.ContextKeyExpr.and(u.InSnippetMode,u.HasNextTabstop),handler:r=>r.next(),kbOpts:{weight:100+30,kbExpr:S.EditorContextKeys.editorTextFocus,primary:2}})),(0,y.registerEditorCommand)(new h({id:"jumpToPrevSnippetPlaceholder",precondition:s.ContextKeyExpr.and(u.InSnippetMode,u.HasPrevTabstop),handler:r=>r.prev(),kbOpts:{weight:100+30,kbExpr:S.EditorContextKeys.editorTextFocus,primary:1026}})),(0,y.registerEditorCommand)(new h({id:"leaveSnippet",precondition:u.InSnippetMode,handler:r=>r.cancel(!0),kbOpts:{weight:100+30,kbExpr:S.EditorContextKeys.editorTextFocus,primary:9,secondary:[1033]}})),(0,y.registerEditorCommand)(new h({id:"acceptSnippet",precondition:u.InSnippetMode,handler:r=>r.finish()}))}),define(ne[913],se([1,0,14,9,2,42,20,73,12,5,29,32,215,779,151,194,27,8]),function(Q,e,L,k,y,D,S,f,_,g,C,s,i,n,t,a,u,h){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.InlineCompletionsModel=e.VersionIdChangeReason=void 0;var r;(function(o){o[o.Undo=0]="Undo",o[o.Redo=1]="Redo",o[o.AcceptWord=2]="AcceptWord",o[o.Other=3]="Other"})(r||(e.VersionIdChangeReason=r={}));let c=class extends y.Disposable{get isAcceptingPartially(){return this._isAcceptingPartially}constructor(d,l,p,m,v,b,w,E,I,M,P,x){super(),this.textModel=d,this.selectedSuggestItem=l,this.cursorPosition=p,this.textModelVersionId=m,this._debounceValue=v,this._suggestPreviewEnabled=b,this._suggestPreviewMode=w,this._inlineSuggestMode=E,this._enabled=I,this._instantiationService=M,this._commandService=P,this._languageConfigurationService=x,this._source=this._register(this._instantiationService.createInstance(n.InlineCompletionsSource,this.textModel,this.textModelVersionId,this._debounceValue)),this._isActive=(0,D.observableValue)("isActive",!1),this._forceUpdate=(0,D.observableSignal)("forceUpdate"),this._selectedInlineCompletionId=(0,D.observableValue)("selectedInlineCompletionId",void 0),this._isAcceptingPartially=!1,this._preserveCurrentCompletionReasons=new Set([r.Redo,r.Undo,r.AcceptWord]),this._fetchInlineCompletions=(0,D.derivedHandleChanges)("fetch inline completions",{createEmptyChangeSummary:()=>({preserveCurrentCompletion:!1,inlineCompletionTriggerKind:C.InlineCompletionTriggerKind.Automatic}),handleChange:(A,N)=>(A.didChange(this.textModelVersionId)&&this._preserveCurrentCompletionReasons.has(A.change)?N.preserveCurrentCompletion=!0:A.didChange(this._forceUpdate)&&(N.inlineCompletionTriggerKind=A.change),!0)},(A,N)=>{if(this._forceUpdate.read(A),!(this._enabled.read(A)&&this.selectedSuggestItem.read(A)||this._isActive.read(A))){this._source.cancelUpdate();return}this.textModelVersionId.read(A);const O=this.selectedInlineCompletion.get(),W=N.preserveCurrentCompletion||O?.forwardStable?O:void 0,U=this._source.suggestWidgetInlineCompletions.get(),j=this.selectedSuggestItem.read(A);if(U&&!j){const G=this._source.inlineCompletions.get();(0,D.transaction)(Z=>{G&&U.request.versionId>G.request.versionId&&this._source.inlineCompletions.set(U.clone(),Z),this._source.clearSuggestWidgetInlineCompletions(Z)})}const R=this.cursorPosition.read(A),K={triggerKind:N.inlineCompletionTriggerKind,selectedSuggestionInfo:j?.toSelectedSuggestionInfo()};return this._source.fetch(R,K,W)}),this._filteredInlineCompletionItems=(0,D.derived)(A=>{const N=this._source.inlineCompletions.read(A);if(!N)return[];const F=this.cursorPosition.read(A);return N.inlineCompletions.filter(W=>W.isVisible(this.textModel,F,A))}),this.selectedInlineCompletionIndex=(0,D.derived)(A=>{const N=this._selectedInlineCompletionId.read(A),F=this._filteredInlineCompletionItems.read(A),O=this._selectedInlineCompletionId===void 0?-1:F.findIndex(W=>W.semanticId===N);return O===-1?(this._selectedInlineCompletionId.set(void 0,void 0),0):O}),this.selectedInlineCompletion=(0,D.derived)(A=>{const N=this._filteredInlineCompletionItems.read(A),F=this.selectedInlineCompletionIndex.read(A);return N[F]}),this.lastTriggerKind=this._source.inlineCompletions.map(A=>A?.request.context.triggerKind),this.inlineCompletionsCount=(0,D.derived)(A=>{if(this.lastTriggerKind.read(A)===C.InlineCompletionTriggerKind.Explicit)return this._filteredInlineCompletionItems.read(A).length}),this.state=(0,D.derivedOpts)({equalityComparer:(A,N)=>!A||!N?A===N:(0,i.ghostTextOrReplacementEquals)(A.ghostText,N.ghostText)&&A.inlineCompletion===N.inlineCompletion&&A.suggestItem===N.suggestItem},A=>{var N;const F=this.textModel,O=this.selectedSuggestItem.read(A);if(O){const W=O.toSingleTextEdit().removeCommonPrefix(F),U=this._computeAugmentedCompletion(W,A);if(!this._suggestPreviewEnabled.read(A)&&!U)return;const R=(N=U?.edit)!==null&&N!==void 0?N:W,K=U?U.edit.text.length-W.text.length:0,G=this._suggestPreviewMode.read(A),Z=this.cursorPosition.read(A),J=R.computeGhostText(F,G,Z,K);return{ghostText:J??new i.GhostText(R.range.endLineNumber,[]),inlineCompletion:U?.completion,suggestItem:O}}else{if(!this._isActive.read(A))return;const W=this.selectedInlineCompletion.read(A);if(!W)return;const U=W.toSingleTextEdit(A),j=this._inlineSuggestMode.read(A),R=this.cursorPosition.read(A),K=U.computeGhostText(F,j,R);return K?{ghostText:K,inlineCompletion:W,suggestItem:void 0}:void 0}}),this.ghostText=(0,D.derivedOpts)({equalityComparer:i.ghostTextOrReplacementEquals},A=>{const N=this.state.read(A);if(N)return N.ghostText}),this._register((0,D.keepAlive)(this._fetchInlineCompletions,!0));let T;this._register((0,D.autorun)(A=>{var N,F;const O=this.state.read(A),W=O?.inlineCompletion;if(W?.semanticId!==T?.semanticId&&(T=W,W)){const U=W.inlineCompletion,j=U.source;(F=(N=j.provider).handleItemDidShow)===null||F===void 0||F.call(N,j.inlineCompletions,U.sourceInlineCompletion,U.insertText)}}))}trigger(d){return we(this,void 0,void 0,function*(){this._isActive.set(!0,d),yield this._fetchInlineCompletions.get()})}triggerExplicitly(d){return we(this,void 0,void 0,function*(){(0,D.subtransaction)(d,l=>{this._isActive.set(!0,l),this._forceUpdate.trigger(l,C.InlineCompletionTriggerKind.Explicit)}),yield this._fetchInlineCompletions.get()})}stop(d){(0,D.subtransaction)(d,l=>{this._isActive.set(!1,l),this._source.clear(l)})}_computeAugmentedCompletion(d,l){const p=this.textModel,m=this._source.suggestWidgetInlineCompletions.read(l),v=m?m.inlineCompletions:[this.selectedInlineCompletion.read(l)].filter(S.isDefined);return(0,L.mapFind)(v,w=>{let E=w.toSingleTextEdit(l);return E=E.removeCommonPrefix(p,g.Range.fromPositions(E.range.getStartPosition(),d.range.getEndPosition())),E.augments(d)?{edit:E,completion:w}:void 0})}_deltaSelectedInlineCompletionIndex(d){return we(this,void 0,void 0,function*(){yield this.triggerExplicitly();const l=this._filteredInlineCompletionItems.get()||[];if(l.length>0){const p=(this.selectedInlineCompletionIndex.get()+d+l.length)%l.length;this._selectedInlineCompletionId.set(l[p].semanticId,void 0)}else this._selectedInlineCompletionId.set(void 0,void 0)})}next(){return we(this,void 0,void 0,function*(){yield this._deltaSelectedInlineCompletionIndex(1)})}previous(){return we(this,void 0,void 0,function*(){yield this._deltaSelectedInlineCompletionIndex(-1)})}accept(d){var l;return we(this,void 0,void 0,function*(){if(d.getModel()!==this.textModel)throw new k.BugIndicatingError;const p=this.state.get();if(!p||p.ghostText.isEmpty()||!p.inlineCompletion)return;const m=p.inlineCompletion.toInlineCompletion(void 0);d.pushUndoStop(),m.snippetInfo?(d.executeEdits("inlineSuggestion.accept",[f.EditOperation.replaceMove(m.range,""),...m.additionalTextEdits]),d.setPosition(m.snippetInfo.range.getStartPosition()),(l=a.SnippetController2.get(d))===null||l===void 0||l.insert(m.snippetInfo.snippet,{undoStopBefore:!1})):d.executeEdits("inlineSuggestion.accept",[f.EditOperation.replaceMove(m.range,m.insertText),...m.additionalTextEdits]),m.command&&m.source.addRef(),(0,D.transaction)(v=>{this._source.clear(v),this._isActive.set(!1,v)}),m.command&&(yield this._commandService.executeCommand(m.command.id,...m.command.arguments||[]).then(void 0,k.onUnexpectedExternalError),m.source.removeRef())})}acceptNextWord(d){return we(this,void 0,void 0,function*(){yield this._acceptNext(d,(l,p)=>{const m=this.textModel.getLanguageIdAtPosition(l.lineNumber,l.column),v=this._languageConfigurationService.getLanguageConfiguration(m),b=new RegExp(v.wordDefinition.source,v.wordDefinition.flags.replace("g","")),w=p.match(b);let E=0;w&&w.index!==void 0?w.index===0?E=w[0].length:E=w.index:E=p.length;const M=/\s+/g.exec(p);return M&&M.index!==void 0&&M.index+M[0].length<E&&(E=M.index+M[0].length),E})})}acceptNextLine(d){return we(this,void 0,void 0,function*(){yield this._acceptNext(d,(l,p)=>{const m=p.match(/\n/);return m&&m.index!==void 0?m.index+1:p.length})})}_acceptNext(d,l){return we(this,void 0,void 0,function*(){if(d.getModel()!==this.textModel)throw new k.BugIndicatingError;const p=this.state.get();if(!p||p.ghostText.isEmpty()||!p.inlineCompletion)return;const m=p.ghostText,v=p.inlineCompletion.toInlineCompletion(void 0);if(v.snippetInfo||v.filterText!==v.insertText){yield this.accept(d);return}const b=m.parts[0],w=new _.Position(m.lineNumber,b.column),E=b.lines.join(`
`),I=l(w,E);if(I===E.length&&m.parts.length===1){this.accept(d);return}const M=E.substring(0,I);this._isAcceptingPartially=!0;try{d.pushUndoStop(),d.executeEdits("inlineSuggestion.accept",[f.EditOperation.replace(g.Range.fromPositions(w),M)]);const P=(0,t.lengthOfText)(M);d.setPosition((0,t.addPositions)(w,P))}finally{this._isAcceptingPartially=!1}if(v.source.provider.handlePartialAccept){const P=g.Range.fromPositions(v.range.getStartPosition(),(0,t.addPositions)(w,(0,t.lengthOfText)(M))),x=d.getModel().getValueInRange(P,1);v.source.provider.handlePartialAccept(v.source.inlineCompletions,v.sourceInlineCompletion,x.length)}})}handleSuggestAccepted(d){var l,p;const m=d.toSingleTextEdit().removeCommonPrefix(this.textModel),v=this._computeAugmentedCompletion(m,void 0);if(!v)return;const b=v.completion.inlineCompletion;(p=(l=b.source.provider).handlePartialAccept)===null||p===void 0||p.call(l,b.source.inlineCompletions,b.sourceInlineCompletion,m.text.length)}};e.InlineCompletionsModel=c,e.InlineCompletionsModel=c=ke([fe(9,h.IInstantiationService),fe(10,u.ICommandService),fe(11,s.ILanguageConfigurationService)],c)}),define(ne[914],se([1,0,13,19,9,6,2,11,24,115,301,96,28,15,70,79,300,135,18,72,20,235,194,239]),function(Q,e,L,k,y,D,S,f,_,g,C,s,i,n,t,a,u,h,r,c,o,d,l,p){"use strict";var m;Object.defineProperty(e,"__esModule",{value:!0}),e.SuggestModel=e.LineContext=void 0;class v{static shouldAutoTrigger(M){if(!M.hasModel())return!1;const P=M.getModel(),x=M.getPosition();P.tokenization.tokenizeIfCheap(x.lineNumber);const T=P.getWordAtPosition(x);return!(!T||T.endColumn!==x.column&&T.startColumn+1!==x.column||!isNaN(Number(T.word)))}constructor(M,P,x){this.leadingLineContent=M.getLineContent(P.lineNumber).substr(0,P.column-1),this.leadingWord=M.getWordUntilPosition(P),this.lineNumber=P.lineNumber,this.column=P.column,this.triggerOptions=x}}e.LineContext=v;function b(I,M,P){if(!M.getContextKeyValue(d.InlineCompletionContextKeys.inlineSuggestionVisible.key))return!0;const x=M.getContextKeyValue(d.InlineCompletionContextKeys.suppressSuggestions.key);return x!==void 0?!x:!I.getOption(61).suppressSuggestions}function w(I,M,P){if(!M.getContextKeyValue("inlineSuggestionVisible"))return!0;const x=M.getContextKeyValue(d.InlineCompletionContextKeys.suppressSuggestions.key);return x!==void 0?!x:!I.getOption(61).suppressSuggestions}let E=m=class{constructor(M,P,x,T,A,N,F,O,W){this._editor=M,this._editorWorkerService=P,this._clipboardService=x,this._telemetryService=T,this._logService=A,this._contextKeyService=N,this._configurationService=F,this._languageFeaturesService=O,this._envService=W,this._toDispose=new S.DisposableStore,this._triggerCharacterListener=new S.DisposableStore,this._triggerQuickSuggest=new L.TimeoutTimer,this._triggerState=void 0,this._completionDisposables=new S.DisposableStore,this._onDidCancel=new D.Emitter,this._onDidTrigger=new D.Emitter,this._onDidSuggest=new D.Emitter,this.onDidCancel=this._onDidCancel.event,this.onDidTrigger=this._onDidTrigger.event,this.onDidSuggest=this._onDidSuggest.event,this._telemetryGate=0,this._currentSelection=this._editor.getSelection()||new _.Selection(1,1,1,1),this._toDispose.add(this._editor.onDidChangeModel(()=>{this._updateTriggerCharacters(),this.cancel()})),this._toDispose.add(this._editor.onDidChangeModelLanguage(()=>{this._updateTriggerCharacters(),this.cancel()})),this._toDispose.add(this._editor.onDidChangeConfiguration(()=>{this._updateTriggerCharacters()})),this._toDispose.add(this._languageFeaturesService.completionProvider.onDidChange(()=>{this._updateTriggerCharacters(),this._updateActiveSuggestSession()}));let U=!1;this._toDispose.add(this._editor.onDidCompositionStart(()=>{U=!0})),this._toDispose.add(this._editor.onDidCompositionEnd(()=>{U=!1,this._onCompositionEnd()})),this._toDispose.add(this._editor.onDidChangeCursorSelection(j=>{U||this._onCursorChange(j)})),this._toDispose.add(this._editor.onDidChangeModelContent(()=>{!U&&this._triggerState!==void 0&&this._refilterCompletionItems()})),this._updateTriggerCharacters()}dispose(){(0,S.dispose)(this._triggerCharacterListener),(0,S.dispose)([this._onDidCancel,this._onDidSuggest,this._onDidTrigger,this._triggerQuickSuggest]),this._toDispose.dispose(),this._completionDisposables.dispose(),this.cancel()}_updateTriggerCharacters(){if(this._triggerCharacterListener.clear(),this._editor.getOption(89)||!this._editor.hasModel()||!this._editor.getOption(119))return;const M=new Map;for(const x of this._languageFeaturesService.completionProvider.all(this._editor.getModel()))for(const T of x.triggerCharacters||[]){let A=M.get(T);A||(A=new Set,A.add((0,h.getSnippetSuggestSupport)()),M.set(T,A)),A.add(x)}const P=x=>{var T;if(!w(this._editor,this._contextKeyService,this._configurationService)||v.shouldAutoTrigger(this._editor))return;if(!x){const F=this._editor.getPosition();x=this._editor.getModel().getLineContent(F.lineNumber).substr(0,F.column-1)}let A="";(0,f.isLowSurrogate)(x.charCodeAt(x.length-1))?(0,f.isHighSurrogate)(x.charCodeAt(x.length-2))&&(A=x.substr(x.length-2)):A=x.charAt(x.length-1);const N=M.get(A);if(N){const F=new Map;if(this._completionModel)for(const[O,W]of this._completionModel.getItemsByProvider())N.has(O)||F.set(O,W);this.trigger({auto:!0,triggerKind:1,triggerCharacter:A,retrigger:!!this._completionModel,clipboardText:(T=this._completionModel)===null||T===void 0?void 0:T.clipboardText,completionOptions:{providerFilter:N,providerItemsToReuse:F}})}};this._triggerCharacterListener.add(this._editor.onDidType(P)),this._triggerCharacterListener.add(this._editor.onDidCompositionEnd(()=>P()))}get state(){return this._triggerState?this._triggerState.auto?2:1:0}cancel(M=!1){var P;this._triggerState!==void 0&&(this._triggerQuickSuggest.cancel(),(P=this._requestToken)===null||P===void 0||P.cancel(),this._requestToken=void 0,this._triggerState=void 0,this._completionModel=void 0,this._context=void 0,this._onDidCancel.fire({retrigger:M}))}clear(){this._completionDisposables.clear()}_updateActiveSuggestSession(){this._triggerState!==void 0&&(!this._editor.hasModel()||!this._languageFeaturesService.completionProvider.has(this._editor.getModel())?this.cancel():this.trigger({auto:this._triggerState.auto,retrigger:!0}))}_onCursorChange(M){if(!this._editor.hasModel())return;const P=this._currentSelection;if(this._currentSelection=this._editor.getSelection(),!M.selection.isEmpty()||M.reason!==0&&M.reason!==3||M.source!=="keyboard"&&M.source!=="deleteLeft"){this.cancel();return}this._triggerState===void 0&&M.reason===0?(P.containsRange(this._currentSelection)||P.getEndPosition().isBeforeOrEqual(this._currentSelection.getPosition()))&&this._doTriggerQuickSuggest():this._triggerState!==void 0&&M.reason===3&&this._refilterCompletionItems()}_onCompositionEnd(){this._triggerState===void 0?this._doTriggerQuickSuggest():this._refilterCompletionItems()}_doTriggerQuickSuggest(){var M;h.QuickSuggestionsOptions.isAllOff(this._editor.getOption(87))||this._editor.getOption(116).snippetsPreventQuickSuggestions&&(!((M=l.SnippetController2.get(this._editor))===null||M===void 0)&&M.isInSnippet())||(this.cancel(),this._triggerQuickSuggest.cancelAndSet(()=>{if(this._triggerState!==void 0||!v.shouldAutoTrigger(this._editor)||!this._editor.hasModel()||!this._editor.hasWidgetFocus())return;const P=this._editor.getModel(),x=this._editor.getPosition(),T=this._editor.getOption(87);if(!h.QuickSuggestionsOptions.isAllOff(T)){if(!h.QuickSuggestionsOptions.isAllOn(T)){P.tokenization.tokenizeIfCheap(x.lineNumber);const A=P.tokenization.getLineTokens(x.lineNumber),N=A.getStandardTokenType(A.findTokenIndexAtOffset(Math.max(x.column-1-1,0)));if(h.QuickSuggestionsOptions.valueFor(T,N)!=="on")return}b(this._editor,this._contextKeyService,this._configurationService)&&this._languageFeaturesService.completionProvider.has(P)&&this.trigger({auto:!0})}},this._editor.getOption(88)))}_refilterCompletionItems(){(0,o.assertType)(this._editor.hasModel()),(0,o.assertType)(this._triggerState!==void 0);const M=this._editor.getModel(),P=this._editor.getPosition(),x=new v(M,P,Object.assign(Object.assign({},this._triggerState),{refilter:!0}));this._onNewContext(x)}trigger(M){var P,x,T,A,N,F;if(!this._editor.hasModel())return;const O=this._editor.getModel(),W=new v(O,this._editor.getPosition(),M);this.cancel(M.retrigger),this._triggerState=M,this._onDidTrigger.fire({auto:M.auto,shy:(P=M.shy)!==null&&P!==void 0?P:!1,position:this._editor.getPosition()}),this._context=W;let U={triggerKind:(x=M.triggerKind)!==null&&x!==void 0?x:0};M.triggerCharacter&&(U={triggerKind:1,triggerCharacter:M.triggerCharacter}),this._requestToken=new k.CancellationTokenSource;const j=this._editor.getOption(110);let R=1;switch(j){case"top":R=0;break;case"bottom":R=2;break}const{itemKind:K,showDeprecated:G}=m._createSuggestFilter(this._editor),Z=new h.CompletionOptions(R,(A=(T=M.completionOptions)===null||T===void 0?void 0:T.kindFilter)!==null&&A!==void 0?A:K,(N=M.completionOptions)===null||N===void 0?void 0:N.providerFilter,(F=M.completionOptions)===null||F===void 0?void 0:F.providerItemsToReuse,G),J=C.WordDistance.create(this._editorWorkerService,this._editor),X=(0,h.provideSuggestionItems)(this._languageFeaturesService.completionProvider,O,this._editor.getPosition(),Z,U,this._requestToken.token);Promise.all([X,J]).then(([H,B])=>we(this,void 0,void 0,function*(){var V;if((V=this._requestToken)===null||V===void 0||V.dispose(),!this._editor.hasModel())return;let Y=M?.clipboardText;if(!Y&&H.needsClipboard&&(Y=yield this._clipboardService.readText()),this._triggerState===void 0)return;const ie=this._editor.getModel(),ae=new v(ie,this._editor.getPosition(),M),ce=Object.assign(Object.assign({},c.FuzzyScoreOptions.default),{firstMatchCanBeWeak:!this._editor.getOption(116).matchOnWordStartOnly});if(this._completionModel=new u.CompletionModel(H.items,this._context.column,{leadingLineContent:ae.leadingLineContent,characterCountDelta:ae.column-this._context.column},B,this._editor.getOption(116),this._editor.getOption(110),ce,Y),this._completionDisposables.add(H.disposable),this._onNewContext(ae),this._reportDurationsTelemetry(H.durations),!this._envService.isBuilt||this._envService.isExtensionDevelopment)for(const de of H.items)de.isInvalid&&this._logService.warn(`[suggest] did IGNORE invalid completion item from ${de.provider._debugDisplayName}`,de.completion)})).catch(y.onUnexpectedError)}_reportDurationsTelemetry(M){this._telemetryGate++%230===0&&setTimeout(()=>{this._telemetryService.publicLog2("suggest.durations.json",{data:JSON.stringify(M)}),this._logService.debug("suggest.durations.json",M)})}static _createSuggestFilter(M){const P=new Set;M.getOption(110)==="none"&&P.add(27);const T=M.getOption(116);return T.showMethods||P.add(0),T.showFunctions||P.add(1),T.showConstructors||P.add(2),T.showFields||P.add(3),T.showVariables||P.add(4),T.showClasses||P.add(5),T.showStructs||P.add(6),T.showInterfaces||P.add(7),T.showModules||P.add(8),T.showProperties||P.add(9),T.showEvents||P.add(10),T.showOperators||P.add(11),T.showUnits||P.add(12),T.showValues||P.add(13),T.showConstants||P.add(14),T.showEnums||P.add(15),T.showEnumMembers||P.add(16),T.showKeywords||P.add(17),T.showWords||P.add(18),T.showColors||P.add(19),T.showFiles||P.add(20),T.showReferences||P.add(21),T.showColors||P.add(22),T.showFolders||P.add(23),T.showTypeParameters||P.add(24),T.showSnippets||P.add(27),T.showUsers||P.add(25),T.showIssues||P.add(26),{itemKind:P,showDeprecated:T.showDeprecated}}_onNewContext(M){if(this._context){if(M.lineNumber!==this._context.lineNumber){this.cancel();return}if((0,f.getLeadingWhitespace)(M.leadingLineContent)!==(0,f.getLeadingWhitespace)(this._context.leadingLineContent)){this.cancel();return}if(M.column<this._context.column){M.leadingWord.word?this.trigger({auto:this._context.triggerOptions.auto,retrigger:!0}):this.cancel();return}if(this._completionModel){if(M.leadingWord.word.length!==0&&M.leadingWord.startColumn>this._context.leadingWord.startColumn){if(v.shouldAutoTrigger(this._editor)&&this._context){const x=this._completionModel.getItemsByProvider();this.trigger({auto:this._context.triggerOptions.auto,retrigger:!0,clipboardText:this._completionModel.clipboardText,completionOptions:{providerItemsToReuse:x}})}return}if(M.column>this._context.column&&this._completionModel.getIncompleteProvider().size>0&&M.leadingWord.word.length!==0){const P=new Map,x=new Set;for(const[T,A]of this._completionModel.getItemsByProvider())A.length>0&&A[0].container.incomplete?x.add(T):P.set(T,A);this.trigger({auto:this._context.triggerOptions.auto,triggerKind:2,retrigger:!0,clipboardText:this._completionModel.clipboardText,completionOptions:{providerFilter:x,providerItemsToReuse:P}})}else{const P=this._completionModel.lineContext;let x=!1;if(this._completionModel.lineContext={leadingLineContent:M.leadingLineContent,characterCountDelta:M.column-this._context.column},this._completionModel.items.length===0){const T=v.shouldAutoTrigger(this._editor);if(!this._context){this.cancel();return}if(T&&this._context.leadingWord.endColumn<M.leadingWord.startColumn){this.trigger({auto:this._context.triggerOptions.auto,retrigger:!0});return}if(this._context.triggerOptions.auto){this.cancel();return}else if(this._completionModel.lineContext=P,x=this._completionModel.items.length>0,x&&M.leadingWord.word.length===0){this.cancel();return}}this._onDidSuggest.fire({completionModel:this._completionModel,triggerOptions:M.triggerOptions,isFrozen:x})}}}}};e.SuggestModel=E,e.SuggestModel=E=m=ke([fe(1,g.IEditorWorkerService),fe(2,s.IClipboardService),fe(3,a.ITelemetryService),fe(4,t.ILogService),fe(5,n.IContextKeyService),fe(6,i.IConfigurationService),fe(7,r.ILanguageFeaturesService),fe(8,p.IEnvironmentService)],E)}),define(ne[378],se([1,0,49,14,13,19,9,6,119,2,17,58,20,108,16,73,12,5,21,194,128,347,755,701,27,15,8,70,135,754,548,914,549,895,79,45,143]),function(Q,e,L,k,y,D,S,f,_,g,C,s,i,n,t,a,u,h,r,c,o,d,l,p,m,v,b,w,E,I,M,P,x,T,A,N,F){"use strict";var O;Object.defineProperty(e,"__esModule",{value:!0}),e.TriggerSuggestAction=e.SuggestController=void 0;const W=!1;class U{constructor(X,H){if(this._model=X,this._position=H,X.getLineMaxColumn(H.lineNumber)!==H.column){const V=X.getOffsetAt(H),Y=X.getPositionAt(V+1);this._marker=X.deltaDecorations([],[{range:h.Range.fromPositions(H,Y),options:{description:"suggest-line-suffix",stickiness:1}}])}}dispose(){this._marker&&!this._model.isDisposed()&&this._model.deltaDecorations(this._marker,[])}delta(X){if(this._model.isDisposed()||this._position.lineNumber!==X.lineNumber)return 0;if(this._marker){const H=this._model.getDecorationRange(this._marker[0]);return this._model.getOffsetAt(H.getStartPosition())-this._model.getOffsetAt(X)}else return this._model.getLineMaxColumn(X.lineNumber)-X.column}}let j=O=class{static get(X){return X.getContribution(O.ID)}constructor(X,H,B,V,Y,ie,ae){this._memoryService=H,this._commandService=B,this._contextKeyService=V,this._instantiationService=Y,this._logService=ie,this._telemetryService=ae,this._lineSuffix=new g.MutableDisposable,this._toDispose=new g.DisposableStore,this._selectors=new R(ue=>ue.priority),this._onWillInsertSuggestItem=new f.Emitter,this.onWillInsertSuggestItem=this._onWillInsertSuggestItem.event,this.editor=X,this.model=Y.createInstance(P.SuggestModel,this.editor),this._selectors.register({priority:0,select:(ue,te,q)=>this._memoryService.select(ue,te,q)});const ce=E.Context.InsertMode.bindTo(V);ce.set(X.getOption(116).insertMode),this._toDispose.add(this.model.onDidTrigger(()=>ce.set(X.getOption(116).insertMode))),this.widget=this._toDispose.add(new y.IdleValue(()=>{const ue=this._instantiationService.createInstance(T.SuggestWidget,this.editor);this._toDispose.add(ue),this._toDispose.add(ue.onDidSelect($=>this._insertSuggestion($,0),this));const te=new M.CommitCharacterController(this.editor,ue,this.model,$=>this._insertSuggestion($,2));this._toDispose.add(te);const q=E.Context.MakesTextEdit.bindTo(this._contextKeyService),z=E.Context.HasInsertAndReplaceRange.bindTo(this._contextKeyService),ee=E.Context.CanResolve.bindTo(this._contextKeyService);return this._toDispose.add((0,g.toDisposable)(()=>{q.reset(),z.reset(),ee.reset()})),this._toDispose.add(ue.onDidFocus(({item:$})=>{const re=this.editor.getPosition(),oe=$.editStart.column,ge=re.column;let ve=!0;this.editor.getOption(1)==="smart"&&this.model.state===2&&!$.completion.additionalTextEdits&&!($.completion.insertTextRules&4)&&ge-oe===$.completion.insertText.length&&(ve=this.editor.getModel().getValueInRange({startLineNumber:re.lineNumber,startColumn:oe,endLineNumber:re.lineNumber,endColumn:ge})!==$.completion.insertText),q.set(ve),z.set(!u.Position.equals($.editInsertEnd,$.editReplaceEnd)),ee.set(!!$.provider.resolveCompletionItem||!!$.completion.documentation||$.completion.detail!==$.completion.label)})),this._toDispose.add(ue.onDetailsKeyDown($=>{if($.toKeyCodeChord().equals(new _.KeyCodeChord(!0,!1,!1,!1,33))||C.isMacintosh&&$.toKeyCodeChord().equals(new _.KeyCodeChord(!1,!1,!1,!0,33))){$.stopPropagation();return}$.toKeyCodeChord().isModifierKey()||this.editor.focus()})),ue})),this._overtypingCapturer=this._toDispose.add(new y.IdleValue(()=>this._toDispose.add(new x.OvertypingCapturer(this.editor,this.model)))),this._alternatives=this._toDispose.add(new y.IdleValue(()=>this._toDispose.add(new I.SuggestAlternatives(this.editor,this._contextKeyService)))),this._toDispose.add(Y.createInstance(l.WordContextKey,X)),this._toDispose.add(this.model.onDidTrigger(ue=>{this.widget.value.showTriggered(ue.auto,ue.shy?250:50),this._lineSuffix.value=new U(this.editor.getModel(),ue.position)})),this._toDispose.add(this.model.onDidSuggest(ue=>{if(ue.triggerOptions.shy)return;let te=-1;for(const z of this._selectors.itemsOrderedByPriorityDesc)if(te=z.select(this.editor.getModel(),this.editor.getPosition(),ue.completionModel.items),te!==-1)break;te===-1&&(te=0);let q=!1;if(ue.triggerOptions.auto){const z=this.editor.getOption(116);z.selectionMode==="never"||z.selectionMode==="always"?q=z.selectionMode==="never":z.selectionMode==="whenTriggerCharacter"?q=ue.triggerOptions.triggerKind!==1:z.selectionMode==="whenQuickSuggestion"&&(q=ue.triggerOptions.triggerKind===1&&!ue.triggerOptions.refilter)}this.widget.value.showSuggestions(ue.completionModel,te,ue.isFrozen,ue.triggerOptions.auto,q)})),this._toDispose.add(this.model.onDidCancel(ue=>{ue.retrigger||this.widget.value.hideWidget()})),this._toDispose.add(this.editor.onDidBlurEditorWidget(()=>{W||(this.model.cancel(),this.model.clear())}));const de=E.Context.AcceptSuggestionsOnEnter.bindTo(V),he=()=>{const ue=this.editor.getOption(1);de.set(ue==="on"||ue==="smart")};this._toDispose.add(this.editor.onDidChangeConfiguration(()=>he())),he()}dispose(){this._alternatives.dispose(),this._toDispose.dispose(),this.widget.dispose(),this.model.dispose(),this._lineSuffix.dispose(),this._onWillInsertSuggestItem.dispose()}_insertSuggestion(X,H){if(!X||!X.item){this._alternatives.value.reset(),this.model.cancel(),this.model.clear();return}if(!this.editor.hasModel())return;const B=c.SnippetController2.get(this.editor);if(!B)return;this._onWillInsertSuggestItem.fire({item:X.item});const V=this.editor.getModel(),Y=V.getAlternativeVersionId(),{item:ie}=X,ae=[],ce=new D.CancellationTokenSource;H&1||this.editor.pushUndoStop();const de=this.getOverwriteInfo(ie,!!(H&8));this._memoryService.memorize(V,this.editor.getPosition(),ie);const he=ie.isResolved;let ue=-1,te=-1;if(Array.isArray(ie.completion.additionalTextEdits)){this.model.cancel();const z=n.StableEditorScrollState.capture(this.editor);this.editor.executeEdits("suggestController.additionalTextEdits.sync",ie.completion.additionalTextEdits.map(ee=>a.EditOperation.replaceMove(h.Range.lift(ee.range),ee.text))),z.restoreRelativeVerticalPositionOfCursor(this.editor)}else if(!he){const z=new s.StopWatch;let ee;const $=V.onDidChangeContent(ve=>{if(ve.isFlush){ce.cancel(),$.dispose();return}for(const Se of ve.changes){const Le=h.Range.getEndPosition(Se.range);(!ee||u.Position.isBefore(Le,ee))&&(ee=Le)}}),re=H;H|=2;let oe=!1;const ge=this.editor.onWillType(()=>{ge.dispose(),oe=!0,re&2||this.editor.pushUndoStop()});ae.push(ie.resolve(ce.token).then(()=>{if(!ie.completion.additionalTextEdits||ce.token.isCancellationRequested)return;if(ee&&ie.completion.additionalTextEdits.some(Se=>u.Position.isBefore(ee,h.Range.getStartPosition(Se.range))))return!1;oe&&this.editor.pushUndoStop();const ve=n.StableEditorScrollState.capture(this.editor);return this.editor.executeEdits("suggestController.additionalTextEdits.async",ie.completion.additionalTextEdits.map(Se=>a.EditOperation.replaceMove(h.Range.lift(Se.range),Se.text))),ve.restoreRelativeVerticalPositionOfCursor(this.editor),(oe||!(re&2))&&this.editor.pushUndoStop(),!0}).then(ve=>{this._logService.trace("[suggest] async resolving of edits DONE (ms, applied?)",z.elapsed(),ve),te=ve===!0?1:ve===!1?0:-2}).finally(()=>{$.dispose(),ge.dispose()}))}let{insertText:q}=ie.completion;if(ie.completion.insertTextRules&4||(q=o.SnippetParser.escape(q)),this.model.cancel(),B.insert(q,{overwriteBefore:de.overwriteBefore,overwriteAfter:de.overwriteAfter,undoStopBefore:!1,undoStopAfter:!1,adjustWhitespace:!(ie.completion.insertTextRules&1),clipboardText:X.model.clipboardText,overtypingCapturer:this._overtypingCapturer.value}),H&2||this.editor.pushUndoStop(),ie.completion.command)if(ie.completion.command.id===K.id)this.model.trigger({auto:!0,retrigger:!0});else{const z=new s.StopWatch;ae.push(this._commandService.executeCommand(ie.completion.command.id,...ie.completion.command.arguments?[...ie.completion.command.arguments]:[]).catch(ee=>{ie.completion.extensionId?(0,S.onUnexpectedExternalError)(ee):(0,S.onUnexpectedError)(ee)}).finally(()=>{ue=z.elapsed()}))}H&4&&this._alternatives.value.set(X,z=>{for(ce.cancel();V.canUndo();){Y!==V.getAlternativeVersionId()&&V.undo(),this._insertSuggestion(z,3|(H&8?8:0));break}}),this._alertCompletionItem(ie),Promise.all(ae).finally(()=>{this._reportSuggestionAcceptedTelemetry(ie,V,he,ue,te),this.model.clear(),ce.dispose()})}_reportSuggestionAcceptedTelemetry(X,H,B,V,Y){var ie,ae,ce;Math.floor(Math.random()*100)!==0&&this._telemetryService.publicLog2("suggest.acceptedSuggestion",{extensionId:(ae=(ie=X.extensionId)===null||ie===void 0?void 0:ie.value)!==null&&ae!==void 0?ae:"unknown",providerId:(ce=X.provider._debugDisplayName)!==null&&ce!==void 0?ce:"unknown",kind:X.completion.kind,basenameHash:(0,F.hash)((0,N.basename)(H.uri)).toString(16),languageId:H.getLanguageId(),fileExtension:(0,N.extname)(H.uri),resolveInfo:X.provider.resolveCompletionItem?B?1:0:-1,resolveDuration:X.resolveDuration,commandDuration:V,additionalEditsAsync:Y})}getOverwriteInfo(X,H){(0,i.assertType)(this.editor.hasModel());let B=this.editor.getOption(116).insertMode==="replace";H&&(B=!B);const V=X.position.column-X.editStart.column,Y=(B?X.editReplaceEnd.column:X.editInsertEnd.column)-X.position.column,ie=this.editor.getPosition().column-X.position.column,ae=this._lineSuffix.value?this._lineSuffix.value.delta(this.editor.getPosition()):0;return{overwriteBefore:V+ie,overwriteAfter:Y+ae}}_alertCompletionItem(X){if((0,k.isNonEmptyArray)(X.completion.additionalTextEdits)){const H=p.localize(0,null,X.textLabel,X.completion.additionalTextEdits.length);(0,L.alert)(H)}}triggerSuggest(X,H,B){this.editor.hasModel()&&(this.model.trigger({auto:H??!1,completionOptions:{providerFilter:X,kindFilter:B?new Set:void 0}}),this.editor.revealPosition(this.editor.getPosition(),0),this.editor.focus())}triggerSuggestAndAcceptBest(X){if(!this.editor.hasModel())return;const H=this.editor.getPosition(),B=()=>{H.equals(this.editor.getPosition())&&this._commandService.executeCommand(X.fallback)},V=Y=>{if(Y.completion.insertTextRules&4||Y.completion.additionalTextEdits)return!0;const ie=this.editor.getPosition(),ae=Y.editStart.column,ce=ie.column;return ce-ae!==Y.completion.insertText.length?!0:this.editor.getModel().getValueInRange({startLineNumber:ie.lineNumber,startColumn:ae,endLineNumber:ie.lineNumber,endColumn:ce})!==Y.completion.insertText};f.Event.once(this.model.onDidTrigger)(Y=>{const ie=[];f.Event.any(this.model.onDidTrigger,this.model.onDidCancel)(()=>{(0,g.dispose)(ie),B()},void 0,ie),this.model.onDidSuggest(({completionModel:ae})=>{if((0,g.dispose)(ie),ae.items.length===0){B();return}const ce=this._memoryService.select(this.editor.getModel(),this.editor.getPosition(),ae.items),de=ae.items[ce];if(!V(de)){B();return}this.editor.pushUndoStop(),this._insertSuggestion({index:ce,item:de,model:ae},7)},void 0,ie)}),this.model.trigger({auto:!1,shy:!0}),this.editor.revealPosition(H,0),this.editor.focus()}acceptSelectedSuggestion(X,H){const B=this.widget.value.getFocusedItem();let V=0;X&&(V|=4),H&&(V|=8),this._insertSuggestion(B,V)}acceptNextSuggestion(){this._alternatives.value.next()}acceptPrevSuggestion(){this._alternatives.value.prev()}cancelSuggestWidget(){this.model.cancel(),this.model.clear(),this.widget.value.hideWidget()}focusSuggestion(){this.widget.value.focusSelected()}selectNextSuggestion(){this.widget.value.selectNext()}selectNextPageSuggestion(){this.widget.value.selectNextPage()}selectLastSuggestion(){this.widget.value.selectLast()}selectPrevSuggestion(){this.widget.value.selectPrevious()}selectPrevPageSuggestion(){this.widget.value.selectPreviousPage()}selectFirstSuggestion(){this.widget.value.selectFirst()}toggleSuggestionDetails(){this.widget.value.toggleDetails()}toggleExplainMode(){this.widget.value.toggleExplainMode()}toggleSuggestionFocus(){this.widget.value.toggleDetailsFocus()}resetWidgetSize(){this.widget.value.resetPersistedSize()}forceRenderingAbove(){this.widget.value.forceRenderingAbove()}stopForceRenderingAbove(){this.widget.isInitialized&&this.widget.value.stopForceRenderingAbove()}registerSelector(X){return this._selectors.register(X)}};e.SuggestController=j,j.ID="editor.contrib.suggestController",e.SuggestController=j=O=ke([fe(1,d.ISuggestMemoryService),fe(2,m.ICommandService),fe(3,v.IContextKeyService),fe(4,b.IInstantiationService),fe(5,w.ILogService),fe(6,A.ITelemetryService)],j);class R{constructor(X){this.prioritySelector=X,this._items=new Array}register(X){if(this._items.indexOf(X)!==-1)throw new Error("Value is already registered");return this._items.push(X),this._items.sort((H,B)=>this.prioritySelector(B)-this.prioritySelector(H)),{dispose:()=>{const H=this._items.indexOf(X);H>=0&&this._items.splice(H,1)}}}get itemsOrderedByPriorityDesc(){return this._items}}class K extends t.EditorAction{constructor(){super({id:K.id,label:p.localize(1,null),alias:"Trigger Suggest",precondition:v.ContextKeyExpr.and(r.EditorContextKeys.writable,r.EditorContextKeys.hasCompletionItemProvider,E.Context.Visible.toNegated()),kbOpts:{kbExpr:r.EditorContextKeys.textInputFocus,primary:2058,secondary:[2087],mac:{primary:266,secondary:[521,2087]},weight:100}})}run(X,H,B){const V=j.get(H);if(!V)return;let Y;B&&typeof B=="object"&&B.auto===!0&&(Y=!0),V.triggerSuggest(void 0,Y,void 0)}}e.TriggerSuggestAction=K,K.id="editor.action.triggerSuggest",(0,t.registerEditorContribution)(j.ID,j,2),(0,t.registerEditorAction)(K);const G=100+90,Z=t.EditorCommand.bindToContribution(j.get);(0,t.registerEditorCommand)(new Z({id:"acceptSelectedSuggestion",precondition:v.ContextKeyExpr.and(E.Context.Visible,E.Context.HasFocusedSuggestion),handler(J){J.acceptSelectedSuggestion(!0,!1)},kbOpts:[{primary:2,kbExpr:v.ContextKeyExpr.and(E.Context.Visible,r.EditorContextKeys.textInputFocus),weight:G},{primary:3,kbExpr:v.ContextKeyExpr.and(E.Context.Visible,r.EditorContextKeys.textInputFocus,E.Context.AcceptSuggestionsOnEnter,E.Context.MakesTextEdit),weight:G}],menuOpts:[{menuId:E.suggestWidgetStatusbarMenu,title:p.localize(2,null),group:"left",order:1,when:E.Context.HasInsertAndReplaceRange.toNegated()},{menuId:E.suggestWidgetStatusbarMenu,title:p.localize(3,null),group:"left",order:1,when:v.ContextKeyExpr.and(E.Context.HasInsertAndReplaceRange,E.Context.InsertMode.isEqualTo("insert"))},{menuId:E.suggestWidgetStatusbarMenu,title:p.localize(4,null),group:"left",order:1,when:v.ContextKeyExpr.and(E.Context.HasInsertAndReplaceRange,E.Context.InsertMode.isEqualTo("replace"))}]})),(0,t.registerEditorCommand)(new Z({id:"acceptAlternativeSelectedSuggestion",precondition:v.ContextKeyExpr.and(E.Context.Visible,r.EditorContextKeys.textInputFocus,E.Context.HasFocusedSuggestion),kbOpts:{weight:G,kbExpr:r.EditorContextKeys.textInputFocus,primary:1027,secondary:[1026]},handler(J){J.acceptSelectedSuggestion(!1,!0)},menuOpts:[{menuId:E.suggestWidgetStatusbarMenu,group:"left",order:2,when:v.ContextKeyExpr.and(E.Context.HasInsertAndReplaceRange,E.Context.InsertMode.isEqualTo("insert")),title:p.localize(5,null)},{menuId:E.suggestWidgetStatusbarMenu,group:"left",order:2,when:v.ContextKeyExpr.and(E.Context.HasInsertAndReplaceRange,E.Context.InsertMode.isEqualTo("replace")),title:p.localize(6,null)}]})),m.CommandsRegistry.registerCommandAlias("acceptSelectedSuggestionOnEnter","acceptSelectedSuggestion"),(0,t.registerEditorCommand)(new Z({id:"hideSuggestWidget",precondition:E.Context.Visible,handler:J=>J.cancelSuggestWidget(),kbOpts:{weight:G,kbExpr:r.EditorContextKeys.textInputFocus,primary:9,secondary:[1033]}})),(0,t.registerEditorCommand)(new Z({id:"selectNextSuggestion",precondition:v.ContextKeyExpr.and(E.Context.Visible,v.ContextKeyExpr.or(E.Context.MultipleSuggestions,E.Context.HasFocusedSuggestion.negate())),handler:J=>J.selectNextSuggestion(),kbOpts:{weight:G,kbExpr:r.EditorContextKeys.textInputFocus,primary:18,secondary:[2066],mac:{primary:18,secondary:[2066,300]}}})),(0,t.registerEditorCommand)(new Z({id:"selectNextPageSuggestion",precondition:v.ContextKeyExpr.and(E.Context.Visible,v.ContextKeyExpr.or(E.Context.MultipleSuggestions,E.Context.HasFocusedSuggestion.negate())),handler:J=>J.selectNextPageSuggestion(),kbOpts:{weight:G,kbExpr:r.EditorContextKeys.textInputFocus,primary:12,secondary:[2060]}})),(0,t.registerEditorCommand)(new Z({id:"selectLastSuggestion",precondition:v.ContextKeyExpr.and(E.Context.Visible,v.ContextKeyExpr.or(E.Context.MultipleSuggestions,E.Context.HasFocusedSuggestion.negate())),handler:J=>J.selectLastSuggestion()})),(0,t.registerEditorCommand)(new Z({id:"selectPrevSuggestion",precondition:v.ContextKeyExpr.and(E.Context.Visible,v.ContextKeyExpr.or(E.Context.MultipleSuggestions,E.Context.HasFocusedSuggestion.negate())),handler:J=>J.selectPrevSuggestion(),kbOpts:{weight:G,kbExpr:r.EditorContextKeys.textInputFocus,primary:16,secondary:[2064],mac:{primary:16,secondary:[2064,302]}}})),(0,t.registerEditorCommand)(new Z({id:"selectPrevPageSuggestion",precondition:v.ContextKeyExpr.and(E.Context.Visible,v.ContextKeyExpr.or(E.Context.MultipleSuggestions,E.Context.HasFocusedSuggestion.negate())),handler:J=>J.selectPrevPageSuggestion(),kbOpts:{weight:G,kbExpr:r.EditorContextKeys.textInputFocus,primary:11,secondary:[2059]}})),(0,t.registerEditorCommand)(new Z({id:"selectFirstSuggestion",precondition:v.ContextKeyExpr.and(E.Context.Visible,v.ContextKeyExpr.or(E.Context.MultipleSuggestions,E.Context.HasFocusedSuggestion.negate())),handler:J=>J.selectFirstSuggestion()})),(0,t.registerEditorCommand)(new Z({id:"focusSuggestion",precondition:v.ContextKeyExpr.and(E.Context.Visible,E.Context.HasFocusedSuggestion.negate()),handler:J=>J.focusSuggestion(),kbOpts:{weight:G,kbExpr:r.EditorContextKeys.textInputFocus,primary:2058,secondary:[2087],mac:{primary:266,secondary:[2087]}}})),(0,t.registerEditorCommand)(new Z({id:"focusAndAcceptSuggestion",precondition:v.ContextKeyExpr.and(E.Context.Visible,E.Context.HasFocusedSuggestion.negate()),handler:J=>{J.focusSuggestion(),J.acceptSelectedSuggestion(!0,!1)}})),(0,t.registerEditorCommand)(new Z({id:"toggleSuggestionDetails",precondition:v.ContextKeyExpr.and(E.Context.Visible,E.Context.HasFocusedSuggestion),handler:J=>J.toggleSuggestionDetails(),kbOpts:{weight:G,kbExpr:r.EditorContextKeys.textInputFocus,primary:2058,secondary:[2087],mac:{primary:266,secondary:[2087]}},menuOpts:[{menuId:E.suggestWidgetStatusbarMenu,group:"right",order:1,when:v.ContextKeyExpr.and(E.Context.DetailsVisible,E.Context.CanResolve),title:p.localize(7,null)},{menuId:E.suggestWidgetStatusbarMenu,group:"right",order:1,when:v.ContextKeyExpr.and(E.Context.DetailsVisible.toNegated(),E.Context.CanResolve),title:p.localize(8,null)}]})),(0,t.registerEditorCommand)(new Z({id:"toggleExplainMode",precondition:E.Context.Visible,handler:J=>J.toggleExplainMode(),kbOpts:{weight:100,primary:2138}})),(0,t.registerEditorCommand)(new Z({id:"toggleSuggestionFocus",precondition:E.Context.Visible,handler:J=>J.toggleSuggestionFocus(),kbOpts:{weight:G,kbExpr:r.EditorContextKeys.textInputFocus,primary:2570,mac:{primary:778}}})),(0,t.registerEditorCommand)(new Z({id:"insertBestCompletion",precondition:v.ContextKeyExpr.and(r.EditorContextKeys.textInputFocus,v.ContextKeyExpr.equals("config.editor.tabCompletion","on"),l.WordContextKey.AtEnd,E.Context.Visible.toNegated(),I.SuggestAlternatives.OtherSuggestions.toNegated(),c.SnippetController2.InSnippetMode.toNegated()),handler:(J,X)=>{J.triggerSuggestAndAcceptBest((0,i.isObject)(X)?Object.assign({fallback:"tab"},X):{fallback:"tab"})},kbOpts:{weight:G,primary:2}})),(0,t.registerEditorCommand)(new Z({id:"insertNextSuggestion",precondition:v.ContextKeyExpr.and(r.EditorContextKeys.textInputFocus,v.ContextKeyExpr.equals("config.editor.tabCompletion","on"),I.SuggestAlternatives.OtherSuggestions,E.Context.Visible.toNegated(),c.SnippetController2.InSnippetMode.toNegated()),handler:J=>J.acceptNextSuggestion(),kbOpts:{weight:G,kbExpr:r.EditorContextKeys.textInputFocus,primary:2}})),(0,t.registerEditorCommand)(new Z({id:"insertPrevSuggestion",precondition:v.ContextKeyExpr.and(r.EditorContextKeys.textInputFocus,v.ContextKeyExpr.equals("config.editor.tabCompletion","on"),I.SuggestAlternatives.OtherSuggestions,E.Context.Visible.toNegated(),c.SnippetController2.InSnippetMode.toNegated()),handler:J=>J.acceptPrevSuggestion(),kbOpts:{weight:G,kbExpr:r.EditorContextKeys.textInputFocus,primary:1026}})),(0,t.registerEditorAction)(class extends t.EditorAction{constructor(){super({id:"editor.action.resetSuggestSize",label:p.localize(9,null),alias:"Reset Suggest Widget Size",precondition:void 0})}run(J,X){var H;(H=j.get(X))===null||H===void 0||H.resetWidgetSize()}})}),define(ne[915],se([1,0,6,2,12,5,29,128,377,378,42,296,14]),function(Q,e,L,k,y,D,S,f,_,g,C,s,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.SuggestItemInfo=e.SuggestWidgetAdaptor=void 0;class n extends k.Disposable{get selectedItem(){return this._selectedItem}constructor(h,r,c,o){super(),this.editor=h,this.suggestControllerPreselector=r,this.checkModelVersion=c,this.onWillAccept=o,this.isSuggestWidgetVisible=!1,this.isShiftKeyPressed=!1,this._isActive=!1,this._currentSuggestItemInfo=void 0,this._selectedItem=(0,C.observableValue)("suggestWidgetInlineCompletionProvider.selectedItem",void 0),this._register(h.onKeyDown(l=>{l.shiftKey&&!this.isShiftKeyPressed&&(this.isShiftKeyPressed=!0,this.update(this._isActive))})),this._register(h.onKeyUp(l=>{l.shiftKey&&this.isShiftKeyPressed&&(this.isShiftKeyPressed=!1,this.update(this._isActive))}));const d=g.SuggestController.get(this.editor);if(d){this._register(d.registerSelector({priority:100,select:(m,v,b)=>{var w;(0,C.transaction)(T=>this.checkModelVersion(T));const E=this.editor.getModel();if(!E)return-1;const I=(w=this.suggestControllerPreselector())===null||w===void 0?void 0:w.removeCommonPrefix(E);if(!I)return-1;const M=y.Position.lift(v),P=b.map((T,A)=>{const F=t.fromSuggestion(d,E,M,T,this.isShiftKeyPressed).toSingleTextEdit().removeCommonPrefix(E),O=I.augments(F);return{index:A,valid:O,prefixLength:F.text.length,suggestItem:T}}).filter(T=>T&&T.valid&&T.prefixLength>0),x=(0,i.findMaxBy)(P,(0,i.compareBy)(T=>T.prefixLength,i.numberComparator));return x?x.index:-1}}));let l=!1;const p=()=>{l||(l=!0,this._register(d.widget.value.onDidShow(()=>{this.isSuggestWidgetVisible=!0,this.update(!0)})),this._register(d.widget.value.onDidHide(()=>{this.isSuggestWidgetVisible=!1,this.update(!1)})),this._register(d.widget.value.onDidFocus(()=>{this.isSuggestWidgetVisible=!0,this.update(!0)})))};this._register(L.Event.once(d.model.onDidTrigger)(m=>{p()})),this._register(d.onWillInsertSuggestItem(m=>{const v=this.editor.getPosition(),b=this.editor.getModel();if(!v||!b)return;const w=t.fromSuggestion(d,b,v,m.item,this.isShiftKeyPressed);this.onWillAccept(w)}))}this.update(this._isActive)}update(h){const r=this.getSuggestItemInfo();(this._isActive!==h||!a(this._currentSuggestItemInfo,r))&&(this._isActive=h,this._currentSuggestItemInfo=r,(0,C.transaction)(c=>{this.checkModelVersion(c),this._selectedItem.set(this._isActive?this._currentSuggestItemInfo:void 0,c)}))}getSuggestItemInfo(){const h=g.SuggestController.get(this.editor);if(!h||!this.isSuggestWidgetVisible)return;const r=h.widget.value.getFocusedItem(),c=this.editor.getPosition(),o=this.editor.getModel();if(!(!r||!c||!o))return t.fromSuggestion(h,o,c,r.item,this.isShiftKeyPressed)}stopForceRenderingAbove(){const h=g.SuggestController.get(this.editor);h?.stopForceRenderingAbove()}forceRenderingAbove(){const h=g.SuggestController.get(this.editor);h?.forceRenderingAbove()}}e.SuggestWidgetAdaptor=n;class t{static fromSuggestion(h,r,c,o,d){let{insertText:l}=o.completion,p=!1;if(o.completion.insertTextRules&4){const v=new f.SnippetParser().parse(l);v.children.length<100&&_.SnippetSession.adjustWhitespace(r,c,!0,v),l=v.toString(),p=!0}const m=h.getOverwriteInfo(o,d);return new t(D.Range.fromPositions(c.delta(0,-m.overwriteBefore),c.delta(0,Math.max(m.overwriteAfter,0))),l,o.completion.kind,p)}constructor(h,r,c,o){this.range=h,this.insertText=r,this.completionItemKind=c,this.isSnippetText=o}equals(h){return this.range.equalsRange(h.range)&&this.insertText===h.insertText&&this.completionItemKind===h.completionItemKind&&this.isSnippetText===h.isSnippetText}toSelectedSuggestionInfo(){return new S.SelectedSuggestionInfo(this.range,this.insertText,this.completionItemKind,this.isSnippetText)}toSingleTextEdit(){return new s.SingleTextEdit(this.range,this.insertText)}}e.SuggestItemInfo=t;function a(u,h){return u===h?!0:!u||!h?!1:u.equals(h)}}),define(ne[258],se([1,0,49,6,2,42,189,12,76,18,214,750,235,253,913,915,680,116,27,28,15,8,34]),function(Q,e,L,k,y,D,S,f,_,g,C,s,i,n,t,a,u,h,r,c,o,d,l){"use strict";var p;Object.defineProperty(e,"__esModule",{value:!0}),e.InlineCompletionsController=void 0;let m=p=class extends y.Disposable{static get(b){return b.getContribution(p.ID)}constructor(b,w,E,I,M,P,x,T,A){super(),this.editor=b,this.instantiationService=w,this.contextKeyService=E,this.configurationService=I,this.commandService=M,this.debounceService=P,this.languageFeaturesService=x,this.audioCueService=T,this._keybindingService=A,this.model=(0,D.disposableObservableValue)("inlineCompletionModel",void 0),this.textModelVersionId=(0,D.observableValue)("textModelVersionId",-1),this.cursorPosition=(0,D.observableValue)("cursorPosition",new f.Position(1,1)),this.suggestWidgetAdaptor=this._register(new a.SuggestWidgetAdaptor(this.editor,()=>{var O,W;return(W=(O=this.model.get())===null||O===void 0?void 0:O.selectedInlineCompletion.get())===null||W===void 0?void 0:W.toSingleTextEdit(void 0)},O=>this.updateObservables(O,t.VersionIdChangeReason.Other),O=>{(0,D.transaction)(W=>{var U;this.updateObservables(W,t.VersionIdChangeReason.Other),(U=this.model.get())===null||U===void 0||U.handleSuggestAccepted(O)})})),this._enabled=(0,D.observableFromEvent)(this.editor.onDidChangeConfiguration,()=>this.editor.getOption(61).enabled),this.ghostTextWidget=this._register(this.instantiationService.createInstance(s.GhostTextWidget,this.editor,{ghostText:this.model.map((O,W)=>O?.ghostText.read(W)),minReservedLineCount:(0,D.constObservable)(0),targetTextModel:this.model.map(O=>O?.textModel)})),this._debounceValue=this.debounceService.for(this.languageFeaturesService.inlineCompletionsProvider,"InlineCompletionsDebounce",{min:50,max:50}),this._register(new i.InlineCompletionContextKeys(this.contextKeyService,this.model)),this._register(k.Event.runAndSubscribe(b.onDidChangeModel,()=>(0,D.transaction)(O=>{this.model.set(void 0,O),this.updateObservables(O,t.VersionIdChangeReason.Other);const W=b.getModel();if(W){const U=w.createInstance(t.InlineCompletionsModel,W,this.suggestWidgetAdaptor.selectedItem,this.cursorPosition,this.textModelVersionId,this._debounceValue,(0,D.observableFromEvent)(b.onDidChangeConfiguration,()=>b.getOption(116).preview),(0,D.observableFromEvent)(b.onDidChangeConfiguration,()=>b.getOption(116).previewMode),(0,D.observableFromEvent)(b.onDidChangeConfiguration,()=>b.getOption(61).mode),this._enabled);this.model.set(U,O)}})));const N=O=>{var W;return O.isUndoing?t.VersionIdChangeReason.Undo:O.isRedoing?t.VersionIdChangeReason.Redo:!((W=this.model.get())===null||W===void 0)&&W.isAcceptingPartially?t.VersionIdChangeReason.AcceptWord:t.VersionIdChangeReason.Other};this._register(b.onDidChangeModelContent(O=>(0,D.transaction)(W=>this.updateObservables(W,N(O))))),this._register(b.onDidChangeCursorPosition(O=>(0,D.transaction)(W=>{var U;this.updateObservables(W,t.VersionIdChangeReason.Other),(O.reason===3||O.source==="api")&&((U=this.model.get())===null||U===void 0||U.stop(W))}))),this._register(b.onDidType(()=>(0,D.transaction)(O=>{var W;this.updateObservables(O,t.VersionIdChangeReason.Other),this._enabled.get()&&((W=this.model.get())===null||W===void 0||W.trigger(O))}))),this._register(this.commandService.onDidExecuteCommand(O=>{new Set([S.CoreEditingCommands.Tab.id,S.CoreEditingCommands.DeleteLeft.id,S.CoreEditingCommands.DeleteRight.id,C.inlineSuggestCommitId,"acceptSelectedSuggestion"]).has(O.commandId)&&b.hasTextFocus()&&this._enabled.get()&&(0,D.transaction)(U=>{var j;(j=this.model.get())===null||j===void 0||j.trigger(U)})})),this._register(this.editor.onDidBlurEditorWidget(()=>{this.contextKeyService.getContextKeyValue("accessibleViewIsShown")||this.configurationService.getValue("editor.inlineSuggest.keepOnBlur")||b.getOption(61).keepOnBlur||n.InlineSuggestionHintsContentWidget.dropDownVisible||(0,D.transaction)(O=>{var W;(W=this.model.get())===null||W===void 0||W.stop(O)})})),this._register((0,D.autorun)(O=>{var W;const U=(W=this.model.read(O))===null||W===void 0?void 0:W.state.read(O);U?.suggestItem?U.ghostText.lineCount>=2&&this.suggestWidgetAdaptor.forceRenderingAbove():this.suggestWidgetAdaptor.stopForceRenderingAbove()})),this._register((0,y.toDisposable)(()=>{this.suggestWidgetAdaptor.stopForceRenderingAbove()}));let F;this._register((0,D.autorun)(O=>{const W=this.model.read(O),U=W?.state.read(O);if(!W||!U||!U.inlineCompletion){F=void 0;return}if(U.inlineCompletion.semanticId!==F){F=U.inlineCompletion.semanticId;const j=W.textModel.getLineContent(U.ghostText.lineNumber);this.audioCueService.playAudioCue(h.AudioCue.inlineSuggestion).then(()=>{this.editor.getOption(7)&&this.provideScreenReaderUpdate(U.ghostText.renderForScreenReader(j))})}})),this._register(new n.InlineCompletionsHintsWidget(this.editor,this.model,this.instantiationService)),this._register(this.configurationService.onDidChangeConfiguration(O=>{O.affectsConfiguration("accessibility.verbosity.inlineCompletions")&&this.editor.updateOptions({inlineCompletionsAccessibilityVerbose:this.configurationService.getValue("accessibility.verbosity.inlineCompletions")})})),this.editor.updateOptions({inlineCompletionsAccessibilityVerbose:this.configurationService.getValue("accessibility.verbosity.inlineCompletions")})}provideScreenReaderUpdate(b){const w=this.contextKeyService.getContextKeyValue("accessibleViewIsShown"),E=this._keybindingService.lookupKeybinding("editor.action.accessibleView");let I;!w&&E&&this.editor.getOption(146)&&(I=(0,u.localize)(0,null,E.getAriaLabel())),I?(0,L.alert)(b+", "+I):(0,L.alert)(b)}updateObservables(b,w){var E,I;const M=this.editor.getModel();this.textModelVersionId.set((E=M?.getVersionId())!==null&&E!==void 0?E:-1,b,w),this.cursorPosition.set((I=this.editor.getPosition())!==null&&I!==void 0?I:new f.Position(1,1),b)}shouldShowHoverAt(b){var w;const E=(w=this.model.get())===null||w===void 0?void 0:w.ghostText.get();return E?E.parts.some(I=>b.containsPosition(new f.Position(E.lineNumber,I.column))):!1}shouldShowHoverAtViewZone(b){return this.ghostTextWidget.ownsViewZone(b)}};e.InlineCompletionsController=m,m.ID="editor.contrib.inlineCompletionsController",e.InlineCompletionsController=m=p=ke([fe(1,d.IInstantiationService),fe(2,o.IContextKeyService),fe(3,c.IConfigurationService),fe(4,r.ICommandService),fe(5,_.ILanguageFeatureDebounceService),fe(6,g.ILanguageFeaturesService),fe(7,h.IAudioCueService),fe(8,l.IKeybindingService)],m)}),define(ne[916],se([1,0,42,16,21,214,235,258,135,677,30,28,15]),function(Q,e,L,k,y,D,S,f,_,g,C,s,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ToggleAlwaysShowInlineSuggestionToolbar=e.HideInlineCompletion=e.AcceptInlineCompletion=e.AcceptNextLineOfInlineCompletion=e.AcceptNextWordOfInlineCompletion=e.TriggerInlineSuggestionAction=e.ShowPreviousInlineSuggestionAction=e.ShowNextInlineSuggestionAction=void 0;class n extends k.EditorAction{constructor(){super({id:n.ID,label:g.localize(0,null),alias:"Show Next Inline Suggestion",precondition:i.ContextKeyExpr.and(y.EditorContextKeys.writable,S.InlineCompletionContextKeys.inlineSuggestionVisible),kbOpts:{weight:100,primary:606}})}run(l,p){var m;return we(this,void 0,void 0,function*(){const v=f.InlineCompletionsController.get(p);(m=v?.model.get())===null||m===void 0||m.next()})}}e.ShowNextInlineSuggestionAction=n,n.ID=D.showNextInlineSuggestionActionId;class t extends k.EditorAction{constructor(){super({id:t.ID,label:g.localize(1,null),alias:"Show Previous Inline Suggestion",precondition:i.ContextKeyExpr.and(y.EditorContextKeys.writable,S.InlineCompletionContextKeys.inlineSuggestionVisible),kbOpts:{weight:100,primary:604}})}run(l,p){var m;return we(this,void 0,void 0,function*(){const v=f.InlineCompletionsController.get(p);(m=v?.model.get())===null||m===void 0||m.previous()})}}e.ShowPreviousInlineSuggestionAction=t,t.ID=D.showPreviousInlineSuggestionActionId;class a extends k.EditorAction{constructor(){super({id:"editor.action.inlineSuggest.trigger",label:g.localize(2,null),alias:"Trigger Inline Suggestion",precondition:y.EditorContextKeys.writable})}run(l,p){var m;return we(this,void 0,void 0,function*(){const v=f.InlineCompletionsController.get(p);(m=v?.model.get())===null||m===void 0||m.triggerExplicitly()})}}e.TriggerInlineSuggestionAction=a;class u extends k.EditorAction{constructor(){super({id:"editor.action.inlineSuggest.acceptNextWord",label:g.localize(3,null),alias:"Accept Next Word Of Inline Suggestion",precondition:i.ContextKeyExpr.and(y.EditorContextKeys.writable,S.InlineCompletionContextKeys.inlineSuggestionVisible),kbOpts:{weight:100+1,primary:2065,kbExpr:i.ContextKeyExpr.and(y.EditorContextKeys.writable,S.InlineCompletionContextKeys.inlineSuggestionVisible)},menuOpts:[{menuId:C.MenuId.InlineSuggestionToolbar,title:g.localize(4,null),group:"primary",order:2}]})}run(l,p){var m;return we(this,void 0,void 0,function*(){const v=f.InlineCompletionsController.get(p);yield(m=v?.model.get())===null||m===void 0?void 0:m.acceptNextWord(v.editor)})}}e.AcceptNextWordOfInlineCompletion=u;class h extends k.EditorAction{constructor(){super({id:"editor.action.inlineSuggest.acceptNextLine",label:g.localize(5,null),alias:"Accept Next Line Of Inline Suggestion",precondition:i.ContextKeyExpr.and(y.EditorContextKeys.writable,S.InlineCompletionContextKeys.inlineSuggestionVisible),kbOpts:{weight:100+1},menuOpts:[{menuId:C.MenuId.InlineSuggestionToolbar,title:g.localize(6,null),group:"secondary",order:2}]})}run(l,p){var m;return we(this,void 0,void 0,function*(){const v=f.InlineCompletionsController.get(p);yield(m=v?.model.get())===null||m===void 0?void 0:m.acceptNextLine(v.editor)})}}e.AcceptNextLineOfInlineCompletion=h;class r extends k.EditorAction{constructor(){super({id:D.inlineSuggestCommitId,label:g.localize(7,null),alias:"Accept Inline Suggestion",precondition:S.InlineCompletionContextKeys.inlineSuggestionVisible,menuOpts:[{menuId:C.MenuId.InlineSuggestionToolbar,title:g.localize(8,null),group:"primary",order:1}],kbOpts:{primary:2,weight:200,kbExpr:i.ContextKeyExpr.and(S.InlineCompletionContextKeys.inlineSuggestionVisible,y.EditorContextKeys.tabMovesFocus.toNegated(),S.InlineCompletionContextKeys.inlineSuggestionHasIndentationLessThanTabSize,_.Context.Visible.toNegated(),y.EditorContextKeys.hoverFocused.toNegated())}})}run(l,p){var m;return we(this,void 0,void 0,function*(){const v=f.InlineCompletionsController.get(p);v&&((m=v.model.get())===null||m===void 0||m.accept(v.editor),v.editor.focus())})}}e.AcceptInlineCompletion=r;class c extends k.EditorAction{constructor(){super({id:c.ID,label:g.localize(9,null),alias:"Hide Inline Suggestion",precondition:S.InlineCompletionContextKeys.inlineSuggestionVisible,kbOpts:{weight:100,primary:9}})}run(l,p){return we(this,void 0,void 0,function*(){const m=f.InlineCompletionsController.get(p);(0,L.transaction)(v=>{var b;(b=m?.model.get())===null||b===void 0||b.stop(v)})})}}e.HideInlineCompletion=c,c.ID="editor.action.inlineSuggest.hide";class o extends C.Action2{constructor(){super({id:o.ID,title:g.localize(10,null),f1:!1,precondition:void 0,menu:[{id:C.MenuId.InlineSuggestionToolbar,group:"secondary",order:10}],toggled:i.ContextKeyExpr.equals("config.editor.inlineSuggest.showToolbar","always")})}run(l,p){return we(this,void 0,void 0,function*(){const m=l.get(s.IConfigurationService),b=m.getValue("editor.inlineSuggest.showToolbar")==="always"?"onHover":"always";m.updateValue("editor.inlineSuggest.showToolbar",b)})}}e.ToggleAlwaysShowInlineSuggestionToolbar=o,o.ID="editor.action.inlineSuggest.toggleAlwaysShowToolbar"}),define(ne[917],se([1,0,7,55,2,42,5,41,103,258,253,117,678,84,8,56,79]),function(Q,e,L,k,y,D,S,f,_,g,C,s,i,n,t,a,u){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.InlineCompletionsHoverParticipant=e.InlineCompletionsHover=void 0;class h{constructor(o,d,l){this.owner=o,this.range=d,this.controller=l}isValidForHoverAnchor(o){return o.type===1&&this.range.startColumn<=o.range.startColumn&&this.range.endColumn>=o.range.endColumn}}e.InlineCompletionsHover=h;let r=class{constructor(o,d,l,p,m,v){this._editor=o,this._languageService=d,this._openerService=l,this.accessibilityService=p,this._instantiationService=m,this._telemetryService=v,this.hoverOrdinal=4}suggestHoverAnchor(o){const d=g.InlineCompletionsController.get(this._editor);if(!d)return null;const l=o.target;if(l.type===8){const p=l.detail;if(d.shouldShowHoverAtViewZone(p.viewZoneId))return new _.HoverForeignElementAnchor(1e3,this,S.Range.fromPositions(this._editor.getModel().validatePosition(p.positionBefore||p.position)),o.event.posx,o.event.posy,!1)}return l.type===7&&d.shouldShowHoverAt(l.range)?new _.HoverForeignElementAnchor(1e3,this,l.range,o.event.posx,o.event.posy,!1):l.type===6&&l.detail.mightBeForeignElement&&d.shouldShowHoverAt(l.range)?new _.HoverForeignElementAnchor(1e3,this,l.range,o.event.posx,o.event.posy,!1):null}computeSync(o,d){if(this._editor.getOption(61).showToolbar==="always")return[];const l=g.InlineCompletionsController.get(this._editor);return l&&l.shouldShowHoverAt(o.range)?[new h(this,o.range,l)]:[]}renderHoverParts(o,d){const l=new y.DisposableStore,p=d[0];this._telemetryService.publicLog2("inlineCompletionHover.shown"),this.accessibilityService.isScreenReaderOptimized()&&!this._editor.getOption(7)&&this.renderScreenReaderText(o,p,l);const m=p.controller.model.get(),v=this._instantiationService.createInstance(C.InlineSuggestionHintsContentWidget,this._editor,!1,(0,D.constObservable)(null),m.selectedInlineCompletionIndex,m.inlineCompletionsCount,m.selectedInlineCompletion.map(b=>{var w;return(w=b?.inlineCompletion.source.inlineCompletions.commands)!==null&&w!==void 0?w:[]}));return o.fragment.appendChild(v.getDomNode()),m.triggerExplicitly(),l.add(v),l}renderScreenReaderText(o,d,l){const p=L.$,m=p("div.hover-row.markdown-hover"),v=L.append(m,p("div.hover-contents",{["aria-live"]:"assertive"})),b=l.add(new s.MarkdownRenderer({editor:this._editor},this._languageService,this._openerService)),w=E=>{l.add(b.onDidRenderAsync(()=>{v.className="hover-contents code-hover-contents",o.onContentsChanged()}));const I=i.localize(0,null),M=l.add(b.render(new k.MarkdownString().appendText(I).appendCodeblock("text",E)));v.replaceChildren(M.element)};l.add((0,D.autorun)(E=>{var I;const M=(I=d.controller.model.read(E))===null||I===void 0?void 0:I.ghostText.read(E);if(M){const P=this._editor.getModel().getLineContent(M.lineNumber);w(M.renderForScreenReader(P))}else L.reset(v)})),o.fragment.appendChild(m)}};e.InlineCompletionsHoverParticipant=r,e.InlineCompletionsHoverParticipant=r=ke([fe(1,f.ILanguageService),fe(2,a.IOpenerService),fe(3,n.IAccessibilityService),fe(4,t.IInstantiationService),fe(5,u.ITelemetryService)],r)}),define(ne[918],se([1,0,16,103,916,917,258,30]),function(Q,e,L,k,y,D,S,f){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),(0,L.registerEditorContribution)(S.InlineCompletionsController.ID,S.InlineCompletionsController,3),(0,L.registerEditorAction)(y.TriggerInlineSuggestionAction),(0,L.registerEditorAction)(y.ShowNextInlineSuggestionAction),(0,L.registerEditorAction)(y.ShowPreviousInlineSuggestionAction),(0,L.registerEditorAction)(y.AcceptNextWordOfInlineCompletion),(0,L.registerEditorAction)(y.AcceptNextLineOfInlineCompletion),(0,L.registerEditorAction)(y.AcceptInlineCompletion),(0,L.registerEditorAction)(y.HideInlineCompletion),(0,f.registerAction2)(y.ToggleAlwaysShowInlineSuggestionToolbar),k.HoverParticipantRegistry.register(D.InlineCompletionsHoverParticipant)}),define(ne[379],se([1,0,8]),function(Q,e,L){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.IWorkspaceTrustManagementService=void 0,e.IWorkspaceTrustManagementService=(0,L.createDecorator)("workspaceTrustManagementService")}),define(ne[919],se([1,0,13,25,55,2,17,11,16,36,40,286,115,41,325,103,248,834,709,28,8,56,71,62,379,465]),function(Q,e,L,k,y,D,S,f,_,g,C,s,i,n,t,a,u,h,r,c,o,d,l,p,m){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ShowExcludeOptions=e.DisableHighlightingOfNonBasicAsciiCharactersAction=e.DisableHighlightingOfInvisibleCharactersAction=e.DisableHighlightingOfAmbiguousCharactersAction=e.DisableHighlightingInStringsAction=e.DisableHighlightingInCommentsAction=e.UnicodeHighlighterHoverParticipant=e.UnicodeHighlighter=e.warningIcon=void 0,e.warningIcon=(0,p.registerIcon)("extensions-warning-message",k.Codicon.warning,r.localize(0,null));let v=class extends D.Disposable{constructor(J,X,H,B){super(),this._editor=J,this._editorWorkerService=X,this._workspaceTrustService=H,this._highlighter=null,this._bannerClosed=!1,this._updateState=V=>{if(V&&V.hasMore){if(this._bannerClosed)return;const Y=Math.max(V.ambiguousCharacterCount,V.nonBasicAsciiCharacterCount,V.invisibleCharacterCount);let ie;if(V.nonBasicAsciiCharacterCount>=Y)ie={message:r.localize(1,null),command:new U};else if(V.ambiguousCharacterCount>=Y)ie={message:r.localize(2,null),command:new O};else if(V.invisibleCharacterCount>=Y)ie={message:r.localize(3,null),command:new W};else throw new Error("Unreachable");this._bannerController.show({id:"unicodeHighlightBanner",message:ie.message,icon:e.warningIcon,actions:[{label:ie.command.shortLabel,href:`command:${ie.command.id}`}],onClose:()=>{this._bannerClosed=!0}})}else this._bannerController.hide()},this._bannerController=this._register(B.createInstance(h.BannerController,J)),this._register(this._editor.onDidChangeModel(()=>{this._bannerClosed=!1,this._updateHighlighter()})),this._options=J.getOption(123),this._register(H.onDidChangeTrust(V=>{this._updateHighlighter()})),this._register(J.onDidChangeConfiguration(V=>{V.hasChanged(123)&&(this._options=J.getOption(123),this._updateHighlighter())})),this._updateHighlighter()}dispose(){this._highlighter&&(this._highlighter.dispose(),this._highlighter=null),super.dispose()}_updateHighlighter(){if(this._updateState(null),this._highlighter&&(this._highlighter.dispose(),this._highlighter=null),!this._editor.hasModel())return;const J=b(this._workspaceTrustService.isWorkspaceTrusted(),this._options);if([J.nonBasicASCII,J.ambiguousCharacters,J.invisibleCharacters].every(H=>H===!1))return;const X={nonBasicASCII:J.nonBasicASCII,ambiguousCharacters:J.ambiguousCharacters,invisibleCharacters:J.invisibleCharacters,includeComments:J.includeComments,includeStrings:J.includeStrings,allowedCodePoints:Object.keys(J.allowedCharacters).map(H=>H.codePointAt(0)),allowedLocales:Object.keys(J.allowedLocales).map(H=>H==="_os"?new Intl.NumberFormat().resolvedOptions().locale:H==="_vscode"?S.language:H)};this._editorWorkerService.canComputeUnicodeHighlights(this._editor.getModel().uri)?this._highlighter=new w(this._editor,X,this._updateState,this._editorWorkerService):this._highlighter=new E(this._editor,X,this._updateState)}getDecorationInfo(J){return this._highlighter?this._highlighter.getDecorationInfo(J):null}};e.UnicodeHighlighter=v,v.ID="editor.contrib.unicodeHighlighter",e.UnicodeHighlighter=v=ke([fe(1,i.IEditorWorkerService),fe(2,m.IWorkspaceTrustManagementService),fe(3,o.IInstantiationService)],v);function b(Z,J){return{nonBasicASCII:J.nonBasicASCII===g.inUntrustedWorkspace?!Z:J.nonBasicASCII,ambiguousCharacters:J.ambiguousCharacters,invisibleCharacters:J.invisibleCharacters,includeComments:J.includeComments===g.inUntrustedWorkspace?!Z:J.includeComments,includeStrings:J.includeStrings===g.inUntrustedWorkspace?!Z:J.includeStrings,allowedCharacters:J.allowedCharacters,allowedLocales:J.allowedLocales}}let w=class extends D.Disposable{constructor(J,X,H,B){super(),this._editor=J,this._options=X,this._updateState=H,this._editorWorkerService=B,this._model=this._editor.getModel(),this._decorations=this._editor.createDecorationsCollection(),this._updateSoon=this._register(new L.RunOnceScheduler(()=>this._update(),250)),this._register(this._editor.onDidChangeModelContent(()=>{this._updateSoon.schedule()})),this._updateSoon.schedule()}dispose(){this._decorations.clear(),super.dispose()}_update(){if(this._model.isDisposed())return;if(!this._model.mightContainNonBasicASCII()){this._decorations.clear();return}const J=this._model.getVersionId();this._editorWorkerService.computedUnicodeHighlights(this._model.uri,this._options).then(X=>{if(this._model.isDisposed()||this._model.getVersionId()!==J)return;this._updateState(X);const H=[];if(!X.hasMore)for(const B of X.ranges)H.push({range:B,options:A.instance.getDecorationFromOptions(this._options)});this._decorations.set(H)})}getDecorationInfo(J){if(!this._decorations.has(J))return null;const X=this._editor.getModel();if(!(0,t.isModelDecorationVisible)(X,J))return null;const H=X.getValueInRange(J.range);return{reason:T(H,this._options),inComment:(0,t.isModelDecorationInComment)(X,J),inString:(0,t.isModelDecorationInString)(X,J)}}};w=ke([fe(3,i.IEditorWorkerService)],w);class E extends D.Disposable{constructor(J,X,H){super(),this._editor=J,this._options=X,this._updateState=H,this._model=this._editor.getModel(),this._decorations=this._editor.createDecorationsCollection(),this._updateSoon=this._register(new L.RunOnceScheduler(()=>this._update(),250)),this._register(this._editor.onDidLayoutChange(()=>{this._updateSoon.schedule()})),this._register(this._editor.onDidScrollChange(()=>{this._updateSoon.schedule()})),this._register(this._editor.onDidChangeHiddenAreas(()=>{this._updateSoon.schedule()})),this._register(this._editor.onDidChangeModelContent(()=>{this._updateSoon.schedule()})),this._updateSoon.schedule()}dispose(){this._decorations.clear(),super.dispose()}_update(){if(this._model.isDisposed())return;if(!this._model.mightContainNonBasicASCII()){this._decorations.clear();return}const J=this._editor.getVisibleRanges(),X=[],H={ranges:[],ambiguousCharacterCount:0,invisibleCharacterCount:0,nonBasicAsciiCharacterCount:0,hasMore:!1};for(const B of J){const V=s.UnicodeTextModelHighlighter.computeUnicodeHighlights(this._model,this._options,B);for(const Y of V.ranges)H.ranges.push(Y);H.ambiguousCharacterCount+=H.ambiguousCharacterCount,H.invisibleCharacterCount+=H.invisibleCharacterCount,H.nonBasicAsciiCharacterCount+=H.nonBasicAsciiCharacterCount,H.hasMore=H.hasMore||V.hasMore}if(!H.hasMore)for(const B of H.ranges)X.push({range:B,options:A.instance.getDecorationFromOptions(this._options)});this._updateState(H),this._decorations.set(X)}getDecorationInfo(J){if(!this._decorations.has(J))return null;const X=this._editor.getModel(),H=X.getValueInRange(J.range);return(0,t.isModelDecorationVisible)(X,J)?{reason:T(H,this._options),inComment:(0,t.isModelDecorationInComment)(X,J),inString:(0,t.isModelDecorationInString)(X,J)}:null}}let I=class{constructor(J,X,H){this._editor=J,this._languageService=X,this._openerService=H,this.hoverOrdinal=5}computeSync(J,X){if(!this._editor.hasModel()||J.type!==1)return[];const H=this._editor.getModel(),B=this._editor.getContribution(v.ID);if(!B)return[];const V=[],Y=new Set;let ie=300;for(const ae of X){const ce=B.getDecorationInfo(ae);if(!ce)continue;const he=H.getValueInRange(ae.range).codePointAt(0),ue=P(he);let te;switch(ce.reason.kind){case 0:{(0,f.isBasicASCII)(ce.reason.confusableWith)?te=r.localize(4,null,ue,P(ce.reason.confusableWith.codePointAt(0))):te=r.localize(5,null,ue,P(ce.reason.confusableWith.codePointAt(0)));break}case 1:te=r.localize(6,null,ue);break;case 2:te=r.localize(7,null,ue);break}if(Y.has(te))continue;Y.add(te);const q={codePoint:he,reason:ce.reason,inComment:ce.inComment,inString:ce.inString},z=r.localize(8,null),ee=`command:${j.ID}?${encodeURIComponent(JSON.stringify(q))}`,$=new y.MarkdownString("",!0).appendMarkdown(te).appendText(" ").appendLink(ee,z);V.push(new u.MarkdownHover(this,ae.range,[$],!1,ie++))}return V}renderHoverParts(J,X){return(0,u.renderMarkdownHovers)(J,X,this._editor,this._languageService,this._openerService)}};e.UnicodeHighlighterHoverParticipant=I,e.UnicodeHighlighterHoverParticipant=I=ke([fe(1,n.ILanguageService),fe(2,d.IOpenerService)],I);function M(Z){return`U+${Z.toString(16).padStart(4,"0")}`}function P(Z){let J=`\`${M(Z)}\``;return f.InvisibleCharacters.isInvisibleCharacter(Z)||(J+=` "${`${x(Z)}`}"`),J}function x(Z){return Z===96?"`` ` ``":"`"+String.fromCodePoint(Z)+"`"}function T(Z,J){return s.UnicodeTextModelHighlighter.computeUnicodeHighlightReason(Z,J)}class A{constructor(){this.map=new Map}getDecorationFromOptions(J){return this.getDecoration(!J.includeComments,!J.includeStrings)}getDecoration(J,X){const H=`${J}${X}`;let B=this.map.get(H);return B||(B=C.ModelDecorationOptions.createDynamic({description:"unicode-highlight",stickiness:1,className:"unicode-highlight",showIfCollapsed:!0,overviewRuler:null,minimap:null,hideInCommentTokens:J,hideInStringTokens:X}),this.map.set(H,B)),B}}A.instance=new A;class N extends _.EditorAction{constructor(){super({id:O.ID,label:r.localize(10,null),alias:"Disable highlighting of characters in comments",precondition:void 0}),this.shortLabel=r.localize(9,null)}run(J,X,H){return we(this,void 0,void 0,function*(){const B=J?.get(c.IConfigurationService);B&&this.runAction(B)})}runAction(J){return we(this,void 0,void 0,function*(){yield J.updateValue(g.unicodeHighlightConfigKeys.includeComments,!1,2)})}}e.DisableHighlightingInCommentsAction=N;class F extends _.EditorAction{constructor(){super({id:O.ID,label:r.localize(12,null),alias:"Disable highlighting of characters in strings",precondition:void 0}),this.shortLabel=r.localize(11,null)}run(J,X,H){return we(this,void 0,void 0,function*(){const B=J?.get(c.IConfigurationService);B&&this.runAction(B)})}runAction(J){return we(this,void 0,void 0,function*(){yield J.updateValue(g.unicodeHighlightConfigKeys.includeStrings,!1,2)})}}e.DisableHighlightingInStringsAction=F;class O extends _.EditorAction{constructor(){super({id:O.ID,label:r.localize(14,null),alias:"Disable highlighting of ambiguous characters",precondition:void 0}),this.shortLabel=r.localize(13,null)}run(J,X,H){return we(this,void 0,void 0,function*(){const B=J?.get(c.IConfigurationService);B&&this.runAction(B)})}runAction(J){return we(this,void 0,void 0,function*(){yield J.updateValue(g.unicodeHighlightConfigKeys.ambiguousCharacters,!1,2)})}}e.DisableHighlightingOfAmbiguousCharactersAction=O,O.ID="editor.action.unicodeHighlight.disableHighlightingOfAmbiguousCharacters";class W extends _.EditorAction{constructor(){super({id:W.ID,label:r.localize(16,null),alias:"Disable highlighting of invisible characters",precondition:void 0}),this.shortLabel=r.localize(15,null)}run(J,X,H){return we(this,void 0,void 0,function*(){const B=J?.get(c.IConfigurationService);B&&this.runAction(B)})}runAction(J){return we(this,void 0,void 0,function*(){yield J.updateValue(g.unicodeHighlightConfigKeys.invisibleCharacters,!1,2)})}}e.DisableHighlightingOfInvisibleCharactersAction=W,W.ID="editor.action.unicodeHighlight.disableHighlightingOfInvisibleCharacters";class U extends _.EditorAction{constructor(){super({id:U.ID,label:r.localize(18,null),alias:"Disable highlighting of non basic ASCII characters",precondition:void 0}),this.shortLabel=r.localize(17,null)}run(J,X,H){return we(this,void 0,void 0,function*(){const B=J?.get(c.IConfigurationService);B&&this.runAction(B)})}runAction(J){return we(this,void 0,void 0,function*(){yield J.updateValue(g.unicodeHighlightConfigKeys.nonBasicASCII,!1,2)})}}e.DisableHighlightingOfNonBasicAsciiCharactersAction=U,U.ID="editor.action.unicodeHighlight.disableHighlightingOfNonBasicAsciiCharacters";class j extends _.EditorAction{constructor(){super({id:j.ID,label:r.localize(19,null),alias:"Show Exclude Options",precondition:void 0})}run(J,X,H){return we(this,void 0,void 0,function*(){const{codePoint:B,reason:V,inString:Y,inComment:ie}=H,ae=String.fromCodePoint(B),ce=J.get(l.IQuickInputService),de=J.get(c.IConfigurationService);function he(q){return f.InvisibleCharacters.isInvisibleCharacter(q)?r.localize(20,null,M(q)):r.localize(21,null,`${M(q)} "${ae}"`)}const ue=[];if(V.kind===0)for(const q of V.notAmbiguousInLocales)ue.push({label:r.localize(22,null,q),run:()=>we(this,void 0,void 0,function*(){K(de,[q])})});if(ue.push({label:he(B),run:()=>R(de,[B])}),ie){const q=new N;ue.push({label:q.label,run:()=>we(this,void 0,void 0,function*(){return q.runAction(de)})})}else if(Y){const q=new F;ue.push({label:q.label,run:()=>we(this,void 0,void 0,function*(){return q.runAction(de)})})}if(V.kind===0){const q=new O;ue.push({label:q.label,run:()=>we(this,void 0,void 0,function*(){return q.runAction(de)})})}else if(V.kind===1){const q=new W;ue.push({label:q.label,run:()=>we(this,void 0,void 0,function*(){return q.runAction(de)})})}else if(V.kind===2){const q=new U;ue.push({label:q.label,run:()=>we(this,void 0,void 0,function*(){return q.runAction(de)})})}else G(V);const te=yield ce.pick(ue,{title:r.localize(23,null)});te&&(yield te.run())})}}e.ShowExcludeOptions=j,j.ID="editor.action.unicodeHighlight.showExcludeOptions";function R(Z,J){return we(this,void 0,void 0,function*(){const X=Z.getValue(g.unicodeHighlightConfigKeys.allowedCharacters);let H;typeof X=="object"&&X?H=X:H={};for(const B of J)H[String.fromCodePoint(B)]=!0;yield Z.updateValue(g.unicodeHighlightConfigKeys.allowedCharacters,H,2)})}function K(Z,J){var X;return we(this,void 0,void 0,function*(){const H=(X=Z.inspect(g.unicodeHighlightConfigKeys.allowedLocales).user)===null||X===void 0?void 0:X.value;let B;typeof H=="object"&&H?B=Object.assign({},H):B={};for(const V of J)B[V]=!0;yield Z.updateValue(g.unicodeHighlightConfigKeys.allowedLocales,B,2)})}function G(Z){throw new Error(`Unexpected value: ${Z}`)}(0,_.registerEditorAction)(O),(0,_.registerEditorAction)(W),(0,_.registerEditorAction)(U),(0,_.registerEditorAction)(j),(0,_.registerEditorContribution)(v.ID,v,1),a.HoverParticipantRegistry.register(I)}),define(ne[920],se([1,0,189,161,254,237,794,877,795,796,797,828,879,902,886,798,909,799,880,910,911,365,255,802,803,769,918,256,257,371,369,372,805,904,887,806,807,890,891,808,896,833,858,859,860,810,194,906,378,811,812,785,919,813,897,353,814,809,94,172]),function(Q,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0})}),define(ne[259],se([1,0,11,7,44,6,119,2,17,101,22,132,241,73,12,5,51,69,187,27,28,345,15,156,8,760,34,336,118,337,761,158,43,77,79,163,134,94,45,33,70,379,57,763,778,867,50,768,115,242,41,853,233,871,869,361,133,762,84,30,791,764,96,757,232,758,157,191,97,767,56,71,87,782,116,765,149,9,239,32,360,338,908,76,854,748]),function(Q,e,L,k,y,D,S,f,_,g,C,s,i,n,t,a,u,h,r,c,o,d,l,p,m,v,b,w,E,I,M,P,x,T,A,N,F,O,W,U,j,R,K,G,Z,J,X,H,B,V,Y,ie,ae,ce,de,he,ue,te,q,z,ee,$,re,oe,ge,ve,Se,Le,De,ye,Ee,Me,Pe,Fe,_e,me,le,pe,Ce){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.StandaloneServices=e.updateConfigurationService=e.StandaloneConfigurationService=e.StandaloneKeybindingService=e.StandaloneCommandService=e.StandaloneNotificationService=void 0;class be{constructor(Ae){this.disposed=!1,this.model=Ae,this._onWillDispose=new D.Emitter}get textEditorModel(){return this.model}dispose(){this.disposed=!0,this._onWillDispose.fire()}}let Ie=class{constructor(Ae){this.modelService=Ae}createModelReference(Ae){const Ue=this.modelService.getModel(Ae);return Ue?Promise.resolve(new f.ImmortalReference(new be(Ue))):Promise.reject(new Error("Model not found"))}};Ie=ke([fe(0,u.IModelService)],Ie);class Ne{show(){return Ne.NULL_PROGRESS_RUNNER}showWhile(Ae,Ue){return we(this,void 0,void 0,function*(){yield Ae})}}Ne.NULL_PROGRESS_RUNNER={done:()=>{},total:()=>{},worked:()=>{}};class Re{withProgress(Ae,Ue,Ke){return Ue({report:()=>{}})}}class Ve{constructor(){this.isExtensionDevelopment=!1,this.isBuilt=!1}}class ze{confirm(Ae){return we(this,void 0,void 0,function*(){return{confirmed:this.doConfirm(Ae.message,Ae.detail),checkboxChecked:!1}})}doConfirm(Ae,Ue){let Ke=Ae;return Ue&&(Ke=Ke+`

`+Ue),window.confirm(Ke)}prompt(Ae){var Ue,Ke;return we(this,void 0,void 0,function*(){let $e;if(this.doConfirm(Ae.message,Ae.detail)){const tt=[...(Ue=Ae.buttons)!==null&&Ue!==void 0?Ue:[]];Ae.cancelButton&&typeof Ae.cancelButton!="string"&&typeof Ae.cancelButton!="boolean"&&tt.push(Ae.cancelButton),$e=yield(Ke=tt[0])===null||Ke===void 0?void 0:Ke.run({checkboxChecked:!1})}return{result:$e}})}error(Ae,Ue){return we(this,void 0,void 0,function*(){yield this.prompt({type:g.default.Error,message:Ae,detail:Ue})})}}class We{info(Ae){return this.notify({severity:g.default.Info,message:Ae})}warn(Ae){return this.notify({severity:g.default.Warning,message:Ae})}error(Ae){return this.notify({severity:g.default.Error,message:Ae})}notify(Ae){switch(Ae.severity){case g.default.Error:console.error(Ae.message);break;case g.default.Warning:console.warn(Ae.message);break;default:console.log(Ae.message);break}return We.NO_OP}prompt(Ae,Ue,Ke,$e){return We.NO_OP}status(Ae,Ue){return f.Disposable.None}}e.StandaloneNotificationService=We,We.NO_OP=new x.NoOpNotification;let qe=class{constructor(Ae){this._onWillExecuteCommand=new D.Emitter,this._onDidExecuteCommand=new D.Emitter,this.onDidExecuteCommand=this._onDidExecuteCommand.event,this._instantiationService=Ae}executeCommand(Ae,...Ue){const Ke=c.CommandsRegistry.getCommand(Ae);if(!Ke)return Promise.reject(new Error(`command '${Ae}' not found`));try{this._onWillExecuteCommand.fire({commandId:Ae,args:Ue});const $e=this._instantiationService.invokeFunction.apply(this._instantiationService,[Ke.handler,...Ue]);return this._onDidExecuteCommand.fire({commandId:Ae,args:Ue}),Promise.resolve($e)}catch($e){return Promise.reject($e)}}};e.StandaloneCommandService=qe,e.StandaloneCommandService=qe=ke([fe(0,m.IInstantiationService)],qe);let Oe=class extends v.AbstractKeybindingService{constructor(Ae,Ue,Ke,$e,et,tt){super(Ae,Ue,Ke,$e,et),this._cachedResolver=null,this._dynamicKeybindings=[],this._domNodeListeners=[];const ut=mt=>{const wt=new f.DisposableStore;wt.add(k.addDisposableListener(mt,k.EventType.KEY_DOWN,Dt=>{const yt=new y.StandardKeyboardEvent(Dt);this._dispatch(yt,yt.target)&&(yt.preventDefault(),yt.stopPropagation())})),wt.add(k.addDisposableListener(mt,k.EventType.KEY_UP,Dt=>{const yt=new y.StandardKeyboardEvent(Dt);this._singleModifierDispatch(yt,yt.target)&&yt.preventDefault()})),this._domNodeListeners.push(new Ge(mt,wt))},it=mt=>{for(let wt=0;wt<this._domNodeListeners.length;wt++){const Dt=this._domNodeListeners[wt];Dt.domNode===mt&&(this._domNodeListeners.splice(wt,1),Dt.dispose())}},rt=mt=>{mt.getOption(60)||ut(mt.getContainerDomNode())},dt=mt=>{mt.getOption(60)||it(mt.getContainerDomNode())};this._register(tt.onCodeEditorAdd(rt)),this._register(tt.onCodeEditorRemove(dt)),tt.listCodeEditors().forEach(rt);const ft=mt=>{ut(mt.getContainerDomNode())},St=mt=>{it(mt.getContainerDomNode())};this._register(tt.onDiffEditorAdd(ft)),this._register(tt.onDiffEditorRemove(St)),tt.listDiffEditors().forEach(ft)}addDynamicKeybinding(Ae,Ue,Ke,$e){return(0,f.combinedDisposable)(c.CommandsRegistry.registerCommand(Ae,Ke),this.addDynamicKeybindings([{keybinding:Ue,command:Ae,when:$e}]))}addDynamicKeybindings(Ae){const Ue=Ae.map(Ke=>{var $e;return{keybinding:(0,S.decodeKeybinding)(Ke.keybinding,_.OS),command:($e=Ke.command)!==null&&$e!==void 0?$e:null,commandArgs:Ke.commandArgs,when:Ke.when,weight1:1e3,weight2:0,extensionId:null,isBuiltinExtension:!1}});return this._dynamicKeybindings=this._dynamicKeybindings.concat(Ue),this.updateResolver(),(0,f.toDisposable)(()=>{for(let Ke=0;Ke<this._dynamicKeybindings.length;Ke++)if(this._dynamicKeybindings[Ke]===Ue[0]){this._dynamicKeybindings.splice(Ke,Ue.length),this.updateResolver();return}})}updateResolver(){this._cachedResolver=null,this._onDidUpdateKeybindings.fire()}_getResolver(){if(!this._cachedResolver){const Ae=this._toNormalizedKeybindingItems(E.KeybindingsRegistry.getDefaultKeybindings(),!0),Ue=this._toNormalizedKeybindingItems(this._dynamicKeybindings,!1);this._cachedResolver=new w.KeybindingResolver(Ae,Ue,Ke=>this._log(Ke))}return this._cachedResolver}_documentHasFocus(){return document.hasFocus()}_toNormalizedKeybindingItems(Ae,Ue){const Ke=[];let $e=0;for(const et of Ae){const tt=et.when||void 0,ut=et.keybinding;if(!ut)Ke[$e++]=new I.ResolvedKeybindingItem(void 0,et.command,et.commandArgs,tt,Ue,null,!1);else{const it=M.USLayoutResolvedKeybinding.resolveKeybinding(ut,_.OS);for(const rt of it)Ke[$e++]=new I.ResolvedKeybindingItem(rt,et.command,et.commandArgs,tt,Ue,null,!1)}}return Ke}resolveKeyboardEvent(Ae){const Ue=new S.KeyCodeChord(Ae.ctrlKey,Ae.shiftKey,Ae.altKey,Ae.metaKey,Ae.keyCode);return new M.USLayoutResolvedKeybinding([Ue],_.OS)}};e.StandaloneKeybindingService=Oe,e.StandaloneKeybindingService=Oe=ke([fe(0,l.IContextKeyService),fe(1,c.ICommandService),fe(2,A.ITelemetryService),fe(3,x.INotificationService),fe(4,j.ILogService),fe(5,U.ICodeEditorService)],Oe);class Ge extends f.Disposable{constructor(Ae,Ue){super(),this.domNode=Ae,this._register(Ue)}}function Qe(je){return je&&typeof je=="object"&&(!je.overrideIdentifier||typeof je.overrideIdentifier=="string")&&(!je.resource||je.resource instanceof C.URI)}class st{constructor(){this._onDidChangeConfiguration=new D.Emitter,this.onDidChangeConfiguration=this._onDidChangeConfiguration.event;const Ae=new Fe.DefaultConfiguration;this._configuration=new d.Configuration(Ae.reload(),new d.ConfigurationModel,new d.ConfigurationModel,new d.ConfigurationModel),Ae.dispose()}getValue(Ae,Ue){const Ke=typeof Ae=="string"?Ae:void 0,$e=Qe(Ae)?Ae:Qe(Ue)?Ue:{};return this._configuration.getValue(Ke,$e,void 0)}updateValues(Ae){const Ue={data:this._configuration.toData()},Ke=[];for(const $e of Ae){const[et,tt]=$e;this.getValue(et)!==tt&&(this._configuration.updateValue(et,tt),Ke.push(et))}if(Ke.length>0){const $e=new d.ConfigurationChangeEvent({keys:Ke,overrides:[]},Ue,this._configuration);$e.source=8,$e.sourceConfig=null,this._onDidChangeConfiguration.fire($e)}return Promise.resolve()}updateValue(Ae,Ue,Ke,$e){return this.updateValues([[Ae,Ue]])}inspect(Ae,Ue={}){return this._configuration.inspect(Ae,Ue,void 0)}}e.StandaloneConfigurationService=st;let nt=class{constructor(Ae,Ue,Ke){this.configurationService=Ae,this.modelService=Ue,this.languageService=Ke,this._onDidChangeConfiguration=new D.Emitter,this.configurationService.onDidChangeConfiguration($e=>{this._onDidChangeConfiguration.fire({affectedKeys:$e.affectedKeys,affectsConfiguration:(et,tt)=>$e.affectsConfiguration(tt)})})}getValue(Ae,Ue,Ke){const $e=t.Position.isIPosition(Ue)?Ue:null,et=$e?typeof Ke=="string"?Ke:void 0:typeof Ue=="string"?Ue:void 0,tt=Ae?this.getLanguage(Ae,$e):void 0;return typeof et>"u"?this.configurationService.getValue({resource:Ae,overrideIdentifier:tt}):this.configurationService.getValue(et,{resource:Ae,overrideIdentifier:tt})}getLanguage(Ae,Ue){const Ke=this.modelService.getModel(Ae);return Ke?Ue?Ke.getLanguageIdAtPosition(Ue.lineNumber,Ue.column):Ke.getLanguageId():this.languageService.guessLanguageIdByFilepathOrFirstLine(Ae)}};nt=ke([fe(0,o.IConfigurationService),fe(1,u.IModelService),fe(2,Y.ILanguageService)],nt);let ot=class{constructor(Ae){this.configurationService=Ae}getEOL(Ae,Ue){const Ke=this.configurationService.getValue("files.eol",{overrideIdentifier:Ue,resource:Ae});return Ke&&typeof Ke=="string"&&Ke!=="auto"?Ke:_.isLinux||_.isMacintosh?`
`:`\r
`}};ot=ke([fe(0,o.IConfigurationService)],ot);class ct{publicLog2(){}}class lt{constructor(){const Ae=C.URI.from({scheme:lt.SCHEME,authority:"model",path:"/"});this.workspace={id:N.STANDALONE_EDITOR_WORKSPACE_ID,folders:[new N.WorkspaceFolder({uri:Ae,name:"",index:0})]}}getWorkspace(){return this.workspace}getWorkspaceFolder(Ae){return Ae&&Ae.scheme===lt.SCHEME?this.workspace.folders[0]:null}}lt.SCHEME="inmemory";function gt(je,Ae,Ue){if(!Ae||!(je instanceof st))return;const Ke=[];Object.keys(Ae).forEach($e=>{(0,i.isEditorConfigurationKey)($e)&&Ke.push([`editor.${$e}`,Ae[$e]]),Ue&&(0,i.isDiffEditorConfigurationKey)($e)&&Ke.push([`diffEditor.${$e}`,Ae[$e]])}),Ke.length>0&&je.updateValues(Ke)}e.updateConfigurationService=gt;let at=class{constructor(Ae){this._modelService=Ae}hasPreviewHandler(){return!1}apply(Ae,Ue){return we(this,void 0,void 0,function*(){const Ke=Array.isArray(Ae)?Ae:s.ResourceEdit.convert(Ae),$e=new Map;for(const ut of Ke){if(!(ut instanceof s.ResourceTextEdit))throw new Error("bad edit - only text edits are supported");const it=this._modelService.getModel(ut.resource);if(!it)throw new Error("bad edit - model not found");if(typeof ut.versionId=="number"&&it.getVersionId()!==ut.versionId)throw new Error("bad state - model changed in the meantime");let rt=$e.get(it);rt||(rt=[],$e.set(it,rt)),rt.push(n.EditOperation.replaceMove(a.Range.lift(ut.textEdit.range),ut.textEdit.text))}let et=0,tt=0;for(const[ut,it]of $e)ut.pushStackElement(),ut.pushEditOperations([],it,()=>[]),ut.pushStackElement(),tt+=1,et+=it.length;return{ariaSummary:L.format(O.StandaloneServicesNLS.bulkEditServiceSummary,et,tt),isApplied:et>0}})}};at=ke([fe(0,u.IModelService)],at);class ht{getUriLabel(Ae,Ue){return Ae.scheme==="file"?Ae.fsPath:Ae.path}getUriBasenameLabel(Ae){return(0,W.basename)(Ae)}}let Be=class extends G.ContextViewService{constructor(Ae,Ue){super(Ae),this._codeEditorService=Ue}showContextView(Ae,Ue,Ke){if(!Ue){const $e=this._codeEditorService.getFocusedCodeEditor()||this._codeEditorService.getActiveCodeEditor();$e&&(Ue=$e.getContainerDomNode())}return super.showContextView(Ae,Ue,Ke)}};Be=ke([fe(0,F.ILayoutService),fe(1,U.ICodeEditorService)],Be);class Te{constructor(){this._neverEmitter=new D.Emitter,this.onDidChangeTrust=this._neverEmitter.event}isWorkspaceTrusted(){return!0}}class xe extends Z.LanguageService{constructor(){super()}}class He extends me.LogService{constructor(){super(new j.ConsoleLogger)}}let Ye=class extends J.ContextMenuService{constructor(Ae,Ue,Ke,$e,et,tt){super(Ae,Ue,Ke,$e,et,tt),this.configure({blockMouse:!1})}};Ye=ke([fe(0,A.ITelemetryService),fe(1,x.INotificationService),fe(2,K.IContextViewService),fe(3,b.IKeybindingService),fe(4,z.IMenuService),fe(5,l.IContextKeyService)],Ye);class Ze{playAudioCue(Ae,Ue){return we(this,void 0,void 0,function*(){})}}(0,X.registerSingleton)(o.IConfigurationService,st,0),(0,X.registerSingleton)(r.ITextResourceConfigurationService,nt,0),(0,X.registerSingleton)(r.ITextResourcePropertiesService,ot,0),(0,X.registerSingleton)(N.IWorkspaceContextService,lt,0),(0,X.registerSingleton)(P.ILabelService,ht,0),(0,X.registerSingleton)(A.ITelemetryService,ct,0),(0,X.registerSingleton)(p.IDialogService,ze,0),(0,X.registerSingleton)(Ce.IEnvironmentService,Ve,0),(0,X.registerSingleton)(x.INotificationService,We,0),(0,X.registerSingleton)(De.IMarkerService,ye.MarkerService,0),(0,X.registerSingleton)(Y.ILanguageService,xe,0),(0,X.registerSingleton)(ue.IStandaloneThemeService,he.StandaloneThemeService,0),(0,X.registerSingleton)(j.ILogService,He,0),(0,X.registerSingleton)(u.IModelService,ce.ModelService,0),(0,X.registerSingleton)(ae.IMarkerDecorationsService,ie.MarkerDecorationsService,0),(0,X.registerSingleton)(l.IContextKeyService,oe.ContextKeyService,0),(0,X.registerSingleton)(T.IProgressService,Re,0),(0,X.registerSingleton)(T.IEditorProgressService,Ne,0),(0,X.registerSingleton)(Pe.IStorageService,Pe.InMemoryStorageService,0),(0,X.registerSingleton)(B.IEditorWorkerService,V.EditorWorkerService,0),(0,X.registerSingleton)(s.IBulkEditService,at,0),(0,X.registerSingleton)(R.IWorkspaceTrustManagementService,Te,0),(0,X.registerSingleton)(h.ITextModelService,Ie,0),(0,X.registerSingleton)(q.IAccessibilityService,te.AccessibilityService,0),(0,X.registerSingleton)(Le.IListService,Le.ListService,0),(0,X.registerSingleton)(c.ICommandService,qe,0),(0,X.registerSingleton)(b.IKeybindingService,Oe,0),(0,X.registerSingleton)(Me.IQuickInputService,de.StandaloneQuickInputService,0),(0,X.registerSingleton)(K.IContextViewService,Be,0),(0,X.registerSingleton)(Ee.IOpenerService,H.OpenerService,0),(0,X.registerSingleton)(re.IClipboardService,$.BrowserClipboardService,0),(0,X.registerSingleton)(K.IContextMenuService,Ye,0),(0,X.registerSingleton)(z.IMenuService,ee.MenuService,0),(0,X.registerSingleton)(_e.IAudioCueService,Ze,0);var Xe;(function(je){const Ae=new Se.ServiceCollection;for(const[it,rt]of(0,X.getSingletonServiceDescriptors)())Ae.set(it,rt);const Ue=new ve.InstantiationService(Ae,!0);Ae.set(m.IInstantiationService,Ue);function Ke(it){$e||tt({});const rt=Ae.get(it);if(!rt)throw new Error("Missing service "+it);return rt instanceof ge.SyncDescriptor?Ue.invokeFunction(dt=>dt.get(it)):rt}je.get=Ke;let $e=!1;const et=new D.Emitter;function tt(it){if($e)return Ue;$e=!0;for(const[dt,ft]of(0,X.getSingletonServiceDescriptors)())Ae.get(dt)||Ae.set(dt,ft);for(const dt in it)if(it.hasOwnProperty(dt)){const ft=(0,m.createDecorator)(dt);Ae.get(ft)instanceof ge.SyncDescriptor&&Ae.set(ft,it[dt])}const rt=(0,le.getEditorFeatures)();for(const dt of rt)try{Ue.createInstance(dt)}catch(ft){(0,pe.onUnexpectedError)(ft)}return et.fire(),Ue}je.initialize=tt;function ut(it){if($e)return it();const rt=new f.DisposableStore,dt=rt.add(et.event(()=>{dt.dispose(),rt.add(it())}));return rt}je.withServices=ut})(Xe||(e.StandaloneServices=Xe={}))}),define(ne[921],se([1,0,49,2,33,161,254,277,259,133,30,27,28,15,57,8,34,43,23,84,94,96,77,51,41,360,78,32,18,876,116]),function(Q,e,L,k,y,D,S,f,_,g,C,s,i,n,t,a,u,h,r,c,o,d,l,p,m,v,b,w,E,I,M){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.createTextModel=e.StandaloneDiffEditor2=e.StandaloneDiffEditor=e.StandaloneEditor=e.StandaloneCodeEditor=void 0;let P=0,x=!1;function T(j){if(!j){if(x)return;x=!0}L.setARIAContainer(j||document.body)}let A=class extends D.CodeEditorWidget{constructor(R,K,G,Z,J,X,H,B,V,Y,ie,ae){const ce=Object.assign({},K);ce.ariaLabel=ce.ariaLabel||o.StandaloneCodeEditorNLS.editorViewAccessibleLabel,ce.ariaLabel=ce.ariaLabel+";"+o.StandaloneCodeEditorNLS.accessibilityHelpMessage,super(R,ce,{},G,Z,J,X,B,V,Y,ie,ae),H instanceof _.StandaloneKeybindingService?this._standaloneKeybindingService=H:this._standaloneKeybindingService=null,T(ce.ariaContainerElement)}addCommand(R,K,G){if(!this._standaloneKeybindingService)return console.warn("Cannot add command because the editor is configured with an unrecognized KeybindingService"),null;const Z="DYNAMIC_"+ ++P,J=n.ContextKeyExpr.deserialize(G);return this._standaloneKeybindingService.addDynamicKeybinding(Z,R,K,J),Z}createContextKey(R,K){return this._contextKeyService.createKey(R,K)}addAction(R){if(typeof R.id!="string"||typeof R.label!="string"||typeof R.run!="function")throw new Error("Invalid action descriptor, `id`, `label` and `run` are required properties!");if(!this._standaloneKeybindingService)return console.warn("Cannot add keybinding because the editor is configured with an unrecognized KeybindingService"),k.Disposable.None;const K=R.id,G=R.label,Z=n.ContextKeyExpr.and(n.ContextKeyExpr.equals("editorId",this.getId()),n.ContextKeyExpr.deserialize(R.precondition)),J=R.keybindings,X=n.ContextKeyExpr.and(Z,n.ContextKeyExpr.deserialize(R.keybindingContext)),H=R.contextMenuGroupId||null,B=R.contextMenuOrder||0,V=(ce,...de)=>Promise.resolve(R.run(this,...de)),Y=new k.DisposableStore,ie=this.getId()+":"+K;if(Y.add(s.CommandsRegistry.registerCommand(ie,V)),H){const ce={command:{id:ie,title:G},when:Z,group:H,order:B};Y.add(C.MenuRegistry.appendMenuItem(C.MenuId.EditorContext,ce))}if(Array.isArray(J))for(const ce of J)Y.add(this._standaloneKeybindingService.addDynamicKeybinding(ie,ce,V,X));const ae=new f.InternalEditorAction(ie,G,G,Z,(...ce)=>Promise.resolve(R.run(this,...ce)),this._contextKeyService);return this._actions.set(K,ae),Y.add((0,k.toDisposable)(()=>{this._actions.delete(K)})),Y}_triggerCommand(R,K){if(this._codeEditorService instanceof v.StandaloneCodeEditorService)try{this._codeEditorService.setActiveCodeEditor(this),super._triggerCommand(R,K)}finally{this._codeEditorService.setActiveCodeEditor(null)}else super._triggerCommand(R,K)}};e.StandaloneCodeEditor=A,e.StandaloneCodeEditor=A=ke([fe(2,a.IInstantiationService),fe(3,y.ICodeEditorService),fe(4,s.ICommandService),fe(5,n.IContextKeyService),fe(6,u.IKeybindingService),fe(7,r.IThemeService),fe(8,h.INotificationService),fe(9,c.IAccessibilityService),fe(10,w.ILanguageConfigurationService),fe(11,E.ILanguageFeaturesService)],A);let N=class extends A{constructor(R,K,G,Z,J,X,H,B,V,Y,ie,ae,ce,de,he){const ue=Object.assign({},K);(0,_.updateConfigurationService)(Y,ue,!1);const te=B.registerEditorContainer(R);typeof ue.theme=="string"&&B.setTheme(ue.theme),typeof ue.autoDetectHighContrast<"u"&&B.setAutoDetectHighContrast(!!ue.autoDetectHighContrast);const q=ue.model;delete ue.model,super(R,ue,G,Z,J,X,H,B,V,ie,de,he),this._configurationService=Y,this._standaloneThemeService=B,this._register(te);let z;if(typeof q>"u"){const ee=ce.getLanguageIdByMimeType(ue.language)||ue.language||b.PLAINTEXT_LANGUAGE_ID;z=W(ae,ce,ue.value||"",ee,void 0),this._ownsModel=!0}else z=q,this._ownsModel=!1;if(this._attachModel(z),z){const ee={oldModelUrl:null,newModelUrl:z.uri};this._onDidChangeModel.fire(ee)}}dispose(){super.dispose()}updateOptions(R){(0,_.updateConfigurationService)(this._configurationService,R,!1),typeof R.theme=="string"&&this._standaloneThemeService.setTheme(R.theme),typeof R.autoDetectHighContrast<"u"&&this._standaloneThemeService.setAutoDetectHighContrast(!!R.autoDetectHighContrast),super.updateOptions(R)}_postDetachModelCleanup(R){super._postDetachModelCleanup(R),R&&this._ownsModel&&(R.dispose(),this._ownsModel=!1)}};e.StandaloneEditor=N,e.StandaloneEditor=N=ke([fe(2,a.IInstantiationService),fe(3,y.ICodeEditorService),fe(4,s.ICommandService),fe(5,n.IContextKeyService),fe(6,u.IKeybindingService),fe(7,g.IStandaloneThemeService),fe(8,h.INotificationService),fe(9,i.IConfigurationService),fe(10,c.IAccessibilityService),fe(11,p.IModelService),fe(12,m.ILanguageService),fe(13,w.ILanguageConfigurationService),fe(14,E.ILanguageFeaturesService)],N);let F=class extends S.DiffEditorWidget{constructor(R,K,G,Z,J,X,H,B,V,Y,ie){const ae=Object.assign({},K);(0,_.updateConfigurationService)(B,ae,!0);const ce=X.registerEditorContainer(R);typeof ae.theme=="string"&&X.setTheme(ae.theme),typeof ae.autoDetectHighContrast<"u"&&X.setAutoDetectHighContrast(!!ae.autoDetectHighContrast),super(R,ae,{},ie,Z,G,J,X,H,V,Y),this._configurationService=B,this._standaloneThemeService=X,this._register(ce)}dispose(){super.dispose()}updateOptions(R){(0,_.updateConfigurationService)(this._configurationService,R,!0),typeof R.theme=="string"&&this._standaloneThemeService.setTheme(R.theme),typeof R.autoDetectHighContrast<"u"&&this._standaloneThemeService.setAutoDetectHighContrast(!!R.autoDetectHighContrast),super.updateOptions(R)}_createInnerEditor(R,K,G){return R.createInstance(A,K,G)}getOriginalEditor(){return super.getOriginalEditor()}getModifiedEditor(){return super.getModifiedEditor()}addCommand(R,K,G){return this.getModifiedEditor().addCommand(R,K,G)}createContextKey(R,K){return this.getModifiedEditor().createContextKey(R,K)}addAction(R){return this.getModifiedEditor().addAction(R)}};e.StandaloneDiffEditor=F,e.StandaloneDiffEditor=F=ke([fe(2,a.IInstantiationService),fe(3,n.IContextKeyService),fe(4,y.ICodeEditorService),fe(5,g.IStandaloneThemeService),fe(6,h.INotificationService),fe(7,i.IConfigurationService),fe(8,t.IContextMenuService),fe(9,l.IEditorProgressService),fe(10,d.IClipboardService)],F);let O=class extends I.DiffEditorWidget2{constructor(R,K,G,Z,J,X,H,B,V,Y,ie,ae){const ce=Object.assign({},K);(0,_.updateConfigurationService)(B,ce,!0);const de=X.registerEditorContainer(R);typeof ce.theme=="string"&&X.setTheme(ce.theme),typeof ce.autoDetectHighContrast<"u"&&X.setAutoDetectHighContrast(!!ce.autoDetectHighContrast),super(R,ce,{},Z,G,J,ae,Y),this._configurationService=B,this._standaloneThemeService=X,this._register(de)}dispose(){super.dispose()}updateOptions(R){(0,_.updateConfigurationService)(this._configurationService,R,!0),typeof R.theme=="string"&&this._standaloneThemeService.setTheme(R.theme),typeof R.autoDetectHighContrast<"u"&&this._standaloneThemeService.setAutoDetectHighContrast(!!R.autoDetectHighContrast),super.updateOptions(R)}_createInnerEditor(R,K,G){return R.createInstance(A,K,G)}getOriginalEditor(){return super.getOriginalEditor()}getModifiedEditor(){return super.getModifiedEditor()}addCommand(R,K,G){return this.getModifiedEditor().addCommand(R,K,G)}createContextKey(R,K){return this.getModifiedEditor().createContextKey(R,K)}addAction(R){return this.getModifiedEditor().addAction(R)}};e.StandaloneDiffEditor2=O,e.StandaloneDiffEditor2=O=ke([fe(2,a.IInstantiationService),fe(3,n.IContextKeyService),fe(4,y.ICodeEditorService),fe(5,g.IStandaloneThemeService),fe(6,h.INotificationService),fe(7,i.IConfigurationService),fe(8,t.IContextMenuService),fe(9,l.IEditorProgressService),fe(10,d.IClipboardService),fe(11,M.IAudioCueService)],O);function W(j,R,K,G,Z){if(K=K||"",!G){const J=K.indexOf(`
`);let X=K;return J!==-1&&(X=K.substring(0,J)),U(j,K,R.createByFilepathOrFirstLine(Z||null,X),Z)}return U(j,K,R.createById(G),Z)}e.createTextModel=W;function U(j,R,K,G){return j.createModel(R,K,G)}}),define(ne[922],se([1,0,2,11,22,324,33,237,36,231,148,48,29,32,154,41,51,773,208,752,921,259,133,27,97,34,16,30,15,78,109,66,145,56,471]),function(Q,e,L,k,y,D,S,f,_,g,C,s,i,n,t,a,u,h,r,c,o,d,l,p,m,v,b,w,E,I,M,P,x,T){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.createMonacoEditorAPI=e.registerEditorOpener=e.registerLinkOpener=e.registerCommand=e.remeasureFonts=e.setTheme=e.defineTheme=e.tokenize=e.colorizeModelLine=e.colorize=e.colorizeElement=e.createWebWorker=e.onDidChangeModelLanguage=e.onWillDisposeModel=e.onDidCreateModel=e.getModels=e.getModel=e.onDidChangeMarkers=e.getModelMarkers=e.removeAllMarkers=e.setModelMarkers=e.setModelLanguage=e.createModel=e.addKeybindingRules=e.addKeybindingRule=e.addEditorAction=e.addCommand=e.createDiffNavigator=e.createDiffEditor=e.getDiffEditors=e.getEditors=e.onDidCreateDiffEditor=e.onDidCreateEditor=e.create=void 0;function A(ye,Ee,Me){return d.StandaloneServices.initialize(Me||{}).createInstance(o.StandaloneEditor,ye,Ee)}e.create=A;function N(ye){return d.StandaloneServices.get(S.ICodeEditorService).onCodeEditorAdd(Me=>{ye(Me)})}e.onDidCreateEditor=N;function F(ye){return d.StandaloneServices.get(S.ICodeEditorService).onDiffEditorAdd(Me=>{ye(Me)})}e.onDidCreateDiffEditor=F;function O(){return d.StandaloneServices.get(S.ICodeEditorService).listCodeEditors()}e.getEditors=O;function W(){return d.StandaloneServices.get(S.ICodeEditorService).listDiffEditors()}e.getDiffEditors=W;function U(ye,Ee,Me){var Pe;const Fe=d.StandaloneServices.initialize(Me||{});return!((Pe=Ee?.experimental)===null||Pe===void 0)&&Pe.useVersion2?Fe.createInstance(o.StandaloneDiffEditor2,ye,Ee):Fe.createInstance(o.StandaloneDiffEditor,ye,Ee)}e.createDiffEditor=U;function j(ye,Ee){return d.StandaloneServices.initialize({}).createInstance(f.DiffNavigator,ye,Ee)}e.createDiffNavigator=j;function R(ye){if(typeof ye.id!="string"||typeof ye.run!="function")throw new Error("Invalid command descriptor, `id` and `run` are required properties!");return p.CommandsRegistry.registerCommand(ye.id,ye.run)}e.addCommand=R;function K(ye){if(typeof ye.id!="string"||typeof ye.label!="string"||typeof ye.run!="function")throw new Error("Invalid action descriptor, `id`, `label` and `run` are required properties!");const Ee=E.ContextKeyExpr.deserialize(ye.precondition),Me=(Fe,..._e)=>b.EditorCommand.runEditorCommand(Fe,_e,Ee,(me,le,pe)=>Promise.resolve(ye.run(le,...pe))),Pe=new L.DisposableStore;if(Pe.add(p.CommandsRegistry.registerCommand(ye.id,Me)),ye.contextMenuGroupId){const Fe={command:{id:ye.id,title:ye.label},when:Ee,group:ye.contextMenuGroupId,order:ye.contextMenuOrder||0};Pe.add(w.MenuRegistry.appendMenuItem(w.MenuId.EditorContext,Fe))}if(Array.isArray(ye.keybindings)){const Fe=d.StandaloneServices.get(v.IKeybindingService);if(!(Fe instanceof d.StandaloneKeybindingService))console.warn("Cannot add keybinding because the editor is configured with an unrecognized KeybindingService");else{const _e=E.ContextKeyExpr.and(Ee,E.ContextKeyExpr.deserialize(ye.keybindingContext));Pe.add(Fe.addDynamicKeybindings(ye.keybindings.map(me=>({keybinding:me,command:ye.id,when:_e}))))}}return Pe}e.addEditorAction=K;function G(ye){return Z([ye])}e.addKeybindingRule=G;function Z(ye){const Ee=d.StandaloneServices.get(v.IKeybindingService);return Ee instanceof d.StandaloneKeybindingService?Ee.addDynamicKeybindings(ye.map(Me=>({keybinding:Me.keybinding,command:Me.command,commandArgs:Me.commandArgs,when:E.ContextKeyExpr.deserialize(Me.when)}))):(console.warn("Cannot add keybinding because the editor is configured with an unrecognized KeybindingService"),L.Disposable.None)}e.addKeybindingRules=Z;function J(ye,Ee,Me){const Pe=d.StandaloneServices.get(a.ILanguageService),Fe=Pe.getLanguageIdByMimeType(Ee)||Ee;return(0,o.createTextModel)(d.StandaloneServices.get(u.IModelService),Pe,ye,Fe,Me)}e.createModel=J;function X(ye,Ee){const Me=d.StandaloneServices.get(a.ILanguageService),Pe=Me.getLanguageIdByMimeType(Ee)||Ee||I.PLAINTEXT_LANGUAGE_ID;ye.setLanguage(Me.createById(Pe))}e.setModelLanguage=X;function H(ye,Ee,Me){ye&&d.StandaloneServices.get(m.IMarkerService).changeOne(Ee,ye.uri,Me)}e.setModelMarkers=H;function B(ye){d.StandaloneServices.get(m.IMarkerService).changeAll(ye,[])}e.removeAllMarkers=B;function V(ye){return d.StandaloneServices.get(m.IMarkerService).read(ye)}e.getModelMarkers=V;function Y(ye){return d.StandaloneServices.get(m.IMarkerService).onMarkerChanged(ye)}e.onDidChangeMarkers=Y;function ie(ye){return d.StandaloneServices.get(u.IModelService).getModel(ye)}e.getModel=ie;function ae(){return d.StandaloneServices.get(u.IModelService).getModels()}e.getModels=ae;function ce(ye){return d.StandaloneServices.get(u.IModelService).onModelAdded(ye)}e.onDidCreateModel=ce;function de(ye){return d.StandaloneServices.get(u.IModelService).onModelRemoved(ye)}e.onWillDisposeModel=de;function he(ye){return d.StandaloneServices.get(u.IModelService).onModelLanguageChanged(Me=>{ye({model:Me.model,oldLanguage:Me.oldLanguageId})})}e.onDidChangeModelLanguage=he;function ue(ye){return(0,h.createWebWorker)(d.StandaloneServices.get(u.IModelService),d.StandaloneServices.get(n.ILanguageConfigurationService),ye)}e.createWebWorker=ue;function te(ye,Ee){const Me=d.StandaloneServices.get(a.ILanguageService),Pe=d.StandaloneServices.get(l.IStandaloneThemeService);return c.Colorizer.colorizeElement(Pe,Me,ye,Ee).then(()=>{Pe.registerEditorContainer(ye)})}e.colorizeElement=te;function q(ye,Ee,Me){const Pe=d.StandaloneServices.get(a.ILanguageService);return d.StandaloneServices.get(l.IStandaloneThemeService).registerEditorContainer(document.body),c.Colorizer.colorize(Pe,ye,Ee,Me)}e.colorize=q;function z(ye,Ee,Me=4){return d.StandaloneServices.get(l.IStandaloneThemeService).registerEditorContainer(document.body),c.Colorizer.colorizeModelLine(ye,Ee,Me)}e.colorizeModelLine=z;function ee(ye){const Ee=i.TokenizationRegistry.get(ye);return Ee||{getInitialState:()=>t.NullState,tokenize:(Me,Pe,Fe)=>(0,t.nullTokenize)(ye,Fe)}}function $(ye,Ee){i.TokenizationRegistry.getOrCreate(Ee);const Me=ee(Ee),Pe=(0,k.splitLines)(ye),Fe=[];let _e=Me.getInitialState();for(let me=0,le=Pe.length;me<le;me++){const pe=Pe[me],Ce=Me.tokenize(pe,!0,_e);Fe[me]=Ce.tokens,_e=Ce.endState}return Fe}e.tokenize=$;function re(ye,Ee){d.StandaloneServices.get(l.IStandaloneThemeService).defineTheme(ye,Ee)}e.defineTheme=re;function oe(ye){d.StandaloneServices.get(l.IStandaloneThemeService).setTheme(ye)}e.setTheme=oe;function ge(){D.FontMeasurements.clearAllFontInfos()}e.remeasureFonts=ge;function ve(ye,Ee){return p.CommandsRegistry.registerCommand({id:ye,handler:Ee})}e.registerCommand=ve;function Se(ye){return d.StandaloneServices.get(T.IOpenerService).registerOpener({open(Me){return we(this,void 0,void 0,function*(){return typeof Me=="string"&&(Me=y.URI.parse(Me)),ye.open(Me)})}})}e.registerLinkOpener=Se;function Le(ye){return d.StandaloneServices.get(S.ICodeEditorService).registerCodeEditorOpenHandler((Me,Pe,Fe)=>we(this,void 0,void 0,function*(){var _e;if(!Pe)return null;const me=(_e=Me.options)===null||_e===void 0?void 0:_e.selection;let le;return me&&typeof me.endLineNumber=="number"&&typeof me.endColumn=="number"?le=me:me&&(le={lineNumber:me.startLineNumber,column:me.startColumn}),(yield ye.openCodeEditor(Pe,Me.resource,le))?Pe:null}))}e.registerEditorOpener=Le;function De(){return{create:A,getEditors:O,getDiffEditors:W,onDidCreateEditor:N,onDidCreateDiffEditor:F,createDiffEditor:U,createDiffNavigator:j,addCommand:R,addEditorAction:K,addKeybindingRule:G,addKeybindingRules:Z,createModel:J,setModelLanguage:X,setModelMarkers:H,getModelMarkers:V,removeAllMarkers:B,onDidChangeMarkers:Y,getModels:ae,getModel:ie,onDidCreateModel:ce,onWillDisposeModel:de,onDidChangeModelLanguage:he,createWebWorker:ue,colorizeElement:te,colorize:q,colorizeModelLine:z,tokenize:$,defineTheme:re,setTheme:oe,remeasureFonts:ge,registerCommand:ve,registerLinkOpener:Se,registerEditorOpener:Le,AccessibilitySupport:r.AccessibilitySupport,ContentWidgetPositionPreference:r.ContentWidgetPositionPreference,CursorChangeReason:r.CursorChangeReason,DefaultEndOfLine:r.DefaultEndOfLine,EditorAutoIndentStrategy:r.EditorAutoIndentStrategy,EditorOption:r.EditorOption,EndOfLinePreference:r.EndOfLinePreference,EndOfLineSequence:r.EndOfLineSequence,MinimapPosition:r.MinimapPosition,MouseTargetType:r.MouseTargetType,OverlayWidgetPositionPreference:r.OverlayWidgetPositionPreference,OverviewRulerLane:r.OverviewRulerLane,GlyphMarginLane:r.GlyphMarginLane,RenderLineNumbersType:r.RenderLineNumbersType,RenderMinimap:r.RenderMinimap,ScrollbarVisibility:r.ScrollbarVisibility,ScrollType:r.ScrollType,TextEditorCursorBlinkingStyle:r.TextEditorCursorBlinkingStyle,TextEditorCursorStyle:r.TextEditorCursorStyle,TrackedRangeStickiness:r.TrackedRangeStickiness,WrappingIndent:r.WrappingIndent,InjectedTextCursorStops:r.InjectedTextCursorStops,PositionAffinity:r.PositionAffinity,ConfigurationChangedEvent:_.ConfigurationChangedEvent,BareFontInfo:g.BareFontInfo,FontInfo:g.FontInfo,TextModelResolvedOptions:s.TextModelResolvedOptions,FindMatch:s.FindMatch,ApplyUpdateResult:_.ApplyUpdateResult,LineRange:P.LineRange,LineRangeMapping:M.LineRangeMapping,RangeMapping:M.RangeMapping,EditorZoom:x.EditorZoom,MovedText:M.MovedText,SimpleLineRangeMapping:M.SimpleLineRangeMapping,EditorType:C.EditorType,EditorOptions:_.EditorOptions}}e.createMonacoEditorAPI=De}),define(ne[923],se([1,0,38,5,29,32,78,41,208,259,550,334,133,97,18,28]),function(Q,e,L,k,y,D,S,f,_,g,C,s,i,n,t,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.createMonacoLanguagesAPI=e.registerInlayHintsProvider=e.registerInlineCompletionsProvider=e.registerDocumentRangeSemanticTokensProvider=e.registerDocumentSemanticTokensProvider=e.registerSelectionRangeProvider=e.registerDeclarationProvider=e.registerFoldingRangeProvider=e.registerColorProvider=e.registerCompletionItemProvider=e.registerLinkProvider=e.registerOnTypeFormattingEditProvider=e.registerDocumentRangeFormattingEditProvider=e.registerDocumentFormattingEditProvider=e.registerCodeActionProvider=e.registerCodeLensProvider=e.registerTypeDefinitionProvider=e.registerImplementationProvider=e.registerDefinitionProvider=e.registerLinkedEditingRangeProvider=e.registerDocumentHighlightProvider=e.registerDocumentSymbolProvider=e.registerHoverProvider=e.registerSignatureHelpProvider=e.registerRenameProvider=e.registerReferenceProvider=e.setMonarchTokensProvider=e.setTokensProvider=e.registerTokensProviderFactory=e.setColorMap=e.TokenizationSupportAdapter=e.EncodedTokenizationSupportAdapter=e.setLanguageConfiguration=e.onLanguageEncountered=e.onLanguage=e.getEncodedLanguageId=e.getLanguages=e.register=void 0;function u(q){S.ModesRegistry.registerLanguage(q)}e.register=u;function h(){let q=[];return q=q.concat(S.ModesRegistry.getLanguages()),q}e.getLanguages=h;function r(q){return g.StandaloneServices.get(f.ILanguageService).languageIdCodec.encodeLanguageId(q)}e.getEncodedLanguageId=r;function c(q,z){return g.StandaloneServices.withServices(()=>{const $=g.StandaloneServices.get(f.ILanguageService).onDidRequestRichLanguageFeatures(re=>{re===q&&($.dispose(),z())});return $})}e.onLanguage=c;function o(q,z){return g.StandaloneServices.withServices(()=>{const $=g.StandaloneServices.get(f.ILanguageService).onDidRequestBasicLanguageFeatures(re=>{re===q&&($.dispose(),z())});return $})}e.onLanguageEncountered=o;function d(q,z){if(!g.StandaloneServices.get(f.ILanguageService).isRegisteredLanguageId(q))throw new Error(`Cannot set configuration for unknown language ${q}`);return g.StandaloneServices.get(D.ILanguageConfigurationService).register(q,z,100)}e.setLanguageConfiguration=d;class l{constructor(z,ee){this._languageId=z,this._actual=ee}dispose(){}getInitialState(){return this._actual.getInitialState()}tokenize(z,ee,$){if(typeof this._actual.tokenize=="function")return p.adaptTokenize(this._languageId,this._actual,z,$);throw new Error("Not supported!")}tokenizeEncoded(z,ee,$){const re=this._actual.tokenizeEncoded(z,$);return new y.EncodedTokenizationResult(re.tokens,re.endState)}}e.EncodedTokenizationSupportAdapter=l;class p{constructor(z,ee,$,re){this._languageId=z,this._actual=ee,this._languageService=$,this._standaloneThemeService=re}dispose(){}getInitialState(){return this._actual.getInitialState()}static _toClassicTokens(z,ee){const $=[];let re=0;for(let oe=0,ge=z.length;oe<ge;oe++){const ve=z[oe];let Se=ve.startIndex;oe===0?Se=0:Se<re&&(Se=re),$[oe]=new y.Token(Se,ve.scopes,ee),re=Se}return $}static adaptTokenize(z,ee,$,re){const oe=ee.tokenize($,re),ge=p._toClassicTokens(oe.tokens,z);let ve;return oe.endState.equals(re)?ve=re:ve=oe.endState,new y.TokenizationResult(ge,ve)}tokenize(z,ee,$){return p.adaptTokenize(this._languageId,this._actual,z,$)}_toBinaryTokens(z,ee){const $=z.encodeLanguageId(this._languageId),re=this._standaloneThemeService.getColorTheme().tokenTheme,oe=[];let ge=0,ve=0;for(let Le=0,De=ee.length;Le<De;Le++){const ye=ee[Le],Ee=re.match($,ye.scopes)|1024;if(ge>0&&oe[ge-1]===Ee)continue;let Me=ye.startIndex;Le===0?Me=0:Me<ve&&(Me=ve),oe[ge++]=Me,oe[ge++]=Ee,ve=Me}const Se=new Uint32Array(ge);for(let Le=0;Le<ge;Le++)Se[Le]=oe[Le];return Se}tokenizeEncoded(z,ee,$){const re=this._actual.tokenize(z,$),oe=this._toBinaryTokens(this._languageService.languageIdCodec,re.tokens);let ge;return re.endState.equals($)?ge=$:ge=re.endState,new y.EncodedTokenizationResult(oe,ge)}}e.TokenizationSupportAdapter=p;function m(q){return typeof q.getInitialState=="function"}function v(q){return"tokenizeEncoded"in q}function b(q){return q&&typeof q.then=="function"}function w(q){const z=g.StandaloneServices.get(i.IStandaloneThemeService);if(q){const ee=[null];for(let $=1,re=q.length;$<re;$++)ee[$]=L.Color.fromHex(q[$]);z.setColorMapOverride(ee)}else z.setColorMapOverride(null)}e.setColorMap=w;function E(q,z){return v(z)?new l(q,z):new p(q,z,g.StandaloneServices.get(f.ILanguageService),g.StandaloneServices.get(i.IStandaloneThemeService))}function I(q,z){const ee=new y.LazyTokenizationSupport(()=>we(this,void 0,void 0,function*(){const $=yield Promise.resolve(z.create());return $?m($)?E(q,$):new s.MonarchTokenizer(g.StandaloneServices.get(f.ILanguageService),g.StandaloneServices.get(i.IStandaloneThemeService),q,(0,C.compile)(q,$),g.StandaloneServices.get(a.IConfigurationService)):null}));return y.TokenizationRegistry.registerFactory(q,ee)}e.registerTokensProviderFactory=I;function M(q,z){if(!g.StandaloneServices.get(f.ILanguageService).isRegisteredLanguageId(q))throw new Error(`Cannot set tokens provider for unknown language ${q}`);return b(z)?I(q,{create:()=>z}):y.TokenizationRegistry.register(q,E(q,z))}e.setTokensProvider=M;function P(q,z){const ee=$=>new s.MonarchTokenizer(g.StandaloneServices.get(f.ILanguageService),g.StandaloneServices.get(i.IStandaloneThemeService),q,(0,C.compile)(q,$),g.StandaloneServices.get(a.IConfigurationService));return b(z)?I(q,{create:()=>z}):y.TokenizationRegistry.register(q,ee(z))}e.setMonarchTokensProvider=P;function x(q,z){return g.StandaloneServices.get(t.ILanguageFeaturesService).referenceProvider.register(q,z)}e.registerReferenceProvider=x;function T(q,z){return g.StandaloneServices.get(t.ILanguageFeaturesService).renameProvider.register(q,z)}e.registerRenameProvider=T;function A(q,z){return g.StandaloneServices.get(t.ILanguageFeaturesService).signatureHelpProvider.register(q,z)}e.registerSignatureHelpProvider=A;function N(q,z){return g.StandaloneServices.get(t.ILanguageFeaturesService).hoverProvider.register(q,{provideHover:($,re,oe)=>{const ge=$.getWordAtPosition(re);return Promise.resolve(z.provideHover($,re,oe)).then(ve=>{if(ve)return!ve.range&&ge&&(ve.range=new k.Range(re.lineNumber,ge.startColumn,re.lineNumber,ge.endColumn)),ve.range||(ve.range=new k.Range(re.lineNumber,re.column,re.lineNumber,re.column)),ve})}})}e.registerHoverProvider=N;function F(q,z){return g.StandaloneServices.get(t.ILanguageFeaturesService).documentSymbolProvider.register(q,z)}e.registerDocumentSymbolProvider=F;function O(q,z){return g.StandaloneServices.get(t.ILanguageFeaturesService).documentHighlightProvider.register(q,z)}e.registerDocumentHighlightProvider=O;function W(q,z){return g.StandaloneServices.get(t.ILanguageFeaturesService).linkedEditingRangeProvider.register(q,z)}e.registerLinkedEditingRangeProvider=W;function U(q,z){return g.StandaloneServices.get(t.ILanguageFeaturesService).definitionProvider.register(q,z)}e.registerDefinitionProvider=U;function j(q,z){return g.StandaloneServices.get(t.ILanguageFeaturesService).implementationProvider.register(q,z)}e.registerImplementationProvider=j;function R(q,z){return g.StandaloneServices.get(t.ILanguageFeaturesService).typeDefinitionProvider.register(q,z)}e.registerTypeDefinitionProvider=R;function K(q,z){return g.StandaloneServices.get(t.ILanguageFeaturesService).codeLensProvider.register(q,z)}e.registerCodeLensProvider=K;function G(q,z,ee){return g.StandaloneServices.get(t.ILanguageFeaturesService).codeActionProvider.register(q,{providedCodeActionKinds:ee?.providedCodeActionKinds,documentation:ee?.documentation,provideCodeActions:(re,oe,ge,ve)=>{const Le=g.StandaloneServices.get(n.IMarkerService).read({resource:re.uri}).filter(De=>k.Range.areIntersectingOrTouching(De,oe));return z.provideCodeActions(re,oe,{markers:Le,only:ge.only,trigger:ge.trigger},ve)},resolveCodeAction:z.resolveCodeAction})}e.registerCodeActionProvider=G;function Z(q,z){return g.StandaloneServices.get(t.ILanguageFeaturesService).documentFormattingEditProvider.register(q,z)}e.registerDocumentFormattingEditProvider=Z;function J(q,z){return g.StandaloneServices.get(t.ILanguageFeaturesService).documentRangeFormattingEditProvider.register(q,z)}e.registerDocumentRangeFormattingEditProvider=J;function X(q,z){return g.StandaloneServices.get(t.ILanguageFeaturesService).onTypeFormattingEditProvider.register(q,z)}e.registerOnTypeFormattingEditProvider=X;function H(q,z){return g.StandaloneServices.get(t.ILanguageFeaturesService).linkProvider.register(q,z)}e.registerLinkProvider=H;function B(q,z){return g.StandaloneServices.get(t.ILanguageFeaturesService).completionProvider.register(q,z)}e.registerCompletionItemProvider=B;function V(q,z){return g.StandaloneServices.get(t.ILanguageFeaturesService).colorProvider.register(q,z)}e.registerColorProvider=V;function Y(q,z){return g.StandaloneServices.get(t.ILanguageFeaturesService).foldingRangeProvider.register(q,z)}e.registerFoldingRangeProvider=Y;function ie(q,z){return g.StandaloneServices.get(t.ILanguageFeaturesService).declarationProvider.register(q,z)}e.registerDeclarationProvider=ie;function ae(q,z){return g.StandaloneServices.get(t.ILanguageFeaturesService).selectionRangeProvider.register(q,z)}e.registerSelectionRangeProvider=ae;function ce(q,z){return g.StandaloneServices.get(t.ILanguageFeaturesService).documentSemanticTokensProvider.register(q,z)}e.registerDocumentSemanticTokensProvider=ce;function de(q,z){return g.StandaloneServices.get(t.ILanguageFeaturesService).documentRangeSemanticTokensProvider.register(q,z)}e.registerDocumentRangeSemanticTokensProvider=de;function he(q,z){return g.StandaloneServices.get(t.ILanguageFeaturesService).inlineCompletionsProvider.register(q,z)}e.registerInlineCompletionsProvider=he;function ue(q,z){return g.StandaloneServices.get(t.ILanguageFeaturesService).inlayHintsProvider.register(q,z)}e.registerInlayHintsProvider=ue;function te(){return{register:u,getLanguages:h,onLanguage:c,onLanguageEncountered:o,getEncodedLanguageId:r,setLanguageConfiguration:d,setColorMap:w,registerTokensProviderFactory:I,setTokensProvider:M,setMonarchTokensProvider:P,registerReferenceProvider:x,registerRenameProvider:T,registerCompletionItemProvider:B,registerSignatureHelpProvider:A,registerHoverProvider:N,registerDocumentSymbolProvider:F,registerDocumentHighlightProvider:O,registerLinkedEditingRangeProvider:W,registerDefinitionProvider:U,registerImplementationProvider:j,registerTypeDefinitionProvider:R,registerCodeLensProvider:K,registerCodeActionProvider:G,registerDocumentFormattingEditProvider:Z,registerDocumentRangeFormattingEditProvider:J,registerOnTypeFormattingEditProvider:X,registerLinkProvider:H,registerColorProvider:V,registerFoldingRangeProvider:Y,registerDeclarationProvider:ie,registerSelectionRangeProvider:ae,registerDocumentSemanticTokensProvider:ce,registerDocumentRangeSemanticTokensProvider:de,registerInlineCompletionsProvider:he,registerInlayHintsProvider:ue,DocumentHighlightKind:_.DocumentHighlightKind,CompletionItemKind:_.CompletionItemKind,CompletionItemTag:_.CompletionItemTag,CompletionItemInsertTextRule:_.CompletionItemInsertTextRule,SymbolKind:_.SymbolKind,SymbolTag:_.SymbolTag,IndentAction:_.IndentAction,CompletionTriggerKind:_.CompletionTriggerKind,SignatureHelpTriggerKind:_.SignatureHelpTriggerKind,InlayHintKind:_.InlayHintKind,InlineCompletionTriggerKind:_.InlineCompletionTriggerKind,CodeActionTriggerType:_.CodeActionTriggerType,FoldingRangeKind:y.FoldingRangeKind,SelectedSuggestionInfo:y.SelectedSuggestionInfo}}e.createMonacoLanguagesAPI=te}),define(ne[924],se([1,0,36,327,922,923,351]),function(Q,e,L,k,y,D,S){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.languages=e.editor=e.Token=e.Uri=e.MarkerTag=e.MarkerSeverity=e.SelectionDirection=e.Selection=e.Range=e.Position=e.KeyMod=e.KeyCode=e.Emitter=e.CancellationTokenSource=void 0,L.EditorOptions.wrappingIndent.defaultValue=0,L.EditorOptions.glyphMargin.defaultValue=!1,L.EditorOptions.autoIndent.defaultValue=3,L.EditorOptions.overviewRulerLanes.defaultValue=2,S.FormattingConflicts.setFormatterSelector((g,C,s)=>Promise.resolve(g[0]));const f=(0,k.createMonacoBaseAPI)();f.editor=(0,y.createMonacoEditorAPI)(),f.languages=(0,D.createMonacoLanguagesAPI)(),e.CancellationTokenSource=f.CancellationTokenSource,e.Emitter=f.Emitter,e.KeyCode=f.KeyCode,e.KeyMod=f.KeyMod,e.Position=f.Position,e.Range=f.Range,e.Selection=f.Selection,e.SelectionDirection=f.SelectionDirection,e.MarkerSeverity=f.MarkerSeverity,e.MarkerTag=f.MarkerTag,e.Uri=f.Uri,e.Token=f.Token,e.editor=f.editor,e.languages=f.languages;const _=globalThis.MonacoEnvironment;(_?.globalAPI||typeof define=="function"&&define.amd)&&(globalThis.monaco=f),typeof globalThis.require<"u"&&typeof globalThis.require.config=="function"&&globalThis.require.config({ignoreDuplicateModules:["vscode-languageserver-types","vscode-languageserver-types/main","vscode-languageserver-textdocument","vscode-languageserver-textdocument/main","vscode-nls","vscode-nls/vscode-nls","jsonc-parser","jsonc-parser/main","vscode-uri","vscode-uri/index","vs/basic-languages/typescript/typescript"]})});var Ci=this&&this.__createBinding||(Object.create?function(Q,e,L,k){k===void 0&&(k=L);var y=Object.getOwnPropertyDescriptor(e,L);(!y||("get"in y?!e.__esModule:y.writable||y.configurable))&&(y={enumerable:!0,get:function(){return e[L]}}),Object.defineProperty(Q,k,y)}:function(Q,e,L,k){k===void 0&&(k=L),Q[k]=e[L]}),bi=this&&this.__exportStar||function(Q,e){for(var L in Q)L!=="default"&&!Object.prototype.hasOwnProperty.call(e,L)&&Ci(e,Q,L)};define(ne[926],se([1,0,924,920,815,816,787,862,863,820,907,865]),function(Q,e,L){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),bi(L,e)})}).call(this);


"use strict";/*!-----------------------------------------------------------------------------
 * Copyright (c) Microsoft Corporation. All rights reserved.
 * Version: 0.43.0(94c055bcbdd49f04a0fa15515e848542a79fb948)
 * Released under the MIT license
 * https://github.com/microsoft/monaco-editor/blob/main/LICENSE.txt
 *-----------------------------------------------------------------------------*/
define("vs/basic-languages/monaco.contribution", ["require","require","vs/editor/editor.api"],(require)=>{
var moduleExports=(()=>{var y=Object.create;var g=Object.defineProperty;var x=Object.getOwnPropertyDescriptor;var q=Object.getOwnPropertyNames;var A=Object.getPrototypeOf,M=Object.prototype.hasOwnProperty;var a=(e=>typeof require!="undefined"?require:typeof Proxy!="undefined"?new Proxy(e,{get:(r,s)=>(typeof require!="undefined"?require:r)[s]}):e)(function(e){if(typeof require!="undefined")return require.apply(this,arguments);throw new Error('Dynamic require of "'+e+'" is not supported')});var D=(e,r)=>()=>(r||e((r={exports:{}}).exports,r),r.exports);var m=(e,r,s,n)=>{if(r&&typeof r=="object"||typeof r=="function")for(let o of q(r))!M.call(e,o)&&o!==s&&g(e,o,{get:()=>r[o],enumerable:!(n=x(r,o))||n.enumerable});return e},p=(e,r,s)=>(m(e,r,"default"),s&&m(s,r,"default")),c=(e,r,s)=>(s=e!=null?y(A(e)):{},m(r||!e||!e.__esModule?g(s,"default",{value:e,enumerable:!0}):s,e));var v=D((w,d)=>{var b=c(a("vs/editor/editor.api"));d.exports=b});var t={};p(t,c(v()));var f={},u={},l=class{static getOrCreate(r){return u[r]||(u[r]=new l(r)),u[r]}_languageId;_loadingTriggered;_lazyLoadPromise;_lazyLoadPromiseResolve;_lazyLoadPromiseReject;constructor(r){this._languageId=r,this._loadingTriggered=!1,this._lazyLoadPromise=new Promise((s,n)=>{this._lazyLoadPromiseResolve=s,this._lazyLoadPromiseReject=n})}load(){return this._loadingTriggered||(this._loadingTriggered=!0,f[this._languageId].loader().then(r=>this._lazyLoadPromiseResolve(r),r=>this._lazyLoadPromiseReject(r))),this._lazyLoadPromise}};function i(e){let r=e.id;f[r]=e,t.languages.register(e);let s=l.getOrCreate(r);t.languages.registerTokensProviderFactory(r,{create:async()=>(await s.load()).language}),t.languages.onLanguageEncountered(r,async()=>{let n=await s.load();t.languages.setLanguageConfiguration(r,n.conf)})}i({id:"abap",extensions:[".abap"],aliases:["abap","ABAP"],loader:()=>new Promise((e,r)=>{a(["vs/basic-languages/abap/abap"],e,r)})});i({id:"apex",extensions:[".cls"],aliases:["Apex","apex"],mimetypes:["text/x-apex-source","text/x-apex"],loader:()=>new Promise((e,r)=>{a(["vs/basic-languages/apex/apex"],e,r)})});i({id:"azcli",extensions:[".azcli"],aliases:["Azure CLI","azcli"],loader:()=>new Promise((e,r)=>{a(["vs/basic-languages/azcli/azcli"],e,r)})});i({id:"bat",extensions:[".bat",".cmd"],aliases:["Batch","bat"],loader:()=>new Promise((e,r)=>{a(["vs/basic-languages/bat/bat"],e,r)})});i({id:"bicep",extensions:[".bicep"],aliases:["Bicep"],loader:()=>new Promise((e,r)=>{a(["vs/basic-languages/bicep/bicep"],e,r)})});i({id:"cameligo",extensions:[".mligo"],aliases:["Cameligo"],loader:()=>new Promise((e,r)=>{a(["vs/basic-languages/cameligo/cameligo"],e,r)})});i({id:"clojure",extensions:[".clj",".cljs",".cljc",".edn"],aliases:["clojure","Clojure"],loader:()=>new Promise((e,r)=>{a(["vs/basic-languages/clojure/clojure"],e,r)})});i({id:"coffeescript",extensions:[".coffee"],aliases:["CoffeeScript","coffeescript","coffee"],mimetypes:["text/x-coffeescript","text/coffeescript"],loader:()=>new Promise((e,r)=>{a(["vs/basic-languages/coffee/coffee"],e,r)})});i({id:"c",extensions:[".c",".h"],aliases:["C","c"],loader:()=>new Promise((e,r)=>{a(["vs/basic-languages/cpp/cpp"],e,r)})});i({id:"cpp",extensions:[".cpp",".cc",".cxx",".hpp",".hh",".hxx"],aliases:["C++","Cpp","cpp"],loader:()=>new Promise((e,r)=>{a(["vs/basic-languages/cpp/cpp"],e,r)})});i({id:"csharp",extensions:[".cs",".csx",".cake"],aliases:["C#","csharp"],loader:()=>new Promise((e,r)=>{a(["vs/basic-languages/csharp/csharp"],e,r)})});i({id:"csp",extensions:[],aliases:["CSP","csp"],loader:()=>new Promise((e,r)=>{a(["vs/basic-languages/csp/csp"],e,r)})});i({id:"css",extensions:[".css"],aliases:["CSS","css"],mimetypes:["text/css"],loader:()=>new Promise((e,r)=>{a(["vs/basic-languages/css/css"],e,r)})});i({id:"cypher",extensions:[".cypher",".cyp"],aliases:["Cypher","OpenCypher"],loader:()=>new Promise((e,r)=>{a(["vs/basic-languages/cypher/cypher"],e,r)})});i({id:"dart",extensions:[".dart"],aliases:["Dart","dart"],mimetypes:["text/x-dart-source","text/x-dart"],loader:()=>new Promise((e,r)=>{a(["vs/basic-languages/dart/dart"],e,r)})});i({id:"dockerfile",extensions:[".dockerfile"],filenames:["Dockerfile"],aliases:["Dockerfile"],loader:()=>new Promise((e,r)=>{a(["vs/basic-languages/dockerfile/dockerfile"],e,r)})});i({id:"ecl",extensions:[".ecl"],aliases:["ECL","Ecl","ecl"],loader:()=>new Promise((e,r)=>{a(["vs/basic-languages/ecl/ecl"],e,r)})});i({id:"elixir",extensions:[".ex",".exs"],aliases:["Elixir","elixir","ex"],loader:()=>new Promise((e,r)=>{a(["vs/basic-languages/elixir/elixir"],e,r)})});i({id:"flow9",extensions:[".flow"],aliases:["Flow9","Flow","flow9","flow"],loader:()=>new Promise((e,r)=>{a(["vs/basic-languages/flow9/flow9"],e,r)})});i({id:"fsharp",extensions:[".fs",".fsi",".ml",".mli",".fsx",".fsscript"],aliases:["F#","FSharp","fsharp"],loader:()=>new Promise((e,r)=>{a(["vs/basic-languages/fsharp/fsharp"],e,r)})});i({id:"freemarker2",extensions:[".ftl",".ftlh",".ftlx"],aliases:["FreeMarker2","Apache FreeMarker2"],loader:()=>new Promise((e,r)=>{a(["vs/basic-languages/freemarker2/freemarker2"],e,r)}).then(e=>e.TagAngleInterpolationDollar)});i({id:"freemarker2.tag-angle.interpolation-dollar",aliases:["FreeMarker2 (Angle/Dollar)","Apache FreeMarker2 (Angle/Dollar)"],loader:()=>new Promise((e,r)=>{a(["vs/basic-languages/freemarker2/freemarker2"],e,r)}).then(e=>e.TagAngleInterpolationDollar)});i({id:"freemarker2.tag-bracket.interpolation-dollar",aliases:["FreeMarker2 (Bracket/Dollar)","Apache FreeMarker2 (Bracket/Dollar)"],loader:()=>new Promise((e,r)=>{a(["vs/basic-languages/freemarker2/freemarker2"],e,r)}).then(e=>e.TagBracketInterpolationDollar)});i({id:"freemarker2.tag-angle.interpolation-bracket",aliases:["FreeMarker2 (Angle/Bracket)","Apache FreeMarker2 (Angle/Bracket)"],loader:()=>new Promise((e,r)=>{a(["vs/basic-languages/freemarker2/freemarker2"],e,r)}).then(e=>e.TagAngleInterpolationBracket)});i({id:"freemarker2.tag-bracket.interpolation-bracket",aliases:["FreeMarker2 (Bracket/Bracket)","Apache FreeMarker2 (Bracket/Bracket)"],loader:()=>new Promise((e,r)=>{a(["vs/basic-languages/freemarker2/freemarker2"],e,r)}).then(e=>e.TagBracketInterpolationBracket)});i({id:"freemarker2.tag-auto.interpolation-dollar",aliases:["FreeMarker2 (Auto/Dollar)","Apache FreeMarker2 (Auto/Dollar)"],loader:()=>new Promise((e,r)=>{a(["vs/basic-languages/freemarker2/freemarker2"],e,r)}).then(e=>e.TagAutoInterpolationDollar)});i({id:"freemarker2.tag-auto.interpolation-bracket",aliases:["FreeMarker2 (Auto/Bracket)","Apache FreeMarker2 (Auto/Bracket)"],loader:()=>new Promise((e,r)=>{a(["vs/basic-languages/freemarker2/freemarker2"],e,r)}).then(e=>e.TagAutoInterpolationBracket)});i({id:"go",extensions:[".go"],aliases:["Go"],loader:()=>new Promise((e,r)=>{a(["vs/basic-languages/go/go"],e,r)})});i({id:"graphql",extensions:[".graphql",".gql"],aliases:["GraphQL","graphql","gql"],mimetypes:["application/graphql"],loader:()=>new Promise((e,r)=>{a(["vs/basic-languages/graphql/graphql"],e,r)})});i({id:"handlebars",extensions:[".handlebars",".hbs"],aliases:["Handlebars","handlebars","hbs"],mimetypes:["text/x-handlebars-template"],loader:()=>new Promise((e,r)=>{a(["vs/basic-languages/handlebars/handlebars"],e,r)})});i({id:"hcl",extensions:[".tf",".tfvars",".hcl"],aliases:["Terraform","tf","HCL","hcl"],loader:()=>new Promise((e,r)=>{a(["vs/basic-languages/hcl/hcl"],e,r)})});i({id:"html",extensions:[".html",".htm",".shtml",".xhtml",".mdoc",".jsp",".asp",".aspx",".jshtm"],aliases:["HTML","htm","html","xhtml"],mimetypes:["text/html","text/x-jshtm","text/template","text/ng-template"],loader:()=>new Promise((e,r)=>{a(["vs/basic-languages/html/html"],e,r)})});i({id:"ini",extensions:[".ini",".properties",".gitconfig"],filenames:["config",".gitattributes",".gitconfig",".editorconfig"],aliases:["Ini","ini"],loader:()=>new Promise((e,r)=>{a(["vs/basic-languages/ini/ini"],e,r)})});i({id:"java",extensions:[".java",".jav"],aliases:["Java","java"],mimetypes:["text/x-java-source","text/x-java"],loader:()=>new Promise((e,r)=>{a(["vs/basic-languages/java/java"],e,r)})});i({id:"javascript",extensions:[".js",".es6",".jsx",".mjs",".cjs"],firstLine:"^#!.*\\bnode",filenames:["jakefile"],aliases:["JavaScript","javascript","js"],mimetypes:["text/javascript"],loader:()=>new Promise((e,r)=>{a(["vs/basic-languages/javascript/javascript"],e,r)})});i({id:"julia",extensions:[".jl"],aliases:["julia","Julia"],loader:()=>new Promise((e,r)=>{a(["vs/basic-languages/julia/julia"],e,r)})});i({id:"kotlin",extensions:[".kt",".kts"],aliases:["Kotlin","kotlin"],mimetypes:["text/x-kotlin-source","text/x-kotlin"],loader:()=>new Promise((e,r)=>{a(["vs/basic-languages/kotlin/kotlin"],e,r)})});i({id:"less",extensions:[".less"],aliases:["Less","less"],mimetypes:["text/x-less","text/less"],loader:()=>new Promise((e,r)=>{a(["vs/basic-languages/less/less"],e,r)})});i({id:"lexon",extensions:[".lex"],aliases:["Lexon"],loader:()=>new Promise((e,r)=>{a(["vs/basic-languages/lexon/lexon"],e,r)})});i({id:"lua",extensions:[".lua"],aliases:["Lua","lua"],loader:()=>new Promise((e,r)=>{a(["vs/basic-languages/lua/lua"],e,r)})});i({id:"liquid",extensions:[".liquid",".html.liquid"],aliases:["Liquid","liquid"],mimetypes:["application/liquid"],loader:()=>new Promise((e,r)=>{a(["vs/basic-languages/liquid/liquid"],e,r)})});i({id:"m3",extensions:[".m3",".i3",".mg",".ig"],aliases:["Modula-3","Modula3","modula3","m3"],loader:()=>new Promise((e,r)=>{a(["vs/basic-languages/m3/m3"],e,r)})});i({id:"markdown",extensions:[".md",".markdown",".mdown",".mkdn",".mkd",".mdwn",".mdtxt",".mdtext"],aliases:["Markdown","markdown"],loader:()=>new Promise((e,r)=>{a(["vs/basic-languages/markdown/markdown"],e,r)})});i({id:"mdx",extensions:[".mdx"],aliases:["MDX","mdx"],loader:()=>new Promise((e,r)=>{a(["vs/basic-languages/mdx/mdx"],e,r)})});i({id:"mips",extensions:[".s"],aliases:["MIPS","MIPS-V"],mimetypes:["text/x-mips","text/mips","text/plaintext"],loader:()=>new Promise((e,r)=>{a(["vs/basic-languages/mips/mips"],e,r)})});i({id:"msdax",extensions:[".dax",".msdax"],aliases:["DAX","MSDAX"],loader:()=>new Promise((e,r)=>{a(["vs/basic-languages/msdax/msdax"],e,r)})});i({id:"mysql",extensions:[],aliases:["MySQL","mysql"],loader:()=>new Promise((e,r)=>{a(["vs/basic-languages/mysql/mysql"],e,r)})});i({id:"objective-c",extensions:[".m"],aliases:["Objective-C"],loader:()=>new Promise((e,r)=>{a(["vs/basic-languages/objective-c/objective-c"],e,r)})});i({id:"pascal",extensions:[".pas",".p",".pp"],aliases:["Pascal","pas"],mimetypes:["text/x-pascal-source","text/x-pascal"],loader:()=>new Promise((e,r)=>{a(["vs/basic-languages/pascal/pascal"],e,r)})});i({id:"pascaligo",extensions:[".ligo"],aliases:["Pascaligo","ligo"],loader:()=>new Promise((e,r)=>{a(["vs/basic-languages/pascaligo/pascaligo"],e,r)})});i({id:"perl",extensions:[".pl",".pm"],aliases:["Perl","pl"],loader:()=>new Promise((e,r)=>{a(["vs/basic-languages/perl/perl"],e,r)})});i({id:"pgsql",extensions:[],aliases:["PostgreSQL","postgres","pg","postgre"],loader:()=>new Promise((e,r)=>{a(["vs/basic-languages/pgsql/pgsql"],e,r)})});i({id:"php",extensions:[".php",".php4",".php5",".phtml",".ctp"],aliases:["PHP","php"],mimetypes:["application/x-php"],loader:()=>new Promise((e,r)=>{a(["vs/basic-languages/php/php"],e,r)})});i({id:"pla",extensions:[".pla"],loader:()=>new Promise((e,r)=>{a(["vs/basic-languages/pla/pla"],e,r)})});i({id:"postiats",extensions:[".dats",".sats",".hats"],aliases:["ATS","ATS/Postiats"],loader:()=>new Promise((e,r)=>{a(["vs/basic-languages/postiats/postiats"],e,r)})});i({id:"powerquery",extensions:[".pq",".pqm"],aliases:["PQ","M","Power Query","Power Query M"],loader:()=>new Promise((e,r)=>{a(["vs/basic-languages/powerquery/powerquery"],e,r)})});i({id:"powershell",extensions:[".ps1",".psm1",".psd1"],aliases:["PowerShell","powershell","ps","ps1"],loader:()=>new Promise((e,r)=>{a(["vs/basic-languages/powershell/powershell"],e,r)})});i({id:"proto",extensions:[".proto"],aliases:["protobuf","Protocol Buffers"],loader:()=>new Promise((e,r)=>{a(["vs/basic-languages/protobuf/protobuf"],e,r)})});i({id:"pug",extensions:[".jade",".pug"],aliases:["Pug","Jade","jade"],loader:()=>new Promise((e,r)=>{a(["vs/basic-languages/pug/pug"],e,r)})});i({id:"python",extensions:[".py",".rpy",".pyw",".cpy",".gyp",".gypi"],aliases:["Python","py"],firstLine:"^#!/.*\\bpython[0-9.-]*\\b",loader:()=>new Promise((e,r)=>{a(["vs/basic-languages/python/python"],e,r)})});i({id:"qsharp",extensions:[".qs"],aliases:["Q#","qsharp"],loader:()=>new Promise((e,r)=>{a(["vs/basic-languages/qsharp/qsharp"],e,r)})});i({id:"r",extensions:[".r",".rhistory",".rmd",".rprofile",".rt"],aliases:["R","r"],loader:()=>new Promise((e,r)=>{a(["vs/basic-languages/r/r"],e,r)})});i({id:"razor",extensions:[".cshtml"],aliases:["Razor","razor"],mimetypes:["text/x-cshtml"],loader:()=>new Promise((e,r)=>{a(["vs/basic-languages/razor/razor"],e,r)})});i({id:"redis",extensions:[".redis"],aliases:["redis"],loader:()=>new Promise((e,r)=>{a(["vs/basic-languages/redis/redis"],e,r)})});i({id:"redshift",extensions:[],aliases:["Redshift","redshift"],loader:()=>new Promise((e,r)=>{a(["vs/basic-languages/redshift/redshift"],e,r)})});i({id:"restructuredtext",extensions:[".rst"],aliases:["reStructuredText","restructuredtext"],loader:()=>new Promise((e,r)=>{a(["vs/basic-languages/restructuredtext/restructuredtext"],e,r)})});i({id:"ruby",extensions:[".rb",".rbx",".rjs",".gemspec",".pp"],filenames:["rakefile","Gemfile"],aliases:["Ruby","rb"],loader:()=>new Promise((e,r)=>{a(["vs/basic-languages/ruby/ruby"],e,r)})});i({id:"rust",extensions:[".rs",".rlib"],aliases:["Rust","rust"],loader:()=>new Promise((e,r)=>{a(["vs/basic-languages/rust/rust"],e,r)})});i({id:"sb",extensions:[".sb"],aliases:["Small Basic","sb"],loader:()=>new Promise((e,r)=>{a(["vs/basic-languages/sb/sb"],e,r)})});i({id:"scala",extensions:[".scala",".sc",".sbt"],aliases:["Scala","scala","SBT","Sbt","sbt","Dotty","dotty"],mimetypes:["text/x-scala-source","text/x-scala","text/x-sbt","text/x-dotty"],loader:()=>new Promise((e,r)=>{a(["vs/basic-languages/scala/scala"],e,r)})});i({id:"scheme",extensions:[".scm",".ss",".sch",".rkt"],aliases:["scheme","Scheme"],loader:()=>new Promise((e,r)=>{a(["vs/basic-languages/scheme/scheme"],e,r)})});i({id:"scss",extensions:[".scss"],aliases:["Sass","sass","scss"],mimetypes:["text/x-scss","text/scss"],loader:()=>new Promise((e,r)=>{a(["vs/basic-languages/scss/scss"],e,r)})});i({id:"shell",extensions:[".sh",".bash"],aliases:["Shell","sh"],loader:()=>new Promise((e,r)=>{a(["vs/basic-languages/shell/shell"],e,r)})});i({id:"sol",extensions:[".sol"],aliases:["sol","solidity","Solidity"],loader:()=>new Promise((e,r)=>{a(["vs/basic-languages/solidity/solidity"],e,r)})});i({id:"aes",extensions:[".aes"],aliases:["aes","sophia","Sophia"],loader:()=>new Promise((e,r)=>{a(["vs/basic-languages/sophia/sophia"],e,r)})});i({id:"sparql",extensions:[".rq"],aliases:["sparql","SPARQL"],loader:()=>new Promise((e,r)=>{a(["vs/basic-languages/sparql/sparql"],e,r)})});i({id:"sql",extensions:[".sql"],aliases:["SQL"],loader:()=>new Promise((e,r)=>{a(["vs/basic-languages/sql/sql"],e,r)})});i({id:"st",extensions:[".st",".iecst",".iecplc",".lc3lib",".TcPOU",".TcDUT",".TcGVL",".TcIO"],aliases:["StructuredText","scl","stl"],loader:()=>new Promise((e,r)=>{a(["vs/basic-languages/st/st"],e,r)})});i({id:"swift",aliases:["Swift","swift"],extensions:[".swift"],mimetypes:["text/swift"],loader:()=>new Promise((e,r)=>{a(["vs/basic-languages/swift/swift"],e,r)})});i({id:"systemverilog",extensions:[".sv",".svh"],aliases:["SV","sv","SystemVerilog","systemverilog"],loader:()=>new Promise((e,r)=>{a(["vs/basic-languages/systemverilog/systemverilog"],e,r)})});i({id:"verilog",extensions:[".v",".vh"],aliases:["V","v","Verilog","verilog"],loader:()=>new Promise((e,r)=>{a(["vs/basic-languages/systemverilog/systemverilog"],e,r)})});i({id:"tcl",extensions:[".tcl"],aliases:["tcl","Tcl","tcltk","TclTk","tcl/tk","Tcl/Tk"],loader:()=>new Promise((e,r)=>{a(["vs/basic-languages/tcl/tcl"],e,r)})});i({id:"twig",extensions:[".twig"],aliases:["Twig","twig"],mimetypes:["text/x-twig"],loader:()=>new Promise((e,r)=>{a(["vs/basic-languages/twig/twig"],e,r)})});i({id:"typescript",extensions:[".ts",".tsx",".cts",".mts"],aliases:["TypeScript","ts","typescript"],mimetypes:["text/typescript"],loader:()=>new Promise((e,r)=>{a(["vs/basic-languages/typescript/typescript"],e,r)})});i({id:"vb",extensions:[".vb"],aliases:["Visual Basic","vb"],loader:()=>new Promise((e,r)=>{a(["vs/basic-languages/vb/vb"],e,r)})});i({id:"wgsl",extensions:[".wgsl"],aliases:["WebGPU Shading Language","WGSL","wgsl"],loader:()=>new Promise((e,r)=>{a(["vs/basic-languages/wgsl/wgsl"],e,r)})});i({id:"xml",extensions:[".xml",".xsd",".dtd",".ascx",".csproj",".config",".props",".targets",".wxi",".wxl",".wxs",".xaml",".svg",".svgz",".opf",".xslt",".xsl"],firstLine:"(\\<\\?xml.*)|(\\<svg)|(\\<\\!doctype\\s+svg)",aliases:["XML","xml"],mimetypes:["text/xml","application/xml","application/xaml+xml","application/xml-dtd"],loader:()=>new Promise((e,r)=>{a(["vs/basic-languages/xml/xml"],e,r)})});i({id:"yaml",extensions:[".yaml",".yml"],aliases:["YAML","yaml","YML","yml"],mimetypes:["application/x-yaml","text/x-yaml"],loader:()=>new Promise((e,r)=>{a(["vs/basic-languages/yaml/yaml"],e,r)})});})();
return moduleExports;
});

"use strict";/*!-----------------------------------------------------------------------------
 * Copyright (c) Microsoft Corporation. All rights reserved.
 * Version: 0.43.0(94c055bcbdd49f04a0fa15515e848542a79fb948)
 * Released under the MIT license
 * https://github.com/microsoft/monaco-editor/blob/main/LICENSE.txt
 *-----------------------------------------------------------------------------*/
define("vs/language/css/monaco.contribution", ["require","require","vs/editor/editor.api"],(require)=>{
var moduleExports=(()=>{var C=Object.create;var g=Object.defineProperty;var S=Object.getOwnPropertyDescriptor;var b=Object.getOwnPropertyNames;var x=Object.getPrototypeOf,h=Object.prototype.hasOwnProperty;var l=(e=>typeof require!="undefined"?require:typeof Proxy!="undefined"?new Proxy(e,{get:(n,r)=>(typeof require!="undefined"?require:n)[r]}):e)(function(e){if(typeof require!="undefined")return require.apply(this,arguments);throw new Error('Dynamic require of "'+e+'" is not supported')});var I=(e,n)=>()=>(n||e((n={exports:{}}).exports,n),n.exports),M=(e,n)=>{for(var r in n)g(e,r,{get:n[r],enumerable:!0})},s=(e,n,r,a)=>{if(n&&typeof n=="object"||typeof n=="function")for(let t of b(n))!h.call(e,t)&&t!==r&&g(e,t,{get:()=>n[t],enumerable:!(a=S(n,t))||a.enumerable});return e},y=(e,n,r)=>(s(e,n,"default"),r&&s(r,n,"default")),w=(e,n,r)=>(r=e!=null?C(x(e)):{},s(n||!e||!e.__esModule?g(r,"default",{value:e,enumerable:!0}):r,e)),P=e=>s(g({},"__esModule",{value:!0}),e);var v=I((k,D)=>{var O=w(l("vs/editor/editor.api"));D.exports=O});var R={};M(R,{cssDefaults:()=>p,lessDefaults:()=>f,scssDefaults:()=>c});var o={};y(o,w(v()));var i=class{_onDidChange=new o.Emitter;_options;_modeConfiguration;_languageId;constructor(n,r,a){this._languageId=n,this.setOptions(r),this.setModeConfiguration(a)}get onDidChange(){return this._onDidChange.event}get languageId(){return this._languageId}get modeConfiguration(){return this._modeConfiguration}get diagnosticsOptions(){return this.options}get options(){return this._options}setOptions(n){this._options=n||Object.create(null),this._onDidChange.fire(this)}setDiagnosticsOptions(n){this.setOptions(n)}setModeConfiguration(n){this._modeConfiguration=n||Object.create(null),this._onDidChange.fire(this)}},d={validate:!0,lint:{compatibleVendorPrefixes:"ignore",vendorPrefix:"warning",duplicateProperties:"warning",emptyRules:"warning",importStatement:"ignore",boxModel:"ignore",universalSelector:"ignore",zeroUnits:"ignore",fontFaceProperties:"warning",hexColorLength:"error",argumentsInColorFunction:"error",unknownProperties:"warning",ieHack:"ignore",unknownVendorSpecificProperties:"ignore",propertyIgnoredDueToDisplay:"warning",important:"ignore",float:"ignore",idSelector:"ignore"},data:{useDefaultDataProvider:!0},format:{newlineBetweenSelectors:!0,newlineBetweenRules:!0,spaceAroundSelectorSeparator:!1,braceStyle:"collapse",maxPreserveNewLines:void 0,preserveNewLines:!0}},u={completionItems:!0,hovers:!0,documentSymbols:!0,definitions:!0,references:!0,documentHighlights:!0,rename:!0,colors:!0,foldingRanges:!0,diagnostics:!0,selectionRanges:!0,documentFormattingEdits:!0,documentRangeFormattingEdits:!0},p=new i("css",d,u),c=new i("scss",d,u),f=new i("less",d,u);o.languages.css={cssDefaults:p,lessDefaults:f,scssDefaults:c};function m(){return new Promise((e,n)=>{l(["vs/language/css/cssMode"],e,n)})}o.languages.onLanguage("less",()=>{m().then(e=>e.setupMode(f))});o.languages.onLanguage("scss",()=>{m().then(e=>e.setupMode(c))});o.languages.onLanguage("css",()=>{m().then(e=>e.setupMode(p))});return P(R);})();
return moduleExports;
});

"use strict";/*!-----------------------------------------------------------------------------
 * Copyright (c) Microsoft Corporation. All rights reserved.
 * Version: 0.43.0(94c055bcbdd49f04a0fa15515e848542a79fb948)
 * Released under the MIT license
 * https://github.com/microsoft/monaco-editor/blob/main/LICENSE.txt
 *-----------------------------------------------------------------------------*/
define("vs/language/html/monaco.contribution", ["require","require","vs/editor/editor.api"],(require)=>{
var moduleExports=(()=>{var w=Object.create;var l=Object.defineProperty;var R=Object.getOwnPropertyDescriptor;var H=Object.getOwnPropertyNames;var O=Object.getPrototypeOf,_=Object.prototype.hasOwnProperty;var f=(e=>typeof require!="undefined"?require:typeof Proxy!="undefined"?new Proxy(e,{get:(n,t)=>(typeof require!="undefined"?require:n)[t]}):e)(function(e){if(typeof require!="undefined")return require.apply(this,arguments);throw new Error('Dynamic require of "'+e+'" is not supported')});var k=(e,n)=>()=>(n||e((n={exports:{}}).exports,n),n.exports),T=(e,n)=>{for(var t in n)l(e,t,{get:n[t],enumerable:!0})},d=(e,n,t,r)=>{if(n&&typeof n=="object"||typeof n=="function")for(let o of H(n))!_.call(e,o)&&o!==t&&l(e,o,{get:()=>n[o],enumerable:!(r=R(n,o))||r.enumerable});return e},b=(e,n,t)=>(d(e,n,"default"),t&&d(t,n,"default")),v=(e,n,t)=>(t=e!=null?w(O(e)):{},d(n||!e||!e.__esModule?l(t,"default",{value:e,enumerable:!0}):t,e)),A=e=>d(l({},"__esModule",{value:!0}),e);var C=k((z,h)=>{var E=v(f("vs/editor/editor.api"));h.exports=E});var V={};T(V,{handlebarDefaults:()=>M,handlebarLanguageService:()=>m,htmlDefaults:()=>x,htmlLanguageService:()=>c,razorDefaults:()=>I,razorLanguageService:()=>y,registerHTMLLanguageService:()=>s});var a={};b(a,v(C()));var p=class{_onDidChange=new a.Emitter;_options;_modeConfiguration;_languageId;constructor(n,t,r){this._languageId=n,this.setOptions(t),this.setModeConfiguration(r)}get onDidChange(){return this._onDidChange.event}get languageId(){return this._languageId}get options(){return this._options}get modeConfiguration(){return this._modeConfiguration}setOptions(n){this._options=n||Object.create(null),this._onDidChange.fire(this)}setModeConfiguration(n){this._modeConfiguration=n||Object.create(null),this._onDidChange.fire(this)}},F={tabSize:4,insertSpaces:!1,wrapLineLength:120,unformatted:'default": "a, abbr, acronym, b, bdo, big, br, button, cite, code, dfn, em, i, img, input, kbd, label, map, object, q, samp, select, small, span, strong, sub, sup, textarea, tt, var',contentUnformatted:"pre",indentInnerHtml:!1,preserveNewLines:!0,maxPreserveNewLines:void 0,indentHandlebars:!1,endWithNewline:!1,extraLiners:"head, body, /html",wrapAttributes:"auto"},u={format:F,suggest:{},data:{useDefaultDataProvider:!0}};function g(e){return{completionItems:!0,hovers:!0,documentSymbols:!0,links:!0,documentHighlights:!0,rename:!0,colors:!0,foldingRanges:!0,selectionRanges:!0,diagnostics:e===i,documentFormattingEdits:e===i,documentRangeFormattingEdits:e===i}}var i="html",D="handlebars",L="razor",c=s(i,u,g(i)),x=c.defaults,m=s(D,u,g(D)),M=m.defaults,y=s(L,u,g(L)),I=y.defaults;a.languages.html={htmlDefaults:x,razorDefaults:I,handlebarDefaults:M,htmlLanguageService:c,handlebarLanguageService:m,razorLanguageService:y,registerHTMLLanguageService:s};function P(){return new Promise((e,n)=>{f(["vs/language/html/htmlMode"],e,n)})}function s(e,n=u,t=g(e)){let r=new p(e,n,t),o,S=a.languages.onLanguage(e,async()=>{o=(await P()).setupMode(r)});return{defaults:r,dispose(){S.dispose(),o?.dispose(),o=void 0}}}return A(V);})();
return moduleExports;
});

"use strict";/*!-----------------------------------------------------------------------------
 * Copyright (c) Microsoft Corporation. All rights reserved.
 * Version: 0.43.0(94c055bcbdd49f04a0fa15515e848542a79fb948)
 * Released under the MIT license
 * https://github.com/microsoft/monaco-editor/blob/main/LICENSE.txt
 *-----------------------------------------------------------------------------*/
define("vs/language/json/monaco.contribution", ["require","require","vs/editor/editor.api"],(require)=>{
var moduleExports=(()=>{var p=Object.create;var r=Object.defineProperty;var y=Object.getOwnPropertyDescriptor;var h=Object.getOwnPropertyNames;var v=Object.getPrototypeOf,C=Object.prototype.hasOwnProperty;var g=(o=>typeof require!="undefined"?require:typeof Proxy!="undefined"?new Proxy(o,{get:(e,n)=>(typeof require!="undefined"?require:e)[n]}):o)(function(o){if(typeof require!="undefined")return require.apply(this,arguments);throw new Error('Dynamic require of "'+o+'" is not supported')});var D=(o,e)=>()=>(e||o((e={exports:{}}).exports,e),e.exports),b=(o,e)=>{for(var n in e)r(o,n,{get:e[n],enumerable:!0})},s=(o,e,n,a)=>{if(e&&typeof e=="object"||typeof e=="function")for(let i of h(e))!C.call(o,i)&&i!==n&&r(o,i,{get:()=>e[i],enumerable:!(a=y(e,i))||a.enumerable});return o},u=(o,e,n)=>(s(o,e,"default"),n&&s(n,e,"default")),c=(o,e,n)=>(n=o!=null?p(v(o)):{},s(e||!o||!o.__esModule?r(n,"default",{value:o,enumerable:!0}):n,o)),O=o=>s(r({},"__esModule",{value:!0}),o);var f=D((w,m)=>{var M=c(g("vs/editor/editor.api"));m.exports=M});var R={};b(R,{jsonDefaults:()=>d});var t={};u(t,c(f()));var l=class{_onDidChange=new t.Emitter;_diagnosticsOptions;_modeConfiguration;_languageId;constructor(e,n,a){this._languageId=e,this.setDiagnosticsOptions(n),this.setModeConfiguration(a)}get onDidChange(){return this._onDidChange.event}get languageId(){return this._languageId}get modeConfiguration(){return this._modeConfiguration}get diagnosticsOptions(){return this._diagnosticsOptions}setDiagnosticsOptions(e){this._diagnosticsOptions=e||Object.create(null),this._onDidChange.fire(this)}setModeConfiguration(e){this._modeConfiguration=e||Object.create(null),this._onDidChange.fire(this)}},j={validate:!0,allowComments:!0,schemas:[],enableSchemaRequest:!1,schemaRequest:"warning",schemaValidation:"warning",comments:"error",trailingCommas:"error"},S={documentFormattingEdits:!0,documentRangeFormattingEdits:!0,completionItems:!0,hovers:!0,documentSymbols:!0,tokens:!0,colors:!0,foldingRanges:!0,diagnostics:!0,selectionRanges:!0},d=new l("json",j,S);t.languages.json={jsonDefaults:d};function _(){return new Promise((o,e)=>{g(["vs/language/json/jsonMode"],o,e)})}t.languages.register({id:"json",extensions:[".json",".bowerrc",".jshintrc",".jscsrc",".eslintrc",".babelrc",".har"],aliases:["JSON","json"],mimetypes:["application/json"]});t.languages.onLanguage("json",()=>{_().then(o=>o.setupMode(d))});return O(R);})();
return moduleExports;
});

"use strict";/*!-----------------------------------------------------------------------------
 * Copyright (c) Microsoft Corporation. All rights reserved.
 * Version: 0.43.0(94c055bcbdd49f04a0fa15515e848542a79fb948)
 * Released under the MIT license
 * https://github.com/microsoft/monaco-editor/blob/main/LICENSE.txt
 *-----------------------------------------------------------------------------*/
define("vs/language/typescript/monaco.contribution", ["require","require","vs/editor/editor.api"],(require)=>{
var moduleExports=(()=>{var N=Object.create;var d=Object.defineProperty;var H=Object.getOwnPropertyDescriptor;var M=Object.getOwnPropertyNames;var R=Object.getPrototypeOf,F=Object.prototype.hasOwnProperty;var c=(n=>typeof require!="undefined"?require:typeof Proxy!="undefined"?new Proxy(n,{get:(e,t)=>(typeof require!="undefined"?require:e)[t]}):n)(function(n){if(typeof require!="undefined")return require.apply(this,arguments);throw new Error('Dynamic require of "'+n+'" is not supported')});var w=(n,e)=>()=>(e||n((e={exports:{}}).exports,e),e.exports),A=(n,e)=>{for(var t in e)d(n,t,{get:e[t],enumerable:!0})},g=(n,e,t,i)=>{if(e&&typeof e=="object"||typeof e=="function")for(let r of M(e))!F.call(n,r)&&r!==t&&d(n,r,{get:()=>e[r],enumerable:!(i=H(e,r))||i.enumerable});return n},D=(n,e,t)=>(g(n,e,"default"),t&&g(t,e,"default")),C=(n,e,t)=>(t=n!=null?N(R(n)):{},g(e||!n||!n.__esModule?d(t,"default",{value:n,enumerable:!0}):t,n)),W=n=>g(d({},"__esModule",{value:!0}),n);var _=w((B,E)=>{var V=C(c("vs/editor/editor.api"));E.exports=V});var T={};A(T,{JsxEmit:()=>f,ModuleKind:()=>b,ModuleResolutionKind:()=>O,NewLineKind:()=>y,ScriptTarget:()=>h,getJavaScriptWorker:()=>k,getTypeScriptWorker:()=>P,javascriptDefaults:()=>v,typescriptDefaults:()=>x,typescriptVersion:()=>I});var L="5.0.2";var l={};D(l,C(_()));var b=(s=>(s[s.None=0]="None",s[s.CommonJS=1]="CommonJS",s[s.AMD=2]="AMD",s[s.UMD=3]="UMD",s[s.System=4]="System",s[s.ES2015=5]="ES2015",s[s.ESNext=99]="ESNext",s))(b||{}),f=(a=>(a[a.None=0]="None",a[a.Preserve=1]="Preserve",a[a.React=2]="React",a[a.ReactNative=3]="ReactNative",a[a.ReactJSX=4]="ReactJSX",a[a.ReactJSXDev=5]="ReactJSXDev",a))(f||{}),y=(t=>(t[t.CarriageReturnLineFeed=0]="CarriageReturnLineFeed",t[t.LineFeed=1]="LineFeed",t))(y||{}),h=(o=>(o[o.ES3=0]="ES3",o[o.ES5=1]="ES5",o[o.ES2015=2]="ES2015",o[o.ES2016=3]="ES2016",o[o.ES2017=4]="ES2017",o[o.ES2018=5]="ES2018",o[o.ES2019=6]="ES2019",o[o.ES2020=7]="ES2020",o[o.ESNext=99]="ESNext",o[o.JSON=100]="JSON",o[o.Latest=99]="Latest",o))(h||{}),O=(t=>(t[t.Classic=1]="Classic",t[t.NodeJs=2]="NodeJs",t))(O||{}),m=class{_onDidChange=new l.Emitter;_onDidExtraLibsChange=new l.Emitter;_extraLibs;_removedExtraLibs;_eagerModelSync;_compilerOptions;_diagnosticsOptions;_workerOptions;_onDidExtraLibsChangeTimeout;_inlayHintsOptions;_modeConfiguration;constructor(e,t,i,r,p){this._extraLibs=Object.create(null),this._removedExtraLibs=Object.create(null),this._eagerModelSync=!1,this.setCompilerOptions(e),this.setDiagnosticsOptions(t),this.setWorkerOptions(i),this.setInlayHintsOptions(r),this.setModeConfiguration(p),this._onDidExtraLibsChangeTimeout=-1}get onDidChange(){return this._onDidChange.event}get onDidExtraLibsChange(){return this._onDidExtraLibsChange.event}get modeConfiguration(){return this._modeConfiguration}get workerOptions(){return this._workerOptions}get inlayHintsOptions(){return this._inlayHintsOptions}getExtraLibs(){return this._extraLibs}addExtraLib(e,t){let i;if(typeof t>"u"?i=`ts:extralib-${Math.random().toString(36).substring(2,15)}`:i=t,this._extraLibs[i]&&this._extraLibs[i].content===e)return{dispose:()=>{}};let r=1;return this._removedExtraLibs[i]&&(r=this._removedExtraLibs[i]+1),this._extraLibs[i]&&(r=this._extraLibs[i].version+1),this._extraLibs[i]={content:e,version:r},this._fireOnDidExtraLibsChangeSoon(),{dispose:()=>{let p=this._extraLibs[i];!p||p.version===r&&(delete this._extraLibs[i],this._removedExtraLibs[i]=r,this._fireOnDidExtraLibsChangeSoon())}}}setExtraLibs(e){for(let t in this._extraLibs)this._removedExtraLibs[t]=this._extraLibs[t].version;if(this._extraLibs=Object.create(null),e&&e.length>0)for(let t of e){let i=t.filePath||`ts:extralib-${Math.random().toString(36).substring(2,15)}`,r=t.content,p=1;this._removedExtraLibs[i]&&(p=this._removedExtraLibs[i]+1),this._extraLibs[i]={content:r,version:p}}this._fireOnDidExtraLibsChangeSoon()}_fireOnDidExtraLibsChangeSoon(){this._onDidExtraLibsChangeTimeout===-1&&(this._onDidExtraLibsChangeTimeout=window.setTimeout(()=>{this._onDidExtraLibsChangeTimeout=-1,this._onDidExtraLibsChange.fire(void 0)},0))}getCompilerOptions(){return this._compilerOptions}setCompilerOptions(e){this._compilerOptions=e||Object.create(null),this._onDidChange.fire(void 0)}getDiagnosticsOptions(){return this._diagnosticsOptions}setDiagnosticsOptions(e){this._diagnosticsOptions=e||Object.create(null),this._onDidChange.fire(void 0)}setWorkerOptions(e){this._workerOptions=e||Object.create(null),this._onDidChange.fire(void 0)}setInlayHintsOptions(e){this._inlayHintsOptions=e||Object.create(null),this._onDidChange.fire(void 0)}setMaximumWorkerIdleTime(e){}setEagerModelSync(e){this._eagerModelSync=e}getEagerModelSync(){return this._eagerModelSync}setModeConfiguration(e){this._modeConfiguration=e||Object.create(null),this._onDidChange.fire(void 0)}},I=L,S={completionItems:!0,hovers:!0,documentSymbols:!0,definitions:!0,references:!0,documentHighlights:!0,rename:!0,diagnostics:!0,documentRangeFormattingEdits:!0,signatureHelp:!0,onTypeFormattingEdits:!0,codeActions:!0,inlayHints:!0},x=new m({allowNonTsExtensions:!0,target:99},{noSemanticValidation:!1,noSyntaxValidation:!1,onlyVisible:!1},{},{},S),v=new m({allowNonTsExtensions:!0,allowJs:!0,target:99},{noSemanticValidation:!0,noSyntaxValidation:!1,onlyVisible:!1},{},{},S),P=()=>u().then(n=>n.getTypeScriptWorker()),k=()=>u().then(n=>n.getJavaScriptWorker());l.languages.typescript={ModuleKind:b,JsxEmit:f,NewLineKind:y,ScriptTarget:h,ModuleResolutionKind:O,typescriptVersion:I,typescriptDefaults:x,javascriptDefaults:v,getTypeScriptWorker:P,getJavaScriptWorker:k};function u(){return new Promise((n,e)=>{c(["vs/language/typescript/tsMode"],n,e)})}l.languages.onLanguage("typescript",()=>u().then(n=>n.setupTypeScript(x)));l.languages.onLanguage("javascript",()=>u().then(n=>n.setupJavaScript(v)));return W(T);})();
return moduleExports;
});

define("vs/editor/editor.main", ["vs/editor/edcore.main","vs/basic-languages/monaco.contribution","vs/language/css/monaco.contribution","vs/language/html/monaco.contribution","vs/language/json/monaco.contribution","vs/language/typescript/monaco.contribution"], function(api) { return api; });
//# sourceMappingURL=../../../min-maps/vs/editor/editor.main.js.map